var pK=Object.defineProperty;var rA=e=>{throw TypeError(e)};var mK=(e,t,r)=>t in e?pK(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nA=(e,t,r)=>mK(e,typeof t!="symbol"?t+"":t,r),Hw=(e,t,r)=>t.has(e)||rA("Cannot "+r);var ne=(e,t,r)=>(Hw(e,t,"read from private field"),r?r.call(e):t.get(e)),ut=(e,t,r)=>t.has(e)?rA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ge=(e,t,r,n)=>(Hw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),yn=(e,t,r)=>(Hw(e,t,"access private method"),r);var Lg=(e,t,r,n)=>({set _(a){Ge(e,t,a,r)},get _(){return ne(e,t,n)}});function gK(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sF={exports:{}},Rb={},oF={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=Symbol.for("react.element"),vK=Symbol.for("react.portal"),yK=Symbol.for("react.fragment"),xK=Symbol.for("react.strict_mode"),bK=Symbol.for("react.profiler"),wK=Symbol.for("react.provider"),_K=Symbol.for("react.context"),jK=Symbol.for("react.forward_ref"),SK=Symbol.for("react.suspense"),NK=Symbol.for("react.memo"),kK=Symbol.for("react.lazy"),aA=Symbol.iterator;function CK(e){return e===null||typeof e!="object"?null:(e=aA&&e[aA]||e["@@iterator"],typeof e=="function"?e:null)}var lF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cF=Object.assign,uF={};function Kf(e,t,r){this.props=e,this.context=t,this.refs=uF,this.updater=r||lF}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dF(){}dF.prototype=Kf.prototype;function rC(e,t,r){this.props=e,this.context=t,this.refs=uF,this.updater=r||lF}var nC=rC.prototype=new dF;nC.constructor=rC;cF(nC,Kf.prototype);nC.isPureReactComponent=!0;var iA=Array.isArray,fF=Object.prototype.hasOwnProperty,aC={current:null},hF={key:!0,ref:!0,__self:!0,__source:!0};function pF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)fF.call(t,n)&&!hF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:rg,type:e,key:i,ref:s,props:a,_owner:aC.current}}function EK(e,t){return{$$typeof:rg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function iC(e){return typeof e=="object"&&e!==null&&e.$$typeof===rg}function PK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sA=/\/+/g;function qw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?PK(""+e.key):t.toString(36)}function Gv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case rg:case vK:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+qw(s,0):n,iA(a)?(r="",e!=null&&(r=e.replace(sA,"$&/")+"/"),Gv(a,t,r,"",function(u){return u})):a!=null&&(iC(a)&&(a=EK(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(sA,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",iA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+qw(i,l);s+=Gv(i,t,r,c,a)}else if(c=CK(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+qw(i,l++),s+=Gv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Bg(e,t,r){if(e==null)return e;var n=[],a=0;return Gv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function OK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qn={current:null},Yv={transition:null},AK={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:aC};function mF(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Bg,forEach:function(e,t,r){Bg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bg(e,function(){t++}),t},toArray:function(e){return Bg(e,function(t){return t})||[]},only:function(e){if(!iC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=Kf;lt.Fragment=yK;lt.Profiler=bK;lt.PureComponent=rC;lt.StrictMode=xK;lt.Suspense=SK;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AK;lt.act=mF;lt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=cF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=aC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)fF.call(t,c)&&!hF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:rg,type:e.type,key:a,ref:i,props:n,_owner:s}};lt.createContext=function(e){return e={$$typeof:_K,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wK,_context:e},e.Consumer=e};lt.createElement=pF;lt.createFactory=function(e){var t=pF.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:jK,render:e}};lt.isValidElement=iC;lt.lazy=function(e){return{$$typeof:kK,_payload:{_status:-1,_result:e},_init:OK}};lt.memo=function(e,t){return{$$typeof:NK,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=Yv.transition;Yv.transition={};try{e()}finally{Yv.transition=t}};lt.unstable_act=mF;lt.useCallback=function(e,t){return qn.current.useCallback(e,t)};lt.useContext=function(e){return qn.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return qn.current.useDeferredValue(e)};lt.useEffect=function(e,t){return qn.current.useEffect(e,t)};lt.useId=function(){return qn.current.useId()};lt.useImperativeHandle=function(e,t,r){return qn.current.useImperativeHandle(e,t,r)};lt.useInsertionEffect=function(e,t){return qn.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return qn.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return qn.current.useMemo(e,t)};lt.useReducer=function(e,t,r){return qn.current.useReducer(e,t,r)};lt.useRef=function(e){return qn.current.useRef(e)};lt.useState=function(e){return qn.current.useState(e)};lt.useSyncExternalStore=function(e,t,r){return qn.current.useSyncExternalStore(e,t,r)};lt.useTransition=function(){return qn.current.useTransition()};lt.version="18.3.1";oF.exports=lt;var x=oF.exports;const M=kt(x),Db=gK({__proto__:null,default:M},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TK=x,MK=Symbol.for("react.element"),$K=Symbol.for("react.fragment"),IK=Object.prototype.hasOwnProperty,RK=TK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DK={key:!0,ref:!0,__self:!0,__source:!0};function gF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)IK.call(t,n)&&!DK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:MK,type:e,key:i,ref:s,props:a,_owner:RK.current}}Rb.Fragment=$K;Rb.jsx=gF;Rb.jsxs=gF;sF.exports=Rb;var o=sF.exports,vF={exports:{}},Aa={},yF={exports:{}},xF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var G=R.length;R.push(U);e:for(;0<G;){var te=G-1>>>1,Q=R[te];if(0<a(Q,U))R[te]=U,R[G]=Q,G=te;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],G=R.pop();if(G!==U){R[0]=G;e:for(var te=0,Q=R.length,j=Q>>>1;te<j;){var P=2*(te+1)-1,E=R[P],F=P+1,D=R[F];if(0>a(E,G))F<Q&&0>a(D,E)?(R[te]=D,R[F]=G,te=F):(R[te]=E,R[P]=G,te=P);else if(F<Q&&0>a(D,G))R[te]=D,R[F]=G,te=F;else break e}}return U}function a(R,U){var G=R.sortIndex-U.sortIndex;return G!==0?G:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function _(R){if(m=!1,w(R),!g)if(r(c)!==null)g=!0,H(S);else{var U=r(u);U!==null&&V(_,U.startTime-R)}}function S(R,U){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var G=h;try{for(w(U),f=r(c);f!==null&&(!(f.expirationTime>U)||R&&!$());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var Q=te(f.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),w(U)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var P=r(u);P!==null&&V(_,P.startTime-U),j=!1}return j}finally{f=null,h=G,p=!1}}var N=!1,k=null,C=-1,A=5,T=-1;function $(){return!(e.unstable_now()-T<A)}function O(){if(k!==null){var R=e.unstable_now();T=R;var U=!0;try{U=k(!0,R)}finally{U?L():(N=!1,k=null)}}else N=!1}var L;if(typeof y=="function")L=function(){y(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=O,L=function(){B.postMessage(null)}}else L=function(){v(O,0)};function H(R){k=R,N||(N=!0,L())}function V(R,U){C=v(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,H(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var G=h;h=U;try{return R()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return U()}finally{h=G}},e.unstable_scheduleCallback=function(R,U,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=G+Q,R={id:d++,callback:U,priorityLevel:R,startTime:G,expirationTime:Q,sortIndex:-1},G>te?(R.sortIndex=G,t(u,R),r(c)===null&&R===r(u)&&(m?(b(C),C=-1):m=!0,V(_,G-te))):(R.sortIndex=Q,t(c,R),g||p||(g=!0,H(S))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var U=h;return function(){var G=h;h=U;try{return R.apply(this,arguments)}finally{h=G}}}})(xF);yF.exports=xF;var LK=yF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FK=x,Pa=LK;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bF=new Set,Pp={};function hu(e,t){qd(e,t),qd(e+"Capture",t)}function qd(e,t){for(Pp[e]=t,e=0;e<t.length;e++)bF.add(t[e])}var so=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s1=Object.prototype.hasOwnProperty,BK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oA={},lA={};function UK(e){return s1.call(lA,e)?!0:s1.call(oA,e)?!1:BK.test(e)?lA[e]=!0:(oA[e]=!0,!1)}function zK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function VK(e,t,r,n){if(t===null||typeof t>"u"||zK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Kn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mn[e]=new Kn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mn[t]=new Kn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mn[e]=new Kn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mn[e]=new Kn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mn[e]=new Kn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mn[e]=new Kn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mn[e]=new Kn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mn[e]=new Kn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mn[e]=new Kn(e,5,!1,e.toLowerCase(),null,!1,!1)});var sC=/[\-:]([a-z])/g;function oC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sC,oC);mn[t]=new Kn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sC,oC);mn[t]=new Kn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sC,oC);mn[t]=new Kn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mn[e]=new Kn(e,1,!1,e.toLowerCase(),null,!0,!0)});function lC(e,t,r,n){var a=mn.hasOwnProperty(t)?mn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(VK(t,r,a,n)&&(r=null),n||a===null?UK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wo=FK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ug=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),cC=Symbol.for("react.strict_mode"),o1=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),_F=Symbol.for("react.context"),uC=Symbol.for("react.forward_ref"),l1=Symbol.for("react.suspense"),c1=Symbol.for("react.suspense_list"),dC=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),jF=Symbol.for("react.offscreen"),cA=Symbol.iterator;function wh(e){return e===null||typeof e!="object"?null:(e=cA&&e[cA]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,Kw;function Kh(e){if(Kw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Kw=t&&t[1]||""}return`
`+Kw+e}var Gw=!1;function Yw(e,t){if(!e||Gw)return"";Gw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Gw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Kh(e):""}function WK(e){switch(e.tag){case 5:return Kh(e.type);case 16:return Kh("Lazy");case 13:return Kh("Suspense");case 19:return Kh("SuspenseList");case 0:case 2:case 15:return e=Yw(e.type,!1),e;case 11:return e=Yw(e.type.render,!1),e;case 1:return e=Yw(e.type,!0),e;default:return""}}function u1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case td:return"Fragment";case ed:return"Portal";case o1:return"Profiler";case cC:return"StrictMode";case l1:return"Suspense";case c1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _F:return(e.displayName||"Context")+".Consumer";case wF:return(e._context.displayName||"Context")+".Provider";case uC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dC:return t=e.displayName||null,t!==null?t:u1(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return u1(e(t))}catch{}}return null}function HK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return u1(t);case 8:return t===cC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function SF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qK(e){var t=SF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function zg(e){e._valueTracker||(e._valueTracker=qK(e))}function NF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=SF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function by(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function d1(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function kF(e,t){t=t.checked,t!=null&&lC(e,"checked",t,!1)}function f1(e,t){kF(e,t);var r=jl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?h1(e,t.type,r):t.hasOwnProperty("defaultValue")&&h1(e,t.type,jl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function h1(e,t,r){(t!=="number"||by(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gh=Array.isArray;function _d(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function p1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(Gh(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jl(r)}}function CF(e,t){var r=jl(t.value),n=jl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function hA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function m1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vg,PF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vg=Vg||document.createElement("div"),Vg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Op(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ip={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KK=["Webkit","ms","Moz","O"];Object.keys(ip).forEach(function(e){KK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ip[t]=ip[e]})});function OF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ip.hasOwnProperty(e)&&ip[e]?(""+t).trim():t+"px"}function AF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=OF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var GK=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function g1(e,t){if(t){if(GK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function v1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y1=null;function fC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var x1=null,jd=null,Sd=null;function pA(e){if(e=ig(e)){if(typeof x1!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=zb(t),x1(e.stateNode,e.type,t))}}function TF(e){jd?Sd?Sd.push(e):Sd=[e]:jd=e}function MF(){if(jd){var e=jd,t=Sd;if(Sd=jd=null,pA(e),t)for(e=0;e<t.length;e++)pA(t[e])}}function $F(e,t){return e(t)}function IF(){}var Jw=!1;function RF(e,t,r){if(Jw)return e(t,r);Jw=!0;try{return $F(e,t,r)}finally{Jw=!1,(jd!==null||Sd!==null)&&(IF(),MF())}}function Ap(e,t){var r=e.stateNode;if(r===null)return null;var n=zb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var b1=!1;if(so)try{var _h={};Object.defineProperty(_h,"passive",{get:function(){b1=!0}}),window.addEventListener("test",_h,_h),window.removeEventListener("test",_h,_h)}catch{b1=!1}function YK(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var sp=!1,wy=null,_y=!1,w1=null,JK={onError:function(e){sp=!0,wy=e}};function XK(e,t,r,n,a,i,s,l,c){sp=!1,wy=null,YK.apply(JK,arguments)}function QK(e,t,r,n,a,i,s,l,c){if(XK.apply(this,arguments),sp){if(sp){var u=wy;sp=!1,wy=null}else throw Error(pe(198));_y||(_y=!0,w1=u)}}function pu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function mA(e){if(pu(e)!==e)throw Error(pe(188))}function ZK(e){var t=e.alternate;if(!t){if(t=pu(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return mA(a),e;if(i===n)return mA(a),t;i=i.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function LF(e){return e=ZK(e),e!==null?FF(e):null}function FF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=FF(e);if(t!==null)return t;e=e.sibling}return null}var BF=Pa.unstable_scheduleCallback,gA=Pa.unstable_cancelCallback,eG=Pa.unstable_shouldYield,tG=Pa.unstable_requestPaint,wr=Pa.unstable_now,rG=Pa.unstable_getCurrentPriorityLevel,hC=Pa.unstable_ImmediatePriority,UF=Pa.unstable_UserBlockingPriority,jy=Pa.unstable_NormalPriority,nG=Pa.unstable_LowPriority,zF=Pa.unstable_IdlePriority,Lb=null,ps=null;function aG(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Lb,e,void 0,(e.current.flags&128)===128)}catch{}}var $i=Math.clz32?Math.clz32:oG,iG=Math.log,sG=Math.LN2;function oG(e){return e>>>=0,e===0?32:31-(iG(e)/sG|0)|0}var Wg=64,Hg=4194304;function Yh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Yh(l):(i&=s,i!==0&&(n=Yh(i)))}else s=r&~a,s!==0?n=Yh(s):i!==0&&(n=Yh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-$i(t),a=1<<r,n|=e[r],t&=~a;return n}function lG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-$i(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=lG(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function _1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function VF(){var e=Wg;return Wg<<=1,!(Wg&4194240)&&(Wg=64),e}function Xw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ng(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$i(t),e[t]=r}function uG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-$i(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function pC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-$i(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pt=0;function WF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HF,mC,qF,KF,GF,j1=!1,qg=[],dl=null,fl=null,hl=null,Tp=new Map,Mp=new Map,Yo=[],dG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vA(e,t){switch(e){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":Tp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mp.delete(t.pointerId)}}function jh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ig(t),t!==null&&mC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function fG(e,t,r,n,a){switch(t){case"focusin":return dl=jh(dl,e,t,r,n,a),!0;case"dragenter":return fl=jh(fl,e,t,r,n,a),!0;case"mouseover":return hl=jh(hl,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Tp.set(i,jh(Tp.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Mp.set(i,jh(Mp.get(i)||null,e,t,r,n,a)),!0}return!1}function YF(e){var t=vc(e.target);if(t!==null){var r=pu(t);if(r!==null){if(t=r.tag,t===13){if(t=DF(r),t!==null){e.blockedOn=t,GF(e.priority,function(){qF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=S1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);y1=n,r.target.dispatchEvent(n),y1=null}else return t=ig(r),t!==null&&mC(t),e.blockedOn=r,!1;t.shift()}return!0}function yA(e,t,r){Jv(e)&&r.delete(t)}function hG(){j1=!1,dl!==null&&Jv(dl)&&(dl=null),fl!==null&&Jv(fl)&&(fl=null),hl!==null&&Jv(hl)&&(hl=null),Tp.forEach(yA),Mp.forEach(yA)}function Sh(e,t){e.blockedOn===t&&(e.blockedOn=null,j1||(j1=!0,Pa.unstable_scheduleCallback(Pa.unstable_NormalPriority,hG)))}function $p(e){function t(a){return Sh(a,e)}if(0<qg.length){Sh(qg[0],e);for(var r=1;r<qg.length;r++){var n=qg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(dl!==null&&Sh(dl,e),fl!==null&&Sh(fl,e),hl!==null&&Sh(hl,e),Tp.forEach(t),Mp.forEach(t),r=0;r<Yo.length;r++)n=Yo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yo.length&&(r=Yo[0],r.blockedOn===null);)YF(r),r.blockedOn===null&&Yo.shift()}var Nd=wo.ReactCurrentBatchConfig,Ny=!0;function pG(e,t,r,n){var a=Pt,i=Nd.transition;Nd.transition=null;try{Pt=1,gC(e,t,r,n)}finally{Pt=a,Nd.transition=i}}function mG(e,t,r,n){var a=Pt,i=Nd.transition;Nd.transition=null;try{Pt=4,gC(e,t,r,n)}finally{Pt=a,Nd.transition=i}}function gC(e,t,r,n){if(Ny){var a=S1(e,t,r,n);if(a===null)o_(e,t,n,ky,r),vA(e,n);else if(fG(a,e,t,r,n))n.stopPropagation();else if(vA(e,n),t&4&&-1<dG.indexOf(e)){for(;a!==null;){var i=ig(a);if(i!==null&&HF(i),i=S1(e,t,r,n),i===null&&o_(e,t,n,ky,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else o_(e,t,n,null,r)}}var ky=null;function S1(e,t,r,n){if(ky=null,e=fC(n),e=vc(e),e!==null)if(t=pu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=DF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ky=e,null}function JF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rG()){case hC:return 1;case UF:return 4;case jy:case nG:return 16;case zF:return 536870912;default:return 16}default:return 16}}var il=null,vC=null,Xv=null;function XF(){if(Xv)return Xv;var e,t=vC,r=t.length,n,a="value"in il?il.value:il.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Xv=a.slice(e,1<n?1-n:void 0)}function Qv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kg(){return!0}function xA(){return!1}function Ta(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Kg:xA,this.isPropagationStopped=xA,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kg)},persist:function(){},isPersistent:Kg}),t}var Gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yC=Ta(Gf),ag=ur({},Gf,{view:0,detail:0}),gG=Ta(ag),Qw,Zw,Nh,Fb=ur({},ag,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nh&&(Nh&&e.type==="mousemove"?(Qw=e.screenX-Nh.screenX,Zw=e.screenY-Nh.screenY):Zw=Qw=0,Nh=e),Qw)},movementY:function(e){return"movementY"in e?e.movementY:Zw}}),bA=Ta(Fb),vG=ur({},Fb,{dataTransfer:0}),yG=Ta(vG),xG=ur({},ag,{relatedTarget:0}),e_=Ta(xG),bG=ur({},Gf,{animationName:0,elapsedTime:0,pseudoElement:0}),wG=Ta(bG),_G=ur({},Gf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jG=Ta(_G),SG=ur({},Gf,{data:0}),wA=Ta(SG),NG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EG(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=CG[e])?!!t[e]:!1}function xC(){return EG}var PG=ur({},ag,{key:function(e){if(e.key){var t=NG[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kG[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xC,charCode:function(e){return e.type==="keypress"?Qv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),OG=Ta(PG),AG=ur({},Fb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_A=Ta(AG),TG=ur({},ag,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xC}),MG=Ta(TG),$G=ur({},Gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),IG=Ta($G),RG=ur({},Fb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),DG=Ta(RG),LG=[9,13,27,32],bC=so&&"CompositionEvent"in window,op=null;so&&"documentMode"in document&&(op=document.documentMode);var FG=so&&"TextEvent"in window&&!op,QF=so&&(!bC||op&&8<op&&11>=op),jA=" ",SA=!1;function ZF(e,t){switch(e){case"keyup":return LG.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rd=!1;function BG(e,t){switch(e){case"compositionend":return e3(t);case"keypress":return t.which!==32?null:(SA=!0,jA);case"textInput":return e=t.data,e===jA&&SA?null:e;default:return null}}function UG(e,t){if(rd)return e==="compositionend"||!bC&&ZF(e,t)?(e=XF(),Xv=vC=il=null,rd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QF&&t.locale!=="ko"?null:t.data;default:return null}}var zG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zG[e.type]:t==="textarea"}function t3(e,t,r,n){TF(n),t=Cy(t,"onChange"),0<t.length&&(r=new yC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var lp=null,Ip=null;function VG(e){f3(e,0)}function Bb(e){var t=id(e);if(NF(t))return e}function WG(e,t){if(e==="change")return t}var r3=!1;if(so){var t_;if(so){var r_="oninput"in document;if(!r_){var kA=document.createElement("div");kA.setAttribute("oninput","return;"),r_=typeof kA.oninput=="function"}t_=r_}else t_=!1;r3=t_&&(!document.documentMode||9<document.documentMode)}function CA(){lp&&(lp.detachEvent("onpropertychange",n3),Ip=lp=null)}function n3(e){if(e.propertyName==="value"&&Bb(Ip)){var t=[];t3(t,Ip,e,fC(e)),RF(VG,t)}}function HG(e,t,r){e==="focusin"?(CA(),lp=t,Ip=r,lp.attachEvent("onpropertychange",n3)):e==="focusout"&&CA()}function qG(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bb(Ip)}function KG(e,t){if(e==="click")return Bb(t)}function GG(e,t){if(e==="input"||e==="change")return Bb(t)}function YG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bi=typeof Object.is=="function"?Object.is:YG;function Rp(e,t){if(Bi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!s1.call(t,a)||!Bi(e[a],t[a]))return!1}return!0}function EA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function PA(e,t){var r=EA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=EA(r)}}function a3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function i3(){for(var e=window,t=by();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=by(e.document)}return t}function wC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function JG(e){var t=i3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&a3(r.ownerDocument.documentElement,r)){if(n!==null&&wC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=PA(r,i);var s=PA(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var XG=so&&"documentMode"in document&&11>=document.documentMode,nd=null,N1=null,cp=null,k1=!1;function OA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;k1||nd==null||nd!==by(n)||(n=nd,"selectionStart"in n&&wC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cp&&Rp(cp,n)||(cp=n,n=Cy(N1,"onSelect"),0<n.length&&(t=new yC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nd)))}function Gg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:Gg("Animation","AnimationEnd"),animationiteration:Gg("Animation","AnimationIteration"),animationstart:Gg("Animation","AnimationStart"),transitionend:Gg("Transition","TransitionEnd")},n_={},s3={};so&&(s3=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Ub(e){if(n_[e])return n_[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in s3)return n_[e]=t[r];return e}var o3=Ub("animationend"),l3=Ub("animationiteration"),c3=Ub("animationstart"),u3=Ub("transitionend"),d3=new Map,AA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(e,t){d3.set(e,t),hu(t,[e])}for(var a_=0;a_<AA.length;a_++){var i_=AA[a_],QG=i_.toLowerCase(),ZG=i_[0].toUpperCase()+i_.slice(1);Tl(QG,"on"+ZG)}Tl(o3,"onAnimationEnd");Tl(l3,"onAnimationIteration");Tl(c3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(u3,"onTransitionEnd");qd("onMouseEnter",["mouseout","mouseover"]);qd("onMouseLeave",["mouseout","mouseover"]);qd("onPointerEnter",["pointerout","pointerover"]);qd("onPointerLeave",["pointerout","pointerover"]);hu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hu("onBeforeInput",["compositionend","keypress","textInput","paste"]);hu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jh));function TA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,QK(n,t,void 0,e),e.currentTarget=null}function f3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;TA(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;TA(a,l,u),i=c}}}if(_y)throw e=w1,_y=!1,w1=null,e}function Gt(e,t){var r=t[A1];r===void 0&&(r=t[A1]=new Set);var n=e+"__bubble";r.has(n)||(h3(t,e,2,!1),r.add(n))}function s_(e,t,r){var n=0;t&&(n|=4),h3(r,e,n,t)}var Yg="_reactListening"+Math.random().toString(36).slice(2);function Dp(e){if(!e[Yg]){e[Yg]=!0,bF.forEach(function(r){r!=="selectionchange"&&(eY.has(r)||s_(r,!1,e),s_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yg]||(t[Yg]=!0,s_("selectionchange",!1,t))}}function h3(e,t,r,n){switch(JF(t)){case 1:var a=pG;break;case 4:a=mG;break;default:a=gC}r=a.bind(null,t,r,e),a=void 0,!b1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function o_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=vc(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}RF(function(){var u=i,d=fC(r),f=[];e:{var h=d3.get(e);if(h!==void 0){var p=yC,g=e;switch(e){case"keypress":if(Qv(r)===0)break e;case"keydown":case"keyup":p=OG;break;case"focusin":g="focus",p=e_;break;case"focusout":g="blur",p=e_;break;case"beforeblur":case"afterblur":p=e_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MG;break;case o3:case l3:case c3:p=wG;break;case u3:p=IG;break;case"scroll":p=gG;break;case"wheel":p=DG;break;case"copy":case"cut":case"paste":p=jG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_A}var m=(t&4)!==0,v=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Ap(y,b),_!=null&&m.push(Lp(y,_,w)))),v)break;y=y.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==y1&&(g=r.relatedTarget||r.fromElement)&&(vc(g)||g[oo]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?vc(g):null,g!==null&&(v=pu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=bA,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=_A,_="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?h:id(p),w=g==null?h:id(g),h=new m(_,y+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,vc(d)===u&&(m=new m(b,y+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,b=g,y=0,w=m;w;w=Ou(w))y++;for(w=0,_=b;_;_=Ou(_))w++;for(;0<y-w;)m=Ou(m),y--;for(;0<w-y;)b=Ou(b),w--;for(;y--;){if(m===b||b!==null&&m===b.alternate)break t;m=Ou(m),b=Ou(b)}m=null}else m=null;p!==null&&MA(f,h,p,m,!1),g!==null&&v!==null&&MA(f,v,g,m,!0)}}e:{if(h=u?id(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=WG;else if(NA(h))if(r3)S=GG;else{S=qG;var N=HG}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=KG);if(S&&(S=S(e,u))){t3(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&h1(h,"number",h.value)}switch(N=u?id(u):window,e){case"focusin":(NA(N)||N.contentEditable==="true")&&(nd=N,N1=u,cp=null);break;case"focusout":cp=N1=nd=null;break;case"mousedown":k1=!0;break;case"contextmenu":case"mouseup":case"dragend":k1=!1,OA(f,r,d);break;case"selectionchange":if(XG)break;case"keydown":case"keyup":OA(f,r,d)}var k;if(bC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else rd?ZF(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(QF&&r.locale!=="ko"&&(rd||C!=="onCompositionStart"?C==="onCompositionEnd"&&rd&&(k=XF()):(il=d,vC="value"in il?il.value:il.textContent,rd=!0)),N=Cy(u,C),0<N.length&&(C=new wA(C,e,null,r,d),f.push({event:C,listeners:N}),k?C.data=k:(k=e3(r),k!==null&&(C.data=k)))),(k=FG?BG(e,r):UG(e,r))&&(u=Cy(u,"onBeforeInput"),0<u.length&&(d=new wA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}f3(f,t)})}function Lp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Cy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ap(e,r),i!=null&&n.unshift(Lp(e,i,a)),i=Ap(e,t),i!=null&&n.push(Lp(e,i,a))),e=e.return}return n}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function MA(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ap(r,i),c!=null&&s.unshift(Lp(r,c,l))):a||(c=Ap(r,i),c!=null&&s.push(Lp(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var tY=/\r\n?/g,rY=/\u0000|\uFFFD/g;function $A(e){return(typeof e=="string"?e:""+e).replace(tY,`
`).replace(rY,"")}function Jg(e,t,r){if(t=$A(t),$A(e)!==t&&r)throw Error(pe(425))}function Ey(){}var C1=null,E1=null;function P1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,nY=typeof clearTimeout=="function"?clearTimeout:void 0,IA=typeof Promise=="function"?Promise:void 0,aY=typeof queueMicrotask=="function"?queueMicrotask:typeof IA<"u"?function(e){return IA.resolve(null).then(e).catch(iY)}:O1;function iY(e){setTimeout(function(){throw e})}function l_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),$p(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);$p(t)}function pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function RA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yf=Math.random().toString(36).slice(2),os="__reactFiber$"+Yf,Fp="__reactProps$"+Yf,oo="__reactContainer$"+Yf,A1="__reactEvents$"+Yf,sY="__reactListeners$"+Yf,oY="__reactHandles$"+Yf;function vc(e){var t=e[os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[oo]||r[os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=RA(e);e!==null;){if(r=e[os])return r;e=RA(e)}return t}e=r,r=e.parentNode}return null}function ig(e){return e=e[os]||e[oo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function zb(e){return e[Fp]||null}var T1=[],sd=-1;function Ml(e){return{current:e}}function Xt(e){0>sd||(e.current=T1[sd],T1[sd]=null,sd--)}function zt(e,t){sd++,T1[sd]=e.current,e.current=t}var Sl={},Pn=Ml(Sl),ra=Ml(!1),Wc=Sl;function Kd(e,t){var r=e.type.contextTypes;if(!r)return Sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function na(e){return e=e.childContextTypes,e!=null}function Py(){Xt(ra),Xt(Pn)}function DA(e,t,r){if(Pn.current!==Sl)throw Error(pe(168));zt(Pn,t),zt(ra,r)}function p3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pe(108,HK(e)||"Unknown",a));return ur({},r,n)}function Oy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sl,Wc=Pn.current,zt(Pn,e),zt(ra,ra.current),!0}function LA(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=p3(e,t,Wc),n.__reactInternalMemoizedMergedChildContext=e,Xt(ra),Xt(Pn),zt(Pn,e)):Xt(ra),zt(ra,r)}var Hs=null,Vb=!1,c_=!1;function m3(e){Hs===null?Hs=[e]:Hs.push(e)}function lY(e){Vb=!0,m3(e)}function $l(){if(!c_&&Hs!==null){c_=!0;var e=0,t=Pt;try{var r=Hs;for(Pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Hs=null,Vb=!1}catch(a){throw Hs!==null&&(Hs=Hs.slice(e+1)),BF(hC,$l),a}finally{Pt=t,c_=!1}}return null}var od=[],ld=0,Ay=null,Ty=0,Ba=[],Ua=0,Hc=null,Gs=1,Ys="";function sc(e,t){od[ld++]=Ty,od[ld++]=Ay,Ay=e,Ty=t}function g3(e,t,r){Ba[Ua++]=Gs,Ba[Ua++]=Ys,Ba[Ua++]=Hc,Hc=e;var n=Gs;e=Ys;var a=32-$i(n)-1;n&=~(1<<a),r+=1;var i=32-$i(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gs=1<<32-$i(t)+a|r<<a|n,Ys=i+e}else Gs=1<<i|r<<a|n,Ys=e}function _C(e){e.return!==null&&(sc(e,1),g3(e,1,0))}function jC(e){for(;e===Ay;)Ay=od[--ld],od[ld]=null,Ty=od[--ld],od[ld]=null;for(;e===Hc;)Hc=Ba[--Ua],Ba[Ua]=null,Ys=Ba[--Ua],Ba[Ua]=null,Gs=Ba[--Ua],Ba[Ua]=null}var Na=null,ja=null,tr=!1,Oi=null;function v3(e,t){var r=Wa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function FA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Na=e,ja=pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Na=e,ja=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hc!==null?{id:Gs,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Wa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Na=e,ja=null,!0):!1;default:return!1}}function M1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $1(e){if(tr){var t=ja;if(t){var r=t;if(!FA(e,t)){if(M1(e))throw Error(pe(418));t=pl(r.nextSibling);var n=Na;t&&FA(e,t)?v3(n,r):(e.flags=e.flags&-4097|2,tr=!1,Na=e)}}else{if(M1(e))throw Error(pe(418));e.flags=e.flags&-4097|2,tr=!1,Na=e}}}function BA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Na=e}function Xg(e){if(e!==Na)return!1;if(!tr)return BA(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!P1(e.type,e.memoizedProps)),t&&(t=ja)){if(M1(e))throw y3(),Error(pe(418));for(;t;)v3(e,t),t=pl(t.nextSibling)}if(BA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ja=pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ja=null}}else ja=Na?pl(e.stateNode.nextSibling):null;return!0}function y3(){for(var e=ja;e;)e=pl(e.nextSibling)}function Gd(){ja=Na=null,tr=!1}function SC(e){Oi===null?Oi=[e]:Oi.push(e)}var cY=wo.ReactCurrentBatchConfig;function kh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function Qg(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function UA(e){var t=e._init;return t(e._payload)}function x3(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function a(b,y){return b=yl(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,_){return y===null||y.tag!==6?(y=g_(w,b.mode,_),y.return=b,y):(y=a(y,w),y.return=b,y)}function c(b,y,w,_){var S=w.type;return S===td?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&UA(S)===y.type)?(_=a(y,w.props),_.ref=kh(b,y,w),_.return=b,_):(_=iy(w.type,w.key,w.props,null,b.mode,_),_.ref=kh(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=v_(w,b.mode,_),y.return=b,y):(y=a(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,S){return y===null||y.tag!==7?(y=Ic(w,b.mode,_,S),y.return=b,y):(y=a(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=g_(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ug:return w=iy(y.type,y.key,y.props,null,b.mode,w),w.ref=kh(b,null,y),w.return=b,w;case ed:return y=v_(y,b.mode,w),y.return=b,y;case Vo:var _=y._init;return f(b,_(y._payload),w)}if(Gh(y)||wh(y))return y=Ic(y,b.mode,w,null),y.return=b,y;Qg(b,y)}return null}function h(b,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ug:return w.key===S?c(b,y,w,_):null;case ed:return w.key===S?u(b,y,w,_):null;case Vo:return S=w._init,h(b,y,S(w._payload),_)}if(Gh(w)||wh(w))return S!==null?null:d(b,y,w,_,null);Qg(b,w)}return null}function p(b,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ug:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,S);case ed:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,S);case Vo:var N=_._init;return p(b,y,w,N(_._payload),S)}if(Gh(_)||wh(_))return b=b.get(w)||null,d(y,b,_,S,null);Qg(y,_)}return null}function g(b,y,w,_){for(var S=null,N=null,k=y,C=y=0,A=null;k!==null&&C<w.length;C++){k.index>C?(A=k,k=null):A=k.sibling;var T=h(b,k,w[C],_);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(b,k),y=i(T,y,C),N===null?S=T:N.sibling=T,N=T,k=A}if(C===w.length)return r(b,k),tr&&sc(b,C),S;if(k===null){for(;C<w.length;C++)k=f(b,w[C],_),k!==null&&(y=i(k,y,C),N===null?S=k:N.sibling=k,N=k);return tr&&sc(b,C),S}for(k=n(b,k);C<w.length;C++)A=p(k,b,C,w[C],_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),y=i(A,y,C),N===null?S=A:N.sibling=A,N=A);return e&&k.forEach(function($){return t(b,$)}),tr&&sc(b,C),S}function m(b,y,w,_){var S=wh(w);if(typeof S!="function")throw Error(pe(150));if(w=S.call(w),w==null)throw Error(pe(151));for(var N=S=null,k=y,C=y=0,A=null,T=w.next();k!==null&&!T.done;C++,T=w.next()){k.index>C?(A=k,k=null):A=k.sibling;var $=h(b,k,T.value,_);if($===null){k===null&&(k=A);break}e&&k&&$.alternate===null&&t(b,k),y=i($,y,C),N===null?S=$:N.sibling=$,N=$,k=A}if(T.done)return r(b,k),tr&&sc(b,C),S;if(k===null){for(;!T.done;C++,T=w.next())T=f(b,T.value,_),T!==null&&(y=i(T,y,C),N===null?S=T:N.sibling=T,N=T);return tr&&sc(b,C),S}for(k=n(b,k);!T.done;C++,T=w.next())T=p(k,b,C,T.value,_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),y=i(T,y,C),N===null?S=T:N.sibling=T,N=T);return e&&k.forEach(function(O){return t(b,O)}),tr&&sc(b,C),S}function v(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===td&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ug:e:{for(var S=w.key,N=y;N!==null;){if(N.key===S){if(S=w.type,S===td){if(N.tag===7){r(b,N.sibling),y=a(N,w.props.children),y.return=b,b=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&UA(S)===N.type){r(b,N.sibling),y=a(N,w.props),y.ref=kh(b,N,w),y.return=b,b=y;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===td?(y=Ic(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=iy(w.type,w.key,w.props,null,b.mode,_),_.ref=kh(b,y,w),_.return=b,b=_)}return s(b);case ed:e:{for(N=w.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=a(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=v_(w,b.mode,_),y.return=b,b=y}return s(b);case Vo:return N=w._init,v(b,y,N(w._payload),_)}if(Gh(w))return g(b,y,w,_);if(wh(w))return m(b,y,w,_);Qg(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=a(y,w),y.return=b,b=y):(r(b,y),y=g_(w,b.mode,_),y.return=b,b=y),s(b)):r(b,y)}return v}var Yd=x3(!0),b3=x3(!1),My=Ml(null),$y=null,cd=null,NC=null;function kC(){NC=cd=$y=null}function CC(e){var t=My.current;Xt(My),e._currentValue=t}function I1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kd(e,t){$y=e,NC=cd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zn=!0),e.firstContext=null)}function ei(e){var t=e._currentValue;if(NC!==e)if(e={context:e,memoizedValue:t,next:null},cd===null){if($y===null)throw Error(pe(308));cd=e,$y.dependencies={lanes:0,firstContext:e}}else cd=cd.next=e;return t}var yc=null;function EC(e){yc===null?yc=[e]:yc.push(e)}function w3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,EC(t)):(r.next=a.next,a.next=r),t.interleaved=r,lo(e,n)}function lo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wo=!1;function PC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function to(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ml(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,gt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,lo(e,r)}return a=n.interleaved,a===null?(t.next=t,EC(n)):(t.next=a.next,a.next=t),n.interleaved=t,lo(e,r)}function Zv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pC(e,r)}}function zA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Iy(e,t,r,n){var a=e.updateQueue;Wo=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ur({},f,h);break e;case 2:Wo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Kc|=s,e.lanes=s,e.memoizedState=f}}function VA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var sg={},ms=Ml(sg),Bp=Ml(sg),Up=Ml(sg);function xc(e){if(e===sg)throw Error(pe(174));return e}function OC(e,t){switch(zt(Up,t),zt(Bp,e),zt(ms,sg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:m1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=m1(t,e)}Xt(ms),zt(ms,t)}function Jd(){Xt(ms),Xt(Bp),Xt(Up)}function j3(e){xc(Up.current);var t=xc(ms.current),r=m1(t,e.type);t!==r&&(zt(Bp,e),zt(ms,r))}function AC(e){Bp.current===e&&(Xt(ms),Xt(Bp))}var ir=Ml(0);function Ry(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var u_=[];function TC(){for(var e=0;e<u_.length;e++)u_[e]._workInProgressVersionPrimary=null;u_.length=0}var ey=wo.ReactCurrentDispatcher,d_=wo.ReactCurrentBatchConfig,qc=0,cr=null,Lr=null,Xr=null,Dy=!1,up=!1,zp=0,uY=0;function xn(){throw Error(pe(321))}function MC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bi(e[r],t[r]))return!1;return!0}function $C(e,t,r,n,a,i){if(qc=i,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ey.current=e===null||e.memoizedState===null?pY:mY,e=r(n,a),up){i=0;do{if(up=!1,zp=0,25<=i)throw Error(pe(301));i+=1,Xr=Lr=null,t.updateQueue=null,ey.current=gY,e=r(n,a)}while(up)}if(ey.current=Ly,t=Lr!==null&&Lr.next!==null,qc=0,Xr=Lr=cr=null,Dy=!1,t)throw Error(pe(300));return e}function IC(){var e=zp!==0;return zp=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?cr.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function ti(){if(Lr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Xr===null?cr.memoizedState:Xr.next;if(t!==null)Xr=t,Lr=e;else{if(e===null)throw Error(pe(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Xr===null?cr.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function Vp(e,t){return typeof t=="function"?t(e):t}function f_(e){var t=ti(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((qc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,cr.lanes|=d,Kc|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Bi(n,t.memoizedState)||(Zn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,cr.lanes|=i,Kc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function h_(e){var t=ti(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Bi(i,t.memoizedState)||(Zn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function S3(){}function N3(e,t){var r=cr,n=ti(),a=t(),i=!Bi(n.memoizedState,a);if(i&&(n.memoizedState=a,Zn=!0),n=n.queue,RC(E3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,Wp(9,C3.bind(null,r,n,a,t),void 0,null),tn===null)throw Error(pe(349));qc&30||k3(r,t,a)}return a}function k3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function C3(e,t,r,n){t.value=r,t.getSnapshot=n,P3(t)&&O3(e)}function E3(e,t,r){return r(function(){P3(t)&&O3(e)})}function P3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Bi(e,r)}catch{return!0}}function O3(e){var t=lo(e,1);t!==null&&Ii(t,e,1,-1)}function WA(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vp,lastRenderedState:e},t.queue=e,e=e.dispatch=hY.bind(null,cr,e),[t.memoizedState,e]}function Wp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function A3(){return ti().memoizedState}function ty(e,t,r,n){var a=es();cr.flags|=e,a.memoizedState=Wp(1|t,r,void 0,n===void 0?null:n)}function Wb(e,t,r,n){var a=ti();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var s=Lr.memoizedState;if(i=s.destroy,n!==null&&MC(n,s.deps)){a.memoizedState=Wp(t,r,i,n);return}}cr.flags|=e,a.memoizedState=Wp(1|t,r,i,n)}function HA(e,t){return ty(8390656,8,e,t)}function RC(e,t){return Wb(2048,8,e,t)}function T3(e,t){return Wb(4,2,e,t)}function M3(e,t){return Wb(4,4,e,t)}function $3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function I3(e,t,r){return r=r!=null?r.concat([e]):null,Wb(4,4,$3.bind(null,t,e),r)}function DC(){}function R3(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function D3(e,t){var r=ti();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&MC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L3(e,t,r){return qc&21?(Bi(r,t)||(r=VF(),cr.lanes|=r,Kc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zn=!0),e.memoizedState=r)}function dY(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var n=d_.transition;d_.transition={};try{e(!1),t()}finally{Pt=r,d_.transition=n}}function F3(){return ti().memoizedState}function fY(e,t,r){var n=vl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B3(e))U3(t,r);else if(r=w3(e,t,r,n),r!==null){var a=Wn();Ii(r,e,n,a),z3(r,t,n)}}function hY(e,t,r){var n=vl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B3(e))U3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Bi(l,s)){var c=t.interleaved;c===null?(a.next=a,EC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=w3(e,t,a,n),r!==null&&(a=Wn(),Ii(r,e,n,a),z3(r,t,n))}}function B3(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function U3(e,t){up=Dy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function z3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,pC(e,r)}}var Ly={readContext:ei,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},pY={readContext:ei,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:ei,useEffect:HA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ty(4194308,4,$3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ty(4194308,4,e,t)},useInsertionEffect:function(e,t){return ty(4,2,e,t)},useMemo:function(e,t){var r=es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=es();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fY.bind(null,cr,e),[n.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:WA,useDebugValue:DC,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=WA(!1),t=e[0];return e=dY.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=cr,a=es();if(tr){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),tn===null)throw Error(pe(349));qc&30||k3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,HA(E3.bind(null,n,i,e),[e]),n.flags|=2048,Wp(9,C3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=es(),t=tn.identifierPrefix;if(tr){var r=Ys,n=Gs;r=(n&~(1<<32-$i(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=uY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mY={readContext:ei,useCallback:R3,useContext:ei,useEffect:RC,useImperativeHandle:I3,useInsertionEffect:T3,useLayoutEffect:M3,useMemo:D3,useReducer:f_,useRef:A3,useState:function(){return f_(Vp)},useDebugValue:DC,useDeferredValue:function(e){var t=ti();return L3(t,Lr.memoizedState,e)},useTransition:function(){var e=f_(Vp)[0],t=ti().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:N3,useId:F3,unstable_isNewReconciler:!1},gY={readContext:ei,useCallback:R3,useContext:ei,useEffect:RC,useImperativeHandle:I3,useInsertionEffect:T3,useLayoutEffect:M3,useMemo:D3,useReducer:h_,useRef:A3,useState:function(){return h_(Vp)},useDebugValue:DC,useDeferredValue:function(e){var t=ti();return Lr===null?t.memoizedState=e:L3(t,Lr.memoizedState,e)},useTransition:function(){var e=h_(Vp)[0],t=ti().memoizedState;return[e,t]},useMutableSource:S3,useSyncExternalStore:N3,useId:F3,unstable_isNewReconciler:!1};function wi(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function R1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hb={isMounted:function(e){return(e=e._reactInternals)?pu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wn(),a=vl(e),i=to(n,a);i.payload=t,r!=null&&(i.callback=r),t=ml(e,i,a),t!==null&&(Ii(t,e,a,n),Zv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wn(),a=vl(e),i=to(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ml(e,i,a),t!==null&&(Ii(t,e,a,n),Zv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wn(),n=vl(e),a=to(r,n);a.tag=2,t!=null&&(a.callback=t),t=ml(e,a,n),t!==null&&(Ii(t,e,n,r),Zv(t,e,n))}};function qA(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Rp(r,n)||!Rp(a,i):!0}function V3(e,t,r){var n=!1,a=Sl,i=t.contextType;return typeof i=="object"&&i!==null?i=ei(i):(a=na(t)?Wc:Pn.current,n=t.contextTypes,i=(n=n!=null)?Kd(e,a):Sl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function KA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hb.enqueueReplaceState(t,t.state,null)}function D1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},PC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ei(i):(i=na(t)?Wc:Pn.current,a.context=Kd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(R1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Hb.enqueueReplaceState(a,a.state,null),Iy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Xd(e,t){try{var r="",n=t;do r+=WK(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function p_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function L1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vY=typeof WeakMap=="function"?WeakMap:Map;function W3(e,t,r){r=to(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){By||(By=!0,G1=n),L1(e,t)},r}function H3(e,t,r){r=to(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){L1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){L1(e,t),typeof n!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function GA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vY;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=AY.bind(null,e,t,r),t.then(e,e))}function YA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function JA(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=to(-1,1),t.tag=2,ml(r,t,1))),r.lanes|=1),e)}var yY=wo.ReactCurrentOwner,Zn=!1;function $n(e,t,r,n){t.child=e===null?b3(t,null,r,n):Yd(t,e.child,r,n)}function XA(e,t,r,n,a){r=r.render;var i=t.ref;return kd(t,a),n=$C(e,t,r,n,i,a),r=IC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,co(e,t,a)):(tr&&r&&_C(t),t.flags|=1,$n(e,t,n,a),t.child)}function QA(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!HC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,q3(e,t,i,n,a)):(e=iy(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Rp,r(s,n)&&e.ref===t.ref)return co(e,t,a)}return t.flags|=1,e=yl(i,n),e.ref=t.ref,e.return=t,t.child=e}function q3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Rp(i,n)&&e.ref===t.ref)if(Zn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Zn=!0);else return t.lanes=e.lanes,co(e,t,a)}return F1(e,t,r,n,a)}function K3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zt(dd,pa),pa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zt(dd,pa),pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,zt(dd,pa),pa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,zt(dd,pa),pa|=n;return $n(e,t,a,r),t.child}function G3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function F1(e,t,r,n,a){var i=na(r)?Wc:Pn.current;return i=Kd(t,i),kd(t,a),r=$C(e,t,r,n,i,a),n=IC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,co(e,t,a)):(tr&&n&&_C(t),t.flags|=1,$n(e,t,r,a),t.child)}function ZA(e,t,r,n,a){if(na(r)){var i=!0;Oy(t)}else i=!1;if(kd(t,a),t.stateNode===null)ry(e,t),V3(t,r,n),D1(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ei(u):(u=na(r)?Wc:Pn.current,u=Kd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&KA(t,s,n,u),Wo=!1;var h=t.memoizedState;s.state=h,Iy(t,n,s,a),c=t.memoizedState,l!==n||h!==c||ra.current||Wo?(typeof d=="function"&&(R1(t,r,d,n),c=t.memoizedState),(l=Wo||qA(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,_3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wi(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ei(c):(c=na(r)?Wc:Pn.current,c=Kd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&KA(t,s,n,c),Wo=!1,h=t.memoizedState,s.state=h,Iy(t,n,s,a);var g=t.memoizedState;l!==f||h!==g||ra.current||Wo?(typeof p=="function"&&(R1(t,r,p,n),g=t.memoizedState),(u=Wo||qA(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return B1(e,t,r,n,i,a)}function B1(e,t,r,n,a,i){G3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&LA(t,r,!1),co(e,t,i);n=t.stateNode,yY.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Yd(t,e.child,null,i),t.child=Yd(t,null,l,i)):$n(e,t,l,i),t.memoizedState=n.state,a&&LA(t,r,!0),t.child}function Y3(e){var t=e.stateNode;t.pendingContext?DA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DA(e,t.context,!1),OC(e,t.containerInfo)}function eT(e,t,r,n,a){return Gd(),SC(a),t.flags|=256,$n(e,t,r,n),t.child}var U1={dehydrated:null,treeContext:null,retryLane:0};function z1(e){return{baseLanes:e,cachePool:null,transitions:null}}function J3(e,t,r){var n=t.pendingProps,a=ir.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),zt(ir,a&1),e===null)return $1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Gb(s,n,0,null),e=Ic(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=z1(r),t.memoizedState=U1,e):LC(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return xY(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=yl(l,i):(i=Ic(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?z1(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=U1,n}return i=e.child,e=i.sibling,n=yl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function LC(e,t){return t=Gb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zg(e,t,r,n){return n!==null&&SC(n),Yd(t,e.child,null,r),e=LC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xY(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=p_(Error(pe(422))),Zg(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Gb({mode:"visible",children:n.children},a,0,null),i=Ic(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yd(t,e.child,null,s),t.child.memoizedState=z1(s),t.memoizedState=U1,i);if(!(t.mode&1))return Zg(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pe(419)),n=p_(i,n,void 0),Zg(e,t,s,n)}if(l=(s&e.childLanes)!==0,Zn||l){if(n=tn,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,lo(e,a),Ii(n,e,a,-1))}return WC(),n=p_(Error(pe(421))),Zg(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=TY.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ja=pl(a.nextSibling),Na=t,tr=!0,Oi=null,e!==null&&(Ba[Ua++]=Gs,Ba[Ua++]=Ys,Ba[Ua++]=Hc,Gs=e.id,Ys=e.overflow,Hc=t),t=LC(t,n.children),t.flags|=4096,t)}function tT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),I1(e.return,t,r)}function m_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function X3(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($n(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tT(e,r,t);else if(e.tag===19)tT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ry(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),m_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ry(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}m_(t,!0,r,null,i);break;case"together":m_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ry(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function co(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=yl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bY(e,t,r){switch(t.tag){case 3:Y3(t),Gd();break;case 5:j3(t);break;case 1:na(t.type)&&Oy(t);break;case 4:OC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;zt(My,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?J3(e,t,r):(zt(ir,ir.current&1),e=co(e,t,r),e!==null?e.sibling:null);zt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return X3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),zt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,K3(e,t,r)}return co(e,t,r)}var Q3,V1,Z3,e5;Q3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};V1=function(){};Z3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xc(ms.current);var i=null;switch(r){case"input":a=d1(e,a),n=d1(e,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=p1(e,a),n=p1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ey)}g1(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};e5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ch(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function bn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wY(e,t,r){var n=t.pendingProps;switch(jC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(t),null;case 1:return na(t.type)&&Py(),bn(t),null;case 3:return n=t.stateNode,Jd(),Xt(ra),Xt(Pn),TC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Oi!==null&&(X1(Oi),Oi=null))),V1(e,t),bn(t),null;case 5:AC(t);var a=xc(Up.current);if(r=t.type,e!==null&&t.stateNode!=null)Z3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return bn(t),null}if(e=xc(ms.current),Xg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[os]=t,n[Fp]=i,e=(t.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(a=0;a<Jh.length;a++)Gt(Jh[a],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":uA(n,i),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",n);break;case"textarea":fA(n,i),Gt("invalid",n)}g1(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Jg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Jg(n.textContent,l,e),a=["children",""+l]):Pp.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Gt("scroll",n)}switch(r){case"input":zg(n),dA(n,i,!0);break;case"textarea":zg(n),hA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ey)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[os]=t,e[Fp]=n,Q3(e,t,!1,!1),t.stateNode=e;e:{switch(s=v1(r,n),r){case"dialog":Gt("cancel",e),Gt("close",e),a=n;break;case"iframe":case"object":case"embed":Gt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jh.length;a++)Gt(Jh[a],e);a=n;break;case"source":Gt("error",e),a=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=n;break;case"details":Gt("toggle",e),a=n;break;case"input":uA(e,n),a=d1(e,n),Gt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),Gt("invalid",e);break;case"textarea":fA(e,n),a=p1(e,n),Gt("invalid",e);break;default:a=n}g1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?AF(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PF(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Op(e,c):typeof c=="number"&&Op(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&lC(e,i,c,s))}switch(r){case"input":zg(e),dA(e,n,!1);break;case"textarea":zg(e),hA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?_d(e,!!n.multiple,i,!1):n.defaultValue!=null&&_d(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ey)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bn(t),null;case 6:if(e&&t.stateNode!=null)e5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=xc(Up.current),xc(ms.current),Xg(t)){if(n=t.stateNode,r=t.memoizedProps,n[os]=t,(i=n.nodeValue!==r)&&(e=Na,e!==null))switch(e.tag){case 3:Jg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Jg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[os]=t,t.stateNode=n}return bn(t),null;case 13:if(Xt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&ja!==null&&t.mode&1&&!(t.flags&128))y3(),Gd(),t.flags|=98560,i=!1;else if(i=Xg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[os]=t}else Gd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;bn(t),i=!1}else Oi!==null&&(X1(Oi),Oi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?zr===0&&(zr=3):WC())),t.updateQueue!==null&&(t.flags|=4),bn(t),null);case 4:return Jd(),V1(e,t),e===null&&Dp(t.stateNode.containerInfo),bn(t),null;case 10:return CC(t.type._context),bn(t),null;case 17:return na(t.type)&&Py(),bn(t),null;case 19:if(Xt(ir),i=t.memoizedState,i===null)return bn(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Ch(i,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ry(e),s!==null){for(t.flags|=128,Ch(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zt(ir,ir.current&1|2),t.child}e=e.sibling}i.tail!==null&&wr()>Qd&&(t.flags|=128,n=!0,Ch(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ry(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ch(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tr)return bn(t),null}else 2*wr()-i.renderingStartTime>Qd&&r!==1073741824&&(t.flags|=128,n=!0,Ch(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wr(),t.sibling=null,r=ir.current,zt(ir,n?r&1|2:r&1),t):(bn(t),null);case 22:case 23:return VC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pa&1073741824&&(bn(t),t.subtreeFlags&6&&(t.flags|=8192)):bn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function _Y(e,t){switch(jC(t),t.tag){case 1:return na(t.type)&&Py(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jd(),Xt(ra),Xt(Pn),TC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return AC(t),null;case 13:if(Xt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Gd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xt(ir),null;case 4:return Jd(),null;case 10:return CC(t.type._context),null;case 22:case 23:return VC(),null;case 24:return null;default:return null}}var ev=!1,Sn=!1,jY=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function ud(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pr(e,t,n)}else r.current=null}function W1(e,t,r){try{r()}catch(n){pr(e,t,n)}}var rT=!1;function SY(e,t){if(C1=Ny,e=i3(),wC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(E1={focusedElem:e,selectionRange:r},Ny=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:wi(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(_){pr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return g=rT,rT=!1,g}function dp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&W1(t,r,i)}a=a.next}while(a!==n)}}function qb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function H1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function t5(e){var t=e.alternate;t!==null&&(e.alternate=null,t5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[Fp],delete t[A1],delete t[sY],delete t[oY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function r5(e){return e.tag===5||e.tag===3||e.tag===4}function nT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||r5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function q1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ey));else if(n!==4&&(e=e.child,e!==null))for(q1(e,t,r),e=e.sibling;e!==null;)q1(e,t,r),e=e.sibling}function K1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(K1(e,t,r),e=e.sibling;e!==null;)K1(e,t,r),e=e.sibling}var cn=null,ki=!1;function To(e,t,r){for(r=r.child;r!==null;)n5(e,t,r),r=r.sibling}function n5(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Lb,r)}catch{}switch(r.tag){case 5:Sn||ud(r,t);case 6:var n=cn,a=ki;cn=null,To(e,t,r),cn=n,ki=a,cn!==null&&(ki?(e=cn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cn.removeChild(r.stateNode));break;case 18:cn!==null&&(ki?(e=cn,r=r.stateNode,e.nodeType===8?l_(e.parentNode,r):e.nodeType===1&&l_(e,r),$p(e)):l_(cn,r.stateNode));break;case 4:n=cn,a=ki,cn=r.stateNode.containerInfo,ki=!0,To(e,t,r),cn=n,ki=a;break;case 0:case 11:case 14:case 15:if(!Sn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&W1(r,t,s),a=a.next}while(a!==n)}To(e,t,r);break;case 1:if(!Sn&&(ud(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){pr(r,t,l)}To(e,t,r);break;case 21:To(e,t,r);break;case 22:r.mode&1?(Sn=(n=Sn)||r.memoizedState!==null,To(e,t,r),Sn=n):To(e,t,r);break;default:To(e,t,r)}}function aT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jY),t.forEach(function(n){var a=MY.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function fi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:cn=l.stateNode,ki=!1;break e;case 3:cn=l.stateNode.containerInfo,ki=!0;break e;case 4:cn=l.stateNode.containerInfo,ki=!0;break e}l=l.return}if(cn===null)throw Error(pe(160));n5(i,s,a),cn=null,ki=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){pr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)a5(t,e),t=t.sibling}function a5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fi(t,e),Zi(e),n&4){try{dp(3,e,e.return),qb(3,e)}catch(m){pr(e,e.return,m)}try{dp(5,e,e.return)}catch(m){pr(e,e.return,m)}}break;case 1:fi(t,e),Zi(e),n&512&&r!==null&&ud(r,r.return);break;case 5:if(fi(t,e),Zi(e),n&512&&r!==null&&ud(r,r.return),e.flags&32){var a=e.stateNode;try{Op(a,"")}catch(m){pr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&kF(a,i),v1(l,s);var u=v1(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?AF(a,f):d==="dangerouslySetInnerHTML"?PF(a,f):d==="children"?Op(a,f):lC(a,d,f,u)}switch(l){case"input":f1(a,i);break;case"textarea":CF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_d(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?_d(a,!!i.multiple,i.defaultValue,!0):_d(a,!!i.multiple,i.multiple?[]:"",!1))}a[Fp]=i}catch(m){pr(e,e.return,m)}}break;case 6:if(fi(t,e),Zi(e),n&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){pr(e,e.return,m)}}break;case 3:if(fi(t,e),Zi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$p(t.containerInfo)}catch(m){pr(e,e.return,m)}break;case 4:fi(t,e),Zi(e);break;case 13:fi(t,e),Zi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(UC=wr())),n&4&&aT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Sn=(u=Sn)||d,fi(t,e),Sn=u):fi(t,e),Zi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ce=e,d=e.child;d!==null;){for(f=Ce=d;Ce!==null;){switch(h=Ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:dp(4,h,h.return);break;case 1:ud(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){pr(n,r,m)}}break;case 5:ud(h,h.return);break;case 22:if(h.memoizedState!==null){sT(f);continue}}p!==null?(p.return=h,Ce=p):sT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=OF("display",s))}catch(m){pr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){pr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fi(t,e),Zi(e),n&4&&aT(e);break;case 21:break;default:fi(t,e),Zi(e)}}function Zi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(r5(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Op(a,""),n.flags&=-33);var i=nT(e);K1(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=nT(e);q1(e,l,s);break;default:throw Error(pe(161))}}catch(c){pr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function NY(e,t,r){Ce=e,i5(e)}function i5(e,t,r){for(var n=(e.mode&1)!==0;Ce!==null;){var a=Ce,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||ev;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Sn;l=ev;var u=Sn;if(ev=s,(Sn=c)&&!u)for(Ce=a;Ce!==null;)s=Ce,c=s.child,s.tag===22&&s.memoizedState!==null?oT(a):c!==null?(c.return=s,Ce=c):oT(a);for(;i!==null;)Ce=i,i5(i),i=i.sibling;Ce=a,ev=l,Sn=u}iT(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ce=i):iT(e)}}function iT(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Sn||qb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Sn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:wi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&VA(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}VA(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&$p(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Sn||t.flags&512&&H1(t)}catch(h){pr(t,t.return,h)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function sT(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function oT(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qb(4,t)}catch(c){pr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){pr(t,a,c)}}var i=t.return;try{H1(t)}catch(c){pr(t,i,c)}break;case 5:var s=t.return;try{H1(t)}catch(c){pr(t,s,c)}}}catch(c){pr(t,t.return,c)}if(t===e){Ce=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ce=l;break}Ce=t.return}}var kY=Math.ceil,Fy=wo.ReactCurrentDispatcher,FC=wo.ReactCurrentOwner,Ka=wo.ReactCurrentBatchConfig,gt=0,tn=null,Or=null,fn=0,pa=0,dd=Ml(0),zr=0,Hp=null,Kc=0,Kb=0,BC=0,fp=null,Qn=null,UC=0,Qd=1/0,Fs=null,By=!1,G1=null,gl=null,tv=!1,sl=null,Uy=0,hp=0,Y1=null,ny=-1,ay=0;function Wn(){return gt&6?wr():ny!==-1?ny:ny=wr()}function vl(e){return e.mode&1?gt&2&&fn!==0?fn&-fn:cY.transition!==null?(ay===0&&(ay=VF()),ay):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:JF(e.type)),e):1}function Ii(e,t,r,n){if(50<hp)throw hp=0,Y1=null,Error(pe(185));ng(e,r,n),(!(gt&2)||e!==tn)&&(e===tn&&(!(gt&2)&&(Kb|=r),zr===4&&Jo(e,fn)),aa(e,n),r===1&&gt===0&&!(t.mode&1)&&(Qd=wr()+500,Vb&&$l()))}function aa(e,t){var r=e.callbackNode;cG(e,t);var n=Sy(e,e===tn?fn:0);if(n===0)r!==null&&gA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gA(r),t===1)e.tag===0?lY(lT.bind(null,e)):m3(lT.bind(null,e)),aY(function(){!(gt&6)&&$l()}),r=null;else{switch(WF(n)){case 1:r=hC;break;case 4:r=UF;break;case 16:r=jy;break;case 536870912:r=zF;break;default:r=jy}r=h5(r,s5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function s5(e,t){if(ny=-1,ay=0,gt&6)throw Error(pe(327));var r=e.callbackNode;if(Cd()&&e.callbackNode!==r)return null;var n=Sy(e,e===tn?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zy(e,n);else{t=n;var a=gt;gt|=2;var i=l5();(tn!==e||fn!==t)&&(Fs=null,Qd=wr()+500,$c(e,t));do try{PY();break}catch(l){o5(e,l)}while(!0);kC(),Fy.current=i,gt=a,Or!==null?t=0:(tn=null,fn=0,t=zr)}if(t!==0){if(t===2&&(a=_1(e),a!==0&&(n=a,t=J1(e,a))),t===1)throw r=Hp,$c(e,0),Jo(e,n),aa(e,wr()),r;if(t===6)Jo(e,n);else{if(a=e.current.alternate,!(n&30)&&!CY(a)&&(t=zy(e,n),t===2&&(i=_1(e),i!==0&&(n=i,t=J1(e,i))),t===1))throw r=Hp,$c(e,0),Jo(e,n),aa(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:oc(e,Qn,Fs);break;case 3:if(Jo(e,n),(n&130023424)===n&&(t=UC+500-wr(),10<t)){if(Sy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Wn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=O1(oc.bind(null,e,Qn,Fs),t);break}oc(e,Qn,Fs);break;case 4:if(Jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-$i(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kY(n/1960))-n,10<n){e.timeoutHandle=O1(oc.bind(null,e,Qn,Fs),n);break}oc(e,Qn,Fs);break;case 5:oc(e,Qn,Fs);break;default:throw Error(pe(329))}}}return aa(e,wr()),e.callbackNode===r?s5.bind(null,e):null}function J1(e,t){var r=fp;return e.current.memoizedState.isDehydrated&&($c(e,t).flags|=256),e=zy(e,t),e!==2&&(t=Qn,Qn=r,t!==null&&X1(t)),e}function X1(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function CY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Bi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~BC,t&=~Kb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-$i(t),n=1<<r;e[r]=-1,t&=~n}}function lT(e){if(gt&6)throw Error(pe(327));Cd();var t=Sy(e,0);if(!(t&1))return aa(e,wr()),null;var r=zy(e,t);if(e.tag!==0&&r===2){var n=_1(e);n!==0&&(t=n,r=J1(e,n))}if(r===1)throw r=Hp,$c(e,0),Jo(e,t),aa(e,wr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oc(e,Qn,Fs),aa(e,wr()),null}function zC(e,t){var r=gt;gt|=1;try{return e(t)}finally{gt=r,gt===0&&(Qd=wr()+500,Vb&&$l())}}function Gc(e){sl!==null&&sl.tag===0&&!(gt&6)&&Cd();var t=gt;gt|=1;var r=Ka.transition,n=Pt;try{if(Ka.transition=null,Pt=1,e)return e()}finally{Pt=n,Ka.transition=r,gt=t,!(gt&6)&&$l()}}function VC(){pa=dd.current,Xt(dd)}function $c(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nY(r)),Or!==null)for(r=Or.return;r!==null;){var n=r;switch(jC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Py();break;case 3:Jd(),Xt(ra),Xt(Pn),TC();break;case 5:AC(n);break;case 4:Jd();break;case 13:Xt(ir);break;case 19:Xt(ir);break;case 10:CC(n.type._context);break;case 22:case 23:VC()}r=r.return}if(tn=e,Or=e=yl(e.current,null),fn=pa=t,zr=0,Hp=null,BC=Kb=Kc=0,Qn=fp=null,yc!==null){for(t=0;t<yc.length;t++)if(r=yc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}yc=null}return e}function o5(e,t){do{var r=Or;try{if(kC(),ey.current=Ly,Dy){for(var n=cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Dy=!1}if(qc=0,Xr=Lr=cr=null,up=!1,zp=0,FC.current=null,r===null||r.return===null){zr=1,Hp=t,Or=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=fn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=YA(s);if(p!==null){p.flags&=-257,JA(p,s,l,i,t),p.mode&1&&GA(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){GA(i,u,t),WC();break e}c=Error(pe(426))}}else if(tr&&l.mode&1){var v=YA(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),JA(v,s,l,i,t),SC(Xd(c,l));break e}}i=c=Xd(c,l),zr!==4&&(zr=2),fp===null?fp=[i]:fp.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=W3(i,c,t);zA(i,b);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gl===null||!gl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=H3(i,l,t);zA(i,_);break e}}i=i.return}while(i!==null)}u5(r)}catch(S){t=S,Or===r&&r!==null&&(Or=r=r.return);continue}break}while(!0)}function l5(){var e=Fy.current;return Fy.current=Ly,e===null?Ly:e}function WC(){(zr===0||zr===3||zr===2)&&(zr=4),tn===null||!(Kc&268435455)&&!(Kb&268435455)||Jo(tn,fn)}function zy(e,t){var r=gt;gt|=2;var n=l5();(tn!==e||fn!==t)&&(Fs=null,$c(e,t));do try{EY();break}catch(a){o5(e,a)}while(!0);if(kC(),gt=r,Fy.current=n,Or!==null)throw Error(pe(261));return tn=null,fn=0,zr}function EY(){for(;Or!==null;)c5(Or)}function PY(){for(;Or!==null&&!eG();)c5(Or)}function c5(e){var t=f5(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?u5(e):Or=t,FC.current=null}function u5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_Y(r,t),r!==null){r.flags&=32767,Or=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Or=null;return}}else if(r=wY(r,t,pa),r!==null){Or=r;return}if(t=t.sibling,t!==null){Or=t;return}Or=t=e}while(t!==null);zr===0&&(zr=5)}function oc(e,t,r){var n=Pt,a=Ka.transition;try{Ka.transition=null,Pt=1,OY(e,t,r,n)}finally{Ka.transition=a,Pt=n}return null}function OY(e,t,r,n){do Cd();while(sl!==null);if(gt&6)throw Error(pe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(uG(e,i),e===tn&&(Or=tn=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tv||(tv=!0,h5(jy,function(){return Cd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ka.transition,Ka.transition=null;var s=Pt;Pt=1;var l=gt;gt|=4,FC.current=null,SY(e,r),a5(r,e),JG(E1),Ny=!!C1,E1=C1=null,e.current=r,NY(r),tG(),gt=l,Pt=s,Ka.transition=i}else e.current=r;if(tv&&(tv=!1,sl=e,Uy=a),i=e.pendingLanes,i===0&&(gl=null),aG(r.stateNode),aa(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(By)throw By=!1,e=G1,G1=null,e;return Uy&1&&e.tag!==0&&Cd(),i=e.pendingLanes,i&1?e===Y1?hp++:(hp=0,Y1=e):hp=0,$l(),null}function Cd(){if(sl!==null){var e=WF(Uy),t=Ka.transition,r=Pt;try{if(Ka.transition=null,Pt=16>e?16:e,sl===null)var n=!1;else{if(e=sl,sl=null,Uy=0,gt&6)throw Error(pe(331));var a=gt;for(gt|=4,Ce=e.current;Ce!==null;){var i=Ce,s=i.child;if(Ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ce=u;Ce!==null;){var d=Ce;switch(d.tag){case 0:case 11:case 15:dp(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ce=f;else for(;Ce!==null;){d=Ce;var h=d.sibling,p=d.return;if(t5(d),d===u){Ce=null;break}if(h!==null){h.return=p,Ce=h;break}Ce=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ce=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ce=s;else e:for(;Ce!==null;){if(i=Ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dp(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ce=b;break e}Ce=i.return}}var y=e.current;for(Ce=y;Ce!==null;){s=Ce;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ce=w;else e:for(s=y;Ce!==null;){if(l=Ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qb(9,l)}}catch(S){pr(l,l.return,S)}if(l===s){Ce=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ce=_;break e}Ce=l.return}}if(gt=a,$l(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Lb,e)}catch{}n=!0}return n}finally{Pt=r,Ka.transition=t}}return!1}function cT(e,t,r){t=Xd(r,t),t=W3(e,t,1),e=ml(e,t,1),t=Wn(),e!==null&&(ng(e,1,t),aa(e,t))}function pr(e,t,r){if(e.tag===3)cT(e,e,r);else for(;t!==null;){if(t.tag===3){cT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gl===null||!gl.has(n))){e=Xd(r,e),e=H3(t,e,1),t=ml(t,e,1),e=Wn(),t!==null&&(ng(t,1,e),aa(t,e));break}}t=t.return}}function AY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(fn&r)===r&&(zr===4||zr===3&&(fn&130023424)===fn&&500>wr()-UC?$c(e,0):BC|=r),aa(e,t)}function d5(e,t){t===0&&(e.mode&1?(t=Hg,Hg<<=1,!(Hg&130023424)&&(Hg=4194304)):t=1);var r=Wn();e=lo(e,t),e!==null&&(ng(e,t,r),aa(e,r))}function TY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),d5(e,r)}function MY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),d5(e,r)}var f5;f5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ra.current)Zn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zn=!1,bY(e,t,r);Zn=!!(e.flags&131072)}else Zn=!1,tr&&t.flags&1048576&&g3(t,Ty,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ry(e,t),e=t.pendingProps;var a=Kd(t,Pn.current);kd(t,r),a=$C(null,t,n,e,a,r);var i=IC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(n)?(i=!0,Oy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,PC(t),a.updater=Hb,t.stateNode=a,a._reactInternals=t,D1(t,n,e,r),t=B1(null,t,n,!0,i,r)):(t.tag=0,tr&&i&&_C(t),$n(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ry(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IY(n),e=wi(n,e),a){case 0:t=F1(null,t,n,e,r);break e;case 1:t=ZA(null,t,n,e,r);break e;case 11:t=XA(null,t,n,e,r);break e;case 14:t=QA(null,t,n,wi(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wi(n,a),F1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wi(n,a),ZA(e,t,n,a,r);case 3:e:{if(Y3(t),e===null)throw Error(pe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,_3(e,t),Iy(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Xd(Error(pe(423)),t),t=eT(e,t,n,r,a);break e}else if(n!==a){a=Xd(Error(pe(424)),t),t=eT(e,t,n,r,a);break e}else for(ja=pl(t.stateNode.containerInfo.firstChild),Na=t,tr=!0,Oi=null,r=b3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gd(),n===a){t=co(e,t,r);break e}$n(e,t,n,r)}t=t.child}return t;case 5:return j3(t),e===null&&$1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,P1(n,a)?s=null:i!==null&&P1(n,i)&&(t.flags|=32),G3(e,t),$n(e,t,s,r),t.child;case 6:return e===null&&$1(t),null;case 13:return J3(e,t,r);case 4:return OC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yd(t,null,n,r):$n(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wi(n,a),XA(e,t,n,a,r);case 7:return $n(e,t,t.pendingProps,r),t.child;case 8:return $n(e,t,t.pendingProps.children,r),t.child;case 12:return $n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,zt(My,n._currentValue),n._currentValue=s,i!==null)if(Bi(i.value,s)){if(i.children===a.children&&!ra.current){t=co(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=to(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),I1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(pe(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),I1(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}$n(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,kd(t,r),a=ei(a),n=n(a),t.flags|=1,$n(e,t,n,r),t.child;case 14:return n=t.type,a=wi(n,t.pendingProps),a=wi(n.type,a),QA(e,t,n,a,r);case 15:return q3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:wi(n,a),ry(e,t),t.tag=1,na(n)?(e=!0,Oy(t)):e=!1,kd(t,r),V3(t,n,a),D1(t,n,a,r),B1(null,t,n,!0,e,r);case 19:return X3(e,t,r);case 22:return K3(e,t,r)}throw Error(pe(156,t.tag))};function h5(e,t){return BF(e,t)}function $Y(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wa(e,t,r,n){return new $Y(e,t,r,n)}function HC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IY(e){if(typeof e=="function")return HC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===uC)return 11;if(e===dC)return 14}return 2}function yl(e,t){var r=e.alternate;return r===null?(r=Wa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function iy(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")HC(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case td:return Ic(r.children,a,i,t);case cC:s=8,a|=8;break;case o1:return e=Wa(12,r,t,a|2),e.elementType=o1,e.lanes=i,e;case l1:return e=Wa(13,r,t,a),e.elementType=l1,e.lanes=i,e;case c1:return e=Wa(19,r,t,a),e.elementType=c1,e.lanes=i,e;case jF:return Gb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wF:s=10;break e;case _F:s=9;break e;case uC:s=11;break e;case dC:s=14;break e;case Vo:s=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Wa(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ic(e,t,r,n){return e=Wa(7,e,n,t),e.lanes=r,e}function Gb(e,t,r,n){return e=Wa(22,e,n,t),e.elementType=jF,e.lanes=r,e.stateNode={isHidden:!1},e}function g_(e,t,r){return e=Wa(6,e,null,t),e.lanes=r,e}function v_(e,t,r){return t=Wa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function RY(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xw(0),this.expirationTimes=Xw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qC(e,t,r,n,a,i,s,l,c){return e=new RY(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Wa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},PC(i),e}function DY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function p5(e){if(!e)return Sl;e=e._reactInternals;e:{if(pu(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(na(r))return p3(e,r,t)}return t}function m5(e,t,r,n,a,i,s,l,c){return e=qC(r,n,!0,e,a,i,s,l,c),e.context=p5(null),r=e.current,n=Wn(),a=vl(r),i=to(n,a),i.callback=t??null,ml(r,i,a),e.current.lanes=a,ng(e,a,n),aa(e,n),e}function Yb(e,t,r,n){var a=t.current,i=Wn(),s=vl(a);return r=p5(r),t.context===null?t.context=r:t.pendingContext=r,t=to(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ml(a,t,s),e!==null&&(Ii(e,a,s,i),Zv(e,a,s)),s}function Vy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function KC(e,t){uT(e,t),(e=e.alternate)&&uT(e,t)}function LY(){return null}var g5=typeof reportError=="function"?reportError:function(e){console.error(e)};function GC(e){this._internalRoot=e}Jb.prototype.render=GC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Yb(e,t,null,null)};Jb.prototype.unmount=GC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gc(function(){Yb(null,e,null,null)}),t[oo]=null}};function Jb(e){this._internalRoot=e}Jb.prototype.unstable_scheduleHydration=function(e){if(e){var t=KF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yo.length&&t!==0&&t<Yo[r].priority;r++);Yo.splice(r,0,e),r===0&&YF(e)}};function YC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function dT(){}function FY(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Vy(s);i.call(u)}}var s=m5(t,n,e,0,null,!1,!1,"",dT);return e._reactRootContainer=s,e[oo]=s.current,Dp(e.nodeType===8?e.parentNode:e),Gc(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Vy(c);l.call(u)}}var c=qC(e,0,!1,null,null,!1,!1,"",dT);return e._reactRootContainer=c,e[oo]=c.current,Dp(e.nodeType===8?e.parentNode:e),Gc(function(){Yb(t,c,r,n)}),c}function Qb(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Vy(s);l.call(c)}}Yb(t,s,e,a)}else s=FY(r,t,e,a,n);return Vy(s)}HF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yh(t.pendingLanes);r!==0&&(pC(t,r|1),aa(t,wr()),!(gt&6)&&(Qd=wr()+500,$l()))}break;case 13:Gc(function(){var n=lo(e,1);if(n!==null){var a=Wn();Ii(n,e,1,a)}}),KC(e,1)}};mC=function(e){if(e.tag===13){var t=lo(e,134217728);if(t!==null){var r=Wn();Ii(t,e,134217728,r)}KC(e,134217728)}};qF=function(e){if(e.tag===13){var t=vl(e),r=lo(e,t);if(r!==null){var n=Wn();Ii(r,e,t,n)}KC(e,t)}};KF=function(){return Pt};GF=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};x1=function(e,t,r){switch(t){case"input":if(f1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=zb(n);if(!a)throw Error(pe(90));NF(n),f1(n,a)}}}break;case"textarea":CF(e,r);break;case"select":t=r.value,t!=null&&_d(e,!!r.multiple,t,!1)}};$F=zC;IF=Gc;var BY={usingClientEntryPoint:!1,Events:[ig,id,zb,TF,MF,zC]},Eh={findFiberByHostInstance:vc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UY={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LF(e),e===null?null:e.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||LY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rv.isDisabled&&rv.supportsFiber)try{Lb=rv.inject(UY),ps=rv}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BY;Aa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YC(t))throw Error(pe(200));return DY(e,t,null,r)};Aa.createRoot=function(e,t){if(!YC(e))throw Error(pe(299));var r=!1,n="",a=g5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=qC(e,1,!1,null,null,r,!1,n,a),e[oo]=t.current,Dp(e.nodeType===8?e.parentNode:e),new GC(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=LF(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return Gc(e)};Aa.hydrate=function(e,t,r){if(!Xb(t))throw Error(pe(200));return Qb(null,e,t,!0,r)};Aa.hydrateRoot=function(e,t,r){if(!YC(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=g5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=m5(t,null,e,1,r??null,a,!1,i,s),e[oo]=t.current,Dp(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Jb(t)};Aa.render=function(e,t,r){if(!Xb(t))throw Error(pe(200));return Qb(null,e,t,!1,r)};Aa.unmountComponentAtNode=function(e){if(!Xb(e))throw Error(pe(40));return e._reactRootContainer?(Gc(function(){Qb(null,null,e,!1,function(){e._reactRootContainer=null,e[oo]=null})}),!0):!1};Aa.unstable_batchedUpdates=zC;Aa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Xb(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Qb(e,t,r,!1,n)};Aa.version="18.3.1-next-f1338f8080-20240426";function v5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v5)}catch(e){console.error(e)}}v5(),vF.exports=Aa;var mu=vF.exports;const y5=kt(mu);var x5,fT=mu;x5=fT.createRoot,fT.hydrateRoot;const zY=1,VY=1e6;let y_=0;function WY(){return y_=(y_+1)%Number.MAX_SAFE_INTEGER,y_.toString()}const x_=new Map,hT=e=>{if(x_.has(e))return;const t=setTimeout(()=>{x_.delete(e),pp({type:"REMOVE_TOAST",toastId:e})},VY);x_.set(e,t)},HY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,zY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?hT(r):e.toasts.forEach(n=>{hT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},sy=[];let oy={toasts:[]};function pp(e){oy=HY(oy,e),sy.forEach(t=>{t(oy)})}function qY({...e}){const t=WY(),r=a=>pp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>pp({type:"DISMISS_TOAST",toastId:t});return pp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function JC(){const[e,t]=x.useState(oy);return x.useEffect(()=>(sy.push(t),()=>{const r=sy.indexOf(t);r>-1&&sy.splice(r,1)}),[e]),{...e,toast:qY,dismiss:r=>pp({type:"DISMISS_TOAST",toastId:r})}}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function pT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ns(...e){return t=>{let r=!1;const n=e.map(a=>{const i=pT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():pT(e[a],null)}}}}function We(...e){return x.useCallback(Ns(...e),e)}function KY(e,t){const r=x.createContext(t),n=i=>{const{children:s,...l}=i,c=x.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=x.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gn(e,t=[]){let r=[];function n(i,s){const l=x.createContext(s),c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>x.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,GY(a,...t)]}function GY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function mT(e){const t=YY(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(XY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function YY(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=ZY(a),l=QY(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JY=Symbol("radix.slottable");function XY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JY}function QY(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ZY(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Zb(e){const t=e+"CollectionProvider",[r,n]=gn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:b}=m,y=M.useRef(null),w=M.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:w,collectionRef:y,children:b})};s.displayName=t;const l=e+"CollectionSlot",c=mT(l),u=M.forwardRef((m,v)=>{const{scope:b,children:y}=m,w=i(l,b),_=We(v,w.collectionRef);return o.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=mT(d),p=M.forwardRef((m,v)=>{const{scope:b,children:y,...w}=m,_=M.useRef(null),S=We(v,_),N=i(d,b);return M.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function g(m){const v=i(e+"CollectionConsumer",m);return M.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},g,n]}function eJ(e){const t=tJ(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(nJ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function tJ(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=iJ(a),l=aJ(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rJ=Symbol("radix.slottable");function nJ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rJ}function aJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function iJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=sJ.reduce((e,t)=>{const r=eJ(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function XC(e,t){e&&mu.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lJ="DismissableLayer",Q1="dismissableLayer.update",cJ="dismissableLayer.pointerDownOutside",uJ="dismissableLayer.focusOutside",gT,b5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=x.useContext(b5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),g=We(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,S=fJ(k=>{const C=k.target,A=[...u.branches].some(T=>T.contains(C));!_||A||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},h),N=hJ(k=>{const C=k.target;[...u.branches].some(T=>T.contains(C))||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},h);return oJ(k=>{y===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(gT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),vT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=gT)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),vT())},[d,u]),x.useEffect(()=>{const k=()=>p({});return document.addEventListener(Q1,k),()=>document.removeEventListener(Q1,k)},[]),o.jsx(Te.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,N.onFocusCapture),onBlurCapture:de(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,S.onPointerDownCapture)})});gu.displayName=lJ;var dJ="DismissableLayerBranch",w5=x.forwardRef((e,t)=>{const r=x.useContext(b5),n=x.useRef(null),a=We(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Te.div,{...e,ref:a})});w5.displayName=dJ;function fJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){_5(cJ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&_5(uJ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vT(){const e=new CustomEvent(Q1);document.dispatchEvent(e)}function _5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?XC(a,i):a.dispatchEvent(i)}var pJ=gu,mJ=w5,Sr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},gJ="Portal",Jf=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=x.useState(!1);Sr(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?y5.createPortal(o.jsx(Te.div,{...n,ref:t}),s):null});Jf.displayName=gJ;function vJ(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Hr=e=>{const{present:t,children:r}=e,n=yJ(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=We(n.ref,xJ(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};Hr.displayName="Presence";function yJ(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),s=e?"mounted":"unmounted",[l,c]=vJ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=nv(n.current);i.current=l==="mounted"?u:"none"},[l]),Sr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=nv(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=nv(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=nv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function nv(e){return(e==null?void 0:e.animationName)||"none"}function xJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bJ=Db[" useInsertionEffect ".trim().toString()]||Sr;function Ui({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=wJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=_J(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else i(d)},[l,e,i,s]);return[c,u]}function wJ({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return bJ(()=>{i.current=t},[t]),x.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function _J(e){return typeof e=="function"}var j5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jJ="VisuallyHidden",e0=x.forwardRef((e,t)=>o.jsx(Te.span,{...e,ref:t,style:{...j5,...e.style}}));e0.displayName=jJ;var SJ=e0,QC="ToastProvider",[ZC,NJ,kJ]=Zb("Toast"),[S5]=gn("Toast",[kJ]),[CJ,t0]=S5(QC),N5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${QC}\`. Expected non-empty \`string\`.`),o.jsx(ZC.Provider,{scope:t,children:o.jsx(CJ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};N5.displayName=QC;var k5="ToastViewport",EJ=["F8"],Z1="toast.viewportPause",eS="toast.viewportResume",C5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=EJ,label:a="Notifications ({hotkey})",...i}=e,s=t0(k5,r),l=NJ(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=We(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;x.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const y=()=>{if(!s.isClosePausedRef.current){const N=new CustomEvent(Z1);b.dispatchEvent(N),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const N=new CustomEvent(eS);b.dispatchEvent(N),s.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",_),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,s.isClosePausedRef]);const m=x.useCallback(({tabbingDirection:v})=>{const y=l().map(w=>{const _=w.ref.current,S=[_,...UJ(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const v=f.current;if(v){const b=y=>{var S,N,k;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const C=document.activeElement,A=y.shiftKey;if(y.target===v&&A){(S=u.current)==null||S.focus();return}const O=m({tabbingDirection:A?"backwards":"forwards"}),L=O.findIndex(I=>I===C);b_(O.slice(L+1))?y.preventDefault():A?(N=u.current)==null||N.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,m]),o.jsxs(mJ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(tS,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});b_(v)}}),o.jsx(ZC.Slot,{scope:r,children:o.jsx(Te.ol,{tabIndex:-1,...i,ref:h})}),g&&o.jsx(tS,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});b_(v)}})]})});C5.displayName=k5;var E5="ToastFocusProxy",tS=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=t0(E5,r);return o.jsx(e0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});tS.displayName=E5;var og="Toast",PJ="toast.swipeStart",OJ="toast.swipeMove",AJ="toast.swipeCancel",TJ="toast.swipeEnd",P5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=Ui({prop:n,defaultProp:a??!0,onChange:i,caller:og});return o.jsx(Hr,{present:r||l,children:o.jsx(IJ,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:xr(e.onPause),onResume:xr(e.onResume),onSwipeStart:de(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:de(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});P5.displayName=og;var[MJ,$J]=S5(og,{onClose(){}}),IJ=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=t0(og,r),[v,b]=x.useState(null),y=We(t,I=>b(I)),w=x.useRef(null),_=x.useRef(null),S=a||m.duration,N=x.useRef(0),k=x.useRef(S),C=x.useRef(0),{onToastAdd:A,onToastRemove:T}=m,$=xr(()=>{var B;(v==null?void 0:v.contains(document.activeElement))&&((B=m.viewport)==null||B.focus()),s()}),O=x.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout($,I))},[$]);x.useEffect(()=>{const I=m.viewport;if(I){const B=()=>{O(k.current),u==null||u()},H=()=>{const V=new Date().getTime()-N.current;k.current=k.current-V,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(Z1,H),I.addEventListener(eS,B),()=>{I.removeEventListener(Z1,H),I.removeEventListener(eS,B)}}},[m.viewport,S,c,u,O]),x.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(S)},[i,S,m.isClosePausedRef,O]),x.useEffect(()=>(A(),()=>T()),[A,T]);const L=x.useMemo(()=>v?R5(v):null,[v]);return m.viewport?o.jsxs(o.Fragment,{children:[L&&o.jsx(RJ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),o.jsx(MJ,{scope:r,onClose:$,children:mu.createPortal(o.jsx(ZC.ItemSlot,{scope:r,children:o.jsx(pJ,{asChild:!0,onEscapeKeyDown:de(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||$(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Te.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:de(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:de(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:de(e.onPointerMove,I=>{if(!w.current)return;const B=I.clientX-w.current.x,H=I.clientY-w.current.y,V=!!_.current,R=["left","right"].includes(m.swipeDirection),U=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,G=R?U(0,B):0,te=R?0:U(0,H),Q=I.pointerType==="touch"?10:2,j={x:G,y:te},P={originalEvent:I,delta:j};V?(_.current=j,av(OJ,f,P,{discrete:!1})):yT(j,m.swipeDirection,Q)?(_.current=j,av(PJ,d,P,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(B)>Q||Math.abs(H)>Q)&&(w.current=null)}),onPointerUp:de(e.onPointerUp,I=>{const B=_.current,H=I.target;if(H.hasPointerCapture(I.pointerId)&&H.releasePointerCapture(I.pointerId),_.current=null,w.current=null,B){const V=I.currentTarget,R={originalEvent:I,delta:B};yT(B,m.swipeDirection,m.swipeThreshold)?av(TJ,p,R,{discrete:!0}):av(AJ,h,R,{discrete:!0}),V.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),RJ=e=>{const{__scopeToast:t,children:r,...n}=e,a=t0(og,t),[i,s]=x.useState(!1),[l,c]=x.useState(!1);return FJ(()=>s(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Jf,{asChild:!0,children:o.jsx(e0,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},DJ="ToastTitle",O5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});O5.displayName=DJ;var LJ="ToastDescription",A5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});A5.displayName=LJ;var T5="ToastAction",M5=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(I5,{altText:r,asChild:!0,children:o.jsx(eE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${T5}\`. Expected non-empty \`string\`.`),null)});M5.displayName=T5;var $5="ToastClose",eE=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=$J($5,r);return o.jsx(I5,{asChild:!0,children:o.jsx(Te.button,{type:"button",...n,ref:t,onClick:de(e.onClick,a.onClose)})})});eE.displayName=$5;var I5=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Te.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function R5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),BJ(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...R5(n))}}),t}function av(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?XC(a,i):a.dispatchEvent(i)}var yT=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function FJ(e=()=>{}){const t=xr(e);Sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function BJ(e){return e.nodeType===e.ELEMENT_NODE}function UJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function b_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var zJ=N5,D5=C5,L5=P5,F5=O5,B5=A5,U5=M5,z5=eE;function V5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=V5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=V5(e))&&(n&&(n+=" "),n+=t);return n}const xT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,bT=Xe,r0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return bT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=xT(d)||xT(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return bT(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),W5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>x.createElement("svg",{ref:c,...WJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:W5("lucide",a),...l},[...s.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(HJ,{ref:i,iconNode:t,className:W5(`lucide-${VJ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=be("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=be("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=be("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=be("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=be("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=be("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=be("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=be("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=be("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=be("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=be("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sE="-",wX=e=>{const t=jX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(sE);return l[0]===""&&l.length!==1&&l.shift(),Z5(l,t)||_X(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},Z5=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Z5(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(sE);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},kT=/^\[(.+)\]$/,_X=e=>{if(kT.test(e)){const t=kT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},jX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return NX(Object.entries(e.classGroups),r).forEach(([i,s])=>{aS(s,n,i,t)}),n},aS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:CT(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(SX(a)){aS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{aS(s,CT(t,i),r,n)})})},CT=(e,t)=>{let r=e;return t.split(sE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},SX=e=>e.isThemeGetter,NX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[r,a]}):e,kX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},eB="!",CX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(eB),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},EX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},PX=e=>({cache:kX(e.cacheSize),parseClassName:CX(e),...wX(e)}),OX=/\s+/,AX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(OX);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=EX(d).join(":"),b=f?v+eB:v,y=b+m;if(i.includes(y))continue;i.push(y);const w=a(m,g);for(let _=0;_<w.length;++_){const S=w[_];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function TX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=tB(t))&&(n&&(n+=" "),n+=r);return n}const tB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=tB(e[n]))&&(r&&(r+=" "),r+=t);return r};function MX(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=PX(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=AX(c,r);return a(c,d),d}return function(){return i(TX.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},rB=/^\[(?:([a-z-]+):)?(.+)\]$/i,$X=/^\d+\/\d+$/,IX=new Set(["px","full","screen"]),RX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,LX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,FX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,BX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ms=e=>Ed(e)||IX.has(e)||$X.test(e),Mo=e=>Qf(e,"length",GX),Ed=e=>!!e&&!Number.isNaN(Number(e)),S_=e=>Qf(e,"number",Ed),Ph=e=>!!e&&Number.isInteger(Number(e)),UX=e=>e.endsWith("%")&&Ed(e.slice(0,-1)),at=e=>rB.test(e),$o=e=>RX.test(e),zX=new Set(["length","size","percentage"]),VX=e=>Qf(e,zX,nB),WX=e=>Qf(e,"position",nB),HX=new Set(["image","url"]),qX=e=>Qf(e,HX,JX),KX=e=>Qf(e,"",YX),Oh=()=>!0,Qf=(e,t,r)=>{const n=rB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},GX=e=>DX.test(e)&&!LX.test(e),nB=()=>!1,YX=e=>FX.test(e),JX=e=>BX.test(e),XX=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),s=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),p=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),m=Kt("inset"),v=Kt("margin"),b=Kt("opacity"),y=Kt("padding"),w=Kt("saturate"),_=Kt("scale"),S=Kt("sepia"),N=Kt("skew"),k=Kt("space"),C=Kt("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",at,t],O=()=>[at,t],L=()=>["",Ms,Mo],I=()=>["auto",Ed,at],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",at],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[Ed,at];return{cacheSize:500,separator:":",theme:{colors:[Oh],spacing:[Ms,Mo],blur:["none","",$o,at],brightness:te(),borderColor:[e],borderRadius:["none","","full",$o,at],borderSpacing:O(),borderWidth:L(),contrast:te(),grayscale:U(),hueRotate:te(),invert:U(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[UX,Mo],inset:$(),margin:$(),opacity:te(),padding:O(),saturate:te(),scale:te(),sepia:U(),skew:te(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",at]}],container:["container"],columns:[{columns:[$o]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),at]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ph,at]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",at]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ph,at]}],"grid-cols":[{"grid-cols":[Oh]}],"col-start-end":[{col:["auto",{span:["full",Ph,at]},at]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Oh]}],"row-start-end":[{row:["auto",{span:[Ph,at]},at]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",at]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",at]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",at,t]}],"min-w":[{"min-w":[at,t,"min","max","fit"]}],"max-w":[{"max-w":[at,t,"none","full","min","max","fit","prose",{screen:[$o]},$o]}],h:[{h:[at,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[at,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[at,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$o,Mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",S_]}],"font-family":[{font:[Oh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",at]}],"line-clamp":[{"line-clamp":["none",Ed,S_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ms,at]}],"list-image":[{"list-image":["none",at]}],"list-style-type":[{list:["none","disc","decimal",at]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ms,Mo]}],"underline-offset":[{"underline-offset":["auto",Ms,at]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),WX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",VX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:H()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Ms,at]}],"outline-w":[{outline:[Ms,Mo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ms,Mo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$o,KX]}],"shadow-color":[{shadow:[Oh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$o,at]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",at]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",at]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",at]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ph,at]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",at]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ms,Mo,S_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QX=MX(XX);function ge(...e){return QX(Xe(e))}const ZX=zJ,aB=x.forwardRef(({className:e,...t},r)=>o.jsx(D5,{ref:r,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));aB.displayName=D5.displayName;const eQ=r0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iB=x.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(L5,{ref:n,className:ge(eQ({variant:t}),e),...r}));iB.displayName=L5.displayName;const tQ=x.forwardRef(({className:e,...t},r)=>o.jsx(U5,{ref:r,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));tQ.displayName=U5.displayName;const sB=x.forwardRef(({className:e,...t},r)=>o.jsx(z5,{ref:r,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(_o,{className:"h-4 w-4"})}));sB.displayName=z5.displayName;const oB=x.forwardRef(({className:e,...t},r)=>o.jsx(F5,{ref:r,className:ge("text-sm font-semibold",e),...t}));oB.displayName=F5.displayName;const lB=x.forwardRef(({className:e,...t},r)=>o.jsx(B5,{ref:r,className:ge("text-sm opacity-90",e),...t}));lB.displayName=B5.displayName;function rQ(){const{toasts:e}=JC();return o.jsxs(ZX,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return o.jsxs(iB,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(oB,{children:r}),n&&o.jsx(lB,{children:n})]}),a,o.jsx(sB,{})]},t)}),o.jsx(aB,{})]})}var ET=["light","dark"],nQ="(prefers-color-scheme: dark)",aQ=x.createContext(void 0),iQ={setTheme:e=>{},themes:[]},sQ=()=>{var e;return(e=x.useContext(aQ))!=null?e:iQ};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?ET.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let b=s?s[g]:g,y=m?g+"|| ''":`'${b}'`,w="";return a&&v&&!m&&ET.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${nQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var oQ=e=>{switch(e){case"success":return uQ;case"info":return fQ;case"warning":return dQ;case"error":return hQ;default:return null}},lQ=Array(12).fill(0),cQ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},lQ.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mQ=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},iS=1,gQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:iS++,s=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,s,l=a.then(async u=>{if(s=["resolve",u],M.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(yQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||iS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jn=new gQ,vQ=(e,t)=>{let r=(t==null?void 0:t.id)||iS++;return Jn.addToast({title:e,...t,id:r}),r},yQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",xQ=vQ,bQ=()=>Jn.toasts,wQ=()=>Jn.getActiveToasts(),fe=Object.assign(xQ,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:bQ,getToasts:wQ});function _Q(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}_Q(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iv(e){return e.label!==void 0}var jQ=3,SQ="32px",NQ="16px",PT=4e3,kQ=356,CQ=14,EQ=20,PQ=200;function hi(...e){return e.filter(Boolean).join(" ")}function OQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var AQ=e=>{var t,r,n,a,i,s,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:_,expanded:S,removeToast:N,defaultRichColors:k,closeButton:C,style:A,cancelButtonStyle:T,actionButtonStyle:$,className:O="",descriptionClassName:L="",duration:I,position:B,gap:H,loadingIcon:V,expandByDefault:R,classNames:U,icons:G,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:Q}=e,[j,P]=M.useState(null),[E,F]=M.useState(null),[D,K]=M.useState(!1),[q,J]=M.useState(!1),[Z,Y]=M.useState(!1),[ye,ke]=M.useState(!1),[Ke,nt]=M.useState(!1),[Ue,it]=M.useState(0),[Mt,dr]=M.useState(0),W=M.useRef(p.duration||I||PT),z=M.useRef(null),X=M.useRef(null),ue=w===0,le=w+1<=b,oe=p.type,Oe=p.dismissible!==!1,ht=p.className||"",pt=p.descriptionClassName||"",nr=M.useMemo(()=>y.findIndex(tt=>tt.toastId===p.id)||0,[y,p.id]),Ia=M.useMemo(()=>{var tt;return(tt=p.closeButton)!=null?tt:C},[p.closeButton,C]),Yn=M.useMemo(()=>p.duration||I||PT,[p.duration,I]),ae=M.useRef(0),ct=M.useRef(0),wt=M.useRef(0),vn=M.useRef(null),[Qi,As]=B.split("-"),Ts=M.useMemo(()=>y.reduce((tt,At,Zt)=>Zt>=nr?tt:tt+At.height,0),[y,nr]),Yl=mQ(),Dg=p.invert||h,Pu=oe==="loading";ct.current=M.useMemo(()=>nr*H+Ts,[nr,Ts]),M.useEffect(()=>{W.current=Yn},[Yn]),M.useEffect(()=>{K(!0)},[]),M.useEffect(()=>{let tt=X.current;if(tt){let At=tt.getBoundingClientRect().height;return dr(At),v(Zt=>[{toastId:p.id,height:At,position:p.position},...Zt]),()=>v(Zt=>Zt.filter(ci=>ci.toastId!==p.id))}},[v,p.id]),M.useLayoutEffect(()=>{if(!D)return;let tt=X.current,At=tt.style.height;tt.style.height="auto";let Zt=tt.getBoundingClientRect().height;tt.style.height=At,dr(Zt),v(ci=>ci.find(ui=>ui.toastId===p.id)?ci.map(ui=>ui.toastId===p.id?{...ui,height:Zt}:ui):[{toastId:p.id,height:Zt,position:p.position},...ci])},[D,p.title,p.description,v,p.id]);let li=M.useCallback(()=>{J(!0),it(ct.current),v(tt=>tt.filter(At=>At.toastId!==p.id)),setTimeout(()=>{N(p)},PQ)},[p,N,v,ct]);M.useEffect(()=>{if(p.promise&&oe==="loading"||p.duration===1/0||p.type==="loading")return;let tt;return S||m||Q&&Yl?(()=>{if(wt.current<ae.current){let At=new Date().getTime()-ae.current;W.current=W.current-At}wt.current=new Date().getTime()})():W.current!==1/0&&(ae.current=new Date().getTime(),tt=setTimeout(()=>{var At;(At=p.onAutoClose)==null||At.call(p,p),li()},W.current)),()=>clearTimeout(tt)},[S,m,p,oe,Q,Yl,li]),M.useEffect(()=>{p.delete&&li()},[li,p.delete]);function hK(){var tt,At,Zt;return G!=null&&G.loading?M.createElement("div",{className:hi(U==null?void 0:U.loader,(tt=p==null?void 0:p.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":oe==="loading"},G.loading):V?M.createElement("div",{className:hi(U==null?void 0:U.loader,(At=p==null?void 0:p.classNames)==null?void 0:At.loader,"sonner-loader"),"data-visible":oe==="loading"},V):M.createElement(cQ,{className:hi(U==null?void 0:U.loader,(Zt=p==null?void 0:p.classNames)==null?void 0:Zt.loader),visible:oe==="loading"})}return M.createElement("li",{tabIndex:0,ref:X,className:hi(O,ht,U==null?void 0:U.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[oe],(r=p==null?void 0:p.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":D,"data-promise":!!p.promise,"data-swiped":Ke,"data-removed":q,"data-visible":le,"data-y-position":Qi,"data-x-position":As,"data-index":w,"data-front":ue,"data-swiping":Z,"data-dismissible":Oe,"data-type":oe,"data-invert":Dg,"data-swipe-out":ye,"data-swipe-direction":E,"data-expanded":!!(S||R&&D),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${q?Ue:ct.current}px`,"--initial-height":R?"auto":`${Mt}px`,...A,...p.style},onDragEnd:()=>{Y(!1),P(null),vn.current=null},onPointerDown:tt=>{Pu||!Oe||(z.current=new Date,it(ct.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Y(!0),vn.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,At,Zt,ci;if(ye||!Oe)return;vn.current=null;let ui=Number(((tt=X.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Oo=Number(((At=X.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jl=new Date().getTime()-((Zt=z.current)==null?void 0:Zt.getTime()),di=j==="x"?ui:Oo,Ao=Math.abs(di)/Jl;if(Math.abs(di)>=EQ||Ao>.11){it(ct.current),(ci=p.onDismiss)==null||ci.call(p,p),F(j==="x"?ui>0?"right":"left":Oo>0?"down":"up"),li(),ke(!0),nt(!1);return}Y(!1),P(null)},onPointerMove:tt=>{var At,Zt,ci,ui;if(!vn.current||!Oe||((At=window.getSelection())==null?void 0:At.toString().length)>0)return;let Oo=tt.clientY-vn.current.y,Jl=tt.clientX-vn.current.x,di=(Zt=e.swipeDirections)!=null?Zt:OQ(B);!j&&(Math.abs(Jl)>1||Math.abs(Oo)>1)&&P(Math.abs(Jl)>Math.abs(Oo)?"x":"y");let Ao={x:0,y:0};j==="y"?(di.includes("top")||di.includes("bottom"))&&(di.includes("top")&&Oo<0||di.includes("bottom")&&Oo>0)&&(Ao.y=Oo):j==="x"&&(di.includes("left")||di.includes("right"))&&(di.includes("left")&&Jl<0||di.includes("right")&&Jl>0)&&(Ao.x=Jl),(Math.abs(Ao.x)>0||Math.abs(Ao.y)>0)&&nt(!0),(ci=X.current)==null||ci.style.setProperty("--swipe-amount-x",`${Ao.x}px`),(ui=X.current)==null||ui.style.setProperty("--swipe-amount-y",`${Ao.y}px`)}},Ia&&!p.jsx?M.createElement("button",{"aria-label":te,"data-disabled":Pu,"data-close-button":!0,onClick:Pu||!Oe?()=>{}:()=>{var tt;li(),(tt=p.onDismiss)==null||tt.call(p,p)},className:hi(U==null?void 0:U.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=G==null?void 0:G.close)!=null?i:pQ):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:M.createElement(M.Fragment,null,oe||p.icon||p.promise?M.createElement("div",{"data-icon":"",className:hi(U==null?void 0:U.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||hK():null,p.type!=="loading"?p.icon||(G==null?void 0:G[oe])||oQ(oe):null):null,M.createElement("div",{"data-content":"",className:hi(U==null?void 0:U.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:hi(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?M.createElement("div",{"data-description":"",className:hi(L,pt,U==null?void 0:U.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&iv(p.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:tt=>{var At,Zt;iv(p.cancel)&&Oe&&((Zt=(At=p.cancel).onClick)==null||Zt.call(At,tt),li())},className:hi(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&iv(p.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:tt=>{var At,Zt;iv(p.action)&&((Zt=(At=p.action).onClick)==null||Zt.call(At,tt),!tt.defaultPrevented&&li())},className:hi(U==null?void 0:U.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function OT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function TQ(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?NQ:SQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var MQ=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=jQ,toastOptions:m,dir:v=OT(),gap:b=CQ,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,k]=M.useState([]),C=M.useMemo(()=>Array.from(new Set([n].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,n]),[A,T]=M.useState([]),[$,O]=M.useState(!1),[L,I]=M.useState(!1),[B,H]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=M.useRef(null),G=M.useRef(!1),te=M.useCallback(Q=>{k(j=>{var P;return(P=j.find(E=>E.id===Q.id))!=null&&P.delete||Jn.dismiss(Q.id),j.filter(({id:E})=>E!==Q.id)})},[]);return M.useEffect(()=>Jn.subscribe(Q=>{if(Q.dismiss){k(j=>j.map(P=>P.id===Q.id?{...P,delete:!0}:P));return}setTimeout(()=>{y5.flushSync(()=>{k(j=>{let P=j.findIndex(E=>E.id===Q.id);return P!==-1?[...j.slice(0,P),{...j[P],...Q},...j.slice(P+1)]:[Q,...j]})})})}),[]),M.useEffect(()=>{if(d!=="system"){H(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:j})=>{H(j?"dark":"light")})}catch{Q.addListener(({matches:P})=>{try{H(P?"dark":"light")}catch(E){console.error(E)}})}},[d]),M.useEffect(()=>{N.length<=1&&O(!1)},[N]),M.useEffect(()=>{let Q=j=>{var P,E;a.every(F=>j[F]||j.code===F)&&(O(!0),(P=V.current)==null||P.focus()),j.code==="Escape"&&(document.activeElement===V.current||(E=V.current)!=null&&E.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[a]),M.useEffect(()=>{if(V.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,G.current=!1)}},[V.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Q,j)=>{var P;let[E,F]=Q.split("-");return N.length?M.createElement("ol",{key:Q,dir:v==="auto"?OT():v,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":B,"data-y-position":E,"data-lifted":$&&N.length>1&&!i,"data-x-position":F,style:{"--front-toast-height":`${((P=A[0])==null?void 0:P.height)||0}px`,"--width":`${kQ}px`,"--gap":`${b}px`,...p,...TQ(c,u)},onBlur:D=>{G.current&&!D.currentTarget.contains(D.relatedTarget)&&(G.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||G.current||(G.current=!0,U.current=D.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},N.filter(D=>!D.position&&j===0||D.position===Q).map((D,K)=>{var q,J;return M.createElement(AQ,{key:D.id,icons:w,index:K,toast:D,defaultRichColors:f,duration:(q=m==null?void 0:m.duration)!=null?q:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(J=m==null?void 0:m.closeButton)!=null?J:s,interacting:L,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:te,toasts:N.filter(Z=>Z.position==D.position),heights:A.filter(Z=>Z.position==D.position),setHeights:T,expandByDefault:i,gap:b,loadingIcon:y,expanded:$,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const $Q=({...e})=>{const{theme:t="system"}=sQ();return o.jsx(MQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var IQ=Db[" useId ".trim().toString()]||(()=>{}),RQ=0;function Ri(e){const[t,r]=x.useState(IQ());return Sr(()=>{r(n=>n??String(RQ++))},[e]),t?`radix-${t}`:""}const DQ=["top","right","bottom","left"],kl=Math.min,ya=Math.max,Hy=Math.round,sv=Math.floor,vs=e=>({x:e,y:e}),LQ={left:"right",right:"left",bottom:"top",top:"bottom"},FQ={start:"end",end:"start"};function sS(e,t,r){return ya(e,kl(t,r))}function fo(e,t){return typeof e=="function"?e(t):e}function ho(e){return e.split("-")[0]}function Zf(e){return e.split("-")[1]}function oE(e){return e==="x"?"y":"x"}function lE(e){return e==="y"?"height":"width"}const BQ=new Set(["top","bottom"]);function cs(e){return BQ.has(ho(e))?"y":"x"}function cE(e){return oE(cs(e))}function UQ(e,t,r){r===void 0&&(r=!1);const n=Zf(e),a=cE(e),i=lE(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=qy(s)),[s,qy(s)]}function zQ(e){const t=qy(e);return[oS(e),t,oS(t)]}function oS(e){return e.replace(/start|end/g,t=>FQ[t])}const AT=["left","right"],TT=["right","left"],VQ=["top","bottom"],WQ=["bottom","top"];function HQ(e,t,r){switch(e){case"top":case"bottom":return r?t?TT:AT:t?AT:TT;case"left":case"right":return t?VQ:WQ;default:return[]}}function qQ(e,t,r,n){const a=Zf(e);let i=HQ(ho(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(oS)))),i}function qy(e){return e.replace(/left|right|bottom|top/g,t=>LQ[t])}function KQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function cB(e){return typeof e!="number"?KQ(e):{top:e,right:e,bottom:e,left:e}}function Ky(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function MT(e,t,r){let{reference:n,floating:a}=e;const i=cs(t),s=cE(t),l=lE(s),c=ho(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Zf(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const GQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=MT(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:b}=l[m],{x:y,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=y??d,f=w??f,p={...p,[v]:{...p[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=MT(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Kp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=fo(t,e),g=cB(p),v=l[h?f==="floating"?"reference":"floating":f],b=Ky(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Ky(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-S.top+g.top)/_.y,bottom:(S.bottom-b.bottom+g.bottom)/_.y,left:(b.left-S.left+g.left)/_.x,right:(S.right-b.right+g.right)/_.x}}const YQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=fo(e,t)||{};if(u==null)return{};const f=cB(d),h={x:r,y:n},p=cE(a),g=lE(p),m=await s.getDimensions(u),v=p==="y",b=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=N?N[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(N)))&&(k=l.floating[w]||i.floating[g]);const C=_/2-S/2,A=k/2-m[g]/2-1,T=kl(f[b],A),$=kl(f[y],A),O=T,L=k-m[g]-$,I=k/2-m[g]/2+C,B=sS(O,I,L),H=!c.arrow&&Zf(a)!=null&&I!==B&&i.reference[g]/2-(I<O?T:$)-m[g]/2<0,V=H?I<O?I-O:I-L:0;return{[p]:h[p]+V,data:{[p]:B,centerOffset:I-B-V,...H&&{alignmentOffset:V}},reset:H}}}),JQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=fo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=ho(a),y=cs(l),w=ho(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!m?[qy(l)]:zQ(l)),N=g!=="none";!h&&N&&S.push(...qQ(l,m,g,_));const k=[l,...S],C=await Kp(t,v),A=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[b]),f){const I=UQ(a,s,_);A.push(C[I[0]],C[I[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every(I=>I<=0)){var $,O;const I=((($=i.flip)==null?void 0:$.index)||0)+1,B=k[I];if(B&&(!(f==="alignment"?y!==cs(B):!1)||T.every(R=>cs(R.placement)===y?R.overflows[0]>0:!0)))return{data:{index:I,overflows:T},reset:{placement:B}};let H=(O=T.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!H)switch(p){case"bestFit":{var L;const V=(L=T.filter(R=>{if(N){const U=cs(R.placement);return U===y||U==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(U=>U>0).reduce((U,G)=>U+G,0)]).sort((R,U)=>R[1]-U[1])[0])==null?void 0:L[0];V&&(H=V);break}case"initialPlacement":H=l;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function $T(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function IT(e){return DQ.some(t=>e[t]>=0)}const XQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=fo(e,t);switch(n){case"referenceHidden":{const i=await Kp(t,{...a,elementContext:"reference"}),s=$T(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:IT(s)}}}case"escaped":{const i=await Kp(t,{...a,altBoundary:!0}),s=$T(i,r.floating);return{data:{escapedOffsets:s,escaped:IT(s)}}}default:return{}}}}},uB=new Set(["left","top"]);async function QQ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=ho(r),l=Zf(r),c=cs(r)==="y",u=uB.has(s)?-1:1,d=i&&c?-1:1,f=fo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const ZQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await QQ(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},eZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=fo(e,t),u={x:r,y:n},d=await Kp(t,c),f=cs(ho(a)),h=oE(f);let p=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+d[v],w=p-d[b];p=sS(y,p,w)}if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=g+d[v],w=g-d[b];g=sS(y,g,w)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:s}}}}}},tZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=fo(e,t),d={x:r,y:n},f=cs(a),h=oE(f);let p=d[h],g=d[f];const m=fo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var b,y;const w=h==="y"?"width":"height",_=uB.has(ho(a)),S=i.reference[f]-i.floating[w]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((y=s.offset)==null?void 0:y[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:p,[f]:g}}}},rZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...u}=fo(e,t),d=await Kp(t,u),f=ho(a),h=Zf(a),p=cs(a)==="y",{width:g,height:m}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=g-d.left-d.right,_=kl(m-d[v],y),S=kl(g-d[b],w),N=!t.middlewareData.shift;let k=_,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=y),N&&!h){const T=ya(d.left,0),$=ya(d.right,0),O=ya(d.top,0),L=ya(d.bottom,0);p?C=g-2*(T!==0||$!==0?T+$:ya(d.left,d.right)):k=m-2*(O!==0||L!==0?O+L:ya(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const A=await s.getDimensions(l.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function n0(){return typeof window<"u"}function eh(e){return dB(e)?(e.nodeName||"").toLowerCase():"#document"}function ka(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(dB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function dB(e){return n0()?e instanceof Node||e instanceof ka(e).Node:!1}function Vi(e){return n0()?e instanceof Element||e instanceof ka(e).Element:!1}function _s(e){return n0()?e instanceof HTMLElement||e instanceof ka(e).HTMLElement:!1}function RT(e){return!n0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ka(e).ShadowRoot}const nZ=new Set(["inline","contents"]);function ug(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Wi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nZ.has(a)}const aZ=new Set(["table","td","th"]);function iZ(e){return aZ.has(eh(e))}const sZ=[":popover-open",":modal"];function a0(e){return sZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const oZ=["transform","translate","scale","rotate","perspective"],lZ=["transform","translate","scale","rotate","perspective","filter"],cZ=["paint","layout","strict","content"];function uE(e){const t=dE(),r=Vi(e)?Wi(e):e;return oZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lZ.some(n=>(r.willChange||"").includes(n))||cZ.some(n=>(r.contain||"").includes(n))}function uZ(e){let t=Cl(e);for(;_s(t)&&!rf(t);){if(uE(t))return t;if(a0(t))return null;t=Cl(t)}return null}function dE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dZ=new Set(["html","body","#document"]);function rf(e){return dZ.has(eh(e))}function Wi(e){return ka(e).getComputedStyle(e)}function i0(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cl(e){if(eh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||RT(e)&&e.host||ks(e);return RT(t)?t.host:t}function fB(e){const t=Cl(e);return rf(t)?e.ownerDocument?e.ownerDocument.body:e.body:_s(t)&&ug(t)?t:fB(t)}function Gp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=fB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=ka(a);if(i){const l=lS(s);return t.concat(s,s.visualViewport||[],ug(a)?a:[],l&&r?Gp(l):[])}return t.concat(a,Gp(a,[],r))}function lS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function hB(e){const t=Wi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=_s(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=Hy(r)!==i||Hy(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function fE(e){return Vi(e)?e:e.contextElement}function Pd(e){const t=fE(e);if(!_s(t))return vs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=hB(t);let s=(i?Hy(r.width):r.width)/n,l=(i?Hy(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const fZ=vs(0);function pB(e){const t=ka(e);return!dE()||!t.visualViewport?fZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function hZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ka(e)?!1:t}function Jc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=fE(e);let s=vs(1);t&&(n?Vi(n)&&(s=Pd(n)):s=Pd(e));const l=hZ(i,r,n)?pB(i):vs(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=ka(i),p=n&&Vi(n)?ka(n):n;let g=h,m=lS(g);for(;m&&n&&p!==g;){const v=Pd(m),b=m.getBoundingClientRect(),y=Wi(m),w=b.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,_=b.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=ka(m),m=lS(g)}}return Ky({width:d,height:f,x:c,y:u})}function s0(e,t){const r=i0(e).scrollLeft;return t?t.left+r:Jc(ks(e)).left+r}function mB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-s0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function pZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=ks(n),l=t?a0(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=vs(1);const d=vs(0),f=_s(n);if((f||!f&&!i)&&((eh(n)!=="body"||ug(s))&&(c=i0(n)),_s(n))){const p=Jc(n);u=Pd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?mB(s,c):vs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function mZ(e){return Array.from(e.getClientRects())}function gZ(e){const t=ks(e),r=i0(e),n=e.ownerDocument.body,a=ya(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ya(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+s0(e);const l=-r.scrollTop;return Wi(n).direction==="rtl"&&(s+=ya(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const DT=25;function vZ(e,t){const r=ka(e),n=ks(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=dE();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=s0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=DT&&(i-=g)}else u<=DT&&(i+=u);return{width:i,height:s,x:l,y:c}}const yZ=new Set(["absolute","fixed"]);function xZ(e,t){const r=Jc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=_s(e)?Pd(e):vs(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function LT(e,t,r){let n;if(t==="viewport")n=vZ(e,r);else if(t==="document")n=gZ(ks(e));else if(Vi(t))n=xZ(t,r);else{const a=pB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Ky(n)}function gB(e,t){const r=Cl(e);return r===t||!Vi(r)||rf(r)?!1:Wi(r).position==="fixed"||gB(r,t)}function bZ(e,t){const r=t.get(e);if(r)return r;let n=Gp(e,[],!1).filter(l=>Vi(l)&&eh(l)!=="body"),a=null;const i=Wi(e).position==="fixed";let s=i?Cl(e):e;for(;Vi(s)&&!rf(s);){const l=Wi(s),c=uE(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&yZ.has(a.position)||ug(s)&&!c&&gB(e,s))?n=n.filter(d=>d!==s):a=l,s=Cl(s)}return t.set(e,n),n}function wZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?a0(t)?[]:bZ(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=LT(t,d,a);return u.top=ya(f.top,u.top),u.right=kl(f.right,u.right),u.bottom=kl(f.bottom,u.bottom),u.left=ya(f.left,u.left),u},LT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _Z(e){const{width:t,height:r}=hB(e);return{width:t,height:r}}function jZ(e,t,r){const n=_s(t),a=ks(t),i=r==="fixed",s=Jc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=vs(0);function u(){c.x=s0(a)}if(n||!n&&!i)if((eh(t)!=="body"||ug(a))&&(l=i0(t)),n){const p=Jc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?mB(a,l):vs(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function N_(e){return Wi(e).position==="static"}function FT(e,t){if(!_s(e)||Wi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ks(e)===r&&(r=r.ownerDocument.body),r}function vB(e,t){const r=ka(e);if(a0(e))return r;if(!_s(e)){let a=Cl(e);for(;a&&!rf(a);){if(Vi(a)&&!N_(a))return a;a=Cl(a)}return r}let n=FT(e,t);for(;n&&iZ(n)&&N_(n);)n=FT(n,t);return n&&rf(n)&&N_(n)&&!uE(n)?r:n||uZ(e)||r}const SZ=async function(e){const t=this.getOffsetParent||vB,r=this.getDimensions,n=await r(e.floating);return{reference:jZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NZ(e){return Wi(e).direction==="rtl"}const kZ={convertOffsetParentRelativeRectToViewportRelativeRect:pZ,getDocumentElement:ks,getClippingRect:wZ,getOffsetParent:vB,getElementRects:SZ,getClientRects:mZ,getDimensions:_Z,getScale:Pd,isElement:Vi,isRTL:NZ};function yB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function CZ(e,t){let r=null,n;const a=ks(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=sv(f),m=sv(a.clientWidth-(d+h)),v=sv(a.clientHeight-(f+p)),b=sv(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:ya(0,kl(1,c))||1};let _=!0;function S(N){const k=N[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!yB(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return s(!0),i}function EZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=fE(e),d=a||i?[...u?Gp(u):[],...Gp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?CZ(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Jc(e):null;c&&v();function v(){const b=Jc(e);m&&!yB(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const PZ=ZQ,OZ=eZ,AZ=JQ,TZ=rZ,MZ=XQ,BT=YQ,$Z=tZ,IZ=(e,t,r)=>{const n=new Map,a={platform:kZ,...r},i={...a.platform,_c:n};return GQ(e,t,{...a,platform:i})};var RZ=typeof document<"u",DZ=function(){},cy=RZ?x.useLayoutEffect:DZ;function Gy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Gy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function xB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function UT(e,t){const r=xB(e);return Math.round(t*r)/r}function k_(e){const t=x.useRef(e);return cy(()=>{t.current=e}),t}function LZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Gy(h,n)||p(n);const[g,m]=x.useState(null),[v,b]=x.useState(null),y=x.useCallback(R=>{R!==N.current&&(N.current=R,m(R))},[]),w=x.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=i||g,S=s||v,N=x.useRef(null),k=x.useRef(null),C=x.useRef(d),A=c!=null,T=k_(c),$=k_(a),O=k_(u),L=x.useCallback(()=>{if(!N.current||!k.current)return;const R={placement:t,strategy:r,middleware:h};$.current&&(R.platform=$.current),IZ(N.current,k.current,R).then(U=>{const G={...U,isPositioned:O.current!==!1};I.current&&!Gy(C.current,G)&&(C.current=G,mu.flushSync(()=>{f(G)}))})},[h,t,r,$,O]);cy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const I=x.useRef(!1);cy(()=>(I.current=!0,()=>{I.current=!1}),[]),cy(()=>{if(_&&(N.current=_),S&&(k.current=S),_&&S){if(T.current)return T.current(_,S,L);L()}},[_,S,L,T,A]);const B=x.useMemo(()=>({reference:N,floating:k,setReference:y,setFloating:w}),[y,w]),H=x.useMemo(()=>({reference:_,floating:S}),[_,S]),V=x.useMemo(()=>{const R={position:r,left:0,top:0};if(!H.floating)return R;const U=UT(H.floating,d.x),G=UT(H.floating,d.y);return l?{...R,transform:"translate("+U+"px, "+G+"px)",...xB(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:G}},[r,l,H.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:L,refs:B,elements:H,floatingStyles:V}),[d,L,B,H,V])}const FZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?BT({element:n.current,padding:a}).fn(r):{}:n?BT({element:n,padding:a}).fn(r):{}}}},BZ=(e,t)=>({...PZ(e),options:[e,t]}),UZ=(e,t)=>({...OZ(e),options:[e,t]}),zZ=(e,t)=>({...$Z(e),options:[e,t]}),VZ=(e,t)=>({...AZ(e),options:[e,t]}),WZ=(e,t)=>({...TZ(e),options:[e,t]}),HZ=(e,t)=>({...MZ(e),options:[e,t]}),qZ=(e,t)=>({...FZ(e),options:[e,t]});var KZ="Arrow",bB=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(Te.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});bB.displayName=KZ;var GZ=bB;function o0(e){const[t,r]=x.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var hE="Popper",[wB,Il]=gn(hE),[YZ,_B]=wB(hE),jB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return o.jsx(YZ,{scope:t,anchor:n,onAnchorChange:a,children:r})};jB.displayName=hE;var SB="PopperAnchor",NB=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=_B(SB,r),s=x.useRef(null),l=We(t,s),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Te.div,{...a,ref:l})});NB.displayName=SB;var pE="PopperContent",[JZ,XZ]=wB(pE),kB=x.forwardRef((e,t)=>{var D,K,q,J,Z,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=_B(pE,r),[b,y]=x.useState(null),w=We(t,ye=>y(ye)),[_,S]=x.useState(null),N=o0(_),k=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,A=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],O=$.length>0,L={padding:T,boundary:$.filter(ZZ),altBoundary:O},{refs:I,floatingStyles:B,placement:H,isPositioned:V,middlewareData:R}=LZ({strategy:"fixed",placement:A,whileElementsMounted:(...ye)=>EZ(...ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[BZ({mainAxis:a+C,alignmentAxis:s}),c&&UZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?zZ():void 0,...L}),c&&VZ({...L}),WZ({...L,apply:({elements:ye,rects:ke,availableWidth:Ke,availableHeight:nt})=>{const{width:Ue,height:it}=ke.reference,Mt=ye.floating.style;Mt.setProperty("--radix-popper-available-width",`${Ke}px`),Mt.setProperty("--radix-popper-available-height",`${nt}px`),Mt.setProperty("--radix-popper-anchor-width",`${Ue}px`),Mt.setProperty("--radix-popper-anchor-height",`${it}px`)}}),_&&qZ({element:_,padding:l}),eee({arrowWidth:k,arrowHeight:C}),h&&HZ({strategy:"referenceHidden",...L})]}),[U,G]=PB(H),te=xr(g);Sr(()=>{V&&(te==null||te())},[V,te]);const Q=(D=R.arrow)==null?void 0:D.x,j=(K=R.arrow)==null?void 0:K.y,P=((q=R.arrow)==null?void 0:q.centerOffset)!==0,[E,F]=x.useState();return Sr(()=>{b&&F(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:V?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(Z=R.transformOrigin)==null?void 0:Z.y].join(" "),...((Y=R.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(JZ,{scope:r,placedSide:U,onArrowChange:S,arrowX:Q,arrowY:j,shouldHideArrow:P,children:o.jsx(Te.div,{"data-side":U,"data-align":G,...m,ref:w,style:{...m.style,animation:V?void 0:"none"}})})})});kB.displayName=pE;var CB="PopperArrow",QZ={top:"bottom",right:"left",bottom:"top",left:"right"},EB=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=XZ(CB,n),s=QZ[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(GZ,{...a,ref:r,style:{...a.style,display:"block"}})})});EB.displayName=CB;function ZZ(e){return e!==null}var eee=e=>({name:"transformOrigin",options:e,fn(t){var v,b,y;const{placement:r,rects:n,middlewareData:a}=t,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=PB(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${h}px`,m=`${-c}px`):u==="top"?(g=s?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x:g,y:m}}}});function PB(e){const[t,r="center"]=e.split("-");return[t,r]}var mE=jB,dg=NB,l0=kB,c0=EB,tee=Symbol("radix.slottable");function ree(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=tee,t}var[u0]=gn("Tooltip",[Il]),gE=Il(),OB="TooltipProvider",nee=700,zT="tooltip.open",[aee,AB]=u0(OB),TB=e=>{const{__scopeTooltip:t,delayDuration:r=nee,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(aee,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};TB.displayName=OB;var MB="Tooltip",[V6e,d0]=u0(MB),cS="TooltipTrigger",iee=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=d0(cS,r),i=AB(cS,r),s=gE(r),l=x.useRef(null),c=We(t,l,a.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(dg,{asChild:!0,...s,children:o.jsx(Te.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:de(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:de(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:de(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:de(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:de(e.onBlur,a.onClose),onClick:de(e.onClick,a.onClose)})})});iee.displayName=cS;var see="TooltipPortal",[W6e,oee]=u0(see,{forceMount:void 0}),nf="TooltipContent",$B=x.forwardRef((e,t)=>{const r=oee(nf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=d0(nf,e.__scopeTooltip);return o.jsx(Hr,{present:n||s.open,children:s.disableHoverableContent?o.jsx(IB,{side:a,...i,ref:t}):o.jsx(lee,{side:a,...i,ref:t})})}),lee=x.forwardRef((e,t)=>{const r=d0(nf,e.__scopeTooltip),n=AB(nf,e.__scopeTooltip),a=x.useRef(null),i=We(t,a),[s,l]=x.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{l(null),f(!1)},[f]),p=x.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},y=hee(b,v.getBoundingClientRect()),w=pee(b,y),_=mee(m.getBoundingClientRect()),S=vee([...w,..._]);l(S),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),x.useEffect(()=>{if(s){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!gee(b,s);y?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,s,u,h]),o.jsx(IB,{...e,ref:i})}),[cee,uee]=u0(MB,{isInside:!1}),dee=ree("TooltipContent"),IB=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=d0(nf,r),u=gE(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(zT,d),()=>document.removeEventListener(zT,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(l0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(dee,{children:n}),o.jsx(cee,{scope:r,isInside:!0,children:o.jsx(SJ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});$B.displayName=nf;var RB="TooltipArrow",fee=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=gE(r);return uee(RB,r).isInside?null:o.jsx(c0,{...a,...n,ref:t})});fee.displayName=RB;function hee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function pee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function mee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function gee(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function vee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),yee(t)}function yee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var xee=TB,DB=$B;const bee=xee,wee=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(DB,{ref:n,sideOffset:t,className:ge("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));wee.displayName=DB.displayName;var f0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_ee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Zo,tC,XL,jee=(XL=class{constructor(){ut(this,Zo,_ee);ut(this,tC,!1)}setTimeoutProvider(e){Ge(this,Zo,e)}setTimeout(e,t){return ne(this,Zo).setTimeout(e,t)}clearTimeout(e){ne(this,Zo).clearTimeout(e)}setInterval(e,t){return ne(this,Zo).setInterval(e,t)}clearInterval(e){ne(this,Zo).clearInterval(e)}},Zo=new WeakMap,tC=new WeakMap,XL),uS=new jee;function See(e){setTimeout(e,0)}var h0=typeof window>"u"||"Deno"in globalThis;function _i(){}function Nee(e,t){return typeof e=="function"?e(t):e}function kee(e){return typeof e=="number"&&e>=0&&e!==1/0}function Cee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dS(e,t){return typeof e=="function"?e(t):e}function Eee(e,t){return typeof e=="function"?e(t):e}function VT(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==vE(s,t.options))return!1}else if(!Jp(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function WT(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Yp(t.options.mutationKey)!==Yp(i))return!1}else if(!Jp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function vE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Yp)(e)}function Yp(e){return JSON.stringify(e,(t,r)=>fS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Jp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jp(e[r],t[r])):!1}var Pee=Object.prototype.hasOwnProperty;function LB(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=HT(e)&&HT(t);if(!n&&!(fS(e)&&fS(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),l=s.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:s[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<i:Pee.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=LB(h,p,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function HT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fS(e){if(!qT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!qT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qT(e){return Object.prototype.toString.call(e)==="[object Object]"}function Oee(e){return new Promise(t=>{uS.setTimeout(t,e)})}function Aee(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?LB(e,t):t}function Tee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Mee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var yE=Symbol();function FB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===yE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function $ee(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Ec,el,Ld,QL,Iee=(QL=class extends f0{constructor(){super();ut(this,Ec);ut(this,el);ut(this,Ld);Ge(this,Ld,t=>{if(!h0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,el)||this.setEventListener(ne(this,Ld))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,el))==null||t.call(this),Ge(this,el,void 0))}setEventListener(t){var r;Ge(this,Ld,t),(r=ne(this,el))==null||r.call(this),Ge(this,el,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ne(this,Ec)!==t&&(Ge(this,Ec,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ne(this,Ec)=="boolean"?ne(this,Ec):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ec=new WeakMap,el=new WeakMap,Ld=new WeakMap,QL),BB=new Iee;function Ree(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Dee=See;function Lee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=Dee;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Rn=Lee(),Fd,tl,Bd,ZL,Fee=(ZL=class extends f0{constructor(){super();ut(this,Fd,!0);ut(this,tl);ut(this,Bd);Ge(this,Bd,t=>{if(!h0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ne(this,tl)||this.setEventListener(ne(this,Bd))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,tl))==null||t.call(this),Ge(this,tl,void 0))}setEventListener(t){var r;Ge(this,Bd,t),(r=ne(this,tl))==null||r.call(this),Ge(this,tl,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Fd)!==t&&(Ge(this,Fd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ne(this,Fd)}},Fd=new WeakMap,tl=new WeakMap,Bd=new WeakMap,ZL),Yy=new Fee;function Bee(e){return Math.min(1e3*2**e,3e4)}function UB(e){return(e??"online")==="online"?Yy.isOnline():!0}var hS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zB(e){let t=!1,r=0,n;const a=Ree(),i=()=>a.status!=="pending",s=m=>{var v;if(!i()){const b=new hS(m);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>BB.isFocused()&&(e.networkMode==="always"||Yy.isOnline())&&e.canRun(),d=()=>UB(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var v;n=b=>{(i()||u())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var N;if(i())return;const y=e.retry??(h0?0:3),w=e.retryDelay??Bee,_=typeof w=="function"?w(r,b):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!S){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),Oee(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}var Pc,eF,VB=(eF=class{constructor(){ut(this,Pc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kee(this.gcTime)&&Ge(this,Pc,uS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(h0?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Pc)&&(uS.clearTimeout(ne(this,Pc)),Ge(this,Pc,void 0))}},Pc=new WeakMap,eF),Oc,Ud,Fa,Ac,Kr,Zm,Tc,Si,Ls,tF,Uee=(tF=class extends VB{constructor(t){super();ut(this,Si);ut(this,Oc);ut(this,Ud);ut(this,Fa);ut(this,Ac);ut(this,Kr);ut(this,Zm);ut(this,Tc);Ge(this,Tc,!1),Ge(this,Zm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ge(this,Ac,t.client),Ge(this,Fa,ne(this,Ac).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ge(this,Oc,GT(this.options)),this.state=t.state??ne(this,Oc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Kr))==null?void 0:t.promise}setOptions(t){if(this.options={...ne(this,Zm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=GT(this.options);r.data!==void 0&&(this.setState(KT(r.data,r.dataUpdatedAt)),Ge(this,Oc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Fa).remove(this)}setData(t,r){const n=Aee(this.state.data,t,this.options);return yn(this,Si,Ls).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){yn(this,Si,Ls).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ne(this,Kr))==null?void 0:n.promise;return(a=ne(this,Kr))==null||a.cancel(t),r?r.then(_i).catch(_i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,Oc))}isActive(){return this.observers.some(t=>Eee(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>dS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Cee(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Kr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Kr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,Fa).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ne(this,Kr)&&(ne(this,Tc)?ne(this,Kr).cancel({revert:!0}):ne(this,Kr).cancelRetry()),this.scheduleGc()),ne(this,Fa).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yn(this,Si,Ls).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=ne(this,Kr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Kr))return ne(this,Kr).continueRetry(),ne(this,Kr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ge(this,Tc,!0),n.signal)})},i=()=>{const _=FB(this.options,r),N=(()=>{const k={client:ne(this,Ac),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Ge(this,Tc,!1),this.options.persister?this.options.persister(_,N,this):_(N)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,Ac),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Ge(this,Ud,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&yn(this,Si,Ls).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ge(this,Kr,zB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof hS&&_.revert&&this.setState({...ne(this,Ud),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{yn(this,Si,Ls).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{yn(this,Si,Ls).call(this,{type:"pause"})},onContinue:()=>{yn(this,Si,Ls).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ne(this,Kr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=ne(this,Fa).config).onSuccess)==null||p.call(h,_,this),(m=(g=ne(this,Fa).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof hS){if(_.silent)return ne(this,Kr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw yn(this,Si,Ls).call(this,{type:"error",error:_}),(b=(v=ne(this,Fa).config).onError)==null||b.call(v,_,this),(w=(y=ne(this,Fa).config).onSettled)==null||w.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},Oc=new WeakMap,Ud=new WeakMap,Fa=new WeakMap,Ac=new WeakMap,Kr=new WeakMap,Zm=new WeakMap,Tc=new WeakMap,Si=new WeakSet,Ls=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...zee(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...KT(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ge(this,Ud,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ne(this,Fa).notify({query:this,type:"updated",action:t})})},tF);function zee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function KT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function GT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function YT(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{$ee(w,()=>t.signal,()=>m=!0)},b=FB(t.options,t.fetchOptions),y=async(w,_,S)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v($),$})(),C=await b(k),{maxPages:A}=t.options,T=S?Mee:Tee;return{pages:T(w.pages,C,A),pageParams:T(w.pageParams,_,A)}};if(a&&i.length){const w=a==="backward",_=w?Vee:JT,S={pages:i,pageParams:s},N=_(n,S);l=await y(S,N,w)}else{const w=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:JT(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function JT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Vee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var eg,ns,Tn,Mc,as,Fo,rF,Wee=(rF=class extends VB{constructor(t){super();ut(this,as);ut(this,eg);ut(this,ns);ut(this,Tn);ut(this,Mc);Ge(this,eg,t.client),this.mutationId=t.mutationId,Ge(this,Tn,t.mutationCache),Ge(this,ns,[]),this.state=t.state||Hee(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,ns).includes(t)||(ne(this,ns).push(t),this.clearGcTimeout(),ne(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ge(this,ns,ne(this,ns).filter(r=>r!==t)),this.scheduleGc(),ne(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,ns).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Tn).remove(this))}continue(){var t;return((t=ne(this,Mc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,p,g,m,v,b,y,w,_,S,N,k,C,A;const r=()=>{yn(this,as,Fo).call(this,{type:"continue"})},n={client:ne(this,eg),meta:this.options.meta,mutationKey:this.options.mutationKey};Ge(this,Mc,zB({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,$)=>{yn(this,as,Fo).call(this,{type:"failed",failureCount:T,error:$})},onPause:()=>{yn(this,as,Fo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Tn).canRun(this)}));const a=this.state.status==="pending",i=!ne(this,Mc).canStart();try{if(a)r();else{yn(this,as,Fo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ne(this,Tn).config).onMutate)==null?void 0:l.call(s,t,this,n));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));$!==this.state.context&&yn(this,as,Fo).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const T=await ne(this,Mc).start();return await((f=(d=ne(this,Tn).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,T,t,this.state.context,n)),await((m=(g=ne(this,Tn).config).onSettled)==null?void 0:m.call(g,T,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context,n)),yn(this,as,Fo).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(y=ne(this,Tn).config).onError)==null?void 0:w.call(y,T,t,this.state.context,this,n))}catch($){Promise.reject($)}try{await((S=(_=this.options).onError)==null?void 0:S.call(_,T,t,this.state.context,n))}catch($){Promise.reject($)}try{await((k=(N=ne(this,Tn).config).onSettled)==null?void 0:k.call(N,void 0,T,this.state.variables,this.state.context,this,n))}catch($){Promise.reject($)}try{await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,T,t,this.state.context,n))}catch($){Promise.reject($)}throw yn(this,as,Fo).call(this,{type:"error",error:T}),T}finally{ne(this,Tn).runNext(this)}}},eg=new WeakMap,ns=new WeakMap,Tn=new WeakMap,Mc=new WeakMap,as=new WeakSet,Fo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rn.batch(()=>{ne(this,ns).forEach(n=>{n.onMutationUpdate(t)}),ne(this,Tn).notify({mutation:this,type:"updated",action:t})})},rF);function Hee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ks,Ni,tg,nF,qee=(nF=class extends f0{constructor(t={}){super();ut(this,Ks);ut(this,Ni);ut(this,tg);this.config=t,Ge(this,Ks,new Set),Ge(this,Ni,new Map),Ge(this,tg,0)}build(t,r,n){const a=new Wee({client:t,mutationCache:this,mutationId:++Lg(this,tg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ne(this,Ks).add(t);const r=ov(t);if(typeof r=="string"){const n=ne(this,Ni).get(r);n?n.push(t):ne(this,Ni).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ne(this,Ks).delete(t)){const r=ov(t);if(typeof r=="string"){const n=ne(this,Ni).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ne(this,Ni).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=ov(t);if(typeof r=="string"){const n=ne(this,Ni).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=ov(t);if(typeof r=="string"){const a=(n=ne(this,Ni).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rn.batch(()=>{ne(this,Ks).forEach(t=>{this.notify({type:"removed",mutation:t})}),ne(this,Ks).clear(),ne(this,Ni).clear()})}getAll(){return Array.from(ne(this,Ks))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>WT(r,n))}findAll(t={}){return this.getAll().filter(r=>WT(t,r))}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(_i))))}},Ks=new WeakMap,Ni=new WeakMap,tg=new WeakMap,nF);function ov(e){var t;return(t=e.options.scope)==null?void 0:t.id}var is,aF,Kee=(aF=class extends f0{constructor(t={}){super();ut(this,is);this.config=t,Ge(this,is,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??vE(a,r);let s=this.get(i);return s||(s=new Uee({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){ne(this,is).has(t.queryHash)||(ne(this,is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ne(this,is).get(t.queryHash);r&&(t.destroy(),r===t&&ne(this,is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,is).get(t)}getAll(){return[...ne(this,is).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>VT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>VT(t,n)):r}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},is=new WeakMap,aF),fr,rl,nl,zd,Vd,al,Wd,Hd,iF,Gee=(iF=class{constructor(e={}){ut(this,fr);ut(this,rl);ut(this,nl);ut(this,zd);ut(this,Vd);ut(this,al);ut(this,Wd);ut(this,Hd);Ge(this,fr,e.queryCache||new Kee),Ge(this,rl,e.mutationCache||new qee),Ge(this,nl,e.defaultOptions||{}),Ge(this,zd,new Map),Ge(this,Vd,new Map),Ge(this,al,0)}mount(){Lg(this,al)._++,ne(this,al)===1&&(Ge(this,Wd,BB.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,fr).onFocus())})),Ge(this,Hd,Yy.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,fr).onOnline())})))}unmount(){var e,t;Lg(this,al)._--,ne(this,al)===0&&((e=ne(this,Wd))==null||e.call(this),Ge(this,Wd,void 0),(t=ne(this,Hd))==null||t.call(this),Ge(this,Hd,void 0))}isFetching(e){return ne(this,fr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,rl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,fr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ne(this,fr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(dS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ne(this,fr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ne(this,fr).get(n.queryHash),i=a==null?void 0:a.state.data,s=Nee(t,i);if(s!==void 0)return ne(this,fr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return Rn.batch(()=>ne(this,fr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,fr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ne(this,fr);Rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ne(this,fr);return Rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Rn.batch(()=>ne(this,fr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(_i).catch(_i)}invalidateQueries(e,t={}){return Rn.batch(()=>(ne(this,fr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Rn.batch(()=>ne(this,fr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(_i)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_i)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ne(this,fr).build(this,t);return r.isStaleByTime(dS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_i).catch(_i)}fetchInfiniteQuery(e){return e.behavior=YT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_i).catch(_i)}ensureInfiniteQueryData(e){return e.behavior=YT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yy.isOnline()?ne(this,rl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,fr)}getMutationCache(){return ne(this,rl)}getDefaultOptions(){return ne(this,nl)}setDefaultOptions(e){Ge(this,nl,e)}setQueryDefaults(e,t){ne(this,zd).set(Yp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,zd).values()],r={};return t.forEach(n=>{Jp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ne(this,Vd).set(Yp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,Vd).values()],r={};return t.forEach(n=>{Jp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=vE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===yE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,fr).clear(),ne(this,rl).clear()}},fr=new WeakMap,rl=new WeakMap,nl=new WeakMap,zd=new WeakMap,Vd=new WeakMap,al=new WeakMap,Wd=new WeakMap,Hd=new WeakMap,iF),Yee=x.createContext(void 0),Jee=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(Yee.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xp(){return Xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xp.apply(this,arguments)}var ol;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ol||(ol={}));const XT="popstate";function Xee(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return pS("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Jy(a)}return Zee(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qee(){return Math.random().toString(36).substr(2,8)}function QT(e,t){return{usr:e.state,key:e.key,idx:t}}function pS(e,t,r,n){return r===void 0&&(r=null),Xp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?th(t):t,{state:r,key:t&&t.key||n||Qee()})}function Jy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function th(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Zee(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=ol.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Xp({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=ol.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:b})}function h(v,b){l=ol.Push;let y=pS(m.location,v,b);u=d()+1;let w=QT(y,u),_=m.createHref(y);try{s.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,b){l=ol.Replace;let y=pS(m.location,v,b);u=d();let w=QT(y,u),_=m.createHref(y);s.replaceState(w,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,y=typeof v=="string"?v:Jy(v);return y=y.replace(/ $/,"%20"),jr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let m={get action(){return l},get location(){return e(a,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(XT,f),c=v,()=>{a.removeEventListener(XT,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var ZT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ZT||(ZT={}));function ete(e,t,r){return r===void 0&&(r="/"),tte(e,t,r)}function tte(e,t,r,n){let a=typeof t=="string"?th(t):t,i=bE(a.pathname||"/",r);if(i==null)return null;let s=WB(e);rte(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=pte(i);l=dte(s[c],u)}return l}function WB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=xl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WB(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:cte(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of HB(i.path))a(i,s,c)}),t}function HB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=HB(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function rte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ute(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nte=/^:[\w-]+$/,ate=3,ite=2,ste=1,ote=10,lte=-2,e2=e=>e==="*";function cte(e,t){let r=e.split("/"),n=r.length;return r.some(e2)&&(n+=lte),t&&(n+=ite),r.filter(a=>!e2(a)).reduce((a,i)=>a+(nte.test(i)?ate:i===""?ste:ote),n)}function ute(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function dte(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fte({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:xl([i,f.pathname]),pathnameBase:xte(xl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=xl([i,f.pathnameBase]))}return s}function fte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=hte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function hte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),xE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function pte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const mte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gte=e=>mte.test(e);function vte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?th(e):e,i;if(r)if(gte(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),xE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=t2(r.substring(1),"/"):i=t2(r,t)}else i=t;return{pathname:i,search:bte(n),hash:wte(a)}}function t2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function C_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wE(e,t){let r=yte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _E(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=th(e):(a=Xp({},e),jr(!a.pathname||!a.pathname.includes("?"),C_("?","pathname","search",a)),jr(!a.pathname||!a.pathname.includes("#"),C_("#","pathname","hash",a)),jr(!a.search||!a.search.includes("#"),C_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=vte(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const xl=e=>e.join("/").replace(/\/\/+/g,"/"),xte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,wte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function _te(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qB=["post","put","patch","delete"];new Set(qB);const jte=["get",...qB];new Set(jte);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(this,arguments)}const jE=x.createContext(null),Ste=x.createContext(null),Rl=x.createContext(null),p0=x.createContext(null),Dl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),KB=x.createContext(null);function Nte(e,t){let{relative:r}=t===void 0?{}:t;rh()||jr(!1);let{basename:n,navigator:a}=x.useContext(Rl),{hash:i,pathname:s,search:l}=YB(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:xl([n,s])),a.createHref({pathname:c,search:l,hash:i})}function rh(){return x.useContext(p0)!=null}function Cs(){return rh()||jr(!1),x.useContext(p0).location}function GB(e){x.useContext(Rl).static||x.useLayoutEffect(e)}function On(){let{isDataRoute:e}=x.useContext(Dl);return e?Lte():kte()}function kte(){rh()||jr(!1);let e=x.useContext(jE),{basename:t,future:r,navigator:n}=x.useContext(Rl),{matches:a}=x.useContext(Dl),{pathname:i}=Cs(),s=JSON.stringify(wE(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return GB(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=_E(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:xl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function YB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Rl),{matches:a}=x.useContext(Dl),{pathname:i}=Cs(),s=JSON.stringify(wE(a,n.v7_relativeSplatPath));return x.useMemo(()=>_E(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function Cte(e,t){return Ete(e,t)}function Ete(e,t,r,n){rh()||jr(!1);let{navigator:a}=x.useContext(Rl),{matches:i}=x.useContext(Dl),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Cs(),d;if(t){var f;let v=typeof t=="string"?th(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||jr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=ete(e,{pathname:p}),m=Mte(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:xl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:xl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?x.createElement(p0.Provider,{value:{location:Qp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ol.Pop}},m):m}function Pte(){let e=Dte(),t=_te(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const Ote=x.createElement(Pte,null);class Ate extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Dl.Provider,{value:this.props.routeContext},x.createElement(KB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Tte(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(jE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Dl.Provider,{value:t},n)}function Mte(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jr(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Ote,c&&(u<0&&h===0?(Fte("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),y=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Tte,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Ate,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var JB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(JB||{}),XB=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(XB||{});function $te(e){let t=x.useContext(jE);return t||jr(!1),t}function Ite(e){let t=x.useContext(Ste);return t||jr(!1),t}function Rte(e){let t=x.useContext(Dl);return t||jr(!1),t}function QB(e){let t=Rte(),r=t.matches[t.matches.length-1];return r.route.id||jr(!1),r.route.id}function Dte(){var e;let t=x.useContext(KB),r=Ite(),n=QB();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Lte(){let{router:e}=$te(JB.UseNavigateStable),t=QB(XB.UseNavigateStable),r=x.useRef(!1);return GB(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Qp({fromRouteId:t},i)))},[e,t])}const r2={};function Fte(e,t,r){r2[e]||(r2[e]=!0)}function Bte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function n2(e){let{to:t,replace:r,state:n,relative:a}=e;rh()||jr(!1);let{future:i,static:s}=x.useContext(Rl),{matches:l}=x.useContext(Dl),{pathname:c}=Cs(),u=On(),d=_E(t,wE(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ua(e){jr(!1)}function Ute(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ol.Pop,navigator:i,static:s=!1,future:l}=e;rh()&&jr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:s,future:Qp({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=th(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=x.useMemo(()=>{let v=bE(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:x.createElement(Rl.Provider,{value:u},x.createElement(p0.Provider,{children:r,value:m}))}function zte(e){let{children:t,location:r}=e;return Cte(mS(t),r)}new Promise(()=>{});function mS(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,mS(n.props.children,i));return}n.type!==ua&&jr(!1),!n.props.index||!n.props.children||jr(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=mS(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gS(){return gS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gS.apply(this,arguments)}function Vte(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Wte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hte(e,t){return e.button===0&&(!t||t==="_self")&&!Wte(e)}function vS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function qte(e,t){let r=vS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Kte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Gte="6";try{window.__reactRouterVersion=Gte}catch{}const Yte="startTransition",a2=Db[Yte];function Jte(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=Xee({window:a,v5Compat:!0}));let s=i.current,[l,c]=x.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&a2?a2(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.useEffect(()=>Bte(n),[n]),x.createElement(Ute,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const Xte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bs=x.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Vte(t,Kte),{basename:p}=x.useContext(Rl),g,m=!1;if(typeof u=="string"&&Qte.test(u)&&(g=u,Xte))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=bE(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=Nte(u,{relative:a}),b=Zte(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",gS({},h,{href:g||v,onClick:m||i?n:y,ref:r,target:c}))});var i2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(i2||(i2={}));var s2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(s2||(s2={}));function Zte(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=On(),u=Cs(),d=YB(e,{relative:s});return x.useCallback(f=>{if(Hte(f,r)){f.preventDefault();let h=n!==void 0?n:Jy(u)===Jy(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,d,n,a,r,e,i,s,l])}function SE(e){let t=x.useRef(vS(e)),r=x.useRef(!1),n=Cs(),a=x.useMemo(()=>qte(n.search,r.current?null:t.current),[n.search]),i=On(),s=x.useCallback((l,c)=>{const u=vS(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var ls=function(){return ls=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ls.apply(this,arguments)};function nh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ere(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function tre(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const rre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class NE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nre extends NE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o2 extends NE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class l2 extends NE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yS||(yS={}));class are{constructor(t,{headers:r={},customFetch:n,region:a=yS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=rre(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ere(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(S=>{throw new nre(S)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new o2(b);if(!b.ok)throw new l2(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof l2||l instanceof o2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var ire=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},sre=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new ire(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},ore=class extends sre{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const c2=new RegExp("[,()]");var Gu=class extends ore{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&c2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&c2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},lre=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Gu({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Gu({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Gu({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Gu({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Gu({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},cre=class ZB{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lre(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ZB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Gu({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class ure{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dre="2.90.1",fre=`realtime-js/${dre}`,eU="1.0.0",hre="2.0.0",u2=eU,xS=1e4,pre=1e3,mre=100;var Ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ho||(Ho={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var Ci;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ci||(Ci={}));var bS;(function(e){e.websocket="websocket"})(bS||(bS={}));var hc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hc||(hc={}));class gre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,s.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class tU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Lt||(Lt={}));const d2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=vre(s,e,t,a),i),{}):{}},vre=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?rU(i,s):wS(s)},rU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return wre(t,r)}switch(e){case Lt.bool:return yre(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return xre(t);case Lt.json:case Lt.jsonb:return bre(t);case Lt.timestamp:return _re(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return wS(t);default:return wS(t)}},wS=e=>e,yre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},bre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},wre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>rU(t,l))}return e},_re=e=>typeof e=="string"?e.replace(" ","T"):e,nU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class E_{constructor(t,r,n={},a=xS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var f2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(f2||(f2={}));class mp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mp.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=mp.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=mp.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(h2||(h2={}));var gp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gp||(gp={}));var Us;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Us||(Us={}));class pd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new E_(this,Ci.join,this.params,this.timeout),this.rejoinTimer=new tU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ci.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new mp(this),this.broadcastEndpointURL=nU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[gp.PRESENCE]&&this.bindings[gp.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Us.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Us.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Us.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<v;y++){const w=m[y],{filter:{event:_,schema:S,table:N,filter:k}}=w,C=p&&p[y];if(C&&C.event===_&&pd.isFilterValueEqual(C.schema,S)&&pd.isFilterValueEqual(C.table,N)&&pd.isFilterValueEqual(C.filter,k))b.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(Us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Us.SUBSCRIBED);return}}).receive("error",p=>{this.state=Dr.errored,t==null||t(Us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===gp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ci.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new E_(this,Ci.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new E_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>mre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ci;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,v,b,y,w,_,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const N=p.id,k=(g=p.filter)===null||g===void 0?void 0:g.event;return N&&((m=r.ids)===null||m===void 0?void 0:m.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=p.filter)===null||b===void 0)&&b.table)||p.filter.table===((y=r.data)===null||y===void 0?void 0:y.table))}else{const N=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return N==="*"||N===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:b,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ci.close,{},t)}_onError(t){this._on(Ci.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=d2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=d2(t.columns,t.old_record)),r}}const P_=()=>{},lv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jre=[1e3,2e3,5e3,1e4],Sre=1e4,Nre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xS,this.transport=null,this.heartbeatIntervalMs=lv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=P_,this.ref=0,this.reconnectTimer=null,this.vsn=u2,this.logger=P_,this.conn=null,this.sendBuffer=[],this.serializer=new gre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${bS.websocket}`,this.httpEndpoint=nU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ure.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ho.connecting:return hc.Connecting;case Ho.open:return hc.Open;case Ho.closing:return hc.Closing;default:return hc.Closed}}isConnected(){return this.connectionState()===hc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new pd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},lv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ho.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ho.open||this.conn.readyState===Ho.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ci.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Nre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:fre};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ci.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:xS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:lv.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:P_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:u2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>jre[g-1]||Sre,this.vsn){case eU:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case hre:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Zp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Cre(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function Ere(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Pre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=Cre(e.baseUrl,n,a),c=await Ere(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new Zp((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function cv(e){return e.join("")}var Ore=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:cv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cv(e.namespace)}`}),!0}catch(t){if(t instanceof Zp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Zp&&r.status===409)return;throw r}}};function Au(e){return e.join("")}var Are=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Zp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Zp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Tre=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Pre({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Ore(this.client,t),this.tableOps=new Are(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},m0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Mre=class extends m0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_S=class extends m0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const kE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$re=()=>Response,jS=e=>{if(Array.isArray(e))return e.map(r=>jS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=jS(n)}),t},Ire=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Rre=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function Dre(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lre(e){var t=Dre(e,"string");return em(t)=="symbol"?t:t+""}function Fre(e,t,r){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){Fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const O_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Bre=async(e,t,r)=>{e instanceof await $re()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new Mre(O_(n),a,i))}).catch(n=>{t(new _S(O_(n),n))}):t(new _S(O_(e),e))},Ure=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Ire(n)?(a.headers=Fe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Fe(Fe({},a),r))};async function fg(e,t,r,n,a,i){return new Promise((s,l)=>{e(r,Ure(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Bre(c,l,n))})}async function tm(e,t,r,n){return fg(e,"GET",t,r,n)}async function ji(e,t,r,n,a){return fg(e,"POST",t,n,a,r)}async function SS(e,t,r,n,a){return fg(e,"PUT",t,n,a,r)}async function zre(e,t,r,n){return fg(e,"HEAD",t,Fe(Fe({},r),{},{noResolveJson:!0}),n)}async function CE(e,t,r,n,a){return fg(e,"DELETE",t,n,a,r)}var Vre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ar(t))return{data:null,error:t};throw t}}};let aU;aU=Symbol.toStringTag;var Wre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Vre(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ar(t))return{data:null,error:t};throw t}}};const Hre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var qre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=kE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const s=Fe(Fe({},m2),n);let l=Fe(Fe({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Fe(Fe({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?SS:ji)(a.fetch,`${a.url}/object/${d}`,i,Fe({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ar(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let c;const u=Fe({upsert:m2.upsert},n),d=Fe(Fe({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await SS(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(ar(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Fe({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ji(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new m0("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ji(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ji(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await ji(n.fetch,`${n.url}/object/sign/${a}`,Fe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ji(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Fe(Fe({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>tm(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new Wre(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:jS(await tm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await zre(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ar(n)&&n instanceof _S){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await CE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Fe(Fe(Fe({},Hre),t),{},{prefix:e||""});return{data:await ji(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ar(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Fe({},e);return{data:await ji(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const iU="2.90.1",sU={"X-Client-Info":`storage-js/${iU}`};var Kre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Fe(Fe({},sU),t),this.fetch=kE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await tm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await tm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ji(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await SS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ar(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ji(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await CE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Gre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Fe(Fe({},sU),t),this.fetch=kE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ji(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await tm(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await CE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ar(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Rre(e))throw new m0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Tre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const EE={"X-Client-Info":`storage-js/${iU}`,"Content-Type":"application/json"};var oU=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function xa(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var A_=class extends oU{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yre=class extends oU{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const PE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},g2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Xre=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const s=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new A_(g2(i),n,s))}).catch(()=>{const i=n+"";t(new A_(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new A_(a.statusText||`HTTP ${n} error`,n,i))}}else t(new Yre(g2(e),e))},Qre=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Jre(n)?(a.headers=Fe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Fe(Fe({},a),r)):a};async function Zre(e,t,r,n,a,i){return new Promise((s,l)=>{e(r,Qre(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>Xre(c,l,n))})}async function ba(e,t,r,n,a){return Zre(e,"POST",t,n,a,r)}var ene=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Fe(Fe({},EE),t),this.fetch=PE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xa(n))return{data:null,error:n};throw n}}},tne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Fe(Fe({},EE),t),this.fetch=PE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ba(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ba(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ba(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}},rne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Fe(Fe({},EE),t),this.fetch=PE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ba(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ba(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(xa(r))return{data:null,error:r};throw r}}},nne=class extends rne{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new ane(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},ane=class extends ene{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new ine(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ine=class extends tne{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},sne=class extends Kre{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new qre(this.url,this.headers,e,this.fetch)}get vectors(){return new nne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Gre(this.url+"/iceberg",this.headers,this.fetch)}};const lU="2.90.1",Yu=30*1e3,NS=3,T_=NS*Yu,one="http://localhost:9999",lne="supabase.auth.token",cne={"X-Client-Info":`gotrue-js/${lU}`},kS="X-Supabase-Api-Version",cU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},une=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dne=10*60*1e3;class rm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class fne extends rm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hne(e){return $e(e)&&e.name==="AuthApiError"}class pc extends rm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class jo extends rm{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class da extends jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pne(e){return $e(e)&&e.name==="AuthSessionMissingError"}class Tu extends jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uv extends jo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class dv extends jo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mne(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class v2 extends jo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gne extends jo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class CS extends jo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function M_(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class y2 extends jo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ES extends jo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x2=` 	
\r=`.split(""),vne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x2.length;t+=1)e[x2[t].charCodeAt(0)]=-2;for(let t=0;t<Xy.length;t+=1)e[Xy[t].charCodeAt(0)]=t;return e})();function b2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xy[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Xy[n]),t.queuedBits-=6}}function uU(e,t,r){const n=vne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function w2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{bne(s,n,r)};for(let s=0;s<e.length;s+=1)uU(e.charCodeAt(s),a,i);return t.join("")}function yne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}yne(n,t)}}function bne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Od(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)uU(e.charCodeAt(a),r,n);return new Uint8Array(t)}function wne(e){const t=[];return xne(e,r=>t.push(r)),new Uint8Array(t)}function bc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>b2(a,r,n)),b2(null,r,n),t.join("")}function _ne(e){return Math.round(Date.now()/1e3)+e}function jne(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",Xl={tested:!1,writable:!1},dU=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xl.tested)return Xl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xl.tested=!0,Xl.writable=!0}catch{Xl.tested=!0,Xl.writable=!1}return Xl.writable};function Sne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const fU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Nne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ju=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ql=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},an=async(e,t)=>{await e.removeItem(t)};class g0{constructor(){this.promise=new g0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}g0.promiseConstructor=Promise;function $_(e){const t=e.split(".");if(t.length!==3)throw new ES("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!une.test(t[n]))throw new ES("JWT not in base64url format");return{header:JSON.parse(w2(t[0])),payload:JSON.parse(w2(t[1])),signature:Od(t[2]),raw:{header:t[0],payload:t[1]}}}async function kne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Cne(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function Ene(e){return("0"+e.toString(16)).substr(-2)}function Pne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Ene).join("")}async function One(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Ane(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await One(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mu(e,t,r=!1){const n=Pne();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ju(e,`${t}-code-verifier`,a);const i=await Ane(n);return[i,n===i?"plain":"s256"]}const Tne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mne(e){const t=e.headers.get(kS);if(!t||!t.match(Tne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $ne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ine(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $u(e){if(!Rne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function I_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dne(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function _2(e){return JSON.parse(JSON.stringify(e))}const lc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lne=[502,503,504];async function j2(e){var t;if(!Nne(e))throw new CS(lc(e),0);if(Lne.includes(e.status))throw new CS(lc(e),e.status);let r;try{r=await e.json()}catch(i){throw new pc(lc(i),i)}let n;const a=Mne(e);if(a&&a.getTime()>=cU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new y2(lc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new da}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new y2(lc(r),e.status,r.weak_password.reasons);throw new fne(lc(r),e.status||500,n)}const Fne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Le(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[kS]||(i[kS]=cU["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Bne(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Bne(e,t,r,n,a,i){const s=Fne(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new CS(lc(c),0)}if(l.ok||await j2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await j2(c)}}function gi(e){var t;let r=null;Vne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_ne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function S2(e){const t=gi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Xo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Une(e){return{data:e,error:null}}function zne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=nh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function N2(e){return e}function Vne(e){return e.access_token&&e.refresh_token&&e.expires_in}const R_=["global","local","others"];class Wne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=fU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=R_[0]){if(R_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${R_.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Xo})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=nh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:zne,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xo})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:N2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($e(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$u(t);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xo})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$u(t);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Xo})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$u(t);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Xo})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$u(t.userId);try{const{data:r,error:n}=await Le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$u(t.userId),$u(t.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:N2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if($e(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}}function k2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Iu={debug:!!(globalThis&&dU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Hne extends hU{}async function qne(e,t,r){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Hne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Iu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Kne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Gne(e){return parseInt(e,16)}function Yne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Jne(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=pU(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${v}
${b}`}class Er extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Qy extends Er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Xne({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(mU(s)){if(i.rp.id!==s)return new Er({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Qne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(mU(n)){if(r.rpId!==n)return new Er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Zne{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const eae=new Zne;function tae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=nh(e,["challenge","user","excludeCredentials"]),i=Od(t).buffer,s=Object.assign(Object.assign({},r),{id:Od(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Od(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function rae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=nh(e,["challenge","allowCredentials"]),a=Od(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Od(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function nae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:bc(new Uint8Array(e.response.attestationObject)),clientDataJSON:bc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bc(new Uint8Array(a.authenticatorData)),clientDataJSON:bc(new Uint8Array(a.clientDataJSON)),signature:bc(new Uint8Array(a.signature)),userHandle:a.userHandle?bc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function C2(){var e,t;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qy("Browser returned unexpected credential type",t)}:{data:null,error:new Qy("Empty credential response",t)}}catch(t){return{data:null,error:Xne({error:t,options:e})}}}async function sae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qy("Browser returned unexpected credential type",t)}:{data:null,error:new Qy("Empty credential response",t)}}catch(t){return{data:null,error:Qne({error:t,options:e})}}}const oae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zy(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=Zy(l,s):n[i]=Zy(s)}else n[i]=s}return n}function cae(e,t){return Zy(oae,e,t||{})}function uae(e,t){return Zy(lae,e,t||{})}class dae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const c=a??eae.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=cae(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await iae({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=uae(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await sae(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new pc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn authentication")};try{if(!C2())return{data:null,error:new pc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new pc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn registration")};try{if(!C2())return{data:null,error:new pc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return $e(s)?{data:null,error:s}:{data:null,error:new pc("Unexpected error in register",s)}}}}Kne();const fae={url:one,storageKey:lne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function E2(e,t,r){return await r()}const Ru={};class nm{get jwks(){var t,r;return(r=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},fae),t);if(this.storageKey=i.storageKey,this.instanceID=(r=nm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&on()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Wne({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=fU(i.fetch),this.lock=i.lock||E2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&on()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qne:this.lock=E2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:dU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=k2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=k2(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${lU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(on()&&(r=Sne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),on()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?this._returnResult({error:r}):this._returnResult({error:new pc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:gi}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if($e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Mu(this.storage,this.storageKey)),i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:gi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:gi})}else throw new uv("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:S2})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:S2})}else throw new uv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Tu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:b,options:y}=t;let w;if(on())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=pU(S[0]);let k=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=Gne(A)}const C={domain:_.host,address:N,statement:b,uri:_.href,version:"1",chainId:k,nonce:(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Jne(C),g=await w.request({method:"personal_sign",params:[Yne(p),N]})}try{const{data:m,error:v}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:gi});if(v)throw v;if(!m||!m.session||!m.user){const b=new Tu;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if($e(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:b,statement:y,options:w}=t;let _;if(on())if(typeof b=="object")_=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:v,error:b}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:bc(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gi});if(b)throw b;if(!v||!v.session||!v.user){const y=new Tu;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if($e(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new gne;const{data:i,error:s}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:gi});if(await an(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new Tu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gi}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Tu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mu(this.storage,this.storageKey));const{error:f}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new uv("You must provide either an email or phone number.")}catch(l){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:gi});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if($e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Mu(this.storage,this.storageKey));const u=await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Une});return!((i=u.data)===null||i===void 0)&&i.url&&on()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new da;const{error:a}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if($e(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await Le(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new uv("You must provide either an email or phone number and a type")}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<T_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ql(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=I_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Dne(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xo}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Xo})})}catch(r){if($e(r))return pne(r)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new da;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mu(this.storage,this.storageKey));const{data:u,error:d}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Xo});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new da;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=$_(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($e(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new da;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($e(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!on())throw new dv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new dv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new v2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new v2("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new dv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if($e(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ql(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(hne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=jne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Mu(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return on()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($e(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:gi}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Tu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),$e(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Cne(async a=>(a>0&&await kne(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gi})),(a,i)=>{const s=200*Math.pow(2,a);return i&&M_(i)&&Date.now()+s-n<Yu})}catch(n){if(this._debug(r,"error",n),$e(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),on()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ql(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Ju(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:I_()}else if(a&&!a.user&&!a.user){const s=await Ql(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await an(this.storage,this.storageKey+"-user"),await Ju(this.storage,this.storageKey,a)):a.user=I_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<T_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${T_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),M_(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new g0;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new da;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),$e(i)){const s={data:null,error:i};return M_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ju(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=_2(a);await Ju(this.storage,this.storageKey,i)}else{const a=_2(r);await Ju(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${NS} ticks`),a<=NS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof hU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Mu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await Le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?nae(t.webauthn.credential_response):aae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await Le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:tae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=$_(n.access_token);let s=null;i.aal&&(s=i.aal);let l=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Le(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new da})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new da});const s=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&on()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new da});const s=await Le(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&on()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new da})})}catch(t){if($e(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new da})})}catch(r){if($e(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+dne>a)return n;const{data:i,error:s}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=$_(n);r!=null&&r.allowExpired||$ne(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=Ine(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,wne(`${l}.${c}`)))throw new ES("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if($e(n))return this._returnResult({data:null,error:n});throw n}}}nm.nextInstanceID={};const hae=nm,pae="2.90.1";let Xh="";typeof Deno<"u"?Xh="deno":typeof document<"u"?Xh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xh="react-native":Xh="node";const mae={"X-Client-Info":`supabase-js-${Xh}/${pae}`},gae={headers:mae},vae={schema:"public"},yae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xae={};function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function bae(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wae(e){var t=bae(e,"string");return am(t)=="symbol"?t:t+""}function _ae(e,t,r){return(t=wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P2(Object(r),!0).forEach(function(n){_ae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const jae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Sae=()=>Headers,Nae=(e,t,r)=>{const n=jae(r),a=Sae();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,hr(hr({},s),{},{headers:u}))}};function kae(e){return e.endsWith("/")?e:e+"/"}function Cae(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:hr(hr({},c),a),auth:hr(hr({},u),i),realtime:hr(hr({},d),s),storage:{},global:hr(hr(hr({},f),l),{},{headers:hr(hr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Eae(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Pae=class extends hae{constructor(e){super(e)}},Oae=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Eae(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:vae,realtime:xae,auth:hr(hr({},yae),{},{storageKey:s}),global:gae},c=Cae(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Nae(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(hr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new cre(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new sne(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new are(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Pae({url:this.authUrl.href,headers:hr(hr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new kre(this.realtimeUrl.href,hr(hr({},e),{},{params:hr(hr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Aae=(e,t,r)=>new Oae(e,t,r);function Tae(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Tae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mae="https://ihyzfrfzazrbrufzcunm.supabase.co",$ae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Pe=Aae(Mae,$ae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),po=Object.freeze(Object.defineProperty({__proto__:null,supabase:Pe},Symbol.toStringTag,{value:"Module"})),gU=x.createContext(void 0),$r=()=>{const e=x.useContext(gU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Iae=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,s]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!0),[f,h]=x.useState(!1),p=async y=>{console.log("[AuthContext] Fetching user data for:",y);try{const{data:w,error:_}=await Pe.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",y).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),s(w));const{data:S,error:N}=await Pe.from("user_roles").select("role").eq("user_id",y).single();if(N&&console.error("[AuthContext] Role fetch error:",N),S)if(console.log("[AuthContext] Role:",S.role),c(S.role),S.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await p(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};x.useEffect(()=>{const{data:{subscription:y}}=Pe.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{p(_.user.id)},0):(s(null),c(null),h(!1)),w==="SIGNED_OUT"&&(s(null),c(null),h(!1))});return Pe.auth.getSession().then(({data:{session:w}})=>{a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&p(w.user.id),d(!1)}),()=>y.unsubscribe()},[]);const m=async(y,w,_)=>{const S=`${window.location.origin}/`,{error:N}=await Pe.auth.signUp({email:y,password:w,options:{emailRedirectTo:S,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:N}},v=async(y,w)=>{const{error:_}=await Pe.auth.signInWithPassword({email:y,password:w});return{error:_}},b=async()=>{await Pe.auth.signOut(),r(null),a(null),s(null),c(null),h(!1)};return o.jsx(gU.Provider,{value:{user:t,session:n,profile:i,role:l,isLoading:u,onboardingComplete:f,signUp:m,signIn:v,signOut:b,refreshProfile:g},children:e})},$s=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:a}=$r(),i=Cs();if(a)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return o.jsx(n2,{to:"/auth",state:{from:i},replace:!0});if(t&&n&&!t.includes(n)){const s={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return o.jsx(n2,{to:s[n],replace:!0})}return o.jsx(o.Fragment,{children:e})};var Rae=Symbol.for("react.lazy"),ex=Db[" use ".trim().toString()];function Dae(e){return typeof e=="object"&&e!==null&&"then"in e}function vU(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Rae&&"_payload"in e&&Dae(e._payload)}function hg(e){const t=Lae(e),r=x.forwardRef((n,a)=>{let{children:i,...s}=n;vU(i)&&typeof ex=="function"&&(i=ex(i._payload));const l=x.Children.toArray(i),c=l.find(Bae);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var yU=hg("Slot");function Lae(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if(vU(a)&&typeof ex=="function"&&(a=ex(a._payload)),x.isValidElement(a)){const s=zae(a),l=Uae(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fae=Symbol("radix.slottable");function Bae(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fae}function Uae(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function zae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const im=r0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?yU:"button";return o.jsx(s,{className:ge(im({variant:t,size:r,className:e})),ref:i,...a})});ee.displayName="Button";const Vae=()=>{const[e,t]=x.useState(!1),{user:r,profile:n,role:a,signOut:i}=$r(),s=On(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await i(),s("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[o.jsx(Bs,{to:"/",className:"flex items-center gap-2",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),o.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>o.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),o.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[o.jsxs(ee,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(sa,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?o.jsxs(o.Fragment,{children:[o.jsx(Bs,{to:a?u(a):"/patient",children:o.jsxs(ee,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Wr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:c,children:o.jsx(Nl,{className:"w-4 h-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Bs,{to:"/auth",children:o.jsx(ee,{variant:"outline",size:"sm",children:"Sign In"})}),o.jsx(Bs,{to:"/auth",children:o.jsx(ee,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),o.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?o.jsx(_o,{className:"w-5 h-5 sm:w-6 sm:h-6"}):o.jsx(lg,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&o.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:o.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>o.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),o.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[o.jsx(sa,{className:"w-4 h-4"}),"0800 QUADCARE"]}),o.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Bs,{to:a?u(a):"/patient",onClick:()=>t(!1),children:o.jsxs(ee,{variant:"outline",className:"w-full gap-2 justify-start",children:[o.jsx(eX,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsxs(ee,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Bs,{to:"/auth",onClick:()=>t(!1),children:o.jsx(ee,{variant:"outline",className:"w-full",children:"Sign In"})}),o.jsx(Bs,{to:"/auth",onClick:()=>t(!1),children:o.jsx(ee,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},Wae="/assets/hero-medical-D5FvmeGo.jpg",Hae=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return o.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),o.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>o.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[o.jsx(pn,{className:"w-4 h-4 text-success shrink-0"}),o.jsx("span",{children:t})]},t))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[o.jsx(Bs,{to:"/auth",className:"w-full sm:w-auto",children:o.jsxs(ee,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[o.jsx(Nt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Book Consultation"}),o.jsx(gs,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsxs(ee,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[o.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"How It Works"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(cg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),o.jsx("span",{children:"HPCSA Registered"})]}),o.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),o.jsx("span",{children:"Active Patients"})]})]})]}),o.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[o.jsx("img",{src:Wae,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:o.jsx(Qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),o.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:o.jsx(Nt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},qae=()=>{const e=[{icon:Nt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:Ga,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:Bn,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:Qt,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:rn,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:Y5,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:JJ,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:cg,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:hd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return o.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>o.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[o.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-7 h-7"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},Kae=()=>{const e=[{number:"01",icon:Wr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:G5,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:Ga,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:Qt,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:J5,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:Y5,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return o.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&o.jsx("div",{className:"lg:hidden flex justify-center py-4",children:o.jsx(gs,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},Gae=()=>{const e=[{icon:H5,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:Bn,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:Ht,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:Q5,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return o.jsx("section",{className:"py-16 gradient-hero",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"text-center group",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),o.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),o.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},Yae=()=>{const e=[{icon:iX,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:Ht,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:rn,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:Qt,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:hd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:cg,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return o.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pn,{className:"w-5 h-5 text-success flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs(ee,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",o.jsx(gs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(ee,{variant:"outline",size:"lg",children:"View Demo"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>o.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},Jae=()=>o.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),o.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(ee,{variant:"heroOutline",size:"xl",className:"group",children:[o.jsx(Nt,{className:"w-5 h-5"}),"Book Your First Consultation",o.jsx(gs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(ee,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[o.jsx(sa,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),Xae=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:QJ,href:"#",label:"Facebook"},{icon:xX,href:"#",label:"Twitter"},{icon:sX,href:"#",label:"LinkedIn"},{icon:aX,href:"#",label:"Instagram"}];return o.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(Bs,{to:"/",className:"flex items-center gap-2 mb-6",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(sa,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),o.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(qp,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[o.jsx(X5,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsxs("span",{children:["Quadcare Head Office",o.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),o.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),o.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),o.jsx("ul",{className:"space-y-3",children:e.company.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),o.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),o.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),o.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>o.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:o.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},Qae=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Vae,{}),o.jsxs("main",{children:[o.jsx(Hae,{}),o.jsx(qae,{}),o.jsx(Kae,{}),o.jsx(Gae,{}),o.jsx(Yae,{}),o.jsx(Jae,{})]}),o.jsx(Xae,{})]});var pg=e=>e.type==="checkbox",wc=e=>e instanceof Date,Xn=e=>e==null;const xU=e=>typeof e=="object";var Ar=e=>!Xn(e)&&!Array.isArray(e)&&xU(e)&&!wc(e),bU=e=>Ar(e)&&e.target?pg(e.target)?e.target.checked:e.target.value:e,Zae=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,wU=(e,t)=>e.has(Zae(t)),eie=e=>{const t=e.constructor&&e.constructor.prototype;return Ar(t)&&t.hasOwnProperty("isPrototypeOf")},OE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(OE&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Ar(e)&&eie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=Nr(e[a]));return n}var v0=e=>/^\w*$/.test(e),er=e=>e===void 0,AE=e=>Array.isArray(e)?e.filter(Boolean):[],TE=e=>AE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,r)=>{if(!t||!Ar(e))return r;const n=(v0(t)?[t]:TE(t)).reduce((a,i)=>Xn(a)?a:a[i],e);return er(n)||n===e?er(e[t])?r:e[t]:n},ga=e=>typeof e=="boolean",Dn=e=>typeof e=="function",Ct=(e,t,r)=>{let n=-1;const a=v0(t)?[t]:TE(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=Ar(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const tx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ai={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ME=M.createContext(null);ME.displayName="HookFormControlContext";const $E=()=>M.useContext(ME);var _U=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Ai.all&&(t._proxyFormState[s]=!n||Ai.all),r&&(r[s]=!0),e[s]}});return a};const IE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function tie(e){const t=$E(),{control:r=t,disabled:n,name:a,exact:i}=e||{},[s,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return IE(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>_U(s,r,c.current,!1),[s,r])}var wa=e=>typeof e=="string",PS=(e,t,r,n,a)=>wa(e)?(n&&t.watch.add(e),_e(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),_e(r,i))):(n&&(t.watchAll=!0),r),OS=e=>Xn(e)||!xU(e);function Ti(e,t,r=new WeakSet){if(OS(e)||OS(t))return Object.is(e,t);if(wc(e)&&wc(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(wc(s)&&wc(l)||Ar(s)&&Ar(l)||Array.isArray(s)&&Array.isArray(l)?!Ti(s,l,r):!Object.is(s,l))return!1}}return!0}function rie(e){const t=$E(),{control:r=t,name:n,defaultValue:a,disabled:i,exact:s,compute:l}=e||{},c=M.useRef(a),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[p,g]=M.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),m=M.useCallback(_=>{const S=PS(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(S):S},[r._formValues,r._names,n]),v=M.useCallback(_=>{if(!i){const S=PS(n,r._names,_||r._formValues,!1,c.current);if(u.current){const N=u.current(S);Ti(N,d.current)||(g(N),d.current=N)}else g(S)}},[r._formValues,r._names,i,n]);IE(()=>((f.current!==r||!Ti(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:s,callback:_=>{v(_.values)}})),[r,s,n,v]),M.useEffect(()=>r._removeUnmounted());const b=f.current!==r,y=h.current,w=M.useMemo(()=>{if(i)return null;const _=!b&&!Ti(y,n);return b||_?m():null},[i,b,n,y,m]);return w!==null?w:p}function nie(e){const t=$E(),{name:r,disabled:n,control:a=t,shouldUnregister:i,defaultValue:s,exact:l=!0}=e,c=wU(a._names.array,r),u=M.useMemo(()=>_e(a._formValues,r,_e(a._defaultValues,r,s)),[a,r,s]),d=rie({control:a,name:r,defaultValue:u,exact:l}),f=tie({control:a,name:r,exact:l}),h=M.useRef(e),p=M.useRef(void 0),g=M.useRef(a.register(r,{...e.rules,value:d,...ga(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!_e(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_e(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_e(f.validatingFields,r)},error:{enumerable:!0,get:()=>_e(f.errors,r)}}),[f,r]),v=M.useCallback(_=>g.current.onChange({target:{value:bU(_),name:r},type:tx.CHANGE}),[r]),b=M.useCallback(()=>g.current.onBlur({target:{value:_e(a._formValues,r),name:r},type:tx.BLUR}),[r,a._formValues]),y=M.useCallback(_=>{const S=_e(a._fields,r);S&&S._f&&_&&(S._f.ref={focus:()=>Dn(_.focus)&&_.focus(),select:()=>Dn(_.select)&&_.select(),setCustomValidity:N=>Dn(_.setCustomValidity)&&_.setCustomValidity(N),reportValidity:()=>Dn(_.reportValidity)&&_.reportValidity()})},[a._fields,r]),w=M.useMemo(()=>({name:r,value:d,...ga(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:y}),[r,n,f.disabled,v,b,y,d]);return M.useEffect(()=>{const _=a._options.shouldUnregister||i,S=p.current;S&&S!==r&&!c&&a.unregister(S),a.register(r,{...h.current.rules,...ga(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(k,C)=>{const A=_e(a._fields,k);A&&A._f&&(A._f.mount=C)};if(N(r,!0),_){const k=Nr(_e(a._options.defaultValues,r,h.current.defaultValue));Ct(a._defaultValues,r,k),er(_e(a._formValues,r))&&Ct(a._formValues,r,k)}return!c&&a.register(r),p.current=r,()=>{(c?_&&!a._state.action:_)?a.unregister(r):N(r,!1)}},[r,a,c,i]),M.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),M.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const aie=e=>e.render(nie(e)),RE=M.createContext(null);RE.displayName="HookFormContext";const iie=()=>M.useContext(RE),sie=e=>{const{children:t,watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}=e;return M.createElement(RE.Provider,{value:M.useMemo(()=>({watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}),[s,g,u,a,n,h,m,f,d,i,v,l,b,c,p,r])},M.createElement(ME.Provider,{value:g},t))};var jU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},vp=e=>Array.isArray(e)?e:[e],O2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function SU(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Ar(a)&&i){const s=SU(a,i);Ar(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var Mn=e=>Ar(e)&&!Object.keys(e).length,DE=e=>e.type==="file",rx=e=>{if(!OE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},NU=e=>e.type==="select-multiple",LE=e=>e.type==="radio",oie=e=>LE(e)||pg(e),D_=e=>rx(e)&&e.isConnected;function lie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=er(e)?n++:e[t[n++]];return e}function cie(e){for(const t in e)if(e.hasOwnProperty(t)&&!er(e[t]))return!1;return!0}function kr(e,t){const r=Array.isArray(t)?t:v0(t)?[t]:TE(t),n=r.length===1?e:lie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Ar(n)&&Mn(n)||Array.isArray(n)&&cie(n))&&kr(e,r.slice(0,-1)),e}var uie=e=>{for(const t in e)if(Dn(e[t]))return!0;return!1};function kU(e){return Array.isArray(e)||Ar(e)&&!uie(e)}function AS(e,t={}){for(const r in e){const n=e[r];kU(n)?(t[r]=Array.isArray(n)?[]:{},AS(n,t[r])):er(n)||(t[r]=!0)}return t}function Xu(e,t,r){r||(r=AS(t));for(const n in e){const a=e[n];if(kU(a))er(t)||OS(r[n])?r[n]=AS(a,Array.isArray(a)?[]:{}):Xu(a,Xn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ti(a,i)}}return r}const A2={value:!1,isValid:!1},T2={value:!0,isValid:!0};var CU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!er(e[0].attributes.value)?er(e[0].value)||e[0].value===""?T2:{value:e[0].value,isValid:!0}:T2:A2}return A2},EU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>er(e)?e:t?e===""?NaN:e&&+e:r&&wa(e)?new Date(e):n?n(e):e;const M2={isValid:!1,value:null};var PU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,M2):M2;function $2(e){const t=e.ref;return DE(t)?t.files:LE(t)?PU(e.refs).value:NU(t)?[...t.selectedOptions].map(({value:r})=>r):pg(t)?CU(e.refs).value:EU(er(t.value)?e.ref.value:t.value,e)}var die=(e,t,r,n)=>{const a={};for(const i of e){const s=_e(t,i);s&&Ct(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},nx=e=>e instanceof RegExp,Ah=e=>er(e)?e:nx(e)?e.source:Ar(e)?nx(e.value)?e.value.source:e.value:e,I2=e=>({isOnSubmit:!e||e===Ai.onSubmit,isOnBlur:e===Ai.onBlur,isOnChange:e===Ai.onChange,isOnAll:e===Ai.all,isOnTouch:e===Ai.onTouched});const R2="AsyncFunction";var fie=e=>!!e&&!!e.validate&&!!(Dn(e.validate)&&e.validate.constructor.name===R2||Ar(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===R2)),hie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),D2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const yp=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=_e(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(yp(l,t))break}else if(Ar(l)&&yp(l,t))break}}};function L2(e,t,r){const n=_e(e,r);if(n||v0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=_e(t,i),l=_e(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var pie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Mn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Ai.all))},mie=(e,t,r)=>!e||!t||e===t||vp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),gie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,vie=(e,t)=>!AE(_e(e,t)).length&&kr(e,t),yie=(e,t,r)=>{const n=vp(_e(e,r));return Ct(n,"root",t[r]),Ct(e,r,n),e};function F2(e,t,r="validate"){if(wa(e)||Array.isArray(e)&&e.every(wa)||ga(e)&&!e)return{type:r,message:wa(e)?e:"",ref:t}}var Du=e=>Ar(e)&&!nx(e)?e:{value:e,message:""},B2=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:b}=e._f,y=_e(r,m);if(!b||t.has(m))return{};const w=l?l[0]:s,_=O=>{a&&w.reportValidity&&(w.setCustomValidity(ga(O)?"":O||""),w.reportValidity())},S={},N=LE(s),k=pg(s),C=N||k,A=(v||DE(s))&&er(s.value)&&er(y)||rx(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,T=jU.bind(null,m,n,S),$=(O,L,I,B=Is.maxLength,H=Is.minLength)=>{const V=O?L:I;S[m]={type:O?B:H,message:V,ref:s,...T(O?B:H,V)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(A||Xn(y))||ga(y)&&!y||k&&!CU(l).isValid||N&&!PU(l).isValid)){const{value:O,message:L}=wa(c)?{value:!!c,message:c}:Du(c);if(O&&(S[m]={type:Is.required,message:L,ref:w,...T(Is.required,L)},!n))return _(L),S}if(!A&&(!Xn(f)||!Xn(h))){let O,L;const I=Du(h),B=Du(f);if(!Xn(y)&&!isNaN(y)){const H=s.valueAsNumber||y&&+y;Xn(I.value)||(O=H>I.value),Xn(B.value)||(L=H<B.value)}else{const H=s.valueAsDate||new Date(y),V=G=>new Date(new Date().toDateString()+" "+G),R=s.type=="time",U=s.type=="week";wa(I.value)&&y&&(O=R?V(y)>V(I.value):U?y>I.value:H>new Date(I.value)),wa(B.value)&&y&&(L=R?V(y)<V(B.value):U?y<B.value:H<new Date(B.value))}if((O||L)&&($(!!O,I.message,B.message,Is.max,Is.min),!n))return _(S[m].message),S}if((u||d)&&!A&&(wa(y)||i&&Array.isArray(y))){const O=Du(u),L=Du(d),I=!Xn(O.value)&&y.length>+O.value,B=!Xn(L.value)&&y.length<+L.value;if((I||B)&&($(I,O.message,L.message),!n))return _(S[m].message),S}if(p&&!A&&wa(y)){const{value:O,message:L}=Du(p);if(nx(O)&&!y.match(O)&&(S[m]={type:Is.pattern,message:L,ref:s,...T(Is.pattern,L)},!n))return _(L),S}if(g){if(Dn(g)){const O=await g(y,r),L=F2(O,w);if(L&&(S[m]={...L,...T(Is.validate,L.message)},!n))return _(L.message),S}else if(Ar(g)){let O={};for(const L in g){if(!Mn(O)&&!n)break;const I=F2(await g[L](y,r),w,L);I&&(O={...I,...T(L,I.message)},_(I.message),n&&(S[m]=O))}if(!Mn(O)&&(S[m]={ref:w,...O},!n))return S}}return _(!0),S};const xie={mode:Ai.onSubmit,reValidateMode:Ai.onChange,shouldFocusError:!0};function bie(e={}){let t={...xie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Ar(t.defaultValues)||Ar(t.values)?Nr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Nr(a),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:O2(),state:O2()},g=t.criteriaMode===Ai.all,m=W=>z=>{clearTimeout(u),u=setTimeout(W,z)},v=async W=>{if(!s.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||W)){let z;t.resolver?(z=Mn((await C()).errors),b()):z=await T(n,!0),z!==r.isValid&&p.state.next({isValid:z})}},b=(W,z)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((W||Array.from(l.mount)).forEach(X=>{X&&(z?Ct(r.validatingFields,X,z):kr(r.validatingFields,X))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Mn(r.validatingFields)}))},y=(W,z=[],X,ue,le=!0,oe=!0)=>{if(ue&&X&&!t.disabled){if(s.action=!0,oe&&Array.isArray(_e(n,W))){const Oe=X(_e(n,W),ue.argA,ue.argB);le&&Ct(n,W,Oe)}if(oe&&Array.isArray(_e(r.errors,W))){const Oe=X(_e(r.errors,W),ue.argA,ue.argB);le&&Ct(r.errors,W,Oe),vie(r.errors,W)}if((f.touchedFields||h.touchedFields)&&oe&&Array.isArray(_e(r.touchedFields,W))){const Oe=X(_e(r.touchedFields,W),ue.argA,ue.argB);le&&Ct(r.touchedFields,W,Oe)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Xu(a,i)),p.state.next({name:W,isDirty:O(W,z),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(i,W,z)},w=(W,z)=>{Ct(r.errors,W,z),p.state.next({errors:r.errors})},_=W=>{r.errors=W,p.state.next({errors:r.errors,isValid:!1})},S=(W,z,X,ue)=>{const le=_e(n,W);if(le){const oe=_e(i,W,er(X)?_e(a,W):X);er(oe)||ue&&ue.defaultChecked||z?Ct(i,W,z?oe:$2(le._f)):B(W,oe),s.mount&&!s.action&&v()}},N=(W,z,X,ue,le)=>{let oe=!1,Oe=!1;const ht={name:W};if(!t.disabled){if(!X||ue){(f.isDirty||h.isDirty)&&(Oe=r.isDirty,r.isDirty=ht.isDirty=O(),oe=Oe!==ht.isDirty);const pt=Ti(_e(a,W),z);Oe=!!_e(r.dirtyFields,W),pt?kr(r.dirtyFields,W):Ct(r.dirtyFields,W,!0),ht.dirtyFields=r.dirtyFields,oe=oe||(f.dirtyFields||h.dirtyFields)&&Oe!==!pt}if(X){const pt=_e(r.touchedFields,W);pt||(Ct(r.touchedFields,W,X),ht.touchedFields=r.touchedFields,oe=oe||(f.touchedFields||h.touchedFields)&&pt!==X)}oe&&le&&p.state.next(ht)}return oe?ht:{}},k=(W,z,X,ue)=>{const le=_e(r.errors,W),oe=(f.isValid||h.isValid)&&ga(z)&&r.isValid!==z;if(t.delayError&&X?(c=m(()=>w(W,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Ct(r.errors,W,X):kr(r.errors,W)),(X?!Ti(le,X):le)||!Mn(ue)||oe){const Oe={...ue,...oe&&ga(z)?{isValid:z}:{},errors:r.errors,name:W};r={...r,...Oe},p.state.next(Oe)}},C=async W=>(b(W,!0),await t.resolver(i,t.context,die(W||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),A=async W=>{const{errors:z}=await C(W);if(b(W),W)for(const X of W){const ue=_e(z,X);ue?Ct(r.errors,X,ue):kr(r.errors,X)}else r.errors=z;return z},T=async(W,z,X={valid:!0})=>{for(const ue in W){const le=W[ue];if(le){const{_f:oe,...Oe}=le;if(oe){const ht=l.array.has(oe.name),pt=le._f&&fie(le._f);pt&&f.validatingFields&&b([oe.name],!0);const nr=await B2(le,l.disabled,i,g,t.shouldUseNativeValidation&&!z,ht);if(pt&&f.validatingFields&&b([oe.name]),nr[oe.name]&&(X.valid=!1,z||e.shouldUseNativeValidation))break;!z&&(_e(nr,oe.name)?ht?yie(r.errors,nr,oe.name):Ct(r.errors,oe.name,nr[oe.name]):kr(r.errors,oe.name))}!Mn(Oe)&&await T(Oe,z,X)}}return X.valid},$=()=>{for(const W of l.unMount){const z=_e(n,W);z&&(z._f.refs?z._f.refs.every(X=>!D_(X)):!D_(z._f.ref))&&K(W)}l.unMount=new Set},O=(W,z)=>!t.disabled&&(W&&z&&Ct(i,W,z),!Ti(te(),a)),L=(W,z,X)=>PS(W,l,{...s.mount?i:er(z)?a:wa(W)?{[W]:z}:z},X,z),I=W=>AE(_e(s.mount?i:a,W,t.shouldUnregister?_e(a,W,[]):[])),B=(W,z,X={})=>{const ue=_e(n,W);let le=z;if(ue){const oe=ue._f;oe&&(!oe.disabled&&Ct(i,W,EU(z,oe)),le=rx(oe.ref)&&Xn(z)?"":z,NU(oe.ref)?[...oe.ref.options].forEach(Oe=>Oe.selected=le.includes(Oe.value)):oe.refs?pg(oe.ref)?oe.refs.forEach(Oe=>{(!Oe.defaultChecked||!Oe.disabled)&&(Array.isArray(le)?Oe.checked=!!le.find(ht=>ht===Oe.value):Oe.checked=le===Oe.value||!!le)}):oe.refs.forEach(Oe=>Oe.checked=Oe.value===le):DE(oe.ref)?oe.ref.value="":(oe.ref.value=le,oe.ref.type||p.state.next({name:W,values:Nr(i)})))}(X.shouldDirty||X.shouldTouch)&&N(W,le,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&G(W)},H=(W,z,X)=>{for(const ue in z){if(!z.hasOwnProperty(ue))return;const le=z[ue],oe=W+"."+ue,Oe=_e(n,oe);(l.array.has(W)||Ar(le)||Oe&&!Oe._f)&&!wc(le)?H(oe,le,X):B(oe,le,X)}},V=(W,z,X={})=>{const ue=_e(n,W),le=l.array.has(W),oe=Nr(z);Ct(i,W,oe),le?(p.array.next({name:W,values:Nr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&p.state.next({name:W,dirtyFields:Xu(a,i),isDirty:O(W,oe)})):ue&&!ue._f&&!Xn(oe)?H(W,oe,X):B(W,oe,X),D2(W,l)?p.state.next({...r,name:W,values:Nr(i)}):p.state.next({name:s.mount?W:void 0,values:Nr(i)})},R=async W=>{s.mount=!0;const z=W.target;let X=z.name,ue=!0;const le=_e(n,X),oe=pt=>{ue=Number.isNaN(pt)||wc(pt)&&isNaN(pt.getTime())||Ti(pt,_e(i,X,pt))},Oe=I2(t.mode),ht=I2(t.reValidateMode);if(le){let pt,nr;const Ia=z.type?$2(le._f):bU(W),Yn=W.type===tx.BLUR||W.type===tx.FOCUS_OUT,ae=!hie(le._f)&&!t.resolver&&!_e(r.errors,X)&&!le._f.deps||gie(Yn,_e(r.touchedFields,X),r.isSubmitted,ht,Oe),ct=D2(X,l,Yn);Ct(i,X,Ia),Yn?(!z||!z.readOnly)&&(le._f.onBlur&&le._f.onBlur(W),c&&c(0)):le._f.onChange&&le._f.onChange(W);const wt=N(X,Ia,Yn),vn=!Mn(wt)||ct;if(!Yn&&p.state.next({name:X,type:W.type,values:Nr(i)}),ae)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Yn&&v():Yn||v()),vn&&p.state.next({name:X,...ct?{}:wt});if(!Yn&&ct&&p.state.next({...r}),t.resolver){const{errors:Qi}=await C([X]);if(b([X]),oe(Ia),ue){const As=L2(r.errors,n,X),Ts=L2(Qi,n,As.name||X);pt=Ts.error,X=Ts.name,nr=Mn(Qi)}}else b([X],!0),pt=(await B2(le,l.disabled,i,g,t.shouldUseNativeValidation))[X],b([X]),oe(Ia),ue&&(pt?nr=!1:(f.isValid||h.isValid)&&(nr=await T(n,!0)));ue&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&G(le._f.deps),k(X,nr,pt,wt))}},U=(W,z)=>{if(_e(r.errors,z)&&W.focus)return W.focus(),1},G=async(W,z={})=>{let X,ue;const le=vp(W);if(t.resolver){const oe=await A(er(W)?W:le);X=Mn(oe),ue=W?!le.some(Oe=>_e(oe,Oe)):X}else W?(ue=(await Promise.all(le.map(async oe=>{const Oe=_e(n,oe);return await T(Oe&&Oe._f?{[oe]:Oe}:Oe)}))).every(Boolean),!(!ue&&!r.isValid)&&v()):ue=X=await T(n);return p.state.next({...!wa(W)||(f.isValid||h.isValid)&&X!==r.isValid?{}:{name:W},...t.resolver||!W?{isValid:X}:{},errors:r.errors}),z.shouldFocus&&!ue&&yp(n,U,W?le:l.mount),ue},te=(W,z)=>{let X={...s.mount?i:a};return z&&(X=SU(z.dirtyFields?r.dirtyFields:r.touchedFields,X)),er(W)?X:wa(W)?_e(X,W):W.map(ue=>_e(X,ue))},Q=(W,z)=>({invalid:!!_e((z||r).errors,W),isDirty:!!_e((z||r).dirtyFields,W),error:_e((z||r).errors,W),isValidating:!!_e(r.validatingFields,W),isTouched:!!_e((z||r).touchedFields,W)}),j=W=>{W&&vp(W).forEach(z=>kr(r.errors,z)),p.state.next({errors:W?r.errors:{}})},P=(W,z,X)=>{const ue=(_e(n,W,{_f:{}})._f||{}).ref,le=_e(r.errors,W)||{},{ref:oe,message:Oe,type:ht,...pt}=le;Ct(r.errors,W,{...pt,...z,ref:ue}),p.state.next({name:W,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&ue&&ue.focus&&ue.focus()},E=(W,z)=>Dn(W)?p.state.subscribe({next:X=>"values"in X&&W(L(void 0,z),X)}):L(W,z,!0),F=W=>p.state.subscribe({next:z=>{mie(W.name,z.name,W.exact)&&pie(z,W.formState||f,it,W.reRenderRoot)&&W.callback({values:{...i},...r,...z,defaultValues:a})}}).unsubscribe,D=W=>(s.mount=!0,h={...h,...W.formState},F({...W,formState:{...d,...W.formState}})),K=(W,z={})=>{for(const X of W?vp(W):l.mount)l.mount.delete(X),l.array.delete(X),z.keepValue||(kr(n,X),kr(i,X)),!z.keepError&&kr(r.errors,X),!z.keepDirty&&kr(r.dirtyFields,X),!z.keepTouched&&kr(r.touchedFields,X),!z.keepIsValidating&&kr(r.validatingFields,X),!t.shouldUnregister&&!z.keepDefaultValue&&kr(a,X);p.state.next({values:Nr(i)}),p.state.next({...r,...z.keepDirty?{isDirty:O()}:{}}),!z.keepIsValid&&v()},q=({disabled:W,name:z})=>{if(ga(W)&&s.mount||W||l.disabled.has(z)){const le=l.disabled.has(z)!==!!W;W?l.disabled.add(z):l.disabled.delete(z),le&&s.mount&&!s.action&&v()}},J=(W,z={})=>{let X=_e(n,W);const ue=ga(z.disabled)||ga(t.disabled);return Ct(n,W,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:W}},name:W,mount:!0,...z}}),l.mount.add(W),X?q({disabled:ga(z.disabled)?z.disabled:t.disabled,name:W}):S(W,!0,z.value),{...ue?{disabled:z.disabled||t.disabled}:{},...t.progressive?{required:!!z.required,min:Ah(z.min),max:Ah(z.max),minLength:Ah(z.minLength),maxLength:Ah(z.maxLength),pattern:Ah(z.pattern)}:{},name:W,onChange:R,onBlur:R,ref:le=>{if(le){J(W,z),X=_e(n,W);const oe=er(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Oe=oie(oe),ht=X._f.refs||[];if(Oe?ht.find(pt=>pt===oe):oe===X._f.ref)return;Ct(n,W,{_f:{...X._f,...Oe?{refs:[...ht.filter(D_),oe,...Array.isArray(_e(a,W))?[{}]:[]],ref:{type:oe.type,name:W}}:{ref:oe}}}),S(W,!1,void 0,oe)}else X=_e(n,W,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||z.shouldUnregister)&&!(wU(l.array,W)&&s.action)&&l.unMount.add(W)}}},Z=()=>t.shouldFocusError&&yp(n,U,l.mount),Y=W=>{ga(W)&&(p.state.next({disabled:W}),yp(n,(z,X)=>{const ue=_e(n,X);ue&&(z.disabled=ue._f.disabled||W,Array.isArray(ue._f.refs)&&ue._f.refs.forEach(le=>{le.disabled=ue._f.disabled||W}))},0,!1))},ye=(W,z)=>async X=>{let ue;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let le=Nr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:Oe}=await C();b(),r.errors=oe,le=Nr(Oe)}else await T(n);if(l.disabled.size)for(const oe of l.disabled)kr(le,oe);if(kr(r.errors,"root"),Mn(r.errors)){p.state.next({errors:{}});try{await W(le,X)}catch(oe){ue=oe}}else z&&await z({...r.errors},X),Z(),setTimeout(Z);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(r.errors)&&!ue,submitCount:r.submitCount+1,errors:r.errors}),ue)throw ue},ke=(W,z={})=>{_e(n,W)&&(er(z.defaultValue)?V(W,Nr(_e(a,W))):(V(W,z.defaultValue),Ct(a,W,Nr(z.defaultValue))),z.keepTouched||kr(r.touchedFields,W),z.keepDirty||(kr(r.dirtyFields,W),r.isDirty=z.defaultValue?O(W,Nr(_e(a,W))):O()),z.keepError||(kr(r.errors,W),f.isValid&&v()),p.state.next({...r}))},Ke=(W,z={})=>{const X=W?Nr(W):a,ue=Nr(X),le=Mn(W),oe=le?a:ue;if(z.keepDefaultValues||(a=X),!z.keepValues){if(z.keepDirtyValues){const Oe=new Set([...l.mount,...Object.keys(Xu(a,i))]);for(const ht of Array.from(Oe)){const pt=_e(r.dirtyFields,ht),nr=_e(i,ht),Ia=_e(oe,ht);pt&&!er(nr)?Ct(oe,ht,nr):!pt&&!er(Ia)&&V(ht,Ia)}}else{if(OE&&er(W))for(const Oe of l.mount){const ht=_e(n,Oe);if(ht&&ht._f){const pt=Array.isArray(ht._f.refs)?ht._f.refs[0]:ht._f.ref;if(rx(pt)){const nr=pt.closest("form");if(nr){nr.reset();break}}}}if(z.keepFieldsRef)for(const Oe of l.mount)V(Oe,_e(oe,Oe));else n={}}i=t.shouldUnregister?z.keepDefaultValues?Nr(a):{}:Nr(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:z.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!z.keepIsValid||!!z.keepDirtyValues||!t.shouldUnregister&&!Mn(oe),s.watch=!!t.shouldUnregister,s.keepIsValid=!!z.keepIsValid,s.action=!1,z.keepErrors||(r.errors={}),p.state.next({submitCount:z.keepSubmitCount?r.submitCount:0,isDirty:le?!1:z.keepDirty?r.isDirty:!!(z.keepDefaultValues&&!Ti(W,a)),isSubmitted:z.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:z.keepDirtyValues?z.keepDefaultValues&&i?Xu(a,i):r.dirtyFields:z.keepDefaultValues&&W?Xu(a,W):z.keepDirty?r.dirtyFields:{},touchedFields:z.keepTouched?r.touchedFields:{},errors:z.keepErrors?r.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},nt=(W,z)=>Ke(Dn(W)?W(i):W,{...t.resetOptions,...z}),Ue=(W,z={})=>{const X=_e(n,W),ue=X&&X._f;if(ue){const le=ue.refs?ue.refs[0]:ue.ref;le.focus&&setTimeout(()=>{le.focus(),z.shouldSelect&&Dn(le.select)&&le.select()})}},it=W=>{r={...r,...W}},dr={control:{register:J,unregister:K,getFieldState:Q,handleSubmit:ye,setError:P,_subscribe:F,_runSchema:C,_updateIsValidating:b,_focusError:Z,_getWatch:L,_getDirty:O,_setValid:v,_setFieldArray:y,_setDisabledField:q,_setErrors:_,_getFieldArray:I,_reset:Ke,_resetDefaultValues:()=>Dn(t.defaultValues)&&t.defaultValues().then(W=>{nt(W,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Y,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(W){s=W},get _defaultValues(){return a},get _names(){return l},set _names(W){l=W},get _formState(){return r},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:D,trigger:G,register:J,handleSubmit:ye,watch:E,setValue:V,getValues:te,reset:nt,resetField:ke,clearErrors:j,unregister:K,setError:P,setFocus:Ue,getFieldState:Q};return{...dr,formControl:dr}}function ax(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Dn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Dn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=bie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,IE(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),M.useEffect(()=>{var s;e.values&&!Ti(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((s=i._options.resetOptions)===null||s===void 0)&&s.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M.useMemo(()=>_U(n,i),[i,n]),t.current}const U2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=_e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},OU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?U2(n.ref,r,e):n.refs&&n.refs.forEach(a=>U2(a,r,e))}},wie=(e,t)=>{t.shouldUseNativeValidation&&OU(e,t);const r={};for(const n in e){const a=_e(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(_ie(t.names||Object.keys(e),n)){const s=Object.assign({},_e(r,n));Ct(s,"root",i),Ct(r,n,s)}else Ct(r,n,i)}return r},_ie=(e,t)=>e.some(r=>r.startsWith(t+"."));var jie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=jU(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},ix=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&OU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:wie(jie(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},xt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(xt||(xt={}));var z2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(z2||(z2={}));const Ae=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),qo=e=>{switch(typeof e){case"undefined":return Ae.undefined;case"string":return Ae.string;case"number":return Number.isNaN(e)?Ae.nan:Ae.number;case"boolean":return Ae.boolean;case"function":return Ae.function;case"bigint":return Ae.bigint;case"symbol":return Ae.symbol;case"object":return Array.isArray(e)?Ae.array:e===null?Ae.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ae.promise:typeof Map<"u"&&e instanceof Map?Ae.map:typeof Set<"u"&&e instanceof Set?Ae.set:typeof Date<"u"&&e instanceof Date?Ae.date:Ae.object;default:return Ae.unknown}},ve=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class mo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof mo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}mo.create=e=>new mo(e);const TS=(e,t)=>{let r;switch(e.code){case ve.invalid_type:e.received===Ae.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,xt.jsonStringifyReplacer)}`;break;case ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${xt.joinValues(e.keys,", ")}`;break;case ve.invalid_union:r="Invalid input";break;case ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xt.joinValues(e.options)}`;break;case ve.invalid_enum_value:r=`Invalid enum value. Expected ${xt.joinValues(e.options)}, received '${e.received}'`;break;case ve.invalid_arguments:r="Invalid function arguments";break;case ve.invalid_return_type:r="Invalid function return type";break;case ve.invalid_date:r="Invalid date";break;case ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:xt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ve.custom:r="Invalid input";break;case ve.invalid_intersection_types:r="Intersection results could not be merged";break;case ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,xt.assertNever(e)}return{message:r}};let Sie=TS;function Nie(){return Sie}const kie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Se(e,t){const r=Nie(),n=kie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===TS?void 0:TS].filter(a=>!!a)});e.common.issues.push(n)}class Oa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ze;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Oa.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Qh=e=>({status:"dirty",value:e}),ai=e=>({status:"valid",value:e}),V2=e=>e.status==="aborted",W2=e=>e.status==="dirty",af=e=>e.status==="valid",sx=e=>typeof Promise<"u"&&e instanceof Promise;var Me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Me||(Me={}));class El{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const H2=(e,t)=>{if(af(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new mo(e.common.issues);return this._error=r,this._error}}};function st(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class yt{get description(){return this._def.description}_getType(t){return qo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:qo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Oa,ctx:{common:t.parent.common,data:t.data,parsedType:qo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(sx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qo(t)},a=this._parseSync({data:t,path:n.path,parent:n});return H2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return af(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>af(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:qo(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(sx(a)?a:Promise.resolve(a));return H2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),l=()=>i.addIssue({code:ve.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new of({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return bl.create(this,this._def)}nullable(){return lf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ys.create(this)}promise(){return cx.create(this,this._def)}or(t){return ox.create([this,t],this._def)}and(t){return lx.create(this,t,this._def)}transform(t){return new of({...st(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new IS({...st(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new Yie({typeName:et.ZodBranded,type:this,...st(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new RS({...st(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return FE.create(this,t)}readonly(){return DS.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Cie=/^c[^\s-]{8,}$/i,Eie=/^[0-9a-z]+$/,Pie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Oie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Aie=/^[a-z0-9_-]{21}$/i,Tie=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$ie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Iie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L_;const Rie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Die=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Uie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,AU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zie=new RegExp(`^${AU}$`);function TU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Vie(e){return new RegExp(`^${TU(e)}$`)}function Wie(e){let t=`${AU}T${TU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Hie(e,t){return!!((t==="v4"||!t)&&Rie.test(e)||(t==="v6"||!t)&&Lie.test(e))}function qie(e,t){if(!Tie.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Kie(e,t){return!!((t==="v4"||!t)&&Die.test(e)||(t==="v6"||!t)&&Fie.test(e))}class ll extends yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ae.string){const i=this._getOrReturnCtx(t);return Se(i,{code:ve.invalid_type,expected:Ae.string,received:i.parsedType}),Ze}const n=new Oa;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(t,a),s?Se(a,{code:ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Se(a,{code:ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")$ie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"email",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")L_||(L_=new RegExp(Iie,"u")),L_.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"emoji",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Oie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"uuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Aie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"nanoid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Cie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Eie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cuid2",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Pie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ulid",code:ve.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Se(a,{validation:"url",code:ve.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"regex",code:ve.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Wie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?zie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Vie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Mie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"duration",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Hie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"ip",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?qie(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"jwt",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Kie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"cidr",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Bie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64",code:ve.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Uie.test(t.data)||(a=this._getOrReturnCtx(t,a),Se(a,{validation:"base64url",code:ve.invalid_string,message:i.message}),n.dirty()):xt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ve.invalid_string,...Me.errToObj(n)})}_addCheck(t){return new ll({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Me.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Me.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Me.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Me.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Me.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Me.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Me.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Me.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Me.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Me.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Me.errToObj(r)})}nonempty(t){return this.min(1,Me.errToObj(t))}trim(){return new ll({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ll({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ll({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ll.create=e=>new ll({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...st(e)});function Gie(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class sm extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ae.number){const i=this._getOrReturnCtx(t);return Se(i,{code:ve.invalid_type,expected:Ae.number,received:i.parsedType}),Ze}let n;const a=new Oa;for(const i of this._def.checks)i.kind==="int"?xt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Gie(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.not_finite,message:i.message}),a.dirty()):xt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Me.toString(r))}setLimit(t,r,n,a){return new sm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Me.toString(a)}]})}_addCheck(t){return new sm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Me.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}sm.create=e=>new sm({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...st(e)});class om extends yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ae.bigint)return this._getInvalidInput(t);let n;const a=new Oa;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Se(n,{code:ve.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):xt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ve.invalid_type,expected:Ae.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Me.toString(r))}setLimit(t,r,n,a){return new om({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Me.toString(a)}]})}_addCheck(t){return new om({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Me.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}om.create=e=>new om({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...st(e)});class MS extends yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ae.boolean){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.boolean,received:n.parsedType}),Ze}return ai(t.data)}}MS.create=e=>new MS({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...st(e)});class lm extends yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ae.date){const i=this._getOrReturnCtx(t);return Se(i,{code:ve.invalid_type,expected:Ae.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Se(i,{code:ve.invalid_date}),Ze}const n=new Oa;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Se(a,{code:ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):xt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new lm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Me.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Me.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}lm.create=e=>new lm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...st(e)});class q2 extends yt{_parse(t){if(this._getType(t)!==Ae.symbol){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.symbol,received:n.parsedType}),Ze}return ai(t.data)}}q2.create=e=>new q2({typeName:et.ZodSymbol,...st(e)});class K2 extends yt{_parse(t){if(this._getType(t)!==Ae.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.undefined,received:n.parsedType}),Ze}return ai(t.data)}}K2.create=e=>new K2({typeName:et.ZodUndefined,...st(e)});class G2 extends yt{_parse(t){if(this._getType(t)!==Ae.null){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.null,received:n.parsedType}),Ze}return ai(t.data)}}G2.create=e=>new G2({typeName:et.ZodNull,...st(e)});class Y2 extends yt{constructor(){super(...arguments),this._any=!0}_parse(t){return ai(t.data)}}Y2.create=e=>new Y2({typeName:et.ZodAny,...st(e)});class J2 extends yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ai(t.data)}}J2.create=e=>new J2({typeName:et.ZodUnknown,...st(e)});class Pl extends yt{_parse(t){const r=this._getOrReturnCtx(t);return Se(r,{code:ve.invalid_type,expected:Ae.never,received:r.parsedType}),Ze}}Pl.create=e=>new Pl({typeName:et.ZodNever,...st(e)});class X2 extends yt{_parse(t){if(this._getType(t)!==Ae.undefined){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.void,received:n.parsedType}),Ze}return ai(t.data)}}X2.create=e=>new X2({typeName:et.ZodVoid,...st(e)});class ys extends yt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ae.array)return Se(r,{code:ve.invalid_type,expected:Ae.array,received:r.parsedType}),Ze;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(Se(r,{code:s?ve.too_big:ve.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Se(r,{code:ve.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Se(r,{code:ve.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new El(r,s,r.path,l)))).then(s=>Oa.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new El(r,s,r.path,l)));return Oa.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ys({...this._def,minLength:{value:t,message:Me.toString(r)}})}max(t,r){return new ys({...this._def,maxLength:{value:t,message:Me.toString(r)}})}length(t,r){return new ys({...this._def,exactLength:{value:t,message:Me.toString(r)}})}nonempty(t){return this.min(1,t)}}ys.create=(e,t)=>new ys({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...st(t)});function Qu(e){if(e instanceof Pr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=bl.create(Qu(n))}return new Pr({...e._def,shape:()=>t})}else return e instanceof ys?new ys({...e._def,type:Qu(e.element)}):e instanceof bl?bl.create(Qu(e.unwrap())):e instanceof lf?lf.create(Qu(e.unwrap())):e instanceof Xc?Xc.create(e.items.map(t=>Qu(t))):e}class Pr extends yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=xt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ae.object){const u=this._getOrReturnCtx(t);return Se(u,{code:ve.invalid_type,expected:Ae.object,received:u.parsedType}),Ze}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pl&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new El(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Pl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Se(a,{code:ve.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new El(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Oa.mergeObjectSync(n,u)):Oa.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Me.errToObj,new Pr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Me.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Pr({...this._def,unknownKeys:"strip"})}passthrough(){return new Pr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Pr({...this._def,catchall:t})}pick(t){const r={};for(const n of xt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of xt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}deepPartial(){return Qu(this)}partial(t){const r={};for(const n of xt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Pr({...this._def,shape:()=>r})}required(t){const r={};for(const n of xt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof bl;)i=i._def.innerType;r[n]=i}return new Pr({...this._def,shape:()=>r})}keyof(){return MU(xt.objectKeys(this.shape))}}Pr.create=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strip",catchall:Pl.create(),typeName:et.ZodObject,...st(t)});Pr.strictCreate=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strict",catchall:Pl.create(),typeName:et.ZodObject,...st(t)});Pr.lazycreate=(e,t)=>new Pr({shape:e,unknownKeys:"strip",catchall:Pl.create(),typeName:et.ZodObject,...st(t)});class ox extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new mo(l.ctx.common.issues));return Se(r,{code:ve.invalid_union,unionErrors:s}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new mo(c));return Se(r,{code:ve.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}ox.create=(e,t)=>new ox({options:e,typeName:et.ZodUnion,...st(t)});function $S(e,t){const r=qo(e),n=qo(t);if(e===t)return{valid:!0,data:e};if(r===Ae.object&&n===Ae.object){const a=xt.objectKeys(t),i=xt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),s={...e,...t};for(const l of i){const c=$S(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===Ae.array&&n===Ae.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],c=$S(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ae.date&&n===Ae.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class lx extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(V2(i)||V2(s))return Ze;const l=$S(i.value,s.value);return l.valid?((W2(i)||W2(s))&&r.dirty(),{status:r.value,value:l.data}):(Se(n,{code:ve.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}lx.create=(e,t,r)=>new lx({left:e,right:t,typeName:et.ZodIntersection,...st(r)});class Xc extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.array)return Se(n,{code:ve.invalid_type,expected:Ae.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Se(n,{code:ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Se(n,{code:ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new El(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Oa.mergeArray(r,s)):Oa.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Xc({...this._def,rest:t})}}Xc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xc({items:e,typeName:et.ZodTuple,rest:null,...st(t)})};class Q2 extends yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.map)return Se(n,{code:ve.invalid_type,expected:Ae.map,received:n.parsedType}),Ze;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new El(n,l,n.path,[u,"key"])),value:i._parse(new El(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Q2.create=(e,t,r)=>new Q2({valueType:t,keyType:e,typeName:et.ZodMap,...st(r)});class cm extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ae.set)return Se(n,{code:ve.invalid_type,expected:Ae.set,received:n.parsedType}),Ze;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Se(n,{code:ve.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Se(n,{code:ve.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new El(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new cm({...this._def,minSize:{value:t,message:Me.toString(r)}})}max(t,r){return new cm({...this._def,maxSize:{value:t,message:Me.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}cm.create=(e,t)=>new cm({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...st(t)});class Z2 extends yt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Z2.create=(e,t)=>new Z2({getter:e,typeName:et.ZodLazy,...st(t)});class eM extends yt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Se(r,{received:r.data,code:ve.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}eM.create=(e,t)=>new eM({value:e,typeName:et.ZodLiteral,...st(t)});function MU(e,t){return new sf({values:e,typeName:et.ZodEnum,...st(t)})}class sf extends yt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{expected:xt.joinValues(n),received:r.parsedType,code:ve.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Se(r,{received:r.data,code:ve.invalid_enum_value,options:n}),Ze}return ai(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return sf.create(t,{...this._def,...r})}exclude(t,r=this._def){return sf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}sf.create=MU;class tM extends yt{_parse(t){const r=xt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ae.string&&n.parsedType!==Ae.number){const a=xt.objectValues(r);return Se(n,{expected:xt.joinValues(a),received:n.parsedType,code:ve.invalid_type}),Ze}if(this._cache||(this._cache=new Set(xt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=xt.objectValues(r);return Se(n,{received:n.data,code:ve.invalid_enum_value,options:a}),Ze}return ai(t.data)}get enum(){return this._def.values}}tM.create=(e,t)=>new tM({values:e,typeName:et.ZodNativeEnum,...st(t)});class cx extends yt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ae.promise&&r.common.async===!1)return Se(r,{code:ve.invalid_type,expected:Ae.promise,received:r.parsedType}),Ze;const n=r.parsedType===Ae.promise?r.data:Promise.resolve(r.data);return ai(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}cx.create=(e,t)=>new cx({type:e,typeName:et.ZodPromise,...st(t)});class of extends yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{Se(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Qh(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Qh(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!af(s))return Ze;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>af(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):Ze);xt.assertNever(a)}}of.create=(e,t,r)=>new of({schema:e,typeName:et.ZodEffects,effect:t,...st(r)});of.createWithPreprocess=(e,t,r)=>new of({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...st(r)});class bl extends yt{_parse(t){return this._getType(t)===Ae.undefined?ai(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bl.create=(e,t)=>new bl({innerType:e,typeName:et.ZodOptional,...st(t)});class lf extends yt{_parse(t){return this._getType(t)===Ae.null?ai(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}lf.create=(e,t)=>new lf({innerType:e,typeName:et.ZodNullable,...st(t)});class IS extends yt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ae.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}IS.create=(e,t)=>new IS({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...st(t)});class RS extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new mo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}RS.create=(e,t)=>new RS({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...st(t)});class rM extends yt{_parse(t){if(this._getType(t)!==Ae.nan){const n=this._getOrReturnCtx(t);return Se(n,{code:ve.invalid_type,expected:Ae.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}rM.create=e=>new rM({typeName:et.ZodNaN,...st(e)});class Yie extends yt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class FE extends yt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),Qh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ze:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new FE({in:t,out:r,typeName:et.ZodPipeline})}}class DS extends yt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(af(a)&&(a.value=Object.freeze(a.value)),a);return sx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}DS.create=(e,t)=>new DS({innerType:e,typeName:et.ZodReadonly,...st(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const mr=ll.create,Jie=MS.create,Xie=lm.create;Pl.create;ys.create;const y0=Pr.create;ox.create;lx.create;Xc.create;const Qie=sf.create;cx.create;bl.create;lf.create;const rt=x.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));rt.displayName="Input";var Zie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ese=Zie.reduce((e,t)=>{const r=hg(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tse="Label",$U=x.forwardRef((e,t)=>o.jsx(ese.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));$U.displayName=tse;var IU=$U;const rse=r0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xe=x.forwardRef(({className:e,...t},r)=>o.jsx(IU,{ref:r,className:ge(rse(),e),...t}));xe.displayName=IU.displayName;const ie=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const me=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const we=x.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ge("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const Ne=x.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));Ne.displayName="CardDescription";const ce=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("p-6 pt-0",e),...t}));ce.displayName="CardContent";const nse=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ge("flex items-center p-6 pt-0",e),...t}));nse.displayName="CardFooter";function LS(e,[t,r]){return Math.min(r,Math.max(t,e))}var ase=x.createContext(void 0);function ah(e){const t=x.useContext(ase);return e||t||"ltr"}var F_=0;function x0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nM()),document.body.insertAdjacentElement("beforeend",e[1]??nM()),F_++,()=>{F_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),F_--}},[])}function nM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var B_="focusScope.autoFocusOnMount",U_="focusScope.autoFocusOnUnmount",aM={bubbles:!1,cancelable:!0},ise="FocusScope",mg=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=x.useState(null),u=xr(a),d=xr(i),f=x.useRef(null),h=We(t,m=>c(m)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Bo(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Bo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Bo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,l,p.paused]),x.useEffect(()=>{if(l){sM.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(B_,aM);l.addEventListener(B_,u),l.dispatchEvent(b),b.defaultPrevented||(sse(dse(RU(l)),{select:!0}),document.activeElement===m&&Bo(l))}return()=>{l.removeEventListener(B_,u),setTimeout(()=>{const b=new CustomEvent(U_,aM);l.addEventListener(U_,d),l.dispatchEvent(b),b.defaultPrevented||Bo(m??document.body,{select:!0}),l.removeEventListener(U_,d),sM.remove(p)},0)}}},[l,u,d,p]);const g=x.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const y=m.currentTarget,[w,_]=ose(y);w&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&Bo(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&Bo(_,{select:!0})):b===y&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Te.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});mg.displayName=ise;function sse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bo(n,{select:t}),document.activeElement!==r)return}function ose(e){const t=RU(e),r=iM(t,e),n=iM(t.reverse(),e);return[r,n]}function RU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function iM(e,t){for(const r of e)if(!lse(r,{upTo:t}))return r}function lse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cse(e){return e instanceof HTMLInputElement&&"select"in e}function Bo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&cse(e)&&t&&e.select()}}var sM=use();function use(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=oM(e,t),e.unshift(t)},remove(t){var r;e=oM(e,t),(r=e[0])==null||r.resume()}}}function oM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function dse(e){return e.filter(t=>t.tagName!=="A")}function fse(e){const t=hse(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(mse);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function hse(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=vse(a),l=gse(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pse=Symbol("radix.slottable");function mse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pse}function gse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function vse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function b0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lu=new WeakMap,fv=new WeakMap,hv={},z_=0,DU=function(e){return e&&(e.host||DU(e.parentNode))},xse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=DU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},bse=function(e,t,r,n){var a=xse(t,Array.isArray(e)?e:[e]);hv[r]||(hv[r]=new WeakMap);var i=hv[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Lu.get(h)||0)+1,v=(i.get(h)||0)+1;Lu.set(h,m),i.set(h,v),s.push(h),m===1&&g&&fv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),z_++,function(){s.forEach(function(f){var h=Lu.get(f)-1,p=i.get(f)-1;Lu.set(f,h),i.set(f,p),h||(fv.has(f)||f.removeAttribute(n),fv.delete(f)),p||f.removeAttribute(r)}),z_--,z_||(Lu=new WeakMap,Lu=new WeakMap,fv=new WeakMap,hv={})}},w0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=yse(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),bse(n,a,r,"aria-hidden")):function(){return null}},uy="right-scroll-bar-position",dy="width-before-scroll-bar",wse="with-scroll-bars-hidden",_se="--removed-body-scroll-bar-size";function V_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jse(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Sse=typeof window<"u"?x.useLayoutEffect:x.useEffect,lM=new WeakMap;function Nse(e,t){var r=jse(null,function(n){return e.forEach(function(a){return V_(a,n)})});return Sse(function(){var n=lM.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||V_(l,null)}),i.forEach(function(l){a.has(l)||V_(l,s)})}lM.set(r,e)},[e]),r}function kse(e){return e}function Cse(e,t){t===void 0&&(t=kse);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function Ese(e){e===void 0&&(e={});var t=Cse(null);return t.options=ls({async:!0,ssr:!1},e),t}var LU=function(e){var t=e.sideCar,r=nh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,ls({},r))};LU.isSideCarExport=!0;function Pse(e,t){return e.useMedium(t),LU}var FU=Ese(),W_=function(){},_0=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:W_,onWheelCapture:W_,onTouchMoveCapture:W_}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,_=nh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Nse([r,t]),k=ls(ls({},_),a);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:FU,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?x.cloneElement(x.Children.only(l),ls(ls({},k),{ref:N})):x.createElement(y,ls({},k,{className:c,ref:N}),l))});_0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_0.classNames={fullWidth:dy,zeroRight:uy};var Ose=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ase(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ose();return t&&e.setAttribute("nonce",t),e}function Tse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Mse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $se=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ase())&&(Tse(t,r),Mse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ise=function(){var e=$se();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BU=function(){var e=Ise(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Rse={left:0,top:0,right:0,gap:0},H_=function(e){return parseInt(e||"",10)||0},Dse=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[H_(r),H_(n),H_(a)]},Lse=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Rse;var t=Dse(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Fse=BU(),Ad="data-scroll-locked",Bse=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Ad,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(dy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(uy," .").concat(uy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(dy," .").concat(dy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ad,`] {
    `).concat(_se,": ").concat(l,`px;
  }
`)},cM=function(){var e=parseInt(document.body.getAttribute(Ad)||"0",10);return isFinite(e)?e:0},Use=function(){x.useEffect(function(){return document.body.setAttribute(Ad,(cM()+1).toString()),function(){var e=cM()-1;e<=0?document.body.removeAttribute(Ad):document.body.setAttribute(Ad,e.toString())}},[])},zse=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Use();var i=x.useMemo(function(){return Lse(a)},[a]);return x.createElement(Fse,{styles:Bse(i,!t,a,r?"":"!important")})},FS=!1;if(typeof window<"u")try{var pv=Object.defineProperty({},"passive",{get:function(){return FS=!0,!0}});window.addEventListener("test",pv,pv),window.removeEventListener("test",pv,pv)}catch{FS=!1}var Fu=FS?{passive:!1}:!1,Vse=function(e){return e.tagName==="TEXTAREA"},UU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Vse(e)&&r[t]==="visible")},Wse=function(e){return UU(e,"overflowY")},Hse=function(e){return UU(e,"overflowX")},uM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=zU(e,n);if(a){var i=VU(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},qse=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Kse=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},zU=function(e,t){return e==="v"?Wse(t):Hse(t)},VU=function(e,t){return e==="v"?qse(t):Kse(t)},Gse=function(e,t){return e==="h"&&t==="rtl"?-1:1},Yse=function(e,t,r,n,a){var i=Gse(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var p=VU(e,l),g=p[0],m=p[1],v=p[2],b=m-v-i*g;(g||b)&&zU(e,l)&&(f+=b,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},mv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dM=function(e){return[e.deltaX,e.deltaY]},fM=function(e){return e&&"current"in e?e.current:e},Jse=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Xse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qse=0,Bu=[];function Zse(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Qse++)[0],i=x.useState(BU)[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=tre([e.lockRef.current],(e.shards||[]).map(fM),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=mv(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-b[0],_="deltaY"in m?m.deltaY:y[1]-b[1],S,N=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=window.getSelection(),A=C&&C.anchorNode,T=A?A===N||A.contains(N):!1;if(T)return!1;var $=uM(k,N);if(!$)return!0;if($?S=k:(S=k==="v"?"h":"v",$=uM(k,N)),!$)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var O=n.current||S;return Yse(O,v,m,O==="h"?w:_)},[]),c=x.useCallback(function(m){var v=m;if(!(!Bu.length||Bu[Bu.length-1]!==i)){var b="deltaY"in v?dM(v):mv(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Jse(S.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(s.current.shards||[]).map(fM).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(m,v,b,y){var w={name:m,delta:v,target:b,should:y,shadowParent:eoe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(m){r.current=mv(m),n.current=void 0},[]),f=x.useCallback(function(m){u(m.type,dM(m),m.target,l(m,e.lockRef.current))},[]),h=x.useCallback(function(m){u(m.type,mv(m),m.target,l(m,e.lockRef.current))},[]);x.useEffect(function(){return Bu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fu),document.addEventListener("touchmove",c,Fu),document.addEventListener("touchstart",d,Fu),function(){Bu=Bu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Fu),document.removeEventListener("touchmove",c,Fu),document.removeEventListener("touchstart",d,Fu)}},[]);var p=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:Xse(a)}):null,p?x.createElement(zse,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eoe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const toe=Pse(FU,Zse);var gg=x.forwardRef(function(e,t){return x.createElement(_0,ls({},e,{ref:t,sideCar:toe}))});gg.classNames=_0.classNames;var roe=[" ","Enter","ArrowUp","ArrowDown"],noe=[" ","Enter"],Qc="Select",[j0,S0,aoe]=Zb(Qc),[ih]=gn(Qc,[aoe,Il]),N0=Il(),[ioe,Ll]=ih(Qc),[soe,ooe]=ih(Qc),WU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=N0(t),[v,b]=x.useState(null),[y,w]=x.useState(null),[_,S]=x.useState(!1),N=ah(u),[k,C]=Ui({prop:n,defaultProp:a??!1,onChange:i,caller:Qc}),[A,T]=Ui({prop:s,defaultProp:l,onChange:c,caller:Qc}),$=x.useRef(null),O=v?g||!!v.closest("form"):!0,[L,I]=x.useState(new Set),B=Array.from(L).map(H=>H.props.value).join(";");return o.jsx(mE,{...m,children:o.jsxs(ioe,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Ri(),value:A,onValueChange:T,open:k,onOpenChange:C,dir:N,triggerPointerDownPosRef:$,disabled:h,children:[o.jsx(j0.Provider,{scope:t,children:o.jsx(soe,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(H=>{I(V=>new Set(V).add(H))},[]),onNativeOptionRemove:x.useCallback(H=>{I(V=>{const R=new Set(V);return R.delete(H),R})},[]),children:r})}),O?o.jsxs(p6,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:H=>T(H.target.value),disabled:h,form:g,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},B):null]})})};WU.displayName=Qc;var HU="SelectTrigger",qU=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=N0(r),s=Ll(HU,r),l=s.disabled||n,c=We(t,s.onTriggerChange),u=S0(r),d=x.useRef("touch"),[f,h,p]=g6(m=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===s.value),y=v6(v,m,b);y!==void 0&&s.onValueChange(y.value)}),g=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(dg,{asChild:!0,...i,children:o.jsx(Te.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":m6(s.value)?"":void 0,...a,ref:c,onClick:de(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:de(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:de(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&roe.includes(m.key)&&(g(),m.preventDefault())})})})});qU.displayName=HU;var KU="SelectValue",GU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=e,c=Ll(KU,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=We(t,c.onValueNodeChange);return Sr(()=>{u(d)},[u,d]),o.jsx(Te.span,{...l,ref:f,style:{pointerEvents:"none"},children:m6(c.value)?o.jsx(o.Fragment,{children:s}):i})});GU.displayName=KU;var loe="SelectIcon",YU=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Te.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});YU.displayName=loe;var coe="SelectPortal",JU=e=>o.jsx(Jf,{asChild:!0,...e});JU.displayName=coe;var Zc="SelectContent",XU=x.forwardRef((e,t)=>{const r=Ll(Zc,e.__scopeSelect),[n,a]=x.useState();if(Sr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?mu.createPortal(o.jsx(QU,{scope:e.__scopeSelect,children:o.jsx(j0.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(ZU,{...e,ref:t})});XU.displayName=Zc;var xi=10,[QU,Fl]=ih(Zc),uoe="SelectContentImpl",doe=fse("SelectContent.RemoveScroll"),ZU=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=e,y=Ll(Zc,r),[w,_]=x.useState(null),[S,N]=x.useState(null),k=We(t,D=>_(D)),[C,A]=x.useState(null),[T,$]=x.useState(null),O=S0(r),[L,I]=x.useState(!1),B=x.useRef(!1);x.useEffect(()=>{if(w)return w0(w)},[w]),x0();const H=x.useCallback(D=>{const[K,...q]=O().map(Y=>Y.ref.current),[J]=q.slice(-1),Z=document.activeElement;for(const Y of D)if(Y===Z||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===K&&S&&(S.scrollTop=0),Y===J&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==Z))return},[O,S]),V=x.useCallback(()=>H([C,w]),[H,C,w]);x.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:R,triggerPointerDownPosRef:U}=y;x.useEffect(()=>{if(w){let D={x:0,y:0};const K=J=>{var Z,Y;D={x:Math.abs(Math.round(J.pageX)-(((Z=U.current)==null?void 0:Z.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Y=U.current)==null?void 0:Y.y)??0))}},q=J=>{D.x<=10&&D.y<=10?J.preventDefault():w.contains(J.target)||R(!1),document.removeEventListener("pointermove",K),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,R,U]),x.useEffect(()=>{const D=()=>R(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[R]);const[G,te]=g6(D=>{const K=O().filter(Z=>!Z.disabled),q=K.find(Z=>Z.ref.current===document.activeElement),J=v6(K,D,q);J&&setTimeout(()=>J.ref.current.focus())}),Q=x.useCallback((D,K,q)=>{const J=!B.current&&!q;(y.value!==void 0&&y.value===K||J)&&(A(D),J&&(B.current=!0))},[y.value]),j=x.useCallback(()=>w==null?void 0:w.focus(),[w]),P=x.useCallback((D,K,q)=>{const J=!B.current&&!q;(y.value!==void 0&&y.value===K||J)&&$(D)},[y.value]),E=n==="popper"?BS:e6,F=E===BS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(QU,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:Q,selectedItem:C,onItemLeave:j,itemTextRefCallback:P,focusSelectedItem:V,selectedItemText:T,position:n,isPositioned:L,searchRef:G,children:o.jsx(gg,{as:doe,allowPinchZoom:!0,children:o.jsx(mg,{asChild:!0,trapped:y.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:de(a,D=>{var K;(K=y.trigger)==null||K.focus({preventScroll:!0}),D.preventDefault()}),children:o.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:D=>D.preventDefault(),...b,...F,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:de(b.onKeyDown,D=>{const K=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!K&&D.key.length===1&&te(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let J=O().filter(Z=>!Z.disabled).map(Z=>Z.ref.current);if(["ArrowUp","End"].includes(D.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const Z=D.target,Y=J.indexOf(Z);J=J.slice(Y+1)}setTimeout(()=>H(J)),D.preventDefault()}})})})})})})});ZU.displayName=uoe;var foe="SelectItemAlignedPosition",e6=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ll(Zc,r),s=Fl(Zc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=We(t,k=>d(k)),h=S0(r),p=x.useRef(!1),g=x.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=s,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&b){const k=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(i.dir!=="rtl"){const Z=T.left-C.left,Y=A.left-Z,ye=k.left-Y,ke=k.width+ye,Ke=Math.max(ke,C.width),nt=window.innerWidth-xi,Ue=LS(Y,[xi,Math.max(xi,nt-Ke)]);l.style.minWidth=ke+"px",l.style.left=Ue+"px"}else{const Z=C.right-T.right,Y=window.innerWidth-A.right-Z,ye=window.innerWidth-k.right-Y,ke=k.width+ye,Ke=Math.max(ke,C.width),nt=window.innerWidth-xi,Ue=LS(Y,[xi,Math.max(xi,nt-Ke)]);l.style.minWidth=ke+"px",l.style.right=Ue+"px"}const $=h(),O=window.innerHeight-xi*2,L=m.scrollHeight,I=window.getComputedStyle(u),B=parseInt(I.borderTopWidth,10),H=parseInt(I.paddingTop,10),V=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),U=B+H+L+R+V,G=Math.min(v.offsetHeight*5,U),te=window.getComputedStyle(m),Q=parseInt(te.paddingTop,10),j=parseInt(te.paddingBottom,10),P=k.top+k.height/2-xi,E=O-P,F=v.offsetHeight/2,D=v.offsetTop+F,K=B+H+D,q=U-K;if(K<=P){const Z=$.length>0&&v===$[$.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,ye=Math.max(E,F+(Z?j:0)+Y+V),ke=K+ye;l.style.height=ke+"px"}else{const Z=$.length>0&&v===$[0].ref.current;l.style.top="0px";const ye=Math.max(P,B+m.offsetTop+(Z?Q:0)+F)+q;l.style.height=ye+"px",m.scrollTop=K-P+m.offsetTop}l.style.margin=`${xi}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,b,i.dir,n]);Sr(()=>w(),[w]);const[_,S]=x.useState();Sr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=x.useCallback(k=>{k&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return o.jsx(poe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Te.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});e6.displayName=foe;var hoe="SelectPopperPosition",BS=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=xi,...i}=e,s=N0(r);return o.jsx(l0,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});BS.displayName=hoe;var[poe,BE]=ih(Zc,{}),US="SelectViewport",t6=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Fl(US,r),s=BE(US,r),l=We(t,i.onViewportChange),c=x.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(j0.Slot,{scope:r,children:o.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:de(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-xi*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const y=b+p,w=Math.min(g,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});t6.displayName=US;var r6="SelectGroup",[moe,goe]=ih(r6),voe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ri();return o.jsx(moe,{scope:r,id:a,children:o.jsx(Te.div,{role:"group","aria-labelledby":a,...n,ref:t})})});voe.displayName=r6;var n6="SelectLabel",a6=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=goe(n6,r);return o.jsx(Te.div,{id:a.id,...n,ref:t})});a6.displayName=n6;var ux="SelectItem",[yoe,i6]=ih(ux),s6=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,l=Ll(ux,r),c=Fl(ux,r),u=l.value===n,[d,f]=x.useState(i??""),[h,p]=x.useState(!1),g=We(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,a)}),m=Ri(),v=x.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(yoe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:x.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:o.jsx(j0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Te.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:de(s.onFocus,()=>p(!0)),onBlur:de(s.onBlur,()=>p(!1)),onClick:de(s.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:de(s.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:de(s.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:de(s.onPointerMove,y=>{var w;v.current=y.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(s.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:de(s.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(noe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});s6.displayName=ux;var Zh="SelectItemText",o6=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Ll(Zh,r),l=Fl(Zh,r),c=i6(Zh,r),u=ooe(Zh,r),[d,f]=x.useState(null),h=We(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=x.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return Sr(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(Te.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?mu.createPortal(i.children,s.valueNode):null]})});o6.displayName=Zh;var l6="SelectItemIndicator",c6=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i6(l6,r).isSelected?o.jsx(Te.span,{"aria-hidden":!0,...n,ref:t}):null});c6.displayName=l6;var zS="SelectScrollUpButton",u6=x.forwardRef((e,t)=>{const r=Fl(zS,e.__scopeSelect),n=BE(zS,e.__scopeSelect),[a,i]=x.useState(!1),s=We(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(f6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});u6.displayName=zS;var VS="SelectScrollDownButton",d6=x.forwardRef((e,t)=>{const r=Fl(VS,e.__scopeSelect),n=BE(VS,e.__scopeSelect),[a,i]=x.useState(!1),s=We(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(f6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});d6.displayName=VS;var f6=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Fl("SelectScrollButton",r),s=x.useRef(null),l=S0(r),c=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Sr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Te.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:de(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:de(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:de(a.onPointerLeave,()=>{c()})})}),xoe="SelectSeparator",h6=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Te.div,{"aria-hidden":!0,...n,ref:t})});h6.displayName=xoe;var WS="SelectArrow",boe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=N0(r),i=Ll(WS,r),s=Fl(WS,r);return i.open&&s.position==="popper"?o.jsx(c0,{...a,...n,ref:t}):null});boe.displayName=WS;var woe="SelectBubbleInput",p6=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=We(n,a),s=b0(t);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Te.select,{...r,style:{...j5,...r.style},ref:i,defaultValue:t})});p6.displayName=woe;function m6(e){return e===""||e===void 0}function g6(e){const t=xr(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function v6(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=_oe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function _oe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var joe=WU,y6=qU,Soe=GU,Noe=YU,koe=JU,x6=XU,Coe=t6,b6=a6,w6=s6,Eoe=o6,Poe=c6,_6=u6,j6=d6,S6=h6;const vr=joe,yr=Soe,sr=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(y6,{ref:n,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Noe,{asChild:!0,children:o.jsx(q5,{className:"h-4 w-4 opacity-50"})})]}));sr.displayName=y6.displayName;const N6=x.forwardRef(({className:e,...t},r)=>o.jsx(_6,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(GJ,{className:"h-4 w-4"})}));N6.displayName=_6.displayName;const k6=x.forwardRef(({className:e,...t},r)=>o.jsx(j6,{ref:r,className:ge("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(q5,{className:"h-4 w-4"})}));k6.displayName=j6.displayName;const or=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(koe,{children:o.jsxs(x6,{ref:a,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(N6,{}),o.jsx(Coe,{className:ge("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(k6,{})]})}));or.displayName=x6.displayName;const Ooe=x.forwardRef(({className:e,...t},r)=>o.jsx(b6,{ref:r,className:ge("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ooe.displayName=b6.displayName;const qe=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(w6,{ref:n,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Poe,{children:o.jsx(tE,{className:"h-4 w-4"})})}),o.jsx(Eoe,{children:t})]}));qe.displayName=w6.displayName;const Aoe=x.forwardRef(({className:e,...t},r)=>o.jsx(S6,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));Aoe.displayName=S6.displayName;const Toe="modulepreload",Moe=function(e){return"/"+e},hM={},go=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Moe(c),c in hM)return;hM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Toe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},um="";class HS extends Error{constructor(r,n){super(r);nA(this,"status");this.name="APIError",this.status=n}}const dx=async()=>{const{supabase:e}=await go(async()=>{const{supabase:r}=await Promise.resolve().then(()=>po);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function Je(e,t={}){const r=await dx(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${um}${e}`,{...t,headers:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new HS(i.detail||i.message||"API request failed",a.status)}return a.json()}const $oe={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Je(`/api/prescriptions${r}`)},get:e=>Je(`/api/prescriptions/${e}`),create:e=>Je("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Je(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Je(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Je(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Je("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},Ioe={requestPasswordReset:e=>Je("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Je("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Je(`/api/auth/verify-token?token=${e}`)},Gr={createConversation:e=>Je("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Je(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Je("/api/chat/conversations/unassigned"),getMyChats:()=>Je("/api/chat/conversations/my-chats"),getConversation:e=>Je(`/api/chat/conversations/${e}`),claimConversation:e=>Je(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Je(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Je(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Je(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Je(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,a)=>Je(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:a})}),markAsRead:e=>Je(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Je("/api/chat/stats")},qs={getFeeSchedule:()=>Je("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Je("/api/bookings/clinicians/available"),create:e=>Je("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Je(`/api/bookings/${r}`)},get:e=>Je(`/api/bookings/${e}`),update:(e,t)=>Je(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Je(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Je(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Je(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${um}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await qs.getInvoicePDF(e),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Je(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},pM={createRoom:e=>Je("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Je("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Je(`/api/video/room/${e}`),checkHealth:()=>Je("/api/video/health")},Io={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Je(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await dx(),a=new URLSearchParams({period:e});t&&a.set("start_date",t),r&&a.set("end_date",r);const i=await fetch(`${um}/api/admin/analytics/export/csv?${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Failed to export CSV");const s=await i.blob(),l=window.URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},mM={preview:async(e,t)=>{const r=await dx(),n=new FormData;n.append("file",e),t&&n.append("password",t);const a=await fetch(`${um}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new HS(i.detail||"Preview failed",a.status)}return a.json()},importStudents:async(e,t)=>{const r=await dx(),n=new FormData;n.append("file",e),t&&n.append("password",t);const a=await fetch(`${um}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new HS(i.detail||"Import failed",a.status)}return a.json()},getTemplate:()=>Je("/api/admin/bulk-import/template")},Roe=({onBack:e})=>{const[t,r]=x.useState(""),[n,a]=x.useState(!1),[i,s]=x.useState(!1),l=async c=>{if(c.preventDefault(),!t){fe.error("Please enter your email address");return}a(!0);try{await Ioe.requestPasswordReset(t),s(!0),fe.success("Password reset link sent!")}catch{s(!0)}finally{a(!1)}};return i?o.jsx(ie,{className:"w-full max-w-md mx-auto",children:o.jsxs(ce,{className:"pt-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(pn,{className:"w-8 h-8 text-success"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",o.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),o.jsxs(ee,{onClick:e,variant:"outline",className:"w-full",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):o.jsxs(ie,{className:"w-full max-w-md mx-auto",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:o.jsx(qp,{className:"w-6 h-6 text-primary-foreground"})}),o.jsx(we,{children:"Reset Password"}),o.jsx(Ne,{children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsx(ce,{children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email Address"}),o.jsx(rt,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),o.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(qp,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),o.jsxs(ee,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},Doe=y0({email:mr().email("Please enter a valid email address"),password:mr().min(6,"Password must be at least 6 characters")}),Loe=y0({first_name:mr().min(1,"First name is required").max(50,"First name too long"),last_name:mr().min(1,"Last name is required").max(50,"Last name too long"),email:mr().email("Please enter a valid email address"),password:mr().min(8,"Password must be at least 8 characters"),confirm_password:mr(),role:Qie(["patient","nurse","doctor","receptionist"]),hpcsa_number:mr().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),Foe=()=>{var N,k;const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[s,l]=x.useState("patient"),[c,u]=x.useState(!1),{signIn:d,signUp:f,user:h,role:p}=$r(),g=On(),m=Cs(),{toast:v}=JC();(k=(N=m.state)==null?void 0:N.from)!=null&&k.pathname,x.useEffect(()=>{h&&p&&g({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[p],{replace:!0})},[h,p,g]);const b=ax({resolver:ix(Doe),defaultValues:{email:"",password:""}}),y=ax({resolver:ix(Loe),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),w=async C=>{i(!0);const{error:A}=await d(C.email,C.password);i(!1),A&&v({variant:"destructive",title:"Login failed",description:A.message==="Invalid login credentials"?"Invalid email or password. Please try again.":A.message})},_=async C=>{i(!0);const{error:A}=await f(C.email,C.password,{first_name:C.first_name,last_name:C.last_name,role:C.role,hpcsa_number:C.hpcsa_number});i(!1),A?A.message.includes("already registered")?v({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in instead."}):v({variant:"destructive",title:"Signup failed",description:A.message}):v({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting to your dashboard..."})},S=C=>{l(C),y.setValue("role",C)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto"})}),c?o.jsx(Roe,{onBack:()=>u(!1)}):o.jsxs(ie,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(we,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),o.jsx(Ne,{children:e?"Sign in to access your healthcare portal":"Join Quadcare Telehealth for quality healthcare"})]}),o.jsxs(ce,{children:[e?o.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",...b.register("email")})]}),b.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:b.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(__,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...b.register("password")}),o.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?o.jsx(_T,{className:"w-4 h-4"}):o.jsx(rS,{className:"w-4 h-4"})})]}),b.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:b.formState.errors.password.message})]}),o.jsx(ee,{type:"submit",className:"w-full",size:"lg",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsx("button",{type:"button",onClick:()=>u(!0),className:"w-full text-sm text-primary hover:underline mt-2",children:"Forgot your password?"})]}):o.jsxs("form",{onSubmit:y.handleSubmit(_),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"first_name",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"first_name",placeholder:"John",className:"pl-10",...y.register("first_name")})]}),y.formState.errors.first_name&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.first_name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"last_name",children:"Last Name"}),o.jsx(rt,{id:"last_name",placeholder:"Doe",...y.register("last_name")}),y.formState.errors.last_name&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.last_name.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(qp,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"signup-email",type:"email",placeholder:"you@example.com",className:"pl-10",...y.register("email")})]}),y.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"role",children:"I am a"}),o.jsxs(vr,{value:s,onValueChange:S,children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select your role"})}),o.jsxs(or,{children:[o.jsx(qe,{value:"patient",children:"Patient"}),o.jsx(qe,{value:"receptionist",children:"Receptionist"}),o.jsx(qe,{value:"nurse",children:"Nurse"}),o.jsx(qe,{value:"doctor",children:"Doctor"})]})]})]}),(s==="nurse"||s==="doctor")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(cg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...y.register("hpcsa_number")})]}),y.formState.errors.hpcsa_number&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.hpcsa_number.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(__,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"signup-password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...y.register("password")}),o.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?o.jsx(_T,{className:"w-4 h-4"}):o.jsx(rS,{className:"w-4 h-4"})})]}),y.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"confirm_password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(__,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...y.register("confirm_password")})]}),y.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.confirm_password.message})]}),o.jsx(ee,{type:"submit",className:"w-full",size:"lg",disabled:a,children:a?"Creating account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-primary hover:underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]}),o.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",o.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},C6=x.createContext(void 0),E6=()=>{const e=x.useContext(C6);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},P6=({children:e})=>{const{user:t,session:r}=$r(),[n,a]=x.useState([]),[i,s]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{p.current=i},[i]);const g=n.reduce((C,A)=>C+(A.unread_count||0),0),m=x.useCallback(async()=>{if(t){d(!0),h(null);try{const C=await Gr.getConversations();a(C||[])}catch(C){console.error("Error loading conversations:",C),h(C.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=x.useCallback(async()=>{try{return await Gr.getUnassignedConversations()||[]}catch(C){return console.error("Error loading unassigned conversations:",C),[]}},[]),b=x.useCallback(async()=>{try{return await Gr.getMyChats()||[]}catch(C){return console.error("Error loading my chats:",C),[]}},[]),y=x.useCallback(async C=>{d(!0),h(null);try{const A=await Gr.getConversation(C);console.log("[ChatContext] Selected conversation with names:",{id:A.id,patient_name:A.patient_name,receptionist_name:A.receptionist_name}),s(A);const T=await Gr.getMessages(C);c(T||[]),await Gr.markAsRead(C),a($=>$.map(O=>O.id===C?{...A,unread_count:0}:O))}catch(A){console.error("Error loading conversation:",A),h(A.message||"Failed to load conversation")}finally{d(!1)}},[]),w=x.useCallback(async C=>{d(!0),h(null);try{const A=await Gr.createConversation(C);a($=>$.some(O=>O.id===A.id)?$:[A,...$]),s(A);const T=await Gr.getMessages(A.id);return c(T||[]),A}catch(A){throw console.error("Error creating conversation:",A),h(A.message||"Failed to create conversation"),A}finally{d(!1)}},[]),_=x.useCallback(async(C,A="text",T,$)=>{if(!i)throw new Error("No conversation selected");try{const O=await Gr.sendMessage(i.id,C,A,T,$);c(L=>L.some(I=>I.id===O.id)?L:[...L,O]),a(L=>L.map(I=>I.id===i.id?{...I,last_message:C,last_message_at:new Date().toISOString()}:I))}catch(O){throw console.error("Error sending message:",O),O}},[i]),S=x.useCallback(async C=>{try{await Gr.claimConversation(C),await y(C),await m()}catch(A){throw console.error("Error claiming conversation:",A),A}},[y,m]),N=x.useCallback(async(C,A)=>{try{await Gr.updateConversationStatus(C,A),a(T=>T.map($=>$.id===C?{...$,status:A}:$)),(i==null?void 0:i.id)===C&&s(T=>T?{...T,status:A}:null)}catch(T){throw console.error("Error updating status:",T),T}},[i]),k=x.useCallback(async()=>{if(i)try{await Gr.markAsRead(i.id),a(C=>C.map(A=>A.id===i.id?{...A,unread_count:0}:A))}catch(C){console.error("Error marking as read:",C)}},[i]);return x.useEffect(()=>{if(!t||!r)return;const C=Pe.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},T=>{var L;const $=T.new;console.log("[ChatContext] Realtime message received:",{id:$.id,sender_name:$.sender_name,sender_role:$.sender_role,content:(L=$.content)==null?void 0:L.substring(0,50)});const O=p.current;if(O&&$.conversation_id===O.id&&$.sender_id!==t.id){let I={...$};(!I.sender_name||I.sender_name===null)&&(I.sender_role==="patient"?I.sender_name=O.patient_name||"Patient":I.sender_role==="system"?I.sender_name="System":I.sender_name=O.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",I.sender_name)),c(B=>B.some(H=>H.id===$.id)?B:[...B,I])}a(I=>I.map(B=>{var H;return B.id===$.conversation_id?{...B,last_message:(H=$.content)==null?void 0:H.substring(0,100),last_message_at:$.created_at,unread_count:B.id===(O==null?void 0:O.id)?0:(B.unread_count||0)+1}:B}))}).subscribe(),A=Pe.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},T=>{const $=T.new,O=p.current;console.log("[ChatContext] Realtime conversation update:",T.eventType,{id:$.id,status:$.status,has_patient_name:!!$.patient_name,has_receptionist_name:!!$.receptionist_name}),T.eventType==="INSERT"?(a(L=>L.some(I=>I.id===$.id)?L:[{...$,patient_name:"Loading...",receptionist_name:null},...L]),setTimeout(async()=>{try{const L=await Gr.getConversation($.id);console.log("[ChatContext] Fetched enriched new conversation:",L.patient_name),a(I=>I.map(B=>B.id===L.id?L:B))}catch(L){console.error("[ChatContext] Failed to fetch enriched conversation:",L)}},500)):T.eventType==="UPDATE"&&(a(L=>L.map(I=>I.id===$.id?{...I,...$,patient_name:I.patient_name,receptionist_name:I.receptionist_name}:I)),(O==null?void 0:O.id)===$.id&&s(L=>L?{...L,...$,patient_name:L.patient_name,receptionist_name:L.receptionist_name}:null))}).subscribe();return()=>{Pe.removeChannel(C),Pe.removeChannel(A)}},[t,r]),x.useEffect(()=>{t&&m()},[t,m]),o.jsx(C6.Provider,{value:{conversations:n,currentConversation:i,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:m,loadUnassignedConversations:v,loadMyChats:b,selectConversation:y,createConversation:w,sendMessage:_,claimConversation:S,updateConversationStatus:N,markAsRead:k},children:e})},Boe=r0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function je({className:e,variant:t,...r}){return o.jsx("div",{className:ge(Boe({variant:t}),e),...r})}var q_="rovingFocusGroup.onEntryFocus",Uoe={bubbles:!1,cancelable:!0},vg="RovingFocusGroup",[qS,O6,zoe]=Zb(vg),[Voe,sh]=gn(vg,[zoe]),[Woe,Hoe]=Voe(vg),A6=x.forwardRef((e,t)=>o.jsx(qS.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(qS.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(qoe,{...e,ref:t})})}));A6.displayName=vg;var qoe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=We(t,h),g=ah(i),[m,v]=Ui({prop:s,defaultProp:l??null,onChange:c,caller:vg}),[b,y]=x.useState(!1),w=xr(u),_=O6(r),S=x.useRef(!1),[N,k]=x.useState(0);return x.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(q_,w),()=>C.removeEventListener(q_,w)},[w]),o.jsx(Woe,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:x.useCallback(C=>v(C),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:x.useCallback(()=>k(C=>C-1),[]),children:o.jsx(Te.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{S.current=!0}),onFocus:de(e.onFocus,C=>{const A=!S.current;if(C.target===C.currentTarget&&A&&!b){const T=new CustomEvent(q_,Uoe);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const $=_().filter(H=>H.focusable),O=$.find(H=>H.active),L=$.find(H=>H.id===m),B=[O,L,...$].filter(Boolean).map(H=>H.ref.current);$6(B,d)}}S.current=!1}),onBlur:de(e.onBlur,()=>y(!1))})})}),T6="RovingFocusGroupItem",M6=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=Ri(),u=i||c,d=Hoe(T6,r),f=d.currentTabStopId===u,h=O6(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return x.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(qS.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(Te.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Yoe(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?Joe(w,_+1):w.slice(_+1)}setTimeout(()=>$6(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});M6.displayName=T6;var Koe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Goe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Yoe(e,t,r){const n=Goe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Koe[n]}function $6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Joe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var UE=A6,zE=M6,k0="Tabs",[Xoe]=gn(k0,[sh]),I6=sh(),[Qoe,VE]=Xoe(k0),R6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ah(l),[f,h]=Ui({prop:n,onChange:a,defaultProp:i??"",caller:k0});return o.jsx(Qoe,{scope:r,baseId:Ri(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Te.div,{dir:d,"data-orientation":s,...u,ref:t})})});R6.displayName=k0;var D6="TabsList",L6=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=VE(D6,r),s=I6(r);return o.jsx(UE,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Te.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});L6.displayName=D6;var F6="TabsTrigger",B6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=VE(F6,r),l=I6(r),c=V6(s.baseId,n),u=W6(s.baseId,n),d=n===s.value;return o.jsx(zE,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Te.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:de(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:de(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});B6.displayName=F6;var U6="TabsContent",z6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=VE(U6,r),c=V6(l.baseId,n),u=W6(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Hr,{present:a||d,children:({present:h})=>o.jsx(Te.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});z6.displayName=U6;function V6(e,t){return`${e}-trigger-${t}`}function W6(e,t){return`${e}-content-${t}`}var Zoe=R6,H6=L6,q6=B6,K6=z6;const Bl=Zoe,So=x.forwardRef(({className:e,...t},r)=>o.jsx(H6,{ref:r,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));So.displayName=H6.displayName;const Rt=x.forwardRef(({className:e,...t},r)=>o.jsx(q6,{ref:r,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Rt.displayName=q6.displayName;const lr=x.forwardRef(({className:e,...t},r)=>o.jsx(K6,{ref:r,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lr.displayName=K6.displayName;function ele(e){const t=tle(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(nle);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function tle(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=ile(a),l=ale(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rle=Symbol("radix.slottable");function nle(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rle}function ale(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function ile(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var C0="Dialog",[G6,Y6]=gn(C0),[sle,Ji]=G6(C0),J6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Ui({prop:n,defaultProp:a??!1,onChange:i,caller:C0});return o.jsx(sle,{scope:t,triggerRef:l,contentRef:c,contentId:Ri(),titleId:Ri(),descriptionId:Ri(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};J6.displayName=C0;var X6="DialogTrigger",Q6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ji(X6,r),i=We(t,a.triggerRef);return o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qE(a.open),...n,ref:i,onClick:de(e.onClick,a.onOpenToggle)})});Q6.displayName=X6;var WE="DialogPortal",[ole,Z6]=G6(WE,{forceMount:void 0}),e8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ji(WE,t);return o.jsx(ole,{scope:t,forceMount:r,children:x.Children.map(n,s=>o.jsx(Hr,{present:r||i.open,children:o.jsx(Jf,{asChild:!0,container:a,children:s})}))})};e8.displayName=WE;var fx="DialogOverlay",t8=x.forwardRef((e,t)=>{const r=Z6(fx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ji(fx,e.__scopeDialog);return i.modal?o.jsx(Hr,{present:n||i.open,children:o.jsx(cle,{...a,ref:t})}):null});t8.displayName=fx;var lle=ele("DialogOverlay.RemoveScroll"),cle=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ji(fx,r);return o.jsx(gg,{as:lle,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Te.div,{"data-state":qE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),eu="DialogContent",r8=x.forwardRef((e,t)=>{const r=Z6(eu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ji(eu,e.__scopeDialog);return o.jsx(Hr,{present:n||i.open,children:i.modal?o.jsx(ule,{...a,ref:t}):o.jsx(dle,{...a,ref:t})})});r8.displayName=eu;var ule=x.forwardRef((e,t)=>{const r=Ji(eu,e.__scopeDialog),n=x.useRef(null),a=We(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return w0(i)},[]),o.jsx(n8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault())})}),dle=x.forwardRef((e,t)=>{const r=Ji(eu,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(n8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),n8=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=Ji(eu,r),c=x.useRef(null),u=We(t,c);return x0(),o.jsxs(o.Fragment,{children:[o.jsx(mg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(gu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qE(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(hle,{titleId:l.titleId}),o.jsx(mle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),HE="DialogTitle",a8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ji(HE,r);return o.jsx(Te.h2,{id:a.titleId,...n,ref:t})});a8.displayName=HE;var i8="DialogDescription",s8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ji(i8,r);return o.jsx(Te.p,{id:a.descriptionId,...n,ref:t})});s8.displayName=i8;var o8="DialogClose",l8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ji(o8,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>a.onOpenChange(!1))})});l8.displayName=o8;function qE(e){return e?"open":"closed"}var c8="DialogTitleWarning",[fle,u8]=KY(c8,{contentName:eu,titleName:HE,docsSlug:"dialog"}),hle=({titleId:e})=>{const t=u8(c8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ple="DialogDescriptionWarning",mle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${u8(ple).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},d8=J6,f8=Q6,h8=e8,KE=t8,GE=r8,YE=a8,JE=s8,XE=l8;const Di=d8,KS=f8,gle=h8,p8=x.forwardRef(({className:e,...t},r)=>o.jsx(KE,{ref:r,className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p8.displayName=KE.displayName;const Ya=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(gle,{children:[o.jsx(p8,{}),o.jsxs(GE,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(XE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(_o,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ya.displayName=GE.displayName;const Ja=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ja.displayName="DialogHeader";const xp=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xp.displayName="DialogFooter";const Xa=x.forwardRef(({className:e,...t},r)=>o.jsx(YE,{ref:r,className:ge("text-lg font-semibold leading-none tracking-tight",e),...t}));Xa.displayName=YE.displayName;const cf=x.forwardRef(({className:e,...t},r)=>o.jsx(JE,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));cf.displayName=JE.displayName;function Ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function oa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qr(e,t){const r=Ve(e);return isNaN(t)?oa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Hi(e,t){const r=Ve(e);if(isNaN(t))return oa(e,NaN);if(!t)return r;const n=r.getDate(),a=oa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const QE=6048e5,vle=864e5,m8=6e4,g8=36e5,gv=43200,gM=1440;let yle={};function yu(){return yle}function qi(e,t){var l,c,u,d;const r=yu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ve(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function tu(e){return qi(e,{weekStartsOn:1})}function v8(e){const t=Ve(e),r=t.getFullYear(),n=oa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=tu(n),i=oa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=tu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function js(e){const t=Ve(e);return t.setHours(0,0,0,0),t}function uf(e){const t=Ve(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function us(e,t){const r=js(e),n=js(t),a=+r-uf(r),i=+n-uf(n);return Math.round((a-i)/vle)}function xle(e){const t=v8(e),r=oa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),tu(r)}function dm(e,t){const r=t*7;return Qr(e,r)}function ble(e,t){return Hi(e,t*12)}function wle(e){let t;return e.forEach(function(r){const n=Ve(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function _le(e){let t;return e.forEach(r=>{const n=Ve(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function fy(e,t){const r=Ve(e),n=Ve(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function ZE(e){return oa(e,Date.now())}function Cn(e,t){const r=js(e),n=js(t);return+r==+n}function eP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jle(e){if(!eP(e)&&typeof e!="number")return!1;const t=Ve(e);return!isNaN(Number(t))}function df(e,t){const r=Ve(e),n=Ve(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Sle(e,t,r){const n=qi(e,r),a=qi(t,r),i=+n-uf(n),s=+a-uf(a);return Math.round((i-s)/QE)}function Nle(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function kle(e,t){return+Ve(e)-+Ve(t)}function tP(e){const t=Ve(e);return t.setHours(23,59,59,999),t}function E0(e){const t=Ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cle(e){const t=Ve(e);return+tP(t)==+E0(t)}function Ele(e,t){const r=Ve(e),n=Ve(t),a=fy(r,n),i=Math.abs(df(r,n));let s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=fy(r,n)===-a;Cle(Ve(e))&&i===1&&fy(e,n)===1&&(l=!1),s=a*(i-Number(l))}return s===0?0:s}function Ple(e,t,r){const n=kle(e,t)/1e3;return Nle(r==null?void 0:r.roundingMethod)(n)}function ia(e){const t=Ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function y8(e){const t=Ve(e),r=oa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function P0(e,t){var l,c,u,d;const r=yu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ve(e),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function x8(e){return P0(e,{weekStartsOn:1})}const Ole={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ale=(e,t,r)=>{let n;const a=Ole[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function K_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Tle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$le={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ile={date:K_({formats:Tle,defaultWidth:"full"}),time:K_({formats:Mle,defaultWidth:"full"}),dateTime:K_({formats:$le,defaultWidth:"full"})},Rle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dle=(e,t,r,n)=>Rle[e];function Th(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Lle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Fle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ble={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ule={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Vle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wle=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Hle={ordinalNumber:Wle,era:Th({values:Lle,defaultWidth:"wide"}),quarter:Th({values:Fle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Th({values:Ble,defaultWidth:"wide"}),day:Th({values:Ule,defaultWidth:"wide"}),dayPeriod:Th({values:zle,defaultWidth:"wide",formattingValues:Vle,defaultFormattingWidth:"wide"})};function Mh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Kle(l,f=>f.test(s)):qle(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function qle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Kle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Gle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const Yle=/^(\d+)(th|st|nd|rd)?/i,Jle=/\d+/i,Xle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qle={any:[/^b/i,/^(a|c)/i]},Zle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ece={any:[/1/i,/2/i,/3/i,/4/i]},tce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ace={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ice={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},oce={ordinalNumber:Gle({matchPattern:Yle,parsePattern:Jle,valueCallback:e=>parseInt(e,10)}),era:Mh({matchPatterns:Xle,defaultMatchWidth:"wide",parsePatterns:Qle,defaultParseWidth:"any"}),quarter:Mh({matchPatterns:Zle,defaultMatchWidth:"wide",parsePatterns:ece,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Mh({matchPatterns:tce,defaultMatchWidth:"wide",parsePatterns:rce,defaultParseWidth:"any"}),day:Mh({matchPatterns:nce,defaultMatchWidth:"wide",parsePatterns:ace,defaultParseWidth:"any"}),dayPeriod:Mh({matchPatterns:ice,defaultMatchWidth:"any",parsePatterns:sce,defaultParseWidth:"any"})},rP={code:"en-US",formatDistance:Ale,formatLong:Ile,formatRelative:Dle,localize:Hle,match:oce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lce(e){const t=Ve(e);return us(t,y8(t))+1}function b8(e){const t=Ve(e),r=+tu(t)-+xle(t);return Math.round(r/QE)+1}function w8(e,t){var d,f,h,p;const r=Ve(e),n=r.getFullYear(),a=yu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=oa(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=qi(s,t),c=oa(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=qi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function cce(e,t){var l,c,u,d;const r=yu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=w8(e,t),i=oa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),qi(i,t)}function _8(e,t){const r=Ve(e),n=+qi(r,t)-+cce(r,t);return Math.round(n/QE)+1}function Et(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ro={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Et(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Et(r+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Et(a,t.length)}},Uu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},vM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ro.y(e,t)},Y:function(e,t,r,n){const a=w8(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Et(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Et(i,t.length)},R:function(e,t){const r=v8(e);return Et(r,t.length)},u:function(e,t){const r=e.getFullYear();return Et(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ro.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=_8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Et(a,t.length)},I:function(e,t,r){const n=b8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Et(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ro.d(e,t)},D:function(e,t,r){const n=lce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Et(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Et(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Et(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Et(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Uu.noon:n===0?a=Uu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Uu.evening:n>=12?a=Uu.afternoon:n>=4?a=Uu.morning:a=Uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ro.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ro.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ro.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ro.s(e,t)},S:function(e,t){return Ro.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return xM(n);case"XXXX":case"XX":return cc(n);case"XXXXX":case"XXX":default:return cc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return xM(n);case"xxxx":case"xx":return cc(n);case"xxxxx":case"xxx":default:return cc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+yM(n,":");case"OOOO":default:return"GMT"+cc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+yM(n,":");case"zzzz":default:return"GMT"+cc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Et(n,t.length)},T:function(e,t,r){const n=e.getTime();return Et(n,t.length)}};function yM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Et(i,2)}function xM(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):cc(e,t)}function cc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Et(Math.trunc(n/60),2),i=Et(n%60,2);return r+a+t+i}const bM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},j8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return bM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",bM(n,t)).replace("{{time}}",j8(a,t))},dce={p:j8,P:uce},fce=/^D+$/,hce=/^Y+$/,pce=["D","DD","YY","YYYY"];function mce(e){return fce.test(e)}function gce(e){return hce.test(e)}function vce(e,t,r){const n=yce(e,t,r);if(console.warn(n),pce.includes(e))throw new RangeError(n)}function yce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wce=/^'([^]*?)'?$/,_ce=/''/g,jce=/[a-zA-Z]/;function vt(e,t,r){var d,f,h,p,g,m,v,b;const n=yu(),a=(r==null?void 0:r.locale)??n.locale??rP,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ve(e);if(!jle(l))throw new RangeError("Invalid time value");let c=t.match(bce).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=dce[w];return _(y,a.formatLong)}return y}).join("").match(xce).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Sce(y)};if(vM[w])return{isToken:!0,value:y};if(w.match(jce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&gce(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&mce(w))&&vce(w,t,String(e));const _=vM[w[0]];return _(l,w,a.localize,u)}).join("")}function Sce(e){const t=e.match(wce);return t?t[1].replace(_ce,"'"):e}function Nce(e,t,r){const n=yu(),a=(r==null?void 0:r.locale)??n.locale??rP,i=2520,s=fy(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=Ve(t),u=Ve(e)):(c=Ve(e),u=Ve(t));const d=Ple(u,c),f=(uf(u)-uf(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<gM){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<gv){const g=Math.round(h/gM);return a.formatDistance("xDays",g,l)}else if(h<gv*2)return p=Math.round(h/gv),a.formatDistance("aboutXMonths",p,l)}if(p=Ele(u,c),p<12){const g=Math.round(h/gv);return a.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",m,l):g<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function wM(e,t){return Nce(e,ZE(e),t)}function kce(e){const t=Ve(e),r=t.getFullYear(),n=t.getMonth(),a=oa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Cce(){return Object.assign({},yu())}function Ece(e){return Math.trunc(+Ve(e)/1e3)}function Pce(e){const t=Ve(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Oce(e,t){return Sle(Pce(e),ia(e),t)+1}function GS(e,t){const r=Ve(e),n=Ve(t);return r.getTime()>n.getTime()}function hx(e,t){const r=Ve(e),n=Ve(t);return+r<+n}function nP(e,t){const r=Ve(e),n=Ve(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ace(e,t){const r=Ve(e),n=Ve(t);return r.getFullYear()===n.getFullYear()}function Tce(e){return Cn(e,ZE(e))}function Mce(e){return Cn(e,Qr(ZE(e),1))}function G_(e,t){return Qr(e,-t)}function aP(e,t){const n=Dce(e);let a;if(n.date){const c=Lce(n.date,2);a=Fce(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,l;if(n.time&&(s=Bce(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=Uce(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+l)}const vv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},$ce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ice=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Dce(e){const t={},r=e.split(vv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],vv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(vv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=vv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Lce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Fce(e,t){if(t===null)return new Date(NaN);const r=e.match($ce);if(!r)return new Date(NaN);const n=!!r[4],a=$h(r[1]),i=$h(r[2])-1,s=$h(r[3]),l=$h(r[4]),c=$h(r[5])-1;if(n)return qce(t,l,c)?zce(t,l,c):new Date(NaN);{const u=new Date(0);return!Wce(t,i,s)||!Hce(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function $h(e){return e?parseInt(e):1}function Bce(e){const t=e.match(Ice);if(!t)return NaN;const r=Y_(t[1]),n=Y_(t[2]),a=Y_(t[3]);return Kce(r,n,a)?r*g8+n*m8+a*1e3:NaN}function Y_(e){return e&&parseFloat(e.replace(",","."))||0}function Uce(e){if(e==="Z")return 0;const t=e.match(Rce);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Gce(n,a)?r*(n*g8+a*m8):NaN}function zce(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Vce=[31,null,31,30,31,30,31,31,30,31,30,31];function S8(e){return e%400===0||e%4===0&&e%100!==0}function Wce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Vce[t]||(S8(e)?29:28))}function Hce(e,t){return t>=1&&t<=(S8(e)?366:365)}function qce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Kce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Gce(e,t){return t>=0&&t<=59}function J_(e,t){const r=Ve(e),n=r.getFullYear(),a=r.getDate(),i=oa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const s=kce(i);return r.setMonth(t,Math.min(a,s)),r}function N8(e,t){const r=Ve(e);return r.setHours(t),r}function k8(e,t){const r=Ve(e);return r.setMinutes(t),r}function _M(e,t){const r=Ve(e);return isNaN(+r)?oa(e,NaN):(r.setFullYear(t),r)}function jM(e,t,r){const n=Cce(),a=Xce(e,r.timeZone,r.locale??n.locale);return"formatToParts"in a?Yce(a,t):Jce(a,t)}function Yce(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function Jce(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function Xce(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Qce(e,t){const r=nue(t);return"formatToParts"in r?eue(r,e):tue(r,e)}const Zce={year:0,month:1,day:2,hour:3,minute:4,second:5};function eue(e,t){try{const r=e.formatToParts(t),n=[];for(let a=0;a<r.length;a++){const i=Zce[r[a].type];i!==void 0&&(n[i]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function tue(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const X_={},SM=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),rue=SM==="06/25/2014, 00:00:00"||SM==="06/25/2014 00:00:00";function nue(e){return X_[e]||(X_[e]=rue?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),X_[e]}function C8(e,t,r,n,a,i,s){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,a,i,s),l}const NM=36e5,aue=6e4,Q_={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function iP(e,t,r){if(!e)return 0;let n=Q_.timezoneZ.exec(e);if(n)return 0;let a,i;if(n=Q_.timezoneHH.exec(e),n)return a=parseInt(n[1],10),kM(a)?-(a*NM):NaN;if(n=Q_.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);const s=parseInt(n[3],10);return kM(a,s)?(i=Math.abs(a)*NM+s*aue,n[1]==="+"?-i:i):NaN}if(oue(e)){t=new Date(t||Date.now());const s=r?t:iue(t),l=YS(s,e);return-(r?l:sue(t,l,e))}return NaN}function iue(e){return C8(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function YS(e,t){const r=Qce(e,t),n=C8(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function sue(e,t,r){let a=e.getTime()-t;const i=YS(new Date(a),r);if(t===i)return t;a-=i-t;const s=YS(new Date(a),r);return i===s?i:Math.max(i,s)}function kM(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const CM={};function oue(e){if(CM[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),CM[e]=!0,!0}catch{return!1}}const lue=60*1e3,cue={X:function(e,t,r){const n=Z_(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return EM(n);case"XXXX":case"XX":return Zu(n);case"XXXXX":case"XXX":default:return Zu(n,":")}},x:function(e,t,r){const n=Z_(r.timeZone,e);switch(t){case"x":return EM(n);case"xxxx":case"xx":return Zu(n);case"xxxxx":case"xxx":default:return Zu(n,":")}},O:function(e,t,r){const n=Z_(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+uue(n,":");case"OOOO":default:return"GMT"+Zu(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return jM("short",e,r);case"zzzz":default:return jM("long",e,r)}}};function Z_(e,t){const r=e?iP(e,t,!0)/lue:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function px(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Zu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=px(Math.floor(n/60),2),i=px(Math.floor(n%60),2);return r+a+t+i}function EM(e,t){return e%60===0?(e>0?"-":"+")+px(Math.abs(e)/60,2):Zu(e,t)}function uue(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+px(i,2)}function PM(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const due=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,ej=36e5,OM=6e4,fue=2,Ln={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:due};function E8(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?fue:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=hue(e),{year:a,restDateString:i}=pue(n.date,r),s=mue(i,a);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const l=s.getTime();let c=0,u;if(n.time&&(c=gue(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=iP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=PM(new Date(l+c)),u=PM(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function hue(e){const t={};let r=Ln.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Ln.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const a=Ln.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function pue(e,t){if(e){const r=Ln.YYY[t],n=Ln.YYYYY[t];let a=Ln.YYYY.exec(e)||n.exec(e);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=Ln.YY.exec(e)||r.exec(e),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function mue(e,t){if(t===null)return null;let r,n,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=Ln.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,TM(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=Ln.DDD.exec(e),i){r=new Date(0);const s=parseInt(i[1],10);return xue(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(i=Ln.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const s=parseInt(i[2],10);return TM(t,n,s)?(r.setUTCFullYear(t,n,s),r):new Date(NaN)}if(i=Ln.Www.exec(e),i)return a=parseInt(i[1],10)-1,MM(a)?AM(t,a):new Date(NaN);if(i=Ln.WwwD.exec(e),i){a=parseInt(i[1],10)-1;const s=parseInt(i[2],10)-1;return MM(a,s)?AM(t,a,s):new Date(NaN)}return null}function gue(e){let t,r,n=Ln.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),tj(t)?t%24*ej:NaN;if(n=Ln.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),tj(t,r)?t%24*ej+r*OM:NaN;if(n=Ln.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return tj(t,r,a)?t%24*ej+r*OM+a*1e3:NaN}return null}function AM(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const vue=[31,28,31,30,31,30,31,31,30,31,30,31],yue=[31,29,31,30,31,30,31,31,30,31,30,31];function P8(e){return e%400===0||e%4===0&&e%100!==0}function TM(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=P8(e);if(n&&r>yue[t]||!n&&r>vue[t])return!1}return!0}function xue(e,t){if(t<1)return!1;const r=P8(e);return!(r&&t>366||!r&&t>365)}function MM(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function tj(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const bue=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function wue(e,t,r={}){t=String(t);const n=t.match(bue);if(n){const a=E8(r.originalDate||e,r);t=n.reduce(function(i,s){if(s[0]==="'")return i;const l=i.indexOf(s),c=i[l-1]==="'",u=i.replace(s,"'"+cue[s[0]](a,s,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return vt(e,t,r)}function _ue(e,t,r){e=E8(e,r);const n=iP(t,e,!0),a=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function jue(e,t,r,n){return n={...n,timeZone:t,originalDate:e},wue(_ue(e,t,{timeZone:n.timeZone}),r,n)}const Sue="Africa/Johannesburg",fm="SAST",ea=(e,t)=>{const r=typeof e=="string"?aP(e):e;return jue(r,Sue,t)},Nue=e=>ea(e,"MMM d, yyyy"),mx=e=>ea(e,"EEEE, MMMM d, yyyy");function Vt({className:e,...t}){return o.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",e),...t})}const zu={active:{label:"Active",variant:"default",icon:Mr},cancelled:{label:"Cancelled",variant:"destructive",icon:zi},expired:{label:"Expired",variant:"secondary",icon:vu},completed:{label:"Completed",variant:"secondary",icon:Mr}},kue=()=>{const{user:e}=$r(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,s]=x.useState(null),[l,c]=x.useState(null),[u,d]=x.useState(!1),f=m=>{c(m),d(!0)},h=async(m,v,b)=>{b==null||b.stopPropagation(),s(m);try{const y=await $oe.getPDF(m);if(y.success&&y.pdf_base64){const w=atob(y.pdf_base64),_=new Array(w.length);for(let A=0;A<w.length;A++)_[A]=w.charCodeAt(A);const S=new Uint8Array(_),N=new Blob([S],{type:"application/pdf"}),k=window.URL.createObjectURL(N),C=document.createElement("a");C.href=k,C.download=`prescription_${v.replace(/\s+/g,"_")}_${m.slice(0,8)}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(k),fe.success("Prescription downloaded successfully")}else throw new Error(y.error||"Failed to generate PDF")}catch(y){console.error("Error downloading prescription:",y),fe.error(y.message||"Failed to download prescription")}finally{s(null)}};x.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Pe.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const y=[...new Set(v.map(N=>N.clinician_id))],{data:w}=await Pe.from("profiles").select("id, first_name, last_name").in("id",y),_=new Map((w==null?void 0:w.map(N=>[N.id,`Dr. ${N.first_name} ${N.last_name}`]))||[]),S=v.map(N=>({id:N.id,medication_name:N.medication_name,dosage:N.dosage,frequency:N.frequency,duration:N.duration,quantity:N.quantity,refills:N.refills,instructions:N.instructions,status:N.status,prescribed_at:N.prescribed_at,clinician_name:_.get(N.clinician_id)||"Unknown"}));r(S)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{a(!1)}})()},[e]);const p=t.filter(m=>m.status==="active"),g=t.filter(m=>m.status!=="active");return n?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(Vt,{className:"h-6 w-40"}),o.jsx(Vt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2].map(m=>o.jsx(Vt,{className:"h-24 w-full"},m))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),o.jsxs(Ne,{children:[t.length," prescription(s)  ",p.length," active"]})]}),o.jsx(ce,{children:t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions yet"})]}):o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),o.jsx("div",{className:"space-y-3",children:p.map(m=>{const v=zu[m.status]||zu.active,b=v.icon;return o.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(m),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ur,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency]})]})]}),o.jsxs(je,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),o.jsx("p",{className:"font-medium",children:m.duration})]}),m.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),o.jsx("p",{className:"font-medium",children:m.quantity})]}),m.refills>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),o.jsx("p",{className:"font-medium",children:m.refills})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),o.jsx("p",{className:"font-medium",children:vt(new Date(m.prescribed_at),"MMM d, yyyy")})]})]}),m.instructions&&o.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",m.instructions]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4"}),m.clinician_name]}),o.jsxs(ee,{variant:"outline",size:"sm",onClick:y=>h(m.id,m.medication_name,y),disabled:i===m.id,children:[i===m.id?o.jsx(_t,{className:"w-4 h-4 mr-1 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},m.id)})})]}),g.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),o.jsx("div",{className:"space-y-3",children:g.map(m=>{const v=zu[m.status]||zu.completed,b=v.icon;return o.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(m),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-muted",children:o.jsx(Ur,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency,"  ",m.duration]})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs(je,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ea(m.prescribed_at,"MMM d, yyyy")})]}),o.jsx(ee,{variant:"outline",size:"sm",onClick:y=>h(m.id,m.medication_name,y),disabled:i===m.id,children:i===m.id?o.jsx(_t,{className:"w-4 h-4 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4"})})]})]})},m.id)})})]})]})}),o.jsx(Di,{open:u,onOpenChange:d,children:o.jsxs(Ya,{className:"sm:max-w-md",children:[o.jsxs(Ja,{children:[o.jsxs(Xa,{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),o.jsx(cf,{children:l&&ea(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),o.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),o.jsx("p",{className:"font-medium",children:l.frequency})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),o.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),o.jsx("p",{className:"font-medium",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),o.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[o.jsx(Wr,{className:"w-4 h-4"}),o.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const m=zu[l.status]||zu.active,v=m.icon;return o.jsxs(je,{variant:m.variant,className:"flex items-center gap-1",children:[o.jsx(v,{className:"w-3 h-3"}),m.label]})})(),o.jsxs(ee,{variant:"outline",size:"sm",onClick:m=>h(l.id,l.medication_name,m),disabled:i===l.id,children:[i===l.id?o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Fr=x.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ge("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Fr.displayName="Textarea";const $M={new:{label:"New",color:"bg-blue-500",icon:o.jsx(Yc,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:o.jsx(Ht,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:o.jsx(Ht,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:o.jsx(Nt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:o.jsx(Mr,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:o.jsx(Mr,{className:"w-3 h-3"})}},JS=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Yc,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No conversations yet"})]}):o.jsx("div",{className:"divide-y divide-border",children:e.map(a=>{const i=$M[a.status]||$M.new,s=t===a.id;return o.jsx("div",{onClick:()=>r(a),className:ge("p-4 cursor-pointer transition-colors hover:bg-accent",s&&"bg-accent border-l-4 border-l-primary"),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?o.jsx("span",{className:"font-medium text-sm truncate",children:a.patient_name||"Unknown Patient"}):o.jsx("span",{className:"font-medium text-sm truncate",children:a.receptionist_name||"Waiting for receptionist..."}),o.jsxs(je,{variant:"secondary",className:ge("text-xs text-white",i.color),children:[i.icon,o.jsx("span",{className:"ml-1",children:i.label})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.last_message||"No messages yet"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[o.jsx(Ht,{className:"w-3 h-3"}),o.jsx("span",{children:a.last_message_at?wM(new Date(a.last_message_at),{addSuffix:!0}):wM(new Date(a.created_at),{addSuffix:!0})})]})]}),a.unread_count>0&&o.jsx(je,{variant:"destructive",className:"rounded-full px-2",children:a.unread_count})]})},a.id)})}),O8=({messages:e,currentUserId:t})=>{const r=x.useRef(null);if(x.useEffect(()=>{var a;(a=r.current)==null||a.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=a=>{switch(a.message_type){case"image":return o.jsxs("div",{className:"space-y-2",children:[a.file_url&&o.jsx("img",{src:a.file_url,alt:a.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(a.file_url,"_blank")}),a.content&&o.jsx("p",{children:a.content})]});case"file":return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5"}),o.jsx("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:a.file_name||"Download file"})]});case"system":return o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(qJ,{className:"w-4 h-4"}),o.jsx("span",{children:a.content})]});case"booking_confirmation":return o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[o.jsx(Nt,{className:"w-4 h-4"}),o.jsx("span",{children:"Booking Confirmed"})]}),o.jsx("p",{className:"text-sm",children:a.content})]});default:return o.jsx("p",{className:"whitespace-pre-wrap",children:a.content})}};return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((a,i)=>{const s=a.sender_id===t,l=a.message_type==="system"||a.sender_role==="system",c=i===0||vt(new Date(a.created_at),"yyyy-MM-dd")!==vt(new Date(e[i-1].created_at),"yyyy-MM-dd");return o.jsxs(M.Fragment,{children:[c&&o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:vt(new Date(a.created_at),"MMMM d, yyyy")})}),l?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(a)})}):o.jsxs("div",{className:ge("flex gap-3",s?"flex-row-reverse":"flex-row"),children:[o.jsx("div",{className:ge("w-8 h-8 rounded-full flex items-center justify-center shrink-0",s?"bg-primary text-primary-foreground":"bg-muted"),children:o.jsx(Wr,{className:"w-4 h-4"})}),o.jsxs("div",{className:ge("max-w-[70%] space-y-1",s?"items-end":"items-start"),children:[o.jsxs("div",{className:ge("flex items-center gap-2 text-xs text-muted-foreground",s?"flex-row-reverse":"flex-row"),children:[o.jsx("span",{className:"font-medium",children:s?"You":a.sender_name||a.sender_role}),o.jsx("span",{children:vt(new Date(a.created_at),"HH:mm")})]}),o.jsx("div",{className:ge("rounded-2xl px-4 py-2",s?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(a)})]})]})]},a.id)}),o.jsx("div",{ref:r})]})},A8=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,a]=x.useState(""),[i,s]=x.useState(!1),[l,c]=x.useState(null),[u,d]=x.useState(null),f=x.useRef(null),h=async()=>{if(!(!n.trim()&&!l||i)){s(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");a(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{s(!1)}}},p=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},m=()=>{c(null),d(null),f.current&&(f.current.value="")};return o.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&o.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?o.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:o.jsx(fX,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),o.jsx(ee,{variant:"ghost",size:"icon",onClick:m,children:o.jsx(_o,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),o.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||i,className:"shrink-0",children:o.jsx(rX,{className:"w-5 h-5"})}),o.jsx(Fr,{value:n,onChange:v=>a(v.target.value),onKeyDown:p,placeholder:r,disabled:t||i,className:"min-h-[44px] max-h-32 resize-none",rows:1}),o.jsx(ee,{onClick:h,disabled:t||i||!n.trim()&&!l,size:"icon",className:"shrink-0",children:i?o.jsx(_t,{className:"w-5 h-5 animate-spin"}):o.jsx(mX,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},Cue=({onStartBooking:e})=>{const{user:t}=$r(),{conversations:r,currentConversation:n,messages:a,isLoading:i,loadConversations:s,selectConversation:l,createConversation:c,sendMessage:u}=E6(),[d,f]=x.useState(!1),[h,p]=x.useState(""),[g,m]=x.useState(!1),[v,b]=x.useState("list");x.useEffect(()=>{s()},[s]);const y=async()=>{if(!(!h.trim()||g)){m(!0);try{await c(h.trim()),p(""),f(!1),b("chat")}catch(N){console.error("Error creating conversation:",N)}finally{m(!1)}}},w=async N=>{await l(N.id),b("chat")},_=()=>{b("list")},S=typeof window<"u"&&window.innerWidth<768;return d?o.jsxs(ie,{className:"h-full",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Start a New Conversation"}),o.jsx(Ne,{children:"Tell us how we can help you today"})]})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx(Fr,{value:h,onChange:N=>p(N.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(ee,{onClick:y,disabled:!h.trim()||g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[o.jsxs(ie,{className:`md:w-80 shrink-0 ${v==="chat"&&S?"hidden":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Messages"}),o.jsxs(ee,{size:"sm",onClick:()=>f(!0),children:[o.jsx(tf,{className:"w-4 h-4 mr-1"}),"New"]})]})}),o.jsx(ce,{className:"p-0 overflow-y-auto max-h-[500px]",children:i&&r.length===0?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(_t,{className:"w-6 h-6 animate-spin"})}):o.jsx(JS,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),o.jsx(ie,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&S?"hidden":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center gap-2",children:[S&&o.jsx(ee,{variant:"ghost",size:"icon",onClick:_,children:o.jsx(hn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(we,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),o.jsxs(Ne,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),o.jsx(O8,{messages:a,currentUserId:t==null?void 0:t.id}),o.jsx(A8,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Yc,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),o.jsxs(ee,{onClick:()=>f(!0),children:[o.jsx(tf,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},Eue=()=>{var $;const e=On(),t=Cs(),{user:r,profile:n,signOut:a,onboardingComplete:i,isLoading:s}=$r(),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0),[p,g]=x.useState(!1),[m,v]=x.useState("chat"),[b,y]=x.useState(null),[w,_]=x.useState(!1),[S,N]=x.useState(null),k=O=>{y(O),_(!0)},C=async(O,L)=>{L==null||L.stopPropagation(),N(O);try{await qs.downloadInvoicePDF(O,`invoice_${O.slice(0,8)}.pdf`),fe.success("Invoice downloaded successfully")}catch(I){console.error("Failed to download invoice:",I),fe.error("Failed to download invoice")}finally{N(null)}},A=($=t.state)==null?void 0:$.justOnboarded;x.useEffect(()=>{if(A){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!s&&!i&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[s,i,e,A]);const T=async()=>{if(r)try{const{data:O,error:L}=await Pe.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!L&&O&&O.length>0){const I=O.map(R=>R.clinician_id),[B,H]=await Promise.all([Pe.from("profiles").select("id, first_name, last_name").in("id",I),Pe.from("clinician_profiles").select("id, specialization").in("id",I)]),V=O.map(R=>{var te,Q;const U=(te=B.data)==null?void 0:te.find(j=>j.id===R.clinician_id),G=(Q=H.data)==null?void 0:Q.find(j=>j.id===R.clinician_id);return{id:R.id,scheduled_at:R.scheduled_at,consultation_type:R.consultation_type,status:R.status,clinician_name:U?`${U.first_name} ${U.last_name}`:"Unknown",specialization:(G==null?void 0:G.specialization)||null}});c(V)}else c([])}catch(O){console.error("Error fetching appointments:",O)}};return x.useEffect(()=>{(async()=>{if(r)try{await T();try{const L=await qs.getMyInvoices();d(L||[])}catch(L){console.log("No invoices or error fetching:",L)}}catch(L){console.error("Error fetching data:",L)}finally{h(!1)}})()},[r]),x.useEffect(()=>{if(!r)return;const O=Pe.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] New appointment created:",L),T()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] Appointment updated:",L),c(I=>I.map(B=>B.id===L.new.id?{...B,status:L.new.status}:B))}).subscribe();return()=>{Pe.removeChannel(O)}},[r]),s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:a,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!p),children:p?o.jsx(_o,{className:"w-5 h-5"}):o.jsx(lg,{className:"w-5 h-5"})})]}),p&&o.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:a,className:"justify-start",children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),o.jsxs(Bl,{value:m,onValueChange:v,className:"space-y-4",children:[o.jsxs(So,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[o.jsxs(Rt,{value:"chat",className:"flex items-center gap-2",children:[o.jsx(Yc,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),o.jsxs(Rt,{value:"consultations",className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),o.jsxs(Rt,{value:"profile",className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),o.jsx(lr,{value:"chat",className:"min-h-[600px]",children:o.jsx(Cue,{})}),o.jsxs(lr,{value:"consultations",className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),o.jsx(Ne,{children:"Your scheduled video consultations"})]}),o.jsx(ce,{children:f?o.jsx("div",{className:"space-y-4",children:[1,2].map(O=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},O))}):l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No upcoming consultations"}),o.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):o.jsx("div",{className:"space-y-4",children:l.map(O=>{const L=new Date(O.scheduled_at),I=new Date,B=(L.getTime()-I.getTime())/(1e3*60),H=O.status==="in_progress"||O.status==="confirmed"&&B<=15&&B>=-60;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx(Nt,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:O.clinician_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:O.specialization||"General Consultation"})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"font-medium",children:ea(O.scheduled_at,"MMM d, yyyy")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ea(O.scheduled_at,"h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[H&&o.jsxs(ee,{size:"sm",onClick:()=>e(`/consultation?appointment=${O.id}`),className:O.status==="in_progress"?"animate-pulse":"",children:[o.jsx(Qt,{className:"w-4 h-4 mr-1"}),O.status==="in_progress"?"Join Now":"Join"]}),o.jsx(je,{variant:O.status==="confirmed"?"default":O.status==="in_progress"?"destructive":"secondary",children:O.status==="in_progress"?" Live":O.status})]})]})]},O.id)})})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),o.jsx(Ne,{children:"Your prescription history"})]}),o.jsx(ce,{children:o.jsx(kue,{})})]})]}),o.jsxs(lr,{value:"profile",className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ne,{children:"Your profile details"})]}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),o.jsxs(ee,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[o.jsx(ly,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(j_,{className:"w-5 h-5 text-primary"}),"Invoices"]}),o.jsx(Ne,{children:"Your billing history"})]}),o.jsx(ce,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(j_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No invoices yet"})]}):o.jsx("div",{className:"space-y-3",children:u.map(O=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>k(O),children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:O.service_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[ea(O.consultation_date,"MMM d, yyyy"),"  ",O.clinician_name]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:["R ",O.amount.toFixed(2)]}),o.jsx(je,{variant:O.status==="paid"?"default":"secondary",children:O.status})]}),o.jsx(ee,{variant:"outline",size:"sm",onClick:L=>C(O.id,L),disabled:S===O.id,children:S===O.id?o.jsx(_t,{className:"w-4 h-4 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4"})})]})]},O.id))})})]}),o.jsx(Di,{open:w,onOpenChange:_,children:o.jsxs(Ya,{className:"sm:max-w-md",children:[o.jsxs(Ja,{children:[o.jsxs(Xa,{className:"flex items-center gap-2",children:[o.jsx(j_,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),o.jsxs(cf,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),o.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:ea(b.consultation_date,"MMMM d, yyyy")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),o.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsx(je,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),o.jsxs(ee,{variant:"outline",size:"sm",onClick:O=>C(b.id,O),disabled:S===b.id,children:[S===b.id?o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&o.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},Pue=()=>o.jsx(P6,{children:o.jsx(Eue,{})});var sP="Radio",[Oue,T8]=gn(sP),[Aue,Tue]=Oue(sP),M8=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=x.useState(null),p=We(t,v=>h(v)),g=x.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(Aue,{scope:r,checked:a,disabled:s,children:[o.jsx(Te.button,{type:"button",role:"radio","aria-checked":a,"data-state":D8(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:p,onClick:de(e.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(R8,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});M8.displayName=sP;var $8="RadioIndicator",I8=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Tue($8,r);return o.jsx(Hr,{present:n||i.checked,children:o.jsx(Te.span,{"data-state":D8(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});I8.displayName=$8;var Mue="RadioBubbleInput",R8=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=x.useRef(null),l=We(s,i),c=b0(r),u=o0(t);return x.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(Te.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R8.displayName=Mue;function D8(e){return e?"checked":"unchecked"}var $ue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O0="RadioGroup",[Iue]=gn(O0,[sh,T8]),L8=sh(),F8=T8(),[Rue,Due]=Iue(O0),B8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=L8(r),g=ah(u),[m,v]=Ui({prop:i,defaultProp:a??null,onChange:f,caller:O0});return o.jsx(Rue,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(UE,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:o.jsx(Te.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});B8.displayName=O0;var U8="RadioGroupItem",z8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Due(U8,r),s=i.disabled||n,l=L8(r),c=F8(r),u=x.useRef(null),d=We(t,u),f=i.value===a.value,h=x.useRef(!1);return x.useEffect(()=>{const p=m=>{$ue.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),o.jsx(zE,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(M8,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:de(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:de(a.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});z8.displayName=U8;var Lue="RadioGroupIndicator",V8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=F8(r);return o.jsx(I8,{...a,...n,ref:t})});V8.displayName=Lue;var W8=B8,H8=z8,Fue=V8;const hm=x.forwardRef(({className:e,...t},r)=>o.jsx(W8,{className:ge("grid gap-2",e),...t,ref:r}));hm.displayName=W8.displayName;const ds=x.forwardRef(({className:e,...t},r)=>o.jsx(H8,{ref:r,className:ge("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Fue,{className:"flex items-center justify-center",children:o.jsx(K5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ds.displayName=H8.displayName;function Bue(e,t=[]){let r=[];function n(i,s){const l=x.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>x.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Uue(a,...t)]}function Uue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var zue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q8=zue.reduce((e,t)=>{const r=hg(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),oP="Progress",lP=100,[Vue]=Bue(oP),[Wue,Hue]=Vue(oP),K8=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=que,...s}=e;(a||a===0)&&!IM(a)&&console.error(Kue(`${a}`,"Progress"));const l=IM(a)?a:lP;n!==null&&!RM(n,l)&&console.error(Gue(`${n}`,"Progress"));const c=RM(n,l)?n:null,u=gx(c)?i(c,l):void 0;return o.jsx(Wue,{scope:r,value:c,max:l,children:o.jsx(q8.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":gx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":J8(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});K8.displayName=oP;var G8="ProgressIndicator",Y8=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Hue(G8,r);return o.jsx(q8.div,{"data-state":J8(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});Y8.displayName=G8;function que(e,t){return`${Math.round(e/t*100)}%`}function J8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function gx(e){return typeof e=="number"}function IM(e){return gx(e)&&!isNaN(e)&&e>0}function RM(e,t){return gx(e)&&!isNaN(e)&&e<=t&&e>=0}function Kue(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lP}\`.`}function Gue(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var X8=K8,Yue=Y8;const ff=x.forwardRef(({className:e,value:t,...r},n)=>o.jsx(X8,{ref:n,className:ge("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(Yue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ff.displayName=X8.displayName;const DM="",Jue={General:gX,"Head & Neurological":Zd,"Eyes, Ears, Nose, Throat":rS,Respiratory:fd,Cardiovascular:nE,Gastrointestinal:Ga,Urinary:fd,Musculoskeletal:fd,Skin:fd,"Mental Health":Zd},LM={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},Xue=({onComplete:e,onBack:t})=>{const[r,n]=x.useState(1),[a,i]=x.useState(!1),[s,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState("moderate"),[h,p]=x.useState(""),[g,m]=x.useState(""),[v,b]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{const $=await(await fetch(`${DM}/api/symptoms/common`)).json();l($.symptom_categories||[])}catch(T){console.error("Failed to fetch symptoms:",T),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=T=>{u($=>$.includes(T)?$.filter(O=>O!==T):[...$,T])},_=async()=>{if(c.length===0){fe.error("Please select at least one symptom");return}i(!0);try{const{supabase:T}=await go(async()=>{const{supabase:I}=await Promise.resolve().then(()=>po);return{supabase:I}},void 0),{data:{session:$}}=await T.auth.getSession(),O=await fetch(`${DM}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...($==null?void 0:$.access_token)&&{Authorization:`Bearer ${$.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!O.ok)throw new Error("Assessment failed");const L=await O.json();b(L),n(4)}catch(T){console.error("Assessment error:",T),fe.error("Failed to complete AI assessment. Proceeding with basic booking."),S()}finally{i(!1)}},S=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},N=()=>{if(!v)return;const T={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?T[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},C=r/4*100,A=v?LM[v.urgency]||LM.routine:null;return o.jsxs("div",{className:"space-y-6",children:[r<4&&o.jsxs("div",{className:"mb-6",children:[o.jsx(ff,{value:C,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ga,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),o.jsx(Ne,{children:"Select all that apply. Our AI will help assess your needs."})]}),o.jsxs(ce,{className:"space-y-6",children:[s.map(T=>{const $=Jue[T.category]||fd;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[o.jsx($,{className:"w-4 h-4 text-muted-foreground"}),T.category]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:T.symptoms.map(O=>o.jsx(je,{variant:c.includes(O)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(O),children:O},O))})]},T.category)}),c.length>0&&o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(T=>o.jsx(je,{variant:"secondary",className:"text-xs",children:T},T))})]})]})]}),r===2&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs(hm,{value:d,onValueChange:T=>f(T),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"mild",id:"mild"}),o.jsxs(xe,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Mild"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),o.jsx(je,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"moderate",id:"moderate"}),o.jsxs(xe,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Moderate"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),o.jsx(je,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"severe",id:"severe"}),o.jsxs(xe,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Severe"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),o.jsx(je,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"How long have you had these symptoms?"}),o.jsx(hm,{value:g,onValueChange:m,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:T,id:T}),o.jsx(xe,{htmlFor:T,className:"text-sm cursor-pointer",children:T})]},T))})]})]})]}),r===3&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Zd,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),o.jsx(Ne,{children:"Any additional details help our AI provide a better assessment"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Describe your symptoms in your own words"}),o.jsx(Fr,{value:h,onChange:T=>p(T.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),o.jsx("br",{}),o.jsx("strong",{children:"Severity:"})," ",d,o.jsx("br",{}),o.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&o.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&o.jsx(ie,{className:"border-red-500 bg-red-50",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:o.jsx(sa,{className:"w-8 h-8 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),o.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(pn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),A&&o.jsx(je,{className:`${A.bgColor} ${A.color}`,children:A.label})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),o.jsxs("div",{children:[o.jsx(xe,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(ff,{value:v.urgency_score*10,className:"h-3 flex-1"}),o.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[o.jsx(Hn,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((T,$)=>o.jsxs("li",{children:[" ",T]},$))})]}),v.self_care_advice&&o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),o.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),o.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(ee,{variant:"outline",onClick:()=>r===1?t():n(T=>T-1),children:[o.jsx(rE,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&o.jsxs(ee,{onClick:()=>n(2),disabled:c.length===0,children:["Next",o.jsx(ef,{className:"w-4 h-4 ml-2"})]}),r===2&&o.jsxs(ee,{onClick:()=>n(3),children:["Next",o.jsx(ef,{className:"w-4 h-4 ml-2"})]}),r===3&&o.jsx(ee,{onClick:_,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zd,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&o.jsxs(ee,{onClick:N,children:["Continue to Select Clinician",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};function Que(e,t=[]){let r=[];function n(i,s){const l=x.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=x.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=x.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>x.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Zue(a,...t)]}function Zue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var ede=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cP=ede.reduce((e,t)=>{const r=hg(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Q8={exports:{}},Z8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=x;function tde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rde=typeof Object.is=="function"?Object.is:tde,nde=hf.useState,ade=hf.useEffect,ide=hf.useLayoutEffect,sde=hf.useDebugValue;function ode(e,t){var r=t(),n=nde({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return ide(function(){a.value=r,a.getSnapshot=t,rj(a)&&i({inst:a})},[e,r,t]),ade(function(){return rj(a)&&i({inst:a}),e(function(){rj(a)&&i({inst:a})})},[e]),sde(r),r}function rj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rde(e,r)}catch{return!0}}function lde(e,t){return t()}var cde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lde:ode;Z8.useSyncExternalStore=hf.useSyncExternalStore!==void 0?hf.useSyncExternalStore:cde;Q8.exports=Z8;var ude=Q8.exports;function dde(){return ude.useSyncExternalStore(fde,()=>!0,()=>!1)}function fde(){return()=>{}}var uP="Avatar",[hde]=Que(uP),[pde,ez]=hde(uP),tz=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return o.jsx(pde,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(cP.span,{...n,ref:t})})});tz.displayName=uP;var rz="AvatarImage",nz=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=ez(rz,r),l=mde(n,i),c=xr(u=>{a(u),s.onImageLoadingStatusChange(u)});return Sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(cP.img,{...i,ref:t,src:n}):null});nz.displayName=rz;var az="AvatarFallback",iz=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=ez(az,r),[s,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(cP.span,{...a,ref:t}):null});iz.displayName=az;function FM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mde(e,{referrerPolicy:t,crossOrigin:r}){const n=dde(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=x.useState(()=>FM(i,e));return Sr(()=>{l(FM(i,e))},[i,e]),Sr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),s}var sz=tz,oz=nz,lz=iz;const A0=x.forwardRef(({className:e,...t},r)=>o.jsx(sz,{ref:r,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));A0.displayName=sz.displayName;const cz=x.forwardRef(({className:e,...t},r)=>o.jsx(oz,{ref:r,className:ge("aspect-square h-full w-full",e),...t}));cz.displayName=oz.displayName;const T0=x.forwardRef(({className:e,...t},r)=>o.jsx(lz,{ref:r,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));T0.displayName=lz.displayName;const gde=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,a]=x.useState([]),[i,s]=x.useState(!0),[l,c]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Pe.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const p=f.map(b=>b.id),{data:g,error:m}=await Pe.from("profiles").select("id, first_name, last_name, avatar_url").in("id",p);if(m)throw m;const v=f.map(b=>{const y=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(y==null?void 0:y.first_name)||"Unknown",last_name:(y==null?void 0:y.last_name)||"",avatar_url:(y==null?void 0:y.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});a(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{s(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return i?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx(ie,{children:o.jsxs(ce,{className:"flex items-center gap-4 p-6",children:[o.jsx(Vt,{className:"w-16 h-16 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(Vt,{className:"h-4 w-32"}),o.jsx(Vt,{className:"h-3 w-48"})]})]})},d))}):n.length===0?o.jsx(ie,{children:o.jsxs(ce,{className:"text-center py-12",children:[o.jsx(Wr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),o.jsx(ee,{variant:"outline",onClick:r,children:"Go Back"})]})}):o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(Ga,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",o.jsx("strong",{children:e})," specialist."]})]}),o.jsx("div",{className:"space-y-4",children:n.map(d=>o.jsx(ie,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:o.jsxs(ce,{className:"flex items-start gap-4 p-6",children:[o.jsxs(A0,{className:"w-16 h-16",children:[o.jsx(cz,{src:d.avatar_url||void 0}),o.jsxs(T0,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),o.jsx(je,{variant:"secondary",children:d.specialization||"General Practice"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),d.years_experience," years exp."]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Q5,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(ee,{variant:"outline",onClick:r,children:"Back"}),o.jsxs(ee,{onClick:u,disabled:!l,children:["Continue to Select Time",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};var ze=function(){return ze=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ze.apply(this,arguments)};function vde(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function uz(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function yg(e){return e.mode==="multiple"}function xg(e){return e.mode==="range"}function M0(e){return e.mode==="single"}var yde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function xde(e,t){return vt(e,"LLLL y",t)}function bde(e,t){return vt(e,"d",t)}function wde(e,t){return vt(e,"LLLL",t)}function _de(e){return"".concat(e)}function jde(e,t){return vt(e,"cccccc",t)}function Sde(e,t){return vt(e,"yyyy",t)}var Nde=Object.freeze({__proto__:null,formatCaption:xde,formatDay:bde,formatMonthCaption:wde,formatWeekNumber:_de,formatWeekdayName:jde,formatYearCaption:Sde}),kde=function(e,t,r){return vt(e,"do MMMM (EEEE)",r)},Cde=function(){return"Month: "},Ede=function(){return"Go to next month"},Pde=function(){return"Go to previous month"},Ode=function(e,t){return vt(e,"cccc",t)},Ade=function(e){return"Week n. ".concat(e)},Tde=function(){return"Year: "},Mde=Object.freeze({__proto__:null,labelDay:kde,labelMonthDropdown:Cde,labelNext:Ede,labelPrevious:Pde,labelWeekNumber:Ade,labelWeekday:Ode,labelYearDropdown:Tde});function $de(){var e="buttons",t=yde,r=rP,n={},a={},i=1,s={},l=new Date;return{captionLayout:e,classNames:t,formatters:Nde,labels:Mde,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function Ide(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,s=e.toDate;return n?i=ia(n):t&&(i=new Date(t,0,1)),a?s=E0(a):r&&(s=new Date(r,11,31)),{fromDate:i?js(i):void 0,toDate:s?js(s):void 0}}var dz=x.createContext(void 0);function Rde(e){var t,r=e.initialProps,n=$de(),a=Ide(r),i=a.fromDate,s=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(M0(r)||yg(r)||xg(r))&&(c=r.onSelect);var u=ze(ze(ze({},n),r),{captionLayout:l,classNames:ze(ze({},n.classNames),r.classNames),components:ze({},r.components),formatters:ze(ze({},n.formatters),r.formatters),fromDate:i,labels:ze(ze({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ze(ze({},n.modifiers),r.modifiers),modifiersClassNames:ze(ze({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ze(ze({},n.styles),r.styles),toDate:s});return o.jsx(dz.Provider,{value:u,children:e.children})}function qt(){var e=x.useContext(dz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function fz(e){var t=qt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Dde(e){return o.jsx("svg",ze({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function hz(e){var t,r,n=e.onChange,a=e.value,i=e.children,s=e.caption,l=e.className,c=e.style,u=qt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Dde;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Lde(e){var t,r=qt(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Ace(n,a))for(var h=ia(n),p=n.getMonth();p<=a.getMonth();p++)f.push(J_(h,p));else for(var h=ia(new Date),p=0;p<=11;p++)f.push(J_(h,p));var g=function(v){var b=Number(v.target.value),y=J_(ia(e.displayMonth),b);e.onChange(y)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:hz;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function Fde(e){var t,r=e.displayMonth,n=qt(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),m=p;m<=g;m++)h.push(_M(y8(new Date),m));var v=function(y){var w=_M(ia(r),Number(y.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:hz;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(y){return o.jsx("option",{value:y.getFullYear(),children:d(y,{locale:s})},y.getFullYear())})})}function Bde(e,t){var r=x.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Ude(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,s=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&df(i,a)<0){var u=-1*(c-1);a=Hi(i,u)}return s&&df(a,s)<0&&(a=s),ia(a)}function zde(){var e=qt(),t=Ude(e),r=Bde(t,e.month),n=r[0],a=r[1],i=function(s){var l;if(!e.disableNavigation){var c=ia(s);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Vde(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=ia(e),i=ia(Hi(a,n)),s=df(i,a),l=[],c=0;c<s;c++){var u=Hi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Wde(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ia(e);if(!r)return Hi(l,s);var c=df(r,e);if(!(c<i))return Hi(l,s)}}function Hde(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ia(e);if(!r)return Hi(l,-s);var c=df(l,r);if(!(c<=0))return Hi(l,-s)}}var pz=x.createContext(void 0);function qde(e){var t=qt(),r=zde(),n=r[0],a=r[1],i=Vde(n,t),s=Wde(n,t),l=Hde(n,t),c=function(f){return i.some(function(h){return nP(f,h)})},u=function(f,h){c(f)||(h&&hx(f,h)?a(Hi(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(pz.Provider,{value:d,children:e.children})}function bg(){var e=x.useContext(pz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function BM(e){var t,r=qt(),n=r.classNames,a=r.styles,i=r.components,s=bg().goToMonth,l=function(d){s(Hi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:fz,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(Lde,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Fde,{onChange:l,displayMonth:e.displayMonth})]})}function Kde(e){return o.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Gde(e){return o.jsx("svg",ze({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var vx=x.forwardRef(function(e,t){var r=qt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var s=i.join(" "),l=ze(ze({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",ze({},e,{ref:t,type:"button",className:s,style:l}))});function Yde(e){var t,r,n=qt(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[s.nav_button,s.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Gde,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Kde;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(vx,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(b,{className:s.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(vx,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(b,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function UM(e){var t=qt().numberOfMonths,r=bg(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return nP(e.displayMonth,g)}),c=l===0,u=l===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},p=function(){a&&i(a)};return o.jsx(Yde,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:p})}function Jde(e){var t,r=qt(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:fz,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=o.jsx(BM,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(BM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(UM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(UM,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function Xde(e){var t=qt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function Qde(e,t,r){for(var n=r?tu(new Date):qi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var s=Qr(n,i);a.push(s)}return a}function Zde(){var e=qt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,s=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Qde(a,i,s);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function efe(){var e,t=qt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Zde;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function tfe(e){var t=qt(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var dP=x.createContext(void 0);function rfe(e){if(!yg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(dP.Provider,{value:t,children:e.children})}return o.jsx(nfe,{initialProps:e.initialProps,children:e.children})}function nfe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,s=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?uz([],n):[];if(d.selected){var b=v.findIndex(function(y){return Cn(u,y)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Cn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(dP.Provider,{value:c,children:r})}function fP(){var e=x.useContext(dP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function afe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Cn(a,e)&&Cn(n,e)?void 0:Cn(a,e)?{from:a,to:void 0}:Cn(n,e)?void 0:GS(n,e)?{from:e,to:a}:{from:n,to:e}:a?GS(e,a)?{from:a,to:e}:{from:e,to:a}:n?hx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var hP=x.createContext(void 0);function ife(e){if(!xg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(hP.Provider,{value:t,children:e.children})}return o.jsx(sfe,{initialProps:e.initialProps,children:e.children})}function sfe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,s=a.to,l=t.min,c=t.max,u=function(p,g,m){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,g,m);var y=afe(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],Cn(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:G_(i,l-1),before:Qr(i,l-1)}),i&&s&&d.disabled.push({after:i,before:Qr(i,l-1)}),!i&&s&&d.disabled.push({after:G_(s,l-1),before:Qr(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:Qr(i,-c+1)}),d.disabled.push({after:Qr(i,c-1)})),i&&s){var f=us(s,i)+1,h=c-f;d.disabled.push({before:G_(i,h)}),d.disabled.push({after:Qr(s,h)})}!i&&s&&(d.disabled.push({before:Qr(s,-c+1)}),d.disabled.push({after:Qr(s,c-1)}))}return o.jsx(hP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function pP(){var e=x.useContext(hP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function hy(e){return Array.isArray(e)?uz([],e):e!==void 0?[e]:[]}function ofe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=hy(a)}),t}var Ki;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ki||(Ki={}));var lfe=Ki.Selected,Rs=Ki.Disabled,cfe=Ki.Hidden,ufe=Ki.Today,nj=Ki.RangeEnd,aj=Ki.RangeMiddle,ij=Ki.RangeStart,dfe=Ki.Outside;function ffe(e,t,r){var n,a=(n={},n[lfe]=hy(e.selected),n[Rs]=hy(e.disabled),n[cfe]=hy(e.hidden),n[ufe]=[e.today],n[nj]=[],n[aj]=[],n[ij]=[],n[dfe]=[],n);return e.fromDate&&a[Rs].push({before:e.fromDate}),e.toDate&&a[Rs].push({after:e.toDate}),yg(e)?a[Rs]=a[Rs].concat(t.modifiers[Rs]):xg(e)&&(a[Rs]=a[Rs].concat(r.modifiers[Rs]),a[ij]=r.modifiers[ij],a[aj]=r.modifiers[aj],a[nj]=r.modifiers[nj]),a}var mz=x.createContext(void 0);function hfe(e){var t=qt(),r=fP(),n=pP(),a=ffe(t,r,n),i=ofe(t.modifiers),s=ze(ze({},a),i);return o.jsx(mz.Provider,{value:s,children:e.children})}function gz(){var e=x.useContext(mz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function pfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function mfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function gfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function vfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function yfe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function xfe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=us(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=us(e,n)>=0&&us(a,e)>=0;return s}return a?Cn(a,e):n?Cn(n,e):!1}function bfe(e){return eP(e)}function wfe(e){return Array.isArray(e)&&e.every(eP)}function _fe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(bfe(r))return Cn(e,r);if(wfe(r))return r.includes(e);if(mfe(r))return xfe(e,r);if(yfe(r))return r.dayOfWeek.includes(e.getDay());if(pfe(r)){var n=us(r.before,e),a=us(r.after,e),i=n>0,s=a<0,l=GS(r.before,r.after);return l?s&&i:i||s}return gfe(r)?us(e,r.after)>0:vfe(r)?us(r.before,e)>0:typeof r=="function"?r(e):!1})}function mP(e,t,r){var n=Object.keys(t).reduce(function(i,s){var l=t[s];return _fe(e,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!nP(e,r)&&(a.outside=!0),a}function jfe(e,t){for(var r=ia(e[0]),n=E0(e[e.length-1]),a,i,s=r;s<=n;){var l=mP(s,t),c=!l.disabled&&!l.hidden;if(!c){s=Qr(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=Qr(s,1)}return i||a}var Sfe=365;function vz(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,s=t.retry,l=s===void 0?{count:0,lastFocused:e}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Qr,week:dm,month:Hi,year:ble,startOfWeek:function(v){return a.ISOWeek?tu(v):qi(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?x8(v):P0(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=wle([u,p]):n==="after"&&d&&(p=_le([d,p]));var g=!0;if(i){var m=mP(p,i);g=!m.disabled&&!m.hidden}return g?p:l.count>Sfe?l.lastFocused:vz(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:ze(ze({},l),{count:l.count+1})})}var yz=x.createContext(void 0);function Nfe(e){var t=bg(),r=gz(),n=x.useState(),a=n[0],i=n[1],s=x.useState(),l=s[0],c=s[1],u=jfe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},p=qt(),g=function(v,b){if(a){var y=vz(a,{moveBy:v,direction:b,context:p,modifiers:r});Cn(a,y)||(t.goToDate(y,a),h(y))}},m={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(yz.Provider,{value:m,children:e.children})}function gP(){var e=x.useContext(yz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function kfe(e,t){var r=gz(),n=mP(e,r,t);return n}var vP=x.createContext(void 0);function Cfe(e){if(!M0(e.initialProps)){var t={selected:void 0};return o.jsx(vP.Provider,{value:t,children:e.children})}return o.jsx(Efe,{initialProps:e.initialProps,children:e.children})}function Efe(e){var t=e.initialProps,r=e.children,n=function(i,s,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,s,l),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,s,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,s,l)},a={selected:t.selected,onDayClick:n};return o.jsx(vP.Provider,{value:a,children:r})}function xz(){var e=x.useContext(vP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Pfe(e,t){var r=qt(),n=xz(),a=fP(),i=pP(),s=gP(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,p=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,b=s.focusStartOfWeek,y=s.focusEndOfWeek,w=function(V){var R,U,G,te;M0(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,V):yg(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,V):xg(r)?(G=i.onDayClick)===null||G===void 0||G.call(i,e,t,V):(te=r.onDayClick)===null||te===void 0||te.call(r,e,t,V)},_=function(V){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,V)},S=function(V){var R;f(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,V)},N=function(V){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,V)},k=function(V){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,V)},C=function(V){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,V)},A=function(V){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,V)},T=function(V){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,V)},$=function(V){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,V)},O=function(V){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,V)},L=function(V){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,V)},I=function(V){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,V)},B=function(V){var R;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?m():p();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():g();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),y();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,V)},H={onClick:w,onFocus:_,onBlur:S,onKeyDown:B,onKeyUp:I,onMouseEnter:N,onMouseLeave:k,onPointerEnter:C,onPointerLeave:A,onTouchCancel:T,onTouchEnd:$,onTouchMove:O,onTouchStart:L};return H}function Ofe(){var e=qt(),t=xz(),r=fP(),n=pP(),a=M0(e)?t.selected:yg(e)?r.selected:xg(e)?n.selected:void 0;return a}function Afe(e){return Object.values(Ki).includes(e)}function Tfe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Afe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Mfe(e,t){var r=ze({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=ze(ze({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function $fe(e,t,r){var n,a,i,s=qt(),l=gP(),c=kfe(e,t),u=Pfe(e,c),d=Ofe(),f=!!(s.onDayClick||s.mode!=="default");x.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Cn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Tfe(s,c).join(" "),p=Mfe(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:tfe,v=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},y=l.focusTarget&&Cn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Cn(l.focusedDay,e),_=ze(ze(ze({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function Ife(e){var t=x.useRef(null),r=$fe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(vx,ze({name:"day",ref:t},r.buttonProps)):o.jsx("div",ze({},r.divProps))}function Rfe(e){var t=e.number,r=e.dates,n=qt(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return o.jsx(vx,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Dfe(e){var t,r,n=qt(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Ife,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Rfe,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Ece(f))})]})}function zM(e,t,r){for(var n=r!=null&&r.ISOWeek?x8(t):P0(t,r),a=r!=null&&r.ISOWeek?tu(e):qi(e,r),i=us(n,a),s=[],l=0;l<=i;l++)s.push(Qr(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?b8(d):_8(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Lfe(e,t){var r=zM(ia(e),E0(e),t);if(t!=null&&t.useFixedWeeks){var n=Oce(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=dm(i,6-n),l=zM(dm(i,1),s,t);r.push.apply(r,l)}}return r}function Ffe(e){var t,r,n,a=qt(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,g=Lfe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:efe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Dfe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Xde;return o.jsxs("table",{id:e.id,className:s.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(y){return o.jsx(v,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function Bfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Ufe=Bfe()?x.useLayoutEffect:x.useEffect,sj=!1,zfe=0;function VM(){return"react-day-picker-".concat(++zfe)}function Vfe(e){var t,r=e??(sj?VM():null),n=x.useState(r),a=n[0],i=n[1];return Ufe(function(){a===null&&i(VM())},[]),x.useEffect(function(){sj===!1&&(sj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Wfe(e){var t,r,n=qt(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=bg().displayMonths,u=Vfe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=s.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,m=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(f.push(i.caption_start),h=ze(ze({},h),s.caption_start)),g&&(f.push(i.caption_end),h=ze(ze({},h),s.caption_end)),m&&(f.push(i.caption_between),h=ze(ze({},h),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Jde;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Ffe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Hfe(e){var t=qt(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function qfe(e){var t,r,n=e.initialProps,a=qt(),i=gP(),s=bg(),l=x.useState(!1),c=l[0],u=l[1];x.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=ze(ze({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return ze(ze({},g),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Hfe;return o.jsx("div",ze({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:s.displayMonths.map(function(g,m){return o.jsx(Wfe,{displayIndex:m,displayMonth:g},m)})})}))}function Kfe(e){var t=e.children,r=vde(e,["children"]);return o.jsx(Rde,{initialProps:r,children:o.jsx(qde,{children:o.jsx(Cfe,{initialProps:r,children:o.jsx(rfe,{initialProps:r,children:o.jsx(ife,{initialProps:r,children:o.jsx(hfe,{children:o.jsx(Nfe,{children:t})})})})})})})}function Gfe(e){return o.jsx(Kfe,ze({},e,{children:o.jsx(qfe,{initialProps:e})}))}function yP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(Gfe,{showOutsideDays:r,className:ge("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ge(im({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ge(im({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(rE,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(ef,{className:"h-4 w-4"})},...n})}yP.displayName="Calendar";const WM=[{value:"video",label:"Video Call",icon:Qt,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:sa,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:Xf,description:"Visit the clinic"}],Yfe=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},Jfe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var y;const[a,i]=x.useState(Qr(new Date,1)),[s,l]=x.useState(null),[c,u]=x.useState("video"),[d,f]=x.useState([]),[h,p]=x.useState(!1),g=Yfe();x.useEffect(()=>{(async()=>{if(a){p(!0);try{const _=js(a),S=Qr(_,1),{data:N,error:k}=await Pe.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",S.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const C=(N||[]).map(A=>{const T=new Date(A.scheduled_at);return ea(T,"HH:mm")});f(C)}catch(_){console.error("Error fetching booked slots:",_)}finally{p(!1)}}})()},[a,e]);const m=()=>{a&&s&&r({date:a,time:s,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(a){const[_,S]=w.split(":").map(Number),N=k8(N8(a,_),S);if(hx(N,new Date))return!1}return!0},b=a&&s&&c;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Consultation Type"}),o.jsxs(Ne,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),o.jsx(ce,{children:o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:WM.map(w=>{const _=w.icon;return o.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[o.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),o.jsx("span",{className:"font-medium",children:w.label}),o.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Select Date"}),o.jsx(Ne,{children:"Choose your preferred consultation date"})]}),o.jsx(ce,{children:o.jsx(yP,{mode:"single",selected:a,onSelect:i,disabled:w=>hx(w,js(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Select Time",o.jsx(je,{variant:"outline",className:"ml-2 text-xs",children:fm})]}),o.jsx(Ne,{children:a?mx(a):"Select a date first"})]}),o.jsx(ce,{children:h?o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>o.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):o.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return o.jsx(ee,{variant:s===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),a&&s&&o.jsx(ie,{className:"bg-primary/5 border-primary/20",children:o.jsxs(ce,{className:"flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[mx(a)," at ",s," ",fm]})]}),o.jsx(je,{variant:"secondary",children:(y=WM.find(w=>w.value===c))==null?void 0:y.label})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(ee,{variant:"outline",onClick:n,children:"Back"}),o.jsxs(ee,{onClick:m,disabled:!b,children:["Review & Confirm",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};var Xfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qfe=Xfe.reduce((e,t)=>{const r=hg(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Zfe="Separator",HM="horizontal",ehe=["horizontal","vertical"],bz=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=HM,...a}=e,i=the(n)?n:HM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(Qfe.div,{"data-orientation":i,...l,...a,ref:t})});bz.displayName=Zfe;function the(e){return ehe.includes(e)}var wz=bz;const yx=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(wz,{ref:a,decorative:r,orientation:t,className:ge("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));yx.displayName=wz.displayName;const rhe={video:Qt,phone:sa,in_person:Xf},nhe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},ahe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=$r(),[a,i]=x.useState(!1),[s,l]=x.useState(!1),c=rhe[e.consultationType],u=async()=>{if(!n){fe.error("You must be logged in to book an appointment");return}i(!0);try{const{data:d,error:f}=await Pe.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,p]=e.time.split(":").map(Number),g=k8(N8(e.date,h),p),{error:m}=await Pe.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(m)throw m;l(!0),fe.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),fe.error(d.message||"Failed to book appointment")}finally{i(!1)}};return s?o.jsx(ie,{className:"text-center",children:o.jsxs(ce,{className:"py-12",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:o.jsx(pn,{className:"w-10 h-10 text-success"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[o.jsx("p",{className:"font-medium",children:mx(e.date)}),o.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",fm]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),o.jsx(ee,{onClick:t,children:"Return to Dashboard"})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Review Your Booking"}),o.jsx(Ne,{children:"Please review the details before confirming your appointment."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Wr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),o.jsx(yx,{}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Nt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:Nue(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Ht,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",fm,")"]}),o.jsx("p",{className:"font-medium",children:e.time})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsx("p",{className:"font-medium",children:nhe[e.consultationType]})]})]})]}),o.jsx(yx,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>o.jsx(je,{variant:"secondary",children:d},f))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),o.jsx(je,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),o.jsx(ie,{className:"border-primary/20 bg-primary/5",children:o.jsx(ce,{className:"p-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(ee,{variant:"outline",onClick:r,disabled:a,children:"Back"}),o.jsx(ee,{onClick:u,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},_z="",ihe=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],she=({onBack:e,onComplete:t})=>{On();const[r,n]=x.useState(!1),[a,i]=x.useState(""),[s,l]=x.useState([]),[c,u]=x.useState("moderate"),[d,f]=x.useState(""),h=g=>{l(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},p=async()=>{if(!a.trim()){fe.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await go(async()=>{const{supabase:y}=await Promise.resolve().then(()=>po);return{supabase:y}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){fe.error("Please sign in to continue");return}const v=await fetch(`${_z}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:s,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const y=await v.json();throw new Error(y.detail||"Failed to create walk-in booking")}const b=await v.json();fe.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),fe.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ht,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Walk-In Booking"}),o.jsx(Ne,{children:"No appointment? Join the queue now"})]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",o.jsx("strong",{children:"~30 minutes"})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"complaint",children:"What brings you in today? *"}),o.jsx(Fr,{id:"complaint",value:a,onChange:g=>i(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Any of these symptoms?"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ihe.map(g=>o.jsx(je,{variant:s.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"How severe are your symptoms?"}),o.jsxs(hm,{value:c,onValueChange:u,className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"mild",id:"mild"}),o.jsx(xe,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"moderate",id:"moderate"}),o.jsx(xe,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"severe",id:"severe"}),o.jsx(xe,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"notes",children:"Additional notes (optional)"}),o.jsx(Fr,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(ee,{variant:"outline",onClick:e,children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(ee,{onClick:p,disabled:r||!a.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},ohe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],lhe=({onBack:e,onComplete:t})=>{const[r,n]=x.useState(!1),[a,i]=x.useState(""),[s,l]=x.useState([]),[c,u]=x.useState(!1),d=h=>{l(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])},f=async()=>{if(!a.trim()){fe.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await go(async()=>{const{supabase:m}=await Promise.resolve().then(()=>po);return{supabase:m}},void 0),{data:{session:p}}=await h.auth.getSession();if(!(p!=null&&p.access_token)){fe.error("Please sign in to continue");return}const g=await fetch(`${_z}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:s,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const m=await g.json();throw new Error(m.detail||"Failed to create emergency booking")}fe.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),fe.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return o.jsxs(ie,{className:"border-red-500",children:[o.jsx(me,{className:"bg-red-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(Hn,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-red-700",children:"Emergency Booking"}),o.jsx(Ne,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),o.jsxs(ce,{className:"space-y-6 pt-6",children:[o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(sa,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),o.jsxs("p",{className:"text-sm text-red-600",children:["Call ",o.jsx("strong",{children:"10177"})," (ambulance) or ",o.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),o.jsx(Fr,{id:"emergency-complaint",value:a,onChange:h=>i(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Select any matching symptoms:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:ohe.map(h=>o.jsx(je,{variant:s.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[o.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),o.jsx(xe,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(ee,{variant:"outline",onClick:e,children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(ee,{variant:"destructive",onClick:f,disabled:r||!a.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Hn,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},qM=[{id:"symptoms",label:"Symptoms",icon:Zd},{id:"clinician",label:"Clinician",icon:Wr},{id:"time",label:"Schedule",icon:Ht},{id:"confirm",label:"Confirm",icon:Mr}],che=()=>{const e=On(),{profile:t,signOut:r}=$r(),[n,a]=x.useState("intro"),[i,s]=x.useState("scheduled"),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),p=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=y=>{c(y),a("clinician")},m=y=>{d(y),a("time")},v=y=>{h(y),a("confirm")},b=()=>{e("/patient")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[o.jsx(hn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&o.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:o.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:qM.map((y,w)=>{const _=y.icon,S=p()===w,N=p()>w;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${N?"bg-success text-success-foreground":S?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:N?o.jsx(Mr,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${S?"text-primary font-medium":"text-muted-foreground"}`,children:y.label})]}),w<qM.length-1&&o.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${N?"bg-success":"bg-muted"}`})]},y.id)})})}),n==="intro"&&o.jsxs(ie,{className:"text-center",children:[o.jsxs(me,{children:[o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Nt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),o.jsx(Ne,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[o.jsx(ie,{className:`cursor-pointer transition-all hover:border-primary ${i==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>s("scheduled"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Nt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Schedule"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),o.jsx(ie,{className:`cursor-pointer transition-all hover:border-orange-500 ${i==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>s("walk-in"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Bn,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Walk-In"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),o.jsx(ie,{className:`cursor-pointer transition-all hover:border-red-500 ${i==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>s("emergency"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Hn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Emergency"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),i==="scheduled"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(Zd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),o.jsx(ST,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Wr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Ht,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[o.jsx(ST,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),o.jsxs(ee,{size:"lg",onClick:()=>a("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]}),i==="walk-in"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[o.jsx(Bn,{className:"w-4 h-4"}),"Walk-In Queue"]}),o.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),o.jsxs(ee,{size:"lg",onClick:()=>a("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]}),i==="emergency"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[o.jsx(Hn,{className:"w-4 h-4"}),"Emergency Care"]}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),o.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),o.jsxs(ee,{size:"lg",variant:"destructive",onClick:()=>a("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&o.jsx(she,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&o.jsx(lhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&o.jsx(Xue,{onComplete:g,onBack:()=>a("intro")}),n==="clinician"&&l&&o.jsx(gde,{recommendedSpecialization:l.recommendedSpecialization,onSelect:m,onBack:()=>a("symptoms")}),n==="time"&&u&&o.jsx(Jfe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>a("clinician")}),n==="confirm"&&l&&u&&f&&o.jsx(ahe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>a("time")})]})]})},uhe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:Bn,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:Ga,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:G5,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:Nt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return o.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,a)=>{const i=n.icon;return o.jsx(ie,{children:o.jsx(ce,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),o.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:o.jsx(i,{className:`w-6 h-6 ${n.iconColor}`})})]})})},a)})})};var $0="Switch",[dhe]=gn($0),[fhe,hhe]=dhe($0),jz=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),g=We(t,w=>p(w)),m=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,y]=Ui({prop:a,defaultProp:i??!1,onChange:u,caller:$0});return o.jsxs(fhe,{scope:r,checked:b,disabled:l,children:[o.jsx(Te.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":Cz(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:de(e.onClick,w=>{y(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(kz,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});jz.displayName=$0;var Sz="SwitchThumb",Nz=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=hhe(Sz,r);return o.jsx(Te.span,{"data-state":Cz(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Nz.displayName=Sz;var phe="SwitchBubbleInput",kz=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=x.useRef(null),l=We(s,i),c=b0(r),u=o0(t);return x.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kz.displayName=phe;function Cz(e){return e?"checked":"unchecked"}var Ez=jz,mhe=Nz;const I0=x.forwardRef(({className:e,...t},r)=>o.jsx(Ez,{className:ge("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(mhe,{className:ge("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));I0.displayName=Ez.displayName;function ghe(e){const t=vhe(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(xhe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function vhe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=whe(a),l=bhe(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yhe=Symbol("radix.slottable");function xhe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yhe}function bhe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function whe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R0="Popover",[Pz]=gn(R0,[Il]),wg=Il(),[_he,Ul]=Pz(R0),Oz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,l=wg(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=Ui({prop:n,defaultProp:a??!1,onChange:i,caller:R0});return o.jsx(mE,{...l,children:o.jsx(_he,{scope:t,contentId:Ri(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:s,children:r})})};Oz.displayName=R0;var Az="PopoverAnchor",jhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(Az,r),i=wg(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(dg,{...i,...n,ref:t})});jhe.displayName=Az;var Tz="PopoverTrigger",Mz=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(Tz,r),i=wg(r),s=We(t,a.triggerRef),l=o.jsx(Te.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Lz(a.open),...n,ref:s,onClick:de(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(dg,{asChild:!0,...i,children:l})});Mz.displayName=Tz;var xP="PopoverPortal",[She,Nhe]=Pz(xP,{forceMount:void 0}),$z=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Ul(xP,t);return o.jsx(She,{scope:t,forceMount:r,children:o.jsx(Hr,{present:r||i.open,children:o.jsx(Jf,{asChild:!0,container:a,children:n})})})};$z.displayName=xP;var pf="PopoverContent",Iz=x.forwardRef((e,t)=>{const r=Nhe(pf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Ul(pf,e.__scopePopover);return o.jsx(Hr,{present:n||i.open,children:i.modal?o.jsx(Che,{...a,ref:t}):o.jsx(Ehe,{...a,ref:t})})});Iz.displayName=pf;var khe=ghe("PopoverContent.RemoveScroll"),Che=x.forwardRef((e,t)=>{const r=Ul(pf,e.__scopePopover),n=x.useRef(null),a=We(t,n),i=x.useRef(!1);return x.useEffect(()=>{const s=n.current;if(s)return w0(s)},[]),o.jsx(gg,{as:khe,allowPinchZoom:!0,children:o.jsx(Rz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:de(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ehe=x.forwardRef((e,t)=>{const r=Ul(pf,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return o.jsx(Rz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Rz=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ul(pf,r),p=wg(r);return x0(),o.jsx(mg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(gu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(l0,{"data-state":Lz(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Dz="PopoverClose",Phe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(Dz,r);return o.jsx(Te.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>a.onOpenChange(!1))})});Phe.displayName=Dz;var Ohe="PopoverArrow",Ahe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=wg(r);return o.jsx(c0,{...a,...n,ref:t})});Ahe.displayName=Ohe;function Lz(e){return e?"open":"closed"}var The=Oz,Mhe=Mz,$he=$z,Fz=Iz;const Ihe=The,Rhe=Mhe,Bz=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx($he,{children:o.jsx(Fz,{ref:a,align:t,sideOffset:r,className:ge("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Bz.displayName=Fz.displayName;const Uz=sie,zz=x.createContext({}),_n=({...e})=>o.jsx(zz.Provider,{value:{name:e.name},children:o.jsx(aie,{...e})}),D0=()=>{const e=x.useContext(zz),t=x.useContext(Vz),{getFieldState:r,formState:n}=iie(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Vz=x.createContext({}),un=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return o.jsx(Vz.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:ge("space-y-2",e),...t})})});un.displayName="FormItem";const Yr=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=D0();return o.jsx(xe,{ref:r,className:ge(n&&"text-destructive",e),htmlFor:a,...t})});Yr.displayName="FormLabel";const dn=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=D0();return o.jsx(yU,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});dn.displayName="FormControl";const XS=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=D0();return o.jsx("p",{ref:r,id:n,className:ge("text-sm text-muted-foreground",e),...t})});XS.displayName="FormDescription";const jn=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=D0(),s=a?String(a==null?void 0:a.message):t;return s?o.jsx("p",{ref:n,id:i,className:ge("text-sm font-medium text-destructive",e),...r,children:s}):null});jn.displayName="FormMessage";function Dhe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var bP="ScrollArea",[Wz]=gn(bP),[Lhe,ii]=Wz(bP),Hz=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,g]=x.useState(null),[m,v]=x.useState(null),[b,y]=x.useState(0),[w,_]=x.useState(0),[S,N]=x.useState(!1),[k,C]=x.useState(!1),A=We(t,$=>c($)),T=ah(a);return o.jsx(Lhe,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:_,children:o.jsx(Te.div,{dir:T,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Hz.displayName=bP;var qz="ScrollAreaViewport",Kz=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=ii(qz,r),l=x.useRef(null),c=We(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Te.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Kz.displayName=qz;var Es="ScrollAreaScrollbar",wP=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ii(Es,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(Fhe,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Bhe,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(Gz,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(_P,{...n,ref:t}):null});wP.displayName=Es;var Fhe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ii(Es,e.__scopeScrollArea),[i,s]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Hr,{present:r||i,children:o.jsx(Gz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Bhe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ii(Es,e.__scopeScrollArea),i=e.orientation==="horizontal",s=F0(()=>c("SCROLL_END"),100),[l,c]=Dhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),o.jsx(Hr,{present:r||l!=="hidden",children:o.jsx(_P,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:de(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:de(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Gz=x.forwardRef((e,t)=>{const r=ii(Es,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=x.useState(!1),l=e.orientation==="horizontal",c=F0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return mf(r.viewport,c),mf(r.content,c),o.jsx(Hr,{present:n||i,children:o.jsx(_P,{"data-state":i?"visible":"hidden",...a,ref:t})})}),_P=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ii(Es,e.__scopeScrollArea),i=x.useRef(null),s=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Zz(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return qhe(h,s.current,l,p)}return r==="horizontal"?o.jsx(Uhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=KM(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(zhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=KM(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Uhe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ii(Es,e.__scopeScrollArea),[s,l]=x.useState(),c=x.useRef(null),u=We(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Jz,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":L0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),tV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bx(s.paddingLeft),paddingEnd:bx(s.paddingRight)}})}})}),zhe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ii(Es,e.__scopeScrollArea),[s,l]=x.useState(),c=x.useRef(null),u=We(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(Jz,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":L0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),tV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bx(s.paddingTop),paddingEnd:bx(s.paddingBottom)}})}})}),[Vhe,Yz]=Wz(Es),Jz=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ii(Es,r),[g,m]=x.useState(null),v=We(t,A=>m(A)),b=x.useRef(null),y=x.useRef(""),w=p.viewport,_=n.content-n.viewport,S=xr(d),N=xr(c),k=F0(f,10);function C(A){if(b.current){const T=A.clientX-b.current.left,$=A.clientY-b.current.top;u({x:T,y:$})}}return x.useEffect(()=>{const A=T=>{const $=T.target;(g==null?void 0:g.contains($))&&S(T,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,g,_,S]),x.useEffect(N,[n,N]),mf(g,k),mf(p.content,k),o.jsx(Vhe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:xr(i),onThumbPointerUp:xr(s),onThumbPositionChange:N,onThumbPointerDown:xr(l),children:o.jsx(Te.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:de(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:de(e.onPointerMove,C),onPointerUp:de(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),xx="ScrollAreaThumb",Xz=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Yz(xx,e.__scopeScrollArea);return o.jsx(Hr,{present:r||a.hasThumb,children:o.jsx(Whe,{ref:t,...n})})}),Whe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ii(xx,r),s=Yz(xx,r),{onThumbPositionChange:l}=s,c=We(t,f=>s.onThumbChange(f)),u=x.useRef(void 0),d=F0(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Khe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(Te.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:de(e.onPointerUp,s.onThumbPointerUp)})});Xz.displayName=xx;var jP="ScrollAreaCorner",Qz=x.forwardRef((e,t)=>{const r=ii(jP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Hhe,{...e,ref:t}):null});Qz.displayName=jP;var Hhe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ii(jP,r),[i,s]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return mf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),mf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(Te.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function bx(e){return e?parseInt(e,10):0}function Zz(e,t){const r=e/t;return isNaN(r)?0:r}function L0(e){const t=Zz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function qhe(e,t,r,n="ltr"){const a=L0(r),i=a/2,s=t||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return eV([c,u],f)(e)}function KM(e,t,r="ltr"){const n=L0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=LS(e,c);return eV([0,s],[0,l])(u)}function eV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function tV(e,t){return e>0&&e<t}var Khe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function F0(e,t){const r=xr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function mf(e,t){const r=xr(t);Sr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var rV=Hz,Ghe=Kz,Yhe=Qz;const SP=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(rV,{ref:n,className:ge("relative overflow-hidden",e),...r,children:[o.jsx(Ghe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(nV,{}),o.jsx(Yhe,{})]}));SP.displayName=rV.displayName;const nV=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(wP,{ref:n,orientation:t,className:ge("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(Xz,{className:"relative flex-1 rounded-full bg-border"})}));nV.displayName=wP.displayName;const GM=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],Jhe=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=x.useState(""),[a,i]=x.useState(!1),s=GM.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=x.useCallback(u=>{t([...e,u]),n(""),i(!1)},[e,t]),c=x.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(nS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),i(!0)},onFocus:()=>i(!0),className:"pl-10"}),a&&r&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:o.jsx(SP,{className:"max-h-48",children:s.length>0?s.slice(0,10).map(u=>o.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),o.jsx(tf,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:GM.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>o.jsx(ee,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),o.jsx("div",{className:"space-y-1",children:e.map(u=>o.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[o.jsxs("div",{children:[o.jsx(je,{variant:"secondary",className:"font-mono mr-2",children:u.code}),o.jsx("span",{className:"text-sm",children:u.description})]}),o.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:o.jsx(_o,{className:"w-4 h-4"})})]},u.code))})]})]})},Xhe=y0({chief_complaint:mr().min(1,"Chief complaint is required").max(500),history_of_present_illness:mr().max(2e3).optional(),examination_findings:mr().max(2e3).optional(),treatment_plan:mr().max(2e3).optional(),follow_up_instructions:mr().max(1e3).optional(),follow_up_date:Xie().optional().nullable(),referral_required:Jie().default(!1),referral_details:mr().max(500).optional()}),Qhe=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:a})=>{const{user:i}=$r(),[s,l]=x.useState([]),[c,u]=x.useState(!1),[d,f]=x.useState(a||null),[h,p]=x.useState("draft"),g=ax({resolver:ix(Xhe),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});x.useEffect(()=>{(async()=>{if(!a)return;const{data:w,error:_}=await Pe.from("clinical_notes").select("*").eq("id",a).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),p(w.status),f(w.id))})()},[a,g]);const m=async y=>{if(i){u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:y.chief_complaint,history_of_present_illness:y.history_of_present_illness||null,examination_findings:y.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:y.treatment_plan||null,follow_up_instructions:y.follow_up_instructions||null,follow_up_date:y.follow_up_date?vt(y.follow_up_date,"yyyy-MM-dd"):null,referral_required:y.referral_required,referral_details:y.referral_required?y.referral_details:null,status:"draft"};if(d){const{error:_}=await Pe.from("clinical_notes").update(w).eq("id",d);if(_)throw _;fe.success("Draft saved")}else{const{data:_,error:S}=await Pe.from("clinical_notes").insert(w).select().single();if(S)throw S;f(_.id),fe.success("Draft created")}}catch(w){console.error("Error saving draft:",w),fe.error("Failed to save draft")}finally{u(!1)}}},v=async y=>{if(i){if(s.length===0){fe.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:y.chief_complaint,history_of_present_illness:y.history_of_present_illness||null,examination_findings:y.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:y.treatment_plan||null,follow_up_instructions:y.follow_up_instructions||null,follow_up_date:y.follow_up_date?vt(y.follow_up_date,"yyyy-MM-dd"):null,referral_required:y.referral_required,referral_details:y.referral_required?y.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Pe.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Pe.from("clinical_notes").insert(w);if(_)throw _}fe.success("Clinical note completed and signed"),p("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),fe.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return o.jsxs(ie,{className:"w-full",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",o.jsx("span",{className:"font-medium",children:r})]})]}),o.jsx(je,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),o.jsx(ce,{children:o.jsx(Uz,{...g,children:o.jsxs("form",{className:"space-y-6",children:[o.jsxs(Bl,{defaultValue:"clinical",className:"w-full",children:[o.jsxs(So,{className:"grid w-full grid-cols-3",children:[o.jsxs(Rt,{value:"clinical",className:"flex items-center gap-2",children:[o.jsx(Ga,{className:"w-4 h-4"}),"Clinical"]}),o.jsxs(Rt,{value:"diagnosis",className:"flex items-center gap-2",children:[o.jsx(vu,{className:"w-4 h-4"}),"Diagnosis"]}),o.jsxs(Rt,{value:"treatment",className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-4 h-4"}),"Treatment"]})]}),o.jsxs(lr,{value:"clinical",className:"space-y-4 mt-4",children:[o.jsx(_n,{control:g.control,name:"chief_complaint",render:({field:y})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Chief Complaint *"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...y})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:g.control,name:"history_of_present_illness",render:({field:y})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"History of Present Illness"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...y})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:g.control,name:"examination_findings",render:({field:y})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Examination Findings"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...y})}),o.jsx(XS,{children:"Document any observable findings from the video consultation"}),o.jsx(jn,{})]})})]}),o.jsx(lr,{value:"diagnosis",className:"space-y-4 mt-4",children:o.jsxs("div",{children:[o.jsx(Yr,{children:"ICD-10 Diagnosis Codes *"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),o.jsx(Jhe,{selectedCodes:s,onCodesChange:b?()=>{}:l})]})}),o.jsxs(lr,{value:"treatment",className:"space-y-4 mt-4",children:[o.jsx(_n,{control:g.control,name:"treatment_plan",render:({field:y})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Treatment Plan"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...y})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:g.control,name:"follow_up_instructions",render:({field:y})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Follow-up Instructions"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...y})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:g.control,name:"follow_up_date",render:({field:y})=>o.jsxs(un,{className:"flex flex-col",children:[o.jsx(Yr,{children:"Follow-up Date"}),o.jsxs(Ihe,{children:[o.jsx(Rhe,{asChild:!0,children:o.jsx(dn,{children:o.jsxs(ee,{variant:"outline",disabled:b,className:ge("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[y.value?vt(y.value,"PPP"):o.jsx("span",{children:"Select date"}),o.jsx(Nt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Bz,{className:"w-auto p-0",align:"start",children:o.jsx(yP,{mode:"single",selected:y.value||void 0,onSelect:y.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),o.jsx(jn,{})]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(_n,{control:g.control,name:"referral_required",render:({field:y})=>o.jsxs(un,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Yr,{className:"text-base",children:"Referral Required"}),o.jsx(XS,{children:"Does this patient need to be referred to a specialist?"})]}),o.jsx(dn,{children:o.jsx(I0,{checked:y.value,onCheckedChange:y.onChange,disabled:b})})]})}),g.watch("referral_required")&&o.jsx(_n,{control:g.control,name:"referral_details",render:({field:y})=>o.jsxs(un,{className:"mt-4",children:[o.jsx(Yr,{children:"Referral Details"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...y})}),o.jsx(jn,{})]})})]})]})]}),!b&&o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsxs(ee,{type:"button",variant:"outline",onClick:g.handleSubmit(m),disabled:c,children:[o.jsx(pX,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),o.jsxs(ee,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[o.jsx(J5,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},NP=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:s})=>{const l=()=>{s==null||s(),t(!1)};return o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Ya,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ja,{children:o.jsx(Xa,{children:"Document Consultation"})}),o.jsx(Qhe,{appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:l})]})})},aV=()=>{const{user:e,role:t}=$r(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[s,l]=x.useState(null),c=x.useCallback(async()=>{if(e){i(!0),l(null);try{const{data:p,error:g}=await Pe.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const m=[...new Set((p==null?void 0:p.map(_=>_.patient_id))||[])],v=[...new Set((p==null?void 0:p.map(_=>_.clinician_id))||[])],{data:b}=await Pe.from("profiles").select("id, first_name, last_name").in("id",[...m,...v]),y=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(p==null?void 0:p.map(_=>({..._,patient_name:y.get(_.patient_id)||"Unknown",clinician_name:y.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(p){l(p.message)}finally{i(!1)}}},[e]),u=async p=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:m}=await Pe.from("prescriptions").insert({...p,clinician_id:e.id}).select().single();if(m)throw m;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(p,g)=>{try{const{error:m}=await Pe.from("prescriptions").update({status:g}).eq("id",p);if(m)throw m;return await c(),{success:!0}}catch(m){return{success:!1,error:m.message}}},f=async p=>{try{const{data:g,error:m}=await Pe.from("prescriptions").select("*").eq("patient_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async p=>{try{const{data:g,error:m}=await Pe.from("prescriptions").select("*").eq("appointment_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return x.useEffect(()=>{c()},[c]),{prescriptions:r,loading:a,error:s,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},Zhe=y0({medication_name:mr().min(1,"Medication name is required"),dosage:mr().min(1,"Dosage is required"),frequency:mr().min(1,"Frequency is required"),duration:mr().min(1,"Duration is required"),quantity:mr().optional(),refills:mr().optional(),instructions:mr().optional(),pharmacy_notes:mr().optional()}),epe=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],tpe=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],rpe=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:a,onCancel:i})=>{const{createPrescription:s}=aV(),[l,c]=x.useState(!1),u=ax({resolver:ix(Zhe),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},p=await s(h);c(!1),p.success?(fe.success("Prescription created successfully"),u.reset(),a==null||a()):fe.error(p.error||"Failed to create prescription")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ur,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"New Prescription"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),o.jsx(Uz,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[o.jsx(_n,{control:u.control,name:"medication_name",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Medication Name *"}),o.jsx(dn,{children:o.jsx(rt,{placeholder:"e.g., Amoxicillin 500mg",...f})}),o.jsx(jn,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(_n,{control:u.control,name:"dosage",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Dosage *"}),o.jsx(dn,{children:o.jsx(rt,{placeholder:"e.g., 1 tablet",...f})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:u.control,name:"frequency",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Frequency *"}),o.jsxs(vr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(dn,{children:o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select frequency"})})}),o.jsx(or,{children:epe.map(h=>o.jsx(qe,{value:h,children:h},h))})]}),o.jsx(jn,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(_n,{control:u.control,name:"duration",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Duration *"}),o.jsxs(vr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(dn,{children:o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select duration"})})}),o.jsx(or,{children:tpe.map(h=>o.jsx(qe,{value:h,children:h},h))})]}),o.jsx(jn,{})]})}),o.jsx(_n,{control:u.control,name:"quantity",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Quantity"}),o.jsx(dn,{children:o.jsx(rt,{type:"number",placeholder:"e.g., 30",...f})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:u.control,name:"refills",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Refills"}),o.jsx(dn,{children:o.jsx(rt,{type:"number",min:"0",max:"12",...f})}),o.jsx(jn,{})]})})]}),o.jsx(_n,{control:u.control,name:"instructions",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Patient Instructions"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),o.jsx(jn,{})]})}),o.jsx(_n,{control:u.control,name:"pharmacy_notes",render:({field:f})=>o.jsxs(un,{children:[o.jsx(Yr,{children:"Pharmacy Notes"}),o.jsx(dn,{children:o.jsx(Fr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),o.jsx(jn,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i&&o.jsx(ee,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),o.jsx(ee,{type:"submit",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(tf,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},iV=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i})=>o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Ya,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ja,{children:o.jsx(Xa,{children:"Create E-Prescription"})}),o.jsx(rpe,{patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),npe=e=>{const[t,r]=x.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,a]=x.useState(!1),[i,s]=x.useState(null);return x.useEffect(()=>{(async()=>{if(e){a(!0),s(null);try{const{data:c,error:u}=await Pe.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Pe.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:p}=await Pe.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(p)throw p;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:m}=await Pe.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((m==null?void 0:m.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],y=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:y,prescriptions:w})}catch(c){s(c.message)}finally{a(!1)}}})()},[e]),{history:t,loading:n,error:i}},ape={video:Qt,phone:sa,in_person:Xf},YM={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},ipe=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:a,loading:i,error:s}=npe(e?r:null);return o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Ya,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(Ja,{children:o.jsxs(Xa,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),i?o.jsxs("div",{className:"space-y-4",children:[o.jsx(Vt,{className:"h-10 w-full"}),o.jsx(Vt,{className:"h-48 w-full"}),o.jsx(Vt,{className:"h-48 w-full"})]}):s?o.jsxs("div",{className:"text-center py-8 text-destructive",children:[o.jsx(vu,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Error loading patient history"})]}):o.jsxs(Bl,{defaultValue:"appointments",className:"w-full",children:[o.jsxs(So,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Rt,{value:"appointments",className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-4 h-4"}),"Visits (",a.appointments.length,")"]}),o.jsxs(Rt,{value:"notes",className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-4 h-4"}),"Clinical Notes (",a.clinicalNotes.length,")"]}),o.jsxs(Rt,{value:"prescriptions",className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-4 h-4"}),"Prescriptions (",a.prescriptions.length,")"]})]}),o.jsxs(SP,{className:"h-[500px] pr-4",children:[o.jsx(lr,{value:"appointments",className:"space-y-3 mt-0",children:a.appointments.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No past appointments"})]}):a.appointments.map(l=>{const c=ape[l.consultation_type]||Qt;return o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium",children:vt(new Date(l.scheduled_at),"MMMM d, yyyy")}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",vt(new Date(l.scheduled_at),"h:mm a")]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&o.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),o.jsx(je,{className:YM[l.status]||"",children:l.status})]})})},l.id)})}),o.jsx(lr,{value:"notes",className:"space-y-3 mt-0",children:a.clinicalNotes.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(rn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No clinical notes available"})]}):a.clinicalNotes.map(l=>o.jsx(ie,{children:o.jsxs(ce,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-4 h-4 text-primary"}),o.jsx("p",{className:"font-medium",children:vt(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&o.jsxs(je,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(Mr,{className:"w-3 h-3"}),"Signed"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),o.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>o.jsx(je,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),o.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),o.jsx(lr,{value:"prescriptions",className:"space-y-3 mt-0",children:a.prescriptions.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions on record"})]}):a.prescriptions.map(l=>o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Ur,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",vt(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),o.jsx(je,{className:YM[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},spe={video:Qt,phone:sa,in_person:Xf},ope={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},lpe={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},oj=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const a=On(),[i,s]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(!1),f=spe[e.consultation_type],h=ope[e.status],p=lpe[e.severity],g=e.status==="pending"||e.status==="confirmed",m=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{a(`/consultation?appointment=${e.id}`)};return o.jsxs(ie,{className:`transition-all ${m?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(A0,{className:"w-12 h-12",children:o.jsx(T0,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(y=>y[0]).join("")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),o.jsx(je,{variant:h.variant,children:h.label})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-3.5 h-3.5"}),vt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsxs(je,{variant:"outline",className:p.color,children:[e.severity==="severe"&&o.jsx(Hn,{className:"w-3 h-3 mr-1"}),p.label]}),e.symptoms.slice(0,3).map((y,w)=>o.jsx(je,{variant:"outline",className:"text-xs",children:y},w)),e.symptoms.length>3&&o.jsxs(je,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs(o.Fragment,{children:[o.jsxs(ee,{size:"sm",onClick:()=>t(e),disabled:n,children:[o.jsx(aE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(w_,{className:"w-4 h-4 mr-1"}),"History"]})]}),m&&o.jsxs(o.Fragment,{children:[o.jsxs(ee,{size:"sm",variant:"default",onClick:b,children:[o.jsx(Qt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(ee,{size:"sm",variant:"secondary",onClick:()=>s(!0),children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(w_,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>s(!0),children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),"View Notes"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(w_,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(je,{variant:"secondary",className:"ml-2",children:[o.jsx(Mr,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),o.jsx(NP,{open:i,onOpenChange:s,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),o.jsx(iV,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),o.jsx(ipe,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},sV=()=>{const{user:e}=$r(),[t,r]=x.useState([]),[n,a]=x.useState({waiting:0,inProgress:0,completed:0,total:0}),[i,s]=x.useState(!0),[l,c]=x.useState(null),u=x.useCallback(async()=>{if(e)try{const f=new Date,h=js(f).toISOString(),p=tP(f).toISOString(),{data:g,error:m}=await Pe.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",p).order("scheduled_at",{ascending:!0});if(m)throw m;if(!g||g.length===0){r([]),a({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:y}=await Pe.from("profiles").select("id, first_name, last_name").in("id",v);if(y)throw y;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:C}=await Pe.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(C)throw C;_=k||[]}const S=g.map(k=>{const C=b==null?void 0:b.find(T=>T.id===k.patient_id),A=_.find(T=>T.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:C?`${C.first_name} ${C.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(A==null?void 0:A.symptoms)||[],severity:(A==null?void 0:A.severity)||"mild",symptom_description:(A==null?void 0:A.description)||null,created_at:k.created_at}});r(S);const N={waiting:S.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:S.filter(k=>k.status==="in_progress").length,completed:S.filter(k=>k.status==="completed").length,total:S.length};a(N)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{s(!1)}},[e]),d=async(f,h)=>{try{const{error:p}=await Pe.from("appointments").update({status:h}).eq("id",f);if(p)throw p;return r(g=>g.map(m=>m.id===f?{...m,status:h}:m)),a(g=>{const m=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:m.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:m.filter(v=>v.status==="in_progress").length,completed:m.filter(v=>v.status==="completed").length,total:m.length}}),{success:!0}}catch(p){return console.error("Error updating appointment:",p),{success:!1,error:p.message}}};return x.useEffect(()=>{u()},[u]),x.useEffect(()=>{if(!e)return;const f=Pe.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Pe.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:i,error:l,refetch:u,updateAppointmentStatus:d}},cpe=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=sV(),[a,i]=x.useState(null),s=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((p,g)=>{const m={severe:0,moderate:1,mild:2};return m[p.severity]!==m[g.severity]?m[p.severity]-m[g.severity]:new Date(p.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{i(h.id);const p=await n(h.id,"in_progress");i(null),p.success?fe.success(`Started consultation with ${h.patient_name}`):fe.error("Failed to start consultation")},f=async h=>{i(h.id);const p=await n(h.id,"completed");i(null),p.success?fe.success(`Completed consultation with ${h.patient_name}`):fe.error("Failed to complete consultation")};return r?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(Vt,{className:"h-6 w-40"}),o.jsx(Vt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2,3].map(h=>o.jsx(Vt,{className:"h-32 w-full"},h))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),o.jsxs(Ne,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),o.jsx(ce,{children:o.jsxs(Bl,{defaultValue:"waiting",className:"w-full",children:[o.jsxs(So,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Rt,{value:"waiting",className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),o.jsxs(Rt,{value:"in_progress",className:"flex items-center gap-2",children:[o.jsx(Hn,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),o.jsxs(Rt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),o.jsx(lr,{value:"waiting",className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Bn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting"})]}):u(s).map(h=>o.jsx(oj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),o.jsx(lr,{value:"in_progress",className:"space-y-4",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ht,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>o.jsx(oj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),o.jsx(lr,{value:"completed",className:"space-y-4",children:c.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>o.jsx(oj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))})]})})]})},upe={video:Qt,phone:sa,in_person:Xf},dpe=({todayAppointments:e})=>{const t=e.filter(i=>{const s=new Date(i.scheduled_at).getHours();return s>=8&&s<12}),r=e.filter(i=>{const s=new Date(i.scheduled_at).getHours();return s>=12&&s<17}),n=e.filter(i=>new Date(i.scheduled_at).getHours()>=17),a=({title:i,appointments:s})=>o.jsxs("div",{className:"mb-4 last:mb-0",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:i}),s.length===0?o.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):o.jsx("div",{className:"space-y-2",children:s.map(l=>{const c=upe[l.consultation_type];return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:ea(new Date(l.scheduled_at),"h:mm")}),o.jsx("span",{className:"text-xs text-muted-foreground",children:ea(new Date(l.scheduled_at),"a")})]}),o.jsx("div",{className:"w-px h-8 bg-border"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(c,{className:"w-3 h-3"}),o.jsx("span",{children:l.consultation_type})]})]})]}),o.jsx(je,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",o.jsx(je,{variant:"outline",className:"ml-2 text-xs",children:fm})]}),o.jsx(Ne,{children:mx(new Date)})]}),o.jsx(ce,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No appointments scheduled for today"})]}):o.jsxs(o.Fragment,{children:[o.jsx(a,{title:"Morning (8am - 12pm)",appointments:t}),o.jsx(a,{title:"Afternoon (12pm - 5pm)",appointments:r}),o.jsx(a,{title:"Evening (5pm+)",appointments:n})]})})]})},fpe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],hpe=()=>{const{user:e}=$r(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,s]=x.useState(!1),l=x.useCallback(async()=>{if(e){a(!0);try{const{data:p,error:g}=await Pe.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching availability:",p),fe.error("Failed to load availability")}finally{a(!1)}}},[e]),c=x.useCallback(async p=>{if(e){s(!0);try{const{data:g,error:m}=await Pe.from("clinician_availability").insert({clinician_id:e.id,day_of_week:p.day_of_week,start_time:p.start_time,end_time:p.end_time,is_active:p.is_active}).select().single();if(m)throw m;return r(v=>[...v,g]),fe.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),fe.error("Failed to add availability slot"),null}finally{s(!1)}}},[e]),u=x.useCallback(async(p,g)=>{if(e){s(!0);try{const{error:m}=await Pe.from("clinician_availability").update(g).eq("id",p).eq("clinician_id",e.id);if(m)throw m;r(v=>v.map(b=>b.id===p?{...b,...g}:b)),fe.success("Availability updated")}catch(m){console.error("Error updating slot:",m),fe.error("Failed to update availability")}finally{s(!1)}}},[e]),d=x.useCallback(async p=>{if(e){s(!0);try{const{error:g}=await Pe.from("clinician_availability").delete().eq("id",p).eq("clinician_id",e.id);if(g)throw g;r(m=>m.filter(v=>v.id!==p)),fe.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),fe.error("Failed to remove slot")}finally{s(!1)}}},[e]),f=x.useCallback(async(p,g)=>{await u(p,{is_active:g})},[u]),h=x.useCallback(p=>t.filter(g=>g.day_of_week===p),[t]);return x.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:i,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:fpe}},JM=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),ppe=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,a]=x.useState(1),[i,s]=x.useState("09:00"),[l,c]=x.useState("17:00"),[u,d]=x.useState(!0),f=async()=>{if(i>=l)return;await e({day_of_week:n,start_time:i,end_time:l,is_active:u})&&(s("09:00"),c("17:00"))};return o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Day"}),o.jsxs(vr,{value:n.toString(),onValueChange:h=>a(parseInt(h)),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:r.map((h,p)=>o.jsx(qe,{value:p.toString(),children:h},p))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Start Time"}),o.jsxs(vr,{value:i,onValueChange:s,children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:JM.map(h=>o.jsx(qe,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"End Time"}),o.jsxs(vr,{value:l,onValueChange:c,children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:JM.filter(h=>h>i).map(h=>o.jsx(qe,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Active"}),o.jsxs("div",{className:"flex items-center h-10",children:[o.jsx(I0,{checked:u,onCheckedChange:d}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),o.jsxs(ee,{onClick:f,disabled:t||i>=l,children:[o.jsx(tf,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},XM=e=>{const[t,r]=e.split(":"),n=parseInt(t),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},mpe=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:a,saving:i})=>{const s=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return o.jsxs(ie,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"text-base flex items-center gap-2",children:[e,c&&o.jsx(dX,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&o.jsxs(je,{variant:s.length>0?"default":"secondary",children:[s.length," active"]})]})}),o.jsx(ce,{children:l?o.jsx("div",{className:"space-y-2",children:r.map(u=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:[XM(u.start_time)," - ",XM(u.end_time)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(I0,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:i}),o.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&a(u.id),disabled:i,children:o.jsx(vX,{className:"w-4 h-4"})})]})]},u.id))}):o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},gpe=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:a,deleteSlot:i,getSlotsByDay:s,refetch:l,DAY_NAMES:c}=hpe(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,p]=f.start_time.split(":").map(Number),[g,m]=f.end_time.split(":").map(Number),v=g-h+(m-p)/60;return d+v},0);return t?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(Vt,{className:"h-6 w-48"}),o.jsx(Vt,{className:"h-4 w-64"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx(Vt,{className:"h-32 w-full"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>o.jsx(Vt,{className:"h-24"},f))})]})]}):o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),o.jsx(Ne,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),o.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[o.jsx(Ht,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),o.jsxs(ee,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[o.jsx(uo,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx(ppe,{onAddSlot:n,saving:r,dayNames:c}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>o.jsx(mpe,{dayName:d,dayIndex:f,slots:s(f),onToggleActive:a,onDeleteSlot:i,saving:r},f))})]}),o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Patients can only book during your active time slots"}),o.jsx("li",{children:" Each appointment is 30 minutes by default"}),o.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),o.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},vpe=({open:e,onOpenChange:t})=>o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Ya,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ja,{children:o.jsx(Xa,{children:"Manage Availability"})}),o.jsx(gpe,{})]})}),ype=e=>{const{user:t}=$r(),[r,n]=x.useState([]),[a,i]=x.useState(!0),[s,l]=x.useState(null),c=x.useCallback(async()=>{if(t){i(!0),l(null);try{let h=Pe.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",js(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",tP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:p,error:g}=await h;if(g)throw g;const m=[...new Set((p==null?void 0:p.map(w=>w.patient_id))||[])],{data:v}=await Pe.from("profiles").select("id, first_name, last_name, phone").in("id",m),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),y=(p||[]).map(w=>{const _=b.get(w.patient_id),S=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(S==null?void 0:S.symptoms)||[],severity:(S==null?void 0:S.severity)||"mild",symptom_description:(S==null?void 0:S.description)||null,notes:w.notes,created_at:w.created_at}});n(y)}catch(h){console.error("Error fetching appointments:",h),l(h.message),fe.error("Failed to load appointments")}finally{i(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=x.useCallback(async(h,p)=>{try{const{error:g}=await Pe.from("appointments").update({status:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,status:p}:v)),fe.success(`Appointment ${p}`),!0}catch(g){return console.error("Error updating appointment:",g),fe.error("Failed to update appointment"),!1}},[]),d=x.useCallback(async(h,p)=>{try{const{error:g}=await Pe.from("appointments").update({notes:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,notes:p}:v)),fe.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),fe.error("Failed to save notes"),!1}},[]),f=x.useCallback(async(h,p)=>{try{const{error:g}=await Pe.from("appointments").update({scheduled_at:p.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,scheduled_at:p.toISOString(),status:"pending"}:v)),fe.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),fe.error("Failed to reschedule appointment"),!1}},[]);return x.useEffect(()=>{if(!t)return;const h=Pe.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Pe.removeChannel(h)}},[t,c]),x.useEffect(()=>{c()},[c]),{appointments:r,loading:a,error:s,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function xpe(e){const t=bpe(e),r=x.forwardRef((n,a)=>{const{children:i,...s}=n,l=x.Children.toArray(i),c=l.find(_pe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bpe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const s=Spe(a),l=jpe(i,a.props);return a.type!==x.Fragment&&(l.ref=n?Ns(n,s):s),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wpe=Symbol("radix.slottable");function _pe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wpe}function jpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Spe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var QS=["Enter"," "],Npe=["ArrowDown","PageUp","Home"],oV=["ArrowUp","PageDown","End"],kpe=[...Npe,...oV],Cpe={ltr:[...QS,"ArrowRight"],rtl:[...QS,"ArrowLeft"]},Epe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_g="Menu",[pm,Ppe,Ope]=Zb(_g),[xu,lV]=gn(_g,[Ope,Il,sh]),B0=Il(),cV=sh(),[Ape,bu]=xu(_g),[Tpe,jg]=xu(_g),uV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,l=B0(t),[c,u]=x.useState(null),d=x.useRef(!1),f=xr(i),h=ah(a);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(mE,{...l,children:o.jsx(Ape,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Tpe,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};uV.displayName=_g;var Mpe="MenuAnchor",kP=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=B0(r);return o.jsx(dg,{...a,...n,ref:t})});kP.displayName=Mpe;var CP="MenuPortal",[$pe,dV]=xu(CP,{forceMount:void 0}),fV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=bu(CP,t);return o.jsx($pe,{scope:t,forceMount:r,children:o.jsx(Hr,{present:r||i.open,children:o.jsx(Jf,{asChild:!0,container:a,children:n})})})};fV.displayName=CP;var Qa="MenuContent",[Ipe,EP]=xu(Qa),hV=x.forwardRef((e,t)=>{const r=dV(Qa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=bu(Qa,e.__scopeMenu),s=jg(Qa,e.__scopeMenu);return o.jsx(pm.Provider,{scope:e.__scopeMenu,children:o.jsx(Hr,{present:n||i.open,children:o.jsx(pm.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(Rpe,{...a,ref:t}):o.jsx(Dpe,{...a,ref:t})})})})}),Rpe=x.forwardRef((e,t)=>{const r=bu(Qa,e.__scopeMenu),n=x.useRef(null),a=We(t,n);return x.useEffect(()=>{const i=n.current;if(i)return w0(i)},[]),o.jsx(PP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Dpe=x.forwardRef((e,t)=>{const r=bu(Qa,e.__scopeMenu);return o.jsx(PP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Lpe=xpe("MenuContent.ScrollLock"),PP=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=bu(Qa,r),b=jg(Qa,r),y=B0(r),w=cV(r),_=Ppe(r),[S,N]=x.useState(null),k=x.useRef(null),C=We(t,k,v.onContentChange),A=x.useRef(0),T=x.useRef(""),$=x.useRef(0),O=x.useRef(null),L=x.useRef("right"),I=x.useRef(0),B=g?gg:x.Fragment,H=g?{as:Lpe,allowPinchZoom:!0}:void 0,V=U=>{var D,K;const G=T.current+U,te=_().filter(q=>!q.disabled),Q=document.activeElement,j=(D=te.find(q=>q.ref.current===Q))==null?void 0:D.textValue,P=te.map(q=>q.textValue),E=Jpe(P,G,j),F=(K=te.find(q=>q.textValue===E))==null?void 0:K.ref.current;(function q(J){T.current=J,window.clearTimeout(A.current),J!==""&&(A.current=window.setTimeout(()=>q(""),1e3))})(G),F&&setTimeout(()=>F.focus())};x.useEffect(()=>()=>window.clearTimeout(A.current),[]),x0();const R=x.useCallback(U=>{var te,Q;return L.current===((te=O.current)==null?void 0:te.side)&&Qpe(U,(Q=O.current)==null?void 0:Q.area)},[]);return o.jsx(Ipe,{scope:r,searchRef:T,onItemEnter:x.useCallback(U=>{R(U)&&U.preventDefault()},[R]),onItemLeave:x.useCallback(U=>{var G;R(U)||((G=k.current)==null||G.focus(),N(null))},[R]),onTriggerLeave:x.useCallback(U=>{R(U)&&U.preventDefault()},[R]),pointerGraceTimerRef:$,onPointerGraceIntentChange:x.useCallback(U=>{O.current=U},[]),children:o.jsx(B,{...H,children:o.jsx(mg,{asChild:!0,trapped:a,onMountAutoFocus:de(i,U=>{var G;U.preventDefault(),(G=k.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(gu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(UE,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:de(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(l0,{role:"menu","aria-orientation":"vertical","data-state":PV(v.open),"data-radix-menu-content":"",dir:b.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:de(m.onKeyDown,U=>{const te=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Q=U.ctrlKey||U.altKey||U.metaKey,j=U.key.length===1;te&&(U.key==="Tab"&&U.preventDefault(),!Q&&j&&V(U.key));const P=k.current;if(U.target!==P||!kpe.includes(U.key))return;U.preventDefault();const F=_().filter(D=>!D.disabled).map(D=>D.ref.current);oV.includes(U.key)&&F.reverse(),Gpe(F)}),onBlur:de(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:de(e.onPointerMove,mm(U=>{const G=U.target,te=I.current!==U.clientX;if(U.currentTarget.contains(G)&&te){const Q=U.clientX>I.current?"right":"left";L.current=Q,I.current=U.clientX}}))})})})})})})});hV.displayName=Qa;var Fpe="MenuGroup",OP=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Te.div,{role:"group",...n,ref:t})});OP.displayName=Fpe;var Bpe="MenuLabel",pV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Te.div,{...n,ref:t})});pV.displayName=Bpe;var wx="MenuItem",QM="menu.itemSelect",U0=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),s=jg(wx,e.__scopeMenu),l=EP(wx,e.__scopeMenu),c=We(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(QM,{bubbles:!0,cancelable:!0});f.addEventListener(QM,p=>n==null?void 0:n(p),{once:!0}),XC(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return o.jsx(mV,{...a,ref:c,disabled:r,onClick:de(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:de(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:de(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||QS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});U0.displayName=wx;var mV=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=EP(wx,r),l=cV(r),c=x.useRef(null),u=We(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),o.jsx(pm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(zE,{asChild:!0,...l,focusable:!n,children:o.jsx(Te.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:de(e.onPointerMove,mm(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,mm(g=>s.onItemLeave(g))),onFocus:de(e.onFocus,()=>f(!0)),onBlur:de(e.onBlur,()=>f(!1))})})})}),Upe="MenuCheckboxItem",gV=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(wV,{scope:e.__scopeMenu,checked:r,children:o.jsx(U0,{role:"menuitemcheckbox","aria-checked":_x(r)?"mixed":r,...a,ref:t,"data-state":TP(r),onSelect:de(a.onSelect,()=>n==null?void 0:n(_x(r)?!0:!r),{checkForDefaultPrevented:!1})})})});gV.displayName=Upe;var vV="MenuRadioGroup",[zpe,Vpe]=xu(vV,{value:void 0,onValueChange:()=>{}}),yV=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=xr(n);return o.jsx(zpe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx(OP,{...a,ref:t})})});yV.displayName=vV;var xV="MenuRadioItem",bV=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=Vpe(xV,e.__scopeMenu),i=r===a.value;return o.jsx(wV,{scope:e.__scopeMenu,checked:i,children:o.jsx(U0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":TP(i),onSelect:de(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});bV.displayName=xV;var AP="MenuItemIndicator",[wV,Wpe]=xu(AP,{checked:!1}),_V=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Wpe(AP,r);return o.jsx(Hr,{present:n||_x(i.checked)||i.checked===!0,children:o.jsx(Te.span,{...a,ref:t,"data-state":TP(i.checked)})})});_V.displayName=AP;var Hpe="MenuSeparator",jV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Te.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});jV.displayName=Hpe;var qpe="MenuArrow",SV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=B0(r);return o.jsx(c0,{...a,...n,ref:t})});SV.displayName=qpe;var Kpe="MenuSub",[H6e,NV]=xu(Kpe),ep="MenuSubTrigger",kV=x.forwardRef((e,t)=>{const r=bu(ep,e.__scopeMenu),n=jg(ep,e.__scopeMenu),a=NV(ep,e.__scopeMenu),i=EP(ep,e.__scopeMenu),s=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(kP,{asChild:!0,...u,children:o.jsx(mV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":PV(r.open),...e,ref:Ns(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,mm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(e.onPointerLeave,mm(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",b=v?-5:5,y=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Cpe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});kV.displayName=ep;var CV="MenuSubContent",EV=x.forwardRef((e,t)=>{const r=dV(Qa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=bu(Qa,e.__scopeMenu),s=jg(Qa,e.__scopeMenu),l=NV(CV,e.__scopeMenu),c=x.useRef(null),u=We(t,c);return o.jsx(pm.Provider,{scope:e.__scopeMenu,children:o.jsx(Hr,{present:n||i.open,children:o.jsx(pm.Slot,{scope:e.__scopeMenu,children:o.jsx(PP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Epe[s.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});EV.displayName=CV;function PV(e){return e?"open":"closed"}function _x(e){return e==="indeterminate"}function TP(e){return _x(e)?"indeterminate":e?"checked":"unchecked"}function Gpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Ype(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Jpe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Ype(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Xpe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Qpe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Xpe(r,t)}function mm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Zpe=uV,eme=kP,tme=fV,rme=hV,nme=OP,ame=pV,ime=U0,sme=gV,ome=yV,lme=bV,cme=_V,ume=jV,dme=SV,fme=kV,hme=EV,z0="DropdownMenu",[pme]=gn(z0,[lV]),Gn=lV(),[mme,OV]=pme(z0),AV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,c=Gn(t),u=x.useRef(null),[d,f]=Ui({prop:a,defaultProp:i??!1,onChange:s,caller:z0});return o.jsx(mme,{scope:t,triggerId:Ri(),triggerRef:u,contentId:Ri(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(Zpe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};AV.displayName=z0;var TV="DropdownMenuTrigger",MV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=OV(TV,r),s=Gn(r);return o.jsx(eme,{asChild:!0,...s,children:o.jsx(Te.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ns(t,i.triggerRef),onPointerDown:de(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:de(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});MV.displayName=TV;var gme="DropdownMenuPortal",$V=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gn(t);return o.jsx(tme,{...n,...r})};$V.displayName=gme;var IV="DropdownMenuContent",RV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=OV(IV,r),i=Gn(r),s=x.useRef(!1);return o.jsx(rme,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:de(e.onCloseAutoFocus,l=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:de(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RV.displayName=IV;var vme="DropdownMenuGroup",yme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(nme,{...a,...n,ref:t})});yme.displayName=vme;var xme="DropdownMenuLabel",DV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ame,{...a,...n,ref:t})});DV.displayName=xme;var bme="DropdownMenuItem",LV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ime,{...a,...n,ref:t})});LV.displayName=bme;var wme="DropdownMenuCheckboxItem",FV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(sme,{...a,...n,ref:t})});FV.displayName=wme;var _me="DropdownMenuRadioGroup",jme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ome,{...a,...n,ref:t})});jme.displayName=_me;var Sme="DropdownMenuRadioItem",BV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(lme,{...a,...n,ref:t})});BV.displayName=Sme;var Nme="DropdownMenuItemIndicator",UV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(cme,{...a,...n,ref:t})});UV.displayName=Nme;var kme="DropdownMenuSeparator",zV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ume,{...a,...n,ref:t})});zV.displayName=kme;var Cme="DropdownMenuArrow",Eme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(dme,{...a,...n,ref:t})});Eme.displayName=Cme;var Pme="DropdownMenuSubTrigger",VV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(fme,{...a,...n,ref:t})});VV.displayName=Pme;var Ome="DropdownMenuSubContent",WV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(hme,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});WV.displayName=Ome;var Ame=AV,Tme=MV,Mme=$V,HV=RV,qV=DV,KV=LV,GV=FV,YV=BV,JV=UV,XV=zV,QV=VV,ZV=WV;const $me=Ame,Ime=Tme,Rme=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(QV,{ref:a,className:ge("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(ef,{className:"ml-auto h-4 w-4"})]}));Rme.displayName=QV.displayName;const Dme=x.forwardRef(({className:e,...t},r)=>o.jsx(ZV,{ref:r,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Dme.displayName=ZV.displayName;const eW=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Mme,{children:o.jsx(HV,{ref:n,sideOffset:t,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));eW.displayName=HV.displayName;const py=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(KV,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));py.displayName=KV.displayName;const Lme=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(GV,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(JV,{children:o.jsx(tE,{className:"h-4 w-4"})})}),t]}));Lme.displayName=GV.displayName;const Fme=x.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(YV,{ref:n,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(JV,{children:o.jsx(K5,{className:"h-2 w-2 fill-current"})})}),t]}));Fme.displayName=YV.displayName;const Bme=x.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(qV,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Bme.displayName=qV.displayName;const tW=x.forwardRef(({className:e,...t},r)=>o.jsx(XV,{ref:r,className:ge("-mx-1 my-1 h-px bg-muted",e),...t}));tW.displayName=XV.displayName;var Ume=Symbol("radix.slottable");function zme(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Ume,t}var rW="AlertDialog",[Vme]=gn(rW,[Y6]),No=Y6(),nW=e=>{const{__scopeAlertDialog:t,...r}=e,n=No(t);return o.jsx(d8,{...n,...r,modal:!0})};nW.displayName=rW;var Wme="AlertDialogTrigger",Hme=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return o.jsx(f8,{...a,...n,ref:t})});Hme.displayName=Wme;var qme="AlertDialogPortal",aW=e=>{const{__scopeAlertDialog:t,...r}=e,n=No(t);return o.jsx(h8,{...n,...r})};aW.displayName=qme;var Kme="AlertDialogOverlay",iW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return o.jsx(KE,{...a,...n,ref:t})});iW.displayName=Kme;var Td="AlertDialogContent",[Gme,Yme]=Vme(Td),Jme=zme("AlertDialogContent"),sW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=No(r),s=x.useRef(null),l=We(t,s),c=x.useRef(null);return o.jsx(fle,{contentName:Td,titleName:oW,docsSlug:"alert-dialog",children:o.jsx(Gme,{scope:r,cancelRef:c,children:o.jsxs(GE,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:de(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(Jme,{children:n}),o.jsx(Qme,{contentRef:s})]})})})});sW.displayName=Td;var oW="AlertDialogTitle",lW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return o.jsx(YE,{...a,...n,ref:t})});lW.displayName=oW;var cW="AlertDialogDescription",uW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return o.jsx(JE,{...a,...n,ref:t})});uW.displayName=cW;var Xme="AlertDialogAction",dW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=No(r);return o.jsx(XE,{...a,...n,ref:t})});dW.displayName=Xme;var fW="AlertDialogCancel",hW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Yme(fW,r),i=No(r),s=We(t,a);return o.jsx(XE,{...i,...n,ref:s})});hW.displayName=fW;var Qme=({contentRef:e})=>{const t=`\`${Td}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Td}\` by passing a \`${cW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Td}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Zme=nW,ege=aW,pW=iW,mW=sW,gW=dW,vW=hW,yW=lW,xW=uW;const tge=Zme,rge=ege,bW=x.forwardRef(({className:e,...t},r)=>o.jsx(pW,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));bW.displayName=pW.displayName;const wW=x.forwardRef(({className:e,...t},r)=>o.jsxs(rge,{children:[o.jsx(bW,{}),o.jsx(mW,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));wW.displayName=mW.displayName;const _W=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",e),...t});_W.displayName="AlertDialogHeader";const jW=({className:e,...t})=>o.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jW.displayName="AlertDialogFooter";const SW=x.forwardRef(({className:e,...t},r)=>o.jsx(yW,{ref:r,className:ge("text-lg font-semibold",e),...t}));SW.displayName=yW.displayName;const NW=x.forwardRef(({className:e,...t},r)=>o.jsx(xW,{ref:r,className:ge("text-sm text-muted-foreground",e),...t}));NW.displayName=xW.displayName;const kW=x.forwardRef(({className:e,...t},r)=>o.jsx(gW,{ref:r,className:ge(im(),e),...t}));kW.displayName=gW.displayName;const CW=x.forwardRef(({className:e,...t},r)=>o.jsx(vW,{ref:r,className:ge(im({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));CW.displayName=vW.displayName;const nge={video:Qt,phone:sa,in_person:Xf},age={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},ige={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},sge=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:a,compact:i=!1})=>{const s=On(),[l,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),p=nge[e.consultation_type],g=age[e.status],m=ige[e.severity],v=e.status==="pending",b=e.status==="confirmed",y=e.status==="in_progress",w=v||b||y,_=async N=>{h(!0),await N(),h(!1)},S=()=>{s(`/consultation?appointment=${e.id}`)};return i?o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:o.jsx(p,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:vt(new Date(e.scheduled_at),"h:mm a")})]})]}),o.jsx(je,{variant:g.variant,className:"text-xs",children:g.label})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{className:`transition-all ${y?"ring-2 ring-success/50":""}`,children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:o.jsx(p,{className:"w-5 h-5"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold",children:e.patient_name}),o.jsx(je,{variant:g.variant,children:g.label})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3.5 h-3.5"}),vt(new Date(e.scheduled_at),"MMM d, yyyy")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-3.5 h-3.5"}),vt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("span",{className:`text-xs font-medium ${m.color}`,children:[e.severity==="severe"&&o.jsx(Hn,{className:"w-3 h-3 inline mr-1"}),m.label]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&o.jsxs(o.Fragment,{children:[o.jsxs(ee,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Confirm"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[o.jsx(zi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&o.jsxs(ee,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[o.jsx(aE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs(ee,{size:"sm",onClick:S,children:[o.jsx(Qt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(ee,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[o.jsx(rn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>_(()=>a(e.id)),disabled:f,children:[o.jsx(Mr,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&o.jsxs($me,{children:[o.jsx(Ime,{asChild:!0,children:o.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(XJ,{className:"w-4 h-4"})})}),o.jsxs(eW,{align:"end",children:[o.jsxs(py,{onClick:()=>d(!0),children:[o.jsx(rn,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&o.jsx(py,{asChild:!0,children:o.jsxs("a",{href:`tel:${e.patient_phone}`,children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),o.jsx(tW,{}),o.jsxs(py,{className:"text-destructive",onClick:()=>c(!0),children:[o.jsx(zi,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),o.jsx(tge,{open:l,onOpenChange:c,children:o.jsxs(wW,{children:[o.jsxs(_W,{children:[o.jsx(SW,{children:"Cancel Appointment"}),o.jsxs(NW,{children:["Are you sure you want to cancel this appointment with"," ",o.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),o.jsxs(jW,{children:[o.jsx(CW,{children:"Keep Appointment"}),o.jsx(kW,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),o.jsx(NP,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},oge=()=>{const[e,t]=x.useState({start:qi(new Date,{weekStartsOn:1}),end:P0(new Date,{weekStartsOn:1})}),[r,n]=x.useState(new Date),[a,i]=x.useState("all"),s=a==="all"?void 0:a==="active"?["pending","confirmed","in_progress"]:[a],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=ype({startDate:e.start,endDate:e.end,status:s}),f=l.reduce((m,v)=>{const b=vt(new Date(v.scheduled_at),"yyyy-MM-dd");return m[b]||(m[b]=[]),m[b].push(v),m},{}),h={total:l.length,pending:l.filter(m=>m.status==="pending").length,confirmed:l.filter(m=>m.status==="confirmed").length,inProgress:l.filter(m=>m.status==="in_progress").length,completed:l.filter(m=>m.status==="completed").length},p=m=>{const v=m==="next"?1:-1;t({start:dm(e.start,v),end:dm(e.end,v)})},g=m=>{const v=new Date(m);return Tce(v)?"Today":Mce(v)?"Tomorrow":vt(v,"EEEE, MMM d")};return c?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(Vt,{className:"h-6 w-48"}),o.jsx(Vt,{className:"h-4 w-64"})]}),o.jsx(ce,{className:"space-y-4",children:Array.from({length:3}).map((m,v)=>o.jsx(Vt,{className:"h-32 w-full"},v))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),o.jsxs(Ne,{children:[vt(e.start,"MMM d")," - ",vt(e.end,"MMM d, yyyy")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ee,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:" Prev"}),o.jsx(ee,{variant:"outline",size:"sm",onClick:()=>p("next"),children:"Next "}),o.jsx(ee,{variant:"outline",size:"sm",onClick:u,children:o.jsx(uo,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[o.jsxs(je,{variant:"outline",className:"px-3 py-1",children:[o.jsx(Ht,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),o.jsxs(je,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[o.jsx(Mr,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),o.jsxs(je,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[o.jsx(vu,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),o.jsxs(je,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),o.jsxs(ce,{children:[o.jsx(Bl,{value:a,onValueChange:i,className:"mb-6",children:o.jsxs(So,{children:[o.jsxs(Rt,{value:"all",children:["All (",h.total,")"]}),o.jsxs(Rt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),o.jsxs(Rt,{value:"pending",children:["Pending (",h.pending,")"]}),o.jsxs(Rt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),o.jsx("p",{className:"text-sm",children:a!=="all"?`No ${a} appointments for this week`:"No appointments scheduled for this week"})]}):o.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([m],[v])=>m.localeCompare(v)).map(([m,v])=>o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[o.jsx(Nt,{className:"w-4 h-4"}),g(m),o.jsxs(je,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-3",children:v.map(b=>o.jsx(sge,{appointment:b,onConfirm:y=>d(y,"confirmed"),onCancel:y=>d(y,"cancelled"),onStart:y=>d(y,"in_progress"),onComplete:y=>d(y,"completed")},b.id))})]},m))})]})]})},lge=({open:e,onOpenChange:t})=>o.jsx(Di,{open:e,onOpenChange:t,children:o.jsxs(Ya,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Ja,{children:o.jsx(Xa,{children:"Manage Appointments"})}),o.jsx(oge,{})]})}),cge="",uge=()=>{const[e,t]=x.useState(!1),r=async()=>{const{data:{session:s}}=await Pe.auth.getSession();return(s==null?void 0:s.access_token)||null},n=async s=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${cge}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(s)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),fe.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(s,l)=>{const c=await n(s);if(c){const u=atob(c),d=new Array(u.length);for(let m=0;m<u.length;m++)d[m]=u.charCodeAt(m);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),p=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=p,g.download=l||`prescription_${s.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(p),fe.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async s=>{const l=await n(s);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${s.medication_name}`),!0}return!1}}},ZM={active:{label:"Active",variant:"default",icon:Mr,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:zi,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:vu,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:Mr,color:"text-muted-foreground"}},lj=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:a,clinicianHPCSA:i,patientDOB:s,patientIDNumber:l})=>{const c=ZM[e.status]||ZM.active,u=c.icon,{loading:d,downloadPDF:f}=uge(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:s,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:a,clinician_hpcsa:i,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return o.jsx(ie,{className:"hover:shadow-md transition-shadow",children:o.jsx(ce,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:o.jsx(Ur,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Ur,{className:"w-4 h-4 text-primary"})}),o.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),o.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),o.jsxs(je,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[o.jsx(u,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),o.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),o.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),o.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),o.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&o.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:o.jsxs("p",{className:"text-xs sm:text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),vt(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(uo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[o.jsxs(ee,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?o.jsx(_t,{className:"w-4 h-4 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),o.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&o.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[o.jsx(zi,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},dge=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:a=!1})=>{const{prescriptions:i,loading:s,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=aV(),[d,f]=x.useState(!1),[h,p]=x.useState([]),[g,m]=x.useState(!1);x.useEffect(()=>{(async()=>{if(r){m(!0);const N=await u(r);p(N.prescriptions||[]),m(!1)}else if(e){m(!0);const N=await c(e);p(N.prescriptions||[]),m(!1)}else p(i)})()},[e,r,i,c,u]);const v=async S=>{(await l(S,"cancelled")).success?fe.success("Prescription cancelled"):fe.error("Failed to cancel prescription")},b=h.filter(S=>S.status==="active"),y=h.filter(S=>S.status==="completed"),w=h.filter(S=>S.status==="cancelled"||S.status==="expired");return s||g?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(Vt,{className:"h-6 w-40"}),o.jsx(Vt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2].map(S=>o.jsx(Vt,{className:"h-32 w-full"},S))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-5 h-5 text-primary"}),o.jsx(we,{children:"Prescriptions"})]}),n&&e&&t&&o.jsxs(ee,{size:"sm",onClick:()=>f(!0),children:[o.jsx(tf,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),o.jsxs(Ne,{children:[h.length," prescription(s)  ",b.length," active"]})]}),o.jsx(ce,{children:o.jsxs(Bl,{defaultValue:"active",className:"w-full",children:[o.jsxs(So,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs(Rt,{value:"active",className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-4 h-4"}),"Active (",b.length,")"]}),o.jsxs(Rt,{value:"completed",className:"flex items-center gap-2",children:[o.jsx(Mr,{className:"w-4 h-4"}),"Completed (",y.length,")"]}),o.jsxs(Rt,{value:"cancelled",className:"flex items-center gap-2",children:[o.jsx(zi,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),o.jsx(lr,{value:"active",className:"space-y-4",children:b.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No active prescriptions"})]}):b.map(S=>o.jsx(lj,{prescription:S,onCancel:v,showPatient:a},S.id))}),o.jsx(lr,{value:"completed",className:"space-y-4",children:y.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Mr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed prescriptions"})]}):y.map(S=>o.jsx(lj,{prescription:S,showPatient:a},S.id))}),o.jsx(lr,{value:"cancelled",className:"space-y-4",children:w.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(zi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(S=>o.jsx(lj,{prescription:S,showPatient:a},S.id))})]})}),e&&t&&o.jsx(iV,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},fge=()=>{const e=On(),[t,r]=SE(),{profile:n,role:a,signOut:i}=$r(),{queue:s,stats:l,loading:c,refetch:u}=sV(),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[g,m]=x.useState(!1),[v,b]=x.useState(!1),[y,w]=x.useState(!1),[_,S]=x.useState(null);x.useEffect(()=>{const T=t.get("notes");T&&(async()=>{try{const{data:O,error:L}=await Pe.from("appointments").select("id, patient_id").eq("id",T).single();if(L||!O){fe.error("Could not find appointment");return}const{data:I}=await Pe.from("profiles").select("first_name, last_name").eq("id",O.patient_id).single(),B=I?`${I.first_name} ${I.last_name}`.trim():"Patient";S({id:O.id,patientId:O.patient_id,patientName:B}),w(!0),r({})}catch(O){console.error("Error fetching appointment for notes:",O)}})()},[t,r]);const N=()=>{const T=s.find(O=>O.status==="in_progress");if(T){e(`/consultation?appointment=${T.id}`);return}if(s.find(O=>O.status==="confirmed")){fe.info("Select a patient from the queue below to start their consultation");return}fe.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{fe.info("Select a patient from the queue below to access their clinical notes")},C=a==="doctor"?"Doctor":"Nurse",A=a==="doctor"?"bg-primary":"bg-success";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(ee,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[o.jsx(uo,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(je,{className:`${A} text-white`,children:C}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:o.jsx(uo,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx(je,{className:`${A} text-white text-xs`,children:C}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?o.jsx(_o,{className:"w-5 h-5"}):o.jsx(lg,{className:"w-5 h-5"})})]})]}),v&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(uhe,{stats:l,pendingNotes:0})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>p(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(KJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Appointments"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),a==="nurse"&&o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(Ga,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Triage"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:N,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(Qt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Start Call"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(rn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Notes"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(YJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Demo"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),o.jsx(ie,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>m(!g),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(Ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Rx"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:o.jsx(Nt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Availability"}),o.jsx(Ne,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&o.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:o.jsx(dge,{showPatient:!0})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[o.jsx("div",{className:"lg:col-span-2 order-1",children:o.jsx(cpe,{})}),o.jsx("div",{className:"order-2",children:o.jsx(dpe,{todayAppointments:s})})]}),o.jsx(vpe,{open:d,onOpenChange:f}),o.jsx(lge,{open:h,onOpenChange:p}),_&&o.jsx(NP,{open:y,onOpenChange:T=>{w(T),T||S(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{fe.success("Clinical notes saved successfully"),u()}})]})]})},ZS=x.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ge("w-full caption-bottom text-sm",e),...t})}));ZS.displayName="Table";const eN=x.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ge("[&_tr]:border-b",e),...t}));eN.displayName="TableHeader";const tN=x.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ge("[&_tr:last-child]:border-0",e),...t}));tN.displayName="TableBody";const hge=x.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));hge.displayName="TableFooter";const tp=x.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ge("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));tp.displayName="TableRow";const vi=x.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));vi.displayName="TableHead";const yi=x.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));yi.displayName="TableCell";const pge=x.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ge("mt-4 text-sm text-muted-foreground",e),...t}));pge.displayName="TableCaption";const mge="",gge=(e=30)=>{const[t,r]=x.useState(null),[n,a]=x.useState(!0),[i,s]=x.useState(null),l=x.useCallback(async()=>{a(!0),s(null);try{const{data:{session:c}}=await Pe.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${mge}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),s(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{a(!1)}},[e]);return x.useEffect(()=>{l()},[l]),{data:t,loading:n,error:i,refetch:l}},vge=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:Bn,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:Nt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:Qt,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Ur,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:Dc,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:Ht,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>o.jsx(ie,{className:"hover:shadow-md transition-shadow",children:o.jsxs(ce,{className:"pt-4 pb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:o.jsx(r.icon,{className:"w-4 h-4"})})}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var yge=Array.isArray,la=yge,xge=typeof Fg=="object"&&Fg&&Fg.Object===Object&&Fg,EW=xge,bge=EW,wge=typeof self=="object"&&self&&self.Object===Object&&self,_ge=bge||wge||Function("return this")(),Ps=_ge,jge=Ps,Sge=jge.Symbol,Sg=Sge,e$=Sg,PW=Object.prototype,Nge=PW.hasOwnProperty,kge=PW.toString,Ih=e$?e$.toStringTag:void 0;function Cge(e){var t=Nge.call(e,Ih),r=e[Ih];try{e[Ih]=void 0;var n=!0}catch{}var a=kge.call(e);return n&&(t?e[Ih]=r:delete e[Ih]),a}var Ege=Cge,Pge=Object.prototype,Oge=Pge.toString;function Age(e){return Oge.call(e)}var Tge=Age,t$=Sg,Mge=Ege,$ge=Tge,Ige="[object Null]",Rge="[object Undefined]",r$=t$?t$.toStringTag:void 0;function Dge(e){return e==null?e===void 0?Rge:Ige:r$&&r$ in Object(e)?Mge(e):$ge(e)}var ko=Dge;function Lge(e){return e!=null&&typeof e=="object"}var Co=Lge,Fge=ko,Bge=Co,Uge="[object Symbol]";function zge(e){return typeof e=="symbol"||Bge(e)&&Fge(e)==Uge}var oh=zge,Vge=la,Wge=oh,Hge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qge=/^\w*$/;function Kge(e,t){if(Vge(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Wge(e)?!0:qge.test(e)||!Hge.test(e)||t!=null&&e in Object(t)}var MP=Kge;function Gge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zl=Gge;const lh=kt(zl);var Yge=ko,Jge=zl,Xge="[object AsyncFunction]",Qge="[object Function]",Zge="[object GeneratorFunction]",eve="[object Proxy]";function tve(e){if(!Jge(e))return!1;var t=Yge(e);return t==Qge||t==Zge||t==Xge||t==eve}var $P=tve;const Be=kt($P);var rve=Ps,nve=rve["__core-js_shared__"],ave=nve,cj=ave,n$=function(){var e=/[^.]+$/.exec(cj&&cj.keys&&cj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ive(e){return!!n$&&n$ in e}var sve=ive,ove=Function.prototype,lve=ove.toString;function cve(e){if(e!=null){try{return lve.call(e)}catch{}try{return e+""}catch{}}return""}var OW=cve,uve=$P,dve=sve,fve=zl,hve=OW,pve=/[\\^$.*+?()[\]{}|]/g,mve=/^\[object .+?Constructor\]$/,gve=Function.prototype,vve=Object.prototype,yve=gve.toString,xve=vve.hasOwnProperty,bve=RegExp("^"+yve.call(xve).replace(pve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wve(e){if(!fve(e)||dve(e))return!1;var t=uve(e)?bve:mve;return t.test(hve(e))}var _ve=wve;function jve(e,t){return e==null?void 0:e[t]}var Sve=jve,Nve=_ve,kve=Sve;function Cve(e,t){var r=kve(e,t);return Nve(r)?r:void 0}var wu=Cve,Eve=wu,Pve=Eve(Object,"create"),V0=Pve,a$=V0;function Ove(){this.__data__=a$?a$(null):{},this.size=0}var Ave=Ove;function Tve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Mve=Tve,$ve=V0,Ive="__lodash_hash_undefined__",Rve=Object.prototype,Dve=Rve.hasOwnProperty;function Lve(e){var t=this.__data__;if($ve){var r=t[e];return r===Ive?void 0:r}return Dve.call(t,e)?t[e]:void 0}var Fve=Lve,Bve=V0,Uve=Object.prototype,zve=Uve.hasOwnProperty;function Vve(e){var t=this.__data__;return Bve?t[e]!==void 0:zve.call(t,e)}var Wve=Vve,Hve=V0,qve="__lodash_hash_undefined__";function Kve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Hve&&t===void 0?qve:t,this}var Gve=Kve,Yve=Ave,Jve=Mve,Xve=Fve,Qve=Wve,Zve=Gve;function ch(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ch.prototype.clear=Yve;ch.prototype.delete=Jve;ch.prototype.get=Xve;ch.prototype.has=Qve;ch.prototype.set=Zve;var eye=ch;function tye(){this.__data__=[],this.size=0}var rye=tye;function nye(e,t){return e===t||e!==e&&t!==t}var IP=nye,aye=IP;function iye(e,t){for(var r=e.length;r--;)if(aye(e[r][0],t))return r;return-1}var W0=iye,sye=W0,oye=Array.prototype,lye=oye.splice;function cye(e){var t=this.__data__,r=sye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():lye.call(t,r,1),--this.size,!0}var uye=cye,dye=W0;function fye(e){var t=this.__data__,r=dye(t,e);return r<0?void 0:t[r][1]}var hye=fye,pye=W0;function mye(e){return pye(this.__data__,e)>-1}var gye=mye,vye=W0;function yye(e,t){var r=this.__data__,n=vye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var xye=yye,bye=rye,wye=uye,_ye=hye,jye=gye,Sye=xye;function uh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uh.prototype.clear=bye;uh.prototype.delete=wye;uh.prototype.get=_ye;uh.prototype.has=jye;uh.prototype.set=Sye;var H0=uh,Nye=wu,kye=Ps,Cye=Nye(kye,"Map"),RP=Cye,i$=eye,Eye=H0,Pye=RP;function Oye(){this.size=0,this.__data__={hash:new i$,map:new(Pye||Eye),string:new i$}}var Aye=Oye;function Tye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Mye=Tye,$ye=Mye;function Iye(e,t){var r=e.__data__;return $ye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var q0=Iye,Rye=q0;function Dye(e){var t=Rye(this,e).delete(e);return this.size-=t?1:0,t}var Lye=Dye,Fye=q0;function Bye(e){return Fye(this,e).get(e)}var Uye=Bye,zye=q0;function Vye(e){return zye(this,e).has(e)}var Wye=Vye,Hye=q0;function qye(e,t){var r=Hye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Kye=qye,Gye=Aye,Yye=Lye,Jye=Uye,Xye=Wye,Qye=Kye;function dh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dh.prototype.clear=Gye;dh.prototype.delete=Yye;dh.prototype.get=Jye;dh.prototype.has=Xye;dh.prototype.set=Qye;var DP=dh,AW=DP,Zye="Expected a function";function LP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zye);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(LP.Cache||AW),r}LP.Cache=AW;var TW=LP;const exe=kt(TW);var txe=TW,rxe=500;function nxe(e){var t=txe(e,function(n){return r.size===rxe&&r.clear(),n}),r=t.cache;return t}var axe=nxe,ixe=axe,sxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oxe=/\\(\\)?/g,lxe=ixe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sxe,function(r,n,a,i){t.push(a?i.replace(oxe,"$1"):n||r)}),t}),cxe=lxe;function uxe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var FP=uxe,s$=Sg,dxe=FP,fxe=la,hxe=oh,o$=s$?s$.prototype:void 0,l$=o$?o$.toString:void 0;function MW(e){if(typeof e=="string")return e;if(fxe(e))return dxe(e,MW)+"";if(hxe(e))return l$?l$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var pxe=MW,mxe=pxe;function gxe(e){return e==null?"":mxe(e)}var $W=gxe,vxe=la,yxe=MP,xxe=cxe,bxe=$W;function wxe(e,t){return vxe(e)?e:yxe(e,t)?[e]:xxe(bxe(e))}var IW=wxe,_xe=oh;function jxe(e){if(typeof e=="string"||_xe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var K0=jxe,Sxe=IW,Nxe=K0;function kxe(e,t){t=Sxe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Nxe(t[r++])];return r&&r==n?e:void 0}var BP=kxe,Cxe=BP;function Exe(e,t,r){var n=e==null?void 0:Cxe(e,t);return n===void 0?r:n}var RW=Exe;const Ca=kt(RW);function Pxe(e){return e==null}var Oxe=Pxe;const Ye=kt(Oxe);var Axe=ko,Txe=la,Mxe=Co,$xe="[object String]";function Ixe(e){return typeof e=="string"||!Txe(e)&&Mxe(e)&&Axe(e)==$xe}var Rxe=Ixe;const ru=kt(Rxe);var DW={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UP=Symbol.for("react.element"),zP=Symbol.for("react.portal"),G0=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),J0=Symbol.for("react.profiler"),X0=Symbol.for("react.provider"),Q0=Symbol.for("react.context"),Dxe=Symbol.for("react.server_context"),Z0=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),nw=Symbol.for("react.lazy"),Lxe=Symbol.for("react.offscreen"),LW;LW=Symbol.for("react.module.reference");function si(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UP:switch(e=e.type,e){case G0:case J0:case Y0:case ew:case tw:return e;default:switch(e=e&&e.$$typeof,e){case Dxe:case Q0:case Z0:case nw:case rw:case X0:return e;default:return t}}case zP:return t}}}Ot.ContextConsumer=Q0;Ot.ContextProvider=X0;Ot.Element=UP;Ot.ForwardRef=Z0;Ot.Fragment=G0;Ot.Lazy=nw;Ot.Memo=rw;Ot.Portal=zP;Ot.Profiler=J0;Ot.StrictMode=Y0;Ot.Suspense=ew;Ot.SuspenseList=tw;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(e){return si(e)===Q0};Ot.isContextProvider=function(e){return si(e)===X0};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UP};Ot.isForwardRef=function(e){return si(e)===Z0};Ot.isFragment=function(e){return si(e)===G0};Ot.isLazy=function(e){return si(e)===nw};Ot.isMemo=function(e){return si(e)===rw};Ot.isPortal=function(e){return si(e)===zP};Ot.isProfiler=function(e){return si(e)===J0};Ot.isStrictMode=function(e){return si(e)===Y0};Ot.isSuspense=function(e){return si(e)===ew};Ot.isSuspenseList=function(e){return si(e)===tw};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G0||e===J0||e===Y0||e===ew||e===tw||e===Lxe||typeof e=="object"&&e!==null&&(e.$$typeof===nw||e.$$typeof===rw||e.$$typeof===X0||e.$$typeof===Q0||e.$$typeof===Z0||e.$$typeof===LW||e.getModuleId!==void 0)};Ot.typeOf=si;DW.exports=Ot;var Fxe=DW.exports,Bxe=ko,Uxe=Co,zxe="[object Number]";function Vxe(e){return typeof e=="number"||Uxe(e)&&Bxe(e)==zxe}var FW=Vxe;const Wxe=kt(FW);var Hxe=FW;function qxe(e){return Hxe(e)&&e!=+e}var Kxe=qxe;const fh=kt(Kxe);var Un=function(t){return t===0?0:t>0?1:-1},_c=function(t){return ru(t)&&t.indexOf("%")===t.length-1},he=function(t){return Wxe(t)&&!fh(t)},Gxe=function(t){return Ye(t)},Vr=function(t){return he(t)||ru(t)},Yxe=0,_u=function(t){var r=++Yxe;return"".concat(t||"").concat(r)},zn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!ru(t))return n;var i;if(_c(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return fh(i)&&(i=n),a&&i>r&&(i=r),i},Qo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Jxe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Br=function(t,r){return he(t)&&he(r)?function(n){return t+n*(r-t)}:function(){return r}};function jx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ca(n,t))===r})}var Xxe=function(t,r){return he(t)&&he(r)?t-r:ru(t)&&ru(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Md(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function rN(e){"@babel/helpers - typeof";return rN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rN(e)}var Qxe=["viewBox","children"],Zxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c$=["points","pathLength"],uj={svg:Qxe,polygon:c$,polyline:c$},VP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!lh(n))return null;var a={};return Object.keys(n).forEach(function(i){VP.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},ebe=function(t,r,n){return function(a){return t(r,n,a),null}},nu=function(t,r,n){if(!lh(t)||rN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];VP.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=ebe(s,r,n))}),a},tbe=["children"],rbe=["children"];function u$(e,t){if(e==null)return{};var r=nbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nN(e){"@babel/helpers - typeof";return nN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nN(e)}var d$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ro=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},f$=null,dj=null,WP=function e(t){if(t===f$&&Array.isArray(dj))return dj;var r=[];return x.Children.forEach(t,function(n){Ye(n)||(Fxe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dj=r,f$=t,r};function Ea(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ro(a)}):n=[ro(t)],WP(e).forEach(function(a){var i=Ca(a,"type.displayName")||Ca(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ma(e,t){var r=Ea(e,t);return r&&r[0]}var h$=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},abe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ibe=function(t){return t&&t.type&&ru(t.type)&&abe.indexOf(t.type)>=0},BW=function(t){return t&&nN(t)==="object"&&"clipDot"in t},sbe=function(t,r,n,a){var i,s=(i=uj==null?void 0:uj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Be(t)&&(a&&s.includes(r)||Zxe.includes(r))||n&&VP.includes(r)},Ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),!lh(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;sbe((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},aN=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return p$(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!p$(i,s))return!1}return!0},p$=function(t,r){if(Ye(t)&&Ye(r))return!0;if(!Ye(t)&&!Ye(r)){var n=t.props||{},a=n.children,i=u$(n,tbe),s=r.props||{},l=s.children,c=u$(s,rbe);return a&&l?Md(i,c)&&aN(a,l):!a&&!l?Md(i,c):!1}return!1},m$=function(t,r){var n=[],a={};return WP(t).forEach(function(i,s){if(ibe(i))n.push(i);else if(i){var l=ro(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},obe=function(t){var r=t&&t.type;return r&&d$[r]?d$[r]:null},lbe=function(t,r){return WP(r).indexOf(t)},cbe=["children","width","height","viewBox","className","style","title","desc"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(this,arguments)}function ube(e,t){if(e==null)return{};var r=dbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=ube(e,cbe),d=a||{width:r,height:n,x:0,y:0},f=Xe("recharts-surface",i);return M.createElement("svg",iN({},Ie(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var fbe=["children","className"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(this,arguments)}function hbe(e,t){if(e==null)return{};var r=pbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ot=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=hbe(e,fbe),i=Xe("recharts-layer",n);return M.createElement("g",oN({className:i},Ie(a,!0),{ref:t}),r)}),Li=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function mbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var gbe=mbe,vbe=gbe;function ybe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:vbe(e,t,r)}var xbe=ybe,bbe="\\ud800-\\udfff",wbe="\\u0300-\\u036f",_be="\\ufe20-\\ufe2f",jbe="\\u20d0-\\u20ff",Sbe=wbe+_be+jbe,Nbe="\\ufe0e\\ufe0f",kbe="\\u200d",Cbe=RegExp("["+kbe+bbe+Sbe+Nbe+"]");function Ebe(e){return Cbe.test(e)}var UW=Ebe;function Pbe(e){return e.split("")}var Obe=Pbe,zW="\\ud800-\\udfff",Abe="\\u0300-\\u036f",Tbe="\\ufe20-\\ufe2f",Mbe="\\u20d0-\\u20ff",$be=Abe+Tbe+Mbe,Ibe="\\ufe0e\\ufe0f",Rbe="["+zW+"]",lN="["+$be+"]",cN="\\ud83c[\\udffb-\\udfff]",Dbe="(?:"+lN+"|"+cN+")",VW="[^"+zW+"]",WW="(?:\\ud83c[\\udde6-\\uddff]){2}",HW="[\\ud800-\\udbff][\\udc00-\\udfff]",Lbe="\\u200d",qW=Dbe+"?",KW="["+Ibe+"]?",Fbe="(?:"+Lbe+"(?:"+[VW,WW,HW].join("|")+")"+KW+qW+")*",Bbe=KW+qW+Fbe,Ube="(?:"+[VW+lN+"?",lN,WW,HW,Rbe].join("|")+")",zbe=RegExp(cN+"(?="+cN+")|"+Ube+Bbe,"g");function Vbe(e){return e.match(zbe)||[]}var Wbe=Vbe,Hbe=Obe,qbe=UW,Kbe=Wbe;function Gbe(e){return qbe(e)?Kbe(e):Hbe(e)}var Ybe=Gbe,Jbe=xbe,Xbe=UW,Qbe=Ybe,Zbe=$W;function e0e(e){return function(t){t=Zbe(t);var r=Xbe(t)?Qbe(t):void 0,n=r?r[0]:t.charAt(0),a=r?Jbe(r,1).join(""):t.slice(1);return n[e]()+a}}var t0e=e0e,r0e=t0e,n0e=r0e("toUpperCase"),a0e=n0e;const aw=kt(a0e);function Ut(e){return function(){return e}}const GW=Math.cos,Nx=Math.sin,Xi=Math.sqrt,kx=Math.PI,iw=2*kx,uN=Math.PI,dN=2*uN,uc=1e-6,i0e=dN-uc;function YW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function s0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return YW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class o0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?YW:s0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>uc)if(!(Math.abs(f*c-u*d)>uc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-l,m=c*c+u*u,v=p*p+g*g,b=Math.sqrt(m),y=Math.sqrt(h),w=i*Math.tan((uN-Math.acos((m+h-v)/(2*b*y)))/2),_=w/y,S=w/b;Math.abs(_-1)>uc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uc||Math.abs(this._y1-d)>uc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%dN+dN),h>i0e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>uc&&this._append`A${n},${n},0,${+(h>=uN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function HP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new o0e(t)}function qP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JW(e){this._context=e}JW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sw(e){return new JW(e)}function XW(e){return e[0]}function QW(e){return e[1]}function ZW(e,t){var r=Ut(!0),n=null,a=sw,i=null,s=HP(l);e=typeof e=="function"?e:e===void 0?XW:Ut(e),t=typeof t=="function"?t:t===void 0?QW:Ut(t);function l(c){var u,d=(c=qP(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ut(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ut(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ut(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function yv(e,t,r){var n=null,a=Ut(!0),i=null,s=sw,l=null,c=HP(u);e=typeof e=="function"?e:e===void 0?XW:Ut(+e),t=typeof t=="function"?t:Ut(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QW:Ut(+r);function u(f){var h,p,g,m=(f=qP(f)).length,v,b=!1,y,w=new Array(m),_=new Array(m);for(i==null&&(l=s(y=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return ZW().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ut(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ut(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ut(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ut(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ut(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class e9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function l0e(e){return new e9(e,!0)}function c0e(e){return new e9(e,!1)}const KP={draw(e,t){const r=Xi(t/kx);e.moveTo(r,0),e.arc(0,0,r,0,iw)}},u0e={draw(e,t){const r=Xi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},t9=Xi(1/3),d0e=t9*2,f0e={draw(e,t){const r=Xi(t/d0e),n=r*t9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},h0e={draw(e,t){const r=Xi(t),n=-r/2;e.rect(n,n,r,r)}},p0e=.8908130915292852,r9=Nx(kx/10)/Nx(7*kx/10),m0e=Nx(iw/10)*r9,g0e=-GW(iw/10)*r9,v0e={draw(e,t){const r=Xi(t*p0e),n=m0e*r,a=g0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=iw*i/5,l=GW(s),c=Nx(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},fj=Xi(3),y0e={draw(e,t){const r=-Xi(t/(fj*3));e.moveTo(0,r*2),e.lineTo(-fj*r,-r),e.lineTo(fj*r,-r),e.closePath()}},Ra=-.5,Da=Xi(3)/2,fN=1/Xi(12),x0e=(fN/2+1)*3,b0e={draw(e,t){const r=Xi(t/x0e),n=r/2,a=r*fN,i=n,s=r*fN+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Ra*n-Da*a,Da*n+Ra*a),e.lineTo(Ra*i-Da*s,Da*i+Ra*s),e.lineTo(Ra*l-Da*c,Da*l+Ra*c),e.lineTo(Ra*n+Da*a,Ra*a-Da*n),e.lineTo(Ra*i+Da*s,Ra*s-Da*i),e.lineTo(Ra*l+Da*c,Ra*c-Da*l),e.closePath()}};function w0e(e,t){let r=null,n=HP(a);e=typeof e=="function"?e:Ut(e||KP),t=typeof t=="function"?t:Ut(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ut(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ut(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Cx(){}function Ex(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function n9(e){this._context=e}n9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ex(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ex(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _0e(e){return new n9(e)}function a9(e){this._context=e}a9.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ex(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j0e(e){return new a9(e)}function i9(e){this._context=e}i9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ex(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function S0e(e){return new i9(e)}function s9(e){this._context=e}s9.prototype={areaStart:Cx,areaEnd:Cx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function N0e(e){return new s9(e)}function g$(e){return e<0?-1:1}function v$(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(g$(i)+g$(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function y$(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Px(e){this._context=e}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hj(this,this._t0,y$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hj(this,y$(this,r=v$(this,e,t)),r);break;default:hj(this,this._t0,r=v$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function o9(e){this._context=new l9(e)}(o9.prototype=Object.create(Px.prototype)).point=function(e,t){Px.prototype.point.call(this,t,e)};function l9(e){this._context=e}l9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function k0e(e){return new Px(e)}function C0e(e){return new o9(e)}function c9(e){this._context=e}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=x$(e),a=x$(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function x$(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function E0e(e){return new c9(e)}function ow(e,t){this._context=e,this._t=t}ow.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function P0e(e){return new ow(e,.5)}function O0e(e){return new ow(e,0)}function A0e(e){return new ow(e,1)}function gf(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function hN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function T0e(e,t){return e[t]}function M0e(e){const t=[];return t.key=e,t}function $0e(){var e=Ut([]),t=hN,r=gf,n=T0e;function a(i){var s=Array.from(e.apply(this,arguments),M0e),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=qP(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ut(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ut(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?hN:typeof i=="function"?i:Ut(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??gf,a):r},a}function I0e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}gf(e,t)}}function R0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}gf(e,t)}}function D0e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,gf(e,t)}}function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}var L0e=["type","size","sizeType"];function pN(){return pN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pN.apply(this,arguments)}function b$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b$(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return t=B0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B0e(e){var t=U0e(e,"string");return gm(t)=="symbol"?t:t+""}function U0e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z0e(e,t){if(e==null)return{};var r=V0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var u9={symbolCircle:KP,symbolCross:u0e,symbolDiamond:f0e,symbolSquare:h0e,symbolStar:v0e,symbolTriangle:y0e,symbolWye:b0e},W0e=Math.PI/180,H0e=function(t){var r="symbol".concat(aw(t));return u9[r]||KP},q0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*W0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},K0e=function(t,r){u9["symbol".concat(aw(t))]=r},GP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=z0e(t,L0e),u=w$(w$({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=H0e(n),b=w0e().type(v).size(q0e(i,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=Ie(u,!0);return h===+h&&p===+p&&i===+i?M.createElement("path",pN({},g,{className:Xe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};GP.registerSymbol=K0e;function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(this,arguments)}function _$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_$(Object(r),!0).forEach(function(n){vm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f9(n.key),n)}}function X0e(e,t,r){return t&&J0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q0e(e,t,r){return t=Ox(t),Z0e(e,d9()?Reflect.construct(t,r||[],Ox(e).constructor):t.apply(e,r))}function Z0e(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ewe(e)}function ewe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!e})()}function Ox(e){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ox(e)}function twe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gN(e,t)}function gN(e,t){return gN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gN(e,t)}function vm(e,t,r){return t=f9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=rwe(e,"string");return vf(t)=="symbol"?t:t+""}function rwe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var La=32,YP=function(e){function t(){return Y0e(this,t),Q0e(this,t,arguments)}return twe(t,e),X0e(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=La/2,s=La/6,l=La/3,c=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:La,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(La,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(La/8,"h").concat(La,"v").concat(La*3/4,"h").concat(-La,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=G0e({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(GP,{fill:c,cx:i,cy:i,size:La,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:La,height:La},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,v=Xe(vm(vm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Be(p.value)?null:p.value;Li(!Be(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return M.createElement("li",mN({className:v,style:f,key:"legend-item-".concat(g)},nu(n.props,p,g)),M.createElement(sN,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);vm(YP,"displayName","Legend");vm(YP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nwe=H0;function awe(){this.__data__=new nwe,this.size=0}var iwe=awe;function swe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var owe=swe;function lwe(e){return this.__data__.get(e)}var cwe=lwe;function uwe(e){return this.__data__.has(e)}var dwe=uwe,fwe=H0,hwe=RP,pwe=DP,mwe=200;function gwe(e,t){var r=this.__data__;if(r instanceof fwe){var n=r.__data__;if(!hwe||n.length<mwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pwe(n)}return r.set(e,t),this.size=r.size,this}var vwe=gwe,ywe=H0,xwe=iwe,bwe=owe,wwe=cwe,_we=dwe,jwe=vwe;function hh(e){var t=this.__data__=new ywe(e);this.size=t.size}hh.prototype.clear=xwe;hh.prototype.delete=bwe;hh.prototype.get=wwe;hh.prototype.has=_we;hh.prototype.set=jwe;var h9=hh,Swe="__lodash_hash_undefined__";function Nwe(e){return this.__data__.set(e,Swe),this}var kwe=Nwe;function Cwe(e){return this.__data__.has(e)}var Ewe=Cwe,Pwe=DP,Owe=kwe,Awe=Ewe;function Ax(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Pwe;++t<r;)this.add(e[t])}Ax.prototype.add=Ax.prototype.push=Owe;Ax.prototype.has=Awe;var p9=Ax;function Twe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var m9=Twe;function Mwe(e,t){return e.has(t)}var g9=Mwe,$we=p9,Iwe=m9,Rwe=g9,Dwe=1,Lwe=2;function Fwe(e,t,r,n,a,i){var s=r&Dwe,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Lwe?new $we:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Iwe(t,function(b,y){if(!Rwe(p,y)&&(g===b||a(g,b,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var v9=Fwe,Bwe=Ps,Uwe=Bwe.Uint8Array,zwe=Uwe;function Vwe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Wwe=Vwe;function Hwe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JP=Hwe,j$=Sg,S$=zwe,qwe=IP,Kwe=v9,Gwe=Wwe,Ywe=JP,Jwe=1,Xwe=2,Qwe="[object Boolean]",Zwe="[object Date]",e_e="[object Error]",t_e="[object Map]",r_e="[object Number]",n_e="[object RegExp]",a_e="[object Set]",i_e="[object String]",s_e="[object Symbol]",o_e="[object ArrayBuffer]",l_e="[object DataView]",N$=j$?j$.prototype:void 0,pj=N$?N$.valueOf:void 0;function c_e(e,t,r,n,a,i,s){switch(r){case l_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case o_e:return!(e.byteLength!=t.byteLength||!i(new S$(e),new S$(t)));case Qwe:case Zwe:case r_e:return qwe(+e,+t);case e_e:return e.name==t.name&&e.message==t.message;case n_e:case i_e:return e==t+"";case t_e:var l=Gwe;case a_e:var c=n&Jwe;if(l||(l=Ywe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Xwe,s.set(e,t);var d=Kwe(l(e),l(t),n,a,i,s);return s.delete(e),d;case s_e:if(pj)return pj.call(e)==pj.call(t)}return!1}var u_e=c_e;function d_e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var y9=d_e,f_e=y9,h_e=la;function p_e(e,t,r){var n=t(e);return h_e(e)?n:f_e(n,r(e))}var m_e=p_e;function g_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var v_e=g_e;function y_e(){return[]}var x_e=y_e,b_e=v_e,w_e=x_e,__e=Object.prototype,j_e=__e.propertyIsEnumerable,k$=Object.getOwnPropertySymbols,S_e=k$?function(e){return e==null?[]:(e=Object(e),b_e(k$(e),function(t){return j_e.call(e,t)}))}:w_e,N_e=S_e;function k_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var C_e=k_e,E_e=ko,P_e=Co,O_e="[object Arguments]";function A_e(e){return P_e(e)&&E_e(e)==O_e}var T_e=A_e,C$=T_e,M_e=Co,x9=Object.prototype,$_e=x9.hasOwnProperty,I_e=x9.propertyIsEnumerable,R_e=C$(function(){return arguments}())?C$:function(e){return M_e(e)&&$_e.call(e,"callee")&&!I_e.call(e,"callee")},XP=R_e,Tx={exports:{}};function D_e(){return!1}var L_e=D_e;Tx.exports;(function(e,t){var r=Ps,n=L_e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Tx,Tx.exports);var b9=Tx.exports,F_e=9007199254740991,B_e=/^(?:0|[1-9]\d*)$/;function U_e(e,t){var r=typeof e;return t=t??F_e,!!t&&(r=="number"||r!="symbol"&&B_e.test(e))&&e>-1&&e%1==0&&e<t}var QP=U_e,z_e=9007199254740991;function V_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z_e}var ZP=V_e,W_e=ko,H_e=ZP,q_e=Co,K_e="[object Arguments]",G_e="[object Array]",Y_e="[object Boolean]",J_e="[object Date]",X_e="[object Error]",Q_e="[object Function]",Z_e="[object Map]",eje="[object Number]",tje="[object Object]",rje="[object RegExp]",nje="[object Set]",aje="[object String]",ije="[object WeakMap]",sje="[object ArrayBuffer]",oje="[object DataView]",lje="[object Float32Array]",cje="[object Float64Array]",uje="[object Int8Array]",dje="[object Int16Array]",fje="[object Int32Array]",hje="[object Uint8Array]",pje="[object Uint8ClampedArray]",mje="[object Uint16Array]",gje="[object Uint32Array]",Yt={};Yt[lje]=Yt[cje]=Yt[uje]=Yt[dje]=Yt[fje]=Yt[hje]=Yt[pje]=Yt[mje]=Yt[gje]=!0;Yt[K_e]=Yt[G_e]=Yt[sje]=Yt[Y_e]=Yt[oje]=Yt[J_e]=Yt[X_e]=Yt[Q_e]=Yt[Z_e]=Yt[eje]=Yt[tje]=Yt[rje]=Yt[nje]=Yt[aje]=Yt[ije]=!1;function vje(e){return q_e(e)&&H_e(e.length)&&!!Yt[W_e(e)]}var yje=vje;function xje(e){return function(t){return e(t)}}var w9=xje,Mx={exports:{}};Mx.exports;(function(e,t){var r=EW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Mx,Mx.exports);var bje=Mx.exports,wje=yje,_je=w9,E$=bje,P$=E$&&E$.isTypedArray,jje=P$?_je(P$):wje,_9=jje,Sje=C_e,Nje=XP,kje=la,Cje=b9,Eje=QP,Pje=_9,Oje=Object.prototype,Aje=Oje.hasOwnProperty;function Tje(e,t){var r=kje(e),n=!r&&Nje(e),a=!r&&!n&&Cje(e),i=!r&&!n&&!a&&Pje(e),s=r||n||a||i,l=s?Sje(e.length,String):[],c=l.length;for(var u in e)(t||Aje.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Eje(u,c)))&&l.push(u);return l}var Mje=Tje,$je=Object.prototype;function Ije(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||$je;return e===r}var Rje=Ije;function Dje(e,t){return function(r){return e(t(r))}}var j9=Dje,Lje=j9,Fje=Lje(Object.keys,Object),Bje=Fje,Uje=Rje,zje=Bje,Vje=Object.prototype,Wje=Vje.hasOwnProperty;function Hje(e){if(!Uje(e))return zje(e);var t=[];for(var r in Object(e))Wje.call(e,r)&&r!="constructor"&&t.push(r);return t}var qje=Hje,Kje=$P,Gje=ZP;function Yje(e){return e!=null&&Gje(e.length)&&!Kje(e)}var Ng=Yje,Jje=Mje,Xje=qje,Qje=Ng;function Zje(e){return Qje(e)?Jje(e):Xje(e)}var lw=Zje,e1e=m_e,t1e=N_e,r1e=lw;function n1e(e){return e1e(e,r1e,t1e)}var a1e=n1e,O$=a1e,i1e=1,s1e=Object.prototype,o1e=s1e.hasOwnProperty;function l1e(e,t,r,n,a,i){var s=r&i1e,l=O$(e),c=l.length,u=O$(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:o1e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var w=s?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(w===void 0?b===y||a(b,y,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var c1e=l1e,u1e=wu,d1e=Ps,f1e=u1e(d1e,"DataView"),h1e=f1e,p1e=wu,m1e=Ps,g1e=p1e(m1e,"Promise"),v1e=g1e,y1e=wu,x1e=Ps,b1e=y1e(x1e,"Set"),S9=b1e,w1e=wu,_1e=Ps,j1e=w1e(_1e,"WeakMap"),S1e=j1e,vN=h1e,yN=RP,xN=v1e,bN=S9,wN=S1e,N9=ko,ph=OW,A$="[object Map]",N1e="[object Object]",T$="[object Promise]",M$="[object Set]",$$="[object WeakMap]",I$="[object DataView]",k1e=ph(vN),C1e=ph(yN),E1e=ph(xN),P1e=ph(bN),O1e=ph(wN),dc=N9;(vN&&dc(new vN(new ArrayBuffer(1)))!=I$||yN&&dc(new yN)!=A$||xN&&dc(xN.resolve())!=T$||bN&&dc(new bN)!=M$||wN&&dc(new wN)!=$$)&&(dc=function(e){var t=N9(e),r=t==N1e?e.constructor:void 0,n=r?ph(r):"";if(n)switch(n){case k1e:return I$;case C1e:return A$;case E1e:return T$;case P1e:return M$;case O1e:return $$}return t});var A1e=dc,mj=h9,T1e=v9,M1e=u_e,$1e=c1e,R$=A1e,D$=la,L$=b9,I1e=_9,R1e=1,F$="[object Arguments]",B$="[object Array]",xv="[object Object]",D1e=Object.prototype,U$=D1e.hasOwnProperty;function L1e(e,t,r,n,a,i){var s=D$(e),l=D$(t),c=s?B$:R$(e),u=l?B$:R$(t);c=c==F$?xv:c,u=u==F$?xv:u;var d=c==xv,f=u==xv,h=c==u;if(h&&L$(e)){if(!L$(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new mj),s||I1e(e)?T1e(e,t,r,n,a,i):M1e(e,t,c,r,n,a,i);if(!(r&R1e)){var p=d&&U$.call(e,"__wrapped__"),g=f&&U$.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new mj),a(m,v,r,n,i)}}return h?(i||(i=new mj),$1e(e,t,r,n,a,i)):!1}var F1e=L1e,B1e=F1e,z$=Co;function k9(e,t,r,n,a){return e===t?!0:e==null||t==null||!z$(e)&&!z$(t)?e!==e&&t!==t:B1e(e,t,r,n,k9,a)}var eO=k9,U1e=h9,z1e=eO,V1e=1,W1e=2;function H1e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new U1e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?z1e(d,u,V1e|W1e,n,f):h))return!1}}return!0}var q1e=H1e,K1e=zl;function G1e(e){return e===e&&!K1e(e)}var C9=G1e,Y1e=C9,J1e=lw;function X1e(e){for(var t=J1e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Y1e(a)]}return t}var Q1e=X1e;function Z1e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var E9=Z1e,eSe=q1e,tSe=Q1e,rSe=E9;function nSe(e){var t=tSe(e);return t.length==1&&t[0][2]?rSe(t[0][0],t[0][1]):function(r){return r===e||eSe(r,e,t)}}var aSe=nSe;function iSe(e,t){return e!=null&&t in Object(e)}var sSe=iSe,oSe=IW,lSe=XP,cSe=la,uSe=QP,dSe=ZP,fSe=K0;function hSe(e,t,r){t=oSe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=fSe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&dSe(a)&&uSe(s,a)&&(cSe(e)||lSe(e)))}var pSe=hSe,mSe=sSe,gSe=pSe;function vSe(e,t){return e!=null&&gSe(e,t,mSe)}var ySe=vSe,xSe=eO,bSe=RW,wSe=ySe,_Se=MP,jSe=C9,SSe=E9,NSe=K0,kSe=1,CSe=2;function ESe(e,t){return _Se(e)&&jSe(t)?SSe(NSe(e),t):function(r){var n=bSe(r,e);return n===void 0&&n===t?wSe(r,e):xSe(t,n,kSe|CSe)}}var PSe=ESe;function OSe(e){return e}var mh=OSe;function ASe(e){return function(t){return t==null?void 0:t[e]}}var TSe=ASe,MSe=BP;function $Se(e){return function(t){return MSe(t,e)}}var ISe=$Se,RSe=TSe,DSe=ISe,LSe=MP,FSe=K0;function BSe(e){return LSe(e)?RSe(FSe(e)):DSe(e)}var USe=BSe,zSe=aSe,VSe=PSe,WSe=mh,HSe=la,qSe=USe;function KSe(e){return typeof e=="function"?e:e==null?WSe:typeof e=="object"?HSe(e)?VSe(e[0],e[1]):zSe(e):qSe(e)}var Os=KSe;function GSe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var P9=GSe;function YSe(e){return e!==e}var JSe=YSe;function XSe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var QSe=XSe,ZSe=P9,eNe=JSe,tNe=QSe;function rNe(e,t,r){return t===t?tNe(e,t,r):ZSe(e,eNe,r)}var nNe=rNe,aNe=nNe;function iNe(e,t){var r=e==null?0:e.length;return!!r&&aNe(e,t,0)>-1}var sNe=iNe;function oNe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var lNe=oNe;function cNe(){}var uNe=cNe,gj=S9,dNe=uNe,fNe=JP,hNe=1/0,pNe=gj&&1/fNe(new gj([,-0]))[1]==hNe?function(e){return new gj(e)}:dNe,mNe=pNe,gNe=p9,vNe=sNe,yNe=lNe,xNe=g9,bNe=mNe,wNe=JP,_Ne=200;function jNe(e,t,r){var n=-1,a=vNe,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=yNe;else if(i>=_Ne){var u=t?null:bNe(e);if(u)return wNe(u);s=!1,a=xNe,c=new gNe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var SNe=jNe,NNe=Os,kNe=SNe;function CNe(e,t){return e&&e.length?kNe(e,NNe(t)):[]}var ENe=CNe;const V$=kt(ENe);function O9(e,t,r){return t===!0?V$(e,r):Be(t)?V$(e,t):e}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}var PNe=["ref"];function W$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W$(Object(r),!0).forEach(function(n){cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ONe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T9(n.key),n)}}function ANe(e,t,r){return t&&H$(e.prototype,t),r&&H$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TNe(e,t,r){return t=$x(t),MNe(e,A9()?Reflect.construct(t,r||[],$x(e).constructor):t.apply(e,r))}function MNe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ne(e)}function $Ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A9=function(){return!!e})()}function $x(e){return $x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$x(e)}function INe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_N(e,t)}function _N(e,t){return _N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_N(e,t)}function cw(e,t,r){return t=T9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e){var t=RNe(e,"string");return yf(t)=="symbol"?t:t+""}function RNe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function DNe(e,t){if(e==null)return{};var r=LNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FNe(e){return e.value}function BNe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=DNe(t,PNe);return M.createElement(YP,r)}var q$=1,no=function(e){function t(){var r;ONe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=TNe(this,t,[].concat(a)),cw(r,"lastBoundingBox",{width:-1,height:-1}),r}return INe(t,e),ANe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>q$||Math.abs(a.height-this.lastBoundingBox.height)>q$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ds({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ds(Ds({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Ds(Ds({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},BNe(i,Ds(Ds({},this.props),{},{payload:O9(d,u,FNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Ds(Ds({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&he(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);cw(no,"displayName","Legend");cw(no,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var K$=Sg,UNe=XP,zNe=la,G$=K$?K$.isConcatSpreadable:void 0;function VNe(e){return zNe(e)||UNe(e)||!!(G$&&e&&e[G$])}var WNe=VNe,HNe=y9,qNe=WNe;function M9(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=qNe),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?M9(l,t-1,r,n,a):HNe(a,l):n||(a[a.length]=l)}return a}var $9=M9;function KNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var GNe=KNe,YNe=GNe,JNe=YNe(),XNe=JNe,QNe=XNe,ZNe=lw;function eke(e,t){return e&&QNe(e,t,ZNe)}var I9=eke,tke=Ng;function rke(e,t){return function(r,n){if(r==null)return r;if(!tke(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var nke=rke,ake=I9,ike=nke,ske=ike(ake),tO=ske,oke=tO,lke=Ng;function cke(e,t){var r=-1,n=lke(e)?Array(e.length):[];return oke(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var R9=cke;function uke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var dke=uke,Y$=oh;function fke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Y$(e),s=t!==void 0,l=t===null,c=t===t,u=Y$(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var hke=fke,pke=hke;function mke(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=pke(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var gke=mke,vj=FP,vke=BP,yke=Os,xke=R9,bke=dke,wke=w9,_ke=gke,jke=mh,Ske=la;function Nke(e,t,r){t.length?t=vj(t,function(i){return Ske(i)?function(s){return vke(s,i.length===1?i[0]:i)}:i}):t=[jke];var n=-1;t=vj(t,wke(yke));var a=xke(e,function(i,s,l){var c=vj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return bke(a,function(i,s){return _ke(i,s,r)})}var kke=Nke;function Cke(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Eke=Cke,Pke=Eke,J$=Math.max;function Oke(e,t,r){return t=J$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=J$(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Pke(e,this,l)}}var Ake=Oke;function Tke(e){return function(){return e}}var Mke=Tke,$ke=wu,Ike=function(){try{var e=$ke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),D9=Ike,Rke=Mke,X$=D9,Dke=mh,Lke=X$?function(e,t){return X$(e,"toString",{configurable:!0,enumerable:!1,value:Rke(t),writable:!0})}:Dke,Fke=Lke,Bke=800,Uke=16,zke=Date.now;function Vke(e){var t=0,r=0;return function(){var n=zke(),a=Uke-(n-r);if(r=n,a>0){if(++t>=Bke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Wke=Vke,Hke=Fke,qke=Wke,Kke=qke(Hke),Gke=Kke,Yke=mh,Jke=Ake,Xke=Gke;function Qke(e,t){return Xke(Jke(e,t,Yke),e+"")}var Zke=Qke,eCe=IP,tCe=Ng,rCe=QP,nCe=zl;function aCe(e,t,r){if(!nCe(r))return!1;var n=typeof t;return(n=="number"?tCe(r)&&rCe(t,r.length):n=="string"&&t in r)?eCe(r[t],e):!1}var uw=aCe,iCe=$9,sCe=kke,oCe=Zke,Q$=uw,lCe=oCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Q$(e,t[0],t[1])?t=[]:r>2&&Q$(t[0],t[1],t[2])&&(t=[t[0]]),sCe(e,iCe(t,1),[])}),cCe=lCe;const rO=kt(cCe);function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(this,arguments)}function uCe(e,t){return pCe(e)||hCe(e,t)||fCe(e,t)||dCe()}function dCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fCe(e,t){if(e){if(typeof e=="string")return Z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z$(e,t)}}function Z$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function pCe(e){if(Array.isArray(e))return e}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(n){mCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mCe(e,t,r){return t=gCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=vCe(e,"string");return ym(t)=="symbol"?t:t+""}function vCe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yCe(e){return Array.isArray(e)&&Vr(e[0])&&Vr(e[1])?e.join(" ~ "):e}var xCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?rO(d,h):d).map(function(I,B){if(I.type==="none")return null;var H=yj({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),V=I.formatter||f||yCe,R=I.value,U=I.name,G=R,te=U;if(V&&G!=null&&te!=null){var Q=V(R,U,I,B,d);if(Array.isArray(Q)){var j=uCe(Q,2);G=j[0],te=j[1]}else G=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:H},Vr(te)?M.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Vr(te)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},G),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=yj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=yj({margin:0},u),N=!Ye(m),k=N?m:"",C=Xe("recharts-default-tooltip",p),A=Xe("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(k=v(m,d));var T=y?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",jN({className:C,style:_},T),M.createElement("p",{className:A,style:S},M.isValidElement(k)?k:"".concat(k)),w())};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function bv(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return xm(t)=="symbol"?t:t+""}function wCe(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rh="recharts-tooltip-wrapper",_Ce={visibility:"hidden"};function jCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Xe(Rh,bv(bv(bv(bv({},"".concat(Rh,"-right"),he(r)&&t&&he(t.x)&&r>=t.x),"".concat(Rh,"-left"),he(r)&&t&&he(t.x)&&r<t.x),"".concat(Rh,"-bottom"),he(n)&&t&&he(t.y)&&n>=t.y),"".concat(Rh,"-top"),he(n)&&t&&he(t.y)&&n<t.y))}function tI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&he(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function SCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function NCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=tI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=tI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=SCe({translateX:d,translateY:f,useTranslate3d:l})):u=_Ce,{cssProperties:u,cssClasses:jCe({translateX:d,translateY:f,coordinate:r})}}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function rI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rI(Object(r),!0).forEach(function(n){NN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F9(n.key),n)}}function ECe(e,t,r){return t&&CCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PCe(e,t,r){return t=Ix(t),OCe(e,L9()?Reflect.construct(t,r||[],Ix(e).constructor):t.apply(e,r))}function OCe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(e)}function ACe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!e})()}function Ix(e){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ix(e)}function TCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SN(e,t)}function SN(e,t){return SN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SN(e,t)}function NN(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=MCe(e,"string");return xf(t)=="symbol"?t:t+""}function MCe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aI=1,$Ce=function(e){function t(){var r;kCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=PCe(this,t,[].concat(a)),NN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),NN(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return TCe(t,e),ECe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>aI||Math.abs(n.height-this.state.lastBoundingBox.height)>aI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,y=a.wrapperStyle,w=NCe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,S=w.cssProperties,N=nI(nI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return M.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(x.PureComponent),ICe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vl={isSsr:ICe()};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){nO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function LCe(e,t,r){return t&&DCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FCe(e,t,r){return t=Rx(t),BCe(e,B9()?Reflect.construct(t,r||[],Rx(e).constructor):t.apply(e,r))}function BCe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(e)}function UCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function Rx(e){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rx(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(e,t)}function nO(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=VCe(e,"string");return bf(t)=="symbol"?t:t+""}function VCe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WCe(e){return e.dataKey}function HCe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(xCe,t)}var va=function(e){function t(){return RCe(this,t),FCe(this,t,arguments)}return zCe(t,e),LCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,b=a.reverseDirection,y=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=O9(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,WCe));var N=S.length>0;return M.createElement($Ce,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},HCe(u,sI(sI({},this.props),{},{payload:S})))}}])}(x.PureComponent);nO(va,"displayName","Tooltip");nO(va,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var qCe=Ps,KCe=function(){return qCe.Date.now()},GCe=KCe,YCe=/\s/;function JCe(e){for(var t=e.length;t--&&YCe.test(e.charAt(t)););return t}var XCe=JCe,QCe=XCe,ZCe=/^\s+/;function eEe(e){return e&&e.slice(0,QCe(e)+1).replace(ZCe,"")}var tEe=eEe,rEe=tEe,oI=zl,nEe=oh,lI=NaN,aEe=/^[-+]0x[0-9a-f]+$/i,iEe=/^0b[01]+$/i,sEe=/^0o[0-7]+$/i,oEe=parseInt;function lEe(e){if(typeof e=="number")return e;if(nEe(e))return lI;if(oI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=oI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rEe(e);var r=iEe.test(e);return r||sEe.test(e)?oEe(e.slice(2),r?2:8):aEe.test(e)?lI:+e}var z9=lEe,cEe=zl,xj=GCe,cI=z9,uEe="Expected a function",dEe=Math.max,fEe=Math.min;function hEe(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(uEe);t=cI(t)||0,cEe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?dEe(cI(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var k=n,C=a;return n=a=void 0,u=N,s=e.apply(C,k),s}function g(N){return u=N,l=setTimeout(b,t),d?p(N):s}function m(N){var k=N-c,C=N-u,A=t-k;return f?fEe(A,i-C):A}function v(N){var k=N-c,C=N-u;return c===void 0||k>=t||k<0||f&&C>=i}function b(){var N=xj();if(v(N))return y(N);l=setTimeout(b,m(N))}function y(N){return l=void 0,h&&n?p(N):(n=a=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?s:y(xj())}function S(){var N=xj(),k=v(N);if(n=arguments,a=this,c=N,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),s}return S.cancel=w,S.flush=_,S}var pEe=hEe,mEe=pEe,gEe=zl,vEe="Expected a function";function yEe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(vEe);return gEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mEe(e,t,{leading:n,maxWait:t,trailing:a})}var xEe=yEe;const V9=kt(xEe);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){bEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bEe(e,t,r){return t=wEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wEe(e){var t=_Ee(e,"string");return bm(t)=="symbol"?t:t+""}function _Ee(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jEe(e,t){return CEe(e)||kEe(e,t)||NEe(e,t)||SEe()}function SEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NEe(e,t){if(e){if(typeof e=="string")return dI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dI(e,t)}}function dI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function CEe(e){if(Array.isArray(e))return e}var dw=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,b=e.className,y=e.onResize,w=e.style,_=w===void 0?{}:w,S=x.useRef(null),N=x.useRef();N.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=x.useState({containerWidth:a.width,containerHeight:a.height}),C=jEe(k,2),A=C[0],T=C[1],$=x.useCallback(function(L,I){T(function(B){var H=Math.round(L),V=Math.round(I);return B.containerWidth===H&&B.containerHeight===V?B:{containerWidth:H,containerHeight:V}})},[]);x.useEffect(function(){var L=function(U){var G,te=U[0].contentRect,Q=te.width,j=te.height;$(Q,j),(G=N.current)===null||G===void 0||G.call(N,Q,j)};m>0&&(L=V9(L,m,{trailing:!0,leading:!1}));var I=new ResizeObserver(L),B=S.current.getBoundingClientRect(),H=B.width,V=B.height;return $(H,V),I.observe(S.current),function(){I.disconnect()}},[$,m]);var O=x.useMemo(function(){var L=A.containerWidth,I=A.containerHeight;if(L<0||I<0)return null;Li(_c(s)||_c(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Li(!r||r>0,"The aspect(%s) must be greater than zero.",r);var B=_c(s)?L:s,H=_c(c)?I:c;r&&r>0&&(B?H=B/r:H&&(B=H*r),h&&H>h&&(H=h)),Li(B>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,H,s,c,d,f,r);var V=!Array.isArray(p)&&ro(p.type).endsWith("Chart");return M.Children.map(p,function(R){return M.isValidElement(R)?x.cloneElement(R,wv({width:B,height:H},V?{style:wv({height:"100%",width:"100%",maxHeight:H,maxWidth:B},R.props.style)}:{})):R})},[r,p,c,h,f,d,A,s]);return M.createElement("div",{id:v?"".concat(v):void 0,className:Xe("recharts-responsive-container",b),style:wv(wv({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),kg=function(t){return null};kg.displayName="Cell";function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){EEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EEe(e,t,r){return t=PEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PEe(e){var t=OEe(e,"string");return wm(t)=="symbol"?t:t+""}function OEe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu={widthCache:{},cacheCount:0},AEe=2e3,TEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hI="recharts_measurement_span";function MEe(e){var t=CN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vl.isSsr)return{width:0,height:0};var n=MEe(r),a=JSON.stringify({text:t,copyStyle:n});if(Vu.widthCache[a])return Vu.widthCache[a];try{var i=document.getElementById(hI);i||(i=document.createElement("span"),i.setAttribute("id",hI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=CN(CN({},TEe),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Vu.widthCache[a]=c,++Vu.cacheCount>AEe&&(Vu.cacheCount=0,Vu.widthCache={}),c}catch{return{width:0,height:0}}},$Ee=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function Dx(e,t){return LEe(e)||DEe(e,t)||REe(e,t)||IEe()}function IEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function REe(e,t){if(e){if(typeof e=="string")return pI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pI(e,t)}}function pI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function DEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function LEe(e){if(Array.isArray(e))return e}function FEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UEe(n.key),n)}}function BEe(e,t,r){return t&&mI(e.prototype,t),r&&mI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UEe(e){var t=zEe(e,"string");return _m(t)=="symbol"?t:t+""}function zEe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,WEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,W9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},HEe=Object.keys(W9),md="NaN";function qEe(e,t){return e*W9[t]}var _v=function(){function e(t,r){FEe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!VEe.test(r)&&(this.num=NaN,this.unit=""),HEe.includes(r)&&(this.num=qEe(t,r),this.unit="px")}return BEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=WEe.exec(r))!==null&&n!==void 0?n:[],i=Dx(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function H9(e){if(e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=gI.exec(t))!==null&&r!==void 0?r:[],a=Dx(n,4),i=a[1],s=a[2],l=a[3],c=_v.parse(i??""),u=_v.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return md;t=t.replace(gI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=vI.exec(t))!==null&&f!==void 0?f:[],p=Dx(h,4),g=p[1],m=p[2],v=p[3],b=_v.parse(g??""),y=_v.parse(v??""),w=m==="+"?b.add(y):b.subtract(y);if(w.isNaN())return md;t=t.replace(vI,w.toString())}return t}var yI=/\(([^()]*)\)/;function KEe(e){for(var t=e;t.includes("(");){var r=yI.exec(t),n=Dx(r,2),a=n[1];t=t.replace(yI,H9(a))}return t}function GEe(e){var t=e.replace(/\s+/g,"");return t=KEe(t),t=H9(t),t}function YEe(e){try{return GEe(e)}catch{return md}}function bj(e){var t=YEe(e.slice(5,-1));return t===md?"":t}var JEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],XEe=["dx","dy","angle","className","breakAll"];function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function xI(e,t){if(e==null)return{};var r=QEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function QEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bI(e,t){return rPe(e)||tPe(e,t)||ePe(e,t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ePe(e,t){if(e){if(typeof e=="string")return wI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wI(e,t)}}function wI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function rPe(e){if(Array.isArray(e))return e}var q9=/[ \f\n\r\t\v\u2028\u2029]+/,K9=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ye(r)||(n?i=r.toString().split(""):i=r.toString().split(q9));var s=i.map(function(c){return{word:c,width:bp(c,a).width}}),l=n?0:bp("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},nPe=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=he(s),f=l,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(H,V){var R=V.word,U=V.width,G=H[H.length-1];if(G&&(a==null||i||G.width+U+n<Number(a)))G.words.push(R),G.width+=U+n;else{var te={words:[R],width:U};H.push(te)}return H},[])},p=h(r),g=function(B){return B.reduce(function(H,V){return H.width>V.width?H:V})};if(!d)return p;for(var m="",v=function(B){var H=f.slice(0,B),V=K9({breakAll:u,style:c,children:H+m}).wordsWithComputedWidth,R=h(V),U=R.length>s||g(R).width>Number(a);return[U,R]},b=0,y=f.length-1,w=0,_;b<=y&&w<=f.length-1;){var S=Math.floor((b+y)/2),N=S-1,k=v(N),C=bI(k,2),A=C[0],T=C[1],$=v(S),O=bI($,1),L=O[0];if(!A&&!L&&(b=S+1),A&&L&&(y=S-1),!A&&L){_=T;break}w++}return _||p},_I=function(t){var r=Ye(t)?[]:t.toString().split(q9);return[{words:r}]},aPe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Vl.isSsr){var c,u,d=K9({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return _I(a);return nPe({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return _I(a)},jI="#808080",au=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,b=v===void 0?jI:v,y=xI(t,JEe),w=x.useMemo(function(){return aPe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,S=y.dy,N=y.angle,k=y.className,C=y.breakAll,A=xI(y,XEe);if(!Vr(n)||!Vr(i))return null;var T=n+(he(_)?_:0),$=i+(he(S)?S:0),O;switch(m){case"start":O=bj("calc(".concat(u,")"));break;case"middle":O=bj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=bj("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var I=w[0].width,B=y.width;L.push("scale(".concat((he(B)?B/I:1)/I,")"))}return N&&L.push("rotate(".concat(N,", ").concat(T,", ").concat($,")")),L.length&&(A.transform=L.join(" ")),M.createElement("text",EN({},Ie(A,!0),{x:T,y:$,className:Xe("recharts-text",k),textAnchor:p,fill:b.includes("url")?jI:b}),w.map(function(H,V){var R=H.words.join(C?"":" ");return M.createElement("tspan",{x:T,dy:V===0?O:l,key:"".concat(R,"-").concat(V)},R)}))};function wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aO(e){let t,r,n;e.length!==2?(t=wl,r=(l,c)=>wl(e(l),c),n=(l,c)=>e(l)-c):(t=e===wl||e===iPe?e:sPe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function sPe(){return 0}function G9(e){return e===null?NaN:+e}function*oPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const lPe=aO(wl),Cg=lPe.right;aO(G9).center;class SI extends Map{constructor(t,r=dPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(NI(this,t))}has(t){return super.has(NI(this,t))}set(t,r){return super.set(cPe(this,t),r)}delete(t){return super.delete(uPe(this,t))}}function NI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function cPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function uPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function dPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fPe(e=wl){if(e===wl)return Y9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Y9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const hPe=Math.sqrt(50),pPe=Math.sqrt(10),mPe=Math.sqrt(2);function Lx(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=hPe?10:i>=pPe?5:i>=mPe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Lx(e,t,r*2):[l,c,u]}function PN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Lx(t,e,r):Lx(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function ON(e,t,r){return t=+t,e=+e,r=+r,Lx(e,t,r)[2]}function AN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ON(t,e,r):ON(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function kI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function J9(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Y9:fPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));J9(e,t,p,g,a)}const i=e[t];let s=r,l=n;for(Dh(e,r,t),a(e[n],i)>0&&Dh(e,r,n);s<l;){for(Dh(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Dh(e,r,l):(++l,Dh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Dh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function gPe(e,t,r){if(e=Float64Array.from(oPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CI(e);if(t>=1)return kI(e);var n,a=(n-1)*t,i=Math.floor(a),s=kI(J9(e,i).subarray(0,i+1)),l=CI(e.subarray(i+1));return s+(l-s)*(a-i)}}function vPe(e,t,r=G9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function yPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function oi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const TN=Symbol("implicit");function iO(){var e=new SI,t=[],r=[],n=TN;function a(i){let s=e.get(i);if(s===void 0){if(n!==TN)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new SI;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return iO(t,r).unknown(n)},oi.apply(a,arguments),a}function jm(){var e=iO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=yPe(h).map(function(b){return g+i*b});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return jm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},oi.apply(f(),arguments)}function X9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return X9(t())},e}function wp(){return X9(jm.apply(null,arguments).paddingInner(1))}function sO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Q9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Eg(){}var Sm=.7,Fx=1/Sm,$d="\\s*([+-]?\\d+)\\s*",Nm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xPe=/^#([0-9a-f]{3,8})$/,bPe=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),wPe=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),_Pe=new RegExp(`^rgba\\(${$d},${$d},${$d},${Nm}\\)$`),jPe=new RegExp(`^rgba\\(${xs},${xs},${xs},${Nm}\\)$`),SPe=new RegExp(`^hsl\\(${Nm},${xs},${xs}\\)$`),NPe=new RegExp(`^hsla\\(${Nm},${xs},${xs},${Nm}\\)$`),EI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sO(Eg,km,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PI,formatHex:PI,formatHex8:kPe,formatHsl:CPe,formatRgb:OI,toString:OI});function PI(){return this.rgb().formatHex()}function kPe(){return this.rgb().formatHex8()}function CPe(){return Z9(this).formatHsl()}function OI(){return this.rgb().formatRgb()}function km(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=xPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AI(t):r===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?jv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?jv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bPe.exec(e))?new ta(t[1],t[2],t[3],1):(t=wPe.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Pe.exec(e))?jv(t[1],t[2],t[3],t[4]):(t=jPe.exec(e))?jv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SPe.exec(e))?$I(t[1],t[2]/100,t[3]/100,1):(t=NPe.exec(e))?$I(t[1],t[2]/100,t[3]/100,t[4]):EI.hasOwnProperty(e)?AI(EI[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function AI(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function jv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ta(e,t,r,n)}function EPe(e){return e instanceof Eg||(e=km(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function MN(e,t,r,n){return arguments.length===1?EPe(e):new ta(e,t,r,n??1)}function ta(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sO(ta,MN,Q9(Eg,{brighter(e){return e=e==null?Fx:Math.pow(Fx,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sm:Math.pow(Sm,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(Lc(this.r),Lc(this.g),Lc(this.b),Bx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TI,formatHex:TI,formatHex8:PPe,formatRgb:MI,toString:MI}));function TI(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}`}function PPe(){return`#${jc(this.r)}${jc(this.g)}${jc(this.b)}${jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function MI(){const e=Bx(this.opacity);return`${e===1?"rgb(":"rgba("}${Lc(this.r)}, ${Lc(this.g)}, ${Lc(this.b)}${e===1?")":`, ${e})`}`}function Bx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function jc(e){return e=Lc(e),(e<16?"0":"")+e.toString(16)}function $I(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mi(e,t,r,n)}function Z9(e){if(e instanceof Mi)return new Mi(e.h,e.s,e.l,e.opacity);if(e instanceof Eg||(e=km(e)),!e)return new Mi;if(e instanceof Mi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new Mi(s,l,c,e.opacity)}function OPe(e,t,r,n){return arguments.length===1?Z9(e):new Mi(e,t,r,n??1)}function Mi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sO(Mi,OPe,Q9(Eg,{brighter(e){return e=e==null?Fx:Math.pow(Fx,e),new Mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sm:Math.pow(Sm,e),new Mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ta(wj(e>=240?e-240:e+120,a,n),wj(e,a,n),wj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Mi(II(this.h),Sv(this.s),Sv(this.l),Bx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bx(this.opacity);return`${e===1?"hsl(":"hsla("}${II(this.h)}, ${Sv(this.s)*100}%, ${Sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function II(e){return e=(e||0)%360,e<0?e+360:e}function Sv(e){return Math.max(0,Math.min(1,e||0))}function wj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const oO=e=>()=>e;function APe(e,t){return function(r){return e+r*t}}function TPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function MPe(e){return(e=+e)==1?eH:function(t,r){return r-t?TPe(t,r,e):oO(isNaN(t)?r:t)}}function eH(e,t){var r=t-e;return r?APe(e,r):oO(isNaN(e)?t:e)}const RI=function e(t){var r=MPe(t);function n(a,i){var s=r((a=MN(a)).r,(i=MN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=eH(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function $Pe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function IPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=gh(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function DPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ux(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=gh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var $N=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_j=new RegExp($N.source,"g");function FPe(e){return function(){return e}}function BPe(e){return function(t){return e(t)+""}}function UPe(e,t){var r=$N.lastIndex=_j.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=$N.exec(e))&&(a=_j.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Ux(n,a)})),r=_j.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?BPe(c[0].x):FPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gh(e,t){var r=typeof t,n;return t==null||r==="boolean"?oO(t):(r==="number"?Ux:r==="string"?(n=km(t))?(t=n,RI):UPe:t instanceof km?RI:t instanceof Date?DPe:IPe(t)?$Pe:Array.isArray(t)?RPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LPe:Ux)(e,t)}function lO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zPe(e,t){t===void 0&&(t=e,e=gh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function VPe(e){return function(){return e}}function zx(e){return+e}var DI=[0,1];function Vn(e){return e}function IN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VPe(isNaN(t)?NaN:.5)}function WPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function HPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=IN(a,n),i=r(s,i)):(n=IN(n,a),i=r(i,s)),function(l){return i(n(l))}}function qPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=IN(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Cg(e,l,1,n)-1;return i[c](a[c](l))}}function Pg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fw(){var e=DI,t=DI,r=gh,n,a,i,s=Vn,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Vn&&(s=WPe(e[0],e[h-1])),l=h>2?qPe:HPe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Ux)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,zx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=lO,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Vn,d()):s!==Vn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function cO(){return fw()(Vn,Vn)}function KPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vx(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function wf(e){return e=Vx(Math.abs(e)),e?e[1]:NaN}function GPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function YPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var JPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cm(e){if(!(t=JPe.exec(e)))throw new Error("invalid format: "+e);var t;return new uO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cm.prototype=uO.prototype;function uO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XPe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Wx;function QPe(e,t){var r=Vx(e,t);if(!r)return Wx=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Wx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Vx(e,Math.max(0,t+i-1))[0]}function LI(e,t){var r=Vx(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const FI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:KPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LI(e*100,t),r:LI,s:QPe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function BI(e){return e}var UI=Array.prototype.map,zI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZPe(e){var t=e.grouping===void 0||e.thousands===void 0?BI:GPe(UI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?BI:YPe(UI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Cm(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,b=f.zero,y=f.width,w=f.comma,_=f.precision,S=f.trim,N=f.type;N==="n"?(w=!0,N="g"):FI[N]||(_===void 0&&(_=12),S=!0,N="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),C=(v==="$"?n:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),A=FI[N],T=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(O){var L=k,I=C,B,H,V;if(N==="c")I=A(O)+I,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),_),S&&(O=XPe(O)),R&&+O==0&&m!=="+"&&(R=!1),L=(R?m==="("?m:l:m==="-"||m==="("?"":m)+L,I=(N==="s"&&!isNaN(O)&&Wx!==void 0?zI[8+Wx/3]:"")+I+(R&&m==="("?")":""),T){for(B=-1,H=O.length;++B<H;)if(V=O.charCodeAt(B),48>V||V>57){I=(V===46?a+O.slice(B+1):O.slice(B))+I,O=O.slice(0,B);break}}}w&&!b&&(O=t(O,1/0));var U=L.length+O.length+I.length,G=U<y?new Array(y-U+1).join(p):"";switch(w&&b&&(O=t(G+O,G.length?y-I.length:1/0),G=""),g){case"<":O=L+O+I+G;break;case"=":O=L+G+O+I;break;case"^":O=G.slice(0,U=G.length>>1)+L+O+I+G.slice(U);break;default:O=G+L+O+I;break}return i(O)}return $.toString=function(){return f+""},$}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(wf(h)/3)))*3,g=Math.pow(10,-p),m=u((f=Cm(f),f.type="f",f),{suffix:zI[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Nv,dO,tH;eOe({thousands:",",grouping:[3],currency:["$",""]});function eOe(e){return Nv=ZPe(e),dO=Nv.format,tH=Nv.formatPrefix,Nv}function tOe(e){return Math.max(0,-wf(Math.abs(e)))}function rOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wf(t)/3)))*3-wf(Math.abs(e)))}function nOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wf(t)-wf(e))+1}function rH(e,t,r,n){var a=AN(e,t,r),i;switch(n=Cm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=rOe(a,s))&&(n.precision=i),tH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=nOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return dO(n)}function Wl(e){var t=e.domain;return e.ticks=function(r){var n=t();return PN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return rH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=ON(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Hx(){var e=cO();return e.copy=function(){return Pg(e,Hx())},oi.apply(e,arguments),Wl(e)}function nH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nH(e).unknown(t)},e=arguments.length?Array.from(e,zx):[0,1],Wl(r)}function aH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function VI(e){return Math.log(e)}function WI(e){return Math.exp(e)}function aOe(e){return-Math.log(-e)}function iOe(e){return-Math.exp(-e)}function sOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oOe(e){return e===10?sOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HI(e){return(t,r)=>-e(-t,r)}function fO(e){const t=e(VI,WI),r=t.domain;let n=10,a,i;function s(){return a=lOe(n),i=oOe(n),r()[0]<0?(a=HI(a),i=HI(i),e(aOe,iOe)):e(VI,WI),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=PN(u,d,v))}else b=PN(h,p,Math.min(p-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Cm(c)).precision==null&&(c.trim=!0),c=dO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(aH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function iH(){const e=fO(fw()).domain([1,10]);return e.copy=()=>Pg(e,iH()).base(e.base()),oi.apply(e,arguments),e}function qI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function hO(e){var t=1,r=e(qI(t),KI(t));return r.constant=function(n){return arguments.length?e(qI(t=+n),KI(t)):t},Wl(r)}function sH(){var e=hO(fw());return e.copy=function(){return Pg(e,sH()).constant(e.constant())},oi.apply(e,arguments)}function GI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uOe(e){return e<0?-e*e:e*e}function pO(e){var t=e(Vn,Vn),r=1;function n(){return r===1?e(Vn,Vn):r===.5?e(cOe,uOe):e(GI(r),GI(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wl(t)}function mO(){var e=pO(fw());return e.copy=function(){return Pg(e,mO()).exponent(e.exponent())},oi.apply(e,arguments),e}function dOe(){return mO.apply(null,arguments).exponent(.5)}function YI(e){return Math.sign(e)*e*e}function fOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oH(){var e=cO(),t=[0,1],r=!1,n;function a(i){var s=fOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(YI(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,zx)).map(YI)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return oH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},oi.apply(a,arguments),Wl(a)}function lH(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=vPe(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Cg(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wl),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lH().domain(e).range(t).unknown(n)},oi.apply(i,arguments)}function cH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Cg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return cH().domain([e,t]).range(a).unknown(i)},oi.apply(Wl(s),arguments)}function uH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Cg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uH().domain(e).range(t).unknown(r)},oi.apply(a,arguments)}const jj=new Date,Sj=new Date;function qr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>qr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(jj.setTime(+i),Sj.setTime(+s),e(jj),e(Sj),Math.floor(r(jj,Sj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const qx=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qx);qx.range;const Js=1e3,Ha=Js*60,Xs=Ha*60,vo=Xs*24,gO=vo*7,JI=vo*30,Nj=vo*365,Sc=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCSeconds());Sc.range;const vO=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Js)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getMinutes());vO.range;const yO=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ha)},(e,t)=>(t-e)/Ha,e=>e.getUTCMinutes());yO.range;const xO=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Js-e.getMinutes()*Ha)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getHours());xO.range;const bO=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCHours());bO.range;const Og=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ha)/vo,e=>e.getDate()-1);Og.range;const hw=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>e.getUTCDate()-1);hw.range;const dH=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/vo,e=>Math.floor(e/vo));dH.range;function ju(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/gO)}const pw=ju(0),Kx=ju(1),hOe=ju(2),pOe=ju(3),_f=ju(4),mOe=ju(5),gOe=ju(6);pw.range;Kx.range;hOe.range;pOe.range;_f.range;mOe.range;gOe.range;function Su(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gO)}const mw=Su(0),Gx=Su(1),vOe=Su(2),yOe=Su(3),jf=Su(4),xOe=Su(5),bOe=Su(6);mw.range;Gx.range;vOe.range;yOe.range;jf.range;xOe.range;bOe.range;const wO=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wO.range;const _O=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_O.range;const yo=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});yo.range;const xo=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xo.range;function fH(e,t,r,n,a,i){const s=[[Sc,1,Js],[Sc,5,5*Js],[Sc,15,15*Js],[Sc,30,30*Js],[i,1,Ha],[i,5,5*Ha],[i,15,15*Ha],[i,30,30*Ha],[a,1,Xs],[a,3,3*Xs],[a,6,6*Xs],[a,12,12*Xs],[n,1,vo],[n,2,2*vo],[r,1,gO],[t,1,JI],[t,3,3*JI],[e,1,Nj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=aO(([,,v])=>v).right(s,h);if(p===s.length)return e.every(AN(u/Nj,d/Nj,f));if(p===0)return qx.every(Math.max(AN(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[wOe,_Oe]=fH(xo,_O,mw,dH,bO,yO),[jOe,SOe]=fH(yo,wO,pw,Og,xO,vO);function kj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function NOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=Fh(a),d=Bh(a),f=Fh(i),h=Bh(i),p=Fh(s),g=Bh(s),m=Fh(l),v=Bh(l),b=Fh(c),y=Bh(c),w={a:V,A:R,b:U,B:G,c:null,d:rR,e:rR,f:GOe,g:aAe,G:sAe,H:HOe,I:qOe,j:KOe,L:hH,m:YOe,M:JOe,p:te,q:Q,Q:iR,s:sR,S:XOe,u:QOe,U:ZOe,V:eAe,w:tAe,W:rAe,x:null,X:null,y:nAe,Y:iAe,Z:oAe,"%":aR},_={a:j,A:P,b:E,B:F,c:null,d:nR,e:nR,f:dAe,g:wAe,G:jAe,H:lAe,I:cAe,j:uAe,L:mH,m:fAe,M:hAe,p:D,q:K,Q:iR,s:sR,S:pAe,u:mAe,U:gAe,V:vAe,w:yAe,W:xAe,x:null,X:null,y:bAe,Y:_Ae,Z:SAe,"%":aR},S={a:T,A:$,b:O,B:L,c:I,d:eR,e:eR,f:UOe,g:ZI,G:QI,H:tR,I:tR,j:DOe,L:BOe,m:ROe,M:LOe,p:A,q:IOe,Q:VOe,s:WOe,S:FOe,u:OOe,U:AOe,V:TOe,w:POe,W:MOe,x:B,X:H,y:ZI,Y:QI,Z:$Oe,"%":zOe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(q,J){return function(Z){var Y=[],ye=-1,ke=0,Ke=q.length,nt,Ue,it;for(Z instanceof Date||(Z=new Date(+Z));++ye<Ke;)q.charCodeAt(ye)===37&&(Y.push(q.slice(ke,ye)),(Ue=XI[nt=q.charAt(++ye)])!=null?nt=q.charAt(++ye):Ue=nt==="e"?" ":"0",(it=J[nt])&&(nt=it(Z,Ue)),Y.push(nt),ke=ye+1);return Y.push(q.slice(ke,ye)),Y.join("")}}function k(q,J){return function(Z){var Y=Lh(1900,void 0,1),ye=C(Y,q,Z+="",0),ke,Ke;if(ye!=Z.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(J&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ke=Cj(Lh(Y.y,0,1)),Ke=ke.getUTCDay(),ke=Ke>4||Ke===0?Gx.ceil(ke):Gx(ke),ke=hw.offset(ke,(Y.V-1)*7),Y.y=ke.getUTCFullYear(),Y.m=ke.getUTCMonth(),Y.d=ke.getUTCDate()+(Y.w+6)%7):(ke=kj(Lh(Y.y,0,1)),Ke=ke.getDay(),ke=Ke>4||Ke===0?Kx.ceil(ke):Kx(ke),ke=Og.offset(ke,(Y.V-1)*7),Y.y=ke.getFullYear(),Y.m=ke.getMonth(),Y.d=ke.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ke="Z"in Y?Cj(Lh(Y.y,0,1)).getUTCDay():kj(Lh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ke+5)%7:Y.w+Y.U*7-(Ke+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Cj(Y)):kj(Y)}}function C(q,J,Z,Y){for(var ye=0,ke=J.length,Ke=Z.length,nt,Ue;ye<ke;){if(Y>=Ke)return-1;if(nt=J.charCodeAt(ye++),nt===37){if(nt=J.charAt(ye++),Ue=S[nt in XI?J.charAt(ye++):nt],!Ue||(Y=Ue(q,Z,Y))<0)return-1}else if(nt!=Z.charCodeAt(Y++))return-1}return Y}function A(q,J,Z){var Y=u.exec(J.slice(Z));return Y?(q.p=d.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function T(q,J,Z){var Y=p.exec(J.slice(Z));return Y?(q.w=g.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function $(q,J,Z){var Y=f.exec(J.slice(Z));return Y?(q.w=h.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function O(q,J,Z){var Y=b.exec(J.slice(Z));return Y?(q.m=y.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function L(q,J,Z){var Y=m.exec(J.slice(Z));return Y?(q.m=v.get(Y[0].toLowerCase()),Z+Y[0].length):-1}function I(q,J,Z){return C(q,t,J,Z)}function B(q,J,Z){return C(q,r,J,Z)}function H(q,J,Z){return C(q,n,J,Z)}function V(q){return s[q.getDay()]}function R(q){return i[q.getDay()]}function U(q){return c[q.getMonth()]}function G(q){return l[q.getMonth()]}function te(q){return a[+(q.getHours()>=12)]}function Q(q){return 1+~~(q.getMonth()/3)}function j(q){return s[q.getUTCDay()]}function P(q){return i[q.getUTCDay()]}function E(q){return c[q.getUTCMonth()]}function F(q){return l[q.getUTCMonth()]}function D(q){return a[+(q.getUTCHours()>=12)]}function K(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var J=N(q+="",w);return J.toString=function(){return q},J},parse:function(q){var J=k(q+="",!1);return J.toString=function(){return q},J},utcFormat:function(q){var J=N(q+="",_);return J.toString=function(){return q},J},utcParse:function(q){var J=k(q+="",!0);return J.toString=function(){return q},J}}}var XI={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,kOe=/^%/,COe=/[\\^$*+?|[\]().{}]/g;function bt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function EOe(e){return e.replace(COe,"\\$&")}function Fh(e){return new RegExp("^(?:"+e.map(EOe).join("|")+")","i")}function Bh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function POe(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function OOe(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function AOe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TOe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function MOe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function QI(e,t,r){var n=nn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZI(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function $Oe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IOe(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ROe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eR(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function DOe(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tR(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function LOe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FOe(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UOe(e,t,r){var n=nn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zOe(e,t,r){var n=kOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VOe(e,t,r){var n=nn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WOe(e,t,r){var n=nn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rR(e,t){return bt(e.getDate(),t,2)}function HOe(e,t){return bt(e.getHours(),t,2)}function qOe(e,t){return bt(e.getHours()%12||12,t,2)}function KOe(e,t){return bt(1+Og.count(yo(e),e),t,3)}function hH(e,t){return bt(e.getMilliseconds(),t,3)}function GOe(e,t){return hH(e,t)+"000"}function YOe(e,t){return bt(e.getMonth()+1,t,2)}function JOe(e,t){return bt(e.getMinutes(),t,2)}function XOe(e,t){return bt(e.getSeconds(),t,2)}function QOe(e){var t=e.getDay();return t===0?7:t}function ZOe(e,t){return bt(pw.count(yo(e)-1,e),t,2)}function pH(e){var t=e.getDay();return t>=4||t===0?_f(e):_f.ceil(e)}function eAe(e,t){return e=pH(e),bt(_f.count(yo(e),e)+(yo(e).getDay()===4),t,2)}function tAe(e){return e.getDay()}function rAe(e,t){return bt(Kx.count(yo(e)-1,e),t,2)}function nAe(e,t){return bt(e.getFullYear()%100,t,2)}function aAe(e,t){return e=pH(e),bt(e.getFullYear()%100,t,2)}function iAe(e,t){return bt(e.getFullYear()%1e4,t,4)}function sAe(e,t){var r=e.getDay();return e=r>=4||r===0?_f(e):_f.ceil(e),bt(e.getFullYear()%1e4,t,4)}function oAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+bt(t/60|0,"0",2)+bt(t%60,"0",2)}function nR(e,t){return bt(e.getUTCDate(),t,2)}function lAe(e,t){return bt(e.getUTCHours(),t,2)}function cAe(e,t){return bt(e.getUTCHours()%12||12,t,2)}function uAe(e,t){return bt(1+hw.count(xo(e),e),t,3)}function mH(e,t){return bt(e.getUTCMilliseconds(),t,3)}function dAe(e,t){return mH(e,t)+"000"}function fAe(e,t){return bt(e.getUTCMonth()+1,t,2)}function hAe(e,t){return bt(e.getUTCMinutes(),t,2)}function pAe(e,t){return bt(e.getUTCSeconds(),t,2)}function mAe(e){var t=e.getUTCDay();return t===0?7:t}function gAe(e,t){return bt(mw.count(xo(e)-1,e),t,2)}function gH(e){var t=e.getUTCDay();return t>=4||t===0?jf(e):jf.ceil(e)}function vAe(e,t){return e=gH(e),bt(jf.count(xo(e),e)+(xo(e).getUTCDay()===4),t,2)}function yAe(e){return e.getUTCDay()}function xAe(e,t){return bt(Gx.count(xo(e)-1,e),t,2)}function bAe(e,t){return bt(e.getUTCFullYear()%100,t,2)}function wAe(e,t){return e=gH(e),bt(e.getUTCFullYear()%100,t,2)}function _Ae(e,t){return bt(e.getUTCFullYear()%1e4,t,4)}function jAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jf(e):jf.ceil(e),bt(e.getUTCFullYear()%1e4,t,4)}function SAe(){return"+0000"}function aR(){return"%"}function iR(e){return+e}function sR(e){return Math.floor(+e/1e3)}var Wu,vH,yH;NAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NAe(e){return Wu=NOe(e),vH=Wu.format,Wu.parse,yH=Wu.utcFormat,Wu.utcParse,Wu}function kAe(e){return new Date(e)}function CAe(e){return e instanceof Date?+e:+new Date(+e)}function jO(e,t,r,n,a,i,s,l,c,u){var d=cO(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function S(N){return(c(N)<N?p:l(N)<N?g:s(N)<N?m:i(N)<N?v:n(N)<N?a(N)<N?b:y:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,CAe)):h().map(kAe)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?S:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(aH(k,N)):d},d.copy=function(){return Pg(d,jO(e,t,r,n,a,i,s,l,c,u))},d}function EAe(){return oi.apply(jO(jOe,SOe,yo,wO,pw,Og,xO,vO,Sc,vH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PAe(){return oi.apply(jO(wOe,_Oe,xo,_O,mw,hw,bO,yO,Sc,yH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gw(){var e=0,t=1,r,n,a,i,s=Vn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(gh),u.rangeRound=d(lO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xH(){var e=Wl(gw()(Vn));return e.copy=function(){return Hl(e,xH())},Eo.apply(e,arguments)}function bH(){var e=fO(gw()).domain([1,10]);return e.copy=function(){return Hl(e,bH()).base(e.base())},Eo.apply(e,arguments)}function wH(){var e=hO(gw());return e.copy=function(){return Hl(e,wH()).constant(e.constant())},Eo.apply(e,arguments)}function SO(){var e=pO(gw());return e.copy=function(){return Hl(e,SO()).exponent(e.exponent())},Eo.apply(e,arguments)}function OAe(){return SO.apply(null,arguments).exponent(.5)}function _H(){var e=[],t=Vn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Cg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>gPe(e,i/n))},r.copy=function(){return _H(t).domain(e)},Eo.apply(r,arguments)}function vw(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=Vn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,u=zPe(m,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(gh),p.rangeRound=g(lO),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function jH(){var e=Wl(vw()(Vn));return e.copy=function(){return Hl(e,jH())},Eo.apply(e,arguments)}function SH(){var e=fO(vw()).domain([.1,1,10]);return e.copy=function(){return Hl(e,SH()).base(e.base())},Eo.apply(e,arguments)}function NH(){var e=hO(vw());return e.copy=function(){return Hl(e,NH()).constant(e.constant())},Eo.apply(e,arguments)}function NO(){var e=pO(vw());return e.copy=function(){return Hl(e,NO()).exponent(e.exponent())},Eo.apply(e,arguments)}function AAe(){return NO.apply(null,arguments).exponent(.5)}const oR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jm,scaleDiverging:jH,scaleDivergingLog:SH,scaleDivergingPow:NO,scaleDivergingSqrt:AAe,scaleDivergingSymlog:NH,scaleIdentity:nH,scaleImplicit:TN,scaleLinear:Hx,scaleLog:iH,scaleOrdinal:iO,scalePoint:wp,scalePow:mO,scaleQuantile:lH,scaleQuantize:cH,scaleRadial:oH,scaleSequential:xH,scaleSequentialLog:bH,scaleSequentialPow:SO,scaleSequentialQuantile:_H,scaleSequentialSqrt:OAe,scaleSequentialSymlog:wH,scaleSqrt:dOe,scaleSymlog:sH,scaleThreshold:uH,scaleTime:EAe,scaleUtc:PAe,tickFormat:rH},Symbol.toStringTag,{value:"Module"}));var TAe=oh;function MAe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!TAe(s):r(s,l)))var l=s,c=i}return c}var yw=MAe;function $Ae(e,t){return e>t}var kH=$Ae,IAe=yw,RAe=kH,DAe=mh;function LAe(e){return e&&e.length?IAe(e,DAe,RAe):void 0}var FAe=LAe;const cl=kt(FAe);function BAe(e,t){return e<t}var CH=BAe,UAe=yw,zAe=CH,VAe=mh;function WAe(e){return e&&e.length?UAe(e,VAe,zAe):void 0}var HAe=WAe;const xw=kt(HAe);var qAe=FP,KAe=Os,GAe=R9,YAe=la;function JAe(e,t){var r=YAe(e)?qAe:GAe;return r(e,KAe(t))}var XAe=JAe,QAe=$9,ZAe=XAe;function eTe(e,t){return QAe(ZAe(e,t),1)}var tTe=eTe;const rTe=kt(tTe);var nTe=eO;function aTe(e,t){return nTe(e,t)}var iTe=aTe;const iu=kt(iTe);var vh=1e9,sTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},CO,rr=!0,ri="[DecimalError] ",Fc=ri+"Invalid argument: ",kO=ri+"Exponent out of range: ",yh=Math.floor,fc=Math.pow,oTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_a,Jr=1e7,Jt=7,EH=9007199254740991,Yx=yh(EH/Jt),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Jt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ee.dividedBy=Ee.div=function(e){return ao(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,r=t.constructor;return Dt(ao(t,new r(e),0,1),r.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return Tr(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_a))throw Error(ri+"NaN");if(r.s<1)throw Error(ri+(r.s?"NaN":"-Infinity"));return r.eq(_a)?new n(0):(rr=!1,t=ao(Em(r,i),Em(e,i),i),rr=!0,Dt(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AH(t,e):PH(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ri+"NaN");return r.s?(rr=!1,t=ao(r,e,0,1).times(e),rr=!0,r.minus(t)):Dt(new n(r),a)};Ee.naturalExponential=Ee.exp=function(){return OH(this)};Ee.naturalLogarithm=Ee.ln=function(){return Em(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PH(t,e):AH(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Fc+e);if(t=Tr(a)+1,n=a.d.length-1,r=n*Jt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ee.squareRoot=Ee.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ri+"NaN")}for(e=Tr(l),rr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=fs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=yh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ao(l,i,s+2)).times(.5),fs(i.d).slice(0,s)===(t=fs(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Dt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return rr=!0,Dt(n,r)};Ee.times=Ee.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Jr|0,t=l/Jr|0;i[a]=(i[a]+t)%Jr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rr?Dt(e,f.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ss(e,0,vh),t===void 0?t=n.rounding:Ss(t,0,8),Dt(r,e+Tr(r)+1,t))};Ee.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=su(n,!0):(Ss(e,0,vh),t===void 0?t=a.rounding:Ss(t,0,8),n=Dt(new a(n),e+1,t),r=su(n,!0,e+1)),r};Ee.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?su(a):(Ss(e,0,vh),t===void 0?t=i.rounding:Ss(t,0,8),n=Dt(new i(a),e+Tr(a)+1,t),r=su(n.abs(),!1,e+Tr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Dt(new t(e),Tr(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(_a);if(l=new c(l),!l.s){if(e.s<1)throw Error(ri+"Infinity");return l}if(l.eq(_a))return l;if(n=c.precision,e.eq(_a))return Dt(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=EH){for(a=new c(_a),t=Math.ceil(n/Jt+4),rr=!1;r%2&&(a=a.times(l),cR(a.d,t)),r=yh(r/2),r!==0;)l=l.times(l),cR(l.d,t);return rr=!0,e.s<0?new c(_a).div(a):Dt(a,n)}}else if(i<0)throw Error(ri+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rr=!1,a=e.times(Em(l,n+u)),rr=!0,a=OH(a),a.s=i,a};Ee.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Tr(a),n=su(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ss(e,1,vh),t===void 0?t=i.rounding:Ss(t,0,8),a=Dt(new i(a),e,t),r=Tr(a),n=su(a,e<=r||r<=i.toExpNeg,e)),n};Ee.toSignificantDigits=Ee.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ss(e,1,vh),t===void 0?t=n.rounding:Ss(t,0,8)),Dt(new n(r),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return su(e,t<=r.toExpNeg||t>=r.toExpPos)};function PH(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),rr?Dt(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Jt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jr|0,c[i]%=Jr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,rr?Dt(t,f):t}function Ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Fc+e)}function fs(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Jt-n.length,r&&(i+=Ko(r)),i+=n;s=e[t],n=s+"",r=Jt-n.length,r&&(i+=Ko(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ao=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Jr|0,s=i/Jr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Jr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,p,g,m,v,b,y,w,_,S,N,k,C,A=n.constructor,T=n.s==a.s?1:-1,$=n.d,O=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ri+"Division by zero");for(c=n.e-a.e,k=O.length,S=$.length,p=new A(T),g=p.d=[],u=0;O[u]==($[u]||0);)++u;if(O[u]>($[u]||0)&&--c,i==null?y=i=A.precision:s?y=i+(Tr(n)-Tr(a))+1:y=i,y<0)return new A(0);if(y=y/Jt+2|0,u=0,k==1)for(d=0,O=O[0],y++;(u<S||d)&&y--;u++)w=d*Jr+($[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Jr/(O[0]+1)|0,d>1&&(O=e(O,d),$=e($,d),k=O.length,S=$.length),_=k,m=$.slice(0,k),v=m.length;v<k;)m[v++]=0;C=O.slice(),C.unshift(0),N=O[0],O[1]>=Jr/2&&++N;do d=0,l=t(O,m,k,v),l<0?(b=m[0],k!=v&&(b=b*Jr+(m[1]||0)),d=b/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(O,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?C:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(O,m,k,v),l<1&&(d++,r(m,k<v?C:O,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=$[_]||0:(m=[$[_]],v=1);while((_++<S||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=c,Dt(p,s?i+Tr(p)+1:i)}}();function OH(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Tr(e)>16)throw Error(kO+Tr(e));if(!e.s)return new d(_a);for(rr=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(fc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(_a),d.precision=l;;){if(a=Dt(a.times(e),l),r=r.times(++c),s=i.plus(ao(a,r,l)),fs(s.d).slice(0,l)===fs(i.d).slice(0,l)){for(;u--;)i=Dt(i.times(i),l);return d.precision=f,t==null?(rr=!0,Dt(i,f)):i}i=s}}function Tr(e){for(var t=e.e*Jt,r=e.d[0];r>=10;r/=10)t++;return t}function Ej(e,t,r){if(t>e.LN10.sd())throw rr=!0,r&&(e.precision=r),Error(ri+"LN10 precision limit exceeded");return Dt(new e(e.LN10),t)}function Ko(e){for(var t="";e--;)t+="0";return t}function Em(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(ri+(p.s?"NaN":"-Infinity"));if(p.eq(_a))return new m(0);if(t==null?(rr=!1,u=v):u=t,p.eq(10))return t==null&&(rr=!0),Ej(m,u);if(u+=h,m.precision=u,r=fs(g),n=r.charAt(0),i=Tr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=fs(p.d),n=r.charAt(0),f++;i=Tr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Ej(m,u+2,v).times(i+""),p=Em(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(rr=!0,Dt(p,v)):p;for(l=s=p=ao(p.minus(_a),p.plus(_a),u),d=Dt(p.times(p),u),a=3;;){if(s=Dt(s.times(d),u),c=l.plus(ao(s,new m(a),u)),fs(c.d).slice(0,u)===fs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ej(m,u+2,v).times(i+""))),l=ao(l,new m(f),u),m.precision=v,t==null?(rr=!0,Dt(l,v)):l;l=c,a+=2}}function lR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=yh(r/Jt),e.d=[],n=(r+1)%Jt,r<0&&(n+=Jt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Jt;n<a;)e.d.push(+t.slice(n,n+=Jt));t=t.slice(n),n=Jt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),rr&&(e.e>Yx||e.e<-Yx))throw Error(kO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Dt(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Jt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Jt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Jt,a=n-Jt+s}if(r!==void 0&&(i=fc(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/fc(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Tr(e),f.length=1,t=t-i-1,f[0]=fc(10,(Jt-t%Jt)%Jt),e.e=yh(-t/Jt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=fc(10,Jt-n),f[d]=a>0?(u/fc(10,s-a)%fc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(rr&&(e.e>Yx||e.e<-Yx))throw Error(kO+Tr(e));return e}function AH(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rr?Dt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Jt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[a]+=Jr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rr?Dt(t,p):t):new h(0)}function su(e,t,r){var n,a=Tr(e),i=fs(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Ko(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ko(-a-1)+i,r&&(n=r-s)>0&&(i+=Ko(n))):a>=s?(i+=Ko(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Ko(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Ko(n))),e.s<0?"-"+i:i}function cR(e,t){if(e.length>t)return e.length=t,!0}function TH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Fc+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return lR(s,i.toString())}else if(typeof i!="string")throw Error(Fc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,oTe.test(i))lR(s,i);else throw Error(Fc+i)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=TH,a.config=a.set=lTe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function lTe(e){if(!e||typeof e!="object")throw Error(ri+"Object expected");var t,r,n,a=["precision",1,vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(yh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Fc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Fc+r+": "+n);return this}var CO=TH(sTe);_a=new CO(1);const Tt=CO;function cTe(e){return hTe(e)||fTe(e)||dTe(e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(e,t){if(e){if(typeof e=="string")return RN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RN(e,t)}}function fTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function hTe(e){if(Array.isArray(e))return RN(e)}function RN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var pTe=function(t){return t},MH={},$H=function(t){return t===MH},uR=function(t){return function r(){return arguments.length===0||arguments.length===1&&$H(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},mTe=function e(t,r){return t===1?r:uR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==MH}).length;return s>=t?r.apply(void 0,a):e(t-s,uR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return $H(f)?c.shift():f});return r.apply(void 0,cTe(d).concat(c))}))})},bw=function(t){return mTe(t.length,t)},DN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},gTe=bw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),vTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return pTe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},LN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},IH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function yTe(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function xTe(e,t,r){for(var n=new Tt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var bTe=bw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),wTe=bw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),_Te=bw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ww={rangeStep:xTe,getDigitCount:yTe,interpolateNumber:bTe,uninterpolateNumber:wTe,uninterpolateTruncation:_Te};function FN(e){return NTe(e)||STe(e)||RH(e)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function STe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function NTe(e){if(Array.isArray(e))return BN(e)}function Pm(e,t){return ETe(e)||CTe(e,t)||RH(e,t)||kTe()}function kTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CTe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function ETe(e){if(Array.isArray(e))return e}function DH(e){var t=Pm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function LH(e,t,r){if(e.lte(0))return new Tt(0);var n=ww.getDigitCount(e.toNumber()),a=new Tt(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new Tt(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new Tt(Math.ceil(c))}function PTe(e,t,r){var n=1,a=new Tt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Tt(10).pow(ww.getDigitCount(e)-1),a=new Tt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Tt(Math.floor(e)))}else e===0?a=new Tt(Math.floor((t-1)/2)):r||(a=new Tt(Math.floor(e)));var s=Math.floor((t-1)/2),l=vTe(gTe(function(c){return a.add(new Tt(c-s).mul(n)).toNumber()}),DN);return l(0,t)}function FH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var i=LH(new Tt(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Tt(0):(s=new Tt(e).add(t).div(2),s=s.sub(new Tt(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new Tt(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?FH(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Tt(l).mul(i)),tickMax:s.add(new Tt(c).mul(i))})}function OTe(e){var t=Pm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=DH([r,n]),c=Pm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(FN(DN(0,a-1).map(function(){return 1/0}))):[].concat(FN(DN(0,a-1).map(function(){return-1/0})),[d]);return r>n?LN(f):f}if(u===d)return PTe(u,a,i);var h=FH(u,d,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=ww.rangeStep(g,m.add(new Tt(.1).mul(p)),p);return r>n?LN(v):v}function ATe(e,t){var r=Pm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=DH([n,a]),l=Pm(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=LH(new Tt(u).sub(c).div(d-1),i,0),h=[].concat(FN(ww.rangeStep(new Tt(c),new Tt(u).sub(new Tt(.99).mul(f)),f)),[u]);return n>a?LN(h):h}var TTe=IH(OTe),MTe=IH(ATe),$Te="Invariant failed";function ou(e,t){throw new Error($Te)}var ITe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(this,arguments)}function RTe(e,t){return BTe(e)||FTe(e,t)||LTe(e,t)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LTe(e,t){if(e){if(typeof e=="string")return dR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dR(e,t)}}function dR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function BTe(e){if(Array.isArray(e))return e}function UTe(e,t){if(e==null)return{};var r=zTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zH(n.key),n)}}function HTe(e,t,r){return t&&WTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qTe(e,t,r){return t=Xx(t),KTe(e,BH()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function KTe(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GTe(e)}function GTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function YTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(e,t)}function UH(e,t,r){return t=zH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zH(e){var t=JTe(e,"string");return Sf(t)=="symbol"?t:t+""}function JTe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ag=function(e){function t(){return VTe(this,t),qTe(this,t,arguments)}return YTe(t,e),HTe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=UTe(n,ITe),p=Ie(h,!1);this.props.direction==="x"&&d.type!=="number"&&ou();var g=c.map(function(m){var v=u(m,l),b=v.x,y=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],N,k;if(Array.isArray(_)){var C=RTe(_,2);N=C[0],k=C[1]}else N=k=_;if(i==="vertical"){var A=d.scale,T=y+a,$=T+s,O=T-s,L=A(w-N),I=A(w+k);S.push({x1:I,y1:$,x2:I,y2:O}),S.push({x1:L,y1:T,x2:I,y2:T}),S.push({x1:L,y1:$,x2:L,y2:O})}else if(i==="horizontal"){var B=f.scale,H=b+a,V=H-s,R=H+s,U=B(w-N),G=B(w+k);S.push({x1:V,y1:G,x2:R,y2:G}),S.push({x1:H,y1:U,x2:H,y2:G}),S.push({x1:V,y1:U,x2:R,y2:U})}return M.createElement(ot,Jx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),S.map(function(te){return M.createElement("line",Jx({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return M.createElement(ot,{className:"recharts-errorBars"},g)}}])}(M.Component);UH(Ag,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UH(Ag,"displayName","ErrorBar");function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){XTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XTe(e,t,r){return t=QTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QTe(e){var t=ZTe(e,"string");return Om(t)=="symbol"?t:t+""}function ZTe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VH=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ma(r,no);if(!s)return null;var l=no.defaultProps,c=l!==void 0?Zl(Zl({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Zl(Zl({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:EO(f),value:m||g,payload:p}}),Zl(Zl(Zl({},c),no.getWithHeight(s,a)),{},{payload:u,item:s})};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function hR(e){return n2e(e)||r2e(e)||t2e(e)||e2e()}function e2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t2e(e,t){if(e){if(typeof e=="string")return zN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(e,t)}}function r2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function n2e(e){if(Array.isArray(e))return zN(e)}function zN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Id(e,t,r){return t=a2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2e(e){var t=i2e(e,"string");return Am(t)=="symbol"?t:t+""}function i2e(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return Ye(e)||Ye(t)?r:Vr(t)?Ca(e,t,r):Be(t)?t(e):r}function _p(e,t,r,n){var a=rTe(e,function(l){return _r(l,t)});if(r==="number"){var i=a.filter(function(l){return he(l)||parseFloat(l)});return i.length?[xw(i),cl(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Ye(l)}):a;return s.map(function(l){return Vr(l)||l instanceof Date?l:""})}var s2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Un(f-d)!==Un(h-f)){var g=[];if(Un(h-f)===Un(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},EO=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},o2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,b=m.filter(function(k){return ro(k.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?gr(gr({},y),b[0].props):b[0].props,_=w.barSize,S=w[v];s[S]||(s[S]=[]);var N=Ye(_)?r:_;s[S].push({item:b[0],stackList:b.slice(1),barSize:Ye(N)?void 0:zn(N,n,0)})}}return s},l2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=zn(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,g=s.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},k=[].concat(hR(_),[N]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:v})}),k},f)}else{var b=zn(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var y=(a-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=s.reduce(function(_,S,N){var k=[].concat(hR(_),[{item:S.item,position:{offset:b+(y+u)*N+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return d},c2e=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=VH({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&he(t[p]))return gr(gr({},t),{},Id({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&he(t[g]))return gr(gr({},t),{},Id({},g,t[g]+(h||0)))}return t},u2e=function(t,r,n){return Ye(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WH=function(t,r,n,a,i){var s=r.props.children,l=Ea(s,Ag).filter(function(u){return u2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_r(d,n);if(Ye(f))return u;var h=Array.isArray(f)?[xw(f),cl(f)]:[f,f],p=c.reduce(function(g,m){var v=_r(d,m,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},d2e=function(t,r,n,a,i){var s=r.map(function(l){return WH(t,l,n,i,a)}).filter(function(l){return!Ye(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HH=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WH(t,c,u,a)||_p(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},qH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},KH=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Qs=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Un(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!fh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Pj=new WeakMap,kv=function(t,r){if(typeof r!="function")return t;Pj.has(t)||Pj.set(t,new WeakMap);var n=Pj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},GH=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:jm(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Hx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wp(),realScaleType:"point"}:i==="category"?{scale:jm(),realScaleType:"band"}:{scale:Hx(),realScaleType:"linear"};if(ru(a)){var c="scale".concat(aw(a));return{scale:(oR[c]||wp)(),realScaleType:oR[c]?c:"point"}}return Be(a)?{scale:a}:{scale:wp(),realScaleType:"point"}},mR=1e-4,YH=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-mR,s=Math.max(a[0],a[1])+mR,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},f2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},h2e=function(t,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!he(t[0])||t[0]<n)&&(i[0]=n),(!he(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},p2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=fh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},m2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=fh(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},g2e={sign:p2e,expand:I0e,none:gf,silhouette:R0e,wiggle:D0e,positive:m2e},v2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=g2e[n],s=$0e().keys(a).value(function(l,c){return+_r(l,c,0)}).order(hN).offset(i);return s(t)},y2e=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Vr(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[_u("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return gr(gr({},f),{},Id({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return gr(gr({},m),{},Id({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:v2e(t,b.items,i)}))},g)}return gr(gr({},f),{},Id({},h,p))},d)},JH=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=TTe(u,i,l);return t.domain([xw(d),cl(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=MTe(f,i,l);return{niceTicks:h}}return null};function Qx(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var l=jx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_r(a,Ye(s)?t.dataKey:s);return Ye(c)?null:t.scale(c)}var gR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_r(s,r.dataKey,r.domain[l]);return Ye(c)?null:r.scale(c)-i/2+a},x2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},b2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Vr(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},w2e=function(t){return t.reduce(function(r,n){return[xw(n.concat([r[0]]).filter(he)),cl(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},XH=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=w2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},vR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VN=function(t,r,n){if(Be(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(he(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(vR.test(t[0])){var i=+vR.exec(t[0])[1];a[0]=r[0]-i}else Be(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(he(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(yR.test(t[1])){var s=+yR.exec(t[1])[1];a[1]=r[1]+s}else Be(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Zx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=rO(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},xR=function(t,r,n){return!t||!t.length||iu(t,Ca(n,"type.defaultProps.domain"))?r:t},QH=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},Ie(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:EO(t),value:_r(r,a),type:c,payload:r,chartType:u,hide:d})};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){ZH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZH(e,t,r){return t=_2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _2e(e){var t=j2e(e,"string");return Tm(t)=="symbol"?t:t+""}function j2e(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2e(e,t){return E2e(e)||C2e(e,t)||k2e(e,t)||N2e()}function N2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(e,t){if(e){if(typeof e=="string")return wR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wR(e,t)}}function wR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function E2e(e){if(Array.isArray(e))return e}var eb=Math.PI/180,P2e=function(t){return t*180/Math.PI},Wt=function(t,r,n,a){return{x:t+Math.cos(-eb*a)*n,y:r+Math.sin(-eb*a)*n}},eq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},O2e=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=zn(t.cx,s,s/2),f=zn(t.cy,l,l/2),h=eq(s,l,n),p=zn(t.innerRadius,h,0),g=zn(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,b){var y=r[b],w=y.domain,_=y.reversed,S;if(Ye(y.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,g]),_&&(S=[S[1],S[0]]);else{S=y.range;var N=S,k=S2e(N,2);c=k[0],u=k[1]}var C=GH(y,i),A=C.realScaleType,T=C.scale;T.domain(w).range(S),YH(T);var $=JH(T,zs(zs({},y),{},{realScaleType:A})),O=zs(zs(zs({},y),$),{},{range:S,radius:g,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return zs(zs({},v),{},ZH({},b,O))},{})},A2e=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},T2e=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=A2e({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:P2e(u),angleInRadian:u}},M2e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},$2e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},_R=function(t,r){var n=t.x,a=t.y,i=T2e({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=M2e(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?zs(zs({},r),{},{radius:s,angle:$2e(p,r)}):null},tq=function(t){return!x.isValidElement(t)&&!Be(t)&&typeof t!="boolean"?t.className:""};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}var I2e=["offset"];function R2e(e){return B2e(e)||F2e(e)||L2e(e)||D2e()}function D2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L2e(e,t){if(e){if(typeof e=="string")return WN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WN(e,t)}}function F2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B2e(e){if(Array.isArray(e))return WN(e)}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U2e(e,t){if(e==null)return{};var r=z2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){V2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V2e(e,t,r){return t=W2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2e(e){var t=H2e(e,"string");return Mm(t)=="symbol"?t:t+""}function H2e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(this,arguments)}var q2e=function(t){var r=t.value,n=t.formatter,a=Ye(t.children)?r:t.children;return Be(n)?n(a):a},K2e=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),360);return n*a},G2e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,b=K2e(p,g),y=b>=0?1:-1,w,_;a==="insideStart"?(w=p+y*s,_=m):a==="insideEnd"?(w=g-y*s,_=!m):a==="end"&&(w=g+y*s,_=m),_=b<=0?_:!_;var S=Wt(u,d,v,w),N=Wt(u,d,v,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Ye(t.id)?_u("recharts-radial-line-"):t.id;return M.createElement("text",$m({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:C,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Y2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Wt(s,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Wt(s,l,v,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},J2e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,b=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Rr(Rr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Rr(Rr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?Rr({x:l+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},k):i==="insideRight"?Rr({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Rr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Rr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?Rr({x:l+v,y:c+h,textAnchor:y,verticalAnchor:g},k):i==="insideTopRight"?Rr({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideBottomLeft"?Rr({x:l+v,y:c+d-h,textAnchor:y,verticalAnchor:p},k):i==="insideBottomRight"?Rr({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},k):lh(i)&&(he(i.x)||_c(i.x))&&(he(i.y)||_c(i.y))?Rr({x:l+zn(i.x,u),y:c+zn(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):Rr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},X2e=function(t){return"cx"in t&&he(t.cx)};function en(e){var t=e.offset,r=t===void 0?5:t,n=U2e(e,I2e),a=Rr({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ye(l)&&Ye(c)&&!x.isValidElement(u)&&!Be(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var p;if(Be(u)){if(p=x.createElement(u,a),x.isValidElement(p))return p}else p=q2e(a);var g=X2e(i),m=Ie(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return G2e(a,p,m);var v=g?Y2e(a):J2e(a);return M.createElement(au,$m({className:Xe("recharts-label",f)},m,v,{breakAll:h}),p)}en.displayName="Label";var rq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(he(m)&&he(v)){if(he(f)&&he(h))return{x:f,y:h,width:m,height:v};if(he(p)&&he(g))return{x:p,y:g,width:m,height:v}}return he(f)&&he(h)?{x:f,y:h,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},Q2e=function(t,r){return t?t===!0?M.createElement(en,{key:"label-implicit",viewBox:r}):Vr(t)?M.createElement(en,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===en?x.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):Be(t)?M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):lh(t)?M.createElement(en,$m({viewBox:r},t,{key:"label-implicit"})):null:null},Z2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=rq(t),s=Ea(a,en).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=Q2e(t.label,r||i);return[l].concat(R2e(s))};en.parseViewBox=rq;en.renderCallByParent=Z2e;function eMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tMe=eMe;const rMe=kt(tMe);function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var nMe=["valueAccessor"],aMe=["data","dataKey","clockWise","id","textBreakAll"];function iMe(e){return cMe(e)||lMe(e)||oMe(e)||sMe()}function sMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oMe(e,t){if(e){if(typeof e=="string")return HN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(e,t)}}function lMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cMe(e){if(Array.isArray(e))return HN(e)}function HN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){uMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uMe(e,t,r){return t=dMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dMe(e){var t=fMe(e,"string");return Im(t)=="symbol"?t:t+""}function fMe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kR(e,t){if(e==null)return{};var r=hMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pMe=function(t){return Array.isArray(t.value)?rMe(t.value):t.value};function bs(e){var t=e.valueAccessor,r=t===void 0?pMe:t,n=kR(e,nMe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=kR(n,aMe);return!a||!a.length?null:M.createElement(ot,{className:"recharts-label-list"},a.map(function(d,f){var h=Ye(i)?r(d,f):_r(d&&d.payload,i),p=Ye(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(en,tb({},Ie(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:en.parseViewBox(Ye(s)?d:NR(NR({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}bs.displayName="LabelList";function mMe(e,t){return e?e===!0?M.createElement(bs,{key:"labelList-implicit",data:t}):M.isValidElement(e)||Be(e)?M.createElement(bs,{key:"labelList-implicit",data:t,content:e}):lh(e)?M.createElement(bs,tb({data:t},e,{key:"labelList-implicit"})):null:null}function gMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ea(n,bs).map(function(s,l){return x.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=mMe(e.label,t);return[i].concat(iMe(a))}bs.renderCallByParent=gMe;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){vMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vMe(e,t,r){return t=yMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yMe(e){var t=xMe(e,"string");return Rm(t)=="symbol"?t:t+""}function xMe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bMe=function(t,r){var n=Un(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Cv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/eb,h=u?i:i+s*f,p=Wt(r,n,d,h),g=Wt(r,n,a,h),m=u?i-s*f:i,v=Wt(r,n,d*Math.cos(f*eb),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},nq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=bMe(s,l),u=s+c,d=Wt(r,n,i,s),f=Wt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Wt(r,n,a,s),g=Wt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wMe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Un(d-u),h=Cv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Cv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,y=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):nq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var N=Cv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=N.circleTangency,C=N.lineTangency,A=N.theta,T=Cv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=T.circleTangency,O=T.lineTangency,L=T.theta,I=c?Math.abs(u-d):Math.abs(u-d)-A-L;if(I<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},_Me={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aq=function(t){var r=ER(ER({},_Me),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=Xe("recharts-sector",h),g=s-i,m=zn(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=wMe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=nq({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",qN({},Ie(r,!0),{className:p,d:v,role:"img"}))};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KN.apply(this,arguments)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){jMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jMe(e,t,r){return t=SMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SMe(e){var t=NMe(e,"string");return Dm(t)=="symbol"?t:t+""}function NMe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AR={curveBasisClosed:j0e,curveBasisOpen:S0e,curveBasis:_0e,curveBumpX:l0e,curveBumpY:c0e,curveLinearClosed:N0e,curveLinear:sw,curveMonotoneX:k0e,curveMonotoneY:C0e,curveNatural:E0e,curveStep:P0e,curveStepAfter:A0e,curveStepBefore:O0e},Ev=function(t){return t.x===+t.x&&t.y===+t.y},Uh=function(t){return t.x},zh=function(t){return t.y},kMe=function(t,r){if(Be(t))return t;var n="curve".concat(aw(t));return(n==="curveMonotone"||n==="curveBump")&&r?AR["".concat(n).concat(r==="vertical"?"Y":"X")]:AR[n]||sw},CMe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=kMe(n,l),f=u?i.filter(function(m){return Ev(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return Ev(m)}):s,g=f.map(function(m,v){return OR(OR({},m),{},{base:p[v]})});return l==="vertical"?h=yv().y(zh).x1(Uh).x0(function(m){return m.base.x}):h=yv().x(Uh).y1(zh).y0(function(m){return m.base.y}),h.defined(Ev).curve(d),h(g)}return l==="vertical"&&he(s)?h=yv().y(zh).x1(Uh).x0(s):he(s)?h=yv().x(Uh).y1(zh).y0(s):h=ZW().x(Uh).y(zh),h.defined(Ev).curve(d),h(f)},Bc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?CMe(t):a;return x.createElement("path",KN({},Ie(t,!1),Sx(t),{className:Xe("recharts-curve",r),d:s,ref:i}))},iq={exports:{}},EMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PMe=EMe,OMe=PMe;function sq(){}function oq(){}oq.resetWarningCache=sq;var AMe=function(){function e(n,a,i,s,l,c){if(c!==OMe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oq,resetWarningCache:sq};return r.PropTypes=r,r};iq.exports=AMe();var TMe=iq.exports;const St=kt(TMe),{getOwnPropertyNames:MMe,getOwnPropertySymbols:$Me}=Object,{hasOwnProperty:IMe}=Object.prototype;function Oj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Pv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function RMe(e){return e!=null?e[Symbol.toStringTag]:void 0}function TR(e){return MMe(e).concat($Me(e))}const DMe=Object.hasOwn||((e,t)=>IMe.call(e,t));function Nu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const LMe="__v",FMe="__o",BMe="_owner",{getOwnPropertyDescriptor:MR,keys:$R}=Object;function UMe(e,t){return e.byteLength===t.byteLength&&rb(new Uint8Array(e),new Uint8Array(t))}function zMe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VMe(e,t){return e.byteLength===t.byteLength&&rb(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function WMe(e,t){return Nu(e.getTime(),t.getTime())}function HMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function qMe(e,t){return e===t}function IR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,l,c=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const KMe=Nu;function GMe(e,t,r){const n=$R(e);let a=n.length;if($R(t).length!==a)return!1;for(;a-- >0;)if(!lq(e,t,r,n[a]))return!1;return!0}function Vh(e,t,r){const n=TR(e);let a=n.length;if(TR(t).length!==a)return!1;let i,s,l;for(;a-- >0;)if(i=n[a],!lq(e,t,r,i)||(s=MR(e,i),l=MR(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function YMe(e,t){return Nu(e.valueOf(),t.valueOf())}function JMe(e,t){return e.source===t.source&&e.flags===t.flags}function RR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,l;for(;(s=i.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function rb(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function XMe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lq(e,t,r,n){return(n===BMe||n===FMe||n===LMe)&&(e.$$typeof||t.$$typeof)?!0:DMe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const QMe="[object ArrayBuffer]",ZMe="[object Arguments]",e$e="[object Boolean]",t$e="[object DataView]",r$e="[object Date]",n$e="[object Error]",a$e="[object Map]",i$e="[object Number]",s$e="[object Object]",o$e="[object RegExp]",l$e="[object Set]",c$e="[object String]",u$e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},d$e="[object URL]",f$e=Object.prototype.toString;function h$e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,b,y){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,y):w==="function"?i(v,b,y):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,y);if(Array.isArray(v))return t(v,b,y);if(_===Date)return n(v,b,y);if(_===RegExp)return d(v,b,y);if(_===Map)return s(v,b,y);if(_===Set)return f(v,b,y);const S=f$e.call(v);if(S===r$e)return n(v,b,y);if(S===o$e)return d(v,b,y);if(S===a$e)return s(v,b,y);if(S===l$e)return f(v,b,y);if(S===s$e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,y);if(S===d$e)return p(v,b,y);if(S===n$e)return a(v,b,y);if(S===ZMe)return c(v,b,y);if(u$e[S])return h(v,b,y);if(S===QMe)return e(v,b,y);if(S===t$e)return r(v,b,y);if(S===e$e||S===i$e||S===c$e)return u(v,b,y);if(g){let N=g[S];if(!N){const k=RMe(v);k&&(N=g[k])}if(N)return N(v,b,y)}return!1}}function p$e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:UMe,areArraysEqual:r?Vh:zMe,areDataViewsEqual:VMe,areDatesEqual:WMe,areErrorsEqual:HMe,areFunctionsEqual:qMe,areMapsEqual:r?Oj(IR,Vh):IR,areNumbersEqual:KMe,areObjectsEqual:r?Vh:GMe,arePrimitiveWrappersEqual:YMe,areRegExpsEqual:JMe,areSetsEqual:r?Oj(RR,Vh):RR,areTypedArraysEqual:r?Oj(rb,Vh):rb,areUrlsEqual:XMe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Pv(n.areArraysEqual),i=Pv(n.areMapsEqual),s=Pv(n.areObjectsEqual),l=Pv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return n}function m$e(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function g$e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const v$e=ql();ql({strict:!0});ql({circular:!0});ql({circular:!0,strict:!0});ql({createInternalComparator:()=>Nu});ql({strict:!0,createInternalComparator:()=>Nu});ql({circular:!0,createInternalComparator:()=>Nu});ql({circular:!0,createInternalComparator:()=>Nu,strict:!0});function ql(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=p$e(e),s=h$e(i),l=r?r(s):m$e(s);return g$e({circular:t,comparator:s,createState:n,equals:l,strict:a})}function y$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function DR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):y$e(a)};requestAnimationFrame(n)}function GN(e){"@babel/helpers - typeof";return GN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GN(e)}function x$e(e){return j$e(e)||_$e(e)||w$e(e)||b$e()}function b$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w$e(e,t){if(e){if(typeof e=="string")return LR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LR(e,t)}}function LR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j$e(e){if(Array.isArray(e))return e}function S$e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=x$e(s),c=l[0],u=l.slice(1);if(typeof c=="number"){DR(a.bind(null,u),c);return}a(c),DR(a.bind(null,u));return}GN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return t=N$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N$e(e){var t=k$e(e,"string");return Lm(t)==="symbol"?t:String(t)}function k$e(e,t){if(Lm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},E$e=function(t){return t},P$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jp=function(t,r){return Object.keys(r).reduce(function(n,a){return BR(BR({},n),{},cq({},a,t(a,r[a])))},{})},UR=function(t,r,n){return t.map(function(a){return"".concat(P$e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function O$e(e,t){return M$e(e)||T$e(e,t)||uq(e,t)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function M$e(e){if(Array.isArray(e))return e}function $$e(e){return D$e(e)||R$e(e)||uq(e)||I$e()}function I$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uq(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function R$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D$e(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nb=1e-4,dq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},zR=function(t,r){return function(n){var a=dq(t,r);return fq(a,n)}},L$e=function(t,r){return function(n){var a=dq(t,r),i=[].concat($$e(a.map(function(s,l){return s*l}).slice(1)),[0]);return fq(i,n)}},VR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=O$e(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=zR(a,s),h=zR(i,l),p=L$e(a,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var S=f(w)-y,N=p(w);if(Math.abs(S-y)<nb||N<nb)return h(w);w=g(w-S/N)}return h(w)};return m.isStepper=!1,m},F$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<nb&&Math.abs(m)<nb?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},B$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VR(a);case"spring":return F$e();default:if(a.split("(")[0]==="cubic-bezier")return VR(a)}return typeof a=="function"?a:null};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function WR(e){return V$e(e)||z$e(e)||hq(e)||U$e()}function U$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function V$e(e){if(Array.isArray(e))return XN(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){JN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JN(e,t,r){return t=W$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$e(e){var t=H$e(e,"string");return Fm(t)==="symbol"?t:String(t)}function H$e(e,t){if(Fm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q$e(e,t){return Y$e(e)||G$e(e,t)||hq(e,t)||K$e()}function K$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Y$e(e){if(Array.isArray(e))return e}var ab=function(t,r,n){return t+(r-t)*n},QN=function(t){var r=t.from,n=t.to;return r!==n},J$e=function e(t,r,n){var a=jp(function(i,s){if(QN(s)){var l=t(s.from,s.to,s.velocity),c=q$e(l,2),u=c[0],d=c[1];return ln(ln({},s),{},{from:u,velocity:d})}return s},r);return n<1?jp(function(i,s){return QN(s)?ln(ln({},s),{},{velocity:ab(s.velocity,a[i].velocity,n),from:ab(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const X$e=function(e,t,r,n,a){var i=C$e(e,t),s=i.reduce(function(v,b){return ln(ln({},v),{},JN({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return ln(ln({},v),{},JN({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return jp(function(b,y){return y.from},l)},p=function(){return!Object.values(l).filter(QN).length},g=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=J$e(r,l,w),a(ln(ln(ln({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var y=(b-d)/n,w=jp(function(S,N){return ab.apply(void 0,WR(N).concat([r(y)]))},s);if(a(ln(ln(ln({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var _=jp(function(S,N){return ab.apply(void 0,WR(N).concat([r(1)]))},s);a(ln(ln(ln({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}var Q$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Z$e(e,t){if(e==null)return{};var r=eIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Aj(e){return aIe(e)||nIe(e)||rIe(e)||tIe()}function tIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rIe(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function nIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aIe(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){rp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rp(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pq(n.key),n)}}function oIe(e,t,r){return t&&sIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pq(e){var t=lIe(e,"string");return Nf(t)==="symbol"?t:String(t)}function lIe(e,t){if(Nf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ek(e,t)}function uIe(e){var t=dIe();return function(){var n=ib(e),a;if(t){var i=ib(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return tk(this,a)}}function tk(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rk(e)}function rk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}var Gi=function(e){cIe(r,e);var t=uIe(r);function r(n,a){var i;iIe(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(rk(i)),i.changeStyle=i.changeStyle.bind(rk(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),tk(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},tk(i);i.state={style:c?rp({},c,u):u}}else i.state={style:{}};return i}return oIe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var p={style:c?rp({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(v$e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var v={style:c?rp({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(pi(pi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=X$e(s,l,B$e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,b){if(b===0)return m;var y=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,N=v.properties,k=v.onAnimationEnd,C=b>0?s[b-1]:v,A=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Aj(m),[i.runJSAnimation.bind(i,{from:C.style,to:S,duration:y,easing:_}),y]);var T=UR(A,y,_),$=pi(pi(pi({},C.style),S),{},{transition:T});return[].concat(Aj(m),[$,y,k]).filter(E$e)};return this.manager.start([c].concat(Aj(s.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=S$e());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?rp({},l,c):c,v=UR(Object.keys(m),s,u);g.start([d,i,pi(pi({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Z$e(a,Q$e),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,y=x.cloneElement(p,pi(pi({},c),{},{style:pi(pi({},v),d),className:b}));return y};return u===1?f(x.Children.only(i)):M.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Gi.displayName="Animate";Gi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Gi.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sb.apply(this,arguments)}function fIe(e,t){return gIe(e)||mIe(e,t)||pIe(e,t)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pIe(e,t){if(e){if(typeof e=="string")return KR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KR(e,t)}}function KR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gIe(e){if(Array.isArray(e))return e}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){vIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vIe(e,t,r){return t=yIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yIe(e){var t=xIe(e,"string");return Bm(t)=="symbol"?t:t+""}function xIe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},bIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},wIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PO=function(t){var r=YR(YR({},wIe),t),n=x.useRef(),a=x.useState(-1),i=fIe(a,2),s=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=Xe("recharts-rectangle",p);return y?M.createElement(Gi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:y},function(_){var S=_.width,N=_.height,k=_.x,C=_.y;return M.createElement(Gi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},M.createElement("path",sb({},Ie(r,!0),{className:w,d:JR(k,C,S,N,h),ref:n})))}):M.createElement("path",sb({},Ie(r,!0),{className:w,d:JR(c,u,d,f,h)}))},_Ie=["points","className","baseLinePoints","connectNulls"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function jIe(e,t){if(e==null)return{};var r=SIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function XR(e){return EIe(e)||CIe(e)||kIe(e)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kIe(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function CIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EIe(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var QR=function(t){return t&&t.x===+t.x&&t.y===+t.y},PIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){QR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),QR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sp=function(t,r){var n=PIe(t);r&&(n=[n.reduce(function(i,s){return[].concat(XR(i),XR(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},OIe=function(t,r,n){var a=Sp(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Sp(r.reverse(),n).slice(1))},AIe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=jIe(t,_Ie);if(!r||!r.length)return null;var l=Xe("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=OIe(r,a,i);return M.createElement("g",{className:l},M.createElement("path",gd({},Ie(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?M.createElement("path",gd({},Ie(s,!0),{fill:"none",d:Sp(r,i)})):null,c?M.createElement("path",gd({},Ie(s,!0),{fill:"none",d:Sp(a,i)})):null)}var d=Sp(r,i);return M.createElement("path",gd({},Ie(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ak.apply(this,arguments)}var Tg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Xe("recharts-dot",i);return r===+r&&n===+n&&a===+a?x.createElement("circle",ak({},Ie(t,!1),Sx(t),{className:s,cx:r,cy:n,r:a})):null};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}var TIe=["x","y","top","left","width","height","className"];function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){$Ie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ie(e,t,r){return t=IIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IIe(e){var t=RIe(e,"string");return Um(t)=="symbol"?t:t+""}function RIe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DIe(e,t){if(e==null)return{};var r=LIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FIe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},BIe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=DIe(t,TIe),v=MIe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!he(n)||!he(i)||!he(f)||!he(p)||!he(l)||!he(u)?null:M.createElement("path",ik({},Ie(v,!0),{className:Xe("recharts-cross",g),d:FIe(n,i,f,p,l,u)}))},UIe=yw,zIe=kH,VIe=Os;function WIe(e,t){return e&&e.length?UIe(e,VIe(t),zIe):void 0}var HIe=WIe;const qIe=kt(HIe);var KIe=yw,GIe=Os,YIe=CH;function JIe(e,t){return e&&e.length?KIe(e,GIe(t),YIe):void 0}var XIe=JIe;const QIe=kt(XIe);var ZIe=["cx","cy","angle","ticks","axisLine"],eRe=["ticks","tick","angle","tickFormatter","stroke"];function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){_w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tD(e,t){if(e==null)return{};var r=tRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gq(n.key),n)}}function nRe(e,t,r){return t&&rD(e.prototype,t),r&&rD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function aRe(e,t,r){return t=ob(t),iRe(e,mq()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function iRe(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sRe(e)}function sRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mq=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function oRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sk(e,t)}function _w(e,t,r){return t=gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=lRe(e,"string");return kf(t)=="symbol"?t:t+""}function lRe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jw=function(e){function t(){return rRe(this,t),aRe(this,t,arguments)}return oRe(t,e),nRe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Wt(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=qIe(l,function(d){return d.coordinate||0}),u=QIe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=tD(n,ZIe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Wt(a,i,d[0],s),h=Wt(a,i,d[1],s),p=ec(ec(ec({},Ie(u,!1)),{},{fill:"none"},Ie(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Np({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=tD(a,eRe),f=this.getTickTextAnchor(),h=Ie(d,!1),p=Ie(s,!1),g=i.map(function(m,v){var b=n.getTickValueCoord(m),y=ec(ec(ec(ec({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:m});return M.createElement(ot,Np({className:Xe("recharts-polar-radius-axis-tick",tq(s)),key:"tick-".concat(m.coordinate)},nu(n.props,m,v)),t.renderTickItem(s,y,c?c(m.value,v):m.value))});return M.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:M.createElement(ot,{className:Xe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),en.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return M.isValidElement(n)?s=M.cloneElement(n,a):Be(n)?s=n(a):s=M.createElement(au,Np({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(x.PureComponent);_w(jw,"displayName","PolarRadiusAxis");_w(jw,"axisType","radiusAxis");_w(jw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(this,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(n){Sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yq(n.key),n)}}function uRe(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dRe(e,t,r){return t=lb(t),fRe(e,vq()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function fRe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hRe(e)}function hRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function pRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ok(e,t)}function Sw(e,t,r){return t=yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=mRe(e,"string");return Cf(t)=="symbol"?t:t+""}function mRe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gRe=Math.PI/180,iD=1e-5,Nw=function(e){function t(){return cRe(this,t),dRe(this,t,arguments)}return pRe(t,e),uRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Wt(i,s,l,n.coordinate),h=Wt(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*gRe),s;return i>iD?s=a==="outer"?"start":"end":i<-iD?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=tc(tc({},Ie(this.props,!1)),{},{fill:"none"},Ie(l,!1));if(c==="circle")return M.createElement(Tg,mc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return Wt(a,i,s,h.coordinate)});return M.createElement(AIe,mc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Ie(this.props,!1),f=Ie(s,!1),h=tc(tc({},d),{},{fill:"none"},Ie(l,!1)),p=i.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=tc(tc(tc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return M.createElement(ot,mc({className:Xe("recharts-polar-angle-axis-tick",tq(s)),key:"tick-".concat(g.coordinate)},nu(n.props,g,m)),l&&M.createElement("line",mc({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,y,c?c(g.value,m):g.value))});return M.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:M.createElement(ot,{className:Xe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return M.isValidElement(n)?s=M.cloneElement(n,a):Be(n)?s=n(a):s=M.createElement(au,mc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(x.PureComponent);Sw(Nw,"displayName","PolarAngleAxis");Sw(Nw,"axisType","angleAxis");Sw(Nw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vRe=j9,yRe=vRe(Object.getPrototypeOf,Object),xRe=yRe,bRe=ko,wRe=xRe,_Re=Co,jRe="[object Object]",SRe=Function.prototype,NRe=Object.prototype,xq=SRe.toString,kRe=NRe.hasOwnProperty,CRe=xq.call(Object);function ERe(e){if(!_Re(e)||bRe(e)!=jRe)return!1;var t=wRe(e);if(t===null)return!0;var r=kRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xq.call(r)==CRe}var PRe=ERe;const ORe=kt(PRe);var ARe=ko,TRe=Co,MRe="[object Boolean]";function $Re(e){return e===!0||e===!1||TRe(e)&&ARe(e)==MRe}var IRe=$Re;const RRe=kt(IRe);function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function DRe(e,t){return URe(e)||BRe(e,t)||FRe(e,t)||LRe()}function LRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FRe(e,t){if(e){if(typeof e=="string")return sD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sD(e,t)}}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function URe(e){if(Array.isArray(e))return e}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){zRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zRe(e,t,r){return t=VRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VRe(e){var t=WRe(e,"string");return zm(t)=="symbol"?t:t+""}function WRe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cD=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},HRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qRe=function(t){var r=lD(lD({},HRe),t),n=x.useRef(),a=x.useState(-1),i=DRe(a,2),s=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Xe("recharts-trapezoid",p);return b?M.createElement(Gi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,N=w.height,k=w.x,C=w.y;return M.createElement(Gi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},M.createElement("path",cb({},Ie(r,!0),{className:y,d:cD(k,C,_,S,N),ref:n})))}):M.createElement("g",null,M.createElement("path",cb({},Ie(r,!0),{className:y,d:cD(c,u,d,f,h)})))},KRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function GRe(e,t){if(e==null)return{};var r=YRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ub(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(r),!0).forEach(function(n){JRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t,r){return t=XRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XRe(e){var t=QRe(e,"string");return Vm(t)=="symbol"?t:t+""}function QRe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZRe(e,t){return ub(ub({},t),e)}function eDe(e,t){return e==="symbols"}function dD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(PO,r);case"trapezoid":return M.createElement(qRe,r);case"sector":return M.createElement(aq,r);case"symbols":if(eDe(t))return M.createElement(GP,r);break;default:return null}}function tDe(e){return x.isValidElement(e)?e.props:e}function bq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ZRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=GRe(e,KRe),u;if(x.isValidElement(t))u=x.cloneElement(t,ub(ub({},c),tDe(t)));else if(Be(t))u=t(c);else if(ORe(t)&&!RRe(t)){var d=a(t,c);u=M.createElement(dD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(dD,{shapeType:r,elementProps:f})}return l?M.createElement(ot,{className:s},u):u}function kw(e,t){return t!=null&&"trapezoids"in e.props}function Cw(e,t){return t!=null&&"sectors"in e.props}function Wm(e,t){return t!=null&&"points"in e.props}function rDe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function nDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function aDe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function iDe(e,t){var r;return kw(e,t)?r=rDe:Cw(e,t)?r=nDe:Wm(e,t)&&(r=aDe),r}function sDe(e,t){var r;return kw(e,t)?r="trapezoids":Cw(e,t)?r="sectors":Wm(e,t)&&(r="points"),r}function oDe(e,t){if(kw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Cw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wm(e,t)?t.payload:{}}function lDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=sDe(r,t),i=oDe(r,t),s=n.filter(function(c,u){var d=iu(i,c),f=r.props[a].filter(function(g){var m=iDe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var my;function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){Va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_q(n.key),n)}}function uDe(e,t,r){return t&&hD(e.prototype,t),r&&hD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dDe(e,t,r){return t=db(t),fDe(e,wq()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function fDe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hDe(e)}function hDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wq=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(e)}function pDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lk(e,t)}function lk(e,t){return lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lk(e,t)}function Va(e,t,r){return t=_q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=mDe(e,"string");return Ef(t)=="symbol"?t:t+""}function mDe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Po=function(e){function t(r){var n;return cDe(this,t),n=dDe(this,t,[r]),Va(n,"pieRef",null),Va(n,"sectorRefs",[]),Va(n,"id",_u("recharts-pie-")),Va(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Be(a)&&a()}),Va(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Be(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return pDe(t,e),uDe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Ie(this.props,!1),f=Ie(s,!1),h=Ie(l,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,y=Wt(m.cx,m.cy,m.outerRadius+p,b),w=Ft(Ft(Ft(Ft({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,m.cx)},y),_=Ft(Ft(Ft(Ft({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Wt(m.cx,m.cy,m.outerRadius,b),y]}),S=c;return Ye(c)&&Ye(u)?S="value":Ye(c)&&(S=u),M.createElement(ot,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,w,_r(m,S)))});return M.createElement(ot,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,g=Ft(Ft({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(ot,vd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},nu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(bq,vd({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Gi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=i&&i[0],y=b.startAngle;return i.forEach(function(w,_){var S=h&&h[_],N=_>0?Ca(w,"paddingAngle",0):0;if(S){var k=Br(S.endAngle-S.startAngle,w.endAngle-w.startAngle),C=Ft(Ft({},w),{},{startAngle:y+N,endAngle:y+k(m)+N});v.push(C),y=C.endAngle}else{var A=w.endAngle,T=w.startAngle,$=Br(0,A-T),O=$(m),L=Ft(Ft({},w),{},{startAngle:y+N,endAngle:y+O+N});v.push(L),y=L.endAngle}}),M.createElement(ot,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!iu(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!he(u)||!he(d)||!he(f)||!he(h))return null;var m=Xe("recharts-pie",l);return M.createElement(ot,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),en.renderCallByParent(this.props,null,!1),(!p||g)&&bs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);if(Be(n))return n(a);var s=Xe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Bc,vd({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);var s=i;if(Be(n)&&(s=n(a),M.isValidElement(s)))return s;var l=Xe("recharts-pie-label-text",typeof n!="boolean"&&!Be(n)?n.className:"");return M.createElement(au,vd({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(x.PureComponent);my=Po;Va(Po,"displayName","Pie");Va(Po,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Va(Po,"parseDeltaAngle",function(e,t){var r=Un(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Va(Po,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ie(e,!1),a=Ea(r,kg);return t&&t.length?t.map(function(i,s){return Ft(Ft(Ft({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Ft(Ft({},n),i.props)}):[]});Va(Po,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=eq(a,i),l=n+zn(e.cx,a,a/2),c=r+zn(e.cy,i,i/2),u=zn(e.innerRadius,s,0),d=zn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Va(Po,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=my.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=my.parseCoordinateOfPie(n,r),m=my.parseDeltaAngle(s,l),v=Math.abs(m),b=u;Ye(u)&&Ye(f)?(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ye(u)&&(Li(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=a.filter(function(C){return _r(C,b,0)!==0}).length,w=(v>=360?y:y-1)*c,_=v-y*p-w,S=a.reduce(function(C,A){var T=_r(A,b,0);return C+(he(T)?T:0)},0),N;if(S>0){var k;N=a.map(function(C,A){var T=_r(C,b,0),$=_r(C,d,A),O=(he(T)?T:0)/S,L;A?L=k.endAngle+Un(m)*c*(T!==0?1:0):L=s;var I=L+Un(m)*((T!==0?p:0)+O*_),B=(L+I)/2,H=(g.innerRadius+g.outerRadius)/2,V=[{name:$,value:T,payload:C,dataKey:b,type:h}],R=Wt(g.cx,g.cy,H,B);return k=Ft(Ft(Ft({percent:O,cornerRadius:i,name:$,tooltipPayload:V,midAngle:B,middleRadius:H,tooltipPosition:R},C),g),{},{value:_r(C,b),startAngle:L,endAngle:I,payload:C,paddingAngle:Un(m)*c}),k})}return Ft(Ft({},g),{},{sectors:N,data:a})});var gDe=Math.ceil,vDe=Math.max;function yDe(e,t,r,n){for(var a=-1,i=vDe(gDe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var xDe=yDe,bDe=z9,pD=1/0,wDe=17976931348623157e292;function _De(e){if(!e)return e===0?e:0;if(e=bDe(e),e===pD||e===-pD){var t=e<0?-1:1;return t*wDe}return e===e?e:0}var jq=_De,jDe=xDe,SDe=uw,Tj=jq;function NDe(e){return function(t,r,n){return n&&typeof n!="number"&&SDe(t,r,n)&&(r=n=void 0),t=Tj(t),r===void 0?(r=t,t=0):r=Tj(r),n=n===void 0?t<r?1:-1:Tj(n),jDe(t,r,n,e)}}var kDe=NDe,CDe=kDe,EDe=CDe(),PDe=EDe;const fb=kt(PDe);function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){Sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sq(e,t,r){return t=ODe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ODe(e){var t=ADe(e,"string");return Hm(t)=="symbol"?t:t+""}function ADe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TDe=["Webkit","Moz","O","ms"],MDe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=TDe.reduce(function(i,s){return gD(gD({},i),{},Sq({},s+n,r))},{});return a[t]=r,a};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(this,arguments)}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){ha(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kq(n.key),n)}}function IDe(e,t,r){return t&&yD(e.prototype,t),r&&yD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RDe(e,t,r){return t=pb(t),DDe(e,Nq()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function DDe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LDe(e)}function LDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function FDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ck(e,t)}function ha(e,t,r){return t=kq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=BDe(e,"string");return Pf(t)=="symbol"?t:t+""}function BDe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UDe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=wp().domain(fb(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},xD=function(t){return t.changedTouches&&!!t.changedTouches.length},Of=function(e){function t(r){var n;return $De(this,t),n=RDe(this,t,[r]),ha(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ha(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ha(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ha(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ha(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ha(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ha(n,"handleSlideDragStart",function(a){var i=xD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return FDe(t,e),IDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=_r(i[n],l,n);return Be(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=xD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[s]=u+y;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,N=function(){var C=v.length-1;return s==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===C||s==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===C};this.setState(ha(ha({},s,u+y),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ha({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),y=Mj(Mj({},Ie(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return M.createElement(ot,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(ot,{className:"recharts-brush-texts"},M.createElement(au,hb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},g),this.getTextOfTick(a)),M.createElement(au,hb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!he(l)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var w=Xe("recharts-brush",i),_=M.Children.count(s)===1,S=MDe("userSelect","none");return M.createElement(ot,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,a):Be(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Mj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?UDe({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(x.PureComponent);ha(Of,"displayName","Brush");ha(Of,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zDe=tO;function VDe(e,t){var r;return zDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var WDe=VDe,HDe=m9,qDe=Os,KDe=WDe,GDe=la,YDe=uw;function JDe(e,t,r){var n=GDe(e)?HDe:KDe;return r&&YDe(e,t,r)&&(t=void 0),n(e,qDe(t))}var XDe=JDe;const QDe=kt(XDe);var ws=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},bD=D9;function ZDe(e,t,r){t=="__proto__"&&bD?bD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var e4e=ZDe,t4e=e4e,r4e=I9,n4e=Os;function a4e(e,t){var r={};return t=n4e(t),r4e(e,function(n,a,i){t4e(r,a,t(n,a,i))}),r}var i4e=a4e;const s4e=kt(i4e);function o4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var l4e=o4e,c4e=tO;function u4e(e,t){var r=!0;return c4e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var d4e=u4e,f4e=l4e,h4e=d4e,p4e=Os,m4e=la,g4e=uw;function v4e(e,t,r){var n=m4e(e)?f4e:h4e;return r&&g4e(e,t,r)&&(t=void 0),n(e,p4e(t))}var y4e=v4e;const Cq=kt(y4e);var x4e=["x","y"];function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function uk(){return uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uk.apply(this,arguments)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){b4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4e(e,t,r){return t=w4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4e(e){var t=_4e(e,"string");return qm(t)=="symbol"?t:t+""}function _4e(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j4e(e,t){if(e==null)return{};var r=S4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function S4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N4e(e,t){var r=e.x,n=e.y,a=j4e(e,x4e),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wh(Wh(Wh(Wh(Wh({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _D(e){return M.createElement(bq,uk({shapeType:"rectangle",propTransformer:N4e,activeClassName:"recharts-active-bar"},e))}var k4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=he(n)||Gxe(n);return i?t(n,a):(i||ou(),r)}},C4e=["value","background"],Eq;function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function E4e(e,t){if(e==null)return{};var r=P4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){ul(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oq(n.key),n)}}function A4e(e,t,r){return t&&SD(e.prototype,t),r&&SD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T4e(e,t,r){return t=gb(t),M4e(e,Pq()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function M4e(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $4e(e)}function $4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function I4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(e,t)}function ul(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=R4e(e,"string");return Af(t)=="symbol"?t:t+""}function R4e(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ku=function(e){function t(){var r;O4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=T4e(this,t,[].concat(a)),ul(r,"state",{isAnimationFinished:!1}),ul(r,"id",_u("recharts-bar-")),ul(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ul(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return I4e(t,e),A4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Ie(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:s,m=Cr(Cr(Cr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(ot,mb({className:"recharts-bar-rectangle"},nu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(_D,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(Gi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,b){var y=h&&h[b];if(y){var w=Br(y.x,v.x),_=Br(y.y,v.y),S=Br(y.width,v.width),N=Br(y.height,v.height);return Cr(Cr({},v),{},{x:w(g),y:_(g),width:S(g),height:N(g)})}if(s==="horizontal"){var k=Br(0,v.height),C=k(g);return Cr(Cr({},v),{},{y:v.y+v.height-C,height:C})}var A=Br(0,v.width),T=A(g);return Cr(Cr({},v),{},{width:T})});return M.createElement(ot,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!iu(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=Ie(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=E4e(u,C4e);if(!f)return null;var p=Cr(Cr(Cr(Cr(Cr({},h),{},{fill:"#eee"},f),c),nu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(_D,mb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ea(d,Ag);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:_r(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ot,g,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=Xe("recharts-bar",s),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=y||w,S=Ye(m)?this.id:m;return M.createElement(ot,{className:b},y||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,M.createElement(ot,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||v)&&bs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);Eq=ku;ul(ku,"displayName","Bar");ul(ku,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ul(ku,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=f2e(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Cr(Cr({},m),r.props):r.props,b=v.dataKey,y=v.children,w=v.minPointSize,_=g==="horizontal"?s:i,S=u?_.scale.domain():null,N=x2e({numericAxis:_}),k=Ea(y,kg),C=f.map(function(A,T){var $,O,L,I,B,H;u?$=h2e(u[d+T],S):($=_r(A,b),Array.isArray($)||($=[N,$]));var V=k4e(w,Eq.defaultProps.minPointSize)($[1],T);if(g==="horizontal"){var R,U=[s.scale($[0]),s.scale($[1])],G=U[0],te=U[1];O=gR({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:A,index:T}),L=(R=te??G)!==null&&R!==void 0?R:void 0,I=p.size;var Q=G-te;if(B=Number.isNaN(Q)?0:Q,H={x:O,y:s.y,width:I,height:s.height},Math.abs(V)>0&&Math.abs(B)<Math.abs(V)){var j=Un(B||V)*(Math.abs(V)-Math.abs(B));L-=j,B+=j}}else{var P=[i.scale($[0]),i.scale($[1])],E=P[0],F=P[1];if(O=E,L=gR({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:A,index:T}),I=F-E,B=p.size,H={x:i.x,y:L,width:i.width,height:B},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var D=Un(I||V)*(Math.abs(V)-Math.abs(I));I+=D}}return Cr(Cr(Cr({},A),{},{x:O,y:L,width:I,height:B,value:u?$:$[1],payload:A,background:H},k&&k[T]&&k[T].props),{},{tooltipPayload:[QH(r,A)],tooltipPosition:{x:O+I/2,y:L+B/2}})});return Cr({data:C,layout:g},h)});function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function D4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ND(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aq(n.key),n)}}function L4e(e,t,r){return t&&ND(e.prototype,t),r&&ND(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Ew(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ew(e,t,r){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=F4e(e,"string");return Km(t)=="symbol"?t:t+""}function F4e(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OO=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ma(u,ku);return d.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,y=m.padding,w=y===void 0?{}:y,_=m.mirror,S=m.reversed,N="".concat(v).concat(_?"Mirror":""),k,C,A,T,$;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=b[1]-b[0],L=1/0,I=m.categoricalDomain.sort(Xxe);if(I.forEach(function(P,E){E>0&&(L=Math.min((P||0)-(I[E-1]||0),L))}),Number.isFinite(L)){var B=L/O,H=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=B*H/2),m.padding==="no-gap"){var V=zn(t.barCategoryGap,B*H),R=B*H/2;k=R-V-(R-V)/H*V}}}a==="xAxis"?C=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:C=m.range,S&&(C=[C[1],C[0]]);var U=GH(m,i,h),G=U.scale,te=U.realScaleType;G.domain(b).range(C),YH(G);var Q=JH(G,Ei(Ei({},m),{},{realScaleType:te}));a==="xAxis"?($=v==="top"&&!_||v==="bottom"&&_,A=n.left,T=f[N]-$*m.height):a==="yAxis"&&($=v==="left"&&!_||v==="right"&&_,A=f[N]-$*m.width,T=n.top);var j=Ei(Ei(Ei({},m),Q),{},{realScaleType:te,x:A,y:T,scale:G,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return j.bandSize=Zx(j,Q),!m.hide&&a==="xAxis"?f[N]+=($?-1:1)*j.height:m.hide||(f[N]+=($?-1:1)*j.width),Ei(Ei({},p),{},Ew({},g,j))},{})},Tq=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},B4e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Tq({x:r,y:n},{x:a,y:i})},Mq=function(){function e(t){D4e(this,e),this.scale=t}return L4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Ew(Mq,"EPS",1e-4);var AO=function(t){var r=Object.keys(t).reduce(function(n,a){return Ei(Ei({},n),{},Ew({},a,Mq.create(t[a])))},{});return Ei(Ei({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return s4e(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Cq(a,function(i,s){return r[s].isInRange(i)})}})};function U4e(e){return(e%180+180)%180}var z4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=U4e(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},V4e=Os,W4e=Ng,H4e=lw;function q4e(e){return function(t,r,n){var a=Object(t);if(!W4e(t)){var i=V4e(r);t=H4e(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var K4e=q4e,G4e=jq;function Y4e(e){var t=G4e(e),r=t%1;return t===t?r?t-r:t:0}var J4e=Y4e,X4e=P9,Q4e=Os,Z4e=J4e,eLe=Math.max;function tLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Z4e(r);return a<0&&(a=eLe(n+a,0)),X4e(e,Q4e(t),a)}var rLe=tLe,nLe=K4e,aLe=rLe,iLe=nLe(aLe),sLe=iLe;const oLe=kt(sLe);var lLe=exe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),TO=x.createContext(void 0),MO=x.createContext(void 0),$q=x.createContext(void 0),Iq=x.createContext({}),Rq=x.createContext(void 0),Dq=x.createContext(0),Lq=x.createContext(0),CD=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=lLe(i);return M.createElement(TO.Provider,{value:n},M.createElement(MO.Provider,{value:a},M.createElement(Iq.Provider,{value:i},M.createElement($q.Provider,{value:d},M.createElement(Rq.Provider,{value:s},M.createElement(Dq.Provider,{value:u},M.createElement(Lq.Provider,{value:c},l)))))))},cLe=function(){return x.useContext(Rq)},Fq=function(t){var r=x.useContext(TO);r==null&&ou();var n=r[t];return n==null&&ou(),n},uLe=function(){var t=x.useContext(TO);return Qo(t)},dLe=function(){var t=x.useContext(MO),r=oLe(t,function(n){return Cq(n.domain,Number.isFinite)});return r||Qo(t)},Bq=function(t){var r=x.useContext(MO);r==null&&ou();var n=r[t];return n==null&&ou(),n},fLe=function(){var t=x.useContext($q);return t},hLe=function(){return x.useContext(Iq)},$O=function(){return x.useContext(Lq)},IO=function(){return x.useContext(Dq)};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function pLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zq(n.key),n)}}function gLe(e,t,r){return t&&mLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vLe(e,t,r){return t=vb(t),yLe(e,Uq()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function yLe(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xLe(e)}function xLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uq=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function bLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(e,t)}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){RO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RO(e,t,r){return t=zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=wLe(e,"string");return Tf(t)=="symbol"?t:t+""}function wLe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Le(e,t){return kLe(e)||NLe(e,t)||SLe(e,t)||jLe()}function jLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SLe(e,t){if(e){if(typeof e=="string")return OD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OD(e,t)}}function OD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function kLe(e){if(Array.isArray(e))return e}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hk.apply(this,arguments)}var CLe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):Be(t)?n=t(r):n=M.createElement("line",hk({},r,{className:"recharts-reference-line-line"})),n},ELe=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:s});if(ws(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,y=t.x.apply(b,{position:s});if(ws(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:s})});return ws(u,"discard")&&QDe(S,function(N){return!t.isInRange(N)})?null:S}return null};function PLe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=cLe(),d=Fq(a),f=Bq(i),h=fLe();if(!u||!h)return null;Li(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=AO({x:d.scale,y:f.scale}),g=Vr(t),m=Vr(r),v=n&&n.length===2,b=ELe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=_Le(b,2),w=y[0],_=w.x,S=w.y,N=y[1],k=N.x,C=N.y,A=ws(e,"hidden")?"url(#".concat(u,")"):void 0,T=PD(PD({clipPath:A},Ie(e,!0)),{},{x1:_,y1:S,x2:k,y2:C});return M.createElement(ot,{className:Xe("recharts-reference-line",l)},CLe(s,T),en.renderCallByParent(e,B4e({x1:_,y1:S,x2:k,y2:C})))}var DO=function(e){function t(){return pLe(this,t),vLe(this,t,arguments)}return bLe(t,e),gLe(t,[{key:"render",value:function(){return M.createElement(PLe,this.props)}}])}(M.Component);RO(DO,"displayName","ReferenceLine");RO(DO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){Pw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ALe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wq(n.key),n)}}function TLe(e,t,r){return t&&ALe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MLe(e,t,r){return t=yb(t),$Le(e,Vq()?Reflect.construct(t,r||[],yb(e).constructor):t.apply(e,r))}function $Le(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ILe(e)}function ILe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vq=function(){return!!e})()}function yb(e){return yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yb(e)}function RLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mk(e,t)}function Pw(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=DLe(e,"string");return Mf(t)=="symbol"?t:t+""}function DLe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var LLe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=AO({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return ws(t,"discard")&&!s.isInRange(l)?null:l},Ow=function(e){function t(){return OLe(this,t),MLe(this,t,arguments)}return RLe(t,e),TLe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=Vr(a),d=Vr(i);if(Li(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=LLe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,b=ws(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=TD(TD({clipPath:b},Ie(this.props,!0)),{},{cx:h,cy:p});return M.createElement(ot,{className:Xe("recharts-reference-dot",v)},t.renderDot(m,y),en.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);Pw(Ow,"displayName","ReferenceDot");Pw(Ow,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Pw(Ow,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Be(e)?r=e(t):r=M.createElement(Tg,pk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gk.apply(this,arguments)}function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){Aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qq(n.key),n)}}function ULe(e,t,r){return t&&BLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zLe(e,t,r){return t=xb(t),VLe(e,Hq()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function VLe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WLe(e)}function WLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function HLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vk(e,t)}function vk(e,t){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},vk(e,t)}function Aw(e,t,r){return t=qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qq(e){var t=qLe(e,"string");return $f(t)=="symbol"?t:t+""}function qLe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KLe=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=AO({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ws(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Tq(p,g)},Tw=function(e){function t(){return FLe(this,t),zLe(this,t,arguments)}return HLe(t,e),ULe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Li(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Vr(a),h=Vr(i),p=Vr(s),g=Vr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=KLe(f,h,p,g,this.props);if(!v&&!m)return null;var b=ws(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(ot,{className:Xe("recharts-reference-area",c)},t.renderRect(m,$D($D({clipPath:b},Ie(this.props,!0)),v)),en.renderCallByParent(this.props,v))}}])}(M.Component);Aw(Tw,"displayName","ReferenceArea");Aw(Tw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Aw(Tw,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):Be(e)?r=e(t):r=M.createElement(PO,gk({},t,{className:"recharts-reference-area-rect"})),r});function Kq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function GLe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return z4e(n,r)}function YLe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function bb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function JLe(e,t){return Kq(e,t+1)}function XLe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Kq(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,w=c===0||bb(e,y,b,d,l);w||(c=0,d=s,u+=1),w&&(d=y+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){QLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QLe(e,t,r){return t=ZLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZLe(e){var t=eFe(e,"string");return Gm(t)=="symbol"?t:t+""}function eFe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tFe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=wn(wn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=wn(wn({},p),{},{tickCoord:p.coordinate});var b=bb(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),i[h]=wn(wn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function rFe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=wn(wn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=bb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=wn(wn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(y){var w=s[y],_,S=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var N=e*(w.coordinate-e*S()/2-c);s[y]=w=wn(wn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[y]=w=wn(wn({},w),{},{tickCoord:w.coordinate});var k=bb(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+a),s[y]=wn(wn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function LO(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(he(c)||Vl.isSsr)return JLe(a,typeof c=="number"&&he(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?bp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var S=Be(u)?u(w.value,_):w.value;return p==="width"?GLe(bp(S,{fontSize:t,letterSpacing:r}),g,f):bp(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Un(a[1].coordinate-a[0].coordinate):1,b=YLe(i,v,p);return c==="equidistantPreserveStart"?XLe(v,b,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=rFe(v,b,m,a,s,c==="preserveStartEnd"):h=tFe(v,b,m,a,s),h.filter(function(y){return y.isShow}))}var nFe=["viewBox"],aFe=["viewBox"],iFe=["ticks"];function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){FO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $j(e,t){if(e==null)return{};var r=sFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function lFe(e,t,r){return t&&DD(e.prototype,t),r&&DD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cFe(e,t,r){return t=wb(t),uFe(e,Gq()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function uFe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dFe(e)}function dFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function fFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yk(e,t)}function yk(e,t){return yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},yk(e,t)}function FO(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=hFe(e,"string");return If(t)=="symbol"?t:t+""}function hFe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xh=function(e){function t(r){var n;return oFe(this,t),n=cFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return fFe(t,e),lFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=$j(n,nFe),l=this.props,c=l.viewBox,u=$j(l,aFe);return!Md(i,c)||!Md(s,u)||!Md(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,b,y,w=f?-1:1,_=n.tickSize||d,S=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!f*c,m=v-w*_,y=m-w*h,b=S;break;case"left":m=v=n.coordinate,g=i+ +!f*l,p=g-w*_,b=p-w*h,y=S;break;case"right":m=v=n.coordinate,g=i+ +f*l,p=g+w*_,b=p+w*h,y=S;break;default:p=g=n.coordinate,v=s+ +f*c,m=v+w*_,y=m+w*h,b=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ir(Ir(Ir({},Ie(this.props,!1)),Ie(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ir(Ir({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Ir(Ir({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return M.createElement("line",yd({},f,{className:Xe("recharts-cartesian-axis-line",Ca(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=LO(Ir(Ir({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Ie(this.props,!1),b=Ie(d,!1),y=Ir(Ir({},v),{},{fill:"none"},Ie(c,!1)),w=p.map(function(_,S){var N=s.getTickLineCoord(_),k=N.line,C=N.tick,A=Ir(Ir(Ir(Ir({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),C),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(ot,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},nu(s.props,_,S)),c&&M.createElement("line",yd({},y,k,{className:Xe("recharts-cartesian-axis-tick-line",Ca(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(Be(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=$j(f,iFe),g=h;return Be(c)&&(g=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!g||!g.length?null:M.createElement(ot,{className:Xe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),en.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=Xe(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?s=M.cloneElement(n,Ir(Ir({},a),{},{className:l})):Be(n)?s=n(Ir(Ir({},a),{},{className:l})):s=M.createElement(au,yd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(x.Component);FO(xh,"displayName","CartesianAxis");FO(xh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pFe=["x1","y1","x2","y2","key"],mFe=["offset"];function lu(e){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){gFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gFe(e,t,r){return t=vFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vFe(e){var t=yFe(e,"string");return lu(t)=="symbol"?t:t+""}function yFe(e,t){if(lu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function FD(e,t){if(e==null)return{};var r=xFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Jq(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Be(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=FD(t,pFe),u=Ie(c,!1);u.offset;var d=FD(u,mFe);r=M.createElement("line",Nc({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function wFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Jq(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function _Fe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=Nn(Nn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Jq(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function jFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+s-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function SFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var NFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return KH(LO(Nn(Nn(Nn({},xh.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},kFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return KH(LO(Nn(Nn(Nn({},xh.defaultProps),n),{},{ticks:Qs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Hu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Mw(e){var t,r,n,a,i,s,l=$O(),c=IO(),u=hLe(),d=Nn(Nn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hu.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Hu.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,y=uLe(),w=dLe();if(!he(p)||p<=0||!he(g)||g<=0||!he(f)||f!==+f||!he(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||NFe,S=d.horizontalCoordinatesGenerator||kFe,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&Be(S)){var C=v&&v.length,A=S({yAxis:w?Nn(Nn({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Li(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lu(A),"]")),Array.isArray(A)&&(N=A)}if((!k||!k.length)&&Be(_)){var T=b&&b.length,$=_({xAxis:y?Nn(Nn({},y),{},{ticks:T?b:y.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);Li(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lu($),"]")),Array.isArray($)&&(k=$)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(bFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(wFe,Nc({},d,{offset:u,horizontalPoints:N,xAxis:y,yAxis:w})),M.createElement(_Fe,Nc({},d,{offset:u,verticalPoints:k,xAxis:y,yAxis:w})),M.createElement(jFe,Nc({},d,{horizontalPoints:N})),M.createElement(SFe,Nc({},d,{verticalPoints:k})))}Mw.displayName="CartesianGrid";var CFe=["type","layout","connectNulls","ref"],EFe=["key"];function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function BD(e,t){if(e==null)return{};var r=PFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kp(){return kp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kp.apply(this,arguments)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Pi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qu(e){return MFe(e)||TFe(e)||AFe(e)||OFe()}function OFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AFe(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function TFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MFe(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qq(n.key),n)}}function IFe(e,t,r){return t&&zD(e.prototype,t),r&&zD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RFe(e,t,r){return t=_b(t),DFe(e,Xq()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function DFe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LFe(e)}function LFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function FFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function Pi(e,t,r){return t=Qq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=BFe(e,"string");return Rf(t)=="symbol"?t:t+""}function BFe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mg=function(e){function t(){var r;$Fe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RFe(this,t,[].concat(a)),Pi(r,"state",{isAnimationFinished:!0,totalLength:0}),Pi(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Pi(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(qu(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(qu(t.repeat(c,d)),qu(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Pi(r,"id",_u("recharts-line-")),Pi(r,"pathRef",function(s){r.mainCurve=s}),Pi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return FFe(t,e),IFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ea(d,Ag);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:_r(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(ot,p,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ie(this.props,!1),h=Ie(c,!0),p=u.map(function(m,v){var b=fa(fa(fa({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(ot,kp({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=BD(l,CFe),h=fa(fa(fa({},Ie(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return M.createElement(Bc,kp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,b=this.state,y=b.prevPoints,w=b.totalLength;return M.createElement(Gi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(y){var N=y.length/l.length,k=l.map(function(O,L){var I=Math.floor(L*N);if(y[I]){var B=y[I],H=Br(B.x,O.x),V=Br(B.y,O.y);return fa(fa({},O),{},{x:H(S),y:V(S)})}if(g){var R=Br(m*2,O.x),U=Br(v/2,O.y);return fa(fa({},O),{},{x:R(S),y:U(S)})}return fa(fa({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(k,n,a)}var C=Br(0,w),A=C(S),T;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});T=i.getStrokeDasharray(A,w,$)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!iu(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Xe("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,k=Ye(v)?this.id:v,C=(n=Ie(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,T=A===void 0?3:A,$=C.strokeWidth,O=$===void 0?2:$,L=BW(s)?s:{},I=L.clipDot,B=I===void 0?!0:I,H=T*2+O;return M.createElement(ot,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?h:h-p/2,y:S?f:f-g/2,width:_?p:p*2,height:S?g:g*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-H/2,y:f-H/2,width:p+H,height:g+H}))):null,!y&&this.renderCurve(N,k),this.renderErrorBar(N,k),(y||s)&&this.renderDots(N,B,k),(!m||b)&&bs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(qu(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(qu(s),qu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(M.isValidElement(n))i=M.cloneElement(n,a);else if(Be(n))i=n(a);else{var s=a.key,l=BD(a,EFe),c=Xe("recharts-line-dot",typeof n!="boolean"?n.className:"");i=M.createElement(Tg,kp({key:s},l,{className:c}))}return i}}])}(x.PureComponent);Pi(Mg,"displayName","Line");Pi(Mg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pi(Mg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=_r(h,s);return d==="horizontal"?{x:Qx({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Ye(g)?null:n.scale(g),value:g,payload:h}:{x:Ye(g)?null:r.scale(g),y:Qx({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return fa({points:f,layout:d},u)});var UFe=["layout","type","stroke","connectNulls","isRange","ref"],zFe=["key"],Zq;function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function e7(e,t){if(e==null)return{};var r=VFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kc.apply(this,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r7(n.key),n)}}function HFe(e,t,r){return t&&WD(e.prototype,t),r&&WD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qFe(e,t,r){return t=jb(t),KFe(e,t7()?Reflect.construct(t,r||[],jb(e).constructor):t.apply(e,r))}function KFe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GFe(e)}function GFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function t7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t7=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jb(e)}function YFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function hs(e,t,r){return t=r7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r7(e){var t=JFe(e,"string");return Df(t)=="symbol"?t:t+""}function JFe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bo=function(e){function t(){var r;WFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=qFe(this,t,[].concat(a)),hs(r,"state",{isAnimationFinished:!0}),hs(r,"id",_u("recharts-area-")),hs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(s)&&s()}),hs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(s)&&s()}),r}return YFe(t,e),HFe(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ie(this.props,!1),p=Ie(u,!0),g=d.map(function(v,b){var y=Uo(Uo(Uo({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(ot,kc({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=cl(s.map(function(h){return h.y||0}));return he(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(cl(i.map(function(h){return h.y||0})),f)),he(f)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=cl(s.map(function(h){return h.x||0}));return he(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(cl(i.map(function(h){return h.x||0})),f)),he(f)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=e7(l,UFe);return M.createElement(ot,{clipPath:i?"url(#clipPath-".concat(s,")"):null},M.createElement(Bc,kc({},Ie(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Bc,kc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Bc,kc({},Ie(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return M.createElement(Gi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(m){var w=m.length/l.length,_=l.map(function(C,A){var T=Math.floor(A*w);if(m[T]){var $=m[T],O=Br($.x,C.x),L=Br($.y,C.y);return Uo(Uo({},C),{},{x:O(y),y:L(y)})}return C}),S;if(he(c)&&typeof c=="number"){var N=Br(v,c);S=N(y)}else if(Ye(c)||fh(c)){var k=Br(v,0);S=k(y)}else S=c.map(function(C,A){var T=Math.floor(A*w);if(v[T]){var $=v[T],O=Br($.x,C.x),L=Br($.y,C.y);return Uo(Uo({},C),{},{x:O(y),y:L(y)})}return C});return i.renderAreaStatically(_,S,n,a)}return M.createElement(ot,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),M.createElement(ot,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!iu(d,s)||!iu(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=Xe("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,N=_||S,k=Ye(v)?this.id:v,C=(n=Ie(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,T=A===void 0?3:A,$=C.strokeWidth,O=$===void 0?2:$,L=BW(s)?s:{},I=L.clipDot,B=I===void 0?!0:I,H=T*2+O;return M.createElement(ot,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?d:d-p/2,y:S?u:u-g/2,width:_?p:p*2,height:S?g:g*2})),!B&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:d-H/2,y:u-H/2,width:p+H,height:g+H}))):null,y?null:this.renderArea(N,k),(s||y)&&this.renderDots(N,B,k),(!m||b)&&bs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);Zq=bo;hs(bo,"displayName","Area");hs(bo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});hs(bo,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(he(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});hs(bo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=Zq.getBaseValue(t,r,n,a),v=p==="horizontal",b=!1,y=f.map(function(_,S){var N;g?N=u[d+S]:(N=_r(_,c),Array.isArray(N)?b=!0:N=[m,N]);var k=N[1]==null||g&&_r(_,c)==null;return v?{x:Qx({axis:n,ticks:i,bandSize:l,entry:_,index:S}),y:k?null:a.scale(N[1]),value:N,payload:_}:{x:k?null:n.scale(N[1]),y:Qx({axis:a,ticks:s,bandSize:l,entry:_,index:S}),value:N,payload:_}}),w;return g||b?w=y.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=v?a.scale(m):n.scale(m),Uo({points:y,baseLine:w,layout:p,isRange:b},h)});hs(bo,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(Be(e))r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=e7(t,zFe);r=M.createElement(Tg,kc({},i,{key:a,className:n}))}return r});function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function XFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i7(n.key),n)}}function ZFe(e,t,r){return t&&QFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e3e(e,t,r){return t=Sb(t),t3e(e,n7()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function t3e(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r3e(e)}function r3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function n3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function a7(e,t,r){return t=i7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i7(e){var t=a3e(e,"string");return Lf(t)=="symbol"?t:t+""}function a3e(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function i3e(e){var t=e.xAxisId,r=$O(),n=IO(),a=Fq(t);return a==null?null:x.createElement(xh,jk({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qs(s,!0)}}))}var Kl=function(e){function t(){return XFe(this,t),e3e(this,t,arguments)}return n3e(t,e),ZFe(t,[{key:"render",value:function(){return x.createElement(i3e,this.props)}}])}(x.Component);a7(Kl,"displayName","XAxis");a7(Kl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function s3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l7(n.key),n)}}function l3e(e,t,r){return t&&o3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3e(e,t,r){return t=Nb(t),u3e(e,s7()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function u3e(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3e(e)}function d3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function f3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function o7(e,t,r){return t=l7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=h3e(e,"string");return Ff(t)=="symbol"?t:t+""}function h3e(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}var p3e=function(t){var r=t.yAxisId,n=$O(),a=IO(),i=Bq(r);return i==null?null:x.createElement(xh,Nk({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Qs(l,!0)}}))},Gl=function(e){function t(){return s3e(this,t),c3e(this,t,arguments)}return f3e(t,e),l3e(t,[{key:"render",value:function(){return x.createElement(p3e,this.props)}}])}(x.Component);o7(Gl,"displayName","YAxis");o7(Gl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HD(e){return y3e(e)||v3e(e)||g3e(e)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g3e(e,t){if(e){if(typeof e=="string")return kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(e,t)}}function v3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y3e(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ck=function(t,r,n,a,i){var s=Ea(t,DO),l=Ea(t,Ow),c=[].concat(HD(s),HD(l)),u=Ea(t,Tw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&ws(v.props,"extendDomain")&&he(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&ws(v.props,"extendDomain")&&he(v.props[p])&&he(v.props[g])){var b=v.props[p],y=v.props[g];return[Math.min(m[0],b,y),Math.max(m[1],b,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return he(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},c7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[w].fn.apply(v[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(c7);var x3e=c7.exports;const b3e=kt(x3e);var Ij=new b3e,Rj="recharts.syncMouseEvents";function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function w3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u7(n.key),n)}}function j3e(e,t,r){return t&&_3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dj(e,t,r){return t=u7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=S3e(e,"string");return Ym(t)=="symbol"?t:t+""}function S3e(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var N3e=function(){function e(){w3e(this,e),Dj(this,"activeIndex",0),Dj(this,"coordinateList",[]),Dj(this,"layout","horizontal")}return j3e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function k3e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function C3e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function d7(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Wt(t,r,n,a),l=Wt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function E3e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Wt(l,c,u,f),p=Wt(l,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return d7(t);return[{x:n,y:a},{x:i,y:s}]}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){P3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P3e(e,t,r){return t=O3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O3e(e){var t=A3e(e,"string");return Jm(t)=="symbol"?t:t+""}function A3e(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T3e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Bc;if(h==="ScatterChart")g=s,m=BIe;else if(h==="BarChart")g=C3e(f,s,c,d),m=PO;else if(f==="radial"){var v=d7(s),b=v.cx,y=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;g={cx:b,cy:y,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},m=aq}else g={points:E3e(f,s,c)},m=Bc;var N=Ov(Ov(Ov(Ov({stroke:"#ccc",pointerEvents:"none"},c),g),Ie(p,!1)),{},{payload:l,payloadIndex:u,className:Xe("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,N):x.createElement(m,N)}var M3e=["item"],$3e=["children","className","width","height","style","compact","title","desc"];function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function KD(e,t){return D3e(e)||R3e(e,t)||h7(e,t)||I3e()}function I3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function D3e(e){if(Array.isArray(e))return e}function GD(e,t){if(e==null)return{};var r=L3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function F3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p7(n.key),n)}}function U3e(e,t,r){return t&&B3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z3e(e,t,r){return t=kb(t),V3e(e,f7()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function V3e(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3e(e)}function W3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f7=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function H3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ek(e,t)}function Uf(e){return G3e(e)||K3e(e)||h7(e)||q3e()}function q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h7(e,t){if(e){if(typeof e=="string")return Pk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(e,t)}}function K3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G3e(e){if(Array.isArray(e))return Pk(e)}function Pk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){De(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function De(e,t,r){return t=p7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=Y3e(e,"string");return Bf(t)=="symbol"?t:t+""}function Y3e(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J3e={xAxis:["bottom","top"],yAxis:["left","right"]},X3e={width:"100%",height:"100%"},m7={x:0,y:0};function Av(e){return e}var Q3e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Z3e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return re(re(re({},a),Wt(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return re(re(re({},a),Wt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return m7},$w=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Uf(l),Uf(u)):l},[]);return s.length>0?s:t&&t.length&&he(a)&&he(i)?t.slice(a,i+1):[]};function g7(e){return e==="number"?[0,"auto"]:void 0}var Ok=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=$w(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=jx(p,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Uf(c),[QH(u,h)]):c},[])},JD=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=Q3e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=s2e(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Ok(t,r,d,f),p=Z3e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},e5e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=qH(d,i);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?re(re({},m.type.defaultProps),m.props):m.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,C=b.includeHidden,A=b[s];if(g[A])return g;var T=$w(t.data,{graphicalItems:a.filter(function(Q){var j,P=s in Q.props?Q.props[s]:(j=Q.type.defaultProps)===null||j===void 0?void 0:j[s];return P===A}),dataStartIndex:c,dataEndIndex:u}),$=T.length,O,L,I;k3e(b.domain,_,y)&&(O=VN(b.domain,null,_),p&&(y==="number"||N!=="auto")&&(I=_p(T,w,"category")));var B=g7(y);if(!O||O.length===0){var H,V=(H=b.domain)!==null&&H!==void 0?H:B;if(w){if(O=_p(T,w,y),y==="category"&&p){var R=Jxe(O);S&&R?(L=O,O=fb(0,$)):S||(O=xR(V,O,m).reduce(function(Q,j){return Q.indexOf(j)>=0?Q:[].concat(Uf(Q),[j])},[]))}else if(y==="category")S?O=O.filter(function(Q){return Q!==""&&!Ye(Q)}):O=xR(V,O,m).reduce(function(Q,j){return Q.indexOf(j)>=0||j===""||Ye(j)?Q:[].concat(Uf(Q),[j])},[]);else if(y==="number"){var U=d2e(T,a.filter(function(Q){var j,P,E=s in Q.props?Q.props[s]:(j=Q.type.defaultProps)===null||j===void 0?void 0:j[s],F="hide"in Q.props?Q.props.hide:(P=Q.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===A&&(C||!F)}),w,i,d);U&&(O=U)}p&&(y==="number"||N!=="auto")&&(I=_p(T,w,"category"))}else p?O=fb(0,$):l&&l[A]&&l[A].hasStack&&y==="number"?O=h==="expand"?[0,1]:XH(l[A].stackGroups,c,u):O=HH(T,a.filter(function(Q){var j=s in Q.props?Q.props[s]:Q.type.defaultProps[s],P="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return j===A&&(C||!P)}),y,d,!0);if(y==="number")O=Ck(f,O,A,i,k),V&&(O=VN(V,O,_));else if(y==="category"&&V){var G=V,te=O.every(function(Q){return G.indexOf(Q)>=0});te&&(O=G)}}return re(re({},g),{},De({},A,re(re({},b),{},{axisType:i,domain:O,categoricalDomain:I,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:B,isCategorical:p,layout:d})))},{})},t5e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=$w(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=qH(d,i),m=-1;return n.reduce(function(v,b){var y=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,w=y[s],_=g7("number");if(!v[w]){m++;var S;return g?S=fb(0,p):l&&l[w]&&l[w].hasStack?(S=XH(l[w].stackGroups,c,u),S=Ck(f,S,w,i)):(S=VN(_,HH(h,n.filter(function(N){var k,C,A=s in N.props?N.props[s]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[s],T="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=Ck(f,S,w,i)),re(re({},v),{},De({},w,re(re({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ca(J3e,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},r5e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Ea(d,i),p={};return h&&h.length?p=e5e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=t5e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},n5e=function(t){var r=Qo(t),n=Qs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:rO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zx(r,n)}},XD=function(t){var r=t.children,n=t.defaultShowTooltip,a=ma(r,Of),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},a5e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ro(r&&r.type);return n&&n.indexOf("Bar")>=0})},QD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},i5e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ma(f,Of),g=ma(f,no),m=Object.keys(c).reduce(function(S,N){var k=c[N],C=k.orientation;return!k.mirror&&!k.hide?re(re({},S),{},De({},C,S[C]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,N){var k=s[N],C=k.orientation;return!k.mirror&&!k.hide?re(re({},S),{},De({},C,Ca(S,"".concat(C))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},v),m),y=b.bottom;p&&(b.bottom+=p.props.height||Of.defaultProps.height),g&&r&&(b=c2e(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return re(re({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},s5e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Iw=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,_=y.stackGroups,S=y.offset,N=y.updateId,k=y.dataStartIndex,C=y.dataEndIndex,A=b.barSize,T=b.layout,$=b.barGap,O=b.barCategoryGap,L=b.maxBarSize,I=QD(T),B=I.numericAxisName,H=I.cateAxisName,V=a5e(w),R=[];return w.forEach(function(U,G){var te=$w(b.data,{graphicalItems:[U],dataStartIndex:k,dataEndIndex:C}),Q=U.type.defaultProps!==void 0?re(re({},U.type.defaultProps),U.props):U.props,j=Q.dataKey,P=Q.maxBarSize,E=Q["".concat(B,"Id")],F=Q["".concat(H,"Id")],D={},K=c.reduce(function(W,z){var X=y["".concat(z.axisType,"Map")],ue=Q["".concat(z.axisType,"Id")];X&&X[ue]||z.axisType==="zAxis"||ou();var le=X[ue];return re(re({},W),{},De(De({},z.axisType,le),"".concat(z.axisType,"Ticks"),Qs(le)))},D),q=K[H],J=K["".concat(H,"Ticks")],Z=_&&_[E]&&_[E].hasStack&&b2e(U,_[E].stackGroups),Y=ro(U.type).indexOf("Bar")>=0,ye=Zx(q,J),ke=[],Ke=V&&o2e({barSize:A,stackGroups:_,totalSize:s5e(K,H)});if(Y){var nt,Ue,it=Ye(P)?L:P,Mt=(nt=(Ue=Zx(q,J,!0))!==null&&Ue!==void 0?Ue:it)!==null&&nt!==void 0?nt:0;ke=l2e({barGap:$,barCategoryGap:O,bandSize:Mt!==ye?Mt:ye,sizeList:Ke[F],maxBarSize:it}),Mt!==ye&&(ke=ke.map(function(W){return re(re({},W),{},{position:re(re({},W.position),{},{offset:W.position.offset-Mt/2})})}))}var dr=U&&U.type&&U.type.getComposedData;dr&&R.push({props:re(re({},dr(re(re({},K),{},{displayedData:te,props:b,dataKey:j,item:U,bandSize:ye,barPosition:ke,offset:S,stackedData:Z,layout:T,dataStartIndex:k,dataEndIndex:C}))),{},De(De(De({key:U.key||"item-".concat(G)},B,K[B]),H,K[H]),"animationId",N)),childIndex:lbe(U,b.children),item:U})}),R},p=function(b,y){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!h$({props:w}))return null;var k=w.children,C=w.layout,A=w.stackOffset,T=w.data,$=w.reverseStackOrder,O=QD(C),L=O.numericAxisName,I=O.cateAxisName,B=Ea(k,n),H=y2e(T,B,"".concat(L,"Id"),"".concat(I,"Id"),A,$),V=c.reduce(function(Q,j){var P="".concat(j.axisType,"Map");return re(re({},Q),{},De({},P,r5e(w,re(re({},j),{},{graphicalItems:B,stackGroups:j.axisType===L&&H,dataStartIndex:_,dataEndIndex:S}))))},{}),R=i5e(re(re({},V),{},{props:w,graphicalItems:B}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(Q){V[Q]=d(w,V[Q],R,Q.replace("Map",""),r)});var U=V["".concat(I,"Map")],G=n5e(U),te=h(w,re(re({},V),{},{dataStartIndex:_,dataEndIndex:S,updateId:N,graphicalItems:B,stackGroups:H,offset:R}));return re(re({formattedGraphicalItems:te,graphicalItems:B,offset:R,stackGroups:H},G),V)},g=function(v){function b(y){var w,_,S;return F3e(this,b),S=z3e(this,b,[y]),De(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),De(S,"accessibilityManager",new N3e),De(S,"handleLegendBBoxUpdate",function(N){if(N){var k=S.state,C=k.dataStartIndex,A=k.dataEndIndex,T=k.updateId;S.setState(re({legendBBox:N},p({props:S.props,dataStartIndex:C,dataEndIndex:A,updateId:T},re(re({},S.state),{},{legendBBox:N}))))}}),De(S,"handleReceiveSyncEvent",function(N,k,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),De(S,"handleBrushChange",function(N){var k=N.startIndex,C=N.endIndex;if(k!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return re({dataStartIndex:k,dataEndIndex:C},p({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),De(S,"handleMouseEnter",function(N){var k=S.getMouseInfo(N);if(k){var C=re(re({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseEnter;Be(A)&&A(C,N)}}),De(S,"triggeredAfterMouseMove",function(N){var k=S.getMouseInfo(N),C=k?re(re({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseMove;Be(A)&&A(C,N)}),De(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),De(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),De(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),De(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseLeave;Be(C)&&C(k,N)}),De(S,"handleOuterEvent",function(N){var k=obe(N),C=Ca(S.props,"".concat(k));if(k&&Be(C)){var A,T;/.*touch.*/i.test(k)?T=S.getMouseInfo(N.changedTouches[0]):T=S.getMouseInfo(N),C((A=T)!==null&&A!==void 0?A:{},N)}}),De(S,"handleClick",function(N){var k=S.getMouseInfo(N);if(k){var C=re(re({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onClick;Be(A)&&A(C,N)}}),De(S,"handleMouseDown",function(N){var k=S.props.onMouseDown;if(Be(k)){var C=S.getMouseInfo(N);k(C,N)}}),De(S,"handleMouseUp",function(N){var k=S.props.onMouseUp;if(Be(k)){var C=S.getMouseInfo(N);k(C,N)}}),De(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),De(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),De(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),De(S,"handleDoubleClick",function(N){var k=S.props.onDoubleClick;if(Be(k)){var C=S.getMouseInfo(N);k(C,N)}}),De(S,"handleContextMenu",function(N){var k=S.props.onContextMenu;if(Be(k)){var C=S.getMouseInfo(N);k(C,N)}}),De(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&Ij.emit(Rj,S.props.syncId,N,S.eventEmitterSymbol)}),De(S,"applySyncEvent",function(N){var k=S.props,C=k.layout,A=k.syncMethod,T=S.state.updateId,$=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(re({dataStartIndex:$,dataEndIndex:O},p({props:S.props,dataStartIndex:$,dataEndIndex:O,updateId:T},S.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,I=N.chartY,B=N.activeTooltipIndex,H=S.state,V=H.offset,R=H.tooltipTicks;if(!V)return;if(typeof A=="function")B=A(R,N);else if(A==="value"){B=-1;for(var U=0;U<R.length;U++)if(R[U].value===N.activeLabel){B=U;break}}var G=re(re({},V),{},{x:V.left,y:V.top}),te=Math.min(L,G.x+G.width),Q=Math.min(I,G.y+G.height),j=R[B]&&R[B].value,P=Ok(S.state,S.props.data,B),E=R[B]?{x:C==="horizontal"?R[B].coordinate:te,y:C==="horizontal"?Q:R[B].coordinate}:m7;S.setState(re(re({},N),{},{activeLabel:j,activeCoordinate:E,activePayload:P,activeTooltipIndex:B}))}else S.setState(N)}),De(S,"renderCursor",function(N){var k,C=S.state,A=C.isTooltipActive,T=C.activeCoordinate,$=C.activePayload,O=C.offset,L=C.activeTooltipIndex,I=C.tooltipAxisBandSize,B=S.getTooltipEventType(),H=(k=N.props.active)!==null&&k!==void 0?k:A,V=S.props.layout,R=N.key||"_recharts-cursor";return M.createElement(T3e,{key:R,activeCoordinate:T,activePayload:$,activeTooltipIndex:L,chartName:r,element:N,isActive:H,layout:V,offset:O,tooltipAxisBandSize:I,tooltipEventType:B})}),De(S,"renderPolarAxis",function(N,k,C){var A=Ca(N,"type.axisType"),T=Ca(S.state,"".concat(A,"Map")),$=N.type.defaultProps,O=$!==void 0?re(re({},$),N.props):N.props,L=T&&T[O["".concat(A,"Id")]];return x.cloneElement(N,re(re({},L),{},{className:Xe(A,L.className),key:N.key||"".concat(k,"-").concat(C),ticks:Qs(L,!0)}))}),De(S,"renderPolarGrid",function(N){var k=N.props,C=k.radialLines,A=k.polarAngles,T=k.polarRadius,$=S.state,O=$.radiusAxisMap,L=$.angleAxisMap,I=Qo(O),B=Qo(L),H=B.cx,V=B.cy,R=B.innerRadius,U=B.outerRadius;return x.cloneElement(N,{polarAngles:Array.isArray(A)?A:Qs(B,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(T)?T:Qs(I,!0).map(function(G){return G.coordinate}),cx:H,cy:V,innerRadius:R,outerRadius:U,key:N.key||"polar-grid",radialLines:C})}),De(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,k=S.props,C=k.children,A=k.width,T=k.height,$=S.props.margin||{},O=A-($.left||0)-($.right||0),L=VH({children:C,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!L)return null;var I=L.item,B=GD(L,M3e);return x.cloneElement(I,re(re({},B),{},{chartWidth:A,chartHeight:T,margin:$,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),De(S,"renderTooltip",function(){var N,k=S.props,C=k.children,A=k.accessibilityLayer,T=ma(C,va);if(!T)return null;var $=S.state,O=$.isTooltipActive,L=$.activeCoordinate,I=$.activePayload,B=$.activeLabel,H=$.offset,V=(N=T.props.active)!==null&&N!==void 0?N:O;return x.cloneElement(T,{viewBox:re(re({},H),{},{x:H.left,y:H.top}),active:V,label:B,payload:V?I:[],coordinate:L,accessibilityLayer:A})}),De(S,"renderBrush",function(N){var k=S.props,C=k.margin,A=k.data,T=S.state,$=T.offset,O=T.dataStartIndex,L=T.dataEndIndex,I=T.updateId;return x.cloneElement(N,{key:N.key||"_recharts-brush",onChange:kv(S.handleBrushChange,N.props.onChange),data:A,x:he(N.props.x)?N.props.x:$.left,y:he(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(C.bottom||0),width:he(N.props.width)?N.props.width:$.width,startIndex:O,endIndex:L,updateId:"brush-".concat(I)})}),De(S,"renderReferenceElement",function(N,k,C){if(!N)return null;var A=S,T=A.clipPathId,$=S.state,O=$.xAxisMap,L=$.yAxisMap,I=$.offset,B=N.type.defaultProps||{},H=N.props,V=H.xAxisId,R=V===void 0?B.xAxisId:V,U=H.yAxisId,G=U===void 0?B.yAxisId:U;return x.cloneElement(N,{key:N.key||"".concat(k,"-").concat(C),xAxis:O[R],yAxis:L[G],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:T})}),De(S,"renderActivePoints",function(N){var k=N.item,C=N.activePoint,A=N.basePoint,T=N.childIndex,$=N.isRange,O=[],L=k.props.key,I=k.item.type.defaultProps!==void 0?re(re({},k.item.type.defaultProps),k.item.props):k.item.props,B=I.activeDot,H=I.dataKey,V=re(re({index:T,dataKey:H,cx:C.x,cy:C.y,r:4,fill:EO(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Ie(B,!1)),Sx(B));return O.push(b.renderActiveDot(B,V,"".concat(L,"-activePoint-").concat(T))),A?O.push(b.renderActiveDot(B,re(re({},V),{},{cx:A.x,cy:A.y}),"".concat(L,"-basePoint-").concat(T))):$&&O.push(null),O}),De(S,"renderGraphicChild",function(N,k,C){var A=S.filterFormatItem(N,k,C);if(!A)return null;var T=S.getTooltipEventType(),$=S.state,O=$.isTooltipActive,L=$.tooltipAxis,I=$.activeTooltipIndex,B=$.activeLabel,H=S.props.children,V=ma(H,va),R=A.props,U=R.points,G=R.isRange,te=R.baseLine,Q=A.item.type.defaultProps!==void 0?re(re({},A.item.type.defaultProps),A.item.props):A.item.props,j=Q.activeDot,P=Q.hide,E=Q.activeBar,F=Q.activeShape,D=!!(!P&&O&&V&&(j||E||F)),K={};T!=="axis"&&V&&V.props.trigger==="click"?K={onClick:kv(S.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(K={onMouseLeave:kv(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:kv(S.handleItemMouseEnter,N.props.onMouseEnter)});var q=x.cloneElement(N,re(re({},A.props),K));function J(z){return typeof L.dataKey=="function"?L.dataKey(z.payload):null}if(D)if(I>=0){var Z,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var ye=typeof L.dataKey=="function"?J:"payload.".concat(L.dataKey.toString());Z=jx(U,ye,B),Y=G&&te&&jx(te,ye,B)}else Z=U==null?void 0:U[I],Y=G&&te&&te[I];if(F||E){var ke=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[x.cloneElement(N,re(re(re({},A.props),K),{},{activeIndex:ke})),null,null]}if(!Ye(Z))return[q].concat(Uf(S.renderActivePoints({item:A,activePoint:Z,basePoint:Y,childIndex:I,isRange:G})))}else{var Ke,nt=(Ke=S.getItemByXY(S.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:q},Ue=nt.graphicalItem,it=Ue.item,Mt=it===void 0?N:it,dr=Ue.childIndex,W=re(re(re({},A.props),K),{},{activeIndex:dr});return[x.cloneElement(Mt,W),null,null]}return G?[q,null,null]:[q,null]}),De(S,"renderCustomized",function(N,k,C){return x.cloneElement(N,re(re({key:"recharts-customized-".concat(C)},S.props),S.state))}),De(S,"renderMap",{CartesianGrid:{handler:Av,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Av},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Av},YAxis:{handler:Av},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:_u("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=V9(S.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return H3e(b,v),U3e(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,N=w.height,k=w.layout,C=ma(_,va);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,$=Ok(this.state,S,A,T),O=this.state.tooltipTicks[A].coordinate,L=(this.state.offset.top+N)/2,I=k==="horizontal",B=I?{x:O,y:L}:{y:O,x:L},H=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});H&&(B=re(re({},B),H.props.points[A].tooltipPosition),$=H.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:$,activeCoordinate:B};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){aN([ma(w.children,va)],[ma(this.props.children,va)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ma(this.props.children,va);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),N=$Ee(S),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},C=S.width/_.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,C);if(!A)return null;var T=this.state,$=T.xAxisMap,O=T.yAxisMap,L=this.getTooltipEventType(),I=JD(this.state,this.props.data,this.props.layout,A);if(L!=="axis"&&$&&O){var B=Qo($).scale,H=Qo(O).scale,V=B&&B.invert?B.invert(k.chartX):null,R=H&&H.invert?H.invert(k.chartY):null;return re(re({},k),{},{xValue:V,yValue:R},I)}return I?re(re({},k),I):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/S,C=_/S;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,T=k>=A.left&&k<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return T?{x:k,y:C}:null}var $=this.state,O=$.angleAxisMap,L=$.radiusAxisMap;if(O&&L){var I=Qo(O);return _R({x:k,y:C},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=ma(w,va),N={};S&&_==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Sx(this.props,this.handleOuterEvent);return re(re({},k),N)}},{key:"addListener",value:function(){Ij.on(Rj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ij.removeListener(Rj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var N=this.state.formattedGraphicalItems,k=0,C=N.length;k<C;k++){var A=N[k];if(A.item===w||A.props.key===w.key||_===ro(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,N=_.top,k=_.height,C=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:N,height:k,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=KD(S,2),k=N[0],C=N[1];return re(re({},_),{},De({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=KD(S,2),k=N[0],C=N[1];return re(re({},_),{},De({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,N=_.activeItem;if(S&&S.length)for(var k=0,C=S.length;k<C;k++){var A=S[k],T=A.props,$=A.item,O=$.type.defaultProps!==void 0?re(re({},$.type.defaultProps),$.props):$.props,L=ro($.type);if(L==="Bar"){var I=(T.data||[]).find(function(R){return bIe(w,R)});if(I)return{graphicalItem:A,payload:I}}else if(L==="RadialBar"){var B=(T.data||[]).find(function(R){return _R(w,R)});if(B)return{graphicalItem:A,payload:B}}else if(kw(A,N)||Cw(A,N)||Wm(A,N)){var H=lDe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),V=O.activeIndex===void 0?H:O.activeIndex;return{graphicalItem:re(re({},A),{},{childIndex:V}),payload:Wm(A,N)?O.data[H]:A.props.data[H]}}}return null}},{key:"render",value:function(){var w=this;if(!h$(this))return null;var _=this.props,S=_.children,N=_.className,k=_.width,C=_.height,A=_.style,T=_.compact,$=_.title,O=_.desc,L=GD(_,$3e),I=Ie(L,!1);if(T)return M.createElement(CD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(sN,xd({},I,{width:k,height:C,title:$,desc:O}),this.renderClipPath(),m$(S,this.renderMap)));if(this.props.accessibilityLayer){var B,H;I.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,I.role=(H=this.props.role)!==null&&H!==void 0?H:"application",I.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},I.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return M.createElement(CD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",xd({className:Xe("recharts-wrapper",N),style:re({position:"relative",cursor:"default",width:k,height:C},A)},V,{ref:function(U){w.container=U}}),M.createElement(sN,xd({},I,{width:k,height:C,title:$,desc:O,style:X3e}),this.renderClipPath(),m$(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);De(g,"displayName",r),De(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),De(g,"getDerivedStateFromProps",function(v,b){var y=v.dataKey,w=v.data,_=v.children,S=v.width,N=v.height,k=v.layout,C=v.stackOffset,A=v.margin,T=b.dataStartIndex,$=b.dataEndIndex;if(b.updateId===void 0){var O=XD(v);return re(re(re({},O),{},{updateId:0},p(re(re({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||C!==b.prevStackOffset||!Md(A,b.prevMargin)){var L=XD(v),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},B=re(re({},JD(b,w,k)),{},{updateId:b.updateId+1}),H=re(re(re({},L),I),B);return re(re(re({},H),p(re({props:v},H),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:_})}if(!aN(_,b.prevChildren)){var V,R,U,G,te=ma(_,Of),Q=te&&(V=(R=te.props)===null||R===void 0?void 0:R.startIndex)!==null&&V!==void 0?V:T,j=te&&(U=(G=te.props)===null||G===void 0?void 0:G.endIndex)!==null&&U!==void 0?U:$,P=Q!==T||j!==$,E=!Ye(w),F=E&&!P?b.updateId:b.updateId+1;return re(re({updateId:F},p(re(re({props:v},b),{},{updateId:F,dataStartIndex:Q,dataEndIndex:j}),b)),{},{prevChildren:_,dataStartIndex:Q,dataEndIndex:j})}return null}),De(g,"renderActiveDot",function(v,b,y){var w;return x.isValidElement(v)?w=x.cloneElement(v,b):Be(v)?w=v(b):w=M.createElement(Tg,b),M.createElement(ot,{className:"recharts-active-dot",key:y},w)});var m=x.forwardRef(function(b,y){return M.createElement(g,xd({},b,{ref:y}))});return m.displayName=g.displayName,m},o5e=Iw({chartName:"LineChart",GraphicalChild:Mg,axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:OO}),l5e=Iw({chartName:"BarChart",GraphicalChild:ku,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:OO}),c5e=Iw({chartName:"PieChart",GraphicalChild:Po,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Nw},{axisType:"radiusAxis",AxisComp:jw}],formatAxisMap:O2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),u5e=Iw({chartName:"AreaChart",GraphicalChild:bo,axisComponents:[{axisType:"xAxis",AxisComp:Kl},{axisType:"yAxis",AxisComp:Gl}],formatAxisMap:OO});const d5e=({data:e})=>{const t=e.map(r=>({...r,date:vt(aP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return o.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Appointment Trends"})]}),o.jsx(Ne,{children:"Daily appointment volume over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(u5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),o.jsx(Mw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Kl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Gl,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(va,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(no,{wrapperStyle:{fontSize:"12px"}}),o.jsx(bo,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),o.jsx(bo,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},ZD=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],f5e=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,a)=>n+a.value,0);return r===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ne,{children:"Distribution by type"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Qt,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ne,{children:"Distribution by type"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(c5e,{children:[o.jsx(Po,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,a)=>o.jsx(kg,{fill:ZD[a%ZD.length]},`cell-${a}`))}),o.jsx(va,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(no,{formatter:n=>o.jsx("span",{className:"text-sm",children:n})})]})})})})]})},h5e={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},p5e=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:h5e[r]||"hsl(215, 15%, 45%)"}));return t.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ne,{children:"Appointment status breakdown"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(wT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ne,{children:"Appointment status breakdown"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(l5e,{data:t,layout:"vertical",margin:{left:20,right:20},children:[o.jsx(Mw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),o.jsx(Kl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Gl,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),o.jsx(va,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(ku,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>o.jsx(kg,{fill:r.color},`cell-${n}`))})]})})})})]})},m5e=({data:e})=>e.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(NT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ne,{children:"Top performing clinicians"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):o.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(NT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ne,{children:"Top performing clinicians by appointments"})]}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&o.jsx(je,{variant:"default",className:"text-xs",children:"Top Performer"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t.total_appointments," appointments"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),o.jsx("div",{className:"w-24",children:o.jsx(ff,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?o.jsx(Dc,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?o.jsx(Dc,{className:"w-4 h-4 text-warning"}):o.jsx(yX,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),g5e=({data:e})=>{const t=e.map(r=>({...r,date:vt(aP(r.date),"MMM d")}));return e.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wy,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ne,{children:"New patient registrations over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):o.jsxs(ie,{className:"col-span-full lg:col-span-1",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wy,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ne,{children:"Total patients over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(dw,{width:"100%",height:"100%",children:o.jsxs(o5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsx(Mw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Kl,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Gl,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(va,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(no,{wrapperStyle:{fontSize:"11px"}}),o.jsx(Mg,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},v5e=()=>{var Z,Y,ye,ke,Ke,nt,Ue,it,Mt,dr,W,z,X,ue,le,oe,Oe,ht,pt,nr,Ia,Yn;const{profile:e,signOut:t}=$r(),[r,n]=x.useState(30),{data:a,loading:i,error:s,refetch:l}=gge(r),[c,u]=x.useState("month"),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,m]=x.useState(null),[v,b]=x.useState(null),[y,w]=x.useState(null),[_,S]=x.useState(null),[N,k]=x.useState(null),[C,A]=x.useState(!1),[T,$]=x.useState(!1),[O,L]=x.useState(!1),[I,B]=x.useState(null),[H,V]=x.useState(""),[R,U]=x.useState(null),[G,te]=x.useState(!1),[Q,j]=x.useState(null),[P,E]=x.useState("upload");x.useEffect(()=>{(async()=>{A(!0);try{const[ct,wt,vn,Qi,As,Ts,Yl]=await Promise.all([Io.getSummary(c),Io.getPeakTimes(c),Io.getCancellationStats(c),Io.getConversionFunnel(c),Io.getNoShowRates(c),Io.getReceptionistWorkload(c),Io.getTimestampTrends(c)]);f(ct),p(wt),m(vn),b(Qi),w(As),S(Ts),k(Yl)}catch(ct){console.error("Failed to fetch report data:",ct)}finally{A(!1)}})()},[c]);const F=async()=>{$(!0);try{await Io.exportCSV(c),fe.success("Report exported successfully")}catch(ae){console.error("Export failed:",ae),fe.error("Failed to export report")}finally{$(!1)}},D=ae=>{var wt;const ct=(wt=ae.target.files)==null?void 0:wt[0];ct&&(B(ct),U(null),j(null),E("upload"))},K=async()=>{var ae,ct;if(I){te(!0);try{const wt=await mM.preview(I,H||void 0);U(wt),E("preview"),fe.success(`File parsed successfully. ${wt.total_rows} rows found.`)}catch(wt){console.error("Preview failed:",wt),(ae=wt.message)!=null&&ae.includes("password protected")?fe.error("File is password protected. Please enter the password."):(ct=wt.message)!=null&&ct.includes("Invalid password")?fe.error("Invalid password. Please try again."):fe.error(wt.message||"Failed to preview file")}finally{te(!1)}}},q=async()=>{if(I){te(!0),E("importing");try{const ae=await mM.importStudents(I,H||void 0);j(ae),E("complete"),fe.success(`Import complete! ${ae.summary.imported} students imported.`)}catch(ae){console.error("Import failed:",ae),fe.error(ae.message||"Import failed"),E("preview")}finally{te(!1)}}},J=()=>{B(null),V(""),U(null),j(null),E("upload")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:i,className:"hidden sm:flex",children:[o.jsx(uo,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),o.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:i,className:"sm:hidden",children:o.jsx(uo,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),o.jsx(je,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),o.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:t,children:[o.jsx(Nl,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs(vr,{value:r.toString(),onValueChange:ae=>n(parseInt(ae)),children:[o.jsx(sr,{className:"w-[140px] sm:w-[180px]",children:o.jsx(yr,{placeholder:"Select period"})}),o.jsxs(or,{children:[o.jsx(qe,{value:"7",children:"Last 7 days"}),o.jsx(qe,{value:"14",children:"Last 14 days"}),o.jsx(qe,{value:"30",children:"Last 30 days"}),o.jsx(qe,{value:"60",children:"Last 60 days"}),o.jsx(qe,{value:"90",children:"Last 90 days"})]})]})})]}),o.jsxs(Bl,{defaultValue:"analytics",className:"space-y-6",children:[o.jsxs(So,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[o.jsxs(Rt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(hd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),o.jsxs(Rt,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(rn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),o.jsxs(Rt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Bn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),o.jsxs(Rt,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(ly,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),o.jsx(lr,{value:"analytics",className:"space-y-6",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(ae=>o.jsx(Vt,{className:"h-28"},ae))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(Vt,{className:"h-80 lg:col-span-2"}),o.jsx(Vt,{className:"h-80"})]})]}):a?o.jsxs(o.Fragment,{children:[o.jsx(vge,{overview:a.overview}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(d5e,{data:a.appointment_trends}),o.jsx(f5e,{data:a.consultation_types})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(m5e,{data:a.clinician_performance}),o.jsx(g5e,{data:a.patient_growth})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(p5e,{data:a.status_distribution}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Quick Insights"})]}),o.jsx(Ne,{children:"Key performance indicators"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),o.jsxs("span",{className:"font-semibold",children:[a.overview.average_consultation_duration.toFixed(1)," min"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),o.jsxs("span",{className:"font-semibold text-success",children:[a.overview.completion_rate,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),o.jsx("span",{className:"font-semibold",children:a.overview.appointments_this_week})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),o.jsx("span",{className:"font-semibold",children:a.overview.total_prescriptions})]})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Failed to load analytics data"}),s&&o.jsx("p",{className:"text-sm mt-2 text-destructive",children:s}),o.jsx(ee,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),o.jsxs(lr,{value:"reports",className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(vr,{value:c,onValueChange:u,children:[o.jsx(sr,{className:"w-[150px]",children:o.jsx(yr,{placeholder:"Select period"})}),o.jsxs(or,{children:[o.jsx(qe,{value:"today",children:"Today"}),o.jsx(qe,{value:"week",children:"Last 7 days"}),o.jsx(qe,{value:"month",children:"Last 30 days"}),o.jsx(qe,{value:"quarter",children:"Last 90 days"}),o.jsx(qe,{value:"year",children:"Last year"})]})]}),o.jsxs(ee,{variant:"outline",onClick:F,disabled:T,children:[T?o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Rc,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),C?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(ae=>o.jsx(Vt,{className:"h-32"},ae))}):d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsx(Ne,{children:"Total Bookings"}),o.jsx(we,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ne,{className:"flex items-center gap-1",children:[o.jsx(Mr,{className:"w-3 h-3 text-green-500"}),"Completed"]}),o.jsx(we,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ne,{className:"flex items-center gap-1",children:[o.jsx(zi,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),o.jsx(we,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ne,{className:"flex items-center gap-1",children:[o.jsx(Ht,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),o.jsx(we,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),o.jsx(ce,{children:o.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),o.jsx(Ne,{children:"When are consultations most requested?"})]}),o.jsx(ce,{className:"space-y-4",children:h!=null&&h.insights?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),o.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),o.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(Z=h.by_day_of_week)==null?void 0:Z.map(ae=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ae.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?ae.count/h.insights.peak_day.bookings*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:ae.count})]},ae.day))]})]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),o.jsx(Ne,{children:"Distribution of consultation types"})]}),o.jsx(ce,{className:"space-y-3",children:((Y=d.service_breakdown)==null?void 0:Y.length)>0?d.service_breakdown.map(ae=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:ae.service_type}),o.jsxs("span",{className:"font-medium",children:[ae.count," (",ae.percentage,"%)"]})]}),o.jsx("div",{className:"bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${ae.percentage}%`}})})]},ae.service_type)):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),N&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ht,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),o.jsxs(Ne,{children:["When do students book consultations? Busiest time: ",(ke=(ye=N.summary)==null?void 0:ye.busiest_time_slot)==null?void 0:ke.description]})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(nt=(Ke=N.summary)==null?void 0:Ke.peak_hour)==null?void 0:nt.time}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsxs("p",{className:"text-sm text-blue-600",children:[(it=(Ue=N.summary)==null?void 0:Ue.peak_hour)==null?void 0:it.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(dr=(Mt=N.summary)==null?void 0:Mt.peak_day)==null?void 0:dr.day}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsxs("p",{className:"text-sm text-green-600",children:[(z=(W=N.summary)==null?void 0:W.peak_day)==null?void 0:z.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(X=N.summary)==null?void 0:X.total_appointments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),o.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),o.jsx("div",{className:"flex items-end gap-1 h-32",children:(ue=N.hourly_distribution)==null?void 0:ue.map(ae=>{var wt;const ct=((wt=N.scaling)==null?void 0:wt.max_hourly)>0?ae.count/N.scaling.max_hourly*100:0;return o.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[o.jsx("div",{className:`w-full rounded-t transition-all ${ae.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(ct,2)}%`},title:`${ae.hour}: ${ae.count} bookings`}),o.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:ae.hour_numeric%3===0?ae.hour.slice(0,2):""})]},ae.hour)})}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:"00:00"}),o.jsx("span",{children:"06:00"}),o.jsx("span",{children:"12:00"}),o.jsx("span",{children:"18:00"}),o.jsx("span",{children:"23:00"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:(le=N.daily_distribution)==null?void 0:le.map(ae=>{var wt;const ct=((wt=N.scaling)==null?void 0:wt.max_daily)>0?ae.count/N.scaling.max_daily:0;return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${ae.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(ct,.2)},children:ae.count}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:ae.day_short})]},ae.day)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-[600px]",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(ae=>o.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${ae}:00`},ae))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((ae,ct)=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:ae.slice(0,3)}),o.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(wt,vn)=>{var Yl,Dg,Pu;const Qi=(Dg=(Yl=N.heatmap)==null?void 0:Yl.data)==null?void 0:Dg.find(li=>li.day_index===ct&&li.hour_index===vn),As=(Qi==null?void 0:Qi.count)||0,Ts=((Pu=N.scaling)==null?void 0:Pu.max_heatmap)>0?As/N.scaling.max_heatmap:0;return o.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:As>0?`rgba(59, 130, 246, ${Math.max(Ts,.1)})`:"rgba(0,0,0,0.05)"},title:`${ae} ${vn}:00 - ${As} bookings`},vn)})})]},ae)),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),o.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((ae,ct)=>o.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${ae})`}},ct))}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((oe=N.daily_trend)==null?void 0:oe.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:N.daily_trend.map(ae=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-24 text-muted-foreground",children:ae.date}),o.jsx("div",{className:"flex-1 flex items-center gap-1",children:o.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(ae.total/Math.max(...N.daily_trend.map(ct=>ct.total||1))*100,5)}%`}})}),o.jsxs("span",{className:"w-20 text-right",children:[o.jsx("span",{className:"font-medium",children:ae.total}),ae.completed>0&&o.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",ae.completed,")"]})]})]},ae.date))})]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),o.jsx(Ne,{children:"Top clinicians by appointment volume"})]}),o.jsx(ce,{children:((Oe=d.top_clinicians)==null?void 0:Oe.length)>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),o.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),o.jsx("tbody",{children:d.top_clinicians.map(ae=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2",children:ae.clinician_name}),o.jsx("td",{className:"text-center py-2",children:ae.total_appointments}),o.jsx("td",{className:"text-center py-2 text-green-600",children:ae.completed}),o.jsx("td",{className:"text-center py-2 text-red-600",children:ae.cancelled}),o.jsxs("td",{className:"text-right py-2",children:[ae.total_appointments>0?Math.round(ae.completed/ae.total_appointments*100):0,"%"]})]},ae.clinician_name))})]})}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Dc,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),o.jsx(Ne,{children:"Patient journey from chat to completed consultation"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((ae,ct)=>{const wt=v.funnel.chats_initiated||1,vn=Math.max(ae.value/wt*100,5);return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-40 text-sm text-right",children:ae.label}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:o.jsx("div",{className:`${ae.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${vn}%`},children:o.jsx("span",{className:"text-white text-sm font-medium",children:ae.value})})})]},ae.label)})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),o.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),o.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[y&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(zi,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),o.jsx(Ne,{children:"Appointments missed without cancellation"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-red-600",children:y.summary.no_shows}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[y.summary.no_show_rate,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(ht=y.by_day_of_week)==null?void 0:ht.map(ae=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ae.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${y.summary.no_shows>0?ae.no_shows/y.summary.no_shows*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:ae.no_shows})]},ae.day))]})]})]}),_&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),o.jsx(Ne,{children:"Chat and booking distribution"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((pt=_.by_receptionist)==null?void 0:pt.length)>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(ae=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:ae.receptionist_name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[ae.chats_handled," chats  ",ae.bookings_created," bookings"]})]}),o.jsxs(je,{variant:ae.conversion_rate>=50?"default":"secondary",children:[ae.conversion_rate,"% conversion"]})]},ae.receptionist_id))]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(rn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No report data available"})]})]}),o.jsxs(lr,{value:"management",className:"space-y-6",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:o.jsx(Bn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"User Management"}),o.jsx(Ne,{children:"Manage all users"})]})]})}),o.jsxs(Di,{open:O,onOpenChange:ae=>{L(ae),ae||J()},children:[o.jsx(KS,{asChild:!0,children:o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:o.jsx(bX,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Bulk Import"}),o.jsx(Ne,{children:"Import students from Excel"})]})]})})}),o.jsxs(Ya,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Ja,{children:[o.jsxs(Xa,{className:"flex items-center gap-2",children:[o.jsx(jT,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),o.jsx(cf,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),P==="upload"&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(jT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsxs(xe,{htmlFor:"excel-upload",className:"cursor-pointer",children:[o.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),o.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),o.jsx(rt,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:D,className:"hidden"}),I&&o.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[o.jsx(pn,{className:"w-4 h-4"}),I.name," (",(I.size/1024).toFixed(1)," KB)"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"password",children:"File Password (if protected)"}),o.jsx(rt,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:H,onChange:ae=>V(ae.target.value)})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Expected Columns:"}),o.jsx("p",{className:"text-muted-foreground",children:"Quadcare Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All students (New and Existing at Campus Africa) will be imported",o.jsx("br",{})," Rows with invalid/missing email will be skipped",o.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",o.jsx("br",{}),' Students can use "Forgot Password" to set their login password']})]})]}),P==="preview"&&R&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.summary.to_import}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.summary.duplicates||0}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",R.total_rows," total rows:"]}),o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:o.jsxs(ZS,{children:[o.jsx(eN,{children:o.jsxs(tp,{children:[o.jsx(vi,{className:"w-12",children:"#"}),o.jsx(vi,{children:"Name"}),o.jsx(vi,{children:"Email"}),o.jsx(vi,{children:"Phone"}),o.jsx(vi,{children:"CA Status"}),o.jsx(vi,{children:"Action"})]})}),o.jsx(tN,{children:R.preview_rows.map(ae=>{var ct,wt;return o.jsxs(tp,{children:[o.jsx(yi,{className:"font-mono text-xs",children:ae.row_number}),o.jsxs(yi,{children:[ae.first_name," ",ae.last_name]}),o.jsx(yi,{className:"text-xs",children:ae.email}),o.jsx(yi,{className:"text-xs",children:ae.phone}),o.jsx(yi,{children:o.jsx(je,{variant:(ct=ae.status)!=null&&ct.includes("existing")?"secondary":"outline",children:ae.status||"New"})}),o.jsxs(yi,{children:[ae.import_action==="import"?o.jsxs(je,{variant:"default",className:"bg-green-600",children:[o.jsx(pn,{className:"w-3 h-3 mr-1"}),"Import"]}):ae.import_action==="duplicate"?o.jsx(je,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):o.jsxs(je,{variant:"destructive",children:[o.jsx(vu,{className:"w-3 h-3 mr-1"}),"Error"]}),((wt=ae.validation_errors)==null?void 0:wt.length)>0&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ae.validation_errors.join(", ")})]})]},ae.row_number)})})]})})]}),P==="importing"&&o.jsxs("div",{className:"space-y-4 py-8 text-center",children:[o.jsx(_t,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),o.jsx("p",{className:"text-lg font-medium",children:"Importing students..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"This may take a few minutes for large files. Please don't close this dialog."}),o.jsx(ff,{value:void 0,className:"w-full"})]}),P==="complete"&&Q&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx(pn,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),o.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:Q.summary.imported}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Q.summary.skipped}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Q.summary.duplicates}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:Q.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((nr=Q.details)==null?void 0:nr.length)>0&&o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:o.jsxs(ZS,{children:[o.jsx(eN,{children:o.jsxs(tp,{children:[o.jsx(vi,{className:"w-12",children:"#"}),o.jsx(vi,{children:"Email"}),o.jsx(vi,{children:"Status"}),o.jsx(vi,{children:"Details"})]})}),o.jsx(tN,{children:Q.details.slice(0,20).map((ae,ct)=>o.jsxs(tp,{children:[o.jsx(yi,{className:"font-mono text-xs",children:ae.row}),o.jsx(yi,{className:"text-xs",children:ae.email}),o.jsx(yi,{children:o.jsx(je,{variant:ae.status==="imported"?"default":ae.status==="skipped"?"secondary":ae.status==="duplicate"?"outline":"destructive",className:ae.status==="imported"?"bg-green-600":"",children:ae.status})}),o.jsx(yi,{className:"text-xs text-muted-foreground",children:ae.reason})]},ct))})]})}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),o.jsxs(xp,{children:[P==="upload"&&o.jsx(ee,{onClick:K,disabled:!I||G,children:G?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsx(o.Fragment,{children:"Preview File"})}),P==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(ee,{variant:"outline",onClick:()=>E("upload"),children:"Back"}),o.jsx(ee,{onClick:q,disabled:G||((Ia=R==null?void 0:R.summary)==null?void 0:Ia.to_import)===0,children:G?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Import ",(Yn=R==null?void 0:R.summary)==null?void 0:Yn.to_import," Students"]})})]}),P==="complete"&&o.jsx(ee,{onClick:()=>{L(!1),J()},children:"Done"})]})]})]}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:o.jsx(H5,{className:"w-6 h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Clinics"}),o.jsx(Ne,{children:"Manage clinic locations"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:o.jsx(Nt,{className:"w-6 h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Appointments"}),o.jsx(Ne,{children:"View all bookings"})]})]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(hd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),o.jsx(Ne,{children:"Recent system events and logs"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Activity logging coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),o.jsx(lr,{value:"settings",className:"space-y-6",children:o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(ly,{className:"w-5 h-5 text-primary"}),"System Settings"]}),o.jsx(Ne,{children:"Configure system parameters"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(ly,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Settings panel coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},y5e=()=>{const e=On(),{toast:t}=JC(),{user:r,profile:n,signOut:a,role:i}=$r(),{currentConversation:s,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=E6(),[p,g]=x.useState("unassigned"),[m,v]=x.useState([]),[b,y]=x.useState([]),[w,_]=x.useState([]),[S,N]=x.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,C]=x.useState(!1),[A,T]=x.useState(!1),[$,O]=x.useState("chat"),[L,I]=x.useState([]),[B,H]=x.useState(!1),[V,R]=x.useState(!1),[U,G]=x.useState([]),[te,Q]=x.useState([]),[j,P]=x.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),[E,F]=x.useState(!1),[D,K]=x.useState(!1),[q,J]=x.useState(!1),[Z,Y]=x.useState(null),[ye,ke]=x.useState(null);x.useEffect(()=>{(async()=>{if(s!=null&&s.booking_id)try{const ue=(await qs.list()).find(le=>le.id===s.booking_id);Y(ue||null)}catch(X){console.error("Error fetching booking:",X),Y(null)}else Y(null)})()},[s==null?void 0:s.booking_id]);const Ke=x.useCallback(async()=>{H(!0);try{const X=(await qs.list()||[]).sort((ue,le)=>new Date(ue.scheduled_at).getTime()-new Date(le.scheduled_at).getTime());I(X)}catch(z){console.error("Error loading bookings:",z)}finally{H(!1)}},[]);x.useEffect(()=>{$==="bookings"&&Ke()},[$,Ke]);const nt=async z=>{ke(z),K(!0)},Ue=async()=>{const z=ye||(s!=null&&s.booking_id?{id:s.booking_id}:null);if(z!=null&&z.id){J(!0);try{await qs.cancel(z.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),K(!1),ke(null),Y(null),it(),$==="bookings"&&Ke()}catch(X){t({title:"Error cancelling booking",description:X.message,variant:"destructive"})}finally{J(!1)}}},it=x.useCallback(async()=>{T(!0);try{const[z,X,ue,le]=await Promise.all([Gr.getUnassignedConversations(),Gr.getMyChats(),Gr.getConversations(),Gr.getStats()]);v(z||[]),y(X||[]),_(ue||[]),N(le||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(z){console.error("Error loading data:",z)}finally{T(!1)}},[]);x.useEffect(()=>{it();const z=setInterval(it,3e4);return()=>clearInterval(z)},[it]),x.useEffect(()=>{(async()=>{try{const[X,ue]=await Promise.all([qs.getFeeSchedule(),qs.getAvailableClinicians()]);G(X||[]),Q(ue||[]),console.log("Loaded clinicians:",ue)}catch(X){console.error("Error loading booking data:",X)}})()},[]);const Mt=async z=>{try{await f(z),t({title:"Chat claimed",description:"You are now handling this conversation"}),await it(),g("my-chats")}catch(X){t({title:"Error",description:X.message,variant:"destructive"})}},dr=async z=>{await u(z.id)},W=async()=>{if(!s||!j.clinician_id||!j.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}F(!0);try{await qs.create({patient_id:s.patient_id,clinician_id:j.clinician_id,conversation_id:s.id,scheduled_at:new Date(j.scheduled_at).toISOString(),service_type:j.service_type,billing_type:j.billing_type,notes:j.notes||void 0}),t({title:"Booking created",description:"The patient has been notified"}),R(!1),P({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),await u(s.id),await it()}catch(z){t({title:"Error creating booking",description:z.message,variant:"destructive"})}finally{F(!1)}};return i!=="admin"&&i!=="nurse"&&i!=="doctor"&&i!=="receptionist"?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs(ie,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),o.jsx(ee,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[o.jsxs(ee,{variant:$==="chat"?"default":"ghost",size:"sm",onClick:()=>O("chat"),children:[o.jsx(Yc,{className:"w-4 h-4 mr-2"}),"Chats"]}),o.jsxs(ee,{variant:$==="bookings"?"default":"ghost",size:"sm",onClick:()=>O("bookings"),children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(je,{variant:"secondary",className:"gap-1",children:[o.jsx(nX,{className:"w-3 h-3"}),S.unassigned_count," Unassigned"]}),o.jsxs(je,{variant:"default",className:"gap-1",children:[o.jsx(Yc,{className:"w-3 h-3"}),S.my_chats_count," My Chats"]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:a,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>C(!k),children:k?o.jsx(_o,{className:"w-5 h-5"}):o.jsx(lg,{className:"w-5 h-5"})})]})}),o.jsx("main",{className:"container mx-auto px-4 py-4",children:$==="chat"?o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[o.jsxs(ie,{className:"w-80 shrink-0 flex flex-col",children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Chat Queue"}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:it,disabled:A,children:A?o.jsx(_t,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(ce,{className:"flex-1 p-0 overflow-hidden",children:o.jsxs(Bl,{value:p,onValueChange:g,className:"h-full flex flex-col",children:[o.jsxs(So,{className:"grid grid-cols-3 mx-4",children:[o.jsxs(Rt,{value:"unassigned",className:"text-xs",children:["Unassigned",S.unassigned_count>0&&o.jsx(je,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:S.unassigned_count})]}),o.jsx(Rt,{value:"my-chats",className:"text-xs",children:"My Chats"}),o.jsx(Rt,{value:"all",className:"text-xs",children:"All"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx(lr,{value:"unassigned",className:"m-0 h-full",children:m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Mr,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No unassigned chats"})]}):o.jsx("div",{className:"divide-y",children:m.map(z=>o.jsxs("div",{className:"p-4 hover:bg-accent",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:z.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:z.last_message})]}),o.jsx(je,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:z.last_message_at&&vt(new Date(z.last_message_at),"HH:mm")}),o.jsxs(ee,{size:"sm",onClick:()=>Mt(z.id),children:[o.jsx(Wy,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},z.id))})}),o.jsx(lr,{value:"my-chats",className:"m-0 h-full",children:o.jsx(JS,{conversations:b,selectedId:s==null?void 0:s.id,onSelect:dr,showPatientName:!0})}),o.jsx(lr,{value:"all",className:"m-0 h-full",children:o.jsx(JS,{conversations:w,selectedId:s==null?void 0:s.id,onSelect:dr,showPatientName:!0})})]})]})})]}),o.jsx(ie,{className:"flex-1 flex flex-col",children:s?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:s.patient_name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(je,{variant:"outline",children:s.status.replace("_"," ")}),s.patient_type&&o.jsx(je,{variant:"secondary",children:s.patient_type.replace("_"," ")})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(vr,{value:s.patient_type||"",onValueChange:async z=>{await Gr.updatePatientType(s.id,z),await u(s.id)},children:[o.jsx(sr,{className:"w-[150px]",children:o.jsx(yr,{placeholder:"Patient Type"})}),o.jsxs(or,{children:[o.jsx(qe,{value:"medical_aid",children:"Medical Aid"}),o.jsx(qe,{value:"campus_africa",children:"Campus Africa"}),o.jsx(qe,{value:"university_student",children:"University Student"}),o.jsx(qe,{value:"cash",children:"Cash / Self-Pay"})]})]}),o.jsxs(Di,{open:V,onOpenChange:R,children:[o.jsx(KS,{asChild:!0,children:o.jsxs(ee,{disabled:s.status==="booked"||!!Z,children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),o.jsxs(Ya,{className:"max-w-md",children:[o.jsx(Ja,{children:o.jsxs(Xa,{children:["Create Booking for ",s.patient_name]})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Clinical Associate *"}),o.jsxs(vr,{value:j.clinician_id,onValueChange:z=>P(X=>({...X,clinician_id:z})),children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select clinician"})}),o.jsx(or,{children:te.length===0?o.jsx(qe,{value:"",disabled:!0,children:"No clinicians available"}):te.map(z=>o.jsxs(qe,{value:z.id,children:[z.name," (",z.specialization||z.role,")"]},z.id))})]}),te.length===0&&o.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Date & Time *"}),o.jsx(rt,{type:"datetime-local",value:j.scheduled_at,onChange:z=>P(X=>({...X,scheduled_at:z.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Service Type"}),o.jsxs(vr,{value:j.service_type,onValueChange:z=>P(X=>({...X,service_type:z})),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:U.map(z=>o.jsxs(qe,{value:z.service_type,children:[z.name," - R",z.price]},z.service_type))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Billing Type"}),o.jsxs(vr,{value:j.billing_type,onValueChange:z=>P(X=>({...X,billing_type:z})),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsxs(or,{children:[o.jsx(qe,{value:"medical_aid",children:"Medical Aid"}),o.jsx(qe,{value:"campus_africa",children:"Campus Africa"}),o.jsx(qe,{value:"university_student",children:"University Student"}),o.jsx(qe,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Notes (optional)"}),o.jsx(Fr,{value:j.notes,onChange:z=>P(X=>({...X,notes:z.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),j.billing_type==="cash"&&o.jsx("div",{className:"p-3 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),o.jsxs(xp,{children:[o.jsx(ee,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),o.jsx(ee,{onClick:W,disabled:E||!j.clinician_id,children:E?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),Z&&o.jsxs(Di,{open:D,onOpenChange:K,children:[o.jsx(KS,{asChild:!0,children:o.jsxs(ee,{variant:"destructive",size:"sm",children:[o.jsx(zi,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),o.jsxs(Ya,{className:"max-w-md",children:[o.jsxs(Ja,{children:[o.jsxs(Xa,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Hn,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(cf,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:s.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:Z.scheduled_at?ea(Z.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:Z.service_type})]}),Z.clinician_name&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("span",{className:"font-medium",children:Z.clinician_name})]})]})}),o.jsxs(xp,{children:[o.jsx(ee,{variant:"outline",onClick:()=>K(!1),children:"Keep Booking"}),o.jsx(ee,{variant:"destructive",onClick:Ue,disabled:q,children:q?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),o.jsx(O8,{messages:l,currentUserId:r==null?void 0:r.id}),o.jsx(A8,{onSend:d,disabled:s.status==="closed"})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Bn,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),o.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):o.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[o.jsxs(ie,{className:"h-full flex flex-col",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),o.jsx(Ne,{children:"Manage upcoming and past consultations"})]}),o.jsx(ee,{variant:"outline",size:"sm",onClick:Ke,disabled:B,children:B?o.jsx(_t,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(ce,{className:"flex-1 overflow-y-auto",children:B?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(_t,{className:"w-8 h-8 animate-spin text-primary"})}):L.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),o.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):o.jsx("div",{className:"space-y-3",children:L.map(z=>{var oe;const X=new Date(z.scheduled_at)<new Date,ue=z.status==="cancelled",le=z.status==="completed";return o.jsx("div",{className:`p-4 rounded-lg border ${ue?"border-red-200 bg-red-50 dark:bg-red-900/10":le?"border-green-200 bg-green-50 dark:bg-green-900/10":X?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:z.patient_name||"Patient"}),o.jsx(je,{variant:ue?"destructive":le||z.status==="confirmed"?"default":"secondary",children:z.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[ea(z.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Service: ",o.jsx("span",{className:"text-foreground",children:z.service_type})]}),z.clinician_name&&o.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",o.jsx("span",{className:"text-foreground",children:z.clinician_name})]}),o.jsxs("span",{className:"text-muted-foreground",children:["Type: ",o.jsx("span",{className:"text-foreground capitalize",children:(oe=z.billing_type)==null?void 0:oe.replace("_"," ")})]})]})]}),!ue&&!le&&!X&&o.jsxs(ee,{variant:"destructive",size:"sm",onClick:()=>nt(z),children:[o.jsx(zi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},z.id)})})})]}),o.jsx(Di,{open:D&&!!ye,onOpenChange:z=>{z||(K(!1),ke(null))},children:o.jsxs(Ya,{className:"max-w-md",children:[o.jsxs(Ja,{children:[o.jsxs(Xa,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Hn,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(cf,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),ye&&o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:ye.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:ea(ye.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:ye.service_type})]})]})}),o.jsxs(xp,{children:[o.jsx(ee,{variant:"outline",onClick:()=>{K(!1),ke(null)},children:"Keep Booking"}),o.jsx(ee,{variant:"destructive",onClick:Ue,disabled:q,children:q?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},x5e=()=>o.jsx(P6,{children:o.jsx(y5e,{})});function e4(e,t){if(e==null)return{};var r,n,a=function(s,l){if(s==null)return{};var c={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(l.indexOf(u)!==-1)continue;c[u]=s[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(e)}function v7(e){var t=function(r,n){if(mt(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n);if(mt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return mt(t)=="symbol"?t:t+""}function t4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v7(n.key),n)}}function $a(e,t,r){return t&&t4(e.prototype,t),r&&t4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rw(e,t){if(t&&(mt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Yi(e){return Yi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yi(e)}function Xm(e,t){return Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Xm(e,t)}function Dw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function ss(e,t,r){return(t=v7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r4(e,t,r,n,a,i,s){try{var l=e[i](s),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function He(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(c){r4(i,n,a,s,l,"next",c)}function l(c){r4(i,n,a,s,l,"throw",c)}s(void 0)})}}function n4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function En(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,s,l,c,u=[],d=!0,f=!1;try{if(l=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return n4(r,n);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n4(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function b5e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a4,Tv={exports:{}},Ak=function(){if(a4)return Tv.exports;a4=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,v,b){return Function.prototype.apply.call(m,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function a(){a.init.call(this)}Tv.exports=a,Tv.exports.once=function(m,v){return new Promise(function(b,y){function w(S){m.removeListener(v,_),y(S)}function _(){typeof m.removeListener=="function"&&m.removeListener("error",w),b([].slice.call(arguments))}g(m,v,_,{once:!0}),v!=="error"&&function(S,N,k){typeof S.on=="function"&&g(S,"error",N,k)}(m,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function s(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?a.defaultMaxListeners:m._maxListeners}function c(m,v,b,y){var w,_,S,N;if(s(b),(_=m._events)===void 0?(_=m._events=Object.create(null),m._eventsCount=0):(_.newListener!==void 0&&(m.emit("newListener",v,b.listener?b.listener:b),_=m._events),S=_[v]),S===void 0)S=_[v]=b,++m._eventsCount;else if(typeof S=="function"?S=_[v]=y?[b,S]:[S,b]:y?S.unshift(b):S.push(b),(w=l(m))>0&&S.length>w&&!S.warned){S.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=m,k.type=v,k.count=S.length,N=k,console&&console.warn&&console.warn(N)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,v,b){var y={fired:!1,wrapFn:void 0,target:m,type:v,listener:b},w=u.bind(y);return w.listener=b,y.wrapFn=w,w}function f(m,v,b){var y=m._events;if(y===void 0)return[];var w=y[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var S=new Array(_.length),N=0;N<S.length;++N)S[N]=_[N].listener||_[N];return S}(w):p(w,w.length)}function h(m){var v=this._events;if(v!==void 0){var b=v[m];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(m,v){for(var b=new Array(v),y=0;y<v;++y)b[y]=m[y];return b}function g(m,v,b,y){if(typeof m.on=="function")y.once?m.once(v,b):m.on(v,b);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(v,function w(_){y.once&&m.removeEventListener(v,w),b(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(m){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var y=m==="error",w=this._events;if(w!==void 0)y=y&&w.error===void 0;else if(!y)return!1;if(y){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var N=w[m];if(N===void 0)return!1;if(typeof N=="function")r(N,this,v);else{var k=N.length,C=p(N,k);for(b=0;b<k;++b)r(C[b],this,v)}return!0},a.prototype.addListener=function(m,v){return c(this,m,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,v){return c(this,m,v,!0)},a.prototype.once=function(m,v){return s(v),this.on(m,d(this,m,v)),this},a.prototype.prependOnceListener=function(m,v){return s(v),this.prependListener(m,d(this,m,v)),this},a.prototype.removeListener=function(m,v){var b,y,w,_,S;if(s(v),(y=this._events)===void 0)return this;if((b=y[m])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete y[m],y.removeListener&&this.emit("removeListener",m,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){S=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(N,k){for(;k+1<N.length;k++)N[k]=N[k+1];N.pop()}(b,w),b.length===1&&(y[m]=b[0]),y.removeListener!==void 0&&this.emit("removeListener",m,S||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var v,b,y;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[m]),this;if(arguments.length===0){var w,_=Object.keys(b);for(y=0;y<_.length;++y)(w=_[y])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[m])=="function")this.removeListener(m,v);else if(v!==void 0)for(y=v.length-1;y>=0;y--)this.removeListener(m,v[y]);return this},a.prototype.listeners=function(m){return f(this,m,!0)},a.prototype.rawListeners=function(m){return f(this,m,!1)},a.listenerCount=function(m,v){return typeof m.listenerCount=="function"?m.listenerCount(v):h.call(m,v)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Tv.exports}(),Mv=b5e(Ak),i4=Object.prototype.hasOwnProperty;function s4(e,t,r){for(r of e.keys())if(In(r,t))return r}function In(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&In(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((a=n)&&typeof a=="object"&&!(a=s4(t,a))||!t.has(a))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((a=n[0])&&typeof a=="object"&&!(a=s4(t,a))||!In(n[1],t.get(a)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(i4.call(e,r)&&++n&&!i4.call(t,r)||!(r in t)||!In(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const w5e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},y7={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},br={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},An={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},zo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class se{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const a=se.getVersionPrecision(t),i=se.getVersionPrecision(r);let s=Math.max(a,i),l=0;const c=se.map([t,r],u=>{const d=s-se.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return se.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=s-Math.min(a,i)),s-=1;s>=l;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===l)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)n.push(r(t[a]));return n}static find(t,r){let n,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,a=t.length;n<a;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let a,i;if(Object.assign)return Object.assign(t,...r);for(a=0,i=r.length;a<i;a+=1){const s=r[a];typeof s=="object"&&s!==null&&Object.keys(s).forEach(l=>{n[l]=s[l]})}return t}static getBrowserAlias(t){return w5e[t]}static getBrowserTypeByAlias(t){return y7[t]||""}}const $t=/version\/(\d+(\.?_?\d+)+)/i,_5e=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=se.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=se.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=se.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=se.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=se.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=se.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=se.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=se.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=se.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=se.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=se.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=se.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=se.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=se.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=se.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=se.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=se.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=se.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=se.getFirstMatch($t,e)||se.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=se.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=se.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=se.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=se.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=se.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=se.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=se.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=se.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=se.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=se.getFirstMatch($t,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:se.getFirstMatch(t,e),version:se.getSecondMatch(t,e)}}}];var j5e=[{test:[/Roku\/DVP/],describe(e){const t=se.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:An.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=se.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:An.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=se.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=se.getWindowsVersionName(t);return{name:An.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:An.iOS},r=se.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=se.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=se.getMacOSVersionName(t),n={name:An.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=se.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:An.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=se.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=se.getAndroidVersionName(t),n={name:An.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=se.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:An.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=se.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||se.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||se.getFirstMatch(/\bbb(\d+)/i,e);return{name:An.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=se.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:An.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=se.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:An.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:An.Linux})},{test:[/CrOS/],describe:()=>({name:An.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=se.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:An.PlayStation4,version:t}}}],S5e=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=se.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:br.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:br.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:br.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:br.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:br.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=se.getFirstMatch(/(ipod|iphone)/i,e);return{type:br.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:br.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:br.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:br.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:br.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:br.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:br.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:br.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:br.tv})}],N5e=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:zo.Blink};const t=se.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:zo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:zo.Trident},r=se.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:zo.Presto},r=se.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:zo.Gecko},r=se.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:zo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:zo.WebKit},r=se.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class o4{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=se.find(_5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=se.find(j5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=se.find(S5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=se.find(N5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return se.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const a={};let i=0;if(Object.keys(t).forEach(s=>{const l=t[s];typeof l=="string"?(a[s]=l,i+=1):typeof l=="object"&&(r[s]=l,n+=1)}),n>0){const s=Object.keys(r),l=se.find(s,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=se.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const s=Object.keys(a),l=se.find(s,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=se.getBrowserTypeByAlias(a);return r&&i&&(a=i.toLowerCase()),a===n}compareVersion(t){let r=[0],n=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(a=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(a=!0,n=t.substr(1)),r.indexOf(se.compareVersions(i,n,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class k5e{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new o4(t,r)}static parse(t){return new o4(t).getResult()}static get BROWSER_MAP(){return y7}static get ENGINE_MAP(){return zo}static get OS_MAP(){return An}static get PLATFORMS_MAP(){return br}}function Lw(){return Date.now()+Math.random().toString()}function Hh(){throw new Error("Method must be implemented in subclass")}function x7(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Cb(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:x7("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Eb(e){try{new URL(e)}catch{return!1}return!0}const Bt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Uc="8.55.0",jt=globalThis;function Pb(e,t,r){const n=jt,a=n.__SENTRY__=n.__SENTRY__||{},i=a[Uc]=a[Uc]||{};return i[e]||(i[e]=t())}const Cu=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Tk=["debug","info","warn","error","log","assert","trace"],Ob={};function $g(e){if(!("console"in jt))return e();const t=jt.console,r={},n=Object.keys(Ob);n.forEach(a=>{const i=Ob[a];r[a]=t[a],t[a]=i});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}const Qe=Pb("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Cu?Tk.forEach(r=>{t[r]=(...n)=>{e&&$g(()=>{jt.console[r](`Sentry Logger [${r}]:`,...n)})}}):Tk.forEach(r=>{t[r]=()=>{}}),t}),Cc="?",l4=/\(error: (.*)\)/,c4=/captureMessage|captureException/;function $v(e){return e[e.length-1]||{}}const u4="<anonymous>";function Ol(e){try{return e&&typeof e=="function"&&e.name||u4}catch{return u4}}function d4(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const gy={},f4={};function zc(e,t){gy[e]=gy[e]||[],gy[e].push(t)}function Vc(e,t){if(!f4[e]){f4[e]=!0;try{t()}catch(r){Cu&&Qe.error(`Error while instrumenting ${e}`,r)}}}function Fi(e,t){const r=e&&gy[e];if(r)for(const n of r)try{n(t)}catch(a){Cu&&Qe.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ol(n)}
Error:`,a)}}let Lj=null;function C5e(){Lj=jt.onerror,jt.onerror=function(e,t,r,n,a){return Fi("error",{column:n,error:a,line:r,msg:e,url:t}),!!Lj&&Lj.apply(this,arguments)},jt.onerror.__SENTRY_INSTRUMENTED__=!0}let Fj=null;function E5e(){Fj=jt.onunhandledrejection,jt.onunhandledrejection=function(e){return Fi("unhandledrejection",e),!Fj||Fj.apply(this,arguments)},jt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function Fw(){return BO(jt),jt}function BO(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Uc,t[Uc]=t[Uc]||{}}const b7=Object.prototype.toString;function UO(e){switch(b7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return cu(e,Error)}}function bh(e,t){return b7.call(e)===`[object ${t}]`}function w7(e){return bh(e,"ErrorEvent")}function h4(e){return bh(e,"DOMError")}function Zs(e){return bh(e,"String")}function zO(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Mk(e){return e===null||zO(e)||typeof e!="object"&&typeof e!="function"}function zf(e){return bh(e,"Object")}function Bw(e){return typeof Event<"u"&&cu(e,Event)}function Uw(e){return!!(e&&e.then&&typeof e.then=="function")}function cu(e,t){try{return e instanceof t}catch{return!1}}function _7(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const VO=jt;function j7(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let i=0,s=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=P5e(r,d),!(u==="html"||i>1&&s+a.length*c+u.length>=f));)a.push(u),s+=u.length,r=r.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function P5e(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(VO.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t&&t.length?t.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(a&&a.length)a.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const s=r.className;if(s&&Zs(s)){const l=s.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const s of i){const l=r.getAttribute(s);l&&n.push(`[${s}="${l}"]`)}return n.join("")}function Rd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function p4(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{_7(a)?r.push("[VueViewModel]"):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function O5e(e,t,r=!1){return!!Zs(e)&&(bh(t,"RegExp")?t.test(e):!!Zs(t)&&(r?e===t:e.includes(t)))}function Iv(e,t=[],r=!1){return t.some(n=>O5e(e,n,r))}function Sa(e,t,r){if(!(t in e))return;const n=e[t],a=r(n);typeof a=="function"&&S7(a,n);try{e[t]=a}catch{Cu&&Qe.log(`Failed to replace method "${t}" in object`,e)}}function uu(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{Cu&&Qe.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function S7(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,uu(e,"__sentry_original__",t)}catch{}}function WO(e){return e.__sentry_original__}function N7(e){if(UO(e))return{message:e.message,name:e.name,stack:e.stack,...g4(e)};if(Bw(e)){const t={type:e.type,target:m4(e.target),currentTarget:m4(e.currentTarget),...g4(e)};return typeof CustomEvent<"u"&&cu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function m4(e){try{return t=e,typeof Element<"u"&&cu(t,Element)?j7(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function g4(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function qa(e){return $k(e,new Map)}function $k(e,t){if(function(r){if(!zf(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(n[a]=$k(e[a],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(a=>{n.push($k(a,t))}),n}return e}function Ig(){return Date.now()/1e3}const io=function(){const{performance:e}=jt;if(!e||!e.now)return Ig;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function Za(){const e=jt,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function k7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Go(e){const{message:t,event_id:r}=e;if(t)return t;const n=k7(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Ik(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Vf(e,t){const r=k7(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const a={...n&&n.data,...t.data};r.mechanism.data=a}}function v4(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{uu(e,"__sentry_captured__",!0)}catch{}return!1}var Vs;function du(e){return new za(t=>{t(e)})}function Ab(e){return new za((t,r)=>{r(e)})}(()=>{const{performance:e}=jt;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Vs||(Vs={}));class za{constructor(t){za.prototype.__init.call(this),za.prototype.__init2.call(this),za.prototype.__init3.call(this),za.prototype.__init4.call(this),this._state=Vs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new za((n,a)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(s){a(s)}else n(i)},i=>{if(r)try{n(r(i))}catch(s){a(s)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new za((r,n)=>{let a,i;return this.then(s=>{i=!1,a=s,t&&t()},s=>{i=!0,a=s,t&&t()}).then(()=>{i?n(a):r(a)})})}__init(){this._resolve=t=>{this._setResult(Vs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Vs.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===Vs.PENDING&&(Uw(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Vs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Vs.RESOLVED&&r[1](this._value),this._state===Vs.REJECTED&&r[2](this._value),r[0]=!0)})}}}function A5e(e){const t=io(),r={sid:Za(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return qa({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Wf(r,e),r}function Wf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||io(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Za()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function y4(){return Za()}function Rk(){return Za().substring(16)}function zw(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=zw(n[a],t[a],r-1));return n}const Dk="_sentrySpan";function x4(e,t){t?uu(e,Dk,t):delete e[Dk]}function b4(e){return e[Dk]}class HO{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:y4(),spanId:Rk()}}clone(){const t=new HO;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,x4(t,b4(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Wf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,a]=r instanceof Al?[r.getScopeData(),r.getRequestSession()]:zf(r)?[t,t.requestSession]:[],{tags:i,extra:s,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,x4(this,void 0),this._attachments=[],this.setPropagationContext({traceId:y4()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const a={timestamp:Ig(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:b4(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=zw(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Rk(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Za();if(!this._client)return Qe.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=n&&n.event_id?n.event_id:Za();if(!this._client)return Qe.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Za();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Qe.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Al=HO;class T5e{constructor(t,r){let n,a;n=t||new Al,a=r||new Al,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return Uw(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Hf(){const e=BO(Fw());return e.stack=e.stack||new T5e(Pb("defaultCurrentScope",()=>new Al),Pb("defaultIsolationScope",()=>new Al))}function M5e(e){return Hf().withScope(e)}function $5e(e,t){const r=Hf();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function w4(e){return Hf().withScope(()=>e(Hf().getIsolationScope()))}function qO(e){const t=BO(e);return t.acs?t.acs:{withIsolationScope:w4,withScope:M5e,withSetScope:$5e,withSetIsolationScope:(r,n)=>w4(n),getCurrentScope:()=>Hf().getScope(),getIsolationScope:()=>Hf().getIsolationScope()}}function Eu(){return qO(Fw()).getCurrentScope()}function Rg(){return qO(Fw()).getIsolationScope()}function kn(){return Eu().getClient()}function I5e(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:a}=t;return qa({trace_id:r,span_id:n,parent_span_id:a})}function R5e(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,a]]of t)(r[n]||(r[n]=[])).push(qa(a));return r}const D5e=/^sentry-/;function L5e(e){const t=function(n){if(!(!n||!Zs(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((a,i)=>{const s=_4(i);return Object.entries(s).forEach(([l,c])=>{a[l]=c}),a},{}):_4(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,i])=>(a.match(D5e)&&(n[a.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function _4(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let j4=!1;function F5e(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return qa({parent_span_id:n?t:KO(e).parent_span_id,span_id:n?Rk():t,trace_id:r})}function S4(e){return typeof e=="number"?N4(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?N4(e.getTime()):io()}function N4(e){return e>9999999999?e/1e3:e}function KO(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const a=n;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:n,startTime:a,name:i,endTime:s,parentSpanId:l,status:c}=e;return qa({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:S4(a),timestamp:S4(s)||void 0,status:B5e(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:R5e(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function B5e(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function C7(e){return e._sentryRootSpan||e}function U5e(){j4||($g(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),j4=!0)}const GO="production";function E7(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a=qa({environment:r.environment||GO,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",a),a}function z5e(e){const t=kn();if(!t)return{};const r=C7(e),n=r._frozenDsc;if(n)return n;const a=r.spanContext().traceState,i=a&&a.get("sentry.dsc"),s=i&&L5e(i);if(s)return s;const l=E7(e.spanContext().traceId,t),c=KO(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=kn(),m=g&&g.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(p){const{traceFlags:g}=p.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const V5e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Tb(e,t=!1){const{host:r,path:n,pass:a,port:i,projectId:s,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${s}`}function k4(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function W5e(e){const t=typeof e=="string"?function(r){const n=V5e.exec(r);if(!n)return void $g(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[a,i,s="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const p=f.match(/^\d+/);p&&(f=p[0])}return k4({host:l,pass:s,path:d,projectId:f,port:c,protocol:a,publicKey:i})}(e):k4(e);if(t&&function(r){if(!Cu)return!0;const{port:n,projectId:a,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(s=>!r[s]&&(Qe.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(a.match(/^\d+$/)?function(s){return s==="http"||s==="https"}(i)?n&&isNaN(parseInt(n,10))&&(Qe.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(Qe.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(Qe.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function Ws(e,t=100,r=1/0){try{return Lk("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function P7(e,t=3,r=102400){const n=Ws(e,t);return a=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>r?P7(e,t-1,r):n;var a}function Lk(e,t,r=1/0,n=1/0,a=function(){const i=typeof WeakSet=="function",s=i?new WeakSet:[];return[function(l){if(i)return!!s.has(l)||(s.add(l),!1);for(let c=0;c<s.length;c++)if(s[c]===l)return!0;return s.push(l),!1},function(l){if(i)s.delete(l);else for(let c=0;c<s.length;c++)if(s[c]===l){s.splice(c,1);break}}]}()){const[i,s]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(p,g){try{if(p==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(_7(g))return"[VueViewModel]";if(zf(m=g)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${Ol(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const y=Object.getPrototypeOf(b);return y?y.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return Lk("",u.toJSON(),c-1,n,a)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=N7(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const g=h[p];d[p]=Lk(p,g,c-1,n,a),f++}return s(t),d}function Qm(e,t=[]){return[e,t]}function H5e(e,t){const[r,n]=e;return[r,[...n,t]]}function C4(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function Fk(e){return jt.__SENTRY__&&jt.__SENTRY__.encodePolyfill?jt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function q5e(e){const[t,r]=e;let n=JSON.stringify(t);function a(i){typeof n=="string"?n=typeof i=="string"?n+i:[Fk(n),i]:n.push(typeof i=="string"?Fk(i):i)}for(const i of r){const[s,l]=i;if(a(`
${JSON.stringify(s)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Ws(l))}a(c)}}return typeof n=="string"?n:function(i){const s=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(s);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function K5e(e){const t=typeof e.data=="string"?Fk(e.data):e.data;return[qa({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const G5e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function E4(e){return G5e[e]}function O7(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Y5e(e,t,r,n){const a=O7(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const s=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Tb(d)},...f&&{trace:qa({...f})}}}(e,a,n,t);return delete e.sdkProcessingMetadata,Qm(s,[[{type:i},e]])}function Bk(e,t,r,n=0){return new za((a,i)=>{const s=e[n];if(t===null||typeof s!="function")a(t);else{const l=s({...t},r);Bt&&s.id&&l===null&&Qe.log(`Event processor "${s.id}" dropped event`),Uw(l)?l.then(c=>Bk(e,c,r,n+1).then(a)).then(null,i):Bk(e,l,r,n+1).then(a).then(null,i)}})}let Rv,P4,Bj;function J5e(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(s,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:p}=l,g=qa(c);g&&Object.keys(g).length&&(s.extra={...g,...s.extra});const m=qa(u);m&&Object.keys(m).length&&(s.tags={...m,...s.tags});const v=qa(d);v&&Object.keys(v).length&&(s.user={...v,...s.user});const b=qa(f);b&&Object.keys(b).length&&(s.contexts={...b,...s.contexts}),h&&(s.level=h),p&&s.type!=="transaction"&&(s.transaction=p)})(e,t),n&&function(s,l){s.contexts={trace:F5e(l),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:z5e(l),...s.sdkProcessingMetadata};const c=C7(l),u=KO(c).description;u&&!s.transaction&&s.type==="transaction"&&(s.transaction=u)}(e,n),function(s,l){s.fingerprint=s.fingerprint?Array.isArray(s.fingerprint)?s.fingerprint:[s.fingerprint]:[],l&&(s.fingerprint=s.fingerprint.concat(l)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}(e,r),function(s,l){const c=[...s.breadcrumbs||[],...l];s.breadcrumbs=c.length?c:void 0}(e,a),function(s,l){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...l}}(e,i)}function O4(e,t){const{extra:r,tags:n,user:a,contexts:i,level:s,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:g}=t;Dv(e,"extra",r),Dv(e,"tags",n),Dv(e,"user",a),Dv(e,"contexts",i),e.sdkProcessingMetadata=zw(e.sdkProcessingMetadata,l,2),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Dv(e,t,r){e[t]=zw(e[t],r,1)}function X5e(e,t,r,n,a,i){const{normalizeDepth:s=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Za(),timestamp:t.timestamp||Ig()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,m){const{environment:v,release:b,dist:y,maxValueLength:w=250}=m;g.environment=g.environment||v||GO,!g.release&&b&&(g.release=b),!g.dist&&y&&(g.dist=y),g.message&&(g.message=Rd(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=Rd(_.value,w));const S=g.request;S&&S.url&&(S.url=Rd(S.url,w))})(c,e),function(g,m){m.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...m])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,m){const v=function(b){const y=jt._sentryDebugIds;if(!y)return{};const w=Object.keys(y);return Bj&&w.length===P4||(P4=w.length,Bj=w.reduce((_,S)=>{Rv||(Rv={});const N=Rv[S];if(N)_[N[0]]=N[1];else{const k=b(S);for(let C=k.length-1;C>=0;C--){const A=k[C],T=A&&A.filename,$=y[S];if(T&&$){_[T]=$,Rv[S]=[T,$];break}}}return _},{})),Bj}(m);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(y=>{v&&y.filename&&(y.debug_id=v[y.filename])})})}catch{}}(c,e.stackParser);const d=function(g,m){if(!m)return g;const v=g?g.clone():new Al;return v.update(m),v}(n,r.captureContext);r.mechanism&&Vf(c,r.mechanism);const f=a?a.getEventProcessors():[],h=Pb("globalScope",()=>new Al).getScopeData();i&&O4(h,i.getScopeData()),d&&O4(h,d.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),J5e(c,h),Bk([...f,...h.eventProcessors],c,r).then(g=>(g&&function(m){const v={};try{m.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const b=m.debug_meta.images;Object.entries(v).forEach(([y,w])=>{b.push({type:"sourcemap",code_file:y,debug_id:w})})}(g),typeof s=="number"&&s>0?function(m,v,b){if(!m)return null;const y={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(w=>({...w,...w.data&&{data:Ws(w.data,v,b)}}))},...m.user&&{user:Ws(m.user,v,b)},...m.contexts&&{contexts:Ws(m.contexts,v,b)},...m.extra&&{extra:Ws(m.extra,v,b)}};return m.contexts&&m.contexts.trace&&y.contexts&&(y.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(y.contexts.trace.data=Ws(m.contexts.trace.data,v,b))),m.spans&&(y.spans=m.spans.map(w=>({...w,...w.data&&{data:Ws(w.data,v,b)}}))),m.contexts&&m.contexts.flags&&y.contexts&&(y.contexts.flags=Ws(m.contexts.flags,3,b)),y}(g,s,l):g))}function A4(e,t){return Eu().captureEvent(e,t)}function T4(e){const t=kn(),r=Rg(),n=Eu(),{release:a,environment:i=GO}=t&&t.getOptions()||{},{userAgent:s}=jt.navigator||{},l=A5e({release:a,environment:i,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...e}),c=r.getSession();return c&&c.status==="ok"&&Wf(c,{status:"exited"}),A7(),r.setSession(l),n.setSession(l),l}function A7(){const e=Rg(),t=Eu(),r=t.getSession()||e.getSession();r&&function(n,a){let i={};n.status==="ok"&&(i={status:"exited"}),Wf(n,i)}(r),T7(),e.setSession(),t.setSession()}function T7(){const e=Rg(),t=Eu(),r=kn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function M4(e=!1){e?A7():T7()}function Q5e(e,t,r){return t||`${function(n){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",s=a.port?`:${a.port}`:"";return`${i}//${a.host}${s}${a.path?`/${a.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,a){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,r)}`}const $4=[];function I4(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function R4(e,t,r){if(r[t.name])Bt&&Qe.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,$4.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),$4.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>n(a,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((i,s)=>n(i,s,e),{id:t.name});e.addEventProcessor(a)}Bt&&Qe.log(`Integration installed: ${t.name}`)}}class bi extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const D4="Not capturing exception because it's already been captured.";class Z5e{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=W5e(t.dsn):Bt&&Qe.warn("No DSN provided, client will not send events."),this._dsn){const n=Q5e(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&$g(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const a=Za();if(v4(t))return Bt&&Qe.log(D4),a;const i={event_id:a,...r};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,n))),i.event_id}captureMessage(t,r,n,a){const i={event_id:Za(),...n},s=zO(t)?t:String(t),l=Mk(t)?this.eventFromMessage(s,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,r,n){const a=Za();if(r&&r.originalException&&v4(r.originalException))return Bt&&Qe.log(D4),a;const i={event_id:a,...r},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,s||n)),i.event_id}captureSession(t){typeof t.release!="string"?Bt&&Qe.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Wf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(a=>n&&a))):du(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];R4(this,t,this._integrations),r||I4(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=Y5e(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=H5e(n,K5e(i));const a=this.sendEnvelope(n);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,a,i,s){const l=O7(i);return Qm({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!s&&a&&{dsn:Tb(a)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const a=typeof n=="number"?n:1,i=`${t}:${r}`;Bt&&Qe.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const a=n.indexOf(r);a>-1&&n.splice(a,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Bt&&Qe.error("Error while sending envelope:",r),r)):(Bt&&Qe.error("Transport disabled"),du({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const a={};return n.forEach(i=>{i&&R4(r,i,a)}),a}(this,t),I4(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",a=!1;const i=r.exception&&r.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&n)&&(Wf(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new za(r=>{let n=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=1,t&&n>=t&&(clearInterval(a),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=Eu(),a=Rg()){const i=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),X5e(i,t,r,n,this,a).then(l=>{if(l===null)return l;l.contexts={trace:I5e(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||E7(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(a=>a.event_id,a=>{Bt&&(a instanceof bi&&a.logLevel==="log"?Qe.log(a.message):Qe.warn(a))})}_processEvent(t,r,n){const a=this.getOptions(),{sampleRate:i}=a,s=F4(t),l=L4(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const g=typeof p=="string"?parseFloat(p):p;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Bt&&Qe.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Ab(new bi(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f,t),new bi("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const g=function(m,v,b,y){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:S}=v;if(L4(b)&&w)return w(b,y);if(F4(b)){if(b.spans&&S){const N=[];for(const k of b.spans){const C=S(k);C?N.push(C):(U5e(),m.recordDroppedEvent("before_send","span"))}b.spans=N}if(_){if(b.spans){const N=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return _(b,y)}}return b}(this,a,p,r);return function(m,v){const b=`${v} must return \`null\` or a valid event.`;if(Uw(m))return m.then(y=>{if(!zf(y)&&y!==null)throw new bi(b);return y},y=>{throw new bi(`${v} rejected with ${y}`)});if(!zf(m)&&m!==null)throw new bi(b);return m}(g,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f,t),s){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new bi(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!s&&g&&this._updateSessionFromEvent(g,p),s){const v=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const m=p.transaction_info;if(s&&m&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...m,source:v}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof bi?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new bi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,i]=r.split(":");return{reason:a,category:i,quantity:n}})}_flushOutcomes(){Bt&&Qe.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Bt&&Qe.log("No outcomes to send"));if(!this._dsn)return void(Bt&&Qe.log("No dsn provided, will not send outcomes"));Bt&&Qe.log("Sending outcomes:",t);const r=(n=t,Qm((a=this._options.tunnel&&Tb(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||Ig(),discarded_events:n}]]));var n,a,i;this.sendEnvelope(r)}}function L4(e){return e.type===void 0}function F4(e){return e.type==="transaction"}function eBe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Ab(new bi("Not adding Promise because buffer limit was reached."));const a=n();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a},drain:function(n){return new za((a,i)=>{let s=t.length;if(!s)return a(!0);const l=setTimeout(()=>{n&&n>0&&a(!1)},n);t.forEach(c=>{du(c).then(()=>{--s||(clearTimeout(l),a(!0))},i)})})}}}function tBe(e,{statusCode:t,headers:r},n=Date.now()){const a={...e},i=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[p]=n+h);else a.all=n+h}else s?a.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(s,n):t===429&&(a.all=n+6e4);return a}function rBe(e,t,r=eBe(e.bufferSize||64)){let n={};return{send:function(a){const i=[];if(C4(a,(c,u)=>{const d=E4(u);if(function(f,h,p=Date.now()){return function(g,m){return g[m]||g.all||0}(f,h)>p}(n,d)){const f=B4(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(c)}),i.length===0)return du({});const s=Qm(a[0],i),l=c=>{C4(s,(u,d)=>{const f=B4(u,d);e.recordDroppedEvent(c,E4(d),f)})};return r.add(()=>t({body:q5e(s)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Bt&&Qe.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=tBe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof bi)return Bt&&Qe.error("Skipped sending event because buffer is full."),l("queue_overflow"),du({});throw c})},flush:a=>r.drain(a)}}function B4(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const nBe=100;function rc(e,t){const r=kn(),n=Rg();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=nBe}=r.getOptions();if(i<=0)return;const s={timestamp:Ig(),...e},l=a?$g(()=>a(s,t)):s;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let U4;const z4=new WeakMap,aBe=()=>({name:"FunctionToString",setupOnce(){U4=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=WO(this),r=z4.has(kn())&&t!==void 0?t:this;return U4.apply(r,e)}}catch{}},setup(e){z4.set(e,!0)}}),iBe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],sBe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const a=n.getOptions(),i=function(s={},l={}){return{allowUrls:[...s.allowUrls||[],...l.allowUrls||[]],denyUrls:[...s.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...l.ignoreErrors||[],...s.disableErrorDefaults?[]:iBe],ignoreTransactions:[...s.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}}(e,a);return function(s,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(s)?(Bt&&Qe.warn(`Event dropped due to being internal Sentry Error.
Event: ${Go(s)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>Iv(d,u))}(s,l.ignoreErrors)?(Bt&&Qe.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Go(s)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(s)?(Bt&&Qe.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Go(s)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Iv(d,u)}(s,l.ignoreTransactions)?(Bt&&Qe.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Go(s)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Lv(c);return!!d&&Iv(d,u)}(s,l.denyUrls)?(Bt&&Qe.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Go(s)}.
Url: ${Lv(s)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Lv(c);return!d||Iv(d,u)}(s,l.allowUrls)?!1:(Bt&&Qe.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Go(s)}.
Url: ${Lv(s)}`),!0)}(t,i)?null:t}});function Lv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const a=r[n];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return Bt&&Qe.error(`Cannot extract url for event ${Go(e)}`),null}}function oBe(e,t,r=250,n,a,i,s){if(!(i.exception&&i.exception.values&&s&&cu(s.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=Uk(e,t,a,s.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=Rd(d.value,u)),d))))}function Uk(e,t,r,n,a,i,s,l){if(i.length>=r+1)return i;let c=[...i];if(cu(n[a],Error)){V4(s,l);const u=e(t,n[a]),d=c.length;W4(u,a,d,l),c=Uk(e,t,r,n[a],a,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(cu(u,Error)){V4(s,l);const f=e(t,u),h=c.length;W4(f,`errors[${d}]`,h,l),c=Uk(e,t,r,u,a,[f,...c],f,h)}}),c}function V4(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function W4(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function Uj(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function lBe(){"console"in jt&&Tk.forEach(function(e){e in jt.console&&Sa(jt.console,e,function(t){return Ob[e]=t,function(...r){Fi("console",{args:r,level:e});const n=Ob[e];n&&n.apply(jt.console,r)}})})}function cBe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const uBe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(a,i){const s=a.message,l=i.message;return!(!s&&!l||s&&!l||!s&&l||s!==l||!q4(a,i)||!H4(a,i))}(r,n)||function(a,i){const s=K4(i),l=K4(a);return!(!s||!l||s.type!==l.type||s.value!==l.value||!q4(a,i)||!H4(a,i))}(r,n)):!1}(t,e))return Bt&&Qe.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function H4(e,t){let r=d4(e),n=d4(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let a=0;a<n.length;a++){const i=n[a],s=r[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function q4(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function K4(e){return e.exception&&e.exception.values&&e.exception.values[0]}function G4(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const zj=jt;function zk(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function dBe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in zj))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(zk(zj.fetch))return!0;let e=!1;const t=zj.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=zk(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){Cu&&Qe.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function fBe(e,t){const r="fetch";zc(r,e),Vc(r,()=>function(n,a=!1){a&&!dBe()||Sa(jt,"fetch",function(i){return function(...s){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[p,g]=f;return{url:Y4(p),method:Vk(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:Y4(h),method:Vk(h,"method")?String(h.method).toUpperCase():"GET"}}(s),d={args:s,fetchData:{method:c,url:u},startTimestamp:1e3*io(),virtualError:l};return n||Fi("fetch",{...d}),i.apply(jt,s).then(async f=>(n?n(f):Fi("fetch",{...d,endTimestamp:1e3*io(),response:f}),f),f=>{throw Fi("fetch",{...d,endTimestamp:1e3*io(),error:f}),UO(f)&&f.stack===void 0&&(f.stack=l.stack,uu(f,"framesToPop",1)),f})}})}(void 0,t))}function Vk(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Y4(e){return typeof e=="string"?e:e?Vk(e,"url")?e.url:e.toString?e.toString():"":""}const Fv=jt,Zr=jt;let Wk=0;function J4(){return Wk>0}function qf(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(WO(e))return e}catch{return e}const r=function(...n){try{const a=n.map(i=>qf(i,t));return e.apply(this,a)}catch(a){throw Wk++,setTimeout(()=>{Wk--}),function(...i){const s=qO(Fw());if(i.length===2){const[l,c]=i;return l?s.withSetScope(l,c):s.withScope(c)}s.withScope(i[0])}(i=>{var s;i.addEventProcessor(l=>(t.mechanism&&(Ik(l,void 0),Vf(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),s=a,Eu().captureException(s,void 0)}),a}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}S7(r,e),uu(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const Vw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function YO(e,t){const r=JO(e,t),n={type:mBe(t),value:gBe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function hBe(e,t,r,n){const a=kn(),i=a&&a.getOptions().normalizeDepth,s=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:P7(t,i)};if(s)return{exception:{values:[YO(e,s)]},extra:l};const c={exception:{values:[{type:Bw(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:vBe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=JO(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Vj(e,t){return{exception:{values:[YO(e,t)]}}}function JO(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&pBe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,a)}catch{}return[]}const pBe=/Minified React error #\d+;/i;function M7(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function mBe(e){const t=e&&e.name;return!t&&M7(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function gBe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:M7(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Hk(e,t,r,n,a){let i;if(w7(t)&&t.error)return Vj(e,t.error);if(h4(t)||bh(t,"DOMException")){const s=t;if("stack"in t)i=Vj(e,t);else{const l=s.name||(h4(s)?"DOMError":"DOMException"),c=s.message?`${l}: ${s.message}`:l;i=qk(e,c,r,n),Ik(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return UO(t)?Vj(e,t):zf(t)||Bw(t)?(i=hBe(e,t,r,a),Vf(i,{synthetic:!0}),i):(i=qk(e,t,r,n),Ik(i,`${t}`),Vf(i,{synthetic:!0}),i)}function qk(e,t,r,n){const a={};if(n&&r){const i=JO(e,r);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Vf(a,{synthetic:!0})}if(zO(t)){const{__sentry_template_string__:i,__sentry_template_values__:s}=t;return a.logentry={message:i,params:s},a}return a.message=t,a}function vBe(e,{isUnhandledRejection:t}){const r=function(a,i=40){const s=Object.keys(N7(a));s.sort();const l=s[0];if(!l)return"[object has no keys]";if(l.length>=i)return Rd(l,i);for(let c=s.length;c>0;c--){const u=s.slice(0,c).join(", ");if(!(u.length>i))return c===s.length?u:Rd(u,i)}return""}(e),n=t?"promise rejection":"exception";return w7(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Bw(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class yBe extends Z5e{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,a,i=[a],s="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${s}:@sentry/${c}`,version:Uc})),version:Uc}),n._metadata=l})(r,"browser",["browser"],Zr.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Zr.document&&Zr.document.addEventListener("visibilitychange",()=>{Zr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,a,i,s){const l=Hk(n,a,i&&i.syntheticException||void 0,s);return Vf(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),du(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(a,i,s="info",l,c){const u=qk(a,i,l&&l.syntheticException||void 0,c);return u.level=s,l&&l.event_id&&(u.event_id=l.event_id),du(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Vw&&Qe.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:a,tunnel:i,dsn:s}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!s&&{dsn:Tb(s)}};return Qm(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const xBe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fn=jt;let X4,Wj,Hj,Bv;function bBe(){if(!Fn.document)return;const e=Fi.bind(null,"dom"),t=Q4(e,!0);Fn.document.addEventListener("click",t,!1),Fn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Fn[r],a=n&&n.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Sa(a,"addEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const f=Q4(e);d.handler=f,i.call(this,s,f,c)}d.refCount++}catch{}return i.call(this,s,l,c)}}),Sa(a,"removeEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,l,c)}}))})}function Q4(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,s){return i==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)}(r.type,n))return;uu(r,"_sentryCaptured",!0),n&&!n._sentryId&&uu(n,"_sentryId",Za());const a=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==Wj)return!1;try{if(!i.target||i.target._sentryId!==Hj)return!1}catch{}return!0})(r)||(e({event:r,name:a,global:t}),Wj=r.type,Hj=n?n._sentryId:void 0),clearTimeout(X4),X4=Fn.setTimeout(()=>{Hj=void 0,Wj=void 0},1e3)}}function $7(e){const t="history";zc(t,e),Vc(t,wBe)}function wBe(){if(!function(){const r=Fv.chrome,n=r&&r.app&&r.app.runtime,a="history"in Fv&&!!Fv.history.pushState&&!!Fv.history.replaceState;return!n&&a}())return;const e=Fn.onpopstate;function t(r){return function(...n){const a=n.length>2?n[2]:void 0;if(a){const i=Bv,s=String(a);Bv=s,Fi("history",{from:i,to:s})}return r.apply(this,n)}}Fn.onpopstate=function(...r){const n=Fn.location.href,a=Bv;if(Bv=n,Fi("history",{from:a,to:n}),e)try{return e.apply(this,r)}catch{}},Sa(Fn.history,"pushState",t),Sa(Fn.history,"replaceState",t)}const vy={};function Z4(e){vy[e]=void 0}const np="__sentry_xhr_v3__";function _Be(){if(!Fn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,i=1e3*io(),s=Zs(n[0])?n[0].toUpperCase():void 0,l=function(u){if(Zs(u))return u;try{return u.toString()}catch{}}(n[1]);if(!s||!l)return t.apply(r,n);r[np]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[np];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}Fi("xhr",{endTimestamp:1e3*io(),startTimestamp:i,xhr:r,virtualError:a})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,p]=f,g=d[np];return g&&Zs(h)&&Zs(p)&&(g.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[np];return a?(n[0]!==void 0&&(a.body=n[0]),Fi("xhr",{startTimestamp:1e3*io(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function jBe(e,t=function(r){const n=vy[r];if(n)return n;let a=Fn[r];if(zk(a))return vy[r]=a.bind(Fn);const i=Fn.document;if(i&&typeof i.createElement=="function")try{const s=i.createElement("iframe");s.hidden=!0,i.head.appendChild(s);const l=s.contentWindow;l&&l[r]&&(a=l[r]),i.head.removeChild(s)}catch(s){xBe&&Qe.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,s)}return a&&(vy[r]=a.bind(Fn))}("fetch")){let r=0,n=0;return rBe(e,function(a){const i=a.body.length;r+=i,n++;const s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return Z4("fetch"),Ab("No fetch implementation available");try{return t(e.url,s).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return Z4("fetch"),r-=i,n--,Ab(l)}})}function qj(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?Cc:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const SBe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,NBe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,kBe=/\((\S*)(?::(\d+))(?::(\d+))\)/,CBe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,EBe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,PBe=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const i=[],s=r.split(`
`);for(let l=n;l<s.length;l++){const c=s[l];if(c.length>1024)continue;const u=l4.test(c)?c.replace(l4,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test($v(c).function||"")&&c.pop(),c.reverse(),c4.test($v(c).function||"")&&(c.pop(),c4.test($v(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||$v(c).filename,function:u.function||Cc}))}(i.slice(a))}}([30,e=>{const t=SBe.exec(e);if(t){const[,n,a,i]=t;return qj(n,Cc,+a,+i)}const r=NBe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=kBe.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,a]=eL(r[1]||Cc,r[2]);return qj(a,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=CBe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=EBe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],n=t[1]||Cc;return[n,r]=eL(n,r),qj(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),eL=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Cc,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},tL=1024,OBe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(a){const i="console";zc(i,a),Vc(i,lBe)}(function(a){return function(i){if(kn()!==a)return;const s={category:"console",data:{arguments:i.args,logger:"console"},level:cBe(i.level),message:p4(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;s.message=`Assertion failed: ${p4(i.args.slice(1)," ")||"console.assert"}`,s.data.arguments=i.args.slice(1)}rc(s,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(a,i){return function(s){if(kn()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>tL&&(Vw&&Qe.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=tL),typeof u=="string"&&(u=[u]);try{const h=s.event,p=function(g){return!!g&&!!g.target}(h)?h.target:h;l=j7(p,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!VO.HTMLElement)return null;let m=g;for(let v=0;v<5;v++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${s.name}`,message:l};c&&(f.data={"ui.component_name":c}),rc(f,{event:s.event,name:s.name,global:s.global})}}(r,t.dom),zc("dom",n),Vc("dom",bBe)),t.xhr&&function(a){zc("xhr",a),Vc("xhr",_Be)}(function(a){return function(i){if(kn()!==a)return;const{startTimestamp:s,endTimestamp:l}=i,c=i.xhr[np];if(!s||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,p={method:u,url:d,status_code:f},g={xhr:i.xhr,input:h,startTimestamp:s,endTimestamp:l};rc({category:"xhr",data:p,type:"http",level:G4(f)},g)}}(r)),t.fetch&&fBe(function(a){return function(i){if(kn()!==a)return;const{startTimestamp:s,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)rc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:s,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:s,endTimestamp:l};rc({category:"fetch",data:u,type:"http",level:G4(u.status_code)},d)}}}(r)),t.history&&$7(function(a){return function(i){if(kn()!==a)return;let s=i.from,l=i.to;const c=Uj(Zr.location.href);let u=s?Uj(s):void 0;const d=Uj(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(s=u.relative),rc({category:"navigation",data:{from:s,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(a){return function(i){kn()===a&&rc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Go(i)},{event:i})}}(r))}}},ABe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],TBe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Sa(Zr,"setTimeout",rL),t.setInterval&&Sa(Zr,"setInterval",rL),t.requestAnimationFrame&&Sa(Zr,"requestAnimationFrame",MBe),t.XMLHttpRequest&&"XMLHttpRequest"in Zr&&Sa(XMLHttpRequest.prototype,"send",$Be);const r=t.eventTarget;r&&(Array.isArray(r)?r:ABe).forEach(IBe)}}};function rL(e){return function(...t){const r=t[0];return t[0]=qf(r,{mechanism:{data:{function:Ol(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function MBe(e){return function(t){return e.apply(this,[qf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ol(e)},handled:!1,type:"instrument"}})])}}function $Be(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Sa(r,n,function(a){const i={mechanism:{data:{function:n,handler:Ol(a)},handled:!1,type:"instrument"}},s=WO(a);return s&&(i.mechanism.data.handler=Ol(s)),qf(a,i)})}),e.apply(this,t)}}function IBe(e){const t=Zr[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Sa(r,"addEventListener",function(n){return function(a,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=qf(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ol(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[a,qf(i,{mechanism:{data:{function:"addEventListener",handler:Ol(i),target:e},handled:!1,type:"instrument"}}),s])}}),Sa(r,"removeEventListener",function(n){return function(a,i,s){try{const l=i.__sentry_wrapped__;l&&n.call(this,a,l,s)}catch{}return n.call(this,a,i,s)}}))}const RBe=()=>({name:"BrowserSession",setupOnce(){Zr.document!==void 0?(T4({ignoreDuration:!0}),M4(),$7(({from:e,to:t})=>{e!==void 0&&e!==t&&(T4({ignoreDuration:!0}),M4())})):Vw&&Qe.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),DBe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(a){const i="error";zc(i,a),Vc(i,C5e)})(a=>{const{stackParser:i,attachStacktrace:s}=aL();if(kn()!==n||J4())return;const{msg:l,url:c,line:u,column:d,error:f}=a,h=function(p,g,m,v){const b=p.exception=p.exception||{},y=b.values=b.values||[],w=y[0]=y[0]||{},_=w.stacktrace=w.stacktrace||{},S=_.frames=_.frames||[],N=v,k=m,C=Zs(g)&&g.length>0?g:function(){try{return VO.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:C,function:Cc,in_app:!0,lineno:k}),p}(Hk(i,f||l,void 0,s,!1),c,u,d);h.level="error",A4(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),nL("onerror")),t.onunhandledrejection&&(function(n){(function(a){const i="unhandledrejection";zc(i,a),Vc(i,E5e)})(a=>{const{stackParser:i,attachStacktrace:s}=aL();if(kn()!==n||J4())return;const l=function(u){if(Mk(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=Mk(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:Hk(i,l,void 0,s,!0);c.level="error",A4(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),nL("onunhandledrejection"))}}};function nL(e){Vw&&Qe.log(`Global Handler attached: ${e}`)}function aL(){const e=kn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const LBe=()=>({name:"HttpContext",preprocessEvent(e){if(!Zr.navigator&&!Zr.location&&!Zr.document)return;const t=e.request&&e.request.url||Zr.location&&Zr.location.href,{referrer:r}=Zr.document||{},{userAgent:n}=Zr.navigator||{},a={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),FBe=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,a,i){const s=i.getOptions();oBe(YO,s.stackParser,s.maxValueLength,r,t,n,a)}}};var iL="new",sL="loading",oL="loaded",Kk="joining-meeting",gc="joined-meeting",nc="left-meeting",Do="error",BBe="playable",Kj="unknown",UBe="full",zBe="base",lL="no-room",VBe="end-of-life",WBe="connection-error",HBe="iframe-ready-for-launch-config",qBe="iframe-launch-config",KBe="theme-updated",GBe="loading",YBe="load-attempt-failed",cL="loaded",JBe="started-camera",XBe="camera-error",QBe="joining-meeting",ZBe="joined-meeting",eUe="left-meeting",tUe="participant-joined",rUe="participant-updated",nUe="participant-left",aUe="participant-counts-updated",iUe="access-state-updated",sUe="meeting-session-summary-updated",oUe="meeting-session-state-updated",lUe="waiting-participant-added",cUe="waiting-participant-updated",uUe="waiting-participant-removed",dUe="track-started",fUe="track-stopped",hUe="transcription-started",pUe="transcription-stopped",mUe="transcription-error",uL="recording-started",dL="recording-stopped",gUe="recording-stats",vUe="recording-error",yUe="recording-upload-completed",xUe="recording-data",bUe="app-message",wUe="transcription-message",_Ue="remote-media-player-started",jUe="remote-media-player-updated",SUe="remote-media-player-stopped",NUe="local-screen-share-started",kUe="local-screen-share-stopped",CUe="local-screen-share-canceled",EUe="active-speaker-change",PUe="active-speaker-mode-change",OUe="network-quality-change",AUe="network-connection",TUe="cpu-load-change",MUe="face-counts-updated",Uv="fullscreen",zv="exited-fullscreen",$Ue="live-streaming-started",IUe="live-streaming-updated",RUe="live-streaming-stopped",DUe="live-streaming-error",LUe="lang-updated",FUe="receive-settings-updated",fL="input-settings-updated",hL="nonfatal-error",pL="error",Gj=4096,mL=102400,Yj="iframe-call-message",gL="local-screen-start",vL="daily-method-update-live-streaming-endpoints",Vv="transmit-log",eo="daily-custom-track",yy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},I7={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Gk={PLAY:"play",PAUSE:"pause"},Jj=["jpg","png","jpeg"],BUe="add-endpoints",UUe="remove-endpoints",yL="sip-call-transfer";function ni(){return!ft()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ft(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function R7(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function zUe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(fu(),Mb())||ft())}function xL(){if(ft()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Yk="none",VUe="software",WUe="hardware",HUe=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?VUe:WUe:Yk}catch{return Yk}}();function D7(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ft()&&HUe!==Yk&&(e?function(){return bL()?!1:["Chrome","Firefox"].includes(fu())}():function(){if(bL())return!1;var t=fu();if(t==="Safari"){var r=QO();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?XO().major>=77:t==="Firefox"?ZO().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function L7(){if(ft()||F7()||typeof AudioWorkletNode>"u")return!1;switch(fu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Mb();return e.major>17||e.major===17&&e.minor>=4}return!1}function Xj(){return R7()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=fu();if(!ni())return!0;switch(t){case"Chrome":return(e=XO()).major&&e.major>0&&e.major<75;case"Firefox":return(e=ZO()).major<91;case"Safari":return(e=QO()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function F7(){return ni().match(/Linux; Android/)}function bL(){var e,t=ni(),r=t.match(/Mac/)&&(!ft()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!ni().match(/DailyAnd\//)||void 0}function fu(){if(typeof window<"u"){var e=ni();return B7()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||U7()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Mb(){switch(fu()){case"Chrome":return XO();case"Safari":return QO();case"Firefox":return ZO();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=ni().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function XO(){var e=0,t=0,r=0,n=0,a=!1;if(typeof window<"u"){var i=ni(),s=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),r=parseInt(s[3]),n=parseInt(s[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:a}}function B7(){return!!ni().match(/iPad|iPhone|iPod/i)&&R7()}function U7(){return ni().indexOf("AppleWebKit/605.1.15")>-1}function QO(){var e=0,t=0,r=0;if(typeof window<"u"){var n=ni().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(B7()||U7())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function ZO(){var e=0,t=0;if(typeof window<"u"){var r=ni().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var z7=function(){return $a(function e(){Ma(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){Hh()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){Hh()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){Hh()}},{key:"sendMessageToDailyJs",value:function(e,t){Hh()}},{key:"removeListener",value:function(e){Hh()}}])}();function wL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!e})()}var qUe=function(){function e(){var t,r,n,a;return Ma(this,e),r=this,n=Yi(n=e),(t=Rw(r,V7()?Reflect.construct(n,[],Yi(r).constructor):n.apply(r,a)))._wrappedListeners={},t._messageCallbacks={},t}return Dw(e,z7),$a(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var a=this,i=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var l=Qj({},s.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(n,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var a=function(i){var s;if(!(!i.data||i.data.what!==Yj||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(s=i.data)!==null&&s!==void 0&&s.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,r,n,a){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=Qj({},t);if(i.what=Yj,i.from="module",i.callClientId=n,r){var s=Lw();this._messageCallbacks[s]=r,i.callbackStamp=s}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=Yj,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var a=Qj({},t);a.callClientId=n;var i=r?r.contentWindow:window,s=this._callMachineTargetOrigin(r);s&&i.postMessage(a,s)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function W7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!e})()}var KUe=function(){function e(){var t,r,n,a;return Ma(this,e),r=this,n=Yi(n=e),t=Rw(r,W7()?Reflect.construct(n,[],Yi(r).constructor):n.apply(r,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Ak.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Ak.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Dw(e,z7),$a(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,a,i){var s=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&s._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;s._messageCallbacks[u].call(a,c),delete s._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,a,i){var s=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?_L(Object(d),!0).forEach(function(f){ss(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):_L(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(s.callClientId=n,a){var l=Lw();this._messageCallbacks[l]=a,s.callbackStamp=l}r.emit("message",s)}}])}(),Jk="replace",Xk="shallow-merge",jL=[Jk,Xk],GUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,a=n===void 0?Jk:n;Ma(this,e),e._validateMergeStrategy(a),e._validateData(r,a),this.mergeStrategy=a,this.data=r}return $a(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===Xk}},{key:"_validateMergeStrategy",value:function(t){if(!jL.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(jL,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||mt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===Jk){var a=JSON.parse(n);In(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(r===Xk){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var s=JSON.parse(JSON.stringify(t[i]));In(t[i],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>mL)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(mL,"."))}}])}();function H7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H7=function(){return!!e})()}function Qk(e){var t=typeof Map=="function"?new Map:void 0;return Qk=function(r){if(r===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(a,i,s){if(H7())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return s&&Xm(c,s.prototype),c}(r,arguments,Yi(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Xm(n,r)},Qk(e)}function q7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q7=function(){return!!e})()}function SL(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var YUe=function(){return $a(function e(t){Ma(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new JUe(r,function(){n(!1)},function(i,s){s||SL(t._callClientId),a(i,s)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),SL(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),JUe=function(){return $a(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Ma(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new NL(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new NL(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),Zj=function(){function e(){return Ma(this,e),t=this,n=arguments,r=Yi(r=e),Rw(t,q7()?Reflect.construct(r,n||[],Yi(t).constructor):r.apply(t,n));var t,r,n}return Dw(e,Qk(Error)),$a(e)}(),$b=2e4,NL=function(){return $a(function t(r,n,a){Ma(this,t),this._loadAttemptImpl=ft()||!r.avoidEval?new XUe(r,n,a):new QUe(r,n,a)},[{key:"start",value:(e=He(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),XUe=function(){return $a(function a(i,s,l){Ma(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=s,this._failureCallback=l},[{key:"start",value:(n=He(function*(){var a=Cb(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=He(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=He(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat($b," ms) when loading call object bundle ").concat(a),type:"timeout"})},$b);try{var s=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,s);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Zj;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new Zj;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof Zj||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=He(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),QUe=function(){return $a(function e(t,r,n){Ma(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=Lw(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Cb(this._dailyConfig);(typeof document>"u"?"undefined":mt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat($b," ms) when loading call object bundle ").concat(e),type:"timeout"})},$b);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Wv=function(e,t,r){return e6e(e.local,t,r)===!0},ZUe=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},bd=function(e,t,r,n){var a=t6e(e,t,r,n);return a&&a.pendingTrack},e6e=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?n(a[t].custom):n(a[t].custom[r]):n(a[t][r]):!a||n(a.ALL)},t6e=function(e,t,r,n){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,s){return new Date(s.starttime)-new Date(i.starttime)});return a&&a[0]},r6e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function kL(e,t){for(var r=t.getState(),n=0,a=["cam","screen"];n<a.length;n++)for(var i=a[n],s=0,l=["video","audio"];s<l.length;s++){var c=l[s],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?ZUe(r,i,c):bd(r,e.session_id,i,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function CL(e,t){try{var r=t.getState();for(var n in e.tracks)if(!n6e(n)){var a=e.tracks[n].kind;if(a){var i=e.tracks[n];if(i){var s=e.local?r6e(r,n):bd(r,e.session_id,n,a);i.state==="playable"&&(e.tracks[n].track=s),i.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function n6e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function EL(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&Wv(n,e.session_id,"cam-audio")){var s=bd(n,e.session_id,"cam","audio");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&Wv(n,e.session_id,"cam-video")){var l=bd(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Wv(n,e.session_id,"screen-audio")){var c=bd(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Wv(n,e.session_id,"screen-video")){var u=bd(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function a6e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return PL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?PL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function PL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ts=new Map,Dd=null;function i6e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return OL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?OL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function OL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rs=new Map,Cp=null;function s6e(e){K7()?function(t){ts.has(t)||(ts.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ts.has(t)&&(ts.get(t).lastDevicesString=JSON.stringify(r),Dd||(Dd=function(){var n=He(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),s=a6e(ts.keys());try{for(s.s();!(a=s.n()).done;){var l=a.value,c=JSON.stringify(i);c!==ts.get(l).lastDevicesString&&(ts.get(l).lastDevicesString=c,l(i))}}catch(u){s.e(u)}finally{s.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Dd)))}).catch(function(){}))}(e):function(t){rs.has(t)||(rs.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){rs.has(t)&&(rs.get(t).lastDevicesString=JSON.stringify(r),Cp||(Cp=setInterval(He(function*(){var n,a=yield navigator.mediaDevices.enumerateDevices(),i=i6e(rs.keys());try{for(i.s();!(n=i.n()).done;){var s=n.value,l=JSON.stringify(a);l!==rs.get(s).lastDevicesString&&(rs.get(s).lastDevicesString=l,s(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function o6e(e){K7()?function(t){ts.has(t)&&(ts.delete(t),ts.size===0&&Dd&&(navigator.mediaDevices.removeEventListener("devicechange",Dd),Dd=null))}(e):function(t){rs.has(t)&&(rs.delete(t),rs.size===0&&Cp&&(clearInterval(Cp),Cp=null))}(e)}function K7(){var e;return ft()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var l6e=new Set;function c6e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!l6e.has(r.id)}(e)}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ap=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),u6e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Ep=Object.values(ap),TL=["v","a","sv","sa","cv","ca"];Object.freeze(Ep.reduce(function(e,t,r){return e[t]=TL[r],e},{})),Object.freeze(TL.reduce(function(e,t,r){return e[t]=Ep[r],e},{}));var d6e=[ap.VIDEO,ap.AUDIO,ap.SCREEN_VIDEO,ap.SCREEN_AUDIO],ML=Object.values(u6e),$L=["p","s","t"];Object.freeze(ML.reduce(function(e,t,r){return e[t]=$L[r],e},{})),Object.freeze($L.reduce(function(e,t,r){return e[t]=ML[r],e},{}));var G7=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,a=t.byParticipantId;Ma(this,e),this.base=r,this.byUserId=n,this.byParticipantId=a}return $a(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof sn?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof sn?n.clone():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof sn?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof sn&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof sn?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof sn?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof sn&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof sn?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof sn?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,a;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:sn.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var s=t.byUserId[i];n[i]=typeof s=="boolean"?s:sn.fromJSONObject(s)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:sn.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,a;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:sn.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var s=t.u[i];n[i]=typeof s=="boolean"?s:sn.fromMinifiedJSONObject(s)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:sn.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(mt(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var s=En(sn.validateJSONObject(t.base,!0),2),l=s[0],c=s[1];if(!l)return[!1,c]}else{if(mt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var f=d[u],h=En(sn.validateJSONObject(f),2),p=h[0],g=h[1];if(!p)return[!1,g]}}}return[!0]}}])}(),sn=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,a=t.screenVideo,i=t.screenAudio,s=t.customVideo,l=t.customAudio;Ma(this,e),this.video=r,this.audio=n,this.screenVideo=a,this.screenAudio=i,this.customVideo=s,this.customAudio=l}return $a(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Lo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Lo({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Lo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Lo({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Lo({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Lo({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Lo({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Lo({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(mt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),a=0,i=n;a<i.length;a++){var s=i[a];if(!Ep.includes(s))return[!1,"invalid media type '".concat(s,"' in canReceive")];if(d6e.includes(s)){if(typeof t[s]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(s,"' in canReceive")]}else{if(mt(t[s])!=="object")return[!1,"invalid (non-object) value for media type '".concat(s,"' in canReceive")];for(var l=0,c=Object.values(t[s]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(s,"' in canReceive")];if(r&&t[s]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(s,"'")]}}return r&&n.length!==Ep.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Ep.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),f6e=["result"],h6e=["preserveIframe"];function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!e})()}function RL(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return DL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?DL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ac={},LL="video",p6e="voice",FL=ft()?{data:{}}:{data:{},topology:"none"},BL={present:0,hidden:0},J7={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},e1=Object.keys(J7),UL=["state","volume","simulcastEncodings"],zL={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Ib={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},Zk={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ic={customIntegrations:{validate:aK,help:rK()},customTrayButtons:{validate:nK,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Ib))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return iK(e,zL)},help:"reactNativeConfig should look like ".concat(JSON.stringify(zL),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return X7(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:eo};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:eo};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var a=0,i=Object.keys(n);a<i.length;a++){var s=i[a];if(!t.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(n[s],'"')),!1}return!0};return mt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return Q7(e,{allowAllParticipantsKey:!1})},help:tK({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!Z7(e)&&(t._inputSettings||(t._inputSettings={}),eK(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:eC()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Hv={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!ft()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!s&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ft()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var s,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=RL(i);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=En(G7.validateJSONObject(i),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var p,g=["participants","streaming","transcription"],m=RL(i);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(!g.includes(v))return!1}}catch(b){m.e(b)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=He(function*(t){return new Promise(function(r,n){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(s){r(s)}).catch(function(s){a.push(s),a.length===t.length&&n(a)})})})});return function(t){return e.apply(this,arguments)}}());var VL=function(){function e(j){var P,E,F,D,K,q,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ma(this,e),F=this,D=Yi(D=e),ss(E=Rw(F,Y7()?Reflect.construct(D,[],Yi(F).constructor):D.apply(F,K)),"startListeningForDeviceChanges",function(){s6e(E.handleDeviceChange)}),ss(E,"stopListeningForDeviceChanges",function(){o6e(E.handleDeviceChange)}),ss(E,"handleDeviceChange",function(Y){Y=Y.map(function(ye){return JSON.parse(JSON.stringify(ye))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),ss(E,"handleNativeAppStateChange",function(){var Y=He(function*(ye){if(ye==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var ke=ye==="active";E.disableReactNativeAutoDeviceManagement("video")||(ke?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(ye){return Y.apply(this,arguments)}}()),ss(E,"handleNativeAudioFocusChange",function(Y){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=Y,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),ss(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!Xj()&&!ft())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=J.strictMode===void 0||J.strictMode,E.allowMultipleCallInstances=(P=J.allowMultipleCallInstances)!==null&&P!==void 0&&P,Object.keys(ac).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=Lw(),ac[(q=E).callClientId]=q,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,J.dailyJsVersion=e.version(),E._iframe=j,E._callObjectMode=J.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},J.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!J.showLocalVideo:E._showLocalVideo=!0,J.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!J.showParticipantsBar:E._showParticipantsBar=!0,J.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=J.customIntegrations:E._customIntegrations={},J.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=J.customTrayButtons:E._customTrayButtons={},J.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!J.activeSpeakerMode:E._activeSpeakerMode=!1,J.receiveSettings?E._callObjectMode?E._receiveSettings=J.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(J),E.properties=Re({},J),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new YUe(E.callClientId):null,E._callState=iL,E._isPreparingToJoin=!1,E._accessState={access:Kj},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=n1(FL,E._callObjectMode),E._nativeInCallAudioMode=LL,E._participants={},E._isScreenSharing=!1,E._participantCounts=BL,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=Gj,E._messageChannel=ft()?new KUe:new qUe,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Uv}),E.sendMessageToCallMachine({action:Uv})):(E.emitDailyJSEvent({action:zv}),E.sendMessageToCallMachine({action:zv}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Uv}),E.sendMessageToCallMachine({action:Uv})):(E.emitDailyJSEvent({action:zv}),E.sendMessageToCallMachine({action:zv}))})),ft()){var Z=E.nativeUtils();Z.addAudioFocusChangeListener&&Z.removeAudioFocusChangeListener&&Z.addAppStateChangeListener&&Z.removeAppStateChangeListener&&Z.addSystemScreenCaptureStopListener&&Z.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,Z.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),Z.addAppStateChangeListener(E.handleNativeAppStateChange),Z.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return Dw(e,Mv),$a(e,[{key:"destroy",value:(Q=He(function*(){var j;try{yield this.leave()}catch{}var P=this._iframe;if(P){var E=P.parentElement;E&&E.removeChild(P)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ft()){var F=this.nativeUtils();F.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),F.removeAppStateChangeListener(this.handleNativeAppStateChange),F.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete ac[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Q.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var P=j.bodyClass,E=j.cssFile,F=j.cssText;return dt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:P,cssText:F}),this}},{key:"iframe",value:function(){return dt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return mi(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return mi(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,P){for(var E in P){if(!Hv[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(Hv[E].validate&&!Hv[E].validate(P[E],this,this._participants[j]))throw new Error(Hv[E].help)}}},{key:"updateParticipant",value:function(j,P){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&P&&(this.validateParticipantProperties(j,P),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:P})),this}},{key:"updateParticipants",value:function(j){var P=this._participants.local&&this._participants.local.session_id;for(var E in j)E===P&&(E="local"),E&&j[E]&&this.validateParticipantProperties(E,j[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(te=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mi(this._callObjectMode,"updateWaitingParticipant()"),It(this._callState,"updateWaitingParticipant()"),typeof P!="string"||mt(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(F,D){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:P,updates:E},function(K){K.error&&D(K.error),K.id||D(new Error("unknown error in updateWaitingParticipant()")),F({id:K.id})})})}),function(){return te.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(G=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(mi(this._callObjectMode,"updateWaitingParticipants()"),It(this._callState,"updateWaitingParticipants()"),mt(P)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,F){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:P},function(D){D.error&&F(D.error),D.ids||F(new Error("unknown error in updateWaitingParticipants()")),E({ids:D.ids})})})}),function(){return G.apply(this,arguments)})},{key:"requestAccess",value:(U=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=P.access,F=E===void 0?{level:UBe}:E,D=P.name,K=D===void 0?"":D;return mi(this._callObjectMode,"requestAccess()"),It(this._callState,"requestAccess()"),new Promise(function(q,J){j.sendMessageToCallMachine({action:"daily-method-request-access",access:F,name:K},function(Z){Z.error&&J(Z.error),Z.access||J(new Error("unknown error in requestAccess()")),q({access:Z.access,granted:Z.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in P&&(ft()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),P={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),P={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:P}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(R=He(function*(j){var P=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,F=E!==void 0&&E;if(mi(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(mt(j)){case"string":return new Promise(function(D){P.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:F},function(K){D(K.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(V=He(function*(j){var P=this;if(mi(this._callObjectMode,"updateReceiveSettings()"),!Q7(j,{allowAllParticipantsKey:!0}))throw new Error(tK({allowAllParticipantsKey:!0}));return It(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){P.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(F){E({receiveSettings:F.receiveSettings})})})}),function(j){return V.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,P){if(j){var E={};if(j.audio){var F,D,K;j.audio.settings&&(!Object.keys(j.audio.settings).length&&P||(E.audio={settings:Re({},j.audio.settings)})),P&&(F=E.audio)!==null&&F!==void 0&&(F=F.settings)!==null&&F!==void 0&&F.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var q=((D=j.audio.processor)===null||D===void 0?void 0:D.type)==="none"&&((K=j.audio.processor)===null||K===void 0?void 0:K._isDefaultWhenNone);if(j.audio.processor&&!q){var J=Re({},j.audio.processor);delete J._isDefaultWhenNone,E.audio=Re(Re({},E.audio),{},{processor:J})}}if(j.video){var Z,Y,ye;j.video.settings&&(!Object.keys(j.video.settings).length&&P||(E.video={settings:Re({},j.video.settings)})),P&&(Z=E.video)!==null&&Z!==void 0&&(Z=Z.settings)!==null&&Z!==void 0&&Z.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var ke=((Y=j.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((ye=j.video.processor)===null||ye===void 0?void 0:ye._isDefaultWhenNone);if(j.video.processor&&!ke){var Ke=Re({},j.video.processor);delete Ke._isDefaultWhenNone,E.video=Re(Re({},E.video),{},{processor:Ke})}}return E}}},{key:"getInputSettings",value:function(){var j=this;return dt(),new Promise(function(P){P(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,P,E,F,D,K,q={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||q,P=((F=this._inputSettings)===null||F===void 0?void 0:F.audio)||q):(j=((D=this._preloadCache)===null||D===void 0||(D=D.inputSettings)===null||D===void 0?void 0:D.video)||q,P=((K=this._preloadCache)===null||K===void 0||(K=K.inputSettings)===null||K===void 0?void 0:K.audio)||q);var J={audio:P,video:j};return this._prepInputSettingsForSharing(J,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,P){var E=this._inputSettings||{},F={};if(j.video){var D,K,q;F.video={},j.video.settings?(F.video.settings={},P||j.video.settings.customTrack||(q=E.video)===null||q===void 0||!q.settings?F.video.settings=j.video.settings:F.video.settings=Re(Re({},E.video.settings),j.video.settings),Object.keys(F.video.settings).length||delete F.video.settings):(D=E.video)!==null&&D!==void 0&&D.settings&&(F.video.settings=E.video.settings),j.video.processor?F.video.processor=j.video.processor:(K=E.video)!==null&&K!==void 0&&K.processor&&(F.video.processor=E.video.processor)}else E.video&&(F.video=E.video);if(j.audio){var J,Z,Y;F.audio={},j.audio.settings?(F.audio.settings={},P||j.audio.settings.customTrack||(Y=E.audio)===null||Y===void 0||!Y.settings?F.audio.settings=j.audio.settings:F.audio.settings=Re(Re({},E.audio.settings),j.audio.settings),Object.keys(F.audio.settings).length||delete F.audio.settings):(J=E.audio)!==null&&J!==void 0&&J.settings&&(F.audio.settings=E.audio.settings),j.audio.processor?F.audio.processor=j.audio.processor:(Z=E.audio)!==null&&Z!==void 0&&Z.processor&&(F.audio.processor=E.audio.processor)}else E.audio&&(F.audio=E.audio);this._maybeUpdateInputSettings(F)}},{key:"_devicesFromInputSettings",value:function(j){var P,E,F=(j==null||(P=j.video)===null||P===void 0||(P=P.settings)===null||P===void 0?void 0:P.deviceId)||null,D=(j==null||(E=j.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,K=this._preloadCache.outputDeviceId||null;return{camera:F?{deviceId:F}:{},mic:D?{deviceId:D}:{},speaker:K?{deviceId:K}:{}}}},{key:"updateInputSettings",value:(H=He(function*(j){var P=this;return dt(),Z7(j)?j.video||j.audio?(eK(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(E,F){P.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(D){if(D.error)F(D.error);else{if(D.returnPreloadCache)return P._updatePreloadCacheInputSettings(j,!0),void E(P._getInputSettings());P._maybeUpdateInputSettings(D.inputSettings),E(P._prepInputSettingsForSharing(D.inputSettings,!0))}})})):this._getInputSettings():(console.error(eC()),Promise.reject(eC()))}),function(j){return H.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var P=j.kbs,E=j.trackConstraints;if(dt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:P,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var j=this;if(dt(),this._callMachineInitialized)return new Promise(function(P){j.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,P(E)})})}},{key:"setDailyLang",value:function(j){return dt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[nc,Do].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(B=He(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),It(this._callState,"getMeetingSession()"),new Promise(function(P){j.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,P(E)})})}),function(){return B.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return It(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";mi(this._callObjectMode,"setMeetingSessionData()"),It(this._callState,"setMeetingSessionData");try{(function(E,F){new GUe({data:E,mergeStrategy:F})})(j,P)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:P})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(j,P){var E=this;return this.properties.userName=j,new Promise(function(F){E.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:ft()||!!P&&!!P.thisMeetingOnly},function(D){delete D.action,delete D.callbackStamp,F(D)})})}},{key:"setUserData",value:(I=He(function*(j){var P=this;try{X7(j)}catch(E){throw console.error(E),E}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(E){try{P.sendMessageToCallMachine({action:"set-user-data",userData:j},function(F){delete F.action,delete F.callbackStamp,E(F)})}catch(F){throw new Error("Error setting user data: ".concat(F))}})}),function(j){return I.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var P=this;if(typeof AudioWorkletNode>"u"&&!ft())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,F){P.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(D){P._isLocalAudioLevelObserverRunning=!D.error,D.error?F({error:D.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var P=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,F){P.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(D){P._isRemoteParticipantsAudioLevelObserverRunning=!D.error,D.error?F({error:D.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(L=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(mi(this._callObjectMode,"startCamera()"),t1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(P)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(P),this.properties=Re(Re({},this.properties),P)}return new Promise(function(E){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:Ku(j.properties,j.callClientId),preloadCache:Ku(j._preloadCache,j.callClientId)},function(F){E({camera:F.camera,mic:F.mic,speaker:F.speaker})})})}),function(){return L.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,P,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(P&&P!=="music"&&P!=="speech"&&!(P instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return dt(),It(this._callState,"startCustomTrack()"),this.validateCustomTrack(P.track,P.mode,P.trackName),new Promise(function(E,F){j._sharedTracks.customTrack=P.track,P.track=eo,j.sendMessageToCallMachine({action:"start-custom-track",properties:P},function(D){D.error?F({error:D.error}):E(D.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var P=this;return dt(),It(this._callState,"stopCustomTrack()"),new Promise(function(E){P.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(F){E(F.mediaTag)})})}},{key:"setCamera",value:function(j){var P=this;return qh(),qv(this._callMachineInitialized,"setCamera()"),new Promise(function(E){P.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(F){E({device:F.device})})})}},{key:"setAudioDevice",value:(O=He(function*(j){return qh(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return O.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){j.sendMessageToCallMachine({action:"cycle-camera",properties:P},function(F){E({device:F.device})})})}},{key:"cycleMic",value:function(){var j=this;return dt(),new Promise(function(P){j.sendMessageToCallMachine({action:"cycle-mic"},function(E){P({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return qh(),new Promise(function(P){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){P(E.facingMode)})})}},{key:"setInputDevicesAsync",value:($=He(function*(j){var P=this,E=j.audioDeviceId,F=j.videoDeviceId,D=j.audioSource,K=j.videoSource;if(dt(),D!==void 0&&(E=D),K!==void 0&&(F=K),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof F=="boolean"&&(this._setAllowLocalVideo(F),F=void 0),!E&&!F)return yield this.getInputDevices();var q={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=eo,q.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,q.audio={settings:{deviceId:E}})),F&&(F instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=F,F=eo,q.video={settings:{customTrack:F}}):(delete this._sharedTracks.videoTrack,q.video={settings:{deviceId:F}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(q,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(J){P.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:F},function(Z){if(delete Z.action,delete Z.callbackStamp,Z.returnPreloadCache)return P._updatePreloadCacheInputSettings(q,!1),void J(P._devicesFromInputSettings(P._inputSettings));J(Z)})})}),function(j){return $.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(T=He(function*(j){var P=this,E=j.outputDeviceId;if(dt(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(F,D){P.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(K){if(delete K.action,delete K.callbackStamp,K.error){var q=new Error(K.error.message);return q.type=K.error.type,void D(q)}K.returnPreloadCache?F(P._devicesFromInputSettings(P._inputSettings)):F(K)})})}),function(j){return T.apply(this,arguments)})},{key:"getInputDevices",value:(A=He(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P){j.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?P(j._devicesFromInputSettings(j._inputSettings)):P({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return A.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return qh(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(qh(),[LL,p6e].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&xy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(C=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(mi(this._callObjectMode,"preAuth()"),t1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(P)),!P.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(P),this.properties=Re(Re({},this.properties),P),new Promise(function(E,F){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:Ku(j.properties,j.callClientId),preloadCache:Ku(j._preloadCache,j.callClientId)},function(D){return D.error?F(D.error):D.access?(j._didPreAuth=!0,void E({access:D.access})):F(new Error("unknown error in preAuth()"))})})}),function(){return C.apply(this,arguments)})},{key:"load",value:(k=He(function*(j){var P=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=Re(Re({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(sL),this.emitDailyJSEvent({action:GBe}),this._callObjectMode?new Promise(function(E,F){P._callObjectLoader.cancel();var D=Date.now();P._callObjectLoader.load(P.properties.dailyConfig,function(K){P._bundleLoadTime=K?"no-op":Date.now()-D,P._updateCallState(oL),K&&P.emitDailyJSEvent({action:cL}),E()},function(K,q){if(P.emitDailyJSEvent({action:YBe}),!q){P._updateCallState(Do),P.resetMeetingDependentVars();var J={action:pL,errorMsg:K.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:K,bundleUrl:Cb(P.properties.dailyConfig)}}};P._maybeSendToSentry(J),P.emitDailyJSEvent(J),F(K.msg)}})}):(this._iframe.src=x7(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,F){P._loadedCallback=function(D){P._callState!==Do?(P._updateCallState(oL),(P.properties.cssFile||P.properties.cssText)&&P.loadCss(P.properties),E()):F(D)}}))}}),function(j){return k.apply(this,arguments)})},{key:"join",value:(N=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(P)}catch(F){return this.updateIsPreparingToJoin(!1),Promise.reject(F)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(P.url&&!this._callObjectMode&&P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(P.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(P),this.properties=Re(Re({},this.properties),P)}return P.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!P.showLocalVideo),P.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!P.showParticipantsBar),this._callState===gc||this._callState===Kk?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Kk,!1),this.emitDailyJSEvent({action:QBe}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Ku(this.properties,this.callClientId),preloadCache:Ku(this._preloadCache,this.callClientId)}),new Promise(function(F,D){j._joinedCallback=function(K,q){if(j._callState!==Do){if(j._updateCallState(gc),K)for(var J in K){if(j._callObjectMode){var Z=j._callMachine().store;kL(K[J],Z),CL(K[J],Z),EL(K[J],j._participants[J],Z)}j._participants[J]=Re({},K[J]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&j.loadCss(j.properties),F(K)}else D(q)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=He(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(P){j._callState===nc||j._callState===Do?P():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(nc),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:nc}),P()):(j._resolveLeave=P,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=He(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(qv(this._callMachineInitialized,"startScreenShare()"),P.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",P.screenVideoSendSettings),P.mediaStream&&(this._sharedTracks.screenMediaStream=P.mediaStream,P.mediaStream=eo),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:hL,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:gL,captureOptions:P})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:gL,captureOptions:P})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){qv(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=j.type;if(P&&P!=="cloud"&&P!=="raw-tracks"&&P!=="local")throw new Error("invalid type: ".concat(P,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Re({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var P=j.layout,E=P===void 0?{preset:"default"}:P,F=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:F})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var P=j.layout,E=P===void 0?{preset:"default"}:P,F=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:F})}},{key:"addLiveStreamingEndpoints",value:function(j){var P=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:vL,endpointsOp:BUe,endpoints:P,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(j){var P=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:vL,endpointsOp:UUe,endpoints:P,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Re({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),F7()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!GL(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var F=0;F<j.length;F++){var D=j[F];for(var K in this._validateEncodingLayerHasValidProperties(D),D)if(e1.includes(K)){if(typeof D[K]!="number")throw new Error("".concat(K," must be a number"));if(P){var q=P[K],J=q.min,Z=q.max;if(!GL(D[K],J,Z))throw new Error("".concat(K," value not in range. valid range: ").concat(J," to ").concat(Z))}}else if(!["active","scalabilityMode"].includes(K))throw new Error("Invalid key ".concat(K,", valid keys are:")+Object.values(e1));if(E&&!D.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=He(function*(j){var P=this,E=j.url,F=j.settings,D=F===void 0?{state:Gk.PLAY}:F;try{(function(K){if(typeof K!="string")throw new Error('url parameter must be "string" type')})(E),KL(D),function(K){for(var q in K)if(!UL.includes(q))throw new Error("Invalid key ".concat(q,", valid keys are: ").concat(UL));K.simulcastEncodings&&this.validateSimulcastEncodings(K.simulcastEncodings,J7,!0)}(D)}catch(K){throw console.error("invalid argument Error: ".concat(K)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),K}return new Promise(function(K,q){P.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:D},function(J){J.error?q({error:J.error,errorMsg:J.errorMsg}):K({session_id:J.session_id,remoteMediaPlayerState:{state:J.state,settings:J.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(y=He(function*(j){var P=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,F){P.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(D){D.error?F({error:D.error,errorMsg:D.errorMsg}):E()})})}),function(j){return y.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=He(function*(j){var P=this,E=j.session_id,F=j.settings;try{KL(F)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),D}return new Promise(function(D,K){P.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:F},function(q){q.error?K({error:q.error,errorMsg:q.errorMsg}):D({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(j){return b.apply(this,arguments)})},{key:"startTranscription",value:function(j){It(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Re({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(It(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(mt(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Re({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(It(this._callState,"stopTranscription()"),j&&mt(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Re({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=He(function*(j){var P=this;It(this._callState,"startDialOut()");var E=function(q){if(q){if(!Array.isArray(q))throw new Error("Error starting dial out: audio codec must be an array");if(q.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");q.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: audio codec must be a string");if(J!=="OPUS"&&J!=="PCMU"&&J!=="PCMA"&&J!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(q){if(q&&(E(q.audio),q.video)){if(!Array.isArray(q.video))throw new Error("Error starting dial out: video codec must be an array");if(q.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");q.video.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: video codec must be a string");if(J!=="H264"&&J!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&E(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(WL(j),j.permissions&&j.permissions.canReceive){var F=En(G7.validateJSONObject(j.permissions.canReceive),2),D=F[0],K=F[1];if(!D)throw new Error(K)}if(j.provider){if(j.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(j.provider));if(j.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(q,J){P.sendMessageToCallMachine(Re({action:"dialout-start"},j),function(Z){Z.error?J(Z.error):q(Z)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var P=this;return It(this._callState,"stopDialOut()"),new Promise(function(E,F){P.sendMessageToCallMachine(Re({action:"dialout-stop"},j),function(D){D.error?F(D.error):E(D)})})}},{key:"sipCallTransfer",value:(m=He(function*(j){var P=this;if(It(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,qL(j,"sipCallTransfer"),WL(j),new Promise(function(E,F){P.sendMessageToCallMachine(Re({action:yL},j),function(D){D.error?F(D.error):E(D)})})}),function(j){return m.apply(this,arguments)})},{key:"sipRefer",value:(g=He(function*(j){var P=this;if(It(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,qL(j,"sipRefer"),new Promise(function(E,F){P.sendMessageToCallMachine(Re({action:yL},j),function(D){D.error?F(D.error):E(D)})})}),function(j){return g.apply(this,arguments)})},{key:"sendDTMF",value:(p=He(function*(j){var P=this;return It(this._callState,"sendDTMF()"),function(E){var F=E.sessionId,D=E.tones;if(!F||!D)throw new Error("sessionId and tones are mandatory parameter");if(typeof F!="string"||typeof D!="string")throw new Error("sessionId and tones should be of string type");if(D.length>20)throw new Error("tones string must be upto 20 characters");var K=/[^0-9A-D*#]/g,q=D.match(K);if(q&&q[0])throw new Error("".concat(q[0]," is not valid DTMF tone"))}(j),new Promise(function(E,F){P.sendMessageToCallMachine(Re({action:"send-dtmf"},j),function(D){D.error?F(D.error):E(D)})})}),function(j){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==gc?Promise.resolve(Re({stats:{latest:{}}},this._network)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-calc-stats"},function(E){P(Re(Re({},j._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=He(function*(){var j=this;if(r1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}return new Promise(function(P,E){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(F){F.error?E(F.error):P(F.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!c6e(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=He(function*(){var j=this;dt(),mi(this._callObjectMode,"testCallQuality()"),qv(this._callMachineInitialized,"testCallQuality()",null,!0),t1(this._callState,this._isPreparingToJoin,"testCallQuality()");var P=this._testCallAlreadyInProgress,E=function(D){P||(j._testCallInProgress=D)};if(E(!0),this.needsLoad())try{var F=this._callState;yield this.load(),this._callState=F}catch(D){return E(!1),Promise.reject(D)}return new Promise(function(D){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(K){var q=K.results,J=q.result,Z=e4(q,f6e);if(J==="failed"){var Y,ye=Re({},Z);(Y=Z.error)!==null&&Y!==void 0&&Y.details?(Z.error.details=JSON.parse(Z.error.details),ye.error=Re(Re({},ye.error),{},{details:Re({},ye.error.details)}),ye.error.details.duringTest="testCallQuality"):(ye.error=ye.error?Re({},ye.error):{},ye.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(ye)}E(!1),D(Re({result:J},Z))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=He(function*(j){var P;ft()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),P=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),P=yield this.testCallQuality());var E={result:P.result,secondsElapsed:P.secondsElapsed};return P.data&&(E.data={maxRTT:P.data.maxRoundTripTime,packetLoss:P.data.avgRecvPacketLoss}),E}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=He(function*(j){var P=this;if(r1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(D){return Promise.reject(D)}var E=j.videoTrack,F=j.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(D,K){P.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:F},function(q){q.error?K(q.error):D(q.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ft()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=He(function*(j){var P=this;if(r1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(E,F){P.sendMessageToCallMachine({action:"test-network-connectivity"},function(D){D.error?F(D.error):E(D.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(P){j._callState===gc?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){P(E.cpuStats)}):P({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var P;if(!(((P=Object.keys(j))===null||P===void 0?void 0:P.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(e1))}},{key:"_validateVideoSendSettings",value:function(j,P){var E=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],F="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof P=="string"){if(!E.includes(P))throw new Error(F)}else{if(mt(P)!=="object")throw new Error(F);if(!P.maxQuality&&!P.encodings&&P.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(P.maxQuality&&["low","medium","high"].indexOf(P.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(P.encodings){var D=!1;switch(Object.keys(P.encodings).length){case 1:D=!P.encodings.low;break;case 2:D=!P.encodings.low||!P.encodings.medium;break;case 3:D=!P.encodings.low||!P.encodings.medium||!P.encodings.high;break;default:D=!0}if(D)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");P.encodings.low&&this._validateEncodingLayerHasValidProperties(P.encodings.low),P.encodings.medium&&this._validateEncodingLayerHasValidProperties(P.encodings.medium),P.encodings.high&&this._validateEncodingLayerHasValidProperties(P.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var P=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(E){var F=En(E,2),D=F[0],K=F[1];P._validateVideoSendSettings(D,K)})}},{key:"updateSendSettings",value:function(j){var P=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,F){P.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(D){D.error?F(D.error):E(D.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return dt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return dt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return dt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return It(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(l=He(function*(){var j=this;if(this._callObjectMode){var P=yield navigator.mediaDevices.enumerateDevices();return fu()==="Firefox"&&Mb().major>115&&Mb().major<123&&(P=P.filter(function(E){return E.kind!=="audiooutput"})),{devices:P.map(function(E){var F=JSON.parse(JSON.stringify(E));if(!ft()&&E.kind==="videoinput"&&E.getCapabilities){var D,K=E.getCapabilities();F.facing=(K==null||(D=K.facingMode)===null||D===void 0?void 0:D.length)>=1?K.facingMode[0]:void 0}return F})}}return new Promise(function(E){j.sendMessageToCallMachine({action:"enumerate-devices"},function(F){E({devices:F.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(It(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:P}),this}},{key:"addFakeParticipant",value:function(j){return dt(),It(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Re({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return ca(this._callObjectMode,"setShowNamesMode()"),dt(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ca(this._callObjectMode,"setShowLocalVideo()"),dt(),It(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return ca(this._callObjectMode,"showLocalVideo()"),dt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ca(this._callObjectMode,"setShowParticipantsBar()"),dt(),It(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return ca(this._callObjectMode,"showParticipantsBar()"),dt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return dt(),ca(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return dt(),ca(this._callObjectMode,"setCustomIntegrations()"),It(this._callState,"setCustomIntegrations()"),aK(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var P=this;if(dt(),ca(this._callObjectMode,"startCustomIntegrations()"),It(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,F=E.filter(function(D){return!(D in P._customIntegrations)});return F.length?(console.error(`Can't find custom integration(s): "`.concat(F.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(j){var P=this;if(dt(),ca(this._callObjectMode,"stopCustomIntegrations()"),It(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,F=E.filter(function(D){return!(D in P._customIntegrations)});return F.length?(console.error(`Can't find custom integration(s): "`.concat(F.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return ca(this._callObjectMode,"customTrayButtons()"),dt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return ca(this._callObjectMode,"updateCustomTrayButtons()"),dt(),It(this._callState,"updateCustomTrayButtons()"),nK(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Ib))),this)}},{key:"theme",value:function(){return ca(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var P=this;return ca(this._callObjectMode,"setTheme()"),new Promise(function(E,F){try{P.validateProperties({theme:j}),P.properties.theme=Re({},j),P.sendMessageToCallMachine({action:"set-theme",theme:P.properties.theme});try{P.emitDailyJSEvent({action:KBe,theme:P.properties.theme})}catch(D){console.log("could not emit 'theme-updated'",D)}E(P.properties.theme)}catch(D){F(D)}})}},{key:"requestFullscreen",value:(s=He(function*(){if(dt(),this._iframe&&!document.fullscreenElement&&xL())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){dt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=He(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){P(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(a=He(function*(){var j=this,P=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=P===void 0||P;return this._accessState.access===Kj||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(F){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(D){delete D.action,delete D.callbackStamp,F(D)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(n=He(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(P){return console.error("geo lookup failed",P),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=He(function*(j){var P=this;return dt(),It(this._callState,"setNetworkTopology()"),new Promise(function(E,F){P.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(D){D.error?F({error:D.error}):E({workerId:D.workerId})})})}),function(j){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=He(function*(){var j=this;return new Promise(function(P,E){j.needsLoad()&&P({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(F){F.error?E({error:F.error}):P({topology:F.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(dt(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,P){return Mv.prototype.on.call(this,j,P)}},{key:"once",value:function(j,P){return Mv.prototype.once.call(this,j,P)}},{key:"off",value:function(j,P){return Mv.prototype.off.call(this,j,P)}},{key:"validateProperties",value:function(j){var P,E;if(j!=null&&(P=j.dailyConfig)!==null&&P!==void 0&&P.userMediaAudioConstraints){var F,D;ft()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var K=j.inputSettings||{};K.audio=((F=j.inputSettings)===null||F===void 0?void 0:F.audio)||{},K.audio.settings=((D=j.inputSettings)===null||D===void 0||(D=D.audio)===null||D===void 0?void 0:D.settings)||{},K.audio.settings=Re(Re({},K.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=K,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(E=j.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var q,J;ft()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var Z=j.inputSettings||{};Z.video=((q=j.inputSettings)===null||q===void 0?void 0:q.video)||{},Z.video.settings=((J=j.inputSettings)===null||J===void 0||(J=J.video)===null||J===void 0?void 0:J.settings)||{},Z.video.settings=Re(Re({},Z.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=Z,delete j.dailyConfig.userMediaVideoConstraints}for(var Y in j)if(ic[Y]){if(ic[Y].validate&&!ic[Y].validate(j[Y],this))throw new Error("property '".concat(Y,"': ").concat(ic[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete j[Y]}},{key:"assembleMeetingUrl",value:function(){var j,P,E=Re(Re({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((P=this.properties.dailyConfig)===null||P===void 0?void 0:P.proxyUrl):void 0}),F=E.url.match(/\?/)?"&":"?";return E.url+F+Object.keys(ic).filter(function(D){return ic[D].queryString&&E[D]!==void 0}).map(function(D){return"".concat(ic[D].queryString,"=").concat(E[D])}).join("&")}},{key:"needsLoad",value:function(){return[iL,sL,nc,Do].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,P){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,P,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case HBe:this.sendMessageToCallMachine(Re({action:qBe},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var P={action:Vv,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Cb(this.properties.dailyConfig)}};this.sendMessageToCallMachine(P),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case cL:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case ZBe:var E,F=Re({},j);delete F.internal,this._maxAppMessageSize=((E=j.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||Gj,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(F);break;case tUe:case rUe:if(this._callState===nc)return;if(j.participant&&j.participant.session_id){var D=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var K=this._callMachine().store;kL(j.participant,K),CL(j.participant,K),EL(j.participant,this._participants[D],K)}try{this.maybeParticipantTracksStopped(this._participants[D],j.participant),this.maybeParticipantTracksStarted(this._participants[D],j.participant),this.maybeEventRecordingStopped(this._participants[D],j.participant),this.maybeEventRecordingStarted(this._participants[D],j.participant)}catch(oe){console.error("track events error",oe)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[D])||(this._participants[D]=Re({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case nUe:if(j.participant&&j.participant.session_id){var q=this._participants[j.participant.session_id];q&&this.maybeParticipantTracksStopped(q,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case aUe:In(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case iUe:var J={access:j.access};j.awaitingAccess&&(J.awaitingAccess=j.awaitingAccess),In(this._accessState,J)||(this._accessState=J,this.emitDailyJSEvent(j));break;case sUe:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var Z=Re(Re({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(Z)}break;case pL:var Y;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(Do),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var ye=e4(j,h6e);ye!=null&&(Y=ye.error)!==null&&Y!==void 0&&Y.details&&(ye.error.details=JSON.parse(ye.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,ye),this._joinedCallback=null),this.emitDailyJSEvent(ye);break;case eUe:this._callState!==Do&&this._updateCallState(nc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case OUe:var ke=j.state,Ke=j.threshold,nt=j.quality,Ue=ke.state,it=ke.reasons;Ue===this._network.networkState&&In(it,this._network.networkStateReasons)&&Ke===this._network.threshold&&nt===this._network.quality||(this._network.networkState=Ue,this._network.networkStateReasons=it,this._network.quality=nt,this._network.threshold=Ke,j.networkState=Ue,it.length&&(j.networkStateReasons=it),delete j.state,this.emitDailyJSEvent(j));break;case TUe:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case MUe:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case EUe:var Mt=j.activeSpeaker;this._activeSpeaker.peerId!==Mt.peerId&&(this._activeSpeaker.peerId=Mt.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var dr=j.show;this._showLocalVideo=dr,this.emitDailyJSEvent({action:j.action,show:dr});break;case PUe:var W=j.enabled;this._activeSpeakerMode!==W&&(this._activeSpeakerMode=W,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case lUe:case cUe:case uUe:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case FUe:In(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case fL:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":In(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case _Ue:var z=j.session_id;this._rmpPlayerState[z]=j.playerState,this.emitDailyJSEvent(j);break;case SUe:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case jUe:var X=j.session_id,ue=this._rmpPlayerState[X];ue&&this.compareEqualForRMPUpdateEvent(ue,j.remoteMediaPlayerState)||(this._rmpPlayerState[X]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case oUe:var le=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=n1(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||le)&&this.emitDailyJSEvent(j);break;case NUe:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case kUe:case CUe:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case uL:case dL:case gUe:case vUe:case yUe:case hUe:case pUe:case mUe:case JBe:case XBe:case bUe:case wUe:case"test-completed":case AUe:case xUe:case $Ue:case IUe:case RUe:case DUe:case hL:case LUe:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,P){var E="record";j&&(P.local||P[E]!==!1||j[E]===P[E]||this.emitDailyJSEvent({action:dL}))}},{key:"maybeEventRecordingStarted",value:function(j,P){var E="record";j&&(P.local||P[E]!==!0||j[E]===P[E]||this.emitDailyJSEvent({action:uL}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==BBe)}},{key:"_trackChanged",value:function(j,P){return(j==null?void 0:j.id)!==(P==null?void 0:P.id)}},{key:"maybeEventTrackStopped",value:function(j,P,E){var F,D,K=(F=P==null?void 0:P.tracks[j])!==null&&F!==void 0?F:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,J=K==null?void 0:K.track;if(J){var Z=this._trackStatePlayable(K),Y=this._trackStatePlayable(q),ye=this._trackChanged(J,q==null?void 0:q.track);Z&&(Y&&!ye||this.emitDailyJSEvent({action:fUe,track:J,participant:E??P,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,P,E){var F,D,K=(F=P==null?void 0:P.tracks[j])!==null&&F!==void 0?F:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,J=q==null?void 0:q.track;if(J){var Z=this._trackStatePlayable(K),Y=this._trackStatePlayable(q),ye=this._trackChanged(K==null?void 0:K.track,J);Y&&(Z&&!ye||this.emitDailyJSEvent({action:dUe,track:J,participant:E,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,P){if(j)for(var E in j.tracks)this.maybeEventTrackStopped(E,j,P)}},{key:"maybeParticipantTracksStarted",value:function(j,P){if(P)for(var E in P.tracks)this.maybeEventTrackStarted(E,j,P)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,P){var E,F;return j.state===P.state&&((E=j.settings)===null||E===void 0?void 0:E.volume)===((F=P.settings)===null||F===void 0?void 0:F.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(P){console.log("could not emit",j,P)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,P){return!!In(j,P)&&(!j.videoTrack||!P.videoTrack||j.videoTrack.id===P.videoTrack.id&&j.videoTrack.muted===P.videoTrack.muted&&j.videoTrack.enabled===P.videoTrack.enabled)&&(!j.audioTrack||!P.audioTrack||j.audioTrack.id===P.audioTrack.id&&j.audioTrack.muted===P.audioTrack.muted&&j.audioTrack.enabled===P.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return ft()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||P!==this._isPreparingToJoin){var E=this._callState,F=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=P;var D=this._callState===gc;this.updateShowAndroidOngoingMeetingNotification(D);var K=xy(E,F),q=xy(this._callState,this._isPreparingToJoin);K!==q&&(this.updateKeepDeviceAwake(q),this.updateDeviceAudioMode(q),this.updateNoOpRecordingEnsuringBackgroundContinuity(q))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=BL,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Kj},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=n1(FL,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Gj,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){ft()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(ft()&&!this.disableReactNativeAutoDeviceManagement("audio")){var P=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(P)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(ft()&&this.nativeUtils().setShowOngoingMeetingNotification){var P,E,F,D;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var K=this.properties.reactNativeConfig.androidInCallNotification;P=K.title,E=K.subtitle,F=K.iconName,D=K.disableForCustomOverride}D&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,P,E,F,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){ft()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(ft()){var P=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var E in P==null?void 0:P.streams){var F=P.streams[E];F&&F.pendingTrack&&F.pendingTrack.kind==="audio"&&(F.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var P=document.createElement("a");return P.href=j,P.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(ac)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var P={action:Vv,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(P)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:Vv,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,P=Object.values(ac);j<P.length;j++){var E=P[j];E._callMachineInitialized?(E.sendMessageToCallMachine({action:Vv,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var P,E,F,D;if(!((P=j.error)!==null&&P!==void 0&&P.type&&(![WBe,VBe,lL].includes(j.error.type)||j.error.type===lL&&j.error.msg.includes("deleted")))){var K=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,q="production";K&&K.host.includes(".staging.daily")&&(q="staging");var J,Z,Y,ye,ke,Ke=function(z){const X=[sBe(),aBe(),TBe(),OBe(),DBe(),FBe(),uBe(),LBe()];return z.autoSessionTracking!==!1&&X.push(RBe()),X}({}).filter(function(z){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(z.name)}),nt=new yBe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:jBe,stackParser:PBe,integrations:Ke,environment:q}),Ue=new Al;if(Ue.setClient(nt),nt.init(),this.session_id&&Ue.setExtra("sessionId",this.session_id),this.properties){var it=Re({},this.properties);it.userName=it.userName?"[Filtered]":void 0,it.userData=it.userData?"[Filtered]":void 0,it.token=it.token?"[Filtered]":void 0,Ue.setExtra("properties",it)}if(K){var Mt=K.searchParams.get("domain");if(!Mt){var dr=K.host.match(/(.*?)\./);Mt=dr&&dr[1]||""}Mt&&Ue.setTag("domain",Mt)}j.error&&(Ue.setTag("fatalErrorType",j.error.type),Ue.setExtra("errorDetails",j.error.details),!((J=j.error.details)===null||J===void 0)&&J.uri&&Ue.setTag("serverAddress",j.error.details.uri),!((Z=j.error.details)===null||Z===void 0)&&Z.workerGroup&&Ue.setTag("workerGroup",j.error.details.workerGroup),!((Y=j.error.details)===null||Y===void 0)&&Y.geoGroup&&Ue.setTag("geoGroup",j.error.details.geoGroup),!((ye=j.error.details)===null||ye===void 0)&&ye.on&&Ue.setTag("connectionAttempt",j.error.details.on),(ke=j.error.details)!==null&&ke!==void 0&&ke.bundleUrl&&(Ue.setTag("bundleUrl",j.error.details.bundleUrl),Ue.setTag("bundleError",j.error.details.sourceError.type))),Ue.setTags({callMode:this._callObjectMode?ft()?"reactNative":(F=this.properties)!==null&&F!==void 0&&(F=F.dailyConfig)!==null&&F!==void 0&&(F=F.callMode)!==null&&F!==void 0&&F.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var W=((D=j.error)===null||D===void 0?void 0:D.msg)||j.errorMsg;Ue.captureException(new Error(W))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!In(this._inputSettings,j)){var P=this._getInputSettings();this._inputSettings=j;var E=this._getInputSettings();In(P,E)||this.emitDailyJSEvent({action:fL,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(ft())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=k5e.getParser(ni());return{supported:!!Xj(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!xL(),supportsScreenShare:!!zUe(),supportsSfu:!!Xj(),supportsVideoProcessing:D7(),supportsAudioProcessing:L7()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(dt(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser"),new e(j,P)}},{key:"createFrame",value:function(j,P){var E,F;dt(),j&&P?(E=j,F=P):j&&j.append?(E=j,F={}):(E=document.body,F=j||{});var D=F.iframeStyle;D||(D=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var K=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?K.allow="microphone, camera":K.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",K.style.visibility="hidden",E.appendChild(K),K.style.visibility=null,Object.keys(D).forEach(function(q){return K.style[q]=D[q]}),F.layout||(F.customLayout?F.layout="custom-v1":F.layout="browser");try{return new e(K,F)}catch(q){throw E.removeChild(K),q}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt();var P=document.createElement("iframe");return P.allow="microphone; camera; autoplay",P.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(P),j.layout||(j.layout="custom-v1"),e.wrap(P,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?ac[j]:Object.values(ac)[0]}}]);var t,r,n,a,i,s,l,c,u,d,f,h,p,g,m,v,b,y,w,_,S,N,k,C,A,T,$,O,L,I,B,H,V,R,U,G,te,Q}();function WL(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Ku(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=eo;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function It(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==gc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function xy(e,t){return[Kk,gc].includes(e)||t}function t1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(xy(e,t)){var a="".concat(r," not supported after joining a meeting.");throw n&&(a+=" ".concat(n)),console.error(a),new Error(a)}}function qv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function r1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function mi(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ca(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function dt(){if(ft())throw new Error("This daily-js method is not currently supported in React Native")}function qh(){if(!ft())throw new Error("This daily-js method is only supported in React Native")}function X7(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),In(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Q7(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},a=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!a(f.video))&&!(f.screenVideo&&!a(f.screenVideo))},s=0,l=Object.entries(e);s<l.length;s++){var c=En(l[s],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function Z7(e){if(mt(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"video":if(mt(i)!=="object")return!1;for(var s=0,l=Object.entries(i);s<l.length;s++){var c=En(l[s],2),u=c[0],d=c[1];switch(u){case"processor":if(!g6e(d))return!1;break;case"settings":if(!HL(d))return!1;break;default:return!1}}break;case"audio":if(mt(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var p=En(h[f],2),g=p[0],m=p[1];switch(g){case"processor":if(!m6e(m))return!1;break;case"settings":if(!HL(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function eK(e,t,r){var n,a=[];e.video&&e.video.processor&&(D7((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(L7()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:eo}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:eo}):delete r.videoTrack)}function m6e(e){if(ft())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&mt(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(I7).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function g6e(e){if(ft())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||mt(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(yy).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(mt(e.config)!=="object"||!function(r,n){var a=Object.keys(n);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case yy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case yy.BGIMAGE:return!(n.source!==void 0&&!function(s){if(s.source==="default")return s.type="default",!0;if(s.source instanceof ArrayBuffer)return!0;if(Eb(s.source))return s.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return Jj.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var p=f.split(".").at(-1).toLowerCase().trim();return Jj.includes(p)}(s.source)||(console.error("invalid image type; supported types: [".concat(Jj.join(", "),"]")),!1);return l=s.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(s.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function HL(e){return mt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function eC(){var e=Object.values(yy).join(" | "),t=Object.values(I7).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function tK(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(zBe).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function rK(){return"customIntegrations should be an object of type ".concat(JSON.stringify(Zk),".")}function nK(e){if(e&&mt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Ib),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=En(r[t],1)[0],a=0,i=Object.entries(e[n]);a<i.length;a++){var s=En(i[a],2),l=s[0],c=s[1],u=Ib.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Eb(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(mt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function aK(e){if(!e||e&&mt(e)!=="object"||Array.isArray(e))return console.error(rK()),!1;for(var t=function(f){return"".concat(f," should be ").concat(Zk.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,a=Object.entries(e);n<a.length;n++){var i=En(a[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var s=0,l=Object.entries(e[i]);s<l.length;s++){var c=En(l[s],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Eb(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Eb(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!Zk.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function iK(e,t){if(t===void 0)return!1;switch(mt(t)){case"string":return mt(e)===t;case"object":if(mt(e)!=="object")return!1;for(var r in e)if(!iK(e[r],t[r]))return!1;return!0;default:return!1}}function qL(e,t){var r=e.sessionId,n=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function KL(e){if(mt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Gk).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Gk));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function GL(e,t,r){return!(typeof e!="number"||e<t||e>r)}function n1(e,t){return e&&!t&&delete e.data,e}const v6e=()=>{const[e]=SE(),t=On(),{user:r,profile:n,role:a}=$r(),i=e.get("appointment"),[s,l]=x.useState(!0),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState(null),[g,m]=x.useState(null),[v,b]=x.useState(null),[y,w]=x.useState(!1),[_,S]=x.useState(!1),N=x.useRef(null),k=x.useRef(null);x.useEffect(()=>{(async()=>{if(!i||!r){f("No appointment specified"),l(!1);return}try{const{data:L,error:I}=await Pe.from("appointments").select("*").eq("id",i).single();if(I||!L){f("Appointment not found"),l(!1);return}const B=L.patient_id===r.id,H=L.clinician_id===r.id,V=a&&["admin","receptionist"].includes(a);if(!B&&!H&&!V){f("You are not authorized to join this consultation"),l(!1);return}const[R,U]=await Promise.all([Pe.from("profiles").select("first_name, last_name").eq("id",L.patient_id).single(),Pe.from("profiles").select("first_name, last_name").eq("id",L.clinician_id).single()]);p({...L,patient_name:R.data?`${R.data.first_name} ${R.data.last_name}`.trim():"Patient",clinician_name:U.data?`${U.data.first_name} ${U.data.last_name}`.trim():"Clinician"});const G=await pM.createRoom(i),te=n?`${n.first_name} ${n.last_name}`.trim():a==="patient"?"Patient":"Clinician",Q=await pM.createToken(G.room_name,te,a!=="patient");m(Q.room_url),b(Q.token),L.status!=="in_progress"&&await Pe.from("appointments").update({status:"in_progress"}).eq("id",i)}catch(L){console.error("Error setting up video call:",L),f(L.message||"Failed to set up video consultation")}finally{l(!1)}})()},[i,r,n,a]),x.useEffect(()=>()=>{k.current&&(k.current.destroy(),k.current=null)},[]);const C=x.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(O=>setTimeout(O,100)),!N.current){f("Video container not ready"),u(!1);return}try{const O=VL.getCallInstance();O&&await O.destroy();const L=VL.createFrame(N.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});k.current=L,L.on("joined-meeting",()=>{console.log("Joined Daily meeting"),fe.success("Connected to consultation"),w(!0)}),L.on("left-meeting",()=>{console.log("Left Daily meeting"),A()}),L.on("error",I=>{console.error("Daily error:",I),fe.error("Video call error occurred"),f("Video call error: "+((I==null?void 0:I.errorMsg)||"Unknown error")),w(!1),u(!1)}),L.on("participant-joined",I=>{var B,H;console.log("Participant joined:",(B=I==null?void 0:I.participant)==null?void 0:B.user_name),(H=I==null?void 0:I.participant)!=null&&H.user_name&&fe.info(`${I.participant.user_name} joined the call`)}),L.on("participant-left",I=>{var B,H,V;console.log("Participant left:",(B=I==null?void 0:I.participant)==null?void 0:B.user_name),(H=I==null?void 0:I.participant)!=null&&H.user_name&&!((V=I==null?void 0:I.participant)!=null&&V.local)&&fe.info(`${I.participant.user_name} left the call`)}),await L.join({url:g,token:v}),u(!1)}catch(O){console.error("Failed to join Daily call:",O),f("Failed to join video call: "+(O.message||"Unknown error")),fe.error("Failed to join video call"),u(!1)}}},[g,v]),A=async()=>{if(k.current){try{await k.current.destroy()}catch(O){console.error("Error destroying call frame:",O)}k.current=null}w(!1),S(!0),h&&await Pe.from("appointments").update({status:"completed"}).eq("id",h.id)},T=async()=>{if(k.current)try{await k.current.leave()}catch(O){console.error("Error leaving call:",O)}u(!1),A()},$=()=>{t(a==="patient"?"/patient":a==="nurse"||a==="doctor"?"/clinician":"/")};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(_t,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ie,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(vu,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),o.jsx(we,{children:"Unable to Join"}),o.jsx(Ne,{children:d})]}),o.jsx(ce,{children:o.jsxs(ee,{onClick:$,className:"w-full",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ie,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(Qt,{className:"w-12 h-12 text-primary mx-auto mb-2"}),o.jsx(we,{children:"Consultation Ended"}),o.jsx(Ne,{children:"Your video consultation has ended successfully."})]}),o.jsxs(ce,{className:"space-y-4",children:[a!=="patient"&&o.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>t(`/clinician?notes=${i}`),children:"Complete Clinical Notes"}),o.jsxs(ee,{onClick:$,className:"w-full",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):y||c?o.jsxs("div",{className:"fixed inset-0 bg-black",children:[o.jsx("div",{ref:N,className:"w-full h-full",style:{position:"relative"}}),o.jsxs(ee,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:T,children:[o.jsx(iE,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:o.jsxs(ie,{className:"max-w-lg w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(Qt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx(we,{className:"text-2xl",children:"Ready to Join?"}),o.jsx(Ne,{children:a==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ht,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),o.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:a==="patient"?"Clinician":"Patient"}),o.jsx("p",{className:"font-medium",children:a==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Before joining, please ensure:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"You're in a quiet, private location"}),o.jsx("li",{children:"Your camera and microphone are working"}),o.jsx("li",{children:"You have a stable internet connection"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(je,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(ee,{size:"lg",onClick:C,className:"w-full",children:[o.jsx(Qt,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),o.jsxs(ee,{variant:"outline",onClick:$,className:"w-full",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},y6e=()=>o.jsx(v6e,{}),x6e=()=>{const[e,t]=x.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=x.useRef(null),n=x.useRef(null),a=x.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),i=x.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),p=document.createElement("video");p.srcObject=d,p.muted=!0,p.play(),r.current=p;const g=()=>{h&&p.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(p,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const m=f.captureStream(30),v=d.getAudioTracks()[0];return v&&m.addTrack(v.clone()),m},[]),s=x.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=i(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[i]),l=x.useCallback(async()=>{a(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[a]),c=x.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=x.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return x.useEffect(()=>()=>{a()},[a]),{...e,startCall:s,endCall:l,toggleMute:c,toggleVideo:u}},a1=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:a="Participant",className:i=""})=>{const s=x.useRef(null);x.useEffect(()=>{s.current&&e&&(s.current.srcObject=e)},[e]);const l=a.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?o.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${i}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx(A0,{className:"w-24 h-24 mx-auto mb-4",children:o.jsx(T0,{className:"bg-primary/20 text-primary text-2xl",children:l||o.jsx(Wr,{className:"w-12 h-12"})})}),n&&o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(iE,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):o.jsxs("div",{className:`relative bg-black ${i}`,children:[o.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&a&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:a})]})},b6e=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:a,isConnected:i})=>o.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[o.jsx(ee,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?o.jsx(lX,{className:"w-6 h-6"}):o.jsx(cX,{className:"w-6 h-6"})}),o.jsx(ee,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?o.jsx(iE,{className:"w-6 h-6"}):o.jsx(Qt,{className:"w-6 h-6"})}),o.jsx(ee,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:a,title:"End call",children:o.jsx(hX,{className:"w-6 h-6"})})]}),w6e=()=>{const e=On(),[t,r]=x.useState(0),[n,a]=x.useState(!1),[i,s]=x.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:p,startCall:g,endCall:m,toggleMute:v,toggleVideo:b}=x6e();x.useEffect(()=>{let N;return u&&(N=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(N)},[u]);const y=N=>{const k=Math.floor(N/60),C=N%60;return`${k.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},w=async()=>{await g(),p||(s(!1),fe.success("Demo consultation started!"))},_=async()=>{await m(),fe.info("Demo ended"),e(-1)},S=()=>{document.fullscreenElement?(document.exitFullscreen(),a(!1)):(document.documentElement.requestFullscreen(),a(!0))};return i&&!u?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(ie,{className:"w-full max-w-2xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:o.jsxs(je,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[o.jsx(Hn,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),o.jsx(we,{className:"text-2xl",children:"Video Consultation Demo"}),o.jsx(Ne,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?o.jsx(a1,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(Qt,{className:"w-12 h-12 mb-2 opacity-50"}),o.jsx("p",{children:"Camera preview will appear here"})]})}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Camera and microphone access"}),o.jsx("li",{children:" Video/audio mute controls"}),o.jsx("li",{children:" Picture-in-picture layout"}),o.jsx("li",{children:" Fullscreen mode"}),o.jsx("li",{children:" Call duration timer"})]})]}),p&&o.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:p}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(ee,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(ee,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(aE,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):o.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[o.jsxs(ee,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(je,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[o.jsx(Hn,{className:"w-3 h-3 mr-1"}),"Demo"]}),o.jsxs(je,{variant:"secondary",className:"bg-white/20 text-white",children:[o.jsx(Ht,{className:"w-3 h-3 mr-1"}),y(t)]}),o.jsx(ee,{variant:"ghost",size:"sm",onClick:S,className:"text-white",children:n?o.jsx(uX,{className:"w-4 h-4"}):o.jsx(oX,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(a1,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),o.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:o.jsx(a1,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:o.jsx(b6e,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},_6e=()=>o.jsx(w6e,{});var Ww="Checkbox",[j6e]=gn(Ww),[S6e,eA]=j6e(Ww);function N6e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Ui({prop:r,defaultProp:a??!1,onChange:c,caller:Ww}),[g,m]=x.useState(null),[v,b]=x.useState(null),y=x.useRef(!1),w=g?!!s||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:_l(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return o.jsx(S6e,{scope:t,..._,children:k6e(f)?f(_):n})}var sK="CheckboxTrigger",oK=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=eA(sK,e),m=We(a,d),v=x.useRef(c);return x.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const y=()=>f(v.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),o.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":_l(c)?"mixed":c,"aria-required":u,"data-state":fK(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:de(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:de(r,b=>{f(y=>_l(y)?!0:!y),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});oK.displayName=sK;var tA=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(N6e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(oK,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(dK,{__scopeCheckbox:r})]})})});tA.displayName=Ww;var lK="CheckboxIndicator",cK=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=eA(lK,r);return o.jsx(Hr,{present:n||_l(i.checked)||i.checked===!0,children:o.jsx(Te.span,{"data-state":fK(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});cK.displayName=lK;var uK="CheckboxBubbleInput",dK=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=eA(uK,e),g=We(r,p),m=b0(i),v=o0(n);x.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(m!==i&&S){const k=new Event("click",{bubbles:N});y.indeterminate=_l(i),S.call(y,_l(i)?!1:i),y.dispatchEvent(k)}},[h,m,i,a]);const b=x.useRef(_l(i)?!1:i);return o.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dK.displayName=uK;function k6e(e){return typeof e=="function"}function _l(e){return e==="indeterminate"}function fK(e){return _l(e)?"indeterminate":e?"checked":"unchecked"}const wd=x.forwardRef(({className:e,...t},r)=>o.jsx(tA,{ref:r,className:ge("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(cK,{className:ge("flex items-center justify-center text-current"),children:o.jsx(tE,{className:"h-4 w-4"})})}));wd.displayName=tA.displayName;const i1="",C6e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],E6e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],P6e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],O6e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],A6e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:a,prefilledData:i})=>{const[s,l]=x.useState(1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState(i||null),[g,m]=x.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:a||"",date_of_birth:(i==null?void 0:i.date_of_birth)||"",gender:(i==null?void 0:i.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});x.useEffect(()=>{m(N=>({...N,id_type:t,id_number:r||N.id_number,passport_number:n||N.passport_number,passport_country:a||N.passport_country,date_of_birth:(i==null?void 0:i.date_of_birth)||N.date_of_birth,gender:(i==null?void 0:i.gender)||N.gender})),i&&p(i)},[t,r,n,a,i]),x.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${i1}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(N){console.error("Failed to fetch schemes:",N)}},b=async N=>{if(N.length===13)try{const C=await(await fetch(`${i1}/api/patient/validate-id?id_number=${N}`,{method:"POST"})).json();p(C),C.valid?(m(A=>({...A,date_of_birth:C.date_of_birth,gender:C.gender})),fe.success("ID number validated successfully")):fe.error(C.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},y=async()=>{u(!0);try{const{supabase:N}=await go(async()=>{const{supabase:T}=await Promise.resolve().then(()=>po);return{supabase:T}},void 0),{data:{session:k}}=await N.auth.getSession();if(!(k!=null&&k.access_token)){fe.error("Please sign in to continue");return}const C={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(T=>({name:T,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},A=await fetch(`${i1}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(C)});if(!A.ok){const T=await A.json();throw new Error(T.detail||"Onboarding failed")}fe.success("Profile completed successfully!"),e==null||e()}catch(N){fe.error(N.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=s/w*100,S=d.find(N=>N.code===g.medical_aid_scheme);return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(ff,{value:_,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",s," of ",w]})]}),s===1&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ne,{children:"Tell us about yourself"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"first_name",children:"First Name *"}),o.jsx(rt,{id:"first_name",value:g.first_name,onChange:N=>m({...g,first_name:N.target.value}),placeholder:"Enter first name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(rt,{id:"last_name",value:g.last_name,onChange:N=>m({...g,last_name:N.target.value}),placeholder:"Enter last name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{htmlFor:"id_number",className:"flex items-center gap-2",children:[o.jsx(tX,{className:"w-4 h-4"}),"South African ID Number *"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(rt,{id:"id_number",value:g.id_number,onChange:N=>{const k=N.target.value.replace(/\D/g,"").slice(0,13);m({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&o.jsxs(je,{className:"bg-success shrink-0",children:[o.jsx(pn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"Email *"}),o.jsx(rt,{id:"email",type:"email",value:g.email,onChange:N=>m({...g,email:N.target.value}),placeholder:"your@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"phone",children:"Phone Number *"}),o.jsx(rt,{id:"phone",value:g.phone,onChange:N=>m({...g,phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),s===2&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(X5,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Address Line 1"}),o.jsx(rt,{value:g.address_line_1,onChange:N=>m({...g,address_line_1:N.target.value}),placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"City"}),o.jsx(rt,{value:g.city,onChange:N=>m({...g,city:N.target.value}),placeholder:"City"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Province"}),o.jsxs(vr,{value:g.province,onValueChange:N=>m({...g,province:N}),children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select province"})}),o.jsx(or,{children:C6e.map(N=>o.jsx(qe,{value:N,children:N},N))})]})]})]}),o.jsx(yx,{className:"my-4"}),o.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[o.jsx(sa,{className:"w-4 h-4"}),"Emergency Contact"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Contact Name"}),o.jsx(rt,{value:g.emergency_contact_name,onChange:N=>m({...g,emergency_contact_name:N.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Relationship"}),o.jsx(rt,{value:g.emergency_contact_relationship,onChange:N=>m({...g,emergency_contact_relationship:N.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Contact Phone"}),o.jsx(rt,{value:g.emergency_contact_phone,onChange:N=>m({...g,emergency_contact_phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),s===3&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(cg,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wd,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:N=>m({...g,has_medical_aid:!!N})}),o.jsx(xe,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Medical Aid Scheme *"}),o.jsxs(vr,{value:g.medical_aid_scheme,onValueChange:N=>m({...g,medical_aid_scheme:N,medical_aid_plan:""}),children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select your medical aid"})}),o.jsx(or,{children:d.map(N=>o.jsx(qe,{value:N.code,children:N.name},N.code))})]})]}),S&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Plan"}),o.jsxs(vr,{value:g.medical_aid_plan,onValueChange:N=>m({...g,medical_aid_plan:N}),children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select your plan"})}),o.jsx(or,{children:S.plans.map(N=>o.jsx(qe,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Membership Number *"}),o.jsx(rt,{value:g.medical_aid_number,onChange:N=>m({...g,medical_aid_number:N.target.value}),placeholder:"Your member number"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Dependent Code"}),o.jsx(rt,{value:g.medical_aid_dependent_code,onChange:N=>m({...g,medical_aid_dependent_code:N.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&o.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),s===4&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(nE,{className:"w-5 h-5 text-primary"}),"Medical History"]}),o.jsx(Ne,{children:"This information helps us provide better care"})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{className:"flex items-center gap-2",children:[o.jsx(Hn,{className:"w-4 h-4 text-warning"}),"Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:P6e.map(N=>o.jsx(je,{variant:g.allergies.some(k=>k.allergen===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(C=>C.allergen===N);m(k?{...g,allergies:g.allergies.filter(C=>C.allergen!==N)}:{...g,allergies:[...g.allergies,{allergen:N,reaction:"",severity:"mild"}]})},children:N},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(xe,{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"w-4 h-4"}),"Chronic Conditions"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O6e.map(N=>o.jsx(je,{variant:g.chronic_conditions.some(k=>k.condition===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(C=>C.condition===N);m(k?{...g,chronic_conditions:g.chronic_conditions.filter(C=>C.condition!==N)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:N}]})},children:N},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Blood Type"}),o.jsxs(vr,{value:g.blood_type,onValueChange:N=>m({...g,blood_type:N}),children:[o.jsx(sr,{className:"w-[200px]",children:o.jsx(yr,{})}),o.jsx(or,{children:E6e.map(N=>o.jsx(qe,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Smoking Status"}),o.jsxs(vr,{value:g.smoking_status,onValueChange:N=>m({...g,smoking_status:N}),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsxs(or,{children:[o.jsx(qe,{value:"never",children:"Never smoked"}),o.jsx(qe,{value:"former",children:"Former smoker"}),o.jsx(qe,{value:"current",children:"Current smoker"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Alcohol Use"}),o.jsxs(vr,{value:g.alcohol_use,onValueChange:N=>m({...g,alcohol_use:N}),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsxs(or,{children:[o.jsx(qe,{value:"none",children:"None"}),o.jsx(qe,{value:"occasional",children:"Occasional"}),o.jsx(qe,{value:"moderate",children:"Moderate"}),o.jsx(qe,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),s===5&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(pn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:N=>m({...g,consent_telehealth:!!N})}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:N=>m({...g,consent_data_processing:!!N})}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:N=>m({...g,consent_marketing:!!N})}),o.jsxs("div",{children:[o.jsx(xe,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(ee,{variant:"outline",onClick:()=>l(N=>N-1),disabled:s===1,children:[o.jsx(rE,{className:"w-4 h-4 mr-2"}),"Back"]}),s<w?o.jsxs(ee,{onClick:()=>l(N=>N+1),children:["Next",o.jsx(ef,{className:"w-4 h-4 ml-2"})]}):o.jsx(ee,{onClick:y,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},Kv="",T6e=()=>{var L,I;const e=On(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:a}=$r(),[i,s]=x.useState("check"),[l,c]=x.useState("sa_id"),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,g]=x.useState(""),[m,v]=x.useState(""),[b,y]=x.useState(!1),[w,_]=x.useState(null),[S,N]=x.useState(null),[k,C]=x.useState([]);x.useEffect(()=>{A()},[]),x.useEffect(()=>{!a&&r&&e("/patient")},[a,r,e]);const A=async()=>{try{const H=await(await fetch(`${Kv}/api/patient/countries`)).json();C(H.countries||[])}catch(B){console.error("Failed to fetch countries:",B),C([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},T=async()=>{y(!0);try{let B=`${Kv}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){fe.error("Please enter a valid 13-digit SA ID number"),y(!1);return}B+=`&id_number=${u}`}else{if(!f||f.length<5){fe.error("Please enter a valid passport number"),y(!1);return}if(!p){fe.error("Please select your country of citizenship"),y(!1);return}if(!m){fe.error("Please enter your date of birth"),y(!1);return}B+=`&passport_number=${f}&country_code=${p}&date_of_birth=${m}`}const V=await(await fetch(B,{method:"POST"})).json();if(!V.valid){fe.error(V.error||"Invalid identification"),y(!1);return}if(N(V),l==="sa_id"){const{supabase:R}=await go(async()=>{const{supabase:G}=await Promise.resolve().then(()=>po);return{supabase:G}},void 0),{data:{session:U}}=await R.auth.getSession();if(U!=null&&U.access_token)try{const G=await fetch(`${Kv}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${U.access_token}`}});if(G.ok){const te=await G.json();if(_(te),te.found){fe.success("We found your existing records! Please confirm your details."),s("confirm");return}}}catch{console.log("EHR lookup not available")}}fe.info("Please complete your profile."),s("onboarding")}catch(B){console.error("Validation failed:",B),fe.error("Could not validate identification. Please try again.")}finally{y(!1)}},$=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),fe.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},O=async()=>{y(!0);try{const{supabase:B}=await go(async()=>{const{supabase:U}=await Promise.resolve().then(()=>po);return{supabase:U}},void 0),{data:{session:H}}=await B.auth.getSession();if(!(H!=null&&H.access_token)){fe.error("Please sign in to continue");return}const V={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(S==null?void 0:S.date_of_birth),gender:(w==null?void 0:w.gender)||(S==null?void 0:S.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(U=>({allergen:U,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(U=>({condition:U})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${Kv}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${H.access_token}`},body:JSON.stringify(V)})).ok)throw new Error("Failed to save profile");await n(),fe.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(B){console.error("Confirmation failed:",B),fe.error("Failed to confirm profile. Please try again.")}finally{y(!1)}};return a?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):i==="check"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(ie,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(nS,{className:"w-8 h-8 text-primary"})}),o.jsxs(we,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),o.jsx(Ne,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{children:"Type of Identification"}),o.jsxs(hm,{value:l,onValueChange:B=>c(B),className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"sa_id",id:"sa_id"}),o.jsxs(xe,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(rn,{className:"w-4 h-4"}),"SA ID"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"passport",id:"passport"}),o.jsxs(xe,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(ZJ,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"id_number",children:"South African ID Number"}),o.jsx(rt,{id:"id_number",value:u,onChange:B=>d(B.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"passport_country",children:"Country of Citizenship"}),o.jsxs(vr,{value:p,onValueChange:g,children:[o.jsx(sr,{children:o.jsx(yr,{placeholder:"Select your country"})}),o.jsx(or,{children:k.filter(B=>B.code!=="ZA").map(B=>o.jsx(qe,{value:B.code,children:B.name},B.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"passport_number",children:"Passport Number"}),o.jsx(rt,{id:"passport_number",value:f,onChange:B=>h(B.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"date_of_birth",children:"Date of Birth"}),o.jsx(rt,{id:"date_of_birth",type:"date",value:m,onChange:B=>v(B.target.value),max:new Date().toISOString().split("T")[0]})]})]}),o.jsx(ee,{className:"w-full",size:"lg",onClick:T,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!p||!m),children:b?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(nS,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]}):i==="confirm"&&(w!=null&&w.found)?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(ie,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(pn,{className:"w-8 h-8 text-success"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Records Found!"}),o.jsx(Ne,{children:"We found your existing records. Please confirm your details."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Name"}),o.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),o.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Gender"}),o.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((L=w.allergies)==null?void 0:L.length)||((I=w.chronic_conditions)==null?void 0:I.length))&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),o.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),o.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(ee,{className:"w-full",size:"lg",onClick:O,disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),o.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>s("onboarding"),children:"Update My Information"})]})]})]})})]}):i==="onboarding"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),S&&o.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:o.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",S.date_of_birth&&`  DOB: ${S.date_of_birth}`,S.gender&&`  ${S.gender}`,S.age&&`  Age ${S.age}`]})})]}),o.jsx(A6e,{onComplete:$,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?p:void 0,prefilledData:S})]})]}):null},M6e="",YL=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],$6e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],I6e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:a})=>{const[i,s]=x.useState(!1),[l,c]=x.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=x.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,m)=>{const v=m?parseFloat(m):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){fe.error("Chief complaint is required");return}s(!0);try{const{supabase:g}=await go(async()=>{const{supabase:y}=await Promise.resolve().then(()=>po);return{supabase:y}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){fe.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${M6e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify(v)});if(!b.ok){const y=await b.json();throw new Error(y.detail||"Triage submission failed")}fe.success("Triage assessment saved successfully"),a==null||a()}catch(g){fe.error(g.message||"Failed to save triage")}finally{s(!1)}},p=YL.find(g=>g.value===u.triage_priority);return o.jsxs("div",{className:"space-y-6",children:[o.jsx(ie,{children:o.jsx(me,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&o.jsxs(je,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(nE,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Blood Pressure (mmHg)"}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(rt,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),o.jsx("span",{children:"/"}),o.jsx(rt,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Heart Rate (bpm)"}),o.jsx(rt,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Temperature (C)"}),o.jsx(rt,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"SpO2 (%)"}),o.jsx(rt,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Respiratory Rate"}),o.jsx(rt,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Weight (kg)"}),o.jsx(rt,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Height (cm)"}),o.jsx(rt,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-xs",children:"Pain Score (0-10)"}),o.jsx(rt,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(rn,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"What is the main reason for this visit? *"}),o.jsx(Fr,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Duration of Symptoms"}),o.jsx(rt,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Onset"}),o.jsxs(vr,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsxs(or,{children:[o.jsx(qe,{value:"sudden",children:"Sudden"}),o.jsx(qe,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Hn,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs(vr,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:YL.map(g=>o.jsx(qe,{value:g.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),p&&o.jsxs("div",{className:`p-3 rounded-lg ${p.color} bg-opacity-10`,children:[o.jsx("p",{className:"text-sm font-medium",children:p.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(pn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),o.jsx(ce,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wd,{id:g.key,checked:u[g.key],onCheckedChange:m=>d({...u,[g.key]:!!m})}),o.jsx(xe,{htmlFor:g.key,children:g.label})]},g.key))})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Ga,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Nurse Assessment Notes"}),o.jsx(Fr,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Recommended Action"}),o.jsxs(vr,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[o.jsx(sr,{children:o.jsx(yr,{})}),o.jsx(or,{children:$6e.map(g=>o.jsx(qe,{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Notes for Doctor (optional)"}),o.jsx(Fr,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(ee,{variant:"outline",children:"Cancel"}),o.jsx(ee,{onClick:h,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(pn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},R6e="",JL={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},D6e=()=>{const e=On(),[t]=SE(),{profile:r,role:n,signOut:a}=$r(),[i,s]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(!1),p=t.get("appointment");x.useEffect(()=>{g()},[]),x.useEffect(()=>{if(p&&i.length>0){const v=i.find(b=>b.appointment.id===p);v&&d(v)}},[p,i]);const g=async()=>{c(!0);try{const{supabase:v}=await go(async()=>{const{supabase:_}=await Promise.resolve().then(()=>po);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){fe.error("Please sign in to continue");return}const y=await fetch(`${R6e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!y.ok)throw new Error("Failed to fetch triage queue");const w=await y.json();s(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),fe.error("Failed to load triage queue")}finally{c(!1)}},m=()=>{d(null),g(),fe.success("Triage completed successfully")};return u?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:o.jsx(I6e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:m})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(ee,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[o.jsx(uo,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),o.jsx(je,{className:"bg-success text-white",children:"Nurse"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(ee,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:o.jsx(uo,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?o.jsx(_o,{className:"w-5 h-5"}):o.jsx(lg,{className:"w-5 h-5"})})]})]}),f&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(Ga,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Bn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(Hn,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>{var b,y;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((y=v.latest_symptom_assessment)==null?void 0:y.urgency)==="emergency"}).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:o.jsx(Ga,{className:"w-5 h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>v.latest_symptom_assessment).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Ht,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:"~15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Bn,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),o.jsx(Ne,{children:"Patients waiting for nurse triage assessment"})]}),o.jsx(ce,{children:l?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):i.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ga,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting for triage"}),o.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):o.jsx("div",{className:"space-y-3",children:i.map(v=>{var y;const b=v.latest_symptom_assessment?JL[v.latest_symptom_assessment.urgency]||JL.routine:null;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-medium",children:v.patient_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[vt(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&o.jsxs(je,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((y=v.patient_profile)==null?void 0:y.has_medical_aid)&&o.jsx(je,{variant:"outline",className:"text-xs",children:"Medical Aid"}),o.jsx(ee,{size:"sm",variant:"ghost",children:o.jsx(ef,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},L6e=()=>{const e=Cs();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},F6e=new Gee,B6e=()=>o.jsx(Jee,{client:F6e,children:o.jsx(Iae,{children:o.jsxs(bee,{children:[o.jsx(rQ,{}),o.jsx($Q,{}),o.jsx(Jte,{children:o.jsxs(zte,{children:[o.jsx(ua,{path:"/",element:o.jsx(Qae,{})}),o.jsx(ua,{path:"/auth",element:o.jsx(Foe,{})}),o.jsx(ua,{path:"/patient/*",element:o.jsx($s,{allowedRoles:["patient"],children:o.jsx(Pue,{})})}),o.jsx(ua,{path:"/book-appointment",element:o.jsx($s,{allowedRoles:["patient"],children:o.jsx(che,{})})}),o.jsx(ua,{path:"/onboarding",element:o.jsx($s,{allowedRoles:["patient"],children:o.jsx(T6e,{})})}),o.jsx(ua,{path:"/clinician/*",element:o.jsx($s,{allowedRoles:["nurse","doctor"],children:o.jsx(fge,{})})}),o.jsx(ua,{path:"/nurse-triage",element:o.jsx($s,{allowedRoles:["nurse","doctor"],children:o.jsx(D6e,{})})}),o.jsx(ua,{path:"/admin/*",element:o.jsx($s,{allowedRoles:["admin"],children:o.jsx(v5e,{})})}),o.jsx(ua,{path:"/receptionist/*",element:o.jsx($s,{allowedRoles:["admin","nurse","doctor","receptionist"],children:o.jsx(x5e,{})})}),o.jsx(ua,{path:"/consultation",element:o.jsx($s,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(y6e,{})})}),o.jsx(ua,{path:"/demo-consultation",element:o.jsx($s,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(_6e,{})})}),o.jsx(ua,{path:"*",element:o.jsx(L6e,{})})]})})]})})});x5(document.getElementById("root")).render(o.jsx(B6e,{}));
