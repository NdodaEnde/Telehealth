var eG=Object.defineProperty;var LP=e=>{throw TypeError(e)};var tG=(e,t,r)=>t in e?eG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var FP=(e,t,r)=>tG(e,typeof t!="symbol"?t+"":t,r),Mw=(e,t,r)=>t.has(e)||LP("Cannot "+r);var ne=(e,t,r)=>(Mw(e,t,"read from private field"),r?r.call(e):t.get(e)),ot=(e,t,r)=>t.has(e)?LP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),We=(e,t,r,n)=>(Mw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),fn=(e,t,r)=>(Mw(e,t,"access private method"),r);var kg=(e,t,r,n)=>({set _(i){We(e,t,i,r)},get _(){return ne(e,t,n)}});function rG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ng=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U4={exports:{}},_b={},z4={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),nG=Symbol.for("react.portal"),iG=Symbol.for("react.fragment"),aG=Symbol.for("react.strict_mode"),sG=Symbol.for("react.profiler"),oG=Symbol.for("react.provider"),lG=Symbol.for("react.context"),cG=Symbol.for("react.forward_ref"),uG=Symbol.for("react.suspense"),dG=Symbol.for("react.memo"),fG=Symbol.for("react.lazy"),BP=Symbol.iterator;function hG(e){return e===null||typeof e!="object"?null:(e=BP&&e[BP]||e["@@iterator"],typeof e=="function"?e:null)}var V4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W4=Object.assign,H4={};function Pf(e,t,r){this.props=e,this.context=t,this.refs=H4,this.updater=r||V4}Pf.prototype.isReactComponent={};Pf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function q4(){}q4.prototype=Pf.prototype;function FN(e,t,r){this.props=e,this.context=t,this.refs=H4,this.updater=r||V4}var BN=FN.prototype=new q4;BN.constructor=FN;W4(BN,Pf.prototype);BN.isPureReactComponent=!0;var UP=Array.isArray,G4=Object.prototype.hasOwnProperty,UN={current:null},K4={key:!0,ref:!0,__self:!0,__source:!0};function Y4(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)G4.call(t,n)&&!K4.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Vm,type:e,key:a,ref:s,props:i,_owner:UN.current}}function pG(e,t){return{$$typeof:Vm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zN(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vm}function mG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zP=/\/+/g;function $w(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mG(""+e.key):t.toString(36)}function Rv(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vm:case nG:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+$w(s,0):n,UP(i)?(r="",e!=null&&(r=e.replace(zP,"$&/")+"/"),Rv(i,t,r,"",function(u){return u})):i!=null&&(zN(i)&&(i=pG(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(zP,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",UP(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+$w(a,o);s+=Rv(a,t,r,c,i)}else if(c=hG(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+$w(a,o++),s+=Rv(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Cg(e,t,r){if(e==null)return e;var n=[],i=0;return Rv(e,n,"","",function(a){return t.call(r,a,i++)}),n}function gG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Fn={current:null},Dv={transition:null},vG={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Dv,ReactCurrentOwner:UN};function J4(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Cg,forEach:function(e,t,r){Cg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cg(e,function(){t++}),t},toArray:function(e){return Cg(e,function(t){return t})||[]},only:function(e){if(!zN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};st.Component=Pf;st.Fragment=iG;st.Profiler=sG;st.PureComponent=FN;st.StrictMode=aG;st.Suspense=uG;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vG;st.act=J4;st.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=W4({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=UN.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)G4.call(t,c)&&!K4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Vm,type:e.type,key:i,ref:a,props:n,_owner:s}};st.createContext=function(e){return e={$$typeof:lG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oG,_context:e},e.Consumer=e};st.createElement=Y4;st.createFactory=function(e){var t=Y4.bind(null,e);return t.type=e,t};st.createRef=function(){return{current:null}};st.forwardRef=function(e){return{$$typeof:cG,render:e}};st.isValidElement=zN;st.lazy=function(e){return{$$typeof:fG,_payload:{_status:-1,_result:e},_init:gG}};st.memo=function(e,t){return{$$typeof:dG,type:e,compare:t===void 0?null:t}};st.startTransition=function(e){var t=Dv.transition;Dv.transition={};try{e()}finally{Dv.transition=t}};st.unstable_act=J4;st.useCallback=function(e,t){return Fn.current.useCallback(e,t)};st.useContext=function(e){return Fn.current.useContext(e)};st.useDebugValue=function(){};st.useDeferredValue=function(e){return Fn.current.useDeferredValue(e)};st.useEffect=function(e,t){return Fn.current.useEffect(e,t)};st.useId=function(){return Fn.current.useId()};st.useImperativeHandle=function(e,t,r){return Fn.current.useImperativeHandle(e,t,r)};st.useInsertionEffect=function(e,t){return Fn.current.useInsertionEffect(e,t)};st.useLayoutEffect=function(e,t){return Fn.current.useLayoutEffect(e,t)};st.useMemo=function(e,t){return Fn.current.useMemo(e,t)};st.useReducer=function(e,t,r){return Fn.current.useReducer(e,t,r)};st.useRef=function(e){return Fn.current.useRef(e)};st.useState=function(e){return Fn.current.useState(e)};st.useSyncExternalStore=function(e,t,r){return Fn.current.useSyncExternalStore(e,t,r)};st.useTransition=function(){return Fn.current.useTransition()};st.version="18.3.1";z4.exports=st;var x=z4.exports;const A=bt(x),Sb=rG({__proto__:null,default:A},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yG=x,xG=Symbol.for("react.element"),bG=Symbol.for("react.fragment"),wG=Object.prototype.hasOwnProperty,_G=yG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SG={key:!0,ref:!0,__self:!0,__source:!0};function X4(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)wG.call(t,n)&&!SG.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:xG,type:e,key:a,ref:s,props:i,_owner:_G.current}}_b.Fragment=bG;_b.jsx=X4;_b.jsxs=X4;U4.exports=_b;var l=U4.exports,Q4={exports:{}},ki={},Z4={exports:{}},eF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,B){var G=L.length;L.push(B);e:for(;0<G;){var te=G-1>>>1,X=L[te];if(0<i(X,B))L[te]=B,L[G]=X,G=te;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var B=L[0],G=L.pop();if(G!==B){L[0]=G;e:for(var te=0,X=L.length,j=X>>>1;te<j;){var O=2*(te+1)-1,C=L[O],D=O+1,I=L[D];if(0>i(C,G))D<X&&0>i(I,C)?(L[te]=I,L[D]=G,te=D):(L[te]=C,L[O]=G,te=O);else if(D<X&&0>i(I,G))L[te]=I,L[D]=G,te=D;else break e}}return B}function i(L,B){var G=L.sortIndex-B.sortIndex;return G!==0?G:L.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=L)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function _(L){if(g=!1,w(L),!m)if(r(c)!==null)m=!0,W(S);else{var B=r(u);B!==null&&z(_,B.startTime-L)}}function S(L,B){m=!1,g&&(g=!1,b(E),E=-1),p=!0;var G=h;try{for(w(B),f=r(c);f!==null&&(!(f.expirationTime>B)||L&&!$());){var te=f.callback;if(typeof te=="function"){f.callback=null,h=f.priorityLevel;var X=te(f.expirationTime<=B);B=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),w(B)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var O=r(u);O!==null&&z(_,O.startTime-B),j=!1}return j}finally{f=null,h=G,p=!1}}var k=!1,N=null,E=-1,P=5,T=-1;function $(){return!(e.unstable_now()-T<P)}function M(){if(N!==null){var L=e.unstable_now();T=L;var B=!0;try{B=N(!0,L)}finally{B?F():(k=!1,N=null)}}else k=!1}var F;if(typeof y=="function")F=function(){y(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,U=R.port2;R.port1.onmessage=M,F=function(){U.postMessage(null)}}else F=function(){v(M,0)};function W(L){N=L,k||(k=!0,F())}function z(L,B){E=v(function(){L(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,W(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var G=h;h=B;try{return L()}finally{h=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,B){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=h;h=L;try{return B()}finally{h=G}},e.unstable_scheduleCallback=function(L,B,G){var te=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?te+G:te):G=te,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=G+X,L={id:d++,callback:B,priorityLevel:L,startTime:G,expirationTime:X,sortIndex:-1},G>te?(L.sortIndex=G,t(u,L),r(c)===null&&L===r(u)&&(g?(b(E),E=-1):g=!0,z(_,G-te))):(L.sortIndex=X,t(c,L),m||p||(m=!0,W(S))),L},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(L){var B=h;return function(){var G=h;h=B;try{return L.apply(this,arguments)}finally{h=G}}}})(eF);Z4.exports=eF;var jG=Z4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kG=x,wi=jG;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tF=new Set,pp={};function Yc(e,t){Pd(e,t),Pd(e+"Capture",t)}function Pd(e,t){for(pp[e]=t,e=0;e<t.length;e++)tF.add(t[e])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G1=Object.prototype.hasOwnProperty,NG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VP={},WP={};function CG(e){return G1.call(WP,e)?!0:G1.call(VP,e)?!1:NG.test(e)?WP[e]=!0:(VP[e]=!0,!1)}function EG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OG(e,t,r,n){if(t===null||typeof t>"u"||EG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Bn(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new Bn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new Bn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new Bn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new Bn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new Bn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new Bn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new Bn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new Bn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new Bn(e,5,!1,e.toLowerCase(),null,!1,!1)});var VN=/[\-:]([a-z])/g;function WN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VN,WN);cn[t]=new Bn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VN,WN);cn[t]=new Bn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VN,WN);cn[t]=new Bn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new Bn(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new Bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new Bn(e,1,!1,e.toLowerCase(),null,!0,!0)});function HN(e,t,r,n){var i=cn.hasOwnProperty(t)?cn[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OG(t,r,i,n)&&(r=null),n||i===null?CG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var io=kG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eg=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),K1=Symbol.for("react.profiler"),rF=Symbol.for("react.provider"),nF=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),J1=Symbol.for("react.suspense_list"),KN=Symbol.for("react.memo"),Eo=Symbol.for("react.lazy"),iF=Symbol.for("react.offscreen"),HP=Symbol.iterator;function lh(e){return e===null||typeof e!="object"?null:(e=HP&&e[HP]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,Iw;function $h(e){if(Iw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iw=t&&t[1]||""}return`
`+Iw+e}var Rw=!1;function Dw(e,t){if(!e||Rw)return"";Rw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Rw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$h(e):""}function PG(e){switch(e.tag){case 5:return $h(e.type);case 16:return $h("Lazy");case 13:return $h("Suspense");case 19:return $h("SuspenseList");case 0:case 2:case 15:return e=Dw(e.type,!1),e;case 11:return e=Dw(e.type.render,!1),e;case 1:return e=Dw(e.type,!0),e;default:return""}}function X1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lu:return"Fragment";case Du:return"Portal";case K1:return"Profiler";case qN:return"StrictMode";case Y1:return"Suspense";case J1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nF:return(e.displayName||"Context")+".Consumer";case rF:return(e._context.displayName||"Context")+".Provider";case GN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KN:return t=e.displayName||null,t!==null?t:X1(e.type)||"Memo";case Eo:t=e._payload,e=e._init;try{return X1(e(t))}catch{}}return null}function AG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return X1(t);case 8:return t===qN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ll(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TG(e){var t=aF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Og(e){e._valueTracker||(e._valueTracker=TG(e))}function sF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ly(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q1(e,t){var r=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ll(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function oF(e,t){t=t.checked,t!=null&&HN(e,"checked",t,!1)}function Z1(e,t){oF(e,t);var r=ll(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?eS(e,t.type,r):t.hasOwnProperty("defaultValue")&&eS(e,t.type,ll(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function eS(e,t,r){(t!=="number"||ly(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ih=Array.isArray;function ad(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ll(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tS(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(Ih(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ll(r)}}function lF(e,t){var r=ll(t.value),n=ll(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function YP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rS(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pg,uF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pg=Pg||document.createElement("div"),Pg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mp(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},MG=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(e){MG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hh[t]=Hh[e]})});function dF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Hh.hasOwnProperty(e)&&Hh[e]?(""+t).trim():t+"px"}function fF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $G=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nS(e,t){if(t){if($G[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function iS(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aS=null;function YN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sS=null,sd=null,od=null;function JP(e){if(e=qm(e)){if(typeof sS!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Eb(t),sS(e.stateNode,e.type,t))}}function hF(e){sd?od?od.push(e):od=[e]:sd=e}function pF(){if(sd){var e=sd,t=od;if(od=sd=null,JP(e),t)for(e=0;e<t.length;e++)JP(t[e])}}function mF(e,t){return e(t)}function gF(){}var Lw=!1;function vF(e,t,r){if(Lw)return e(t,r);Lw=!0;try{return mF(e,t,r)}finally{Lw=!1,(sd!==null||od!==null)&&(gF(),pF())}}function gp(e,t){var r=e.stateNode;if(r===null)return null;var n=Eb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var oS=!1;if(Ws)try{var ch={};Object.defineProperty(ch,"passive",{get:function(){oS=!0}}),window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{oS=!1}function IG(e,t,r,n,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var qh=!1,cy=null,uy=!1,lS=null,RG={onError:function(e){qh=!0,cy=e}};function DG(e,t,r,n,i,a,s,o,c){qh=!1,cy=null,IG.apply(RG,arguments)}function LG(e,t,r,n,i,a,s,o,c){if(DG.apply(this,arguments),qh){if(qh){var u=cy;qh=!1,cy=null}else throw Error(ce(198));uy||(uy=!0,lS=u)}}function Jc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XP(e){if(Jc(e)!==e)throw Error(ce(188))}function FG(e){var t=e.alternate;if(!t){if(t=Jc(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return XP(i),e;if(a===n)return XP(i),t;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function xF(e){return e=FG(e),e!==null?bF(e):null}function bF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bF(e);if(t!==null)return t;e=e.sibling}return null}var wF=wi.unstable_scheduleCallback,QP=wi.unstable_cancelCallback,BG=wi.unstable_shouldYield,UG=wi.unstable_requestPaint,hr=wi.unstable_now,zG=wi.unstable_getCurrentPriorityLevel,JN=wi.unstable_ImmediatePriority,_F=wi.unstable_UserBlockingPriority,dy=wi.unstable_NormalPriority,VG=wi.unstable_LowPriority,SF=wi.unstable_IdlePriority,jb=null,es=null;function WG(e){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(jb,e,void 0,(e.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:GG,HG=Math.log,qG=Math.LN2;function GG(e){return e>>>=0,e===0?32:31-(HG(e)/qG|0)|0}var Ag=64,Tg=4194304;function Rh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Rh(o):(a&=s,a!==0&&(n=Rh(a)))}else s=r&~i,s!==0?n=Rh(s):a!==0&&(n=Rh(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_a(t),i=1<<r,n|=e[r],t&=~i;return n}function KG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function YG(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-_a(a),o=1<<s,c=i[s];c===-1?(!(o&r)||o&n)&&(i[s]=KG(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function cS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jF(){var e=Ag;return Ag<<=1,!(Ag&4194240)&&(Ag=64),e}function Fw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_a(t),e[t]=r}function JG(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-_a(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function XN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_a(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var jt=0;function kF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var NF,QN,CF,EF,OF,uS=!1,Mg=[],Jo=null,Xo=null,Qo=null,vp=new Map,yp=new Map,$o=[],XG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZP(e,t){switch(e){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Qo=null;break;case"pointerover":case"pointerout":vp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yp.delete(t.pointerId)}}function uh(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=qm(t),t!==null&&QN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QG(e,t,r,n,i){switch(t){case"focusin":return Jo=uh(Jo,e,t,r,n,i),!0;case"dragenter":return Xo=uh(Xo,e,t,r,n,i),!0;case"mouseover":return Qo=uh(Qo,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return vp.set(a,uh(vp.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,yp.set(a,uh(yp.get(a)||null,e,t,r,n,i)),!0}return!1}function PF(e){var t=tc(e.target);if(t!==null){var r=Jc(t);if(r!==null){if(t=r.tag,t===13){if(t=yF(r),t!==null){e.blockedOn=t,OF(e.priority,function(){CF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dS(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);aS=n,r.target.dispatchEvent(n),aS=null}else return t=qm(r),t!==null&&QN(t),e.blockedOn=r,!1;t.shift()}return!0}function eA(e,t,r){Lv(e)&&r.delete(t)}function ZG(){uS=!1,Jo!==null&&Lv(Jo)&&(Jo=null),Xo!==null&&Lv(Xo)&&(Xo=null),Qo!==null&&Lv(Qo)&&(Qo=null),vp.forEach(eA),yp.forEach(eA)}function dh(e,t){e.blockedOn===t&&(e.blockedOn=null,uS||(uS=!0,wi.unstable_scheduleCallback(wi.unstable_NormalPriority,ZG)))}function xp(e){function t(i){return dh(i,e)}if(0<Mg.length){dh(Mg[0],e);for(var r=1;r<Mg.length;r++){var n=Mg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Jo!==null&&dh(Jo,e),Xo!==null&&dh(Xo,e),Qo!==null&&dh(Qo,e),vp.forEach(t),yp.forEach(t),r=0;r<$o.length;r++)n=$o[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<$o.length&&(r=$o[0],r.blockedOn===null);)PF(r),r.blockedOn===null&&$o.shift()}var ld=io.ReactCurrentBatchConfig,hy=!0;function eK(e,t,r,n){var i=jt,a=ld.transition;ld.transition=null;try{jt=1,ZN(e,t,r,n)}finally{jt=i,ld.transition=a}}function tK(e,t,r,n){var i=jt,a=ld.transition;ld.transition=null;try{jt=4,ZN(e,t,r,n)}finally{jt=i,ld.transition=a}}function ZN(e,t,r,n){if(hy){var i=dS(e,t,r,n);if(i===null)Yw(e,t,n,py,r),ZP(e,n);else if(QG(i,e,t,r,n))n.stopPropagation();else if(ZP(e,n),t&4&&-1<XG.indexOf(e)){for(;i!==null;){var a=qm(i);if(a!==null&&NF(a),a=dS(e,t,r,n),a===null&&Yw(e,t,n,py,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Yw(e,t,n,null,r)}}var py=null;function dS(e,t,r,n){if(py=null,e=YN(n),e=tc(e),e!==null)if(t=Jc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return py=e,null}function AF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zG()){case JN:return 1;case _F:return 4;case dy:case VG:return 16;case SF:return 536870912;default:return 16}default:return 16}}var Wo=null,eC=null,Fv=null;function TF(){if(Fv)return Fv;var e,t=eC,r=t.length,n,i="value"in Wo?Wo.value:Wo.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Fv=i.slice(e,1<n?1-n:void 0)}function Bv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $g(){return!0}function tA(){return!1}function Ni(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$g:tA,this.isPropagationStopped=tA,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$g)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$g)},persist:function(){},isPersistent:$g}),t}var Af={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tC=Ni(Af),Hm=tr({},Af,{view:0,detail:0}),rK=Ni(Hm),Bw,Uw,fh,kb=tr({},Hm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fh&&(fh&&e.type==="mousemove"?(Bw=e.screenX-fh.screenX,Uw=e.screenY-fh.screenY):Uw=Bw=0,fh=e),Bw)},movementY:function(e){return"movementY"in e?e.movementY:Uw}}),rA=Ni(kb),nK=tr({},kb,{dataTransfer:0}),iK=Ni(nK),aK=tr({},Hm,{relatedTarget:0}),zw=Ni(aK),sK=tr({},Af,{animationName:0,elapsedTime:0,pseudoElement:0}),oK=Ni(sK),lK=tr({},Af,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cK=Ni(lK),uK=tr({},Af,{data:0}),nA=Ni(uK),dK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hK[e])?!!t[e]:!1}function rC(){return pK}var mK=tr({},Hm,{key:function(e){if(e.key){var t=dK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rC,charCode:function(e){return e.type==="keypress"?Bv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gK=Ni(mK),vK=tr({},kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iA=Ni(vK),yK=tr({},Hm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rC}),xK=Ni(yK),bK=tr({},Af,{propertyName:0,elapsedTime:0,pseudoElement:0}),wK=Ni(bK),_K=tr({},kb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SK=Ni(_K),jK=[9,13,27,32],nC=Ws&&"CompositionEvent"in window,Gh=null;Ws&&"documentMode"in document&&(Gh=document.documentMode);var kK=Ws&&"TextEvent"in window&&!Gh,MF=Ws&&(!nC||Gh&&8<Gh&&11>=Gh),aA=" ",sA=!1;function $F(e,t){switch(e){case"keyup":return jK.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fu=!1;function NK(e,t){switch(e){case"compositionend":return IF(t);case"keypress":return t.which!==32?null:(sA=!0,aA);case"textInput":return e=t.data,e===aA&&sA?null:e;default:return null}}function CK(e,t){if(Fu)return e==="compositionend"||!nC&&$F(e,t)?(e=TF(),Fv=eC=Wo=null,Fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return MF&&t.locale!=="ko"?null:t.data;default:return null}}var EK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EK[e.type]:t==="textarea"}function RF(e,t,r,n){hF(n),t=my(t,"onChange"),0<t.length&&(r=new tC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Kh=null,bp=null;function OK(e){GF(e,0)}function Nb(e){var t=zu(e);if(sF(t))return e}function PK(e,t){if(e==="change")return t}var DF=!1;if(Ws){var Vw;if(Ws){var Ww="oninput"in document;if(!Ww){var lA=document.createElement("div");lA.setAttribute("oninput","return;"),Ww=typeof lA.oninput=="function"}Vw=Ww}else Vw=!1;DF=Vw&&(!document.documentMode||9<document.documentMode)}function cA(){Kh&&(Kh.detachEvent("onpropertychange",LF),bp=Kh=null)}function LF(e){if(e.propertyName==="value"&&Nb(bp)){var t=[];RF(t,bp,e,YN(e)),vF(OK,t)}}function AK(e,t,r){e==="focusin"?(cA(),Kh=t,bp=r,Kh.attachEvent("onpropertychange",LF)):e==="focusout"&&cA()}function TK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nb(bp)}function MK(e,t){if(e==="click")return Nb(t)}function $K(e,t){if(e==="input"||e==="change")return Nb(t)}function IK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ca=typeof Object.is=="function"?Object.is:IK;function wp(e,t){if(Ca(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!G1.call(t,i)||!Ca(e[i],t[i]))return!1}return!0}function uA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dA(e,t){var r=uA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uA(r)}}function FF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BF(){for(var e=window,t=ly();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ly(e.document)}return t}function iC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RK(e){var t=BF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FF(r.ownerDocument.documentElement,r)){if(n!==null&&iC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=dA(r,a);var s=dA(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DK=Ws&&"documentMode"in document&&11>=document.documentMode,Bu=null,fS=null,Yh=null,hS=!1;function fA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hS||Bu==null||Bu!==ly(n)||(n=Bu,"selectionStart"in n&&iC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yh&&wp(Yh,n)||(Yh=n,n=my(fS,"onSelect"),0<n.length&&(t=new tC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bu)))}function Ig(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Uu={animationend:Ig("Animation","AnimationEnd"),animationiteration:Ig("Animation","AnimationIteration"),animationstart:Ig("Animation","AnimationStart"),transitionend:Ig("Transition","TransitionEnd")},Hw={},UF={};Ws&&(UF=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Cb(e){if(Hw[e])return Hw[e];if(!Uu[e])return e;var t=Uu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UF)return Hw[e]=t[r];return e}var zF=Cb("animationend"),VF=Cb("animationiteration"),WF=Cb("animationstart"),HF=Cb("transitionend"),qF=new Map,hA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vl(e,t){qF.set(e,t),Yc(t,[e])}for(var qw=0;qw<hA.length;qw++){var Gw=hA[qw],LK=Gw.toLowerCase(),FK=Gw[0].toUpperCase()+Gw.slice(1);vl(LK,"on"+FK)}vl(zF,"onAnimationEnd");vl(VF,"onAnimationIteration");vl(WF,"onAnimationStart");vl("dblclick","onDoubleClick");vl("focusin","onFocus");vl("focusout","onBlur");vl(HF,"onTransitionEnd");Pd("onMouseEnter",["mouseout","mouseover"]);Pd("onMouseLeave",["mouseout","mouseover"]);Pd("onPointerEnter",["pointerout","pointerover"]);Pd("onPointerLeave",["pointerout","pointerover"]);Yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dh));function pA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,LG(n,t,void 0,e),e.currentTarget=null}function GF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;pA(i,o,u),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;pA(i,o,u),a=c}}}if(uy)throw e=lS,uy=!1,lS=null,e}function Ut(e,t){var r=t[yS];r===void 0&&(r=t[yS]=new Set);var n=e+"__bubble";r.has(n)||(KF(t,e,2,!1),r.add(n))}function Kw(e,t,r){var n=0;t&&(n|=4),KF(r,e,n,t)}var Rg="_reactListening"+Math.random().toString(36).slice(2);function _p(e){if(!e[Rg]){e[Rg]=!0,tF.forEach(function(r){r!=="selectionchange"&&(BK.has(r)||Kw(r,!1,e),Kw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rg]||(t[Rg]=!0,Kw("selectionchange",!1,t))}}function KF(e,t,r,n){switch(AF(t)){case 1:var i=eK;break;case 4:i=tK;break;default:i=ZN}r=i.bind(null,t,r,e),i=void 0,!oS||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Yw(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=tc(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}vF(function(){var u=a,d=YN(r),f=[];e:{var h=qF.get(e);if(h!==void 0){var p=tC,m=e;switch(e){case"keypress":if(Bv(r)===0)break e;case"keydown":case"keyup":p=gK;break;case"focusin":m="focus",p=zw;break;case"focusout":m="blur",p=zw;break;case"beforeblur":case"afterblur":p=zw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=iK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=xK;break;case zF:case VF:case WF:p=oK;break;case HF:p=wK;break;case"scroll":p=rK;break;case"wheel":p=SK;break;case"copy":case"cut":case"paste":p=cK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iA}var g=(t&4)!==0,v=!g&&e==="scroll",b=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=gp(y,b),_!=null&&g.push(Sp(y,_,w)))),v)break;y=y.return}0<g.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==aS&&(m=r.relatedTarget||r.fromElement)&&(tc(m)||m[Hs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?tc(m):null,m!==null&&(v=Jc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=rA,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=iA,_="onPointerLeave",b="onPointerEnter",y="pointer"),v=p==null?h:zu(p),w=m==null?h:zu(m),h=new g(_,y+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,tc(d)===u&&(g=new g(b,y+"enter",m,r,d),g.target=w,g.relatedTarget=v,_=g),v=_,p&&m)t:{for(g=p,b=m,y=0,w=g;w;w=pu(w))y++;for(w=0,_=b;_;_=pu(_))w++;for(;0<y-w;)g=pu(g),y--;for(;0<w-y;)b=pu(b),w--;for(;y--;){if(g===b||b!==null&&g===b.alternate)break t;g=pu(g),b=pu(b)}g=null}else g=null;p!==null&&mA(f,h,p,g,!1),m!==null&&v!==null&&mA(f,v,m,g,!0)}}e:{if(h=u?zu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=PK;else if(oA(h))if(DF)S=$K;else{S=TK;var k=AK}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=MK);if(S&&(S=S(e,u))){RF(f,S,r,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&eS(h,"number",h.value)}switch(k=u?zu(u):window,e){case"focusin":(oA(k)||k.contentEditable==="true")&&(Bu=k,fS=u,Yh=null);break;case"focusout":Yh=fS=Bu=null;break;case"mousedown":hS=!0;break;case"contextmenu":case"mouseup":case"dragend":hS=!1,fA(f,r,d);break;case"selectionchange":if(DK)break;case"keydown":case"keyup":fA(f,r,d)}var N;if(nC)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Fu?$F(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(MF&&r.locale!=="ko"&&(Fu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Fu&&(N=TF()):(Wo=d,eC="value"in Wo?Wo.value:Wo.textContent,Fu=!0)),k=my(u,E),0<k.length&&(E=new nA(E,e,null,r,d),f.push({event:E,listeners:k}),N?E.data=N:(N=IF(r),N!==null&&(E.data=N)))),(N=kK?NK(e,r):CK(e,r))&&(u=my(u,"onBeforeInput"),0<u.length&&(d=new nA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}GF(f,t)})}function Sp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function my(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=gp(e,r),a!=null&&n.unshift(Sp(e,a,i)),a=gp(e,t),a!=null&&n.push(Sp(e,a,i))),e=e.return}return n}function pu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mA(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,i?(c=gp(r,a),c!=null&&s.unshift(Sp(r,c,o))):i||(c=gp(r,a),c!=null&&s.push(Sp(r,c,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var UK=/\r\n?/g,zK=/\u0000|\uFFFD/g;function gA(e){return(typeof e=="string"?e:""+e).replace(UK,`
`).replace(zK,"")}function Dg(e,t,r){if(t=gA(t),gA(e)!==t&&r)throw Error(ce(425))}function gy(){}var pS=null,mS=null;function gS(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vS=typeof setTimeout=="function"?setTimeout:void 0,VK=typeof clearTimeout=="function"?clearTimeout:void 0,vA=typeof Promise=="function"?Promise:void 0,WK=typeof queueMicrotask=="function"?queueMicrotask:typeof vA<"u"?function(e){return vA.resolve(null).then(e).catch(HK)}:vS;function HK(e){setTimeout(function(){throw e})}function Jw(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),xp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);xp(t)}function Zo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tf=Math.random().toString(36).slice(2),Ga="__reactFiber$"+Tf,jp="__reactProps$"+Tf,Hs="__reactContainer$"+Tf,yS="__reactEvents$"+Tf,qK="__reactListeners$"+Tf,GK="__reactHandles$"+Tf;function tc(e){var t=e[Ga];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hs]||r[Ga]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yA(e);e!==null;){if(r=e[Ga])return r;e=yA(e)}return t}e=r,r=e.parentNode}return null}function qm(e){return e=e[Ga]||e[Hs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Eb(e){return e[jp]||null}var xS=[],Vu=-1;function yl(e){return{current:e}}function Wt(e){0>Vu||(e.current=xS[Vu],xS[Vu]=null,Vu--)}function Rt(e,t){Vu++,xS[Vu]=e.current,e.current=t}var cl={},jn=yl(cl),Gn=yl(!1),Nc=cl;function Ad(e,t){var r=e.type.contextTypes;if(!r)return cl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(e){return e=e.childContextTypes,e!=null}function vy(){Wt(Gn),Wt(jn)}function xA(e,t,r){if(jn.current!==cl)throw Error(ce(168));Rt(jn,t),Rt(Gn,r)}function YF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ce(108,AG(e)||"Unknown",i));return tr({},r,n)}function yy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cl,Nc=jn.current,Rt(jn,e),Rt(Gn,Gn.current),!0}function bA(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=YF(e,t,Nc),n.__reactInternalMemoizedMergedChildContext=e,Wt(Gn),Wt(jn),Rt(jn,e)):Wt(Gn),Rt(Gn,r)}var Ps=null,Ob=!1,Xw=!1;function JF(e){Ps===null?Ps=[e]:Ps.push(e)}function KK(e){Ob=!0,JF(e)}function xl(){if(!Xw&&Ps!==null){Xw=!0;var e=0,t=jt;try{var r=Ps;for(jt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ps=null,Ob=!1}catch(i){throw Ps!==null&&(Ps=Ps.slice(e+1)),wF(JN,xl),i}finally{jt=t,Xw=!1}}return null}var Wu=[],Hu=0,xy=null,by=0,Mi=[],$i=0,Cc=null,Ts=1,Ms="";function Wl(e,t){Wu[Hu++]=by,Wu[Hu++]=xy,xy=e,by=t}function XF(e,t,r){Mi[$i++]=Ts,Mi[$i++]=Ms,Mi[$i++]=Cc,Cc=e;var n=Ts;e=Ms;var i=32-_a(n)-1;n&=~(1<<i),r+=1;var a=32-_a(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Ts=1<<32-_a(t)+i|r<<i|n,Ms=a+e}else Ts=1<<a|r<<i|n,Ms=e}function aC(e){e.return!==null&&(Wl(e,1),XF(e,1,0))}function sC(e){for(;e===xy;)xy=Wu[--Hu],Wu[Hu]=null,by=Wu[--Hu],Wu[Hu]=null;for(;e===Cc;)Cc=Mi[--$i],Mi[$i]=null,Ms=Mi[--$i],Mi[$i]=null,Ts=Mi[--$i],Mi[$i]=null}var vi=null,mi=null,Yt=!1,ya=null;function QF(e,t){var r=Di(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vi=e,mi=Zo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vi=e,mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cc!==null?{id:Ts,overflow:Ms}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Di(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vi=e,mi=null,!0):!1;default:return!1}}function bS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wS(e){if(Yt){var t=mi;if(t){var r=t;if(!wA(e,t)){if(bS(e))throw Error(ce(418));t=Zo(r.nextSibling);var n=vi;t&&wA(e,t)?QF(n,r):(e.flags=e.flags&-4097|2,Yt=!1,vi=e)}}else{if(bS(e))throw Error(ce(418));e.flags=e.flags&-4097|2,Yt=!1,vi=e}}}function _A(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vi=e}function Lg(e){if(e!==vi)return!1;if(!Yt)return _A(e),Yt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gS(e.type,e.memoizedProps)),t&&(t=mi)){if(bS(e))throw ZF(),Error(ce(418));for(;t;)QF(e,t),t=Zo(t.nextSibling)}if(_A(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){mi=Zo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}mi=null}}else mi=vi?Zo(e.stateNode.nextSibling):null;return!0}function ZF(){for(var e=mi;e;)e=Zo(e.nextSibling)}function Td(){mi=vi=null,Yt=!1}function oC(e){ya===null?ya=[e]:ya.push(e)}var YK=io.ReactCurrentBatchConfig;function hh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function Fg(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SA(e){var t=e._init;return t(e._payload)}function e3(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=nl(b,y),b.index=0,b.sibling=null,b}function a(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,y,w,_){return y===null||y.tag!==6?(y=i_(w,b.mode,_),y.return=b,y):(y=i(y,w),y.return=b,y)}function c(b,y,w,_){var S=w.type;return S===Lu?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Eo&&SA(S)===y.type)?(_=i(y,w.props),_.ref=hh(b,y,w),_.return=b,_):(_=Gv(w.type,w.key,w.props,null,b.mode,_),_.ref=hh(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=a_(w,b.mode,_),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,S){return y===null||y.tag!==7?(y=xc(w,b.mode,_,S),y.return=b,y):(y=i(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=i_(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eg:return w=Gv(y.type,y.key,y.props,null,b.mode,w),w.ref=hh(b,null,y),w.return=b,w;case Du:return y=a_(y,b.mode,w),y.return=b,y;case Eo:var _=y._init;return f(b,_(y._payload),w)}if(Ih(y)||lh(y))return y=xc(y,b.mode,w,null),y.return=b,y;Fg(b,y)}return null}function h(b,y,w,_){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:o(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eg:return w.key===S?c(b,y,w,_):null;case Du:return w.key===S?u(b,y,w,_):null;case Eo:return S=w._init,h(b,y,S(w._payload),_)}if(Ih(w)||lh(w))return S!==null?null:d(b,y,w,_,null);Fg(b,w)}return null}function p(b,y,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,o(y,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eg:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,S);case Du:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,S);case Eo:var k=_._init;return p(b,y,w,k(_._payload),S)}if(Ih(_)||lh(_))return b=b.get(w)||null,d(y,b,_,S,null);Fg(y,_)}return null}function m(b,y,w,_){for(var S=null,k=null,N=y,E=y=0,P=null;N!==null&&E<w.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var T=h(b,N,w[E],_);if(T===null){N===null&&(N=P);break}e&&N&&T.alternate===null&&t(b,N),y=a(T,y,E),k===null?S=T:k.sibling=T,k=T,N=P}if(E===w.length)return r(b,N),Yt&&Wl(b,E),S;if(N===null){for(;E<w.length;E++)N=f(b,w[E],_),N!==null&&(y=a(N,y,E),k===null?S=N:k.sibling=N,k=N);return Yt&&Wl(b,E),S}for(N=n(b,N);E<w.length;E++)P=p(N,b,E,w[E],_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),y=a(P,y,E),k===null?S=P:k.sibling=P,k=P);return e&&N.forEach(function($){return t(b,$)}),Yt&&Wl(b,E),S}function g(b,y,w,_){var S=lh(w);if(typeof S!="function")throw Error(ce(150));if(w=S.call(w),w==null)throw Error(ce(151));for(var k=S=null,N=y,E=y=0,P=null,T=w.next();N!==null&&!T.done;E++,T=w.next()){N.index>E?(P=N,N=null):P=N.sibling;var $=h(b,N,T.value,_);if($===null){N===null&&(N=P);break}e&&N&&$.alternate===null&&t(b,N),y=a($,y,E),k===null?S=$:k.sibling=$,k=$,N=P}if(T.done)return r(b,N),Yt&&Wl(b,E),S;if(N===null){for(;!T.done;E++,T=w.next())T=f(b,T.value,_),T!==null&&(y=a(T,y,E),k===null?S=T:k.sibling=T,k=T);return Yt&&Wl(b,E),S}for(N=n(b,N);!T.done;E++,T=w.next())T=p(N,b,E,T.value,_),T!==null&&(e&&T.alternate!==null&&N.delete(T.key===null?E:T.key),y=a(T,y,E),k===null?S=T:k.sibling=T,k=T);return e&&N.forEach(function(M){return t(b,M)}),Yt&&Wl(b,E),S}function v(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Lu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Eg:e:{for(var S=w.key,k=y;k!==null;){if(k.key===S){if(S=w.type,S===Lu){if(k.tag===7){r(b,k.sibling),y=i(k,w.props.children),y.return=b,b=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Eo&&SA(S)===k.type){r(b,k.sibling),y=i(k,w.props),y.ref=hh(b,k,w),y.return=b,b=y;break e}r(b,k);break}else t(b,k);k=k.sibling}w.type===Lu?(y=xc(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=Gv(w.type,w.key,w.props,null,b.mode,_),_.ref=hh(b,y,w),_.return=b,b=_)}return s(b);case Du:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=a_(w,b.mode,_),y.return=b,b=y}return s(b);case Eo:return k=w._init,v(b,y,k(w._payload),_)}if(Ih(w))return m(b,y,w,_);if(lh(w))return g(b,y,w,_);Fg(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=i(y,w),y.return=b,b=y):(r(b,y),y=i_(w,b.mode,_),y.return=b,b=y),s(b)):r(b,y)}return v}var Md=e3(!0),t3=e3(!1),wy=yl(null),_y=null,qu=null,lC=null;function cC(){lC=qu=_y=null}function uC(e){var t=wy.current;Wt(wy),e._currentValue=t}function _S(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cd(e,t){_y=e,lC=qu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function Wi(e){var t=e._currentValue;if(lC!==e)if(e={context:e,memoizedValue:t,next:null},qu===null){if(_y===null)throw Error(ce(308));qu=e,_y.dependencies={lanes:0,firstContext:e}}else qu=qu.next=e;return t}var rc=null;function dC(e){rc===null?rc=[e]:rc.push(e)}function r3(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,dC(t)):(r.next=i.next,i.next=r),t.interleaved=r,qs(e,n)}function qs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Oo=!1;function fC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function el(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,dt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,qs(e,r)}return i=n.interleaved,i===null?(t.next=t,dC(n)):(t.next=i.next,i.next=t),n.interleaved=t,qs(e,r)}function Uv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,XN(e,r)}}function jA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Sy(e,t,r,n){var i=e.updateQueue;Oo=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=tr({},f,h);break e;case 2:Oo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Oc|=s,e.lanes=s,e.memoizedState=f}}function kA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Gm={},ts=yl(Gm),kp=yl(Gm),Np=yl(Gm);function nc(e){if(e===Gm)throw Error(ce(174));return e}function hC(e,t){switch(Rt(Np,t),Rt(kp,e),Rt(ts,Gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rS(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rS(t,e)}Wt(ts),Rt(ts,t)}function $d(){Wt(ts),Wt(kp),Wt(Np)}function i3(e){nc(Np.current);var t=nc(ts.current),r=rS(t,e.type);t!==r&&(Rt(kp,e),Rt(ts,r))}function pC(e){kp.current===e&&(Wt(ts),Wt(kp))}var Zt=yl(0);function jy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qw=[];function mC(){for(var e=0;e<Qw.length;e++)Qw[e]._workInProgressVersionPrimary=null;Qw.length=0}var zv=io.ReactCurrentDispatcher,Zw=io.ReactCurrentBatchConfig,Ec=0,er=null,Tr=null,Hr=null,ky=!1,Jh=!1,Cp=0,JK=0;function hn(){throw Error(ce(321))}function gC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ca(e[r],t[r]))return!1;return!0}function vC(e,t,r,n,i,a){if(Ec=a,er=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zv.current=e===null||e.memoizedState===null?eY:tY,e=r(n,i),Jh){a=0;do{if(Jh=!1,Cp=0,25<=a)throw Error(ce(301));a+=1,Hr=Tr=null,t.updateQueue=null,zv.current=rY,e=r(n,i)}while(Jh)}if(zv.current=Ny,t=Tr!==null&&Tr.next!==null,Ec=0,Hr=Tr=er=null,ky=!1,t)throw Error(ce(300));return e}function yC(){var e=Cp!==0;return Cp=0,e}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?er.memoizedState=Hr=e:Hr=Hr.next=e,Hr}function Hi(){if(Tr===null){var e=er.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Hr===null?er.memoizedState:Hr.next;if(t!==null)Hr=t,Tr=e;else{if(e===null)throw Error(ce(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Hr===null?er.memoizedState=Hr=e:Hr=Hr.next=e}return Hr}function Ep(e,t){return typeof t=="function"?t(e):t}function e_(e){var t=Hi(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=Tr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((Ec&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=n):c=c.next=f,er.lanes|=d,Oc|=d}u=u.next}while(u!==null&&u!==a);c===null?s=n:c.next=o,Ca(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,er.lanes|=a,Oc|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function t_(e){var t=Hi(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Ca(a,t.memoizedState)||(Hn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function a3(){}function s3(e,t){var r=er,n=Hi(),i=t(),a=!Ca(n.memoizedState,i);if(a&&(n.memoizedState=i,Hn=!0),n=n.queue,xC(c3.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Hr!==null&&Hr.memoizedState.tag&1){if(r.flags|=2048,Op(9,l3.bind(null,r,n,i,t),void 0,null),Jr===null)throw Error(ce(349));Ec&30||o3(r,t,i)}return i}function o3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function l3(e,t,r,n){t.value=r,t.getSnapshot=n,u3(t)&&d3(e)}function c3(e,t,r){return r(function(){u3(t)&&d3(e)})}function u3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ca(e,r)}catch{return!0}}function d3(e){var t=qs(e,1);t!==null&&Sa(t,e,1,-1)}function NA(e){var t=Ba();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:e},t.queue=e,e=e.dispatch=ZK.bind(null,er,e),[t.memoizedState,e]}function Op(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=er.updateQueue,t===null?(t={lastEffect:null,stores:null},er.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function f3(){return Hi().memoizedState}function Vv(e,t,r,n){var i=Ba();er.flags|=e,i.memoizedState=Op(1|t,r,void 0,n===void 0?null:n)}function Pb(e,t,r,n){var i=Hi();n=n===void 0?null:n;var a=void 0;if(Tr!==null){var s=Tr.memoizedState;if(a=s.destroy,n!==null&&gC(n,s.deps)){i.memoizedState=Op(t,r,a,n);return}}er.flags|=e,i.memoizedState=Op(1|t,r,a,n)}function CA(e,t){return Vv(8390656,8,e,t)}function xC(e,t){return Pb(2048,8,e,t)}function h3(e,t){return Pb(4,2,e,t)}function p3(e,t){return Pb(4,4,e,t)}function m3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function g3(e,t,r){return r=r!=null?r.concat([e]):null,Pb(4,4,m3.bind(null,t,e),r)}function bC(){}function v3(e,t){var r=Hi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function y3(e,t){var r=Hi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x3(e,t,r){return Ec&21?(Ca(r,t)||(r=jF(),er.lanes|=r,Oc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=r)}function XK(e,t){var r=jt;jt=r!==0&&4>r?r:4,e(!0);var n=Zw.transition;Zw.transition={};try{e(!1),t()}finally{jt=r,Zw.transition=n}}function b3(){return Hi().memoizedState}function QK(e,t,r){var n=rl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},w3(e))_3(t,r);else if(r=r3(e,t,r,n),r!==null){var i=Ln();Sa(r,e,n,i),S3(r,t,n)}}function ZK(e,t,r){var n=rl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(w3(e))_3(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ca(o,s)){var c=t.interleaved;c===null?(i.next=i,dC(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=r3(e,t,i,n),r!==null&&(i=Ln(),Sa(r,e,n,i),S3(r,t,n))}}function w3(e){var t=e.alternate;return e===er||t!==null&&t===er}function _3(e,t){Jh=ky=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,XN(e,r)}}var Ny={readContext:Wi,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},eY={readContext:Wi,useCallback:function(e,t){return Ba().memoizedState=[e,t===void 0?null:t],e},useContext:Wi,useEffect:CA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vv(4194308,4,m3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vv(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vv(4,2,e,t)},useMemo:function(e,t){var r=Ba();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ba();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=QK.bind(null,er,e),[n.memoizedState,e]},useRef:function(e){var t=Ba();return e={current:e},t.memoizedState=e},useState:NA,useDebugValue:bC,useDeferredValue:function(e){return Ba().memoizedState=e},useTransition:function(){var e=NA(!1),t=e[0];return e=XK.bind(null,e[1]),Ba().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=er,i=Ba();if(Yt){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Jr===null)throw Error(ce(349));Ec&30||o3(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,CA(c3.bind(null,n,a,e),[e]),n.flags|=2048,Op(9,l3.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ba(),t=Jr.identifierPrefix;if(Yt){var r=Ms,n=Ts;r=(n&~(1<<32-_a(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JK++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tY={readContext:Wi,useCallback:v3,useContext:Wi,useEffect:xC,useImperativeHandle:g3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:y3,useReducer:e_,useRef:f3,useState:function(){return e_(Ep)},useDebugValue:bC,useDeferredValue:function(e){var t=Hi();return x3(t,Tr.memoizedState,e)},useTransition:function(){var e=e_(Ep)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:a3,useSyncExternalStore:s3,useId:b3,unstable_isNewReconciler:!1},rY={readContext:Wi,useCallback:v3,useContext:Wi,useEffect:xC,useImperativeHandle:g3,useInsertionEffect:h3,useLayoutEffect:p3,useMemo:y3,useReducer:t_,useRef:f3,useState:function(){return t_(Ep)},useDebugValue:bC,useDeferredValue:function(e){var t=Hi();return Tr===null?t.memoizedState=e:x3(t,Tr.memoizedState,e)},useTransition:function(){var e=t_(Ep)[0],t=Hi().memoizedState;return[e,t]},useMutableSource:a3,useSyncExternalStore:s3,useId:b3,unstable_isNewReconciler:!1};function ca(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function SS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:tr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ab={isMounted:function(e){return(e=e._reactInternals)?Jc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ln(),i=rl(e),a=Fs(n,i);a.payload=t,r!=null&&(a.callback=r),t=el(e,a,i),t!==null&&(Sa(t,e,i,n),Uv(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ln(),i=rl(e),a=Fs(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=el(e,a,i),t!==null&&(Sa(t,e,i,n),Uv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ln(),n=rl(e),i=Fs(r,n);i.tag=2,t!=null&&(i.callback=t),t=el(e,i,n),t!==null&&(Sa(t,e,n,r),Uv(t,e,n))}};function EA(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!wp(r,n)||!wp(i,a):!0}function j3(e,t,r){var n=!1,i=cl,a=t.contextType;return typeof a=="object"&&a!==null?a=Wi(a):(i=Kn(t)?Nc:jn.current,n=t.contextTypes,a=(n=n!=null)?Ad(e,i):cl),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ab,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function OA(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ab.enqueueReplaceState(t,t.state,null)}function jS(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},fC(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Wi(a):(a=Kn(t)?Nc:jn.current,i.context=Ad(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(SS(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ab.enqueueReplaceState(i,i.state,null),Sy(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Id(e,t){try{var r="",n=t;do r+=PG(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function r_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function kS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nY=typeof WeakMap=="function"?WeakMap:Map;function k3(e,t,r){r=Fs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ey||(Ey=!0,IS=n),kS(e,t)},r}function N3(e,t,r){r=Fs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){kS(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){kS(e,t),typeof n!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function PA(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nY;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=vY.bind(null,e,t,r),t.then(e,e))}function AA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TA(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fs(-1,1),t.tag=2,el(r,t,1))),r.lanes|=1),e)}var iY=io.ReactCurrentOwner,Hn=!1;function On(e,t,r,n){t.child=e===null?t3(t,null,r,n):Md(t,e.child,r,n)}function MA(e,t,r,n,i){r=r.render;var a=t.ref;return cd(t,i),n=vC(e,t,r,n,a,i),r=yC(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i)):(Yt&&r&&aC(t),t.flags|=1,On(e,t,n,i),t.child)}function $A(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!EC(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,C3(e,t,a,n,i)):(e=Gv(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:wp,r(s,n)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,e=nl(a,n),e.ref=t.ref,e.return=t,t.child=e}function C3(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(wp(a,n)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,Gs(e,t,i)}return NS(e,t,r,n,i)}function E3(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Ku,si),si|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(Ku,si),si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Rt(Ku,si),si|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Rt(Ku,si),si|=n;return On(e,t,i,r),t.child}function O3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function NS(e,t,r,n,i){var a=Kn(r)?Nc:jn.current;return a=Ad(t,a),cd(t,i),r=vC(e,t,r,n,a,i),n=yC(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i)):(Yt&&n&&aC(t),t.flags|=1,On(e,t,r,i),t.child)}function IA(e,t,r,n,i){if(Kn(r)){var a=!0;yy(t)}else a=!1;if(cd(t,i),t.stateNode===null)Wv(e,t),j3(t,r,n),jS(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wi(u):(u=Kn(r)?Nc:jn.current,u=Ad(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==u)&&OA(t,s,n,u),Oo=!1;var h=t.memoizedState;s.state=h,Sy(t,n,s,i),c=t.memoizedState,o!==n||h!==c||Gn.current||Oo?(typeof d=="function"&&(SS(t,r,d,n),c=t.memoizedState),(o=Oo||EA(t,r,o,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,n3(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ca(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wi(c):(c=Kn(r)?Nc:jn.current,c=Ad(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&OA(t,s,n,c),Oo=!1,h=t.memoizedState,s.state=h,Sy(t,n,s,i);var m=t.memoizedState;o!==f||h!==m||Gn.current||Oo?(typeof p=="function"&&(SS(t,r,p,n),m=t.memoizedState),(u=Oo||EA(t,r,u,n,h,m,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return CS(e,t,r,n,a,i)}function CS(e,t,r,n,i,a){O3(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&bA(t,r,!1),Gs(e,t,a);n=t.stateNode,iY.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Md(t,e.child,null,a),t.child=Md(t,null,o,a)):On(e,t,o,a),t.memoizedState=n.state,i&&bA(t,r,!0),t.child}function P3(e){var t=e.stateNode;t.pendingContext?xA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xA(e,t.context,!1),hC(e,t.containerInfo)}function RA(e,t,r,n,i){return Td(),oC(i),t.flags|=256,On(e,t,r,n),t.child}var ES={dehydrated:null,treeContext:null,retryLane:0};function OS(e){return{baseLanes:e,cachePool:null,transitions:null}}function A3(e,t,r){var n=t.pendingProps,i=Zt.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rt(Zt,i&1),e===null)return wS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=$b(s,n,0,null),e=xc(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=OS(r),t.memoizedState=ES,e):wC(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return aY(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=nl(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=nl(o,a):(a=xc(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?OS(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=ES,n}return a=e.child,e=a.sibling,n=nl(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function wC(e,t){return t=$b({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bg(e,t,r,n){return n!==null&&oC(n),Md(t,e.child,null,r),e=wC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aY(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=r_(Error(ce(422))),Bg(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=$b({mode:"visible",children:n.children},i,0,null),a=xc(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Md(t,e.child,null,s),t.child.memoizedState=OS(s),t.memoizedState=ES,a);if(!(t.mode&1))return Bg(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(ce(419)),n=r_(a,n,void 0),Bg(e,t,s,n)}if(o=(s&e.childLanes)!==0,Hn||o){if(n=Jr,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,qs(e,i),Sa(n,e,i,-1))}return CC(),n=r_(Error(ce(421))),Bg(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yY.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,mi=Zo(i.nextSibling),vi=t,Yt=!0,ya=null,e!==null&&(Mi[$i++]=Ts,Mi[$i++]=Ms,Mi[$i++]=Cc,Ts=e.id,Ms=e.overflow,Cc=t),t=wC(t,n.children),t.flags|=4096,t)}function DA(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_S(e.return,t,r)}function n_(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function T3(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(On(e,t,n.children,r),n=Zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&DA(e,r,t);else if(e.tag===19)DA(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rt(Zt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&jy(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),n_(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jy(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}n_(t,!0,r,null,a);break;case"together":n_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Oc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=nl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=nl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sY(e,t,r){switch(t.tag){case 3:P3(t),Td();break;case 5:i3(t);break;case 1:Kn(t.type)&&yy(t);break;case 4:hC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Rt(wy,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rt(Zt,Zt.current&1),t.flags|=128,null):r&t.child.childLanes?A3(e,t,r):(Rt(Zt,Zt.current&1),e=Gs(e,t,r),e!==null?e.sibling:null);Rt(Zt,Zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Zt,Zt.current),n)break;return null;case 22:case 23:return t.lanes=0,E3(e,t,r)}return Gs(e,t,r)}var M3,PS,$3,I3;M3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};PS=function(){};$3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,nc(ts.current);var a=null;switch(r){case"input":i=Q1(e,i),n=Q1(e,n),a=[];break;case"select":i=tr({},i,{value:void 0}),n=tr({},n,{value:void 0}),a=[];break;case"textarea":i=tS(e,i),n=tS(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gy)}nS(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pp.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ut("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};I3=function(e,t,r,n){r!==n&&(t.flags|=4)};function ph(e,t){if(!Yt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function oY(e,t,r){var n=t.pendingProps;switch(sC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return Kn(t.type)&&vy(),pn(t),null;case 3:return n=t.stateNode,$d(),Wt(Gn),Wt(jn),mC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Lg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ya!==null&&(LS(ya),ya=null))),PS(e,t),pn(t),null;case 5:pC(t);var i=nc(Np.current);if(r=t.type,e!==null&&t.stateNode!=null)$3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return pn(t),null}if(e=nc(ts.current),Lg(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ga]=t,n[jp]=a,e=(t.mode&1)!==0,r){case"dialog":Ut("cancel",n),Ut("close",n);break;case"iframe":case"object":case"embed":Ut("load",n);break;case"video":case"audio":for(i=0;i<Dh.length;i++)Ut(Dh[i],n);break;case"source":Ut("error",n);break;case"img":case"image":case"link":Ut("error",n),Ut("load",n);break;case"details":Ut("toggle",n);break;case"input":qP(n,a),Ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ut("invalid",n);break;case"textarea":KP(n,a),Ut("invalid",n)}nS(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Dg(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Dg(n.textContent,o,e),i=["children",""+o]):pp.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ut("scroll",n)}switch(r){case"input":Og(n),GP(n,a,!0);break;case"textarea":Og(n),YP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=gy)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ga]=t,e[jp]=n,M3(e,t,!1,!1),t.stateNode=e;e:{switch(s=iS(r,n),r){case"dialog":Ut("cancel",e),Ut("close",e),i=n;break;case"iframe":case"object":case"embed":Ut("load",e),i=n;break;case"video":case"audio":for(i=0;i<Dh.length;i++)Ut(Dh[i],e);i=n;break;case"source":Ut("error",e),i=n;break;case"img":case"image":case"link":Ut("error",e),Ut("load",e),i=n;break;case"details":Ut("toggle",e),i=n;break;case"input":qP(e,n),i=Q1(e,n),Ut("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=tr({},n,{value:void 0}),Ut("invalid",e);break;case"textarea":KP(e,n),i=tS(e,n),Ut("invalid",e);break;default:i=n}nS(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?fF(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uF(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&mp(e,c):typeof c=="number"&&mp(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(pp.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Ut("scroll",e):c!=null&&HN(e,a,c,s))}switch(r){case"input":Og(e),GP(e,n,!1);break;case"textarea":Og(e),YP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ll(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ad(e,!!n.multiple,a,!1):n.defaultValue!=null&&ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)I3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=nc(Np.current),nc(ts.current),Lg(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ga]=t,(a=n.nodeValue!==r)&&(e=vi,e!==null))switch(e.tag){case 3:Dg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dg(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ga]=t,t.stateNode=n}return pn(t),null;case 13:if(Wt(Zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yt&&mi!==null&&t.mode&1&&!(t.flags&128))ZF(),Td(),t.flags|=98560,a=!1;else if(a=Lg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Ga]=t}else Td(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),a=!1}else ya!==null&&(LS(ya),ya=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?Ir===0&&(Ir=3):CC())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return $d(),PS(e,t),e===null&&_p(t.stateNode.containerInfo),pn(t),null;case 10:return uC(t.type._context),pn(t),null;case 17:return Kn(t.type)&&vy(),pn(t),null;case 19:if(Wt(Zt),a=t.memoizedState,a===null)return pn(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)ph(a,!1);else{if(Ir!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=jy(e),s!==null){for(t.flags|=128,ph(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rt(Zt,Zt.current&1|2),t.child}e=e.sibling}a.tail!==null&&hr()>Rd&&(t.flags|=128,n=!0,ph(a,!1),t.lanes=4194304)}else{if(!n)if(e=jy(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ph(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Yt)return pn(t),null}else 2*hr()-a.renderingStartTime>Rd&&r!==1073741824&&(t.flags|=128,n=!0,ph(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=hr(),t.sibling=null,r=Zt.current,Rt(Zt,n?r&1|2:r&1),t):(pn(t),null);case 22:case 23:return NC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?si&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function lY(e,t){switch(sC(t),t.tag){case 1:return Kn(t.type)&&vy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $d(),Wt(Gn),Wt(jn),mC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pC(t),null;case 13:if(Wt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Td()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Wt(Zt),null;case 4:return $d(),null;case 10:return uC(t.type._context),null;case 22:case 23:return NC(),null;case 24:return null;default:return null}}var Ug=!1,yn=!1,cY=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Gu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ar(e,t,n)}else r.current=null}function AS(e,t,r){try{r()}catch(n){ar(e,t,n)}}var LA=!1;function uY(e,t){if(pS=hy,e=BF(),iC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===i&&(o=s),h===a&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(mS={focusedElem:e,selectionRange:r},hy=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:ca(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(_){ar(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return m=LA,LA=!1,m}function Xh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&AS(t,r,a)}i=i.next}while(i!==n)}}function Tb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function TS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function R3(e){var t=e.alternate;t!==null&&(e.alternate=null,R3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ga],delete t[jp],delete t[yS],delete t[qK],delete t[GK])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function D3(e){return e.tag===5||e.tag===3||e.tag===4}function FA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||D3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function MS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gy));else if(n!==4&&(e=e.child,e!==null))for(MS(e,t,r),e=e.sibling;e!==null;)MS(e,t,r),e=e.sibling}function $S(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($S(e,t,r),e=e.sibling;e!==null;)$S(e,t,r),e=e.sibling}var nn=null,pa=!1;function yo(e,t,r){for(r=r.child;r!==null;)L3(e,t,r),r=r.sibling}function L3(e,t,r){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(jb,r)}catch{}switch(r.tag){case 5:yn||Gu(r,t);case 6:var n=nn,i=pa;nn=null,yo(e,t,r),nn=n,pa=i,nn!==null&&(pa?(e=nn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nn.removeChild(r.stateNode));break;case 18:nn!==null&&(pa?(e=nn,r=r.stateNode,e.nodeType===8?Jw(e.parentNode,r):e.nodeType===1&&Jw(e,r),xp(e)):Jw(nn,r.stateNode));break;case 4:n=nn,i=pa,nn=r.stateNode.containerInfo,pa=!0,yo(e,t,r),nn=n,pa=i;break;case 0:case 11:case 14:case 15:if(!yn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&AS(r,t,s),i=i.next}while(i!==n)}yo(e,t,r);break;case 1:if(!yn&&(Gu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ar(r,t,o)}yo(e,t,r);break;case 21:yo(e,t,r);break;case 22:r.mode&1?(yn=(n=yn)||r.memoizedState!==null,yo(e,t,r),yn=n):yo(e,t,r);break;default:yo(e,t,r)}}function BA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cY),t.forEach(function(n){var i=xY.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ra(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:nn=o.stateNode,pa=!1;break e;case 3:nn=o.stateNode.containerInfo,pa=!0;break e;case 4:nn=o.stateNode.containerInfo,pa=!0;break e}o=o.return}if(nn===null)throw Error(ce(160));L3(a,s,i),nn=null,pa=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){ar(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F3(t,e),t=t.sibling}function F3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ra(t,e),Fa(e),n&4){try{Xh(3,e,e.return),Tb(3,e)}catch(g){ar(e,e.return,g)}try{Xh(5,e,e.return)}catch(g){ar(e,e.return,g)}}break;case 1:ra(t,e),Fa(e),n&512&&r!==null&&Gu(r,r.return);break;case 5:if(ra(t,e),Fa(e),n&512&&r!==null&&Gu(r,r.return),e.flags&32){var i=e.stateNode;try{mp(i,"")}catch(g){ar(e,e.return,g)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&oF(i,a),iS(o,s);var u=iS(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?fF(i,f):d==="dangerouslySetInnerHTML"?uF(i,f):d==="children"?mp(i,f):HN(i,d,f,u)}switch(o){case"input":Z1(i,a);break;case"textarea":lF(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ad(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ad(i,!!a.multiple,a.defaultValue,!0):ad(i,!!a.multiple,a.multiple?[]:"",!1))}i[jp]=a}catch(g){ar(e,e.return,g)}}break;case 6:if(ra(t,e),Fa(e),n&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){ar(e,e.return,g)}}break;case 3:if(ra(t,e),Fa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xp(t.containerInfo)}catch(g){ar(e,e.return,g)}break;case 4:ra(t,e),Fa(e);break;case 13:ra(t,e),Fa(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(jC=hr())),n&4&&BA(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(yn=(u=yn)||d,ra(t,e),yn=u):ra(t,e),Fa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Se=e,d=e.child;d!==null;){for(f=Se=d;Se!==null;){switch(h=Se,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xh(4,h,h.return);break;case 1:Gu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){ar(n,r,g)}}break;case 5:Gu(h,h.return);break;case 22:if(h.memoizedState!==null){zA(f);continue}}p!==null?(p.return=h,Se=p):zA(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=dF("display",s))}catch(g){ar(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){ar(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ra(t,e),Fa(e),n&4&&BA(e);break;case 21:break;default:ra(t,e),Fa(e)}}function Fa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(D3(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(mp(i,""),n.flags&=-33);var a=FA(e);$S(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=FA(e);MS(e,o,s);break;default:throw Error(ce(161))}}catch(c){ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dY(e,t,r){Se=e,B3(e)}function B3(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var i=Se,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Ug;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||yn;o=Ug;var u=yn;if(Ug=s,(yn=c)&&!u)for(Se=i;Se!==null;)s=Se,c=s.child,s.tag===22&&s.memoizedState!==null?VA(i):c!==null?(c.return=s,Se=c):VA(i);for(;a!==null;)Se=a,B3(a),a=a.sibling;Se=i,Ug=o,yn=u}UA(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Se=a):UA(e)}}function UA(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:yn||Tb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!yn)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ca(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&kA(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kA(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&xp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}yn||t.flags&512&&TS(t)}catch(h){ar(t,t.return,h)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function zA(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function VA(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tb(4,t)}catch(c){ar(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){ar(t,i,c)}}var a=t.return;try{TS(t)}catch(c){ar(t,a,c)}break;case 5:var s=t.return;try{TS(t)}catch(c){ar(t,s,c)}}}catch(c){ar(t,t.return,c)}if(t===e){Se=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Se=o;break}Se=t.return}}var fY=Math.ceil,Cy=io.ReactCurrentDispatcher,_C=io.ReactCurrentOwner,Bi=io.ReactCurrentBatchConfig,dt=0,Jr=null,kr=null,on=0,si=0,Ku=yl(0),Ir=0,Pp=null,Oc=0,Mb=0,SC=0,Qh=null,Wn=null,jC=0,Rd=1/0,js=null,Ey=!1,IS=null,tl=null,zg=!1,Ho=null,Oy=0,Zh=0,RS=null,Hv=-1,qv=0;function Ln(){return dt&6?hr():Hv!==-1?Hv:Hv=hr()}function rl(e){return e.mode&1?dt&2&&on!==0?on&-on:YK.transition!==null?(qv===0&&(qv=jF()),qv):(e=jt,e!==0||(e=window.event,e=e===void 0?16:AF(e.type)),e):1}function Sa(e,t,r,n){if(50<Zh)throw Zh=0,RS=null,Error(ce(185));Wm(e,r,n),(!(dt&2)||e!==Jr)&&(e===Jr&&(!(dt&2)&&(Mb|=r),Ir===4&&Io(e,on)),Yn(e,n),r===1&&dt===0&&!(t.mode&1)&&(Rd=hr()+500,Ob&&xl()))}function Yn(e,t){var r=e.callbackNode;YG(e,t);var n=fy(e,e===Jr?on:0);if(n===0)r!==null&&QP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&QP(r),t===1)e.tag===0?KK(WA.bind(null,e)):JF(WA.bind(null,e)),WK(function(){!(dt&6)&&xl()}),r=null;else{switch(kF(n)){case 1:r=JN;break;case 4:r=_F;break;case 16:r=dy;break;case 536870912:r=SF;break;default:r=dy}r=K3(r,U3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function U3(e,t){if(Hv=-1,qv=0,dt&6)throw Error(ce(327));var r=e.callbackNode;if(ud()&&e.callbackNode!==r)return null;var n=fy(e,e===Jr?on:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Py(e,n);else{t=n;var i=dt;dt|=2;var a=V3();(Jr!==e||on!==t)&&(js=null,Rd=hr()+500,yc(e,t));do try{mY();break}catch(o){z3(e,o)}while(!0);cC(),Cy.current=a,dt=i,kr!==null?t=0:(Jr=null,on=0,t=Ir)}if(t!==0){if(t===2&&(i=cS(e),i!==0&&(n=i,t=DS(e,i))),t===1)throw r=Pp,yc(e,0),Io(e,n),Yn(e,hr()),r;if(t===6)Io(e,n);else{if(i=e.current.alternate,!(n&30)&&!hY(i)&&(t=Py(e,n),t===2&&(a=cS(e),a!==0&&(n=a,t=DS(e,a))),t===1))throw r=Pp,yc(e,0),Io(e,n),Yn(e,hr()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:Hl(e,Wn,js);break;case 3:if(Io(e,n),(n&130023424)===n&&(t=jC+500-hr(),10<t)){if(fy(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vS(Hl.bind(null,e,Wn,js),t);break}Hl(e,Wn,js);break;case 4:if(Io(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-_a(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fY(n/1960))-n,10<n){e.timeoutHandle=vS(Hl.bind(null,e,Wn,js),n);break}Hl(e,Wn,js);break;case 5:Hl(e,Wn,js);break;default:throw Error(ce(329))}}}return Yn(e,hr()),e.callbackNode===r?U3.bind(null,e):null}function DS(e,t){var r=Qh;return e.current.memoizedState.isDehydrated&&(yc(e,t).flags|=256),e=Py(e,t),e!==2&&(t=Wn,Wn=r,t!==null&&LS(t)),e}function LS(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function hY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ca(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Io(e,t){for(t&=~SC,t&=~Mb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_a(t),n=1<<r;e[r]=-1,t&=~n}}function WA(e){if(dt&6)throw Error(ce(327));ud();var t=fy(e,0);if(!(t&1))return Yn(e,hr()),null;var r=Py(e,t);if(e.tag!==0&&r===2){var n=cS(e);n!==0&&(t=n,r=DS(e,n))}if(r===1)throw r=Pp,yc(e,0),Io(e,t),Yn(e,hr()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hl(e,Wn,js),Yn(e,hr()),null}function kC(e,t){var r=dt;dt|=1;try{return e(t)}finally{dt=r,dt===0&&(Rd=hr()+500,Ob&&xl())}}function Pc(e){Ho!==null&&Ho.tag===0&&!(dt&6)&&ud();var t=dt;dt|=1;var r=Bi.transition,n=jt;try{if(Bi.transition=null,jt=1,e)return e()}finally{jt=n,Bi.transition=r,dt=t,!(dt&6)&&xl()}}function NC(){si=Ku.current,Wt(Ku)}function yc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,VK(r)),kr!==null)for(r=kr.return;r!==null;){var n=r;switch(sC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vy();break;case 3:$d(),Wt(Gn),Wt(jn),mC();break;case 5:pC(n);break;case 4:$d();break;case 13:Wt(Zt);break;case 19:Wt(Zt);break;case 10:uC(n.type._context);break;case 22:case 23:NC()}r=r.return}if(Jr=e,kr=e=nl(e.current,null),on=si=t,Ir=0,Pp=null,SC=Mb=Oc=0,Wn=Qh=null,rc!==null){for(t=0;t<rc.length;t++)if(r=rc[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}rc=null}return e}function z3(e,t){do{var r=kr;try{if(cC(),zv.current=Ny,ky){for(var n=er.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ky=!1}if(Ec=0,Hr=Tr=er=null,Jh=!1,Cp=0,_C.current=null,r===null||r.return===null){Ir=1,Pp=t,kr=null;break}e:{var a=e,s=r.return,o=r,c=t;if(t=on,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=AA(s);if(p!==null){p.flags&=-257,TA(p,s,o,a,t),p.mode&1&&PA(a,u,t),t=p,c=u;var m=t.updateQueue;if(m===null){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}else{if(!(t&1)){PA(a,u,t),CC();break e}c=Error(ce(426))}}else if(Yt&&o.mode&1){var v=AA(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TA(v,s,o,a,t),oC(Id(c,o));break e}}a=c=Id(c,o),Ir!==4&&(Ir=2),Qh===null?Qh=[a]:Qh.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=k3(a,c,t);jA(a,b);break e;case 1:o=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(tl===null||!tl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=N3(a,o,t);jA(a,_);break e}}a=a.return}while(a!==null)}H3(r)}catch(S){t=S,kr===r&&r!==null&&(kr=r=r.return);continue}break}while(!0)}function V3(){var e=Cy.current;return Cy.current=Ny,e===null?Ny:e}function CC(){(Ir===0||Ir===3||Ir===2)&&(Ir=4),Jr===null||!(Oc&268435455)&&!(Mb&268435455)||Io(Jr,on)}function Py(e,t){var r=dt;dt|=2;var n=V3();(Jr!==e||on!==t)&&(js=null,yc(e,t));do try{pY();break}catch(i){z3(e,i)}while(!0);if(cC(),dt=r,Cy.current=n,kr!==null)throw Error(ce(261));return Jr=null,on=0,Ir}function pY(){for(;kr!==null;)W3(kr)}function mY(){for(;kr!==null&&!BG();)W3(kr)}function W3(e){var t=G3(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?H3(e):kr=t,_C.current=null}function H3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lY(r,t),r!==null){r.flags&=32767,kr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ir=6,kr=null;return}}else if(r=oY(r,t,si),r!==null){kr=r;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Ir===0&&(Ir=5)}function Hl(e,t,r){var n=jt,i=Bi.transition;try{Bi.transition=null,jt=1,gY(e,t,r,n)}finally{Bi.transition=i,jt=n}return null}function gY(e,t,r,n){do ud();while(Ho!==null);if(dt&6)throw Error(ce(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(JG(e,a),e===Jr&&(kr=Jr=null,on=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zg||(zg=!0,K3(dy,function(){return ud(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Bi.transition,Bi.transition=null;var s=jt;jt=1;var o=dt;dt|=4,_C.current=null,uY(e,r),F3(r,e),RK(mS),hy=!!pS,mS=pS=null,e.current=r,dY(r),UG(),dt=o,jt=s,Bi.transition=a}else e.current=r;if(zg&&(zg=!1,Ho=e,Oy=i),a=e.pendingLanes,a===0&&(tl=null),WG(r.stateNode),Yn(e,hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ey)throw Ey=!1,e=IS,IS=null,e;return Oy&1&&e.tag!==0&&ud(),a=e.pendingLanes,a&1?e===RS?Zh++:(Zh=0,RS=e):Zh=0,xl(),null}function ud(){if(Ho!==null){var e=kF(Oy),t=Bi.transition,r=jt;try{if(Bi.transition=null,jt=16>e?16:e,Ho===null)var n=!1;else{if(e=Ho,Ho=null,Oy=0,dt&6)throw Error(ce(331));var i=dt;for(dt|=4,Se=e.current;Se!==null;){var a=Se,s=a.child;if(Se.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Se=u;Se!==null;){var d=Se;switch(d.tag){case 0:case 11:case 15:Xh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Se=f;else for(;Se!==null;){d=Se;var h=d.sibling,p=d.return;if(R3(d),d===u){Se=null;break}if(h!==null){h.return=p,Se=h;break}Se=p}}}var m=a.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Se=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Se=s;else e:for(;Se!==null;){if(a=Se,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xh(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Se=b;break e}Se=a.return}}var y=e.current;for(Se=y;Se!==null;){s=Se;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Se=w;else e:for(s=y;Se!==null;){if(o=Se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tb(9,o)}}catch(S){ar(o,o.return,S)}if(o===s){Se=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Se=_;break e}Se=o.return}}if(dt=i,xl(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(jb,e)}catch{}n=!0}return n}finally{jt=r,Bi.transition=t}}return!1}function HA(e,t,r){t=Id(r,t),t=k3(e,t,1),e=el(e,t,1),t=Ln(),e!==null&&(Wm(e,1,t),Yn(e,t))}function ar(e,t,r){if(e.tag===3)HA(e,e,r);else for(;t!==null;){if(t.tag===3){HA(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tl===null||!tl.has(n))){e=Id(r,e),e=N3(t,e,1),t=el(t,e,1),e=Ln(),t!==null&&(Wm(t,1,e),Yn(t,e));break}}t=t.return}}function vY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ln(),e.pingedLanes|=e.suspendedLanes&r,Jr===e&&(on&r)===r&&(Ir===4||Ir===3&&(on&130023424)===on&&500>hr()-jC?yc(e,0):SC|=r),Yn(e,t)}function q3(e,t){t===0&&(e.mode&1?(t=Tg,Tg<<=1,!(Tg&130023424)&&(Tg=4194304)):t=1);var r=Ln();e=qs(e,t),e!==null&&(Wm(e,t,r),Yn(e,r))}function yY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),q3(e,r)}function xY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),q3(e,r)}var G3;G3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gn.current)Hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hn=!1,sY(e,t,r);Hn=!!(e.flags&131072)}else Hn=!1,Yt&&t.flags&1048576&&XF(t,by,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wv(e,t),e=t.pendingProps;var i=Ad(t,jn.current);cd(t,r),i=vC(null,t,n,e,i,r);var a=yC();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kn(n)?(a=!0,yy(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fC(t),i.updater=Ab,t.stateNode=i,i._reactInternals=t,jS(t,n,e,r),t=CS(null,t,n,!0,a,r)):(t.tag=0,Yt&&a&&aC(t),On(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wv(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=wY(n),e=ca(n,e),i){case 0:t=NS(null,t,n,e,r);break e;case 1:t=IA(null,t,n,e,r);break e;case 11:t=MA(null,t,n,e,r);break e;case 14:t=$A(null,t,n,ca(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ca(n,i),NS(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ca(n,i),IA(e,t,n,i,r);case 3:e:{if(P3(t),e===null)throw Error(ce(387));n=t.pendingProps,a=t.memoizedState,i=a.element,n3(e,t),Sy(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Id(Error(ce(423)),t),t=RA(e,t,n,r,i);break e}else if(n!==i){i=Id(Error(ce(424)),t),t=RA(e,t,n,r,i);break e}else for(mi=Zo(t.stateNode.containerInfo.firstChild),vi=t,Yt=!0,ya=null,r=t3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Td(),n===i){t=Gs(e,t,r);break e}On(e,t,n,r)}t=t.child}return t;case 5:return i3(t),e===null&&wS(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,gS(n,i)?s=null:a!==null&&gS(n,a)&&(t.flags|=32),O3(e,t),On(e,t,s,r),t.child;case 6:return e===null&&wS(t),null;case 13:return A3(e,t,r);case 4:return hC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Md(t,null,n,r):On(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ca(n,i),MA(e,t,n,i,r);case 7:return On(e,t,t.pendingProps,r),t.child;case 8:return On(e,t,t.pendingProps.children,r),t.child;case 12:return On(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Rt(wy,n._currentValue),n._currentValue=s,a!==null)if(Ca(a.value,s)){if(a.children===i.children&&!Gn.current){t=Gs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Fs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),_S(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ce(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),_S(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}On(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,cd(t,r),i=Wi(i),n=n(i),t.flags|=1,On(e,t,n,r),t.child;case 14:return n=t.type,i=ca(n,t.pendingProps),i=ca(n.type,i),$A(e,t,n,i,r);case 15:return C3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ca(n,i),Wv(e,t),t.tag=1,Kn(n)?(e=!0,yy(t)):e=!1,cd(t,r),j3(t,n,i),jS(t,n,i,r),CS(null,t,n,!0,e,r);case 19:return T3(e,t,r);case 22:return E3(e,t,r)}throw Error(ce(156,t.tag))};function K3(e,t){return wF(e,t)}function bY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Di(e,t,r,n){return new bY(e,t,r,n)}function EC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wY(e){if(typeof e=="function")return EC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===GN)return 11;if(e===KN)return 14}return 2}function nl(e,t){var r=e.alternate;return r===null?(r=Di(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gv(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")EC(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lu:return xc(r.children,i,a,t);case qN:s=8,i|=8;break;case K1:return e=Di(12,r,t,i|2),e.elementType=K1,e.lanes=a,e;case Y1:return e=Di(13,r,t,i),e.elementType=Y1,e.lanes=a,e;case J1:return e=Di(19,r,t,i),e.elementType=J1,e.lanes=a,e;case iF:return $b(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rF:s=10;break e;case nF:s=9;break e;case GN:s=11;break e;case KN:s=14;break e;case Eo:s=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Di(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function xc(e,t,r,n){return e=Di(7,e,n,t),e.lanes=r,e}function $b(e,t,r,n){return e=Di(22,e,n,t),e.elementType=iF,e.lanes=r,e.stateNode={isHidden:!1},e}function i_(e,t,r){return e=Di(6,e,null,t),e.lanes=r,e}function a_(e,t,r){return t=Di(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _Y(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fw(0),this.expirationTimes=Fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fw(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function OC(e,t,r,n,i,a,s,o,c){return e=new _Y(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Di(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fC(a),e}function SY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Y3(e){if(!e)return cl;e=e._reactInternals;e:{if(Jc(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Kn(r))return YF(e,r,t)}return t}function J3(e,t,r,n,i,a,s,o,c){return e=OC(r,n,!0,e,i,a,s,o,c),e.context=Y3(null),r=e.current,n=Ln(),i=rl(r),a=Fs(n,i),a.callback=t??null,el(r,a,i),e.current.lanes=i,Wm(e,i,n),Yn(e,n),e}function Ib(e,t,r,n){var i=t.current,a=Ln(),s=rl(i);return r=Y3(r),t.context===null?t.context=r:t.pendingContext=r,t=Fs(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=el(i,t,s),e!==null&&(Sa(e,i,s,a),Uv(e,i,s)),s}function Ay(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function PC(e,t){qA(e,t),(e=e.alternate)&&qA(e,t)}function jY(){return null}var X3=typeof reportError=="function"?reportError:function(e){console.error(e)};function AC(e){this._internalRoot=e}Rb.prototype.render=AC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Ib(e,t,null,null)};Rb.prototype.unmount=AC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pc(function(){Ib(null,e,null,null)}),t[Hs]=null}};function Rb(e){this._internalRoot=e}Rb.prototype.unstable_scheduleHydration=function(e){if(e){var t=EF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<$o.length&&t!==0&&t<$o[r].priority;r++);$o.splice(r,0,e),r===0&&PF(e)}};function TC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Db(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GA(){}function kY(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ay(s);a.call(u)}}var s=J3(t,n,e,0,null,!1,!1,"",GA);return e._reactRootContainer=s,e[Hs]=s.current,_p(e.nodeType===8?e.parentNode:e),Pc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Ay(c);o.call(u)}}var c=OC(e,0,!1,null,null,!1,!1,"",GA);return e._reactRootContainer=c,e[Hs]=c.current,_p(e.nodeType===8?e.parentNode:e),Pc(function(){Ib(t,c,r,n)}),c}function Lb(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Ay(s);o.call(c)}}Ib(t,s,e,i)}else s=kY(r,t,e,i,n);return Ay(s)}NF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rh(t.pendingLanes);r!==0&&(XN(t,r|1),Yn(t,hr()),!(dt&6)&&(Rd=hr()+500,xl()))}break;case 13:Pc(function(){var n=qs(e,1);if(n!==null){var i=Ln();Sa(n,e,1,i)}}),PC(e,1)}};QN=function(e){if(e.tag===13){var t=qs(e,134217728);if(t!==null){var r=Ln();Sa(t,e,134217728,r)}PC(e,134217728)}};CF=function(e){if(e.tag===13){var t=rl(e),r=qs(e,t);if(r!==null){var n=Ln();Sa(r,e,t,n)}PC(e,t)}};EF=function(){return jt};OF=function(e,t){var r=jt;try{return jt=e,t()}finally{jt=r}};sS=function(e,t,r){switch(t){case"input":if(Z1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Eb(n);if(!i)throw Error(ce(90));sF(n),Z1(n,i)}}}break;case"textarea":lF(e,r);break;case"select":t=r.value,t!=null&&ad(e,!!r.multiple,t,!1)}};mF=kC;gF=Pc;var NY={usingClientEntryPoint:!1,Events:[qm,zu,Eb,hF,pF,kC]},mh={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CY={bundleType:mh.bundleType,version:mh.version,rendererPackageName:mh.rendererPackageName,rendererConfig:mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xF(e),e===null?null:e.stateNode},findFiberByHostInstance:mh.findFiberByHostInstance||jY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vg.isDisabled&&Vg.supportsFiber)try{jb=Vg.inject(CY),es=Vg}catch{}}ki.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NY;ki.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!TC(t))throw Error(ce(200));return SY(e,t,null,r)};ki.createRoot=function(e,t){if(!TC(e))throw Error(ce(299));var r=!1,n="",i=X3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=OC(e,1,!1,null,null,r,!1,n,i),e[Hs]=t.current,_p(e.nodeType===8?e.parentNode:e),new AC(t)};ki.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=xF(t),e=e===null?null:e.stateNode,e};ki.flushSync=function(e){return Pc(e)};ki.hydrate=function(e,t,r){if(!Db(t))throw Error(ce(200));return Lb(null,e,t,!0,r)};ki.hydrateRoot=function(e,t,r){if(!TC(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=X3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=J3(t,null,e,1,r??null,i,!1,a,s),e[Hs]=t.current,_p(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Rb(t)};ki.render=function(e,t,r){if(!Db(t))throw Error(ce(200));return Lb(null,e,t,!1,r)};ki.unmountComponentAtNode=function(e){if(!Db(e))throw Error(ce(40));return e._reactRootContainer?(Pc(function(){Lb(null,null,e,!1,function(){e._reactRootContainer=null,e[Hs]=null})}),!0):!1};ki.unstable_batchedUpdates=kC;ki.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Db(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Lb(e,t,r,!1,n)};ki.version="18.3.1-next-f1338f8080-20240426";function Q3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q3)}catch(e){console.error(e)}}Q3(),Q4.exports=ki;var Xc=Q4.exports;const Z3=bt(Xc);var e5,KA=Xc;e5=KA.createRoot,KA.hydrateRoot;const EY=1,OY=1e6;let s_=0;function PY(){return s_=(s_+1)%Number.MAX_SAFE_INTEGER,s_.toString()}const o_=new Map,YA=e=>{if(o_.has(e))return;const t=setTimeout(()=>{o_.delete(e),ep({type:"REMOVE_TOAST",toastId:e})},OY);o_.set(e,t)},AY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,EY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?YA(r):e.toasts.forEach(n=>{YA(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Kv=[];let Yv={toasts:[]};function ep(e){Yv=AY(Yv,e),Kv.forEach(t=>{t(Yv)})}function TY({...e}){const t=PY(),r=i=>ep({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>ep({type:"DISMISS_TOAST",toastId:t});return ep({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function MC(){const[e,t]=x.useState(Yv);return x.useEffect(()=>(Kv.push(t),()=>{const r=Kv.indexOf(t);r>-1&&Kv.splice(r,1)}),[e]),{...e,toast:TY,dismiss:r=>ep({type:"DISMISS_TOAST",toastId:r})}}function oe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function JA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ds(...e){return t=>{let r=!1;const n=e.map(i=>{const a=JA(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():JA(e[i],null)}}}}function ze(...e){return x.useCallback(ds(...e),e)}function MY(e,t){const r=x.createContext(t),n=a=>{const{children:s,...o}=a,c=x.useMemo(()=>o,Object.values(o));return l.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function i(a){const s=x.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function un(e,t=[]){let r=[];function n(a,s){const o=x.createContext(s),c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...m}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,v=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>x.createContext(s));return function(o){const c=(o==null?void 0:o[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[n,$Y(i,...t)]}function $Y(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function XA(e){const t=IY(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(DY);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function IY(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=FY(i),o=LY(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RY=Symbol("radix.slottable");function DY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RY}function LY(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function FY(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Fb(e){const t=e+"CollectionProvider",[r,n]=un(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:v,children:b}=g,y=A.useRef(null),w=A.useRef(new Map).current;return l.jsx(i,{scope:v,itemMap:w,collectionRef:y,children:b})};s.displayName=t;const o=e+"CollectionSlot",c=XA(o),u=A.forwardRef((g,v)=>{const{scope:b,children:y}=g,w=a(o,b),_=ze(v,w.collectionRef);return l.jsx(c,{ref:_,children:y})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=XA(d),p=A.forwardRef((g,v)=>{const{scope:b,children:y,...w}=g,_=A.useRef(null),S=ze(v,_),k=a(d,b);return A.useEffect(()=>(k.itemMap.set(_,{ref:_,...w}),()=>void k.itemMap.delete(_))),l.jsx(h,{[f]:"",ref:S,children:y})});p.displayName=d;function m(g){const v=a(e+"CollectionConsumer",g);return A.useCallback(()=>{const y=v.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,N)=>w.indexOf(k.ref.current)-w.indexOf(N.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},m,n]}function BY(e){const t=UY(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(VY);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function UY(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=HY(i),o=WY(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zY=Symbol("radix.slottable");function VY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zY}function WY(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function HY(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qY=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Oe=qY.reduce((e,t)=>{const r=BY(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $C(e,t){e&&Xc.flushSync(()=>e.dispatchEvent(t))}function ur(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function GY(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var KY="DismissableLayer",FS="dismissableLayer.update",YY="dismissableLayer.pointerDownOutside",JY="dismissableLayer.focusOutside",QA,t5=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qc=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:o,...c}=e,u=x.useContext(t5),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=x.useState({}),m=ze(t,N=>f(N)),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(v),y=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,S=QY(N=>{const E=N.target,P=[...u.branches].some(T=>T.contains(E));!_||P||(i==null||i(N),s==null||s(N),N.defaultPrevented||o==null||o())},h),k=ZY(N=>{const E=N.target;[...u.branches].some(T=>T.contains(E))||(a==null||a(N),s==null||s(N),N.defaultPrevented||o==null||o())},h);return GY(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(QA=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ZA(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=QA)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ZA())},[d,u]),x.useEffect(()=>{const N=()=>p({});return document.addEventListener(FS,N),()=>document.removeEventListener(FS,N)},[]),l.jsx(Oe.div,{...c,ref:m,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,S.onPointerDownCapture)})});Qc.displayName=KY;var XY="DismissableLayerBranch",r5=x.forwardRef((e,t)=>{const r=x.useContext(t5),n=x.useRef(null),i=ze(t,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Oe.div,{...e,ref:i})});r5.displayName=XY;function QY(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let c=function(){n5(YY,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function ZY(e,t=globalThis==null?void 0:globalThis.document){const r=ur(e),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&n5(JY,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ZA(){const e=new CustomEvent(FS);document.dispatchEvent(e)}function n5(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?$C(i,a):i.dispatchEvent(a)}var eJ=Qc,tJ=r5,yr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},rJ="Portal",Mf=x.forwardRef((e,t)=>{var o;const{container:r,...n}=e,[i,a]=x.useState(!1);yr(()=>a(!0),[]);const s=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return s?Z3.createPortal(l.jsx(Oe.div,{...n,ref:t}),s):null});Mf.displayName=rJ;function nJ(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Fr=e=>{const{present:t,children:r}=e,n=iJ(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ze(n.ref,aJ(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};Fr.displayName="Presence";function iJ(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),a=x.useRef("none"),s=e?"mounted":"unmounted",[o,c]=nJ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Wg(n.current);a.current=o==="mounted"?u:"none"},[o]),yr(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,p=Wg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),yr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const g=Wg(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&g&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(a.current=Wg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Wg(e){return(e==null?void 0:e.animationName)||"none"}function aJ(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sJ=Sb[" useInsertionEffect ".trim().toString()]||yr;function Ea({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,a,s]=oJ({defaultProp:t,onChange:r}),o=e!==void 0,c=o?e:i;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,n])}const u=x.useCallback(d=>{var f;if(o){const h=lJ(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else a(d)},[o,e,a,s]);return[c,u]}function oJ({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),a=x.useRef(t);return sJ(()=>{a.current=t},[t]),x.useEffect(()=>{var s;i.current!==r&&((s=a.current)==null||s.call(a,r),i.current=r)},[r,i]),[r,n,a]}function lJ(e){return typeof e=="function"}var i5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cJ="VisuallyHidden",Bb=x.forwardRef((e,t)=>l.jsx(Oe.span,{...e,ref:t,style:{...i5,...e.style}}));Bb.displayName=cJ;var uJ=Bb,IC="ToastProvider",[RC,dJ,fJ]=Fb("Toast"),[a5]=un("Toast",[fJ]),[hJ,Ub]=a5(IC),s5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:s}=e,[o,c]=x.useState(null),[u,d]=x.useState(0),f=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${IC}\`. Expected non-empty \`string\`.`),l.jsx(RC.Provider,{scope:t,children:l.jsx(hJ,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:o,onViewportChange:c,onToastAdd:x.useCallback(()=>d(p=>p+1),[]),onToastRemove:x.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};s5.displayName=IC;var o5="ToastViewport",pJ=["F8"],BS="toast.viewportPause",US="toast.viewportResume",l5=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=pJ,label:i="Notifications ({hotkey})",...a}=e,s=Ub(o5,r),o=dJ(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),h=ze(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=s.toastCount>0;x.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),x.useEffect(()=>{const v=c.current,b=f.current;if(m&&v&&b){const y=()=>{if(!s.isClosePausedRef.current){const k=new CustomEvent(BS);b.dispatchEvent(k),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const k=new CustomEvent(US);b.dispatchEvent(k),s.isClosePausedRef.current=!1}},_=k=>{!v.contains(k.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",_),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[m,s.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:v})=>{const y=o().map(w=>{const _=w.ref.current,S=[_,...CJ(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[o]);return x.useEffect(()=>{const v=f.current;if(v){const b=y=>{var S,k,N;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,P=y.shiftKey;if(y.target===v&&P){(S=u.current)==null||S.focus();return}const M=g({tabbingDirection:P?"backwards":"forwards"}),F=M.findIndex(R=>R===E);l_(M.slice(F+1))?y.preventDefault():P?(k=u.current)==null||k.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[o,g]),l.jsxs(tJ,{ref:c,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&l.jsx(zS,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});l_(v)}}),l.jsx(RC.Slot,{scope:r,children:l.jsx(Oe.ol,{tabIndex:-1,...a,ref:h})}),m&&l.jsx(zS,{ref:d,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});l_(v)}})]})});l5.displayName=o5;var c5="ToastFocusProxy",zS=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Ub(c5,r);return l.jsx(Bb,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const o=s.relatedTarget;!((u=a.viewport)!=null&&u.contains(o))&&n()}})});zS.displayName=c5;var Km="Toast",mJ="toast.swipeStart",gJ="toast.swipeMove",vJ="toast.swipeCancel",yJ="toast.swipeEnd",u5=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...s}=e,[o,c]=Ea({prop:n,defaultProp:i??!0,onChange:a,caller:Km});return l.jsx(Fr,{present:r||o,children:l.jsx(wJ,{open:o,...s,ref:t,onClose:()=>c(!1),onPause:ur(e.onPause),onResume:ur(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});u5.displayName=Km;var[xJ,bJ]=a5(Km,{onClose(){}}),wJ=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:s,onEscapeKeyDown:o,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...m}=e,g=Ub(Km,r),[v,b]=x.useState(null),y=ze(t,R=>b(R)),w=x.useRef(null),_=x.useRef(null),S=i||g.duration,k=x.useRef(0),N=x.useRef(S),E=x.useRef(0),{onToastAdd:P,onToastRemove:T}=g,$=ur(()=>{var U;(v==null?void 0:v.contains(document.activeElement))&&((U=g.viewport)==null||U.focus()),s()}),M=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(E.current),k.current=new Date().getTime(),E.current=window.setTimeout($,R))},[$]);x.useEffect(()=>{const R=g.viewport;if(R){const U=()=>{M(N.current),u==null||u()},W=()=>{const z=new Date().getTime()-k.current;N.current=N.current-z,window.clearTimeout(E.current),c==null||c()};return R.addEventListener(BS,W),R.addEventListener(US,U),()=>{R.removeEventListener(BS,W),R.removeEventListener(US,U)}}},[g.viewport,S,c,u,M]),x.useEffect(()=>{a&&!g.isClosePausedRef.current&&M(S)},[a,S,g.isClosePausedRef,M]),x.useEffect(()=>(P(),()=>T()),[P,T]);const F=x.useMemo(()=>v?v5(v):null,[v]);return g.viewport?l.jsxs(l.Fragment,{children:[F&&l.jsx(_J,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:F}),l.jsx(xJ,{scope:r,onClose:$,children:Xc.createPortal(l.jsx(RC.ItemSlot,{scope:r,children:l.jsx(eJ,{asChild:!0,onEscapeKeyDown:oe(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||$(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Oe.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,R=>{R.key==="Escape"&&(o==null||o(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:oe(e.onPointerDown,R=>{R.button===0&&(w.current={x:R.clientX,y:R.clientY})}),onPointerMove:oe(e.onPointerMove,R=>{if(!w.current)return;const U=R.clientX-w.current.x,W=R.clientY-w.current.y,z=!!_.current,L=["left","right"].includes(g.swipeDirection),B=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=L?B(0,U):0,te=L?0:B(0,W),X=R.pointerType==="touch"?10:2,j={x:G,y:te},O={originalEvent:R,delta:j};z?(_.current=j,Hg(gJ,f,O,{discrete:!1})):eT(j,g.swipeDirection,X)?(_.current=j,Hg(mJ,d,O,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(U)>X||Math.abs(W)>X)&&(w.current=null)}),onPointerUp:oe(e.onPointerUp,R=>{const U=_.current,W=R.target;if(W.hasPointerCapture(R.pointerId)&&W.releasePointerCapture(R.pointerId),_.current=null,w.current=null,U){const z=R.currentTarget,L={originalEvent:R,delta:U};eT(U,g.swipeDirection,g.swipeThreshold)?Hg(yJ,p,L,{discrete:!0}):Hg(vJ,h,L,{discrete:!0}),z.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),_J=e=>{const{__scopeToast:t,children:r,...n}=e,i=Ub(Km,t),[a,s]=x.useState(!1),[o,c]=x.useState(!1);return kJ(()=>s(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:l.jsx(Mf,{asChild:!0,children:l.jsx(Bb,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},SJ="ToastTitle",d5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Oe.div,{...n,ref:t})});d5.displayName=SJ;var jJ="ToastDescription",f5=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Oe.div,{...n,ref:t})});f5.displayName=jJ;var h5="ToastAction",p5=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(g5,{altText:r,asChild:!0,children:l.jsx(DC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${h5}\`. Expected non-empty \`string\`.`),null)});p5.displayName=h5;var m5="ToastClose",DC=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=bJ(m5,r);return l.jsx(g5,{asChild:!0,children:l.jsx(Oe.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,i.onClose)})})});DC.displayName=m5;var g5=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return l.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function v5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),NJ(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...v5(n))}}),t}function Hg(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?$C(i,a):i.dispatchEvent(a)}var eT=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function kJ(e=()=>{}){const t=ur(e);yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function NJ(e){return e.nodeType===e.ELEMENT_NODE}function CJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function l_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var EJ=s5,y5=l5,x5=u5,b5=d5,w5=f5,_5=p5,S5=DC;function j5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=j5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=j5(e))&&(n&&(n+=" "),n+=t);return n}const tT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,rT=qe,zb=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return rT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=tT(d)||tT(f);return i[u][h]}),o=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...a,...o}[g]):{...a,...o}[g]===v})?[...u,f,h]:u},[]);return rT(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>x.createElement("svg",{ref:c,...PJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:k5("lucide",i),...o},[...s.map(([u,d])=>x.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const r=x.forwardRef(({className:n,...i},a)=>x.createElement(AJ,{ref:a,iconNode:t,className:k5(`lucide-${OJ(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=pe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=pe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=pe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=pe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=pe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJ=pe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=pe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=pe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=pe("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=pe("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=pe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=pe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=pe("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=pe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=pe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=pe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=pe("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=pe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=pe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=pe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=pe("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VJ=pe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=pe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=pe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=pe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=pe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=pe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=pe("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=pe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=pe("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=pe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=pe("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=pe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=pe("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=pe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=pe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=pe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=pe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=pe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=pe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=pe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=pe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=pe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=pe("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=pe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=pe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=pe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=pe("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=pe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=pe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=pe("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=pe("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),VC="-",oX=e=>{const t=cX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(VC);return o[0]===""&&o.length!==1&&o.shift(),$5(o,t)||lX(s)},getConflictingClassGroupIds:(s,o)=>{const c=r[s]||[];return o&&n[s]?[...c,...n[s]]:c}}},$5=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?$5(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(VC);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},lT=/^\[(.+)\]$/,lX=e=>{if(lT.test(e)){const t=lT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},cX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return dX(Object.entries(e.classGroups),r).forEach(([a,s])=>{qS(s,n,a,t)}),n},qS=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:cT(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(uX(i)){qS(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{qS(s,cT(t,a),r,n)})})},cT=(e,t)=>{let r=e;return t.split(VC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uX=e=>e.isThemeGetter,dX=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([s,o])=>[t+s,o])):a);return[r,i]}):e,fX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},I5="!",hX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,s=o=>{const c=[];let u=0,d=0,f;for(let v=0;v<o.length;v++){let b=o[v];if(u===0){if(b===i&&(n||o.slice(v,v+a)===t)){c.push(o.slice(d,v)),d=v+a;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(I5),m=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}};return r?o=>r({className:o,parseClassName:s}):s},pX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},mX=e=>({cache:fX(e.cacheSize),parseClassName:hX(e),...oX(e)}),gX=/\s+/,vX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],s=e.trim().split(gX);let o="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let m=!!p,g=n(m?h.substring(0,p):h);if(!g){if(!m){o=u+(o.length>0?" "+o:o);continue}if(g=n(h),!g){o=u+(o.length>0?" "+o:o);continue}m=!1}const v=pX(d).join(":"),b=f?v+I5:v,y=b+g;if(a.includes(y))continue;a.push(y);const w=i(g,m);for(let _=0;_<w.length;++_){const S=w[_];a.push(b+S)}o=u+(o.length>0?" "+o:o)}return o};function yX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=R5(t))&&(n&&(n+=" "),n+=r);return n}const R5=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=R5(e[n]))&&(r&&(r+=" "),r+=t);return r};function xX(e,...t){let r,n,i,a=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=mX(u),n=r.cache.get,i=r.cache.set,a=o,o(c)}function o(c){const u=n(c);if(u)return u;const d=vX(c,r);return i(c,d),d}return function(){return a(yX.apply(null,arguments))}}const Bt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},D5=/^\[(?:([a-z-]+):)?(.+)\]$/i,bX=/^\d+\/\d+$/,wX=new Set(["px","full","screen"]),_X=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,kX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ys=e=>dd(e)||wX.has(e)||bX.test(e),xo=e=>Rf(e,"length",$X),dd=e=>!!e&&!Number.isNaN(Number(e)),d_=e=>Rf(e,"number",dd),gh=e=>!!e&&Number.isInteger(Number(e)),CX=e=>e.endsWith("%")&&dd(e.slice(0,-1)),Ze=e=>D5.test(e),bo=e=>_X.test(e),EX=new Set(["length","size","percentage"]),OX=e=>Rf(e,EX,L5),PX=e=>Rf(e,"position",L5),AX=new Set(["image","url"]),TX=e=>Rf(e,AX,RX),MX=e=>Rf(e,"",IX),vh=()=>!0,Rf=(e,t,r)=>{const n=D5.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},$X=e=>SX.test(e)&&!jX.test(e),L5=()=>!1,IX=e=>kX.test(e),RX=e=>NX.test(e),DX=()=>{const e=Bt("colors"),t=Bt("spacing"),r=Bt("blur"),n=Bt("brightness"),i=Bt("borderColor"),a=Bt("borderRadius"),s=Bt("borderSpacing"),o=Bt("borderWidth"),c=Bt("contrast"),u=Bt("grayscale"),d=Bt("hueRotate"),f=Bt("invert"),h=Bt("gap"),p=Bt("gradientColorStops"),m=Bt("gradientColorStopPositions"),g=Bt("inset"),v=Bt("margin"),b=Bt("opacity"),y=Bt("padding"),w=Bt("saturate"),_=Bt("scale"),S=Bt("sepia"),k=Bt("skew"),N=Bt("space"),E=Bt("translate"),P=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ze,t],M=()=>[Ze,t],F=()=>["",ys,xo],R=()=>["auto",dd,Ze],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],W=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",Ze],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[dd,Ze];return{cacheSize:500,separator:":",theme:{colors:[vh],spacing:[ys,xo],blur:["none","",bo,Ze],brightness:te(),borderColor:[e],borderRadius:["none","","full",bo,Ze],borderSpacing:M(),borderWidth:F(),contrast:te(),grayscale:B(),hueRotate:te(),invert:B(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[CX,xo],inset:$(),margin:$(),opacity:te(),padding:M(),saturate:te(),scale:te(),sepia:B(),skew:te(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[bo]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),Ze]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",gh,Ze]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",gh,Ze]}],"grid-cols":[{"grid-cols":[vh]}],"col-start-end":[{col:["auto",{span:["full",gh,Ze]},Ze]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[vh]}],"row-start-end":[{row:["auto",{span:[gh,Ze]},Ze]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,t]}],"min-w":[{"min-w":[Ze,t,"min","max","fit"]}],"max-w":[{"max-w":[Ze,t,"none","full","min","max","fit","prose",{screen:[bo]},bo]}],h:[{h:[Ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bo,xo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",d_]}],"font-family":[{font:[vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",dd,d_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ys,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ys,xo]}],"underline-offset":[{"underline-offset":["auto",ys,Ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),PX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...W(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:W()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...W()]}],"outline-offset":[{"outline-offset":[ys,Ze]}],"outline-w":[{outline:[ys,xo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ys,xo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bo,MX]}],"shadow-color":[{shadow:[vh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bo,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[gh,Ze]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ys,xo,d_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},LX=xX(DX);function me(...e){return LX(qe(e))}const FX=EJ,F5=x.forwardRef(({className:e,...t},r)=>l.jsx(y5,{ref:r,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));F5.displayName=y5.displayName;const BX=zb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),B5=x.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(x5,{ref:n,className:me(BX({variant:t}),e),...r}));B5.displayName=x5.displayName;const UX=x.forwardRef(({className:e,...t},r)=>l.jsx(_5,{ref:r,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));UX.displayName=_5.displayName;const U5=x.forwardRef(({className:e,...t},r)=>l.jsx(S5,{ref:r,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ao,{className:"h-4 w-4"})}));U5.displayName=S5.displayName;const z5=x.forwardRef(({className:e,...t},r)=>l.jsx(b5,{ref:r,className:me("text-sm font-semibold",e),...t}));z5.displayName=b5.displayName;const V5=x.forwardRef(({className:e,...t},r)=>l.jsx(w5,{ref:r,className:me("text-sm opacity-90",e),...t}));V5.displayName=w5.displayName;function zX(){const{toasts:e}=MC();return l.jsxs(FX,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return l.jsxs(B5,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(z5,{children:r}),n&&l.jsx(V5,{children:n})]}),i,l.jsx(U5,{})]},t)}),l.jsx(F5,{})]})}var uT=["light","dark"],VX="(prefers-color-scheme: dark)",WX=x.createContext(void 0),HX={setTheme:e=>{},themes:[]},qX=()=>{var e;return(e=x.useContext(WX))!=null?e:HX};x.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:s,attrs:o,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=i?uT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(m,g=!1,v=!0)=>{let b=s?s[m]:m,y=g?m+"|| ''":`'${b}'`,w="";return i&&v&&!g&&uT.includes(m)&&(w+=`d.style.colorScheme = '${m}';`),r==="class"?g||b?w+=`c.add(${y})`:w+="null":b&&(w+=`d[s](n,${y})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${VX}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(a,!1,!1)};}${f}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var GX=e=>{switch(e){case"success":return JX;case"info":return QX;case"warning":return XX;case"error":return ZX;default:return null}},KX=Array(12).fill(0),YX=({visible:e,className:t})=>A.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},A.createElement("div",{className:"sonner-spinner"},KX.map((r,n)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),JX=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XX=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QX=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZX=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eQ=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),tQ=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},GS=1,rQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:GS++,s=this.toasts.find(c=>c.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),s?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:o,title:n}):c):this.addToast({title:n,...i,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=t instanceof Promise?t:t(),a=n!==void 0,s,o=i.then(async u=>{if(s=["resolve",u],A.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(iQ(u)&&!u.ok){a=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){a=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){a=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;a&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>o.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||GS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},zn=new rQ,nQ=(e,t)=>{let r=(t==null?void 0:t.id)||GS++;return zn.addToast({title:e,...t,id:r}),r},iQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",aQ=nQ,sQ=()=>zn.toasts,oQ=()=>zn.getActiveToasts(),ge=Object.assign(aQ,{success:zn.success,info:zn.info,warning:zn.warning,error:zn.error,custom:zn.custom,message:zn.message,promise:zn.promise,dismiss:zn.dismiss,loading:zn.loading},{getHistory:sQ,getToasts:oQ});function lQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}lQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function qg(e){return e.label!==void 0}var cQ=3,uQ="32px",dQ="16px",dT=4e3,fQ=356,hQ=14,pQ=20,mQ=200;function na(...e){return e.filter(Boolean).join(" ")}function gQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var vQ=e=>{var t,r,n,i,a,s,o,c,u,d,f;let{invert:h,toast:p,unstyled:m,interacting:g,setHeights:v,visibleToasts:b,heights:y,index:w,toasts:_,expanded:S,removeToast:k,defaultRichColors:N,closeButton:E,style:P,cancelButtonStyle:T,actionButtonStyle:$,className:M="",descriptionClassName:F="",duration:R,position:U,gap:W,loadingIcon:z,expandByDefault:L,classNames:B,icons:G,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:X}=e,[j,O]=A.useState(null),[C,D]=A.useState(null),[I,q]=A.useState(!1),[H,K]=A.useState(!1),[Q,Y]=A.useState(!1),[ye,Ae]=A.useState(!1),[tt,nt]=A.useState(!1),[Je,wt]=A.useState(0),[rr,dn]=A.useState(0),V=A.useRef(p.duration||R||dT),J=A.useRef(null),Z=A.useRef(null),ve=w===0,de=w+1<=b,ae=p.type,Ee=p.dismissible!==!1,mt=p.className||"",gt=p.descriptionClassName||"",xr=A.useMemo(()=>y.findIndex(Xe=>Xe.toastId===p.id)||0,[y,p.id]),vs=A.useMemo(()=>{var Xe;return(Xe=p.closeButton)!=null?Xe:E},[p.closeButton,E]),Qi=A.useMemo(()=>p.duration||R||dT,[p.duration,R]),sh=A.useRef(0),La=A.useRef(0),hu=A.useRef(0),po=A.useRef(null),[jg,Aw]=U.split("-"),oh=A.useMemo(()=>y.reduce((Xe,Nt,Gt)=>Gt>=xr?Xe:Xe+Nt.height,0),[y,xr]),DP=tQ(),Q7=p.invert||h,Tw=ae==="loading";La.current=A.useMemo(()=>xr*W+oh,[xr,oh]),A.useEffect(()=>{V.current=Qi},[Qi]),A.useEffect(()=>{q(!0)},[]),A.useEffect(()=>{let Xe=Z.current;if(Xe){let Nt=Xe.getBoundingClientRect().height;return dn(Nt),v(Gt=>[{toastId:p.id,height:Nt,position:p.position},...Gt]),()=>v(Gt=>Gt.filter(Zi=>Zi.toastId!==p.id))}},[v,p.id]),A.useLayoutEffect(()=>{if(!I)return;let Xe=Z.current,Nt=Xe.style.height;Xe.style.height="auto";let Gt=Xe.getBoundingClientRect().height;Xe.style.height=Nt,dn(Gt),v(Zi=>Zi.find(ea=>ea.toastId===p.id)?Zi.map(ea=>ea.toastId===p.id?{...ea,height:Gt}:ea):[{toastId:p.id,height:Gt,position:p.position},...Zi])},[I,p.title,p.description,v,p.id]);let mo=A.useCallback(()=>{K(!0),wt(La.current),v(Xe=>Xe.filter(Nt=>Nt.toastId!==p.id)),setTimeout(()=>{k(p)},mQ)},[p,k,v,La]);A.useEffect(()=>{if(p.promise&&ae==="loading"||p.duration===1/0||p.type==="loading")return;let Xe;return S||g||X&&DP?(()=>{if(hu.current<sh.current){let Nt=new Date().getTime()-sh.current;V.current=V.current-Nt}hu.current=new Date().getTime()})():V.current!==1/0&&(sh.current=new Date().getTime(),Xe=setTimeout(()=>{var Nt;(Nt=p.onAutoClose)==null||Nt.call(p,p),mo()},V.current)),()=>clearTimeout(Xe)},[S,g,p,ae,X,DP,mo]),A.useEffect(()=>{p.delete&&mo()},[mo,p.delete]);function Z7(){var Xe,Nt,Gt;return G!=null&&G.loading?A.createElement("div",{className:na(B==null?void 0:B.loader,(Xe=p==null?void 0:p.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":ae==="loading"},G.loading):z?A.createElement("div",{className:na(B==null?void 0:B.loader,(Nt=p==null?void 0:p.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":ae==="loading"},z):A.createElement(YX,{className:na(B==null?void 0:B.loader,(Gt=p==null?void 0:p.classNames)==null?void 0:Gt.loader),visible:ae==="loading"})}return A.createElement("li",{tabIndex:0,ref:Z,className:na(M,mt,B==null?void 0:B.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[ae],(r=p==null?void 0:p.classNames)==null?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:N,"data-styled":!(p.jsx||p.unstyled||m),"data-mounted":I,"data-promise":!!p.promise,"data-swiped":tt,"data-removed":H,"data-visible":de,"data-y-position":jg,"data-x-position":Aw,"data-index":w,"data-front":ve,"data-swiping":Q,"data-dismissible":Ee,"data-type":ae,"data-invert":Q7,"data-swipe-out":ye,"data-swipe-direction":C,"data-expanded":!!(S||L&&I),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${H?Je:La.current}px`,"--initial-height":L?"auto":`${rr}px`,...P,...p.style},onDragEnd:()=>{Y(!1),O(null),po.current=null},onPointerDown:Xe=>{Tw||!Ee||(J.current=new Date,wt(La.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Y(!0),po.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,Nt,Gt,Zi;if(ye||!Ee)return;po.current=null;let ea=Number(((Xe=Z.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),go=Number(((Nt=Z.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),$l=new Date().getTime()-((Gt=J.current)==null?void 0:Gt.getTime()),ta=j==="x"?ea:go,vo=Math.abs(ta)/$l;if(Math.abs(ta)>=pQ||vo>.11){wt(La.current),(Zi=p.onDismiss)==null||Zi.call(p,p),D(j==="x"?ea>0?"right":"left":go>0?"down":"up"),mo(),Ae(!0),nt(!1);return}Y(!1),O(null)},onPointerMove:Xe=>{var Nt,Gt,Zi,ea;if(!po.current||!Ee||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;let go=Xe.clientY-po.current.y,$l=Xe.clientX-po.current.x,ta=(Gt=e.swipeDirections)!=null?Gt:gQ(U);!j&&(Math.abs($l)>1||Math.abs(go)>1)&&O(Math.abs($l)>Math.abs(go)?"x":"y");let vo={x:0,y:0};j==="y"?(ta.includes("top")||ta.includes("bottom"))&&(ta.includes("top")&&go<0||ta.includes("bottom")&&go>0)&&(vo.y=go):j==="x"&&(ta.includes("left")||ta.includes("right"))&&(ta.includes("left")&&$l<0||ta.includes("right")&&$l>0)&&(vo.x=$l),(Math.abs(vo.x)>0||Math.abs(vo.y)>0)&&nt(!0),(Zi=Z.current)==null||Zi.style.setProperty("--swipe-amount-x",`${vo.x}px`),(ea=Z.current)==null||ea.style.setProperty("--swipe-amount-y",`${vo.y}px`)}},vs&&!p.jsx?A.createElement("button",{"aria-label":te,"data-disabled":Tw,"data-close-button":!0,onClick:Tw||!Ee?()=>{}:()=>{var Xe;mo(),(Xe=p.onDismiss)==null||Xe.call(p,p)},className:na(B==null?void 0:B.closeButton,(i=p==null?void 0:p.classNames)==null?void 0:i.closeButton)},(a=G==null?void 0:G.close)!=null?a:eQ):null,p.jsx||x.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:A.createElement(A.Fragment,null,ae||p.icon||p.promise?A.createElement("div",{"data-icon":"",className:na(B==null?void 0:B.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Z7():null,p.type!=="loading"?p.icon||(G==null?void 0:G[ae])||GX(ae):null):null,A.createElement("div",{"data-content":"",className:na(B==null?void 0:B.content,(o=p==null?void 0:p.classNames)==null?void 0:o.content)},A.createElement("div",{"data-title":"",className:na(B==null?void 0:B.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?A.createElement("div",{"data-description":"",className:na(F,gt,B==null?void 0:B.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),x.isValidElement(p.cancel)?p.cancel:p.cancel&&qg(p.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Xe=>{var Nt,Gt;qg(p.cancel)&&Ee&&((Gt=(Nt=p.cancel).onClick)==null||Gt.call(Nt,Xe),mo())},className:na(B==null?void 0:B.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,x.isValidElement(p.action)?p.action:p.action&&qg(p.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||$,onClick:Xe=>{var Nt,Gt;qg(p.action)&&((Gt=(Nt=p.action).onClick)==null||Gt.call(Nt,Xe),!Xe.defaultPrevented&&mo())},className:na(B==null?void 0:B.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function fT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function yQ(e,t){let r={};return[e,t].forEach((n,i)=>{let a=i===1,s=a?"--mobile-offset":"--offset",o=a?dQ:uQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=o:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var xQ=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:s,className:o,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:m=cQ,toastOptions:g,dir:v=fT(),gap:b=hQ,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[k,N]=A.useState([]),E=A.useMemo(()=>Array.from(new Set([n].concat(k.filter(X=>X.position).map(X=>X.position)))),[k,n]),[P,T]=A.useState([]),[$,M]=A.useState(!1),[F,R]=A.useState(!1),[U,W]=A.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=A.useRef(null),L=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=A.useRef(null),G=A.useRef(!1),te=A.useCallback(X=>{N(j=>{var O;return(O=j.find(C=>C.id===X.id))!=null&&O.delete||zn.dismiss(X.id),j.filter(({id:C})=>C!==X.id)})},[]);return A.useEffect(()=>zn.subscribe(X=>{if(X.dismiss){N(j=>j.map(O=>O.id===X.id?{...O,delete:!0}:O));return}setTimeout(()=>{Z3.flushSync(()=>{N(j=>{let O=j.findIndex(C=>C.id===X.id);return O!==-1?[...j.slice(0,O),{...j[O],...X},...j.slice(O+1)]:[X,...j]})})})}),[]),A.useEffect(()=>{if(d!=="system"){W(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:j})=>{W(j?"dark":"light")})}catch{X.addListener(({matches:O})=>{try{W(O?"dark":"light")}catch(C){console.error(C)}})}},[d]),A.useEffect(()=>{k.length<=1&&M(!1)},[k]),A.useEffect(()=>{let X=j=>{var O,C;i.every(D=>j[D]||j.code===D)&&(M(!0),(O=z.current)==null||O.focus()),j.code==="Escape"&&(document.activeElement===z.current||(C=z.current)!=null&&C.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),A.useEffect(()=>{if(z.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,G.current=!1)}},[z.current]),A.createElement("section",{ref:t,"aria-label":`${_} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((X,j)=>{var O;let[C,D]=X.split("-");return k.length?A.createElement("ol",{key:X,dir:v==="auto"?fT():v,tabIndex:-1,ref:z,className:o,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":C,"data-lifted":$&&k.length>1&&!a,"data-x-position":D,style:{"--front-toast-height":`${((O=P[0])==null?void 0:O.height)||0}px`,"--width":`${fQ}px`,"--gap":`${b}px`,...p,...yQ(c,u)},onBlur:I=>{G.current&&!I.currentTarget.contains(I.relatedTarget)&&(G.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||G.current||(G.current=!0,B.current=I.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{F||M(!1)},onDragEnd:()=>M(!1),onPointerDown:I=>{I.target instanceof HTMLElement&&I.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},k.filter(I=>!I.position&&j===0||I.position===X).map((I,q)=>{var H,K;return A.createElement(vQ,{key:I.id,icons:w,index:q,toast:I,defaultRichColors:f,duration:(H=g==null?void 0:g.duration)!=null?H:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:m,closeButton:(K=g==null?void 0:g.closeButton)!=null?K:s,interacting:F,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:te,toasts:k.filter(Q=>Q.position==I.position),heights:P.filter(Q=>Q.position==I.position),setHeights:T,expandByDefault:a,gap:b,loadingIcon:y,expanded:$,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const bQ=({...e})=>{const{theme:t="system"}=qX();return l.jsx(xQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var wQ=Sb[" useId ".trim().toString()]||(()=>{}),_Q=0;function ja(e){const[t,r]=x.useState(wQ());return yr(()=>{r(n=>n??String(_Q++))},[e]),t?`radix-${t}`:""}const SQ=["top","right","bottom","left"],dl=Math.min,ui=Math.max,Ty=Math.round,Gg=Math.floor,ns=e=>({x:e,y:e}),jQ={left:"right",right:"left",bottom:"top",top:"bottom"},kQ={start:"end",end:"start"};function KS(e,t,r){return ui(e,dl(t,r))}function Ys(e,t){return typeof e=="function"?e(t):e}function Js(e){return e.split("-")[0]}function Df(e){return e.split("-")[1]}function WC(e){return e==="x"?"y":"x"}function HC(e){return e==="y"?"height":"width"}const NQ=new Set(["top","bottom"]);function Ya(e){return NQ.has(Js(e))?"y":"x"}function qC(e){return WC(Ya(e))}function CQ(e,t,r){r===void 0&&(r=!1);const n=Df(e),i=qC(e),a=HC(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(s=My(s)),[s,My(s)]}function EQ(e){const t=My(e);return[YS(e),t,YS(t)]}function YS(e){return e.replace(/start|end/g,t=>kQ[t])}const hT=["left","right"],pT=["right","left"],OQ=["top","bottom"],PQ=["bottom","top"];function AQ(e,t,r){switch(e){case"top":case"bottom":return r?t?pT:hT:t?hT:pT;case"left":case"right":return t?OQ:PQ;default:return[]}}function TQ(e,t,r,n){const i=Df(e);let a=AQ(Js(e),r==="start",n);return i&&(a=a.map(s=>s+"-"+i),t&&(a=a.concat(a.map(YS)))),a}function My(e){return e.replace(/left|right|bottom|top/g,t=>jQ[t])}function MQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function W5(e){return typeof e!="number"?MQ(e):{top:e,right:e,bottom:e,left:e}}function $y(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function mT(e,t,r){let{reference:n,floating:i}=e;const a=Ya(t),s=qC(t),o=HC(s),c=Js(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[o]/2-i[o]/2;let p;switch(c){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-i.width,y:f};break;default:p={x:n.x,y:n.y}}switch(Df(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const $Q=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:s}=r,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=mT(u,n,c),h=n,p={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:b}=o[g],{x:y,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=y??d,f=w??f,p={...p,[v]:{...p[v],..._}},S&&m<=50&&(m++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:f}=mT(u,h,c)),g=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:p}};async function Mp(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:s,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Ys(t,e),m=W5(p),v=o[h?f==="floating"?"reference":"floating":f],b=$y(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=$y(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-S.top+m.top)/_.y,bottom:(S.bottom-b.bottom+m.bottom)/_.y,left:(b.left-S.left+m.left)/_.x,right:(S.right-b.right+m.right)/_.x}}const IQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Ys(e,t)||{};if(u==null)return{};const f=W5(d),h={x:r,y:n},p=qC(i),m=HC(p),g=await s.getDimensions(u),v=p==="y",b=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=a.reference[m]+a.reference[p]-h[p]-a.floating[m],S=h[p]-a.reference[p],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let N=k?k[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(k)))&&(N=o.floating[w]||a.floating[m]);const E=_/2-S/2,P=N/2-g[m]/2-1,T=dl(f[b],P),$=dl(f[y],P),M=T,F=N-g[m]-$,R=N/2-g[m]/2+E,U=KS(M,R,F),W=!c.arrow&&Df(i)!=null&&R!==U&&a.reference[m]/2-(R<M?T:$)-g[m]/2<0,z=W?R<M?R-M:R-F:0;return{[p]:h[p]+z,data:{[p]:U,centerOffset:R-U-z,...W&&{alignmentOffset:z}},reset:W}}}),RQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=Ys(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Js(i),y=Ya(o),w=Js(o)===o,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!g?[My(o)]:EQ(o)),k=m!=="none";!h&&k&&S.push(...TQ(o,g,m,_));const N=[o,...S],E=await Mp(t,v),P=[];let T=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[b]),f){const R=CQ(i,s,_);P.push(E[R[0]],E[R[1]])}if(T=[...T,{placement:i,overflows:P}],!P.every(R=>R<=0)){var $,M;const R=((($=a.flip)==null?void 0:$.index)||0)+1,U=N[R];if(U&&(!(f==="alignment"?y!==Ya(U):!1)||T.every(L=>Ya(L.placement)===y?L.overflows[0]>0:!0)))return{data:{index:R,overflows:T},reset:{placement:U}};let W=(M=T.filter(z=>z.overflows[0]<=0).sort((z,L)=>z.overflows[1]-L.overflows[1])[0])==null?void 0:M.placement;if(!W)switch(p){case"bestFit":{var F;const z=(F=T.filter(L=>{if(k){const B=Ya(L.placement);return B===y||B==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((L,B)=>L[1]-B[1])[0])==null?void 0:F[0];z&&(W=z);break}case"initialPlacement":W=o;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function gT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vT(e){return SQ.some(t=>e[t]>=0)}const DQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ys(e,t);switch(n){case"referenceHidden":{const a=await Mp(t,{...i,elementContext:"reference"}),s=gT(a,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:vT(s)}}}case"escaped":{const a=await Mp(t,{...i,altBoundary:!0}),s=gT(a,r.floating);return{data:{escapedOffsets:s,escaped:vT(s)}}}default:return{}}}}},H5=new Set(["left","top"]);async function LQ(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Js(r),o=Df(r),c=Ya(r)==="y",u=H5.has(s)?-1:1,d=a&&c?-1:1,f=Ys(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const FQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:s,middlewareData:o}=t,c=await LQ(t,e);return s===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},BQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...c}=Ys(e,t),u={x:r,y:n},d=await Mp(t,c),f=Ya(Js(i)),h=WC(f);let p=u[h],m=u[f];if(a){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=p+d[v],w=p-d[b];p=KS(y,p,w)}if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+d[v],w=m-d[b];m=KS(y,m,w)}const g=o.fn({...t,[h]:p,[f]:m});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[h]:a,[f]:s}}}}}},UQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:s}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Ys(e,t),d={x:r,y:n},f=Ya(i),h=WC(f);let p=d[h],m=d[f];const g=Ys(o,t),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=h==="y"?"height":"width",_=a.reference[h]-a.floating[w]+v.mainAxis,S=a.reference[h]+a.reference[w]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var b,y;const w=h==="y"?"width":"height",_=H5.has(Js(i)),S=a.reference[f]-a.floating[w]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),k=a.reference[f]+a.reference[w]+(_?0:((y=s.offset)==null?void 0:y[f])||0)-(_?v.crossAxis:0);m<S?m=S:m>k&&(m=k)}return{[h]:p,[f]:m}}}},zQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:c=()=>{},...u}=Ys(e,t),d=await Mp(t,u),f=Js(i),h=Df(i),p=Ya(i)==="y",{width:m,height:g}=a.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const y=g-d.top-d.bottom,w=m-d.left-d.right,_=dl(g-d[v],y),S=dl(m-d[b],w),k=!t.middlewareData.shift;let N=_,E=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),k&&!h){const T=ui(d.left,0),$=ui(d.right,0),M=ui(d.top,0),F=ui(d.bottom,0);p?E=m-2*(T!==0||$!==0?T+$:ui(d.left,d.right)):N=g-2*(M!==0||F!==0?M+F:ui(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const P=await s.getDimensions(o.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function Vb(){return typeof window<"u"}function Lf(e){return q5(e)?(e.nodeName||"").toLowerCase():"#document"}function yi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(q5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q5(e){return Vb()?e instanceof Node||e instanceof yi(e).Node:!1}function Oa(e){return Vb()?e instanceof Element||e instanceof yi(e).Element:!1}function ls(e){return Vb()?e instanceof HTMLElement||e instanceof yi(e).HTMLElement:!1}function yT(e){return!Vb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof yi(e).ShadowRoot}const VQ=new Set(["inline","contents"]);function Xm(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!VQ.has(i)}const WQ=new Set(["table","td","th"]);function HQ(e){return WQ.has(Lf(e))}const qQ=[":popover-open",":modal"];function Wb(e){return qQ.some(t=>{try{return e.matches(t)}catch{return!1}})}const GQ=["transform","translate","scale","rotate","perspective"],KQ=["transform","translate","scale","rotate","perspective","filter"],YQ=["paint","layout","strict","content"];function GC(e){const t=KC(),r=Oa(e)?Pa(e):e;return GQ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||KQ.some(n=>(r.willChange||"").includes(n))||YQ.some(n=>(r.contain||"").includes(n))}function JQ(e){let t=fl(e);for(;ls(t)&&!Ud(t);){if(GC(t))return t;if(Wb(t))return null;t=fl(t)}return null}function KC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const XQ=new Set(["html","body","#document"]);function Ud(e){return XQ.has(Lf(e))}function Pa(e){return yi(e).getComputedStyle(e)}function Hb(e){return Oa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fl(e){if(Lf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yT(e)&&e.host||fs(e);return yT(t)?t.host:t}function G5(e){const t=fl(e);return Ud(t)?e.ownerDocument?e.ownerDocument.body:e.body:ls(t)&&Xm(t)?t:G5(t)}function $p(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=G5(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),s=yi(i);if(a){const o=JS(s);return t.concat(s,s.visualViewport||[],Xm(i)?i:[],o&&r?$p(o):[])}return t.concat(i,$p(i,[],r))}function JS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function K5(e){const t=Pa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=ls(e),a=i?e.offsetWidth:r,s=i?e.offsetHeight:n,o=Ty(r)!==a||Ty(n)!==s;return o&&(r=a,n=s),{width:r,height:n,$:o}}function YC(e){return Oa(e)?e:e.contextElement}function fd(e){const t=YC(e);if(!ls(t))return ns(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=K5(t);let s=(a?Ty(r.width):r.width)/n,o=(a?Ty(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const QQ=ns(0);function Y5(e){const t=yi(e);return!KC()||!t.visualViewport?QQ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ZQ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==yi(e)?!1:t}function Tc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=YC(e);let s=ns(1);t&&(n?Oa(n)&&(s=fd(n)):s=fd(e));const o=ZQ(a,r,n)?Y5(a):ns(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(a){const h=yi(a),p=n&&Oa(n)?yi(n):n;let m=h,g=JS(m);for(;g&&n&&p!==m;){const v=fd(g),b=g.getBoundingClientRect(),y=Pa(g),w=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,_=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,m=yi(g),g=JS(m)}}return $y({width:d,height:f,x:c,y:u})}function qb(e,t){const r=Hb(e).scrollLeft;return t?t.left+r:Tc(fs(e)).left+r}function J5(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-qb(e,r),i=r.top+t.scrollTop;return{x:n,y:i}}function eZ(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",s=fs(n),o=t?Wb(t.floating):!1;if(n===s||o&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ns(1);const d=ns(0),f=ls(n);if((f||!f&&!a)&&((Lf(n)!=="body"||Xm(s))&&(c=Hb(n)),ls(n))){const p=Tc(n);u=fd(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!a?J5(s,c):ns(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function tZ(e){return Array.from(e.getClientRects())}function rZ(e){const t=fs(e),r=Hb(e),n=e.ownerDocument.body,i=ui(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=ui(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+qb(e);const o=-r.scrollTop;return Pa(n).direction==="rtl"&&(s+=ui(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:s,y:o}}const xT=25;function nZ(e,t){const r=yi(e),n=fs(e),i=r.visualViewport;let a=n.clientWidth,s=n.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const d=KC();(!d||d&&t==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=qb(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,m=Math.abs(n.clientWidth-f.clientWidth-p);m<=xT&&(a-=m)}else u<=xT&&(a+=u);return{width:a,height:s,x:o,y:c}}const iZ=new Set(["absolute","fixed"]);function aZ(e,t){const r=Tc(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=ls(e)?fd(e):ns(1),s=e.clientWidth*a.x,o=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:s,height:o,x:c,y:u}}function bT(e,t,r){let n;if(t==="viewport")n=nZ(e,r);else if(t==="document")n=rZ(fs(e));else if(Oa(t))n=aZ(t,r);else{const i=Y5(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $y(n)}function X5(e,t){const r=fl(e);return r===t||!Oa(r)||Ud(r)?!1:Pa(r).position==="fixed"||X5(r,t)}function sZ(e,t){const r=t.get(e);if(r)return r;let n=$p(e,[],!1).filter(o=>Oa(o)&&Lf(o)!=="body"),i=null;const a=Pa(e).position==="fixed";let s=a?fl(e):e;for(;Oa(s)&&!Ud(s);){const o=Pa(s),c=GC(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&iZ.has(i.position)||Xm(s)&&!c&&X5(e,s))?n=n.filter(d=>d!==s):i=o,s=fl(s)}return t.set(e,n),n}function oZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const s=[...r==="clippingAncestors"?Wb(t)?[]:sZ(t,this._c):[].concat(r),n],o=s[0],c=s.reduce((u,d)=>{const f=bT(t,d,i);return u.top=ui(f.top,u.top),u.right=dl(f.right,u.right),u.bottom=dl(f.bottom,u.bottom),u.left=ui(f.left,u.left),u},bT(t,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lZ(e){const{width:t,height:r}=K5(e);return{width:t,height:r}}function cZ(e,t,r){const n=ls(t),i=fs(t),a=r==="fixed",s=Tc(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const c=ns(0);function u(){c.x=qb(i)}if(n||!n&&!a)if((Lf(t)!=="body"||Xm(i))&&(o=Hb(t)),n){const p=Tc(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?J5(i,o):ns(0),f=s.left+o.scrollLeft-c.x-d.x,h=s.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function f_(e){return Pa(e).position==="static"}function wT(e,t){if(!ls(e)||Pa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fs(e)===r&&(r=r.ownerDocument.body),r}function Q5(e,t){const r=yi(e);if(Wb(e))return r;if(!ls(e)){let i=fl(e);for(;i&&!Ud(i);){if(Oa(i)&&!f_(i))return i;i=fl(i)}return r}let n=wT(e,t);for(;n&&HQ(n)&&f_(n);)n=wT(n,t);return n&&Ud(n)&&f_(n)&&!GC(n)?r:n||JQ(e)||r}const uZ=async function(e){const t=this.getOffsetParent||Q5,r=this.getDimensions,n=await r(e.floating);return{reference:cZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dZ(e){return Pa(e).direction==="rtl"}const fZ={convertOffsetParentRelativeRectToViewportRelativeRect:eZ,getDocumentElement:fs,getClippingRect:oZ,getOffsetParent:Q5,getElementRects:uZ,getClientRects:tZ,getDimensions:lZ,getScale:fd,isElement:Oa,isRTL:dZ};function Z5(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hZ(e,t){let r=null,n;const i=fs(e);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const m=Gg(f),g=Gg(i.clientWidth-(d+h)),v=Gg(i.clientHeight-(f+p)),b=Gg(d),w={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:ui(0,dl(1,c))||1};let _=!0;function S(k){const N=k[0].intersectionRatio;if(N!==c){if(!_)return s();N?s(!1,N):n=setTimeout(()=>{s(!1,1e-7)},1e3)}N===1&&!Z5(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(S,{...w,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return s(!0),a}function pZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=YC(e),d=i||a?[...u?$p(u):[],...$p(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&o?hZ(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let m,g=c?Tc(e):null;c&&v();function v(){const b=Tc(e);g&&!Z5(g,b)&&r(),g=b,m=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(m)}}const mZ=FQ,gZ=BQ,vZ=RQ,yZ=zQ,xZ=DQ,_T=IQ,bZ=UQ,wZ=(e,t,r)=>{const n=new Map,i={platform:fZ,...r},a={...i.platform,_c:n};return $Q(e,t,{...i,platform:a})};var _Z=typeof document<"u",SZ=function(){},Xv=_Z?x.useLayoutEffect:SZ;function Iy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Iy(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Iy(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function eB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ST(e,t){const r=eB(e);return Math.round(t*r)/r}function h_(e){const t=x.useRef(e);return Xv(()=>{t.current=e}),t}function jZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:s}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=x.useState(n);Iy(h,n)||p(n);const[m,g]=x.useState(null),[v,b]=x.useState(null),y=x.useCallback(L=>{L!==k.current&&(k.current=L,g(L))},[]),w=x.useCallback(L=>{L!==N.current&&(N.current=L,b(L))},[]),_=a||m,S=s||v,k=x.useRef(null),N=x.useRef(null),E=x.useRef(d),P=c!=null,T=h_(c),$=h_(i),M=h_(u),F=x.useCallback(()=>{if(!k.current||!N.current)return;const L={placement:t,strategy:r,middleware:h};$.current&&(L.platform=$.current),wZ(k.current,N.current,L).then(B=>{const G={...B,isPositioned:M.current!==!1};R.current&&!Iy(E.current,G)&&(E.current=G,Xc.flushSync(()=>{f(G)}))})},[h,t,r,$,M]);Xv(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[u]);const R=x.useRef(!1);Xv(()=>(R.current=!0,()=>{R.current=!1}),[]),Xv(()=>{if(_&&(k.current=_),S&&(N.current=S),_&&S){if(T.current)return T.current(_,S,F);F()}},[_,S,F,T,P]);const U=x.useMemo(()=>({reference:k,floating:N,setReference:y,setFloating:w}),[y,w]),W=x.useMemo(()=>({reference:_,floating:S}),[_,S]),z=x.useMemo(()=>{const L={position:r,left:0,top:0};if(!W.floating)return L;const B=ST(W.floating,d.x),G=ST(W.floating,d.y);return o?{...L,transform:"translate("+B+"px, "+G+"px)",...eB(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:G}},[r,o,W.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:F,refs:U,elements:W,floatingStyles:z}),[d,F,U,W,z])}const kZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?_T({element:n.current,padding:i}).fn(r):{}:n?_T({element:n,padding:i}).fn(r):{}}}},NZ=(e,t)=>({...mZ(e),options:[e,t]}),CZ=(e,t)=>({...gZ(e),options:[e,t]}),EZ=(e,t)=>({...bZ(e),options:[e,t]}),OZ=(e,t)=>({...vZ(e),options:[e,t]}),PZ=(e,t)=>({...yZ(e),options:[e,t]}),AZ=(e,t)=>({...xZ(e),options:[e,t]}),TZ=(e,t)=>({...kZ(e),options:[e,t]});var MZ="Arrow",tB=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return l.jsx(Oe.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});tB.displayName=MZ;var $Z=tB;function Gb(e){const[t,r]=x.useState(void 0);return yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let s,o;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,o=u.blockSize}else s=e.offsetWidth,o=e.offsetHeight;r({width:s,height:o})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var JC="Popper",[rB,bl]=un(JC),[IZ,nB]=rB(JC),iB=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return l.jsx(IZ,{scope:t,anchor:n,onAnchorChange:i,children:r})};iB.displayName=JC;var aB="PopperAnchor",sB=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=nB(aB,r),s=x.useRef(null),o=ze(t,s),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:l.jsx(Oe.div,{...i,ref:o})});sB.displayName=aB;var XC="PopperContent",[RZ,DZ]=rB(XC),oB=x.forwardRef((e,t)=>{var I,q,H,K,Q,Y;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,v=nB(XC,r),[b,y]=x.useState(null),w=ze(t,ye=>y(ye)),[_,S]=x.useState(null),k=Gb(_),N=(k==null?void 0:k.width)??0,E=(k==null?void 0:k.height)??0,P=n+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],M=$.length>0,F={padding:T,boundary:$.filter(FZ),altBoundary:M},{refs:R,floatingStyles:U,placement:W,isPositioned:z,middlewareData:L}=jZ({strategy:"fixed",placement:P,whileElementsMounted:(...ye)=>pZ(...ye,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[NZ({mainAxis:i+E,alignmentAxis:s}),c&&CZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?EZ():void 0,...F}),c&&OZ({...F}),PZ({...F,apply:({elements:ye,rects:Ae,availableWidth:tt,availableHeight:nt})=>{const{width:Je,height:wt}=Ae.reference,rr=ye.floating.style;rr.setProperty("--radix-popper-available-width",`${tt}px`),rr.setProperty("--radix-popper-available-height",`${nt}px`),rr.setProperty("--radix-popper-anchor-width",`${Je}px`),rr.setProperty("--radix-popper-anchor-height",`${wt}px`)}}),_&&TZ({element:_,padding:o}),BZ({arrowWidth:N,arrowHeight:E}),h&&AZ({strategy:"referenceHidden",...F})]}),[B,G]=uB(W),te=ur(m);yr(()=>{z&&(te==null||te())},[z,te]);const X=(I=L.arrow)==null?void 0:I.x,j=(q=L.arrow)==null?void 0:q.y,O=((H=L.arrow)==null?void 0:H.centerOffset)!==0,[C,D]=x.useState();return yr(()=>{b&&D(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:z?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:C,"--radix-popper-transform-origin":[(K=L.transformOrigin)==null?void 0:K.x,(Q=L.transformOrigin)==null?void 0:Q.y].join(" "),...((Y=L.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(RZ,{scope:r,placedSide:B,onArrowChange:S,arrowX:X,arrowY:j,shouldHideArrow:O,children:l.jsx(Oe.div,{"data-side":B,"data-align":G,...g,ref:w,style:{...g.style,animation:z?void 0:"none"}})})})});oB.displayName=XC;var lB="PopperArrow",LZ={top:"bottom",right:"left",bottom:"top",left:"right"},cB=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=DZ(lB,n),s=LZ[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx($Z,{...i,ref:r,style:{...i.style,display:"block"}})})});cB.displayName=lB;function FZ(e){return e!==null}var BZ=e=>({name:"transformOrigin",options:e,fn(t){var v,b,y;const{placement:r,rects:n,middlewareData:i}=t,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=uB(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let m="",g="";return u==="bottom"?(m=s?f:`${h}px`,g=`${-c}px`):u==="top"?(m=s?f:`${h}px`,g=`${n.floating.height+c}px`):u==="right"?(m=`${-c}px`,g=s?f:`${p}px`):u==="left"&&(m=`${n.floating.width+c}px`,g=s?f:`${p}px`),{data:{x:m,y:g}}}});function uB(e){const[t,r="center"]=e.split("-");return[t,r]}var QC=iB,Qm=sB,Kb=oB,Yb=cB,UZ=Symbol("radix.slottable");function zZ(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=UZ,t}var[Jb]=un("Tooltip",[bl]),ZC=bl(),dB="TooltipProvider",VZ=700,jT="tooltip.open",[WZ,fB]=Jb(dB),hB=e=>{const{__scopeTooltip:t,delayDuration:r=VZ,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,s=x.useRef(!0),o=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(WZ,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:x.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:a})};hB.displayName=dB;var pB="Tooltip",[P6e,Xb]=Jb(pB),XS="TooltipTrigger",HZ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=Xb(XS,r),a=fB(XS,r),s=ZC(r),o=x.useRef(null),c=ze(t,o,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Qm,{asChild:!0,...s,children:l.jsx(Oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:oe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:oe(e.onBlur,i.onClose),onClick:oe(e.onClick,i.onClose)})})});HZ.displayName=XS;var qZ="TooltipPortal",[A6e,GZ]=Jb(qZ,{forceMount:void 0}),zd="TooltipContent",mB=x.forwardRef((e,t)=>{const r=GZ(zd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,s=Xb(zd,e.__scopeTooltip);return l.jsx(Fr,{present:n||s.open,children:s.disableHoverableContent?l.jsx(gB,{side:i,...a,ref:t}):l.jsx(KZ,{side:i,...a,ref:t})})}),KZ=x.forwardRef((e,t)=>{const r=Xb(zd,e.__scopeTooltip),n=fB(zd,e.__scopeTooltip),i=x.useRef(null),a=ze(t,i),[s,o]=x.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=x.useCallback(()=>{o(null),f(!1)},[f]),p=x.useCallback((m,g)=>{const v=m.currentTarget,b={x:m.clientX,y:m.clientY},y=ZZ(b,v.getBoundingClientRect()),w=eee(b,y),_=tee(g.getBoundingClientRect()),S=nee([...w,..._]);o(S),f(!0)},[f]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&d){const m=v=>p(v,d),g=v=>p(v,c);return c.addEventListener("pointerleave",m),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",m),d.removeEventListener("pointerleave",g)}}},[c,d,p,h]),x.useEffect(()=>{if(s){const m=g=>{const v=g.target,b={x:g.clientX,y:g.clientY},y=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!ree(b,s);y?h():w&&(h(),u())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[c,d,s,u,h]),l.jsx(gB,{...e,ref:a})}),[YZ,JZ]=Jb(pB,{isInside:!1}),XZ=zZ("TooltipContent"),gB=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...o}=e,c=Xb(zd,r),u=ZC(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(jT,d),()=>document.removeEventListener(jT,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Kb,{"data-state":c.stateAttribute,...u,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(XZ,{children:n}),l.jsx(YZ,{scope:r,isInside:!0,children:l.jsx(uJ,{id:c.contentId,role:"tooltip",children:i||n})})]})})});mB.displayName=zd;var vB="TooltipArrow",QZ=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=ZC(r);return JZ(vB,r).isInside?null:l.jsx(Yb,{...i,...n,ref:t})});QZ.displayName=vB;function ZZ(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function eee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function tee(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function ree(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function nee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),iee(t)}function iee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],s=t[t.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],s=r[r.length-2];if((a.x-s.x)*(i.y-s.y)>=(a.y-s.y)*(i.x-s.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var aee=hB,yB=mB;const see=aee,oee=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(yB,{ref:n,sideOffset:t,className:me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));oee.displayName=yB.displayName;var Qb=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},lee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Lo,LN,T4,cee=(T4=class{constructor(){ot(this,Lo,lee);ot(this,LN,!1)}setTimeoutProvider(e){We(this,Lo,e)}setTimeout(e,t){return ne(this,Lo).setTimeout(e,t)}clearTimeout(e){ne(this,Lo).clearTimeout(e)}setInterval(e,t){return ne(this,Lo).setInterval(e,t)}clearInterval(e){ne(this,Lo).clearInterval(e)}},Lo=new WeakMap,LN=new WeakMap,T4),QS=new cee;function uee(e){setTimeout(e,0)}var Zb=typeof window>"u"||"Deno"in globalThis;function ua(){}function dee(e,t){return typeof e=="function"?e(t):e}function fee(e){return typeof e=="number"&&e>=0&&e!==1/0}function hee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ZS(e,t){return typeof e=="function"?e(t):e}function pee(e,t){return typeof e=="function"?e(t):e}function kT(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:s,stale:o}=e;if(s){if(n){if(t.queryHash!==eE(s,t.options))return!1}else if(!Rp(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||a&&!a(t))}function NT(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ip(t.options.mutationKey)!==Ip(a))return!1}else if(!Rp(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function eE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ip)(e)}function Ip(e){return JSON.stringify(e,(t,r)=>ej(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Rp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rp(e[r],t[r])):!1}var mee=Object.prototype.hasOwnProperty;function xB(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=CT(e)&&CT(t);if(!n&&!(ej(e)&&ej(t)))return t;const a=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,c=n?new Array(o):{};let u=0;for(let d=0;d<o;d++){const f=n?d:s[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<a:mee.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const m=xB(h,p,r+1);c[f]=m,m===h&&u++}return a===o&&u===a?e:c}function CT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ej(e){if(!ET(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ET(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ET(e){return Object.prototype.toString.call(e)==="[object Object]"}function gee(e){return new Promise(t=>{QS.setTimeout(t,e)})}function vee(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?xB(e,t):t}function yee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function xee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var tE=Symbol();function bB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===tE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bee(e,t,r){let n=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??(i=t()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),e}var fc,Fo,_d,M4,wee=(M4=class extends Qb{constructor(){super();ot(this,fc);ot(this,Fo);ot(this,_d);We(this,_d,t=>{if(!Zb&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ne(this,Fo)||this.setEventListener(ne(this,_d))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Fo))==null||t.call(this),We(this,Fo,void 0))}setEventListener(t){var r;We(this,_d,t),(r=ne(this,Fo))==null||r.call(this),We(this,Fo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ne(this,fc)!==t&&(We(this,fc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ne(this,fc)=="boolean"?ne(this,fc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fc=new WeakMap,Fo=new WeakMap,_d=new WeakMap,M4),wB=new wee;function _ee(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}var See=uee;function jee(){let e=[],t=0,r=o=>{o()},n=o=>{o()},i=See;const a=o=>{t?e.push(o):i(()=>{r(o)})},s=()=>{const o=e;e=[],o.length&&i(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||s()}return c},batchCalls:o=>(...c)=>{a(()=>{o(...c)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var An=jee(),Sd,Bo,jd,$4,kee=($4=class extends Qb{constructor(){super();ot(this,Sd,!0);ot(this,Bo);ot(this,jd);We(this,jd,t=>{if(!Zb&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ne(this,Bo)||this.setEventListener(ne(this,jd))}onUnsubscribe(){var t;this.hasListeners()||((t=ne(this,Bo))==null||t.call(this),We(this,Bo,void 0))}setEventListener(t){var r;We(this,jd,t),(r=ne(this,Bo))==null||r.call(this),We(this,Bo,t(this.setOnline.bind(this)))}setOnline(t){ne(this,Sd)!==t&&(We(this,Sd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ne(this,Sd)}},Sd=new WeakMap,Bo=new WeakMap,jd=new WeakMap,$4),Ry=new kee;function Nee(e){return Math.min(1e3*2**e,3e4)}function _B(e){return(e??"online")==="online"?Ry.isOnline():!0}var tj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function SB(e){let t=!1,r=0,n;const i=_ee(),a=()=>i.status!=="pending",s=g=>{var v;if(!a()){const b=new tj(g);h(b),(v=e.onCancel)==null||v.call(e,b)}},o=()=>{t=!0},c=()=>{t=!1},u=()=>wB.isFocused()&&(e.networkMode==="always"||Ry.isOnline())&&e.canRun(),d=()=>_B(e.networkMode)&&e.canRun(),f=g=>{a()||(n==null||n(),i.resolve(g))},h=g=>{a()||(n==null||n(),i.reject(g))},p=()=>new Promise(g=>{var v;n=b=>{(a()||u())&&g(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),m=()=>{if(a())return;let g;const v=r===0?e.initialPromise:void 0;try{g=v??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var k;if(a())return;const y=e.retry??(Zb?0:3),w=e.retryDelay??Nee,_=typeof w=="function"?w(r,b):w,S=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!S){h(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),gee(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):m()})})};return{promise:i,status:()=>i.status,cancel:s,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?m():p().then(m),i)}}var hc,I4,jB=(I4=class{constructor(){ot(this,hc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fee(this.gcTime)&&We(this,hc,QS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zb?1/0:5*60*1e3))}clearGcTimeout(){ne(this,hc)&&(QS.clearTimeout(ne(this,hc)),We(this,hc,void 0))}},hc=new WeakMap,I4),pc,kd,Ti,mc,Ur,Bm,gc,fa,Ss,R4,Cee=(R4=class extends jB{constructor(t){super();ot(this,fa);ot(this,pc);ot(this,kd);ot(this,Ti);ot(this,mc);ot(this,Ur);ot(this,Bm);ot(this,gc);We(this,gc,!1),We(this,Bm,t.defaultOptions),this.setOptions(t.options),this.observers=[],We(this,mc,t.client),We(this,Ti,ne(this,mc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,We(this,pc,PT(this.options)),this.state=t.state??ne(this,pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ne(this,Ur))==null?void 0:t.promise}setOptions(t){if(this.options={...ne(this,Bm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=PT(this.options);r.data!==void 0&&(this.setState(OT(r.data,r.dataUpdatedAt)),We(this,pc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Ti).remove(this)}setData(t,r){const n=vee(this.state.data,t,this.options);return fn(this,fa,Ss).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){fn(this,fa,Ss).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=ne(this,Ur))==null?void 0:n.promise;return(i=ne(this,Ur))==null||i.cancel(t),r?r.then(ua).catch(ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,pc))}isActive(){return this.observers.some(t=>pee(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ZS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hee(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Ur))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ne(this,Ur))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ne(this,Ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ne(this,Ur)&&(ne(this,gc)?ne(this,Ur).cancel({revert:!0}):ne(this,Ur).cancelRetry()),this.scheduleGc()),ne(this,Ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||fn(this,fa,Ss).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,m,g,v,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=ne(this,Ur))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ne(this,Ur))return ne(this,Ur).continueRetry(),ne(this,Ur).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,i=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(We(this,gc,!0),n.signal)})},a=()=>{const _=bB(this.options,r),k=(()=>{const N={client:ne(this,mc),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return We(this,gc,!1),this.options.persister?this.options.persister(_,k,this):_(k)},o=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ne(this,mc),state:this.state,fetchFn:a};return i(_),_})();(u=this.options.behavior)==null||u.onFetch(o,this),We(this,kd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&fn(this,fa,Ss).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta}),We(this,Ur,SB({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:_=>{_ instanceof tj&&_.revert&&this.setState({...ne(this,kd),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{fn(this,fa,Ss).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{fn(this,fa,Ss).call(this,{type:"pause"})},onContinue:()=>{fn(this,fa,Ss).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const _=await ne(this,Ur).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=ne(this,Ti).config).onSuccess)==null||p.call(h,_,this),(g=(m=ne(this,Ti).config).onSettled)==null||g.call(m,_,this.state.error,this),_}catch(_){if(_ instanceof tj){if(_.silent)return ne(this,Ur).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw fn(this,fa,Ss).call(this,{type:"error",error:_}),(b=(v=ne(this,Ti).config).onError)==null||b.call(v,_,this),(w=(y=ne(this,Ti).config).onSettled)==null||w.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},pc=new WeakMap,kd=new WeakMap,Ti=new WeakMap,mc=new WeakMap,Ur=new WeakMap,Bm=new WeakMap,gc=new WeakMap,fa=new WeakSet,Ss=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Eee(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...OT(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return We(this,kd,t.manual?i:void 0),i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),An.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ne(this,Ti).notify({query:this,type:"updated",action:t})})},R4);function Eee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_B(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function OT(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function PT(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function AT(e){return{onFetch:(t,r)=>{var d,f,h,p,m;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],s=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const v=w=>{bee(w,()=>t.signal,()=>g=!0)},b=bB(t.options,t.fetchOptions),y=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v($),$})(),E=await b(N),{maxPages:P}=t.options,T=S?xee:yee;return{pages:T(w.pages,E,P),pageParams:T(w.pageParams,_,P)}};if(i&&a.length){const w=i==="backward",_=w?Oee:TT,S={pages:a,pageParams:s},k=_(n,S);o=await y(S,k,w)}else{const w=e??a.length;do{const _=c===0?s[0]??n.initialPageParam:TT(n,o);if(c>0&&_==null)break;o=await y(o,_),c++}while(c<w)}return o};t.options.persister?t.fetchFn=()=>{var g,v;return(v=(g=t.options).persister)==null?void 0:v.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function TT(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Oee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Um,Va,Cn,vc,Wa,jo,D4,Pee=(D4=class extends jB{constructor(t){super();ot(this,Wa);ot(this,Um);ot(this,Va);ot(this,Cn);ot(this,vc);We(this,Um,t.client),this.mutationId=t.mutationId,We(this,Cn,t.mutationCache),We(this,Va,[]),this.state=t.state||Aee(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ne(this,Va).includes(t)||(ne(this,Va).push(t),this.clearGcTimeout(),ne(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){We(this,Va,ne(this,Va).filter(r=>r!==t)),this.scheduleGc(),ne(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ne(this,Va).length||(this.state.status==="pending"?this.scheduleGc():ne(this,Cn).remove(this))}continue(){var t;return((t=ne(this,vc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,c,u,d,f,h,p,m,g,v,b,y,w,_,S,k,N,E,P;const r=()=>{fn(this,Wa,jo).call(this,{type:"continue"})},n={client:ne(this,Um),meta:this.options.meta,mutationKey:this.options.mutationKey};We(this,vc,SB({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,$)=>{fn(this,Wa,jo).call(this,{type:"failed",failureCount:T,error:$})},onPause:()=>{fn(this,Wa,jo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,Cn).canRun(this)}));const i=this.state.status==="pending",a=!ne(this,vc).canStart();try{if(i)r();else{fn(this,Wa,jo).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(s=ne(this,Cn).config).onMutate)==null?void 0:o.call(s,t,this,n));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));$!==this.state.context&&fn(this,Wa,jo).call(this,{type:"pending",context:$,variables:t,isPaused:a})}const T=await ne(this,vc).start();return await((f=(d=ne(this,Cn).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,T,t,this.state.context,n)),await((g=(m=ne(this,Cn).config).onSettled)==null?void 0:g.call(m,T,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context,n)),fn(this,Wa,jo).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(y=ne(this,Cn).config).onError)==null?void 0:w.call(y,T,t,this.state.context,this,n))}catch($){Promise.reject($)}try{await((S=(_=this.options).onError)==null?void 0:S.call(_,T,t,this.state.context,n))}catch($){Promise.reject($)}try{await((N=(k=ne(this,Cn).config).onSettled)==null?void 0:N.call(k,void 0,T,this.state.variables,this.state.context,this,n))}catch($){Promise.reject($)}try{await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,T,t,this.state.context,n))}catch($){Promise.reject($)}throw fn(this,Wa,jo).call(this,{type:"error",error:T}),T}finally{ne(this,Cn).runNext(this)}}},Um=new WeakMap,Va=new WeakMap,Cn=new WeakMap,vc=new WeakMap,Wa=new WeakSet,jo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),An.batch(()=>{ne(this,Va).forEach(n=>{n.onMutationUpdate(t)}),ne(this,Cn).notify({mutation:this,type:"updated",action:t})})},D4);function Aee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var As,ha,zm,L4,Tee=(L4=class extends Qb{constructor(t={}){super();ot(this,As);ot(this,ha);ot(this,zm);this.config=t,We(this,As,new Set),We(this,ha,new Map),We(this,zm,0)}build(t,r,n){const i=new Pee({client:t,mutationCache:this,mutationId:++kg(this,zm)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){ne(this,As).add(t);const r=Kg(t);if(typeof r=="string"){const n=ne(this,ha).get(r);n?n.push(t):ne(this,ha).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ne(this,As).delete(t)){const r=Kg(t);if(typeof r=="string"){const n=ne(this,ha).get(r);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&ne(this,ha).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Kg(t);if(typeof r=="string"){const n=ne(this,ha).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){var n;const r=Kg(t);if(typeof r=="string"){const i=(n=ne(this,ha).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){An.batch(()=>{ne(this,As).forEach(t=>{this.notify({type:"removed",mutation:t})}),ne(this,As).clear(),ne(this,ha).clear()})}getAll(){return Array.from(ne(this,As))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>NT(r,n))}findAll(t={}){return this.getAll().filter(r=>NT(t,r))}notify(t){An.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return An.batch(()=>Promise.all(t.map(r=>r.continue().catch(ua))))}},As=new WeakMap,ha=new WeakMap,zm=new WeakMap,L4);function Kg(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ha,F4,Mee=(F4=class extends Qb{constructor(t={}){super();ot(this,Ha);this.config=t,We(this,Ha,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??eE(i,r);let s=this.get(a);return s||(s=new Cee({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){ne(this,Ha).has(t.queryHash)||(ne(this,Ha).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ne(this,Ha).get(t.queryHash);r&&(t.destroy(),r===t&&ne(this,Ha).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){An.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ne(this,Ha).get(t)}getAll(){return[...ne(this,Ha).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>kT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>kT(t,n)):r}notify(t){An.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){An.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){An.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ha=new WeakMap,F4),nr,Uo,zo,Nd,Cd,Vo,Ed,Od,B4,$ee=(B4=class{constructor(e={}){ot(this,nr);ot(this,Uo);ot(this,zo);ot(this,Nd);ot(this,Cd);ot(this,Vo);ot(this,Ed);ot(this,Od);We(this,nr,e.queryCache||new Mee),We(this,Uo,e.mutationCache||new Tee),We(this,zo,e.defaultOptions||{}),We(this,Nd,new Map),We(this,Cd,new Map),We(this,Vo,0)}mount(){kg(this,Vo)._++,ne(this,Vo)===1&&(We(this,Ed,wB.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,nr).onFocus())})),We(this,Od,Ry.subscribe(async e=>{e&&(await this.resumePausedMutations(),ne(this,nr).onOnline())})))}unmount(){var e,t;kg(this,Vo)._--,ne(this,Vo)===0&&((e=ne(this,Ed))==null||e.call(this),We(this,Ed,void 0),(t=ne(this,Od))==null||t.call(this),We(this,Od,void 0))}isFetching(e){return ne(this,nr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ne(this,Uo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,nr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ne(this,nr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(ZS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ne(this,nr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ne(this,nr).get(n.queryHash),a=i==null?void 0:i.state.data,s=dee(t,a);if(s!==void 0)return ne(this,nr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return An.batch(()=>ne(this,nr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ne(this,nr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ne(this,nr);An.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ne(this,nr);return An.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=An.batch(()=>ne(this,nr).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(ua).catch(ua)}invalidateQueries(e,t={}){return An.batch(()=>(ne(this,nr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=An.batch(()=>ne(this,nr).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(ua)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ua)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ne(this,nr).build(this,t);return r.isStaleByTime(ZS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ua).catch(ua)}fetchInfiniteQuery(e){return e.behavior=AT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ua).catch(ua)}ensureInfiniteQueryData(e){return e.behavior=AT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ry.isOnline()?ne(this,Uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,nr)}getMutationCache(){return ne(this,Uo)}getDefaultOptions(){return ne(this,zo)}setDefaultOptions(e){We(this,zo,e)}setQueryDefaults(e,t){ne(this,Nd).set(Ip(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ne(this,Nd).values()],r={};return t.forEach(n=>{Rp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ne(this,Cd).set(Ip(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ne(this,Cd).values()],r={};return t.forEach(n=>{Rp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ne(this,zo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=eE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===tE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ne(this,zo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ne(this,nr).clear(),ne(this,Uo).clear()}},nr=new WeakMap,Uo=new WeakMap,zo=new WeakMap,Nd=new WeakMap,Cd=new WeakMap,Vo=new WeakMap,Ed=new WeakMap,Od=new WeakMap,B4),Iee=x.createContext(void 0),Ree=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(Iee.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}var qo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qo||(qo={}));const MT="popstate";function Dee(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return rj("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Dy(i)}return Fee(t,r,null,e)}function vr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lee(){return Math.random().toString(36).substr(2,8)}function $T(e,t){return{usr:e.state,key:e.key,idx:t}}function rj(e,t,r,n){return r===void 0&&(r=null),Dp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ff(t):t,{state:r,key:t&&t.key||n||Lee()})}function Dy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ff(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fee(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=qo.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Dp({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){o=qo.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:o,location:g.location,delta:b})}function h(v,b){o=qo.Push;let y=rj(g.location,v,b);u=d()+1;let w=$T(y,u),_=g.createHref(y);try{s.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(_)}a&&c&&c({action:o,location:g.location,delta:1})}function p(v,b){o=qo.Replace;let y=rj(g.location,v,b);u=d();let w=$T(y,u),_=g.createHref(y);s.replaceState(w,"",_),a&&c&&c({action:o,location:g.location,delta:0})}function m(v){let b=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:Dy(v);return y=y.replace(/ $/,"%20"),vr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let g={get action(){return o},get location(){return e(i,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(MT,f),c=v,()=>{i.removeEventListener(MT,f),c=null}},createHref(v){return t(i,v)},createURL:m,encodeLocation(v){let b=m(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return s.go(v)}};return g}var IT;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(IT||(IT={}));function Bee(e,t,r){return r===void 0&&(r="/"),Uee(e,t,r)}function Uee(e,t,r,n){let i=typeof t=="string"?Ff(t):t,a=nE(i.pathname||"/",r);if(a==null)return null;let s=kB(e);zee(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=ete(a);o=Xee(s[c],u)}return o}function kB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(vr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=il([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(vr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kB(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Yee(u,a.index),routesMeta:d})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let c of NB(a.path))i(a,s,c)}),t}function NB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=NB(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function zee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Jee(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vee=/^:[\w-]+$/,Wee=3,Hee=2,qee=1,Gee=10,Kee=-2,RT=e=>e==="*";function Yee(e,t){let r=e.split("/"),n=r.length;return r.some(RT)&&(n+=Kee),t&&(n+=Hee),r.filter(i=>!RT(i)).reduce((i,a)=>i+(Vee.test(a)?Wee:a===""?qee:Gee),n)}function Jee(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Xee(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=Qee({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:il([a,f.pathname]),pathnameBase:ate(il([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=il([a,f.pathnameBase]))}return s}function Qee(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Zee(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let g=o[f]||"";s=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[f];return p&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function Zee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function ete(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const tte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rte=e=>tte.test(e);function nte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ff(e):e,a;if(r)if(rte(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),rE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=DT(r.substring(1),"/"):a=DT(r,t)}else a=t;return{pathname:a,search:ste(n),hash:ote(i)}}function DT(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function p_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ite(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function iE(e,t){let r=ite(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function aE(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ff(e):(i=Dp({},e),vr(!i.pathname||!i.pathname.includes("?"),p_("?","pathname","search",i)),vr(!i.pathname||!i.pathname.includes("#"),p_("#","pathname","hash",i)),vr(!i.search||!i.search.includes("#"),p_("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?t[f]:"/"}let c=nte(i,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const il=e=>e.join("/").replace(/\/\/+/g,"/"),ate=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ste=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ote=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const CB=["post","put","patch","delete"];new Set(CB);const cte=["get",...CB];new Set(cte);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lp(){return Lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lp.apply(this,arguments)}const sE=x.createContext(null),ute=x.createContext(null),wl=x.createContext(null),e0=x.createContext(null),_l=x.createContext({outlet:null,matches:[],isDataRoute:!1}),EB=x.createContext(null);function dte(e,t){let{relative:r}=t===void 0?{}:t;Bf()||vr(!1);let{basename:n,navigator:i}=x.useContext(wl),{hash:a,pathname:s,search:o}=PB(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:il([n,s])),i.createHref({pathname:c,search:o,hash:a})}function Bf(){return x.useContext(e0)!=null}function hs(){return Bf()||vr(!1),x.useContext(e0).location}function OB(e){x.useContext(wl).static||x.useLayoutEffect(e)}function kn(){let{isDataRoute:e}=x.useContext(_l);return e?jte():fte()}function fte(){Bf()||vr(!1);let e=x.useContext(sE),{basename:t,future:r,navigator:n}=x.useContext(wl),{matches:i}=x.useContext(_l),{pathname:a}=hs(),s=JSON.stringify(iE(i,r.v7_relativeSplatPath)),o=x.useRef(!1);return OB(()=>{o.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=aE(u,JSON.parse(s),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:il([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,a,e])}function PB(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(wl),{matches:i}=x.useContext(_l),{pathname:a}=hs(),s=JSON.stringify(iE(i,n.v7_relativeSplatPath));return x.useMemo(()=>aE(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function hte(e,t){return pte(e,t)}function pte(e,t,r,n){Bf()||vr(!1);let{navigator:i}=x.useContext(wl),{matches:a}=x.useContext(_l),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=hs(),d;if(t){var f;let v=typeof t=="string"?Ff(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||vr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=Bee(e,{pathname:p}),g=xte(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:il([c,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:il([c,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&g?x.createElement(e0.Provider,{value:{location:Lp({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qo.Pop}},g):g}function mte(){let e=Ste(),t=lte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const gte=x.createElement(mte,null);class vte extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(_l.Provider,{value:this.props.routeContext},x.createElement(EB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yte(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(sE);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(_l.Provider,{value:t},n)}function xte(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||vr(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||m){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,m=!1,g=null,v=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||gte,c&&(u<0&&h===0?(kte("route-fallback"),m=!0,v=null):u===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),y=()=>{let w;return p?w=g:m?w=v:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(yte,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(vte,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var AB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AB||{}),TB=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(TB||{});function bte(e){let t=x.useContext(sE);return t||vr(!1),t}function wte(e){let t=x.useContext(ute);return t||vr(!1),t}function _te(e){let t=x.useContext(_l);return t||vr(!1),t}function MB(e){let t=_te(),r=t.matches[t.matches.length-1];return r.route.id||vr(!1),r.route.id}function Ste(){var e;let t=x.useContext(EB),r=wte(),n=MB();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jte(){let{router:e}=bte(AB.UseNavigateStable),t=MB(TB.UseNavigateStable),r=x.useRef(!1);return OB(()=>{r.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Lp({fromRouteId:t},a)))},[e,t])}const LT={};function kte(e,t,r){LT[e]||(LT[e]=!0)}function Nte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function FT(e){let{to:t,replace:r,state:n,relative:i}=e;Bf()||vr(!1);let{future:a,static:s}=x.useContext(wl),{matches:o}=x.useContext(_l),{pathname:c}=hs(),u=kn(),d=aE(t,iE(o,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function ri(e){vr(!1)}function Cte(e){let{basename:t="/",children:r=null,location:n,navigationType:i=qo.Pop,navigator:a,static:s=!1,future:o}=e;Bf()&&vr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:s,future:Lp({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof n=="string"&&(n=Ff(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:m="default"}=n,g=x.useMemo(()=>{let v=nE(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:m},navigationType:i}},[c,d,f,h,p,m,i]);return g==null?null:x.createElement(wl.Provider,{value:u},x.createElement(e0.Provider,{children:r,value:g}))}function Ete(e){let{children:t,location:r}=e;return hte(nj(t),r)}new Promise(()=>{});function nj(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let a=[...t,i];if(n.type===x.Fragment){r.push.apply(r,nj(n.props.children,a));return}n.type!==ri&&vr(!1),!n.props.index||!n.props.children||vr(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=nj(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ij(){return ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ij.apply(this,arguments)}function Ote(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Pte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ate(e,t){return e.button===0&&(!t||t==="_self")&&!Pte(e)}function aj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Tte(e,t){let r=aj(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const Mte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$te="6";try{window.__reactRouterVersion=$te}catch{}const Ite="startTransition",BT=Sb[Ite];function Rte(e){let{basename:t,children:r,future:n,window:i}=e,a=x.useRef();a.current==null&&(a.current=Dee({window:i,v5Compat:!0}));let s=a.current,[o,c]=x.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&BT?BT(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>s.listen(d),[s,d]),x.useEffect(()=>Nte(n),[n]),x.createElement(Cte,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const Dte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Ote(t,Mte),{basename:p}=x.useContext(wl),m,g=!1;if(typeof u=="string"&&Lte.test(u)&&(m=u,Dte))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=nE(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let v=dte(u,{relative:i}),b=Fte(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:i,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",ij({},h,{href:m||v,onClick:g||a?n:y,ref:r,target:c}))});var UT;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(UT||(UT={}));var zT;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zT||(zT={}));function Fte(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,c=kn(),u=hs(),d=PB(e,{relative:s});return x.useCallback(f=>{if(Ate(f,r)){f.preventDefault();let h=n!==void 0?n:Dy(u)===Dy(d);c(e,{replace:h,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,d,n,i,r,e,a,s,o])}function $B(e){let t=x.useRef(aj(e)),r=x.useRef(!1),n=hs(),i=x.useMemo(()=>Tte(n.search,r.current?null:t.current),[n.search]),a=kn(),s=x.useCallback((o,c)=>{const u=aj(typeof o=="function"?o(i):o);r.current=!0,a("?"+u,c)},[a,i]);return[i,s]}var Ka=function(){return Ka=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ka.apply(this,arguments)};function Uf(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Bte(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?a(d.value):i(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})}function Ute(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const zte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class oE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Vte extends oE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class VT extends oE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class WT extends oE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var sj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(sj||(sj={}));class Wte{constructor(t,{headers:r={},customFetch:n,region:i=sj.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=zte(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Bte(this,arguments,void 0,function*(r,n={}){var i;let a,s;try{const{headers:o,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let v=d;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const b=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g,signal:v}).catch(S=>{throw new Vte(S)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new VT(b);if(!b.ok)throw new WT(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof WT||o instanceof VT?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var Hte=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},qte=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await a.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=b:o=JSON.parse(b))}const g=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,c=null,u=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const g=await a.text();try{s=JSON.parse(g),Array.isArray(s)&&a.status===404&&(o=[],s=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):s={message:g}}if(s&&r.isMaybeSingle&&(!(s==null||(m=s.details)===null||m===void 0)&&m.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new Hte(s)}return{error:s,data:o,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const m=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";o=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${m}`,g&&(o+=` (${g})`),c!=null&&c.stack&&(o+=`
${c.stack}`)}else{var p;o=(p=a==null?void 0:a.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},Gte=class extends qte{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:a="text"}={}){var s;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const HT=new RegExp("[,()]");var Au=class extends Gte{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&HT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&HT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Kte=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},i=r?"HEAD":"GET";let a=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:o,headers:c}=this.cloneRequestState();return o.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Au({method:i,url:o,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Au({method:i,url:a,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Au({method:s,url:o,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:i,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Au({method:n,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Au({method:r,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Yte=class IB{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kte(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new IB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:a}={}){var s;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(o="POST",u=r):n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{c.searchParams.append(p,m)})):(o="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new Au({method:o,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class Jte{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Xte="2.90.1",Qte=`realtime-js/${Xte}`,RB="1.0.0",Zte="2.0.0",qT=RB,oj=1e4,ere=1e3,tre=100;var Po;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Po||(Po={}));var Ar;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ar||(Ar={}));var ma;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ma||(ma={}));var lj;(function(e){e.websocket="websocket"})(lj||(lj={}));var Xl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xl||(Xl={}));class rre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var i,a;const s=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+o.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,c.length),m.setUint8(g++,o.length),m.setUint8(g++,s.length),m.setUint8(g++,u.length),m.setUint8(g++,f.length),m.setUint8(g++,r),Array.from(c,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(o,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(s,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(u,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(f,b=>m.setUint8(g++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,s,o,c]=n;return r({join_ref:i,ref:a,topic:s,event:o,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),s=r.getUint8(3),o=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class DB{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Tt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tt||(Tt={}));const GT=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,s)=>(a[s]=nre(s,e,t,i),a),{}):{}},nre=(e,t,r,n)=>{const i=t.find(o=>o.name===e),a=i==null?void 0:i.type,s=r[e];return a&&!n.includes(a)?LB(a,s):cj(s)},LB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ore(t,r)}switch(e){case Tt.bool:return ire(t);case Tt.float4:case Tt.float8:case Tt.int2:case Tt.int4:case Tt.int8:case Tt.numeric:case Tt.oid:return are(t);case Tt.json:case Tt.jsonb:return sre(t);case Tt.timestamp:return lre(t);case Tt.abstime:case Tt.date:case Tt.daterange:case Tt.int4range:case Tt.int8range:case Tt.money:case Tt.reltime:case Tt.text:case Tt.time:case Tt.timestamptz:case Tt.timetz:case Tt.tsrange:case Tt.tstzrange:return cj(t);default:return cj(t)}},cj=e=>e,ire=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},are=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ore=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const s=e.slice(1,r);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>LB(t,o))}return e},lre=e=>typeof e=="string"?e.replace(" ","T"):e,FB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class m_{constructor(t,r,n={},i=oj){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KT||(KT={}));class tp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=tp.syncState(this.state,i,a,s),this.pendingDiffs.forEach(c=>{this.state=tp.syncDiff(this.state,c,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=tp.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),s=this.transformState(r),o={},c={};return this.map(a,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=a[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),m=d.filter(v=>p.indexOf(v.presence_ref)<0),g=f.filter(v=>h.indexOf(v.presence_ref)<0);m.length>0&&(o[u]=m),g.length>0&&(c[u]=g)}else o[u]=d}),this.syncDiff(a,{joins:o,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,c)}),this.map(s,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,i(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(YT||(YT={}));var rp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rp||(rp={}));var Ns;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ns||(Ns={}));class Xu{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new m_(this,ma.join,this.params,this.timeout),this.rejoinTimer=new DB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ma.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new tp(this),this.broadcastEndpointURL=FB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:s,presence:o,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[rp.PRESENCE]&&this.bindings[rp.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ns.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ns.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ns.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,b=[];for(let y=0;y<v;y++){const w=g[y],{filter:{event:_,schema:S,table:k,filter:N}}=w,E=p&&p[y];if(E&&E.event===_&&Xu.isFilterValueEqual(E.schema,S)&&Xu.isFilterValueEqual(E.table,k)&&Xu.isFilterValueEqual(E.filter,N))b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=Ar.errored,t==null||t(Ns.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ns.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ar.errored,t==null||t(Ns.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ns.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ar.joined&&t===rp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let c=o.statusText;try{const u=await o.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ma.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new m_(this,ma.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new m_(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>tre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const s=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=ma;if(n&&[o,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,v;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=p.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(a=this.bindings[s])===null||a===void 0||a.filter(p=>{var m,g,v,b,y,w,_,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const k=p.id,N=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((g=r.ids)===null||g===void 0?void 0:g.includes(k))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=p.filter)===null||b===void 0)&&b.table)||p.filter.table===((y=r.data)===null||y===void 0?void 0:y.table))}else{const k=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:v,commit_timestamp:b,type:y,errors:w}=m;h=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Xu.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ma.close,{},t)}_onError(t){this._on(ma.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=GT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=GT(t.columns,t.old_record)),r}}const g_=()=>{},Yg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cre=[1e3,2e3,5e3,1e4],ure=1e4,dre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=oj,this.transport=null,this.heartbeatIntervalMs=Yg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=g_,this.ref=0,this.reconnectTimer=null,this.vsn=qT,this.logger=g_,this.conn=null,this.sendBuffer=[],this.serializer=new rre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${lj.websocket}`,this.httpEndpoint=FB(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jte.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Po.connecting:return Xl.Connecting;case Po.open:return Xl.Open;case Po.closing:return Xl.Closing;default:return Xl.Closed}}isConnected(){return this.connectionState()===Xl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new Xu(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,s=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ere,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Yg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:a,ref:s}=r,o=s?`(${s})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Po.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Po.open||this.conn.readyState===Po.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ma.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([dre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:Qte};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ma.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new DB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,s,o,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:oj,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Yg.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:g_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:qT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>cre[m-1]||ure,this.vsn){case RB:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,g)=>g(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,g)=>g(JSON.parse(m));break;case Zte:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Fp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hre(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function pre(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function mre(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:s}){const o=hre(e.baseUrl,n,i),c=await pre(e.auth),u=await t(o,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...s},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new Fp((m==null?void 0:m.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function Jg(e){return e.join("")}var gre=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Jg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jg(e.namespace)}`}),!0}catch(t){if(t instanceof Fp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Fp&&r.status===409)return;throw r}}};function mu(e){return e.join("")}var vre=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Fp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Fp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},yre=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=mre({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new gre(this.client,t),this.tableOps=new vre(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},t0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var xre=class extends t0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uj=class extends t0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const lE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bre=()=>Response,dj=e=>{if(Array.isArray(e))return e.map(r=>dj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=dj(n)}),t},wre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_re=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Bp(e){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bp(e)}function Sre(e,t){if(Bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e){var t=Sre(e,"string");return Bp(t)=="symbol"?t:t+""}function kre(e,t,r){return(t=jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){kre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const v_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Nre=async(e,t,r)=>{e instanceof await bre()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const i=e.status||500,a=(n==null?void 0:n.statusCode)||i+"";t(new xre(v_(n),i,a))}).catch(n=>{t(new uj(v_(n),n))}):t(new uj(v_(e),e))},Cre=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(wre(n)?(i.headers=Le({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Le(Le({},i),r))};async function Zm(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,Cre(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Nre(c,o,n))})}async function Up(e,t,r,n){return Zm(e,"GET",t,r,n)}async function da(e,t,r,n,i){return Zm(e,"POST",t,n,i,r)}async function fj(e,t,r,n,i){return Zm(e,"PUT",t,n,i,r)}async function Ere(e,t,r,n){return Zm(e,"HEAD",t,Le(Le({},r),{},{noResolveJson:!0}),n)}async function cE(e,t,r,n,i){return Zm(e,"DELETE",t,n,i,r)}var Ore=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}};let BB;BB=Symbol.toStringTag;var Pre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[BB]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ore(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qt(t))return{data:null,error:t};throw t}}};const Are={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},XT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Tre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=lE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var i=this;try{let a;const s=Le(Le({},XT),n);let o=Le(Le({},i.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),c&&a.append("metadata",i.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),c&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(c))):(a=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,c&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(o=Le(Le({},o),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),f=await(e=="PUT"?fj:da)(i.fetch,`${i.url}/object/${d}`,a,Le({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Qt(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var i=this;const a=i._removeEmptyFolders(e),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);o.searchParams.set("token",t);try{let c;const u=Le({upsert:XT.upsert},n),d=Le(Le({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:a,fullPath:(await fj(i.fetch,o.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Qt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const i=Le({},r.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await da(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(r.url+a.url),o=s.searchParams.get("token");if(!o)throw new t0("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await da(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async copy(e,t,r){var n=this;try{return{data:{path:(await da(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,r){var n=this;try{let i=n._getFinalPath(e),a=await da(n.fetch,`${n.url}/object/sign/${i}`,Le({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,r){var n=this;try{const i=await da(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Le(Le({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",a=this._getFinalPath(e),s=()=>Up(this.fetch,`${this.url}/${r}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new Pre(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:dj(await Up(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Ere(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qt(n)&&n instanceof uj){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await cE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const i=Le(Le(Le({},Are),t),{},{prefix:e||""});return{data:await da(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Qt(i))return{data:null,error:i};throw i}}async listV2(e,t){var r=this;try{const n=Le({},e);return{data:await da(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const UB="2.90.1",zB={"X-Client-Info":`storage-js/${UB}`};var Mre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Le(Le({},zB),t),this.fetch=lE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Up(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Up(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await da(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await fj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Qt(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await cE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},$re=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Le(Le({},zB),t),this.fetch=lE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await da(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Up(t.fetch,i,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await cE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qt(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!_re(e))throw new t0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new yre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const uE={"X-Client-Info":`storage-js/${UB}`,"Content-Type":"application/json"};var VB=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function di(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var y_=class extends VB{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ire=class extends VB{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const dE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},QT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dre=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,i=e;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new y_(QT(a),n,s))}).catch(()=>{const a=n+"";t(new y_(i.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new y_(i.statusText||`HTTP ${n} error`,n,a))}}else t(new Ire(QT(e),e))},Lre=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Rre(n)?(i.headers=Le({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Le(Le({},i),r)):i};async function Fre(e,t,r,n,i,a){return new Promise((s,o)=>{e(r,Lre(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>Dre(c,o,n))})}async function fi(e,t,r,n,i){return Fre(e,"POST",t,n,i,r)}var Bre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Le(Le({},uE),t),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await fi(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await fi(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(di(n))return{data:null,error:n};throw n}}},Ure=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Le(Le({},uE),t),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await fi(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await fi(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await fi(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}},zre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Le(Le({},uE),t),this.fetch=dE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await fi(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await fi(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(di(r))return{data:null,error:r};throw r}}},Vre=class extends zre{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Wre(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Wre=class extends Bre{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Hre(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Hre=class extends Ure{constructor(e,t,r,n,i){super(e,t,i),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Le(Le({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},qre=class extends Mre{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Tre(this.url,this.headers,e,this.fetch)}get vectors(){return new Vre(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $re(this.url+"/iceberg",this.headers,this.fetch)}};const WB="2.90.1",Tu=30*1e3,hj=3,x_=hj*Tu,Gre="http://localhost:9999",Kre="supabase.auth.token",Yre={"X-Client-Info":`gotrue-js/${WB}`},pj="X-Supabase-Api-Version",HB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jre=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xre=10*60*1e3;class zp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Te(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Qre extends zp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Zre(e){return Te(e)&&e.name==="AuthApiError"}class Ql extends zp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class so extends zp{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ni extends so{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ene(e){return Te(e)&&e.name==="AuthSessionMissingError"}class gu extends so{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xg extends so{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qg extends so{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tne(e){return Te(e)&&e.name==="AuthImplicitGrantRedirectError"}class ZT extends so{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rne extends so{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class mj extends so{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function b_(e){return Te(e)&&e.name==="AuthRetryableFetchError"}class e2 extends so{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class gj extends so{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ly="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),t2=` 	
\r=`.split(""),nne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<t2.length;t+=1)e[t2[t].charCodeAt(0)]=-2;for(let t=0;t<Ly.length;t+=1)e[Ly[t].charCodeAt(0)]=t;return e})();function r2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ly[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ly[n]),t.queuedBits-=6}}function qB(e,t,r){const n=nne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function n2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{sne(s,n,r)};for(let s=0;s<e.length;s+=1)qB(e.charCodeAt(s),i,a);return t.join("")}function ine(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ane(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ine(n,t)}}function sne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hd(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)qB(e.charCodeAt(i),r,n);return new Uint8Array(t)}function one(e){const t=[];return ane(e,r=>t.push(r)),new Uint8Array(t)}function ic(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>r2(i,r,n)),r2(null,r,n),t.join("")}function lne(e){return Math.round(Date.now()/1e3)+e}function cne(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",Il={tested:!1,writable:!1},GB=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Il.tested)return Il.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Il.tested=!0,Il.writable=!0}catch{Il.tested=!0,Il.writable=!1}return Il.writable};function une(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const KB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Rl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zr=async(e,t)=>{await e.removeItem(t)};class r0{constructor(){this.promise=new r0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}r0.promiseConstructor=Promise;function w_(e){const t=e.split(".");if(t.length!==3)throw new gj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Jre.test(t[n]))throw new gj("JWT not in base64url format");return{header:JSON.parse(n2(t[0])),payload:JSON.parse(n2(t[1])),signature:hd(t[2]),raw:{header:t[0],payload:t[1]}}}async function fne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hne(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await e(a);if(!t(a,null,s)){n(s);return}}catch(s){if(!t(a,s)){i(s);return}}})()})}function pne(e){return("0"+e.toString(16)).substr(-2)}function mne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,pne).join("")}async function gne(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function vne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gne(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vu(e,t,r=!1){const n=mne();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Mu(e,`${t}-code-verifier`,i);const a=await vne(n);return[a,n===a?"plain":"s256"]}const yne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xne(e){const t=e.headers.get(pj);if(!t||!t.match(yne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _ne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yu(e){if(!_ne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function __(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Sne(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function i2(e){return JSON.parse(JSON.stringify(e))}const ql=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jne=[502,503,504];async function a2(e){var t;if(!dne(e))throw new mj(ql(e),0);if(jne.includes(e.status))throw new mj(ql(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ql(ql(a),a)}let n;const i=xne(e);if(i&&i.getTime()>=HB["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new e2(ql(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ni}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new e2(ql(r),e.status,r.weak_password.reasons);throw new Qre(ql(r),e.status||500,n)}const kne=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function De(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[pj]||(a[pj]=HB["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Nne(e,t,r+o,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Nne(e,t,r,n,i,a){const s=kne(t,n,i,a);let o;try{o=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new mj(ql(c),0)}if(o.ok||await a2(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await a2(c)}}function sa(e){var t;let r=null;One(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function s2(e){const t=sa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ro(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cne(e){return{data:e,error:null}}function Ene(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,s=Uf(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},s);return{data:{properties:o,user:c},error:null}}function o2(e){return e}function One(e){return e.access_token&&e.refresh_token&&e.expires_in}const S_=["global","local","others"];class Pne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KB(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=S_[0]){if(S_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${S_.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Te(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ro})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uf(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Ene,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Te(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ro})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:o2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yu(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ro})}catch(r){if(Te(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){yu(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ro})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){yu(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ro})}catch(n){if(Te(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){yu(t.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _deleteFactor(t){yu(t.userId),yu(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,s,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:o2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);u[`${v}Page`]=g}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Te(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Te(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Te(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Te(r))return{data:null,error:r};throw r}}}function l2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const xu={debug:!!(globalThis&&GB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class YB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ane extends YB{}async function Tne(e,t,r){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ane(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xu.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Mne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function $ne(e){return parseInt(e,16)}function Ine(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Rne(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=JB(e.address),m=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${p}

${g}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${v}
${b}`}class Sr extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Fy extends Sr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Dne({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Sr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Sr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Sr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Sr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Sr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Sr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(XB(s)){if(a.rp.id!==s)return new Sr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Sr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Lne({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Sr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Sr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(XB(n)){if(r.rpId!==n)return new Sr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Sr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Sr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Sr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Fne{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Bne=new Fne;function Une(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Uf(e,["challenge","user","excludeCredentials"]),a=hd(t).buffer,s=Object.assign(Object.assign({},r),{id:hd(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];o.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:hd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function zne(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Uf(e,["challenge","allowCredentials"]),i=hd(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const o=r[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:hd(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function Vne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ic(new Uint8Array(e.response.attestationObject)),clientDataJSON:ic(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ic(new Uint8Array(i.authenticatorData)),clientDataJSON:ic(new Uint8Array(i.clientDataJSON)),signature:ic(new Uint8Array(i.signature)),userHandle:i.userHandle?ic(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function c2(){var e,t;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Hne(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fy("Browser returned unexpected credential type",t)}:{data:null,error:new Fy("Empty credential response",t)}}catch(t){return{data:null,error:Dne({error:t,options:e})}}}async function qne(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Fy("Browser returned unexpected credential type",t)}:{data:null,error:new Fy("Empty credential response",t)}}catch(t){return{data:null,error:Lne({error:t,options:e})}}}const Gne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Kne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function By(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))n[a]=s;else if(r(s))n[a]=s;else if(t(s)){const o=n[a];t(o)?n[a]=By(o,s):n[a]=By(s)}else n[a]=s}return n}function Yne(e,t){return By(Gne,e,t||{})}function Jne(e,t){return By(Kne,e,t||{})}class Xne{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:o};const c=i??Bne.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=Yne(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Hne({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Jne(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await qne(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return Te(s)?{data:null,error:s}:{data:null,error:new Ql("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new zp("rpId is required for WebAuthn authentication")};try{if(!c2())return{data:null,error:new Ql("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Te(s)?{data:null,error:s}:{data:null,error:new Ql("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new zp("rpId is required for WebAuthn registration")};try{if(!c2())return{data:null,error:new Ql("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Te(s)?{data:null,error:s}:{data:null,error:new Ql("Unexpected error in register",s)}}}}Mne();const Qne={url:Gre,storageKey:Kre,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yre,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function u2(e,t,r){return await r()}const bu={};class Vp{get jwks(){var t,r;return(r=(t=bu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=bu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){bu[this.storageKey]=Object.assign(Object.assign({},bu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Qne),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Vp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Vp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&tn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KB(a.fetch),this.lock=a.lock||u2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Tne:this.lock=u2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Xne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:GB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=l2(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${WB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(tn()&&(r=une(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tne(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Te(r)?this._returnResult({error:r}):this._returnResult({error:new Ql("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:sa}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await vu(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:sa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sa})}else throw new Xg("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await Zr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:s,options:o}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s2})}else if("phone"in t){const{phone:a,password:s,options:o}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:s2})}else throw new Xg("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new gu;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,s,o,c,u,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:g,wallet:v,statement:b,options:y}=t;let w;if(tn())if(typeof v=="object")w=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=JB(S[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const P=await w.request({method:"eth_chainId"});N=$ne(P)}const E={domain:_.host,address:k,statement:b,uri:_.href,version:"1",chainId:N,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Rne(E),m=await w.request({method:"personal_sign",params:[Ine(p),k]})}try{const{data:g,error:v}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sa});if(v)throw v;if(!g||!g.session||!g.user){const b=new gu;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(Te(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,i,a,s,o,c,u,d,f,h,p;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:v,wallet:b,statement:y,options:w}=t;let _;if(tn())if(typeof b=="object")_=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let N;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")N=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)N=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)m=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),g=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:v,error:b}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:ic(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:sa});if(b)throw b;if(!v||!v.session||!v.user){const y=new gu;return this._returnResult({data:{user:null,session:null},error:y})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Te(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Rl(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new rne;const{data:a,error:s}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sa});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:s}=t,o=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sa}),{data:c,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new gu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,s;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await vu(this.storage,this.storageKey));const{error:f}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Xg("You must provide either an email or phone number.")}catch(o){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:o}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:sa});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,s;try{let o=null,c=null;this.flowType==="pkce"&&([o,c]=await vu(this.storage,this.storageKey));const u=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:Cne});return!((a=u.data)===null||a===void 0)&&a.url&&tn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ni;const{error:i}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Te(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:s}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:s,error:o}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Xg("You must provide either an email or phone number and a type")}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Rl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<x_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Rl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=__()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=Sne(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ro}):await this._useSession(async r=>{var n,i,a;const{data:s,error:o}=r;if(o)throw o;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ni}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ro})})}catch(r){if(Te(r))return ene(r)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ni;const s=i.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await vu(this.storage,this.storageKey));const{data:u,error:d}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:s.access_token,xform:Ro});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ni;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:s}=w_(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Te(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:o}=r;if(o)throw o;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ni;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Te(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!tn())throw new Qg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ZT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ZT("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:c,token_type:u}=t;if(!a||!o||!s||!u)throw new Qg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Tu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:g,error:v}=await this._getUser(a);if(v)throw v;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Te(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Rl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:o}=await this.admin.signOut(s,t);if(o&&!(Zre(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=cne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vu(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var s,o,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Te(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:s,provider:o,token:c,access_token:u,nonce:d}=t,f=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:sa}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new gu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(i){if(await Zr(this.storage,`${this.storageKey}-code-verifier`),Te(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)throw s;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hne(async i=>(i>0&&await fne(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sa})),(i,a)=>{const s=200*Math.pow(2,i);return a&&b_(a)&&Date.now()+s-n<Tu})}catch(n){if(this._debug(r,"error",n),Te(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Rl(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Rl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Mu(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:__()}else if(i&&!i.user&&!i.user){const s=await Rl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Zr(this.storage,this.storageKey+"-user"),await Mu(this.storage,this.storageKey,i)):i.user=__()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<x_;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${x_}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),b_(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ni;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new r0;const{data:a,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new ni;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),Te(a)){const s={data:null,error:a};return b_(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Zr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mu(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=i2(i);await Mu(this.storage,this.storageKey,a)}else{const i=i2(r);await Mu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Tu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Tu}ms, refresh threshold is ${hj} ticks`),i<=hj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof YB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,s]=await vu(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await De(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Vne(t.webauthn.credential_response):Wne(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:c}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:c}))})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const s=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Une(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zne(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=w_(n.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ni})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ni});const s=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new ni});const s=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ni})})}catch(t){if(Te(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ni})})}catch(r){if(Te(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Xre>i)return n;const{data:a,error:s}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:c}}=w_(n);r!=null&&r.allowExpired||bne(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:i,signature:s},error:null}}const d=wne(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,one(`${o}.${c}`)))throw new gj("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(n){if(Te(n))return this._returnResult({data:null,error:n});throw n}}}Vp.nextInstanceID={};const Zne=Vp,eie="2.90.1";let Lh="";typeof Deno<"u"?Lh="deno":typeof document<"u"?Lh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lh="react-native":Lh="node";const tie={"X-Client-Info":`supabase-js-${Lh}/${eie}`},rie={headers:tie},nie={schema:"public"},iie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aie={};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}function sie(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oie(e){var t=sie(e,"string");return Wp(t)=="symbol"?t:t+""}function lie(e,t,r){return(t=oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const cie=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uie=()=>Headers,die=(e,t,r)=>{const n=cie(r),i=uie();return async(a,s)=>{var o;const c=(o=await t())!==null&&o!==void 0?o:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,ir(ir({},s),{},{headers:u}))}};function fie(e){return e.endsWith("/")?e:e+"/"}function hie(e,t){var r,n;const{db:i,auth:a,realtime:s,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:ir(ir({},c),i),auth:ir(ir({},u),a),realtime:ir(ir({},d),s),storage:{},global:ir(ir(ir({},f),o),{},{headers:ir(ir({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function pie(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fie(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mie=class extends Zne{constructor(e){super(e)}},gie=class{constructor(e,t,r){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const a=pie(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:nie,realtime:aie,auth:ir(ir({},iie),{},{storageKey:s}),global:rie},c=hie(r??{},o);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=die(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(ir({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Yte(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new qre(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Wte(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:a,flowType:s,lock:o,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mie({url:this.authUrl.href,headers:ir(ir({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:i,flowType:s,lock:o,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fre(this.realtimeUrl.href,ir(ir({},e),{},{params:ir(ir({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vie=(e,t,r)=>new gie(e,t,r);function yie(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}yie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xie="https://ihyzfrfzazrbrufzcunm.supabase.co",bie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Ne=vie(xie,bie,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),Xs=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ne},Symbol.toStringTag,{value:"Module"})),QB=x.createContext(void 0),Er=()=>{const e=x.useContext(QB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},wie=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[a,s]=x.useState(null),[o,c]=x.useState(null),[u,d]=x.useState(!0),[f,h]=x.useState(!1),p=async y=>{console.log("[AuthContext] Fetching user data for:",y);try{const{data:w,error:_}=await Ne.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",y).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),s(w));const{data:S,error:k}=await Ne.from("user_roles").select("role").eq("user_id",y).single();if(k&&console.error("[AuthContext] Role fetch error:",k),S)if(console.log("[AuthContext] Role:",S.role),c(S.role),S.role==="patient"){const N=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",N),h(N)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},m=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await p(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};x.useEffect(()=>{const{data:{subscription:y}}=Ne.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),i(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{p(_.user.id)},0):(s(null),c(null),h(!1)),w==="SIGNED_OUT"&&(s(null),c(null),h(!1))});return Ne.auth.getSession().then(({data:{session:w}})=>{i(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&p(w.user.id),d(!1)}),()=>y.unsubscribe()},[]);const g=async(y,w,_)=>{const S=`${window.location.origin}/`,{error:k}=await Ne.auth.signUp({email:y,password:w,options:{emailRedirectTo:S,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:k}},v=async(y,w)=>{const{error:_}=await Ne.auth.signInWithPassword({email:y,password:w});return{error:_}},b=async()=>{await Ne.auth.signOut(),r(null),i(null),s(null),c(null),h(!1)};return l.jsx(QB.Provider,{value:{user:t,session:n,profile:a,role:o,isLoading:u,onboardingComplete:f,signUp:g,signIn:v,signOut:b,refreshProfile:m},children:e})},xs=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:i}=Er(),a=hs();if(i)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return l.jsx(FT,{to:"/auth",state:{from:a},replace:!0});if(t&&n&&!t.includes(n)){const s={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return l.jsx(FT,{to:s[n],replace:!0})}return l.jsx(l.Fragment,{children:e})};var _ie=Symbol.for("react.lazy"),Uy=Sb[" use ".trim().toString()];function Sie(e){return typeof e=="object"&&e!==null&&"then"in e}function ZB(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===_ie&&"_payload"in e&&Sie(e._payload)}function eg(e){const t=jie(e),r=x.forwardRef((n,i)=>{let{children:a,...s}=n;ZB(a)&&typeof Uy=="function"&&(a=Uy(a._payload));const o=x.Children.toArray(a),c=o.find(Nie);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var eU=eg("Slot");function jie(e){const t=x.forwardRef((r,n)=>{let{children:i,...a}=r;if(ZB(i)&&typeof Uy=="function"&&(i=Uy(i._payload)),x.isValidElement(i)){const s=Eie(i),o=Cie(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kie=Symbol("radix.slottable");function Nie(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kie}function Cie(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Eie(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const Hp=zb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const s=n?eU:"button";return l.jsx(s,{className:me(Hp({variant:t,size:r,className:e})),ref:a,...i})});ee.displayName="Button";const Oie=()=>{const[e,t]=x.useState(!1),{user:r,profile:n,role:i,signOut:a}=Er(),s=kn(),o=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await a(),s("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return l.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[l.jsx(ks,{to:"/",className:"flex items-center gap-2",children:l.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),l.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:o.map(d=>l.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),l.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[l.jsxs(ee,{variant:"ghost",size:"sm",className:"gap-2",children:[l.jsx(Qn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?l.jsxs(l.Fragment,{children:[l.jsx(ks,{to:i?u(i):"/patient",children:l.jsxs(ee,{variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(Xr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:c,children:l.jsx(ul,{className:"w-4 h-4"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(ks,{to:"/auth",children:l.jsx(ee,{variant:"outline",size:"sm",children:"Sign In"})}),l.jsx(ks,{to:"/auth",children:l.jsx(ee,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),l.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?l.jsx(ao,{className:"w-5 h-5 sm:w-6 sm:h-6"}):l.jsx(Ym,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&l.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:l.jsxs("nav",{className:"flex flex-col gap-1",children:[o.map(d=>l.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),l.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[l.jsx(Qn,{className:"w-4 h-4"}),"0800 QUADCARE"]}),l.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?l.jsxs(l.Fragment,{children:[l.jsx(ks,{to:i?u(i):"/patient",onClick:()=>t(!1),children:l.jsxs(ee,{variant:"outline",className:"w-full gap-2 justify-start",children:[l.jsx(UJ,{className:"w-4 h-4"}),"My Dashboard"]})}),l.jsxs(ee,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):l.jsxs(l.Fragment,{children:[l.jsx(ks,{to:"/auth",onClick:()=>t(!1),children:l.jsx(ee,{variant:"outline",className:"w-full",children:"Sign In"})}),l.jsx(ks,{to:"/auth",onClick:()=>t(!1),children:l.jsx(ee,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},Pie="/assets/hero-medical-D5FvmeGo.jpg",Aie=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return l.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),l.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),l.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[l.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[l.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),l.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),l.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),l.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>l.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[l.jsx(Jn,{className:"w-4 h-4 text-success shrink-0"}),l.jsx("span",{children:t})]},t))}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[l.jsx(ks,{to:"/auth",className:"w-full sm:w-auto",children:l.jsxs(ee,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[l.jsx(At,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{children:"Book Consultation"}),l.jsx(rs,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),l.jsxs(ee,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[l.jsx(qt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{children:"How It Works"})]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jm,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),l.jsx("span",{children:"HPCSA Registered"})]}),l.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>l.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),l.jsx("span",{children:"Active Patients"})]})]})]}),l.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[l.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[l.jsx("img",{src:Pie,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),l.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:l.jsx(qt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),l.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),l.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:l.jsx(At,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),l.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},Tie=()=>{const e=[{icon:At,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:Ui,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:Si,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:qt,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:Sn,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:P5,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:RJ,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:Jm,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:Ju,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return l.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[l.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:l.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),l.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>l.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[l.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:l.jsx(t.icon,{className:"w-7 h-7"})}),l.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},Mie=()=>{const e=[{number:"01",icon:Xr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:O5,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:Ui,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:qt,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:A5,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:P5,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return l.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[l.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:l.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),l.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),l.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>l.jsxs("div",{className:"relative group",children:[l.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:l.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),l.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),l.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),l.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&l.jsx("div",{className:"lg:hidden flex justify-center py-4",children:l.jsx(rs,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},$ie=()=>{const e=[{icon:N5,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:Si,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:Xt,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:M5,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return l.jsx("section",{className:"py-16 gradient-hero",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>l.jsxs("div",{className:"text-center group",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:l.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),l.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),l.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),l.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},Iie=()=>{const e=[{icon:qJ,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:Xt,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:Sn,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:qt,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:Ju,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:Jm,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return l.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:l.jsx("div",{className:"container mx-auto px-4",children:l.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[l.jsxs("div",{className:"space-y-8",children:[l.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:l.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),l.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",l.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),l.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-5 h-5 text-success flex-shrink-0"}),l.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),l.jsxs("div",{className:"flex gap-4 pt-4",children:[l.jsxs(ee,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",l.jsx(rs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(ee,{variant:"outline",size:"lg",children:"View Demo"})]})]}),l.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>l.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:l.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),l.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),l.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},Rie=()=>l.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0",children:[l.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),l.jsx("div",{className:"container mx-auto px-4 relative z-10",children:l.jsx("div",{className:"max-w-4xl mx-auto text-center",children:l.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[l.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),l.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(ee,{variant:"heroOutline",size:"xl",className:"group",children:[l.jsx(At,{className:"w-5 h-5"}),"Book Your First Consultation",l.jsx(rs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsxs(ee,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[l.jsx(Qn,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),l.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),Die=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:FJ,href:"#",label:"Facebook"},{icon:sX,href:"#",label:"Twitter"},{icon:GJ,href:"#",label:"LinkedIn"},{icon:HJ,href:"#",label:"Instagram"}];return l.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx(ks,{to:"/",className:"flex items-center gap-2 mb-6",children:l.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),l.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[l.jsx(Qn,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),l.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[l.jsx(Ap,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),l.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[l.jsx(T5,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),l.jsxs("span",{children:["Quadcare Head Office",l.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),l.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>l.jsx("li",{children:l.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),l.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>l.jsx("li",{children:l.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),l.jsx("ul",{className:"space-y-3",children:e.company.map(r=>l.jsx("li",{children:l.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),l.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>l.jsx("li",{children:l.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),l.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[l.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),l.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>l.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:l.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},Lie=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(Oie,{}),l.jsxs("main",{children:[l.jsx(Aie,{}),l.jsx(Tie,{}),l.jsx(Mie,{}),l.jsx($ie,{}),l.jsx(Iie,{}),l.jsx(Rie,{})]}),l.jsx(Die,{})]});var tg=e=>e.type==="checkbox",ac=e=>e instanceof Date,Vn=e=>e==null;const tU=e=>typeof e=="object";var Nr=e=>!Vn(e)&&!Array.isArray(e)&&tU(e)&&!ac(e),rU=e=>Nr(e)&&e.target?tg(e.target)?e.target.checked:e.target.value:e,Fie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,nU=(e,t)=>e.has(Fie(t)),Bie=e=>{const t=e.constructor&&e.constructor.prototype;return Nr(t)&&t.hasOwnProperty("isPrototypeOf")},fE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function br(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(fE&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Nr(e)&&Bie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=br(e[i]));return n}var n0=e=>/^\w*$/.test(e),Kt=e=>e===void 0,hE=e=>Array.isArray(e)?e.filter(Boolean):[],pE=e=>hE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(e,t,r)=>{if(!t||!Nr(e))return r;const n=(n0(t)?[t]:pE(t)).reduce((i,a)=>Vn(i)?i:i[a],e);return Kt(n)||n===e?Kt(e[t])?r:e[t]:n},li=e=>typeof e=="boolean",Tn=e=>typeof e=="function",_t=(e,t,r)=>{let n=-1;const i=n0(t)?[t]:pE(t),a=i.length,s=a-1;for(;++n<a;){const o=i[n];let c=r;if(n!==s){const u=e[o];c=Nr(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const zy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mE=A.createContext(null);mE.displayName="HookFormControlContext";const gE=()=>A.useContext(mE);var iU=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const s=a;return t._proxyFormState[s]!==xa.all&&(t._proxyFormState[s]=!n||xa.all),r&&(r[s]=!0),e[s]}});return i};const vE=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Uie(e){const t=gE(),{control:r=t,disabled:n,name:i,exact:a}=e||{},[s,o]=A.useState(r._formState),c=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return vE(()=>r._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,a]),A.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),A.useMemo(()=>iU(s,r,c.current,!1),[s,r])}var hi=e=>typeof e=="string",vj=(e,t,r,n,i)=>hi(e)?(n&&t.watch.add(e),be(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),be(r,a))):(n&&(t.watchAll=!0),r),yj=e=>Vn(e)||!tU(e);function ba(e,t,r=new WeakSet){if(yj(e)||yj(t))return Object.is(e,t);if(ac(e)&&ac(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const s=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=t[a];if(ac(s)&&ac(o)||Nr(s)&&Nr(o)||Array.isArray(s)&&Array.isArray(o)?!ba(s,o,r):!Object.is(s,o))return!1}}return!0}function zie(e){const t=gE(),{control:r=t,name:n,defaultValue:i,disabled:a,exact:s,compute:o}=e||{},c=A.useRef(i),u=A.useRef(o),d=A.useRef(void 0),f=A.useRef(r),h=A.useRef(n);u.current=o;const[p,m]=A.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),g=A.useCallback(_=>{const S=vj(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(S):S},[r._formValues,r._names,n]),v=A.useCallback(_=>{if(!a){const S=vj(n,r._names,_||r._formValues,!1,c.current);if(u.current){const k=u.current(S);ba(k,d.current)||(m(k),d.current=k)}else m(S)}},[r._formValues,r._names,a,n]);vE(()=>((f.current!==r||!ba(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:s,callback:_=>{v(_.values)}})),[r,s,n,v]),A.useEffect(()=>r._removeUnmounted());const b=f.current!==r,y=h.current,w=A.useMemo(()=>{if(a)return null;const _=!b&&!ba(y,n);return b||_?g():null},[a,b,n,y,g]);return w!==null?w:p}function Vie(e){const t=gE(),{name:r,disabled:n,control:i=t,shouldUnregister:a,defaultValue:s,exact:o=!0}=e,c=nU(i._names.array,r),u=A.useMemo(()=>be(i._formValues,r,be(i._defaultValues,r,s)),[i,r,s]),d=zie({control:i,name:r,defaultValue:u,exact:o}),f=Uie({control:i,name:r,exact:o}),h=A.useRef(e),p=A.useRef(void 0),m=A.useRef(i.register(r,{...e.rules,value:d,...li(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const g=A.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!be(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!be(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!be(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!be(f.validatingFields,r)},error:{enumerable:!0,get:()=>be(f.errors,r)}}),[f,r]),v=A.useCallback(_=>m.current.onChange({target:{value:rU(_),name:r},type:zy.CHANGE}),[r]),b=A.useCallback(()=>m.current.onBlur({target:{value:be(i._formValues,r),name:r},type:zy.BLUR}),[r,i._formValues]),y=A.useCallback(_=>{const S=be(i._fields,r);S&&S._f&&_&&(S._f.ref={focus:()=>Tn(_.focus)&&_.focus(),select:()=>Tn(_.select)&&_.select(),setCustomValidity:k=>Tn(_.setCustomValidity)&&_.setCustomValidity(k),reportValidity:()=>Tn(_.reportValidity)&&_.reportValidity()})},[i._fields,r]),w=A.useMemo(()=>({name:r,value:d,...li(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:y}),[r,n,f.disabled,v,b,y,d]);return A.useEffect(()=>{const _=i._options.shouldUnregister||a,S=p.current;S&&S!==r&&!c&&i.unregister(S),i.register(r,{...h.current.rules,...li(h.current.disabled)?{disabled:h.current.disabled}:{}});const k=(N,E)=>{const P=be(i._fields,N);P&&P._f&&(P._f.mount=E)};if(k(r,!0),_){const N=br(be(i._options.defaultValues,r,h.current.defaultValue));_t(i._defaultValues,r,N),Kt(be(i._formValues,r))&&_t(i._formValues,r,N)}return!c&&i.register(r),p.current=r,()=>{(c?_&&!i._state.action:_)?i.unregister(r):k(r,!1)}},[r,i,c,a]),A.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),A.useMemo(()=>({field:w,formState:f,fieldState:g}),[w,f,g])}const Wie=e=>e.render(Vie(e)),yE=A.createContext(null);yE.displayName="HookFormContext";const Hie=()=>A.useContext(yE),qie=e=>{const{children:t,watch:r,getValues:n,getFieldState:i,setError:a,clearErrors:s,setValue:o,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:m,register:g,setFocus:v,subscribe:b}=e;return A.createElement(yE.Provider,{value:A.useMemo(()=>({watch:r,getValues:n,getFieldState:i,setError:a,clearErrors:s,setValue:o,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:m,register:g,setFocus:v,subscribe:b}),[s,m,u,i,n,h,g,f,d,a,v,o,b,c,p,r])},A.createElement(mE.Provider,{value:m},t))};var aU=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},np=e=>Array.isArray(e)?e:[e],f2=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function sU(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const i=e[n],a=t[n];if(i&&Nr(i)&&a){const s=sU(i,a);Nr(s)&&(r[n]=s)}else e[n]&&(r[n]=a)}return r}var En=e=>Nr(e)&&!Object.keys(e).length,xE=e=>e.type==="file",Vy=e=>{if(!fE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},oU=e=>e.type==="select-multiple",bE=e=>e.type==="radio",Gie=e=>bE(e)||tg(e),j_=e=>Vy(e)&&e.isConnected;function Kie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Kt(e)?n++:e[t[n++]];return e}function Yie(e){for(const t in e)if(e.hasOwnProperty(t)&&!Kt(e[t]))return!1;return!0}function wr(e,t){const r=Array.isArray(t)?t:n0(t)?[t]:pE(t),n=r.length===1?e:Kie(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Nr(n)&&En(n)||Array.isArray(n)&&Yie(n))&&wr(e,r.slice(0,-1)),e}var Jie=e=>{for(const t in e)if(Tn(e[t]))return!0;return!1};function lU(e){return Array.isArray(e)||Nr(e)&&!Jie(e)}function xj(e,t={}){for(const r in e){const n=e[r];lU(n)?(t[r]=Array.isArray(n)?[]:{},xj(n,t[r])):Kt(n)||(t[r]=!0)}return t}function $u(e,t,r){r||(r=xj(t));for(const n in e){const i=e[n];if(lU(i))Kt(t)||yj(r[n])?r[n]=xj(i,Array.isArray(i)?[]:{}):$u(i,Vn(t)?{}:t[n],r[n]);else{const a=t[n];r[n]=!ba(i,a)}}return r}const h2={value:!1,isValid:!1},p2={value:!0,isValid:!0};var cU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Kt(e[0].attributes.value)?Kt(e[0].value)||e[0].value===""?p2:{value:e[0].value,isValid:!0}:p2:h2}return h2},uU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Kt(e)?e:t?e===""?NaN:e&&+e:r&&hi(e)?new Date(e):n?n(e):e;const m2={isValid:!1,value:null};var dU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,m2):m2;function g2(e){const t=e.ref;return xE(t)?t.files:bE(t)?dU(e.refs).value:oU(t)?[...t.selectedOptions].map(({value:r})=>r):tg(t)?cU(e.refs).value:uU(Kt(t.value)?e.ref.value:t.value,e)}var Xie=(e,t,r,n)=>{const i={};for(const a of e){const s=be(t,a);s&&_t(i,a,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Wy=e=>e instanceof RegExp,yh=e=>Kt(e)?e:Wy(e)?e.source:Nr(e)?Wy(e.value)?e.value.source:e.value:e,v2=e=>({isOnSubmit:!e||e===xa.onSubmit,isOnBlur:e===xa.onBlur,isOnChange:e===xa.onChange,isOnAll:e===xa.all,isOnTouch:e===xa.onTouched});const y2="AsyncFunction";var Qie=e=>!!e&&!!e.validate&&!!(Tn(e.validate)&&e.validate.constructor.name===y2||Nr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===y2)),Zie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),x2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ip=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=be(e,i);if(a){const{_f:s,...o}=a;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(ip(o,t))break}else if(Nr(o)&&ip(o,t))break}}};function b2(e,t,r){const n=be(e,r);if(n||n0(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),s=be(t,a),o=be(e,a);if(s&&!Array.isArray(s)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var eae=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return En(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(s=>t[s]===(!n||xa.all))},tae=(e,t,r)=>!e||!t||e===t||np(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),rae=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,nae=(e,t)=>!hE(be(e,t)).length&&wr(e,t),iae=(e,t,r)=>{const n=np(be(e,r));return _t(n,"root",t[r]),_t(e,r,n),e};function w2(e,t,r="validate"){if(hi(e)||Array.isArray(e)&&e.every(hi)||li(e)&&!e)return{type:r,message:hi(e)?e:"",ref:t}}var wu=e=>Nr(e)&&!Wy(e)?e:{value:e,message:""},_2=async(e,t,r,n,i,a)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:m,name:g,valueAsNumber:v,mount:b}=e._f,y=be(r,g);if(!b||t.has(g))return{};const w=o?o[0]:s,_=M=>{i&&w.reportValidity&&(w.setCustomValidity(li(M)?"":M||""),w.reportValidity())},S={},k=bE(s),N=tg(s),E=k||N,P=(v||xE(s))&&Kt(s.value)&&Kt(y)||Vy(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,T=aU.bind(null,g,n,S),$=(M,F,R,U=bs.maxLength,W=bs.minLength)=>{const z=M?F:R;S[g]={type:M?U:W,message:z,ref:s,...T(M?U:W,z)}};if(a?!Array.isArray(y)||!y.length:c&&(!E&&(P||Vn(y))||li(y)&&!y||N&&!cU(o).isValid||k&&!dU(o).isValid)){const{value:M,message:F}=hi(c)?{value:!!c,message:c}:wu(c);if(M&&(S[g]={type:bs.required,message:F,ref:w,...T(bs.required,F)},!n))return _(F),S}if(!P&&(!Vn(f)||!Vn(h))){let M,F;const R=wu(h),U=wu(f);if(!Vn(y)&&!isNaN(y)){const W=s.valueAsNumber||y&&+y;Vn(R.value)||(M=W>R.value),Vn(U.value)||(F=W<U.value)}else{const W=s.valueAsDate||new Date(y),z=G=>new Date(new Date().toDateString()+" "+G),L=s.type=="time",B=s.type=="week";hi(R.value)&&y&&(M=L?z(y)>z(R.value):B?y>R.value:W>new Date(R.value)),hi(U.value)&&y&&(F=L?z(y)<z(U.value):B?y<U.value:W<new Date(U.value))}if((M||F)&&($(!!M,R.message,U.message,bs.max,bs.min),!n))return _(S[g].message),S}if((u||d)&&!P&&(hi(y)||a&&Array.isArray(y))){const M=wu(u),F=wu(d),R=!Vn(M.value)&&y.length>+M.value,U=!Vn(F.value)&&y.length<+F.value;if((R||U)&&($(R,M.message,F.message),!n))return _(S[g].message),S}if(p&&!P&&hi(y)){const{value:M,message:F}=wu(p);if(Wy(M)&&!y.match(M)&&(S[g]={type:bs.pattern,message:F,ref:s,...T(bs.pattern,F)},!n))return _(F),S}if(m){if(Tn(m)){const M=await m(y,r),F=w2(M,w);if(F&&(S[g]={...F,...T(bs.validate,F.message)},!n))return _(F.message),S}else if(Nr(m)){let M={};for(const F in m){if(!En(M)&&!n)break;const R=w2(await m[F](y,r),w,F);R&&(M={...R,...T(F,R.message)},_(R.message),n&&(S[g]=M))}if(!En(M)&&(S[g]={ref:w,...M},!n))return S}}return _(!0),S};const aae={mode:xa.onSubmit,reValidateMode:xa.onChange,shouldFocusError:!0};function sae(e={}){let t={...aae,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Tn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Nr(t.defaultValues)||Nr(t.values)?br(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:br(i),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:f2(),state:f2()},m=t.criteriaMode===xa.all,g=V=>J=>{clearTimeout(u),u=setTimeout(V,J)},v=async V=>{if(!s.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||V)){let J;t.resolver?(J=En((await E()).errors),b()):J=await T(n,!0),J!==r.isValid&&p.state.next({isValid:J})}},b=(V,J)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((V||Array.from(o.mount)).forEach(Z=>{Z&&(J?_t(r.validatingFields,Z,J):wr(r.validatingFields,Z))}),p.state.next({validatingFields:r.validatingFields,isValidating:!En(r.validatingFields)}))},y=(V,J=[],Z,ve,de=!0,ae=!0)=>{if(ve&&Z&&!t.disabled){if(s.action=!0,ae&&Array.isArray(be(n,V))){const Ee=Z(be(n,V),ve.argA,ve.argB);de&&_t(n,V,Ee)}if(ae&&Array.isArray(be(r.errors,V))){const Ee=Z(be(r.errors,V),ve.argA,ve.argB);de&&_t(r.errors,V,Ee),nae(r.errors,V)}if((f.touchedFields||h.touchedFields)&&ae&&Array.isArray(be(r.touchedFields,V))){const Ee=Z(be(r.touchedFields,V),ve.argA,ve.argB);de&&_t(r.touchedFields,V,Ee)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=$u(i,a)),p.state.next({name:V,isDirty:M(V,J),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _t(a,V,J)},w=(V,J)=>{_t(r.errors,V,J),p.state.next({errors:r.errors})},_=V=>{r.errors=V,p.state.next({errors:r.errors,isValid:!1})},S=(V,J,Z,ve)=>{const de=be(n,V);if(de){const ae=be(a,V,Kt(Z)?be(i,V):Z);Kt(ae)||ve&&ve.defaultChecked||J?_t(a,V,J?ae:g2(de._f)):U(V,ae),s.mount&&!s.action&&v()}},k=(V,J,Z,ve,de)=>{let ae=!1,Ee=!1;const mt={name:V};if(!t.disabled){if(!Z||ve){(f.isDirty||h.isDirty)&&(Ee=r.isDirty,r.isDirty=mt.isDirty=M(),ae=Ee!==mt.isDirty);const gt=ba(be(i,V),J);Ee=!!be(r.dirtyFields,V),gt?wr(r.dirtyFields,V):_t(r.dirtyFields,V,!0),mt.dirtyFields=r.dirtyFields,ae=ae||(f.dirtyFields||h.dirtyFields)&&Ee!==!gt}if(Z){const gt=be(r.touchedFields,V);gt||(_t(r.touchedFields,V,Z),mt.touchedFields=r.touchedFields,ae=ae||(f.touchedFields||h.touchedFields)&&gt!==Z)}ae&&de&&p.state.next(mt)}return ae?mt:{}},N=(V,J,Z,ve)=>{const de=be(r.errors,V),ae=(f.isValid||h.isValid)&&li(J)&&r.isValid!==J;if(t.delayError&&Z?(c=g(()=>w(V,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?_t(r.errors,V,Z):wr(r.errors,V)),(Z?!ba(de,Z):de)||!En(ve)||ae){const Ee={...ve,...ae&&li(J)?{isValid:J}:{},errors:r.errors,name:V};r={...r,...Ee},p.state.next(Ee)}},E=async V=>(b(V,!0),await t.resolver(a,t.context,Xie(V||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),P=async V=>{const{errors:J}=await E(V);if(b(V),V)for(const Z of V){const ve=be(J,Z);ve?_t(r.errors,Z,ve):wr(r.errors,Z)}else r.errors=J;return J},T=async(V,J,Z={valid:!0})=>{for(const ve in V){const de=V[ve];if(de){const{_f:ae,...Ee}=de;if(ae){const mt=o.array.has(ae.name),gt=de._f&&Qie(de._f);gt&&f.validatingFields&&b([ae.name],!0);const xr=await _2(de,o.disabled,a,m,t.shouldUseNativeValidation&&!J,mt);if(gt&&f.validatingFields&&b([ae.name]),xr[ae.name]&&(Z.valid=!1,J||e.shouldUseNativeValidation))break;!J&&(be(xr,ae.name)?mt?iae(r.errors,xr,ae.name):_t(r.errors,ae.name,xr[ae.name]):wr(r.errors,ae.name))}!En(Ee)&&await T(Ee,J,Z)}}return Z.valid},$=()=>{for(const V of o.unMount){const J=be(n,V);J&&(J._f.refs?J._f.refs.every(Z=>!j_(Z)):!j_(J._f.ref))&&q(V)}o.unMount=new Set},M=(V,J)=>!t.disabled&&(V&&J&&_t(a,V,J),!ba(te(),i)),F=(V,J,Z)=>vj(V,o,{...s.mount?a:Kt(J)?i:hi(V)?{[V]:J}:J},Z,J),R=V=>hE(be(s.mount?a:i,V,t.shouldUnregister?be(i,V,[]):[])),U=(V,J,Z={})=>{const ve=be(n,V);let de=J;if(ve){const ae=ve._f;ae&&(!ae.disabled&&_t(a,V,uU(J,ae)),de=Vy(ae.ref)&&Vn(J)?"":J,oU(ae.ref)?[...ae.ref.options].forEach(Ee=>Ee.selected=de.includes(Ee.value)):ae.refs?tg(ae.ref)?ae.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(de)?Ee.checked=!!de.find(mt=>mt===Ee.value):Ee.checked=de===Ee.value||!!de)}):ae.refs.forEach(Ee=>Ee.checked=Ee.value===de):xE(ae.ref)?ae.ref.value="":(ae.ref.value=de,ae.ref.type||p.state.next({name:V,values:br(a)})))}(Z.shouldDirty||Z.shouldTouch)&&k(V,de,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&G(V)},W=(V,J,Z)=>{for(const ve in J){if(!J.hasOwnProperty(ve))return;const de=J[ve],ae=V+"."+ve,Ee=be(n,ae);(o.array.has(V)||Nr(de)||Ee&&!Ee._f)&&!ac(de)?W(ae,de,Z):U(ae,de,Z)}},z=(V,J,Z={})=>{const ve=be(n,V),de=o.array.has(V),ae=br(J);_t(a,V,ae),de?(p.array.next({name:V,values:br(a)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Z.shouldDirty&&p.state.next({name:V,dirtyFields:$u(i,a),isDirty:M(V,ae)})):ve&&!ve._f&&!Vn(ae)?W(V,ae,Z):U(V,ae,Z),x2(V,o)?p.state.next({...r,name:V,values:br(a)}):p.state.next({name:s.mount?V:void 0,values:br(a)})},L=async V=>{s.mount=!0;const J=V.target;let Z=J.name,ve=!0;const de=be(n,Z),ae=gt=>{ve=Number.isNaN(gt)||ac(gt)&&isNaN(gt.getTime())||ba(gt,be(a,Z,gt))},Ee=v2(t.mode),mt=v2(t.reValidateMode);if(de){let gt,xr;const vs=J.type?g2(de._f):rU(V),Qi=V.type===zy.BLUR||V.type===zy.FOCUS_OUT,sh=!Zie(de._f)&&!t.resolver&&!be(r.errors,Z)&&!de._f.deps||rae(Qi,be(r.touchedFields,Z),r.isSubmitted,mt,Ee),La=x2(Z,o,Qi);_t(a,Z,vs),Qi?(!J||!J.readOnly)&&(de._f.onBlur&&de._f.onBlur(V),c&&c(0)):de._f.onChange&&de._f.onChange(V);const hu=k(Z,vs,Qi),po=!En(hu)||La;if(!Qi&&p.state.next({name:Z,type:V.type,values:br(a)}),sh)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Qi&&v():Qi||v()),po&&p.state.next({name:Z,...La?{}:hu});if(!Qi&&La&&p.state.next({...r}),t.resolver){const{errors:jg}=await E([Z]);if(b([Z]),ae(vs),ve){const Aw=b2(r.errors,n,Z),oh=b2(jg,n,Aw.name||Z);gt=oh.error,Z=oh.name,xr=En(jg)}}else b([Z],!0),gt=(await _2(de,o.disabled,a,m,t.shouldUseNativeValidation))[Z],b([Z]),ae(vs),ve&&(gt?xr=!1:(f.isValid||h.isValid)&&(xr=await T(n,!0)));ve&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&G(de._f.deps),N(Z,xr,gt,hu))}},B=(V,J)=>{if(be(r.errors,J)&&V.focus)return V.focus(),1},G=async(V,J={})=>{let Z,ve;const de=np(V);if(t.resolver){const ae=await P(Kt(V)?V:de);Z=En(ae),ve=V?!de.some(Ee=>be(ae,Ee)):Z}else V?(ve=(await Promise.all(de.map(async ae=>{const Ee=be(n,ae);return await T(Ee&&Ee._f?{[ae]:Ee}:Ee)}))).every(Boolean),!(!ve&&!r.isValid)&&v()):ve=Z=await T(n);return p.state.next({...!hi(V)||(f.isValid||h.isValid)&&Z!==r.isValid?{}:{name:V},...t.resolver||!V?{isValid:Z}:{},errors:r.errors}),J.shouldFocus&&!ve&&ip(n,B,V?de:o.mount),ve},te=(V,J)=>{let Z={...s.mount?a:i};return J&&(Z=sU(J.dirtyFields?r.dirtyFields:r.touchedFields,Z)),Kt(V)?Z:hi(V)?be(Z,V):V.map(ve=>be(Z,ve))},X=(V,J)=>({invalid:!!be((J||r).errors,V),isDirty:!!be((J||r).dirtyFields,V),error:be((J||r).errors,V),isValidating:!!be(r.validatingFields,V),isTouched:!!be((J||r).touchedFields,V)}),j=V=>{V&&np(V).forEach(J=>wr(r.errors,J)),p.state.next({errors:V?r.errors:{}})},O=(V,J,Z)=>{const ve=(be(n,V,{_f:{}})._f||{}).ref,de=be(r.errors,V)||{},{ref:ae,message:Ee,type:mt,...gt}=de;_t(r.errors,V,{...gt,...J,ref:ve}),p.state.next({name:V,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&ve&&ve.focus&&ve.focus()},C=(V,J)=>Tn(V)?p.state.subscribe({next:Z=>"values"in Z&&V(F(void 0,J),Z)}):F(V,J,!0),D=V=>p.state.subscribe({next:J=>{tae(V.name,J.name,V.exact)&&eae(J,V.formState||f,wt,V.reRenderRoot)&&V.callback({values:{...a},...r,...J,defaultValues:i})}}).unsubscribe,I=V=>(s.mount=!0,h={...h,...V.formState},D({...V,formState:{...d,...V.formState}})),q=(V,J={})=>{for(const Z of V?np(V):o.mount)o.mount.delete(Z),o.array.delete(Z),J.keepValue||(wr(n,Z),wr(a,Z)),!J.keepError&&wr(r.errors,Z),!J.keepDirty&&wr(r.dirtyFields,Z),!J.keepTouched&&wr(r.touchedFields,Z),!J.keepIsValidating&&wr(r.validatingFields,Z),!t.shouldUnregister&&!J.keepDefaultValue&&wr(i,Z);p.state.next({values:br(a)}),p.state.next({...r,...J.keepDirty?{isDirty:M()}:{}}),!J.keepIsValid&&v()},H=({disabled:V,name:J})=>{if(li(V)&&s.mount||V||o.disabled.has(J)){const de=o.disabled.has(J)!==!!V;V?o.disabled.add(J):o.disabled.delete(J),de&&s.mount&&!s.action&&v()}},K=(V,J={})=>{let Z=be(n,V);const ve=li(J.disabled)||li(t.disabled);return _t(n,V,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:V}},name:V,mount:!0,...J}}),o.mount.add(V),Z?H({disabled:li(J.disabled)?J.disabled:t.disabled,name:V}):S(V,!0,J.value),{...ve?{disabled:J.disabled||t.disabled}:{},...t.progressive?{required:!!J.required,min:yh(J.min),max:yh(J.max),minLength:yh(J.minLength),maxLength:yh(J.maxLength),pattern:yh(J.pattern)}:{},name:V,onChange:L,onBlur:L,ref:de=>{if(de){K(V,J),Z=be(n,V);const ae=Kt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,Ee=Gie(ae),mt=Z._f.refs||[];if(Ee?mt.find(gt=>gt===ae):ae===Z._f.ref)return;_t(n,V,{_f:{...Z._f,...Ee?{refs:[...mt.filter(j_),ae,...Array.isArray(be(i,V))?[{}]:[]],ref:{type:ae.type,name:V}}:{ref:ae}}}),S(V,!1,void 0,ae)}else Z=be(n,V,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||J.shouldUnregister)&&!(nU(o.array,V)&&s.action)&&o.unMount.add(V)}}},Q=()=>t.shouldFocusError&&ip(n,B,o.mount),Y=V=>{li(V)&&(p.state.next({disabled:V}),ip(n,(J,Z)=>{const ve=be(n,Z);ve&&(J.disabled=ve._f.disabled||V,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(de=>{de.disabled=ve._f.disabled||V}))},0,!1))},ye=(V,J)=>async Z=>{let ve;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let de=br(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Ee}=await E();b(),r.errors=ae,de=br(Ee)}else await T(n);if(o.disabled.size)for(const ae of o.disabled)wr(de,ae);if(wr(r.errors,"root"),En(r.errors)){p.state.next({errors:{}});try{await V(de,Z)}catch(ae){ve=ae}}else J&&await J({...r.errors},Z),Q(),setTimeout(Q);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},Ae=(V,J={})=>{be(n,V)&&(Kt(J.defaultValue)?z(V,br(be(i,V))):(z(V,J.defaultValue),_t(i,V,br(J.defaultValue))),J.keepTouched||wr(r.touchedFields,V),J.keepDirty||(wr(r.dirtyFields,V),r.isDirty=J.defaultValue?M(V,br(be(i,V))):M()),J.keepError||(wr(r.errors,V),f.isValid&&v()),p.state.next({...r}))},tt=(V,J={})=>{const Z=V?br(V):i,ve=br(Z),de=En(V),ae=de?i:ve;if(J.keepDefaultValues||(i=Z),!J.keepValues){if(J.keepDirtyValues){const Ee=new Set([...o.mount,...Object.keys($u(i,a))]);for(const mt of Array.from(Ee)){const gt=be(r.dirtyFields,mt),xr=be(a,mt),vs=be(ae,mt);gt&&!Kt(xr)?_t(ae,mt,xr):!gt&&!Kt(vs)&&z(mt,vs)}}else{if(fE&&Kt(V))for(const Ee of o.mount){const mt=be(n,Ee);if(mt&&mt._f){const gt=Array.isArray(mt._f.refs)?mt._f.refs[0]:mt._f.ref;if(Vy(gt)){const xr=gt.closest("form");if(xr){xr.reset();break}}}}if(J.keepFieldsRef)for(const Ee of o.mount)z(Ee,be(ae,Ee));else n={}}a=t.shouldUnregister?J.keepDefaultValues?br(i):{}:br(ae),p.array.next({values:{...ae}}),p.state.next({values:{...ae}})}o={mount:J.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!J.keepIsValid||!!J.keepDirtyValues||!t.shouldUnregister&&!En(ae),s.watch=!!t.shouldUnregister,s.keepIsValid=!!J.keepIsValid,s.action=!1,J.keepErrors||(r.errors={}),p.state.next({submitCount:J.keepSubmitCount?r.submitCount:0,isDirty:de?!1:J.keepDirty?r.isDirty:!!(J.keepDefaultValues&&!ba(V,i)),isSubmitted:J.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:J.keepDirtyValues?J.keepDefaultValues&&a?$u(i,a):r.dirtyFields:J.keepDefaultValues&&V?$u(i,V):J.keepDirty?r.dirtyFields:{},touchedFields:J.keepTouched?r.touchedFields:{},errors:J.keepErrors?r.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},nt=(V,J)=>tt(Tn(V)?V(a):V,{...t.resetOptions,...J}),Je=(V,J={})=>{const Z=be(n,V),ve=Z&&Z._f;if(ve){const de=ve.refs?ve.refs[0]:ve.ref;de.focus&&setTimeout(()=>{de.focus(),J.shouldSelect&&Tn(de.select)&&de.select()})}},wt=V=>{r={...r,...V}},dn={control:{register:K,unregister:q,getFieldState:X,handleSubmit:ye,setError:O,_subscribe:D,_runSchema:E,_updateIsValidating:b,_focusError:Q,_getWatch:F,_getDirty:M,_setValid:v,_setFieldArray:y,_setDisabledField:H,_setErrors:_,_getFieldArray:R,_reset:tt,_resetDefaultValues:()=>Tn(t.defaultValues)&&t.defaultValues().then(V=>{nt(V,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Y,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return s},set _state(V){s=V},get _defaultValues(){return i},get _names(){return o},set _names(V){o=V},get _formState(){return r},get _options(){return t},set _options(V){t={...t,...V}}},subscribe:I,trigger:G,register:K,handleSubmit:ye,watch:C,setValue:z,getValues:te,reset:nt,resetField:Ae,clearErrors:j,unregister:q,setError:O,setFocus:Je,getFieldState:X};return{...dn,formControl:dn}}function Hy(e={}){const t=A.useRef(void 0),r=A.useRef(void 0),[n,i]=A.useState({isDirty:!1,isValidating:!1,isLoading:Tn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Tn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Tn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...o}=sae(e);t.current={...o,formState:n}}const a=t.current.control;return a._options=e,vE(()=>{const s=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,s},[a]),A.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),A.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),A.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),A.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),A.useEffect(()=>{if(a._proxyFormState.isDirty){const s=a._getDirty();s!==n.isDirty&&a._subjects.state.next({isDirty:s})}},[a,n.isDirty]),A.useEffect(()=>{var s;e.values&&!ba(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((s=a._options.resetOptions)===null||s===void 0)&&s.keepIsValid||a._setValid(),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),A.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=A.useMemo(()=>iU(n,a),[a,n]),t.current}const S2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=be(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},fU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?S2(n.ref,r,e):n.refs&&n.refs.forEach(i=>S2(i,r,e))}},oae=(e,t)=>{t.shouldUseNativeValidation&&fU(e,t);const r={};for(const n in e){const i=be(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(lae(t.names||Object.keys(e),n)){const s=Object.assign({},be(r,n));_t(s,"root",a),_t(r,n,s)}else _t(r,n,a)}return r},lae=(e,t)=>e.some(r=>r.startsWith(t+"."));var cae=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[s]={message:o.message,type:o.code}}else r[s]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=aU(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},qy=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(s,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&fU({},a),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(s){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(s))return{values:{},errors:oae(cae(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw s}))}catch(s){return Promise.reject(s)}}},ht;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const s of i)a[s]=s;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),s={};for(const o of a)s[o]=i[o];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(const s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ht||(ht={}));var j2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(j2||(j2={}));const ke=ht.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ao=e=>{switch(typeof e){case"undefined":return ke.undefined;case"string":return ke.string;case"number":return Number.isNaN(e)?ke.nan:ke.number;case"boolean":return ke.boolean;case"function":return ke.function;case"bigint":return ke.bigint;case"symbol":return ke.symbol;case"object":return Array.isArray(e)?ke.array:e===null?ke.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ke.promise:typeof Map<"u"&&e instanceof Map?ke.map:typeof Set<"u"&&e instanceof Set?ke.set:typeof Date<"u"&&e instanceof Date?ke.date:ke.object;default:return ke.unknown}},ue=ht.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let o=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(s))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ht.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qs.create=e=>new Qs(e);const bj=(e,t)=>{let r;switch(e.code){case ue.invalid_type:e.received===ke.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,ht.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${ht.joinValues(e.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ht.joinValues(e.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${ht.joinValues(e.options)}, received '${e.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:ht.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ue.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ue.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=t.defaultError,ht.assertNever(e)}return{message:r}};let uae=bj;function dae(){return uae}const fae=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function _e(e,t){const r=dae(),n=fae({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===bj?void 0:bj].filter(i=>!!i)});e.common.issues.push(n)}class ji{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Ke;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,s=await i.value;n.push({key:a,value:s})}return ji.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ke;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}}const Ke=Object.freeze({status:"aborted"}),Fh=e=>({status:"dirty",value:e}),Ki=e=>({status:"valid",value:e}),k2=e=>e.status==="aborted",N2=e=>e.status==="dirty",Vd=e=>e.status==="valid",Gy=e=>typeof Promise<"u"&&e instanceof Promise;var Pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pe||(Pe={}));class hl{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const C2=(e,t)=>{if(Vd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qs(e.common.issues);return this._error=r,this._error}}};function rt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,o)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:s.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:i}}class ft{get description(){return this._def.description}_getType(t){return Ao(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ji,ctx:{common:t.parent.common,data:t.data,parsedType:Ao(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Gy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ao(t)},i=this._parseSync({data:t,path:n.path,parent:n});return C2(n,i)}"~validate"(t){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ao(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Vd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Vd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ao(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Gy(i)?i:Promise.resolve(i));return C2(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const s=t(i),o=()=>a.addIssue({code:ue.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Hd({schema:this,typeName:Ye.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return al.create(this,this._def)}nullable(){return qd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return Jy.create(this,this._def)}or(t){return Ky.create([this,t],this._def)}and(t){return Yy.create(this,t,this._def)}transform(t){return new Hd({...rt(this._def),schema:this,typeName:Ye.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Sj({...rt(this._def),innerType:this,defaultValue:r,typeName:Ye.ZodDefault})}brand(){return new Iae({typeName:Ye.ZodBranded,type:this,...rt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new jj({...rt(this._def),innerType:this,catchValue:r,typeName:Ye.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return wE.create(this,t)}readonly(){return kj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hae=/^c[^\s-]{8,}$/i,pae=/^[0-9a-z]+$/,mae=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vae=/^[a-z0-9_-]{21}$/i,yae=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let k_;const _ae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Sae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,jae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cae=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,hU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Eae=new RegExp(`^${hU}$`);function pU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Oae(e){return new RegExp(`^${pU(e)}$`)}function Pae(e){let t=`${hU}T${pU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Aae(e,t){return!!((t==="v4"||!t)&&_ae.test(e)||(t==="v6"||!t)&&jae.test(e))}function Tae(e,t){if(!yae.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Mae(e,t){return!!((t==="v4"||!t)&&Sae.test(e)||(t==="v6"||!t)&&kae.test(e))}class Go extends ft{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ke.string){const a=this._getOrReturnCtx(t);return _e(a,{code:ue.invalid_type,expected:ke.string,received:a.parsedType}),Ke}const n=new ji;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const s=t.data.length>a.value,o=t.data.length<a.value;(s||o)&&(i=this._getOrReturnCtx(t,i),s?_e(i,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&_e(i,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")bae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"email",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")k_||(k_=new RegExp(wae,"u")),k_.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"emoji",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")gae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"uuid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"nanoid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")hae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"cuid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")pae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"cuid2",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")mae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"ulid",code:ue.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),_e(i,{validation:"url",code:ue.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"regex",code:ue.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Pae(a).test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Eae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Oae(a).test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"duration",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Aae(t.data,a.version)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"ip",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Tae(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"jwt",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Mae(t.data,a.version)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"cidr",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?Nae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"base64",code:ue.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Cae.test(t.data)||(i=this._getOrReturnCtx(t,i),_e(i,{validation:"base64url",code:ue.invalid_string,message:a.message}),n.dirty()):ht.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:ue.invalid_string,...Pe.errToObj(n)})}_addCheck(t){return new Go({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Pe.errToObj(r)})}nonempty(t){return this.min(1,Pe.errToObj(t))}trim(){return new Go({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Go({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Go({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Go.create=e=>new Go({checks:[],typeName:Ye.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});function $ae(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return a%s/10**i}class qp extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ke.number){const a=this._getOrReturnCtx(t);return _e(a,{code:ue.invalid_type,expected:ke.number,received:a.parsedType}),Ke}let n;const i=new ji;for(const a of this._def.checks)a.kind==="int"?ht.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?$ae(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_finite,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pe.toString(r))}setLimit(t,r,n,i){return new qp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pe.toString(i)}]})}_addCheck(t){return new qp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ht.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}qp.create=e=>new qp({checks:[],typeName:Ye.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class Gp extends ft{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ke.bigint)return this._getInvalidInput(t);let n;const i=new ji;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),_e(n,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ht.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:ke.bigint,received:r.parsedType}),Ke}gte(t,r){return this.setLimit("min",t,!0,Pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pe.toString(r))}setLimit(t,r,n,i){return new Gp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pe.toString(i)}]})}_addCheck(t){return new Gp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Gp.create=e=>new Gp({checks:[],typeName:Ye.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...rt(e)});class wj extends ft{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ke.boolean){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.boolean,received:n.parsedType}),Ke}return Ki(t.data)}}wj.create=e=>new wj({typeName:Ye.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...rt(e)});class Kp extends ft{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ke.date){const a=this._getOrReturnCtx(t);return _e(a,{code:ue.invalid_type,expected:ke.date,received:a.parsedType}),Ke}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return _e(a,{code:ue.invalid_date}),Ke}const n=new ji;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),_e(i,{code:ue.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):ht.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Kp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Kp.create=e=>new Kp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ye.ZodDate,...rt(e)});class E2 extends ft{_parse(t){if(this._getType(t)!==ke.symbol){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.symbol,received:n.parsedType}),Ke}return Ki(t.data)}}E2.create=e=>new E2({typeName:Ye.ZodSymbol,...rt(e)});class O2 extends ft{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.undefined,received:n.parsedType}),Ke}return Ki(t.data)}}O2.create=e=>new O2({typeName:Ye.ZodUndefined,...rt(e)});class P2 extends ft{_parse(t){if(this._getType(t)!==ke.null){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.null,received:n.parsedType}),Ke}return Ki(t.data)}}P2.create=e=>new P2({typeName:Ye.ZodNull,...rt(e)});class A2 extends ft{constructor(){super(...arguments),this._any=!0}_parse(t){return Ki(t.data)}}A2.create=e=>new A2({typeName:Ye.ZodAny,...rt(e)});class T2 extends ft{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ki(t.data)}}T2.create=e=>new T2({typeName:Ye.ZodUnknown,...rt(e)});class pl extends ft{_parse(t){const r=this._getOrReturnCtx(t);return _e(r,{code:ue.invalid_type,expected:ke.never,received:r.parsedType}),Ke}}pl.create=e=>new pl({typeName:Ye.ZodNever,...rt(e)});class M2 extends ft{_parse(t){if(this._getType(t)!==ke.undefined){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.void,received:n.parsedType}),Ke}return Ki(t.data)}}M2.create=e=>new M2({typeName:Ye.ZodVoid,...rt(e)});class is extends ft{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ke.array)return _e(r,{code:ue.invalid_type,expected:ke.array,received:r.parsedType}),Ke;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(s||o)&&(_e(r,{code:s?ue.too_big:ue.too_small,minimum:o?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(_e(r,{code:ue.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(_e(r,{code:ue.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,o)=>i.type._parseAsync(new hl(r,s,r.path,o)))).then(s=>ji.mergeArray(n,s));const a=[...r.data].map((s,o)=>i.type._parseSync(new hl(r,s,r.path,o)));return ji.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new is({...this._def,minLength:{value:t,message:Pe.toString(r)}})}max(t,r){return new is({...this._def,maxLength:{value:t,message:Pe.toString(r)}})}length(t,r){return new is({...this._def,exactLength:{value:t,message:Pe.toString(r)}})}nonempty(t){return this.min(1,t)}}is.create=(e,t)=>new is({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ye.ZodArray,...rt(t)});function Iu(e){if(e instanceof jr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=al.create(Iu(n))}return new jr({...e._def,shape:()=>t})}else return e instanceof is?new is({...e._def,type:Iu(e.element)}):e instanceof al?al.create(Iu(e.unwrap())):e instanceof qd?qd.create(Iu(e.unwrap())):e instanceof Mc?Mc.create(e.items.map(t=>Iu(t))):e}class jr extends ft{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=ht.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ke.object){const u=this._getOrReturnCtx(t);return _e(u,{code:ue.invalid_type,expected:ke.object,received:u.parsedType}),Ke}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),o=[];if(!(this._def.catchall instanceof pl&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||o.push(u);const c=[];for(const u of s){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new hl(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof pl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")o.length>0&&(_e(i,{code:ue.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new hl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ji.mergeObjectSync(n,u)):ji.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Pe.errToObj,new jr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,s;const i=((s=(a=this._def).errorMap)==null?void 0:s.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Pe.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new jr({...this._def,unknownKeys:"strip"})}passthrough(){return new jr({...this._def,unknownKeys:"passthrough"})}extend(t){return new jr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new jr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ye.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new jr({...this._def,catchall:t})}pick(t){const r={};for(const n of ht.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new jr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of ht.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new jr({...this._def,shape:()=>r})}deepPartial(){return Iu(this)}partial(t){const r={};for(const n of ht.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new jr({...this._def,shape:()=>r})}required(t){const r={};for(const n of ht.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof al;)a=a._def.innerType;r[n]=a}return new jr({...this._def,shape:()=>r})}keyof(){return mU(ht.objectKeys(this.shape))}}jr.create=(e,t)=>new jr({shape:()=>e,unknownKeys:"strip",catchall:pl.create(),typeName:Ye.ZodObject,...rt(t)});jr.strictCreate=(e,t)=>new jr({shape:()=>e,unknownKeys:"strict",catchall:pl.create(),typeName:Ye.ZodObject,...rt(t)});jr.lazycreate=(e,t)=>new jr({shape:e,unknownKeys:"strip",catchall:pl.create(),typeName:Ye.ZodObject,...rt(t)});class Ky extends ft{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const s=a.map(o=>new Qs(o.ctx.common.issues));return _e(r,{code:ue.invalid_union,unionErrors:s}),Ke}if(r.common.async)return Promise.all(n.map(async a=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(c=>new Qs(c));return _e(r,{code:ue.invalid_union,unionErrors:o}),Ke}}get options(){return this._def.options}}Ky.create=(e,t)=>new Ky({options:e,typeName:Ye.ZodUnion,...rt(t)});function _j(e,t){const r=Ao(e),n=Ao(t);if(e===t)return{valid:!0,data:e};if(r===ke.object&&n===ke.object){const i=ht.objectKeys(t),a=ht.objectKeys(e).filter(o=>i.indexOf(o)!==-1),s={...e,...t};for(const o of a){const c=_j(e[o],t[o]);if(!c.valid)return{valid:!1};s[o]=c.data}return{valid:!0,data:s}}else if(r===ke.array&&n===ke.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const s=e[a],o=t[a],c=_j(s,o);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ke.date&&n===ke.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Yy extends ft{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(k2(a)||k2(s))return Ke;const o=_j(a.value,s.value);return o.valid?((N2(a)||N2(s))&&r.dirty(),{status:r.value,value:o.data}):(_e(n,{code:ue.invalid_intersection_types}),Ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Yy.create=(e,t,r)=>new Yy({left:e,right:t,typeName:Ye.ZodIntersection,...rt(r)});class Mc extends ft{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.array)return _e(n,{code:ue.invalid_type,expected:ke.array,received:n.parsedType}),Ke;if(n.data.length<this._def.items.length)return _e(n,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ke;!this._def.rest&&n.data.length>this._def.items.length&&(_e(n,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((s,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new hl(n,s,n.path,o)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>ji.mergeArray(r,s)):ji.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Mc({...this._def,rest:t})}}Mc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mc({items:e,typeName:Ye.ZodTuple,rest:null,...rt(t)})};class $2 extends ft{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.map)return _e(n,{code:ue.invalid_type,expected:ke.map,received:n.parsedType}),Ke;const i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([o,c],u)=>({key:i._parse(new hl(n,o,n.path,[u,"key"])),value:a._parse(new hl(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}$2.create=(e,t,r)=>new $2({valueType:t,keyType:e,typeName:Ye.ZodMap,...rt(r)});class Yp extends ft{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ke.set)return _e(n,{code:ue.invalid_type,expected:ke.set,received:n.parsedType}),Ke;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(_e(n,{code:ue.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(_e(n,{code:ue.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ke;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>a._parse(new hl(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>s(c)):s(o)}min(t,r){return new Yp({...this._def,minSize:{value:t,message:Pe.toString(r)}})}max(t,r){return new Yp({...this._def,maxSize:{value:t,message:Pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Yp.create=(e,t)=>new Yp({valueType:e,minSize:null,maxSize:null,typeName:Ye.ZodSet,...rt(t)});class I2 extends ft{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}I2.create=(e,t)=>new I2({getter:e,typeName:Ye.ZodLazy,...rt(t)});class R2 extends ft{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return _e(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),Ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}R2.create=(e,t)=>new R2({value:e,typeName:Ye.ZodLiteral,...rt(t)});function mU(e,t){return new Wd({values:e,typeName:Ye.ZodEnum,...rt(t)})}class Wd extends ft{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{expected:ht.joinValues(n),received:r.parsedType,code:ue.invalid_type}),Ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return _e(r,{received:r.data,code:ue.invalid_enum_value,options:n}),Ke}return Ki(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Wd.create(t,{...this._def,...r})}exclude(t,r=this._def){return Wd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Wd.create=mU;class D2 extends ft{_parse(t){const r=ht.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ke.string&&n.parsedType!==ke.number){const i=ht.objectValues(r);return _e(n,{expected:ht.joinValues(i),received:n.parsedType,code:ue.invalid_type}),Ke}if(this._cache||(this._cache=new Set(ht.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ht.objectValues(r);return _e(n,{received:n.data,code:ue.invalid_enum_value,options:i}),Ke}return Ki(t.data)}get enum(){return this._def.values}}D2.create=(e,t)=>new D2({values:e,typeName:Ye.ZodNativeEnum,...rt(t)});class Jy extends ft{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ke.promise&&r.common.async===!1)return _e(r,{code:ue.invalid_type,expected:ke.promise,received:r.parsedType}),Ke;const n=r.parsedType===ke.promise?r.data:Promise.resolve(r.data);return Ki(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jy.create=(e,t)=>new Jy({type:e,typeName:Ye.ZodPromise,...rt(t)});class Hd extends ft{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{_e(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async o=>{if(r.value==="aborted")return Ke;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?Ke:c.status==="dirty"||r.value==="dirty"?Fh(c.value):c});{if(r.value==="aborted")return Ke;const o=this._def.schema._parseSync({data:s,path:n.path,parent:n});return o.status==="aborted"?Ke:o.status==="dirty"||r.value==="dirty"?Fh(o.value):o}}if(i.type==="refinement"){const s=o=>{const c=i.refinement(o,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ke:(o.status==="dirty"&&r.dirty(),s(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?Ke:(o.status==="dirty"&&r.dirty(),s(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Vd(s))return Ke;const o=i.transform(s.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Vd(s)?Promise.resolve(i.transform(s.value,a)).then(o=>({status:r.value,value:o})):Ke);ht.assertNever(i)}}Hd.create=(e,t,r)=>new Hd({schema:e,typeName:Ye.ZodEffects,effect:t,...rt(r)});Hd.createWithPreprocess=(e,t,r)=>new Hd({schema:t,effect:{type:"preprocess",transform:e},typeName:Ye.ZodEffects,...rt(r)});class al extends ft{_parse(t){return this._getType(t)===ke.undefined?Ki(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}al.create=(e,t)=>new al({innerType:e,typeName:Ye.ZodOptional,...rt(t)});class qd extends ft{_parse(t){return this._getType(t)===ke.null?Ki(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qd.create=(e,t)=>new qd({innerType:e,typeName:Ye.ZodNullable,...rt(t)});class Sj extends ft{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ke.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Sj.create=(e,t)=>new Sj({innerType:e,typeName:Ye.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...rt(t)});class jj extends ft{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Gy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}jj.create=(e,t)=>new jj({innerType:e,typeName:Ye.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...rt(t)});class L2 extends ft{_parse(t){if(this._getType(t)!==ke.nan){const n=this._getOrReturnCtx(t);return _e(n,{code:ue.invalid_type,expected:ke.nan,received:n.parsedType}),Ke}return{status:"valid",value:t.data}}}L2.create=e=>new L2({typeName:Ye.ZodNaN,...rt(e)});class Iae extends ft{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class wE extends ft{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ke:a.status==="dirty"?(r.dirty(),Fh(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ke:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new wE({in:t,out:r,typeName:Ye.ZodPipeline})}}class kj extends ft{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Vd(i)&&(i.value=Object.freeze(i.value)),i);return Gy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}kj.create=(e,t)=>new kj({innerType:e,typeName:Ye.ZodReadonly,...rt(t)});var Ye;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ye||(Ye={}));const sr=Go.create,Rae=wj.create,Dae=Kp.create;pl.create;is.create;const i0=jr.create;Ky.create;Yy.create;Mc.create;const Lae=Wd.create;Jy.create;al.create;qd.create;const et=x.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));et.displayName="Input";var Fae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bae=Fae.reduce((e,t)=>{const r=eg(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Uae="Label",gU=x.forwardRef((e,t)=>l.jsx(Bae.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));gU.displayName=Uae;var vU=gU;const zae=zb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=x.forwardRef(({className:e,...t},r)=>l.jsx(vU,{ref:r,className:me(zae(),e),...t}));he.displayName=vU.displayName;const se=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const xe=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex flex-col space-y-1.5 p-6",e),...t}));xe.displayName="CardHeader";const we=x.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:me("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const Ie=x.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:me("text-sm text-muted-foreground",e),...t}));Ie.displayName="CardDescription";const fe=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("p-6 pt-0",e),...t}));fe.displayName="CardContent";const Vae=x.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:me("flex items-center p-6 pt-0",e),...t}));Vae.displayName="CardFooter";function Nj(e,[t,r]){return Math.min(r,Math.max(t,e))}var Wae=x.createContext(void 0);function zf(e){const t=x.useContext(Wae);return e||t||"ltr"}var N_=0;function a0(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??F2()),document.body.insertAdjacentElement("beforeend",e[1]??F2()),N_++,()=>{N_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),N_--}},[])}function F2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var C_="focusScope.autoFocusOnMount",E_="focusScope.autoFocusOnUnmount",B2={bubbles:!1,cancelable:!0},Hae="FocusScope",rg=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[o,c]=x.useState(null),u=ur(i),d=ur(a),f=x.useRef(null),h=ze(t,g=>c(g)),p=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let g=function(w){if(p.paused||!o)return;const _=w.target;o.contains(_)?f.current=_:ko(f.current,{select:!0})},v=function(w){if(p.paused||!o)return;const _=w.relatedTarget;_!==null&&(o.contains(_)||ko(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&ko(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const y=new MutationObserver(b);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,p.paused]),x.useEffect(()=>{if(o){z2.add(p);const g=document.activeElement;if(!o.contains(g)){const b=new CustomEvent(C_,B2);o.addEventListener(C_,u),o.dispatchEvent(b),b.defaultPrevented||(qae(Xae(yU(o)),{select:!0}),document.activeElement===g&&ko(o))}return()=>{o.removeEventListener(C_,u),setTimeout(()=>{const b=new CustomEvent(E_,B2);o.addEventListener(E_,d),o.dispatchEvent(b),b.defaultPrevented||ko(g??document.body,{select:!0}),o.removeEventListener(E_,d),z2.remove(p)},0)}}},[o,u,d,p]);const m=x.useCallback(g=>{if(!r&&!n||p.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,b=document.activeElement;if(v&&b){const y=g.currentTarget,[w,_]=Gae(y);w&&_?!g.shiftKey&&b===_?(g.preventDefault(),r&&ko(w,{select:!0})):g.shiftKey&&b===w&&(g.preventDefault(),r&&ko(_,{select:!0})):b===y&&g.preventDefault()}},[r,n,p.paused]);return l.jsx(Oe.div,{tabIndex:-1,...s,ref:h,onKeyDown:m})});rg.displayName=Hae;function qae(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ko(n,{select:t}),document.activeElement!==r)return}function Gae(e){const t=yU(e),r=U2(t,e),n=U2(t.reverse(),e);return[r,n]}function yU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U2(e,t){for(const r of e)if(!Kae(r,{upTo:t}))return r}function Kae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Yae(e){return e instanceof HTMLInputElement&&"select"in e}function ko(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Yae(e)&&t&&e.select()}}var z2=Jae();function Jae(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=V2(e,t),e.unshift(t)},remove(t){var r;e=V2(e,t),(r=e[0])==null||r.resume()}}}function V2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Xae(e){return e.filter(t=>t.tagName!=="A")}function Qae(e){const t=Zae(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(tse);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Zae(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=nse(i),o=rse(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ese=Symbol("radix.slottable");function tse(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ese}function rse(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function nse(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function s0(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ise=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_u=new WeakMap,Zg=new WeakMap,ev={},O_=0,xU=function(e){return e&&(e.host||xU(e.parentNode))},ase=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=xU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},sse=function(e,t,r,n){var i=ase(t,Array.isArray(e)?e:[e]);ev[r]||(ev[r]=new WeakMap);var a=ev[r],s=[],o=new Set,c=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(n),m=p!==null&&p!=="false",g=(_u.get(h)||0)+1,v=(a.get(h)||0)+1;_u.set(h,g),a.set(h,v),s.push(h),g===1&&m&&Zg.set(h,!0),v===1&&h.setAttribute(r,"true"),m||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),o.clear(),O_++,function(){s.forEach(function(f){var h=_u.get(f)-1,p=a.get(f)-1;_u.set(f,h),a.set(f,p),h||(Zg.has(f)||f.removeAttribute(n),Zg.delete(f)),p||f.removeAttribute(r)}),O_--,O_||(_u=new WeakMap,_u=new WeakMap,Zg=new WeakMap,ev={})}},o0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=ise(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),sse(n,i,r,"aria-hidden")):function(){return null}},Qv="right-scroll-bar-position",Zv="width-before-scroll-bar",ose="with-scroll-bars-hidden",lse="--removed-body-scroll-bar-size";function P_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cse(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var use=typeof window<"u"?x.useLayoutEffect:x.useEffect,W2=new WeakMap;function dse(e,t){var r=cse(null,function(n){return e.forEach(function(i){return P_(i,n)})});return use(function(){var n=W2.get(r);if(n){var i=new Set(n),a=new Set(e),s=r.current;i.forEach(function(o){a.has(o)||P_(o,null)}),a.forEach(function(o){i.has(o)||P_(o,s)})}W2.set(r,e)},[e]),r}function fse(e){return e}function hse(e,t){t===void 0&&(t=fse);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var s=t(a,n);return r.push(s),function(){r=r.filter(function(o){return o!==s})}},assignSyncMedium:function(a){for(n=!0;r.length;){var s=r;r=[],s.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var s=[];if(r.length){var o=r;r=[],o.forEach(a),s=r}var c=function(){var d=s;s=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return i}function pse(e){e===void 0&&(e={});var t=hse(null);return t.options=Ka({async:!0,ssr:!1},e),t}var bU=function(e){var t=e.sideCar,r=Uf(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ka({},r))};bU.isSideCarExport=!0;function mse(e,t){return e.useMedium(t),bU}var wU=pse(),A_=function(){},l0=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:A_,onWheelCapture:A_,onTouchMoveCapture:A_}),i=n[0],a=n[1],s=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,m=e.noIsolation,g=e.inert,v=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,_=Uf(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,k=dse([r,t]),N=Ka(Ka({},_),i);return x.createElement(x.Fragment,null,d&&x.createElement(S,{sideCar:wU,removeScrollBar:u,shards:f,noRelative:p,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?x.cloneElement(x.Children.only(o),Ka(Ka({},N),{ref:k})):x.createElement(y,Ka({},N,{className:c,ref:k}),o))});l0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};l0.classNames={fullWidth:Zv,zeroRight:Qv};var gse=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gse();return t&&e.setAttribute("nonce",t),e}function yse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var bse=function(){var e=0,t=null;return{add:function(r){e==0&&(t=vse())&&(yse(t,r),xse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wse=function(){var e=bse();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},_U=function(){var e=wse(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},_se={left:0,top:0,right:0,gap:0},T_=function(e){return parseInt(e||"",10)||0},Sse=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[T_(r),T_(n),T_(i)]},jse=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _se;var t=Sse(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},kse=_U(),pd="data-scroll-locked",Nse=function(e,t,r,n){var i=e.left,a=e.top,s=e.right,o=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(ose,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(pd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qv,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Zv,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(Qv," .").concat(Qv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zv," .").concat(Zv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(pd,`] {
    `).concat(lse,": ").concat(o,`px;
  }
`)},H2=function(){var e=parseInt(document.body.getAttribute(pd)||"0",10);return isFinite(e)?e:0},Cse=function(){x.useEffect(function(){return document.body.setAttribute(pd,(H2()+1).toString()),function(){var e=H2()-1;e<=0?document.body.removeAttribute(pd):document.body.setAttribute(pd,e.toString())}},[])},Ese=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Cse();var a=x.useMemo(function(){return jse(i)},[i]);return x.createElement(kse,{styles:Nse(a,!t,i,r?"":"!important")})},Cj=!1;if(typeof window<"u")try{var tv=Object.defineProperty({},"passive",{get:function(){return Cj=!0,!0}});window.addEventListener("test",tv,tv),window.removeEventListener("test",tv,tv)}catch{Cj=!1}var Su=Cj?{passive:!1}:!1,Ose=function(e){return e.tagName==="TEXTAREA"},SU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ose(e)&&r[t]==="visible")},Pse=function(e){return SU(e,"overflowY")},Ase=function(e){return SU(e,"overflowX")},q2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=jU(e,n);if(i){var a=kU(e,n),s=a[1],o=a[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Tse=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Mse=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},jU=function(e,t){return e==="v"?Pse(t):Ase(t)},kU=function(e,t){return e==="v"?Tse(t):Mse(t)},$se=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ise=function(e,t,r,n,i){var a=$se(e,window.getComputedStyle(t).direction),s=a*n,o=r.target,c=t.contains(o),u=!1,d=s>0,f=0,h=0;do{if(!o)break;var p=kU(e,o),m=p[0],g=p[1],v=p[2],b=g-v-a*m;(m||b)&&jU(e,o)&&(f+=b,h+=m);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},rv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},G2=function(e){return[e.deltaX,e.deltaY]},K2=function(e){return e&&"current"in e?e.current:e},Rse=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Dse=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Lse=0,ju=[];function Fse(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Lse++)[0],a=x.useState(_U)[0],s=x.useRef(e);x.useEffect(function(){s.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Ute([e.lockRef.current],(e.shards||[]).map(K2),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=x.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var b=rv(g),y=r.current,w="deltaX"in g?g.deltaX:y[0]-b[0],_="deltaY"in g?g.deltaY:y[1]-b[1],S,k=g.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&N==="h"&&k.type==="range")return!1;var E=window.getSelection(),P=E&&E.anchorNode,T=P?P===k||P.contains(k):!1;if(T)return!1;var $=q2(N,k);if(!$)return!0;if($?S=N:(S=N==="v"?"h":"v",$=q2(N,k)),!$)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var M=n.current||S;return Ise(M,v,g,M==="h"?w:_)},[]),c=x.useCallback(function(g){var v=g;if(!(!ju.length||ju[ju.length-1]!==a)){var b="deltaY"in v?G2(v):rv(v),y=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Rse(S.delta,b)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(s.current.shards||[]).map(K2).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?o(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=x.useCallback(function(g,v,b,y){var w={name:g,delta:v,target:b,should:y,shadowParent:Bse(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(g){r.current=rv(g),n.current=void 0},[]),f=x.useCallback(function(g){u(g.type,G2(g),g.target,o(g,e.lockRef.current))},[]),h=x.useCallback(function(g){u(g.type,rv(g),g.target,o(g,e.lockRef.current))},[]);x.useEffect(function(){return ju.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Su),document.addEventListener("touchmove",c,Su),document.addEventListener("touchstart",d,Su),function(){ju=ju.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,Su),document.removeEventListener("touchmove",c,Su),document.removeEventListener("touchstart",d,Su)}},[]);var p=e.removeScrollBar,m=e.inert;return x.createElement(x.Fragment,null,m?x.createElement(a,{styles:Dse(i)}):null,p?x.createElement(Ese,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Bse(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Use=mse(wU,Fse);var ng=x.forwardRef(function(e,t){return x.createElement(l0,Ka({},e,{ref:t,sideCar:Use}))});ng.classNames=l0.classNames;var zse=[" ","Enter","ArrowUp","ArrowDown"],Vse=[" ","Enter"],$c="Select",[c0,u0,Wse]=Fb($c),[Vf]=un($c,[Wse,bl]),d0=bl(),[Hse,Sl]=Vf($c),[qse,Gse]=Vf($c),NU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:s,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:m}=e,g=d0(t),[v,b]=x.useState(null),[y,w]=x.useState(null),[_,S]=x.useState(!1),k=zf(u),[N,E]=Ea({prop:n,defaultProp:i??!1,onChange:a,caller:$c}),[P,T]=Ea({prop:s,defaultProp:o,onChange:c,caller:$c}),$=x.useRef(null),M=v?m||!!v.closest("form"):!0,[F,R]=x.useState(new Set),U=Array.from(F).map(W=>W.props.value).join(";");return l.jsx(QC,{...g,children:l.jsxs(Hse,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:ja(),value:P,onValueChange:T,open:N,onOpenChange:E,dir:k,triggerPointerDownPosRef:$,disabled:h,children:[l.jsx(c0.Provider,{scope:t,children:l.jsx(qse,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(W=>{R(z=>new Set(z).add(W))},[]),onNativeOptionRemove:x.useCallback(W=>{R(z=>{const L=new Set(z);return L.delete(W),L})},[]),children:r})}),M?l.jsxs(JU,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:W=>T(W.target.value),disabled:h,form:m,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(F)]},U):null]})})};NU.displayName=$c;var CU="SelectTrigger",EU=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=d0(r),s=Sl(CU,r),o=s.disabled||n,c=ze(t,s.onTriggerChange),u=u0(r),d=x.useRef("touch"),[f,h,p]=QU(g=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===s.value),y=ZU(v,g,b);y!==void 0&&s.onValueChange(y.value)}),m=g=>{o||(s.onOpenChange(!0),p()),g&&(s.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Qm,{asChild:!0,...a,children:l.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":XU(s.value)?"":void 0,...i,ref:c,onClick:oe(i.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&m(g)}),onPointerDown:oe(i.onPointerDown,g=>{d.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:oe(i.onKeyDown,g=>{const v=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(v&&g.key===" ")&&zse.includes(g.key)&&(m(),g.preventDefault())})})})});EU.displayName=CU;var OU="SelectValue",PU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:s="",...o}=e,c=Sl(OU,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ze(t,c.onValueNodeChange);return yr(()=>{u(d)},[u,d]),l.jsx(Oe.span,{...o,ref:f,style:{pointerEvents:"none"},children:XU(c.value)?l.jsx(l.Fragment,{children:s}):a})});PU.displayName=OU;var Kse="SelectIcon",AU=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return l.jsx(Oe.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});AU.displayName=Kse;var Yse="SelectPortal",TU=e=>l.jsx(Mf,{asChild:!0,...e});TU.displayName=Yse;var Ic="SelectContent",MU=x.forwardRef((e,t)=>{const r=Sl(Ic,e.__scopeSelect),[n,i]=x.useState();if(yr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Xc.createPortal(l.jsx($U,{scope:e.__scopeSelect,children:l.jsx(c0.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(IU,{...e,ref:t})});MU.displayName=Ic;var oa=10,[$U,jl]=Vf(Ic),Jse="SelectContentImpl",Xse=Qae("SelectContent.RemoveScroll"),IU=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v,...b}=e,y=Sl(Ic,r),[w,_]=x.useState(null),[S,k]=x.useState(null),N=ze(t,I=>_(I)),[E,P]=x.useState(null),[T,$]=x.useState(null),M=u0(r),[F,R]=x.useState(!1),U=x.useRef(!1);x.useEffect(()=>{if(w)return o0(w)},[w]),a0();const W=x.useCallback(I=>{const[q,...H]=M().map(Y=>Y.ref.current),[K]=H.slice(-1),Q=document.activeElement;for(const Y of I)if(Y===Q||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===q&&S&&(S.scrollTop=0),Y===K&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==Q))return},[M,S]),z=x.useCallback(()=>W([E,w]),[W,E,w]);x.useEffect(()=>{F&&z()},[F,z]);const{onOpenChange:L,triggerPointerDownPosRef:B}=y;x.useEffect(()=>{if(w){let I={x:0,y:0};const q=K=>{var Q,Y;I={x:Math.abs(Math.round(K.pageX)-(((Q=B.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(K.pageY)-(((Y=B.current)==null?void 0:Y.y)??0))}},H=K=>{I.x<=10&&I.y<=10?K.preventDefault():w.contains(K.target)||L(!1),document.removeEventListener("pointermove",q),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",H,{capture:!0})}}},[w,L,B]),x.useEffect(()=>{const I=()=>L(!1);return window.addEventListener("blur",I),window.addEventListener("resize",I),()=>{window.removeEventListener("blur",I),window.removeEventListener("resize",I)}},[L]);const[G,te]=QU(I=>{const q=M().filter(Q=>!Q.disabled),H=q.find(Q=>Q.ref.current===document.activeElement),K=ZU(q,I,H);K&&setTimeout(()=>K.ref.current.focus())}),X=x.useCallback((I,q,H)=>{const K=!U.current&&!H;(y.value!==void 0&&y.value===q||K)&&(P(I),K&&(U.current=!0))},[y.value]),j=x.useCallback(()=>w==null?void 0:w.focus(),[w]),O=x.useCallback((I,q,H)=>{const K=!U.current&&!H;(y.value!==void 0&&y.value===q||K)&&$(I)},[y.value]),C=n==="popper"?Ej:RU,D=C===Ej?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return l.jsx($U,{scope:r,content:w,viewport:S,onViewportChange:k,itemRefCallback:X,selectedItem:E,onItemLeave:j,itemTextRefCallback:O,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:F,searchRef:G,children:l.jsx(ng,{as:Xse,allowPinchZoom:!0,children:l.jsx(rg,{asChild:!0,trapped:y.open,onMountAutoFocus:I=>{I.preventDefault()},onUnmountAutoFocus:oe(i,I=>{var q;(q=y.trigger)==null||q.focus({preventScroll:!0}),I.preventDefault()}),children:l.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:I=>I.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(C,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:I=>I.preventDefault(),...b,...D,onPlaced:()=>R(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:oe(b.onKeyDown,I=>{const q=I.ctrlKey||I.altKey||I.metaKey;if(I.key==="Tab"&&I.preventDefault(),!q&&I.key.length===1&&te(I.key),["ArrowUp","ArrowDown","Home","End"].includes(I.key)){let K=M().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(I.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(I.key)){const Q=I.target,Y=K.indexOf(Q);K=K.slice(Y+1)}setTimeout(()=>W(K)),I.preventDefault()}})})})})})})});IU.displayName=Jse;var Qse="SelectItemAlignedPosition",RU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Sl(Ic,r),s=jl(Ic,r),[o,c]=x.useState(null),[u,d]=x.useState(null),f=ze(t,N=>d(N)),h=u0(r),p=x.useRef(!1),m=x.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:b,focusSelectedItem:y}=s,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&u&&g&&v&&b){const N=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(a.dir!=="rtl"){const Q=T.left-E.left,Y=P.left-Q,ye=N.left-Y,Ae=N.width+ye,tt=Math.max(Ae,E.width),nt=window.innerWidth-oa,Je=Nj(Y,[oa,Math.max(oa,nt-tt)]);o.style.minWidth=Ae+"px",o.style.left=Je+"px"}else{const Q=E.right-T.right,Y=window.innerWidth-P.right-Q,ye=window.innerWidth-N.right-Y,Ae=N.width+ye,tt=Math.max(Ae,E.width),nt=window.innerWidth-oa,Je=Nj(Y,[oa,Math.max(oa,nt-tt)]);o.style.minWidth=Ae+"px",o.style.right=Je+"px"}const $=h(),M=window.innerHeight-oa*2,F=g.scrollHeight,R=window.getComputedStyle(u),U=parseInt(R.borderTopWidth,10),W=parseInt(R.paddingTop,10),z=parseInt(R.borderBottomWidth,10),L=parseInt(R.paddingBottom,10),B=U+W+F+L+z,G=Math.min(v.offsetHeight*5,B),te=window.getComputedStyle(g),X=parseInt(te.paddingTop,10),j=parseInt(te.paddingBottom,10),O=N.top+N.height/2-oa,C=M-O,D=v.offsetHeight/2,I=v.offsetTop+D,q=U+W+I,H=B-q;if(q<=O){const Q=$.length>0&&v===$[$.length-1].ref.current;o.style.bottom="0px";const Y=u.clientHeight-g.offsetTop-g.offsetHeight,ye=Math.max(C,D+(Q?j:0)+Y+z),Ae=q+ye;o.style.height=Ae+"px"}else{const Q=$.length>0&&v===$[0].ref.current;o.style.top="0px";const ye=Math.max(O,U+g.offsetTop+(Q?X:0)+D)+H;o.style.height=ye+"px",g.scrollTop=q-O+g.offsetTop}o.style.margin=`${oa}px 0`,o.style.minHeight=G+"px",o.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,o,u,g,v,b,a.dir,n]);yr(()=>w(),[w]);const[_,S]=x.useState();yr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=x.useCallback(N=>{N&&m.current===!0&&(w(),y==null||y(),m.current=!1)},[w,y]);return l.jsx(eoe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(Oe.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});RU.displayName=Qse;var Zse="SelectPopperPosition",Ej=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=oa,...a}=e,s=d0(r);return l.jsx(Kb,{...s,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ej.displayName=Zse;var[eoe,_E]=Vf(Ic,{}),Oj="SelectViewport",DU=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=jl(Oj,r),s=_E(Oj,r),o=ze(t,a.onViewportChange),c=x.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(c0.Slot,{scope:r,children:l.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:oe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const m=window.innerHeight-oa*2,g=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(g,v);if(b<m){const y=b+p,w=Math.min(m,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});DU.displayName=Oj;var LU="SelectGroup",[toe,roe]=Vf(LU),noe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=ja();return l.jsx(toe,{scope:r,id:i,children:l.jsx(Oe.div,{role:"group","aria-labelledby":i,...n,ref:t})})});noe.displayName=LU;var FU="SelectLabel",BU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=roe(FU,r);return l.jsx(Oe.div,{id:i.id,...n,ref:t})});BU.displayName=FU;var Xy="SelectItem",[ioe,UU]=Vf(Xy),zU=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...s}=e,o=Sl(Xy,r),c=jl(Xy,r),u=o.value===n,[d,f]=x.useState(a??""),[h,p]=x.useState(!1),m=ze(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,i)}),g=ja(),v=x.useRef("touch"),b=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(ioe,{scope:r,value:n,disabled:i,textId:g,isSelected:u,onItemTextChange:x.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(c0.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(Oe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:m,onFocus:oe(s.onFocus,()=>p(!0)),onBlur:oe(s.onBlur,()=>p(!1)),onClick:oe(s.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:oe(s.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:oe(s.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:oe(s.onPointerMove,y=>{var w;v.current=y.pointerType,i?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(s.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:oe(s.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(Vse.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});zU.displayName=Xy;var Bh="SelectItemText",VU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,s=Sl(Bh,r),o=jl(Bh,r),c=UU(Bh,r),u=Gse(Bh,r),[d,f]=x.useState(null),h=ze(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,m=x.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return yr(()=>(g(m),()=>v(m)),[g,v,m]),l.jsxs(l.Fragment,{children:[l.jsx(Oe.span,{id:c.textId,...a,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Xc.createPortal(a.children,s.valueNode):null]})});VU.displayName=Bh;var WU="SelectItemIndicator",HU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return UU(WU,r).isSelected?l.jsx(Oe.span,{"aria-hidden":!0,...n,ref:t}):null});HU.displayName=WU;var Pj="SelectScrollUpButton",qU=x.forwardRef((e,t)=>{const r=jl(Pj,e.__scopeSelect),n=_E(Pj,e.__scopeSelect),[i,a]=x.useState(!1),s=ze(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(KU,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});qU.displayName=Pj;var Aj="SelectScrollDownButton",GU=x.forwardRef((e,t)=>{const r=jl(Aj,e.__scopeSelect),n=_E(Aj,e.__scopeSelect),[i,a]=x.useState(!1),s=ze(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?l.jsx(KU,{...e,ref:s,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=r;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});GU.displayName=Aj;var KU=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=jl("SelectScrollButton",r),s=x.useRef(null),o=u0(r),c=x.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),yr(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(Oe.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:oe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:oe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:oe(i.onPointerLeave,()=>{c()})})}),aoe="SelectSeparator",YU=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Oe.div,{"aria-hidden":!0,...n,ref:t})});YU.displayName=aoe;var Tj="SelectArrow",soe=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=d0(r),a=Sl(Tj,r),s=jl(Tj,r);return a.open&&s.position==="popper"?l.jsx(Yb,{...i,...n,ref:t}):null});soe.displayName=Tj;var ooe="SelectBubbleInput",JU=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),a=ze(n,i),s=s0(t);return x.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[s,t]),l.jsx(Oe.select,{...r,style:{...i5,...r.style},ref:a,defaultValue:t})});JU.displayName=ooe;function XU(e){return e===""||e===void 0}function QU(e){const t=ur(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(s=>{const o=r.current+s;t(o),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function ZU(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=loe(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function loe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var coe=NU,e6=EU,uoe=PU,doe=AU,foe=TU,t6=MU,hoe=DU,r6=BU,n6=zU,poe=VU,moe=HU,i6=qU,a6=GU,s6=YU;const pr=coe,mr=uoe,lr=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(e6,{ref:n,className:me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(doe,{asChild:!0,children:l.jsx(C5,{className:"h-4 w-4 opacity-50"})})]}));lr.displayName=e6.displayName;const o6=x.forwardRef(({className:e,...t},r)=>l.jsx(i6,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx($J,{className:"h-4 w-4"})}));o6.displayName=i6.displayName;const l6=x.forwardRef(({className:e,...t},r)=>l.jsx(a6,{ref:r,className:me("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(C5,{className:"h-4 w-4"})}));l6.displayName=a6.displayName;const cr=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>l.jsx(foe,{children:l.jsxs(t6,{ref:i,className:me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(o6,{}),l.jsx(hoe,{className:me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(l6,{})]})}));cr.displayName=t6.displayName;const goe=x.forwardRef(({className:e,...t},r)=>l.jsx(r6,{ref:r,className:me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));goe.displayName=r6.displayName;const Qe=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(n6,{ref:n,className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(moe,{children:l.jsx(LC,{className:"h-4 w-4"})})}),l.jsx(poe,{children:t})]}));Qe.displayName=n6.displayName;const voe=x.forwardRef(({className:e,...t},r)=>l.jsx(s6,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));voe.displayName=s6.displayName;const yoe="modulepreload",xoe=function(e){return"/"+e},Y2={},Zs=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=xoe(c),c in Y2)return;Y2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":yoe,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})},c6="";class boe extends Error{constructor(r,n){super(r);FP(this,"status");this.name="APIError",this.status=n}}const woe=async()=>{const{supabase:e}=await Zs(async()=>{const{supabase:r}=await Promise.resolve().then(()=>Xs);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function xt(e,t={}){const r=await woe(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const i=await fetch(`${c6}${e}`,{...t,headers:n});if(!i.ok){const a=await i.json().catch(()=>({}));throw new boe(a.detail||a.message||"API request failed",i.status)}return i.json()}const _oe={requestPasswordReset:e=>xt("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>xt("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>xt(`/api/auth/verify-token?token=${e}`)},zr={createConversation:e=>xt("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return xt(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>xt("/api/chat/conversations/unassigned"),getMyChats:()=>xt("/api/chat/conversations/my-chats"),getConversation:e=>xt(`/api/chat/conversations/${e}`),claimConversation:e=>xt(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>xt(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>xt(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>xt(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>xt(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,i)=>xt(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:i})}),markAsRead:e=>xt(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>xt("/api/chat/stats")},md={getFeeSchedule:()=>xt("/api/bookings/fee-schedule"),getAvailableClinicians:()=>xt("/api/bookings/clinicians/available"),create:e=>xt("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return xt(`/api/bookings${r}`)},get:e=>xt(`/api/bookings/${e}`),update:(e,t)=>xt(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>xt(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return xt(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>xt(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${c6}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await md.getInvoicePDF(e),n=window.URL.createObjectURL(r),i=document.createElement("a");i.href=n,i.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(n),document.body.removeChild(i)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>xt(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},J2={createRoom:e=>xt("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>xt("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>xt(`/api/video/room/${e}`),checkHealth:()=>xt("/api/video/health")},Soe=({onBack:e})=>{const[t,r]=x.useState(""),[n,i]=x.useState(!1),[a,s]=x.useState(!1),o=async c=>{if(c.preventDefault(),!t){ge.error("Please enter your email address");return}i(!0);try{await _oe.requestPasswordReset(t),s(!0),ge.success("Password reset link sent!")}catch{s(!0)}finally{i(!1)}};return a?l.jsx(se,{className:"w-full max-w-md mx-auto",children:l.jsxs(fe,{className:"pt-6 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(Jn,{className:"w-8 h-8 text-success"})}),l.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),l.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",l.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),l.jsxs(ee,{onClick:e,variant:"outline",className:"w-full",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):l.jsxs(se,{className:"w-full max-w-md mx-auto",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:l.jsx(Ap,{className:"w-6 h-6 text-primary-foreground"})}),l.jsx(we,{children:"Reset Password"}),l.jsx(Ie,{children:"Enter your email address and we'll send you a link to reset your password."})]}),l.jsx(fe,{children:l.jsxs("form",{onSubmit:o,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"email",children:"Email Address"}),l.jsx(et,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),l.jsx(ee,{type:"submit",className:"w-full",disabled:n,children:n?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ap,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),l.jsxs(ee,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},joe=i0({email:sr().email("Please enter a valid email address"),password:sr().min(6,"Password must be at least 6 characters")}),koe=i0({first_name:sr().min(1,"First name is required").max(50,"First name too long"),last_name:sr().min(1,"Last name is required").max(50,"Last name too long"),email:sr().email("Please enter a valid email address"),password:sr().min(8,"Password must be at least 8 characters"),confirm_password:sr(),role:Lae(["patient","nurse","doctor","receptionist"]),hpcsa_number:sr().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),Noe=()=>{var k,N;const[e,t]=x.useState(!0),[r,n]=x.useState(!1),[i,a]=x.useState(!1),[s,o]=x.useState("patient"),[c,u]=x.useState(!1),{signIn:d,signUp:f,user:h,role:p}=Er(),m=kn(),g=hs(),{toast:v}=MC();(N=(k=g.state)==null?void 0:k.from)!=null&&N.pathname,x.useEffect(()=>{h&&p&&m({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[p],{replace:!0})},[h,p,m]);const b=Hy({resolver:qy(joe),defaultValues:{email:"",password:""}}),y=Hy({resolver:qy(koe),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),w=async E=>{a(!0);const{error:P}=await d(E.email,E.password);a(!1),P&&v({variant:"destructive",title:"Login failed",description:P.message==="Invalid login credentials"?"Invalid email or password. Please try again.":P.message})},_=async E=>{a(!0);const{error:P}=await f(E.email,E.password,{first_name:E.first_name,last_name:E.last_name,role:E.role,hpcsa_number:E.hpcsa_number});a(!1),P?P.message.includes("already registered")?v({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in instead."}):v({variant:"destructive",title:"Signup failed",description:P.message}):v({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting to your dashboard..."})},S=E=>{o(E),y.setValue("role",E)};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsx("div",{className:"flex justify-center mb-8",children:l.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto"})}),c?l.jsx(Soe,{onBack:()=>u(!1)}):l.jsxs(se,{className:"border-border/50 shadow-xl",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx(we,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),l.jsx(Ie,{children:e?"Sign in to access your healthcare portal":"Join Quadcare Telehealth for quality healthcare"})]}),l.jsxs(fe,{children:[e?l.jsxs("form",{onSubmit:b.handleSubmit(w),className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ap,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",...b.register("email")})]}),b.formState.errors.email&&l.jsx("p",{className:"text-sm text-destructive",children:b.formState.errors.email.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(u_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...b.register("password")}),l.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?l.jsx(iT,{className:"w-4 h-4"}):l.jsx(VS,{className:"w-4 h-4"})})]}),b.formState.errors.password&&l.jsx("p",{className:"text-sm text-destructive",children:b.formState.errors.password.message})]}),l.jsx(ee,{type:"submit",className:"w-full",size:"lg",disabled:i,children:i?"Signing in...":"Sign In"}),l.jsx("button",{type:"button",onClick:()=>u(!0),className:"w-full text-sm text-primary hover:underline mt-2",children:"Forgot your password?"})]}):l.jsxs("form",{onSubmit:y.handleSubmit(_),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"first_name",children:"First Name"}),l.jsxs("div",{className:"relative",children:[l.jsx(Xr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"first_name",placeholder:"John",className:"pl-10",...y.register("first_name")})]}),y.formState.errors.first_name&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.first_name.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"last_name",children:"Last Name"}),l.jsx(et,{id:"last_name",placeholder:"Doe",...y.register("last_name")}),y.formState.errors.last_name&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.last_name.message})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"signup-email",children:"Email"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ap,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"signup-email",type:"email",placeholder:"you@example.com",className:"pl-10",...y.register("email")})]}),y.formState.errors.email&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.email.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"role",children:"I am a"}),l.jsxs(pr,{value:s,onValueChange:S,children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select your role"})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"patient",children:"Patient"}),l.jsx(Qe,{value:"receptionist",children:"Receptionist"}),l.jsx(Qe,{value:"nurse",children:"Nurse"}),l.jsx(Qe,{value:"doctor",children:"Doctor"})]})]})]}),(s==="nurse"||s==="doctor")&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),l.jsxs("div",{className:"relative",children:[l.jsx(Jm,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...y.register("hpcsa_number")})]}),y.formState.errors.hpcsa_number&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.hpcsa_number.message}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"signup-password",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(u_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"signup-password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...y.register("password")}),l.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?l.jsx(iT,{className:"w-4 h-4"}):l.jsx(VS,{className:"w-4 h-4"})})]}),y.formState.errors.password&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.password.message})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"confirm_password",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(u_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...y.register("confirm_password")})]}),y.formState.errors.confirm_password&&l.jsx("p",{className:"text-sm text-destructive",children:y.formState.errors.confirm_password.message})]}),l.jsx(ee,{type:"submit",className:"w-full",size:"lg",disabled:i,children:i?"Creating account...":"Create Account"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-primary hover:underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]}),l.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",l.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},u6=x.createContext(void 0),d6=()=>{const e=x.useContext(u6);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},f6=({children:e})=>{const{user:t,session:r}=Er(),[n,i]=x.useState([]),[a,s]=x.useState(null),[o,c]=x.useState([]),[u,d]=x.useState(!1),[f,h]=x.useState(null),p=x.useRef(null);x.useEffect(()=>{p.current=a},[a]);const m=n.reduce((E,P)=>E+(P.unread_count||0),0),g=x.useCallback(async()=>{if(t){d(!0),h(null);try{const E=await zr.getConversations();i(E||[])}catch(E){console.error("Error loading conversations:",E),h(E.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=x.useCallback(async()=>{try{return await zr.getUnassignedConversations()||[]}catch(E){return console.error("Error loading unassigned conversations:",E),[]}},[]),b=x.useCallback(async()=>{try{return await zr.getMyChats()||[]}catch(E){return console.error("Error loading my chats:",E),[]}},[]),y=x.useCallback(async E=>{d(!0),h(null);try{const P=await zr.getConversation(E);console.log("[ChatContext] Selected conversation with names:",{id:P.id,patient_name:P.patient_name,receptionist_name:P.receptionist_name}),s(P);const T=await zr.getMessages(E);c(T||[]),await zr.markAsRead(E),i($=>$.map(M=>M.id===E?{...P,unread_count:0}:M))}catch(P){console.error("Error loading conversation:",P),h(P.message||"Failed to load conversation")}finally{d(!1)}},[]),w=x.useCallback(async E=>{d(!0),h(null);try{const P=await zr.createConversation(E);i($=>$.some(M=>M.id===P.id)?$:[P,...$]),s(P);const T=await zr.getMessages(P.id);return c(T||[]),P}catch(P){throw console.error("Error creating conversation:",P),h(P.message||"Failed to create conversation"),P}finally{d(!1)}},[]),_=x.useCallback(async(E,P="text",T,$)=>{if(!a)throw new Error("No conversation selected");try{const M=await zr.sendMessage(a.id,E,P,T,$);c(F=>F.some(R=>R.id===M.id)?F:[...F,M]),i(F=>F.map(R=>R.id===a.id?{...R,last_message:E,last_message_at:new Date().toISOString()}:R))}catch(M){throw console.error("Error sending message:",M),M}},[a]),S=x.useCallback(async E=>{try{await zr.claimConversation(E),await y(E),await g()}catch(P){throw console.error("Error claiming conversation:",P),P}},[y,g]),k=x.useCallback(async(E,P)=>{try{await zr.updateConversationStatus(E,P),i(T=>T.map($=>$.id===E?{...$,status:P}:$)),(a==null?void 0:a.id)===E&&s(T=>T?{...T,status:P}:null)}catch(T){throw console.error("Error updating status:",T),T}},[a]),N=x.useCallback(async()=>{if(a)try{await zr.markAsRead(a.id),i(E=>E.map(P=>P.id===a.id?{...P,unread_count:0}:P))}catch(E){console.error("Error marking as read:",E)}},[a]);return x.useEffect(()=>{if(!t||!r)return;const E=Ne.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},T=>{var F;const $=T.new;console.log("[ChatContext] Realtime message received:",{id:$.id,sender_name:$.sender_name,sender_role:$.sender_role,content:(F=$.content)==null?void 0:F.substring(0,50)});const M=p.current;if(M&&$.conversation_id===M.id&&$.sender_id!==t.id){let R={...$};(!R.sender_name||R.sender_name===null)&&(R.sender_role==="patient"?R.sender_name=M.patient_name||"Patient":R.sender_role==="system"?R.sender_name="System":R.sender_name=M.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",R.sender_name)),c(U=>U.some(W=>W.id===$.id)?U:[...U,R])}i(R=>R.map(U=>{var W;return U.id===$.conversation_id?{...U,last_message:(W=$.content)==null?void 0:W.substring(0,100),last_message_at:$.created_at,unread_count:U.id===(M==null?void 0:M.id)?0:(U.unread_count||0)+1}:U}))}).subscribe(),P=Ne.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},T=>{const $=T.new,M=p.current;console.log("[ChatContext] Realtime conversation update:",T.eventType,{id:$.id,status:$.status,has_patient_name:!!$.patient_name,has_receptionist_name:!!$.receptionist_name}),T.eventType==="INSERT"?(i(F=>F.some(R=>R.id===$.id)?F:[{...$,patient_name:"Loading...",receptionist_name:null},...F]),setTimeout(async()=>{try{const F=await zr.getConversation($.id);console.log("[ChatContext] Fetched enriched new conversation:",F.patient_name),i(R=>R.map(U=>U.id===F.id?F:U))}catch(F){console.error("[ChatContext] Failed to fetch enriched conversation:",F)}},500)):T.eventType==="UPDATE"&&(i(F=>F.map(R=>R.id===$.id?{...R,...$,patient_name:R.patient_name,receptionist_name:R.receptionist_name}:R)),(M==null?void 0:M.id)===$.id&&s(F=>F?{...F,...$,patient_name:F.patient_name,receptionist_name:F.receptionist_name}:null))}).subscribe();return()=>{Ne.removeChannel(E),Ne.removeChannel(P)}},[t,r]),x.useEffect(()=>{t&&g()},[t,g]),l.jsx(u6.Provider,{value:{conversations:n,currentConversation:a,messages:o,isLoading:u,error:f,unreadCount:m,loadConversations:g,loadUnassignedConversations:v,loadMyChats:b,selectConversation:y,createConversation:w,sendMessage:_,claimConversation:S,updateConversationStatus:k,markAsRead:N},children:e})},Coe=zb("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:e,variant:t,...r}){return l.jsx("div",{className:me(Coe({variant:t}),e),...r})}var M_="rovingFocusGroup.onEntryFocus",Eoe={bubbles:!1,cancelable:!0},ig="RovingFocusGroup",[Mj,h6,Ooe]=Fb(ig),[Poe,Wf]=un(ig,[Ooe]),[Aoe,Toe]=Poe(ig),p6=x.forwardRef((e,t)=>l.jsx(Mj.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Mj.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Moe,{...e,ref:t})})}));p6.displayName=ig;var Moe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),p=ze(t,h),m=zf(a),[g,v]=Ea({prop:s,defaultProp:o??null,onChange:c,caller:ig}),[b,y]=x.useState(!1),w=ur(u),_=h6(r),S=x.useRef(!1),[k,N]=x.useState(0);return x.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(M_,w),()=>E.removeEventListener(M_,w)},[w]),l.jsx(Aoe,{scope:r,orientation:n,dir:m,loop:i,currentTabStopId:g,onItemFocus:x.useCallback(E=>v(E),[v]),onItemShiftTab:x.useCallback(()=>y(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>N(E=>E-1),[]),children:l.jsx(Oe.div,{tabIndex:b||k===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{S.current=!0}),onFocus:oe(e.onFocus,E=>{const P=!S.current;if(E.target===E.currentTarget&&P&&!b){const T=new CustomEvent(M_,Eoe);if(E.currentTarget.dispatchEvent(T),!T.defaultPrevented){const $=_().filter(W=>W.focusable),M=$.find(W=>W.active),F=$.find(W=>W.id===g),U=[M,F,...$].filter(Boolean).map(W=>W.ref.current);v6(U,d)}}S.current=!1}),onBlur:oe(e.onBlur,()=>y(!1))})})}),m6="RovingFocusGroupItem",g6=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:s,...o}=e,c=ja(),u=a||c,d=Toe(m6,r),f=d.currentTabStopId===u,h=h6(r),{onFocusableItemAdd:p,onFocusableItemRemove:m,currentTabStopId:g}=d;return x.useEffect(()=>{if(n)return p(),()=>m()},[n,p,m]),l.jsx(Mj.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:l.jsx(Oe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:oe(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Roe(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?Doe(w,_+1):w.slice(_+1)}setTimeout(()=>v6(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:g!=null}):s})})});g6.displayName=m6;var $oe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ioe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Roe(e,t,r){const n=Ioe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return $oe[n]}function v6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Doe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var SE=p6,jE=g6,f0="Tabs",[Loe]=un(f0,[Wf]),y6=Wf(),[Foe,kE]=Loe(f0),x6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=zf(o),[f,h]=Ea({prop:n,onChange:i,defaultProp:a??"",caller:f0});return l.jsx(Foe,{scope:r,baseId:ja(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:l.jsx(Oe.div,{dir:d,"data-orientation":s,...u,ref:t})})});x6.displayName=f0;var b6="TabsList",w6=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=kE(b6,r),s=y6(r);return l.jsx(SE,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(Oe.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});w6.displayName=b6;var _6="TabsTrigger",S6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,s=kE(_6,r),o=y6(r),c=N6(s.baseId,n),u=C6(s.baseId,n),d=n===s.value;return l.jsx(jE,{asChild:!0,...o,focusable:!i,active:d,children:l.jsx(Oe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:oe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:oe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:oe(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!i&&f&&s.onValueChange(n)})})})});S6.displayName=_6;var j6="TabsContent",k6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...s}=e,o=kE(j6,r),c=N6(o.baseId,n),u=C6(o.baseId,n),d=n===o.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Fr,{present:i||d,children:({present:h})=>l.jsx(Oe.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});k6.displayName=j6;function N6(e,t){return`${e}-trigger-${t}`}function C6(e,t){return`${e}-content-${t}`}var Boe=x6,E6=w6,O6=S6,P6=k6;const kl=Boe,oo=x.forwardRef(({className:e,...t},r)=>l.jsx(E6,{ref:r,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));oo.displayName=E6.displayName;const Dt=x.forwardRef(({className:e,...t},r)=>l.jsx(O6,{ref:r,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Dt.displayName=O6.displayName;const dr=x.forwardRef(({className:e,...t},r)=>l.jsx(P6,{ref:r,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));dr.displayName=P6.displayName;function Ue(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Zn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function qr(e,t){const r=Ue(e);return isNaN(t)?Zn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Aa(e,t){const r=Ue(e);if(isNaN(t))return Zn(e,NaN);if(!t)return r;const n=r.getDate(),i=Zn(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const NE=6048e5,Uoe=864e5,A6=6e4,T6=36e5,nv=43200,X2=1440;let zoe={};function Zc(){return zoe}function Ta(e,t){var o,c,u,d;const r=Zc(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ue(e),a=i.getDay(),s=(a<n?7:0)+a-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Rc(e){return Ta(e,{weekStartsOn:1})}function M6(e){const t=Ue(e),r=t.getFullYear(),n=Zn(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Rc(n),a=Zn(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const s=Rc(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function cs(e){const t=Ue(e);return t.setHours(0,0,0,0),t}function Gd(e){const t=Ue(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ja(e,t){const r=cs(e),n=cs(t),i=+r-Gd(r),a=+n-Gd(n);return Math.round((i-a)/Uoe)}function Voe(e){const t=M6(e),r=Zn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Rc(r)}function Jp(e,t){const r=t*7;return qr(e,r)}function Woe(e,t){return Aa(e,t*12)}function Hoe(e){let t;return e.forEach(function(r){const n=Ue(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function qoe(e){let t;return e.forEach(r=>{const n=Ue(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function ey(e,t){const r=Ue(e),n=Ue(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function CE(e){return Zn(e,Date.now())}function wn(e,t){const r=cs(e),n=cs(t);return+r==+n}function EE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Goe(e){if(!EE(e)&&typeof e!="number")return!1;const t=Ue(e);return!isNaN(Number(t))}function Kd(e,t){const r=Ue(e),n=Ue(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Koe(e,t,r){const n=Ta(e,r),i=Ta(t,r),a=+n-Gd(n),s=+i-Gd(i);return Math.round((a-s)/NE)}function Yoe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Joe(e,t){return+Ue(e)-+Ue(t)}function OE(e){const t=Ue(e);return t.setHours(23,59,59,999),t}function h0(e){const t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Xoe(e){const t=Ue(e);return+OE(t)==+h0(t)}function Qoe(e,t){const r=Ue(e),n=Ue(t),i=ey(r,n),a=Math.abs(Kd(r,n));let s;if(a<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let o=ey(r,n)===-i;Xoe(Ue(e))&&a===1&&ey(e,n)===1&&(o=!1),s=i*(a-Number(o))}return s===0?0:s}function Zoe(e,t,r){const n=Joe(e,t)/1e3;return Yoe(r==null?void 0:r.roundingMethod)(n)}function Xn(e){const t=Ue(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $6(e){const t=Ue(e),r=Zn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function p0(e,t){var o,c,u,d;const r=Zc(),n=(t==null?void 0:t.weekStartsOn)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=Ue(e),a=i.getDay(),s=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function I6(e){return p0(e,{weekStartsOn:1})}const ele={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tle=(e,t,r)=>{let n;const i=ele[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function $_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const rle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ile={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ale={date:$_({formats:rle,defaultWidth:"full"}),time:$_({formats:nle,defaultWidth:"full"}),dateTime:$_({formats:ile,defaultWidth:"full"})},sle={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ole=(e,t,r,n)=>sle[e];function xh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;i=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[o]||e.values[s]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const lle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ule={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ple=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},mle={ordinalNumber:ple,era:xh({values:lle,defaultWidth:"wide"}),quarter:xh({values:cle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xh({values:ule,defaultWidth:"wide"}),day:xh({values:dle,defaultWidth:"wide"}),dayPeriod:xh({values:fle,defaultWidth:"wide",formattingValues:hle,defaultFormattingWidth:"wide"})};function bh(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const s=a[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?vle(o,f=>f.test(s)):gle(o,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function gle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function vle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function yle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(i.length);return{value:s,rest:o}}}const xle=/^(\d+)(th|st|nd|rd)?/i,ble=/\d+/i,wle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_le={any:[/^b/i,/^(a|c)/i]},Sle={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jle={any:[/1/i,/2/i,/3/i,/4/i]},kle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Nle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ele={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ole={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ple={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ale={ordinalNumber:yle({matchPattern:xle,parsePattern:ble,valueCallback:e=>parseInt(e,10)}),era:bh({matchPatterns:wle,defaultMatchWidth:"wide",parsePatterns:_le,defaultParseWidth:"any"}),quarter:bh({matchPatterns:Sle,defaultMatchWidth:"wide",parsePatterns:jle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bh({matchPatterns:kle,defaultMatchWidth:"wide",parsePatterns:Nle,defaultParseWidth:"any"}),day:bh({matchPatterns:Cle,defaultMatchWidth:"wide",parsePatterns:Ele,defaultParseWidth:"any"}),dayPeriod:bh({matchPatterns:Ole,defaultMatchWidth:"any",parsePatterns:Ple,defaultParseWidth:"any"})},PE={code:"en-US",formatDistance:tle,formatLong:ale,formatRelative:ole,localize:mle,match:Ale,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tle(e){const t=Ue(e);return Ja(t,$6(t))+1}function R6(e){const t=Ue(e),r=+Rc(t)-+Voe(t);return Math.round(r/NE)+1}function D6(e,t){var d,f,h,p;const r=Ue(e),n=r.getFullYear(),i=Zc(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(h=i.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=Zn(e,0);s.setFullYear(n+1,0,a),s.setHours(0,0,0,0);const o=Ta(s,t),c=Zn(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Ta(c,t);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Mle(e,t){var o,c,u,d;const r=Zc(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=D6(e,t),a=Zn(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),Ta(a,t)}function L6(e,t){const r=Ue(e),n=+Ta(r,t)-+Mle(r,t);return Math.round(n/NE)+1}function St(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const wo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return St(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):St(r+1,2)},d(e,t){return St(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return St(e.getHours()%12||12,t.length)},H(e,t){return St(e.getHours(),t.length)},m(e,t){return St(e.getMinutes(),t.length)},s(e,t){return St(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return St(i,t.length)}},ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return wo.y(e,t)},Y:function(e,t,r,n){const i=D6(e,n),a=i>0?i:1-i;if(t==="YY"){const s=a%100;return St(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):St(a,t.length)},R:function(e,t){const r=M6(e);return St(r,t.length)},u:function(e,t){const r=e.getFullYear();return St(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return St(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return St(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return wo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return St(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=L6(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):St(i,t.length)},I:function(e,t,r){const n=R6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):St(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):wo.d(e,t)},D:function(e,t,r){const n=Tle(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):St(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return St(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return St(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return St(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ku.noon:n===0?i=ku.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ku.evening:n>=12?i=ku.afternoon:n>=4?i=ku.morning:i=ku.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return wo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):wo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):St(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):wo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):wo.s(e,t)},S:function(e,t){return wo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return eM(n);case"XXXX":case"XX":return Gl(n);case"XXXXX":case"XXX":default:return Gl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return eM(n);case"xxxx":case"xx":return Gl(n);case"xxxxx":case"xxx":default:return Gl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Z2(n,":");case"OOOO":default:return"GMT"+Gl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Z2(n,":");case"zzzz":default:return"GMT"+Gl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return St(n,t.length)},T:function(e,t,r){const n=e.getTime();return St(n,t.length)}};function Z2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+St(a,2)}function eM(e,t){return e%60===0?(e>0?"-":"+")+St(Math.abs(e)/60,2):Gl(e,t)}function Gl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=St(Math.trunc(n/60),2),a=St(n%60,2);return r+i+t+a}const tM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},F6=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},$le=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return tM(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",tM(n,t)).replace("{{time}}",F6(i,t))},Ile={p:F6,P:$le},Rle=/^D+$/,Dle=/^Y+$/,Lle=["D","DD","YY","YYYY"];function Fle(e){return Rle.test(e)}function Ble(e){return Dle.test(e)}function Ule(e,t,r){const n=zle(e,t,r);if(console.warn(n),Lle.includes(e))throw new RangeError(n)}function zle(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Vle=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Wle=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hle=/^'([^]*?)'?$/,qle=/''/g,Gle=/[a-zA-Z]/;function at(e,t,r){var d,f,h,p,m,g,v,b;const n=Zc(),i=(r==null?void 0:r.locale)??n.locale??PE,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,o=Ue(e);if(!Goe(o))throw new RangeError("Invalid time value");let c=t.match(Wle).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=Ile[w];return _(y,i.formatLong)}return y}).join("").match(Vle).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:Kle(y)};if(Q2[w])return{isToken:!0,value:y};if(w.match(Gle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(c=i.localize.preprocessor(o,c));const u={firstWeekContainsDate:a,weekStartsOn:s,locale:i};return c.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Ble(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Fle(w))&&Ule(w,t,String(e));const _=Q2[w[0]];return _(o,w,i.localize,u)}).join("")}function Kle(e){const t=e.match(Hle);return t?t[1].replace(qle,"'"):e}function Yle(e,t,r){const n=Zc(),i=(r==null?void 0:r.locale)??n.locale??PE,a=2520,s=ey(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=Ue(t),u=Ue(e)):(c=Ue(e),u=Ue(t));const d=Zoe(u,c),f=(Gd(u)-Gd(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):h===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",h,o);if(h<45)return i.formatDistance("xMinutes",h,o);if(h<90)return i.formatDistance("aboutXHours",1,o);if(h<X2){const m=Math.round(h/60);return i.formatDistance("aboutXHours",m,o)}else{if(h<a)return i.formatDistance("xDays",1,o);if(h<nv){const m=Math.round(h/X2);return i.formatDistance("xDays",m,o)}else if(h<nv*2)return p=Math.round(h/nv),i.formatDistance("aboutXMonths",p,o)}if(p=Qoe(u,c),p<12){const m=Math.round(h/nv);return i.formatDistance("xMonths",m,o)}else{const m=p%12,g=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",g,o):m<9?i.formatDistance("overXYears",g,o):i.formatDistance("almostXYears",g+1,o)}}function rM(e,t){return Yle(e,CE(e),t)}function Jle(e){const t=Ue(e),r=t.getFullYear(),n=t.getMonth(),i=Zn(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function Xle(){return Object.assign({},Zc())}function Qle(e){return Math.trunc(+Ue(e)/1e3)}function Zle(e){const t=Ue(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function ece(e,t){return Koe(Zle(e),Xn(e),t)+1}function $j(e,t){const r=Ue(e),n=Ue(t);return r.getTime()>n.getTime()}function Qy(e,t){const r=Ue(e),n=Ue(t);return+r<+n}function AE(e,t){const r=Ue(e),n=Ue(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function tce(e,t){const r=Ue(e),n=Ue(t);return r.getFullYear()===n.getFullYear()}function rce(e){return wn(e,CE(e))}function nce(e){return wn(e,qr(CE(e),1))}function I_(e,t){return qr(e,-t)}function TE(e,t){const n=oce(e);let i;if(n.date){const c=lce(n.date,2);i=cce(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let s=0,o;if(n.time&&(s=uce(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(o=dce(n.timezone),isNaN(o))return new Date(NaN)}else{const c=new Date(a+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+s+o)}const iv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ice=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ace=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oce(e){const t={},r=e.split(iv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],iv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(iv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=iv.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function lce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function cce(e,t){if(t===null)return new Date(NaN);const r=e.match(ice);if(!r)return new Date(NaN);const n=!!r[4],i=wh(r[1]),a=wh(r[2])-1,s=wh(r[3]),o=wh(r[4]),c=wh(r[5])-1;if(n)return gce(t,o,c)?fce(t,o,c):new Date(NaN);{const u=new Date(0);return!pce(t,a,s)||!mce(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,s)),u)}}function wh(e){return e?parseInt(e):1}function uce(e){const t=e.match(ace);if(!t)return NaN;const r=R_(t[1]),n=R_(t[2]),i=R_(t[3]);return vce(r,n,i)?r*T6+n*A6+i*1e3:NaN}function R_(e){return e&&parseFloat(e.replace(",","."))||0}function dce(e){if(e==="Z")return 0;const t=e.match(sce);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return yce(n,i)?r*(n*T6+i*A6):NaN}function fce(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const hce=[31,null,31,30,31,30,31,31,30,31,30,31];function B6(e){return e%400===0||e%4===0&&e%100!==0}function pce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(hce[t]||(B6(e)?29:28))}function mce(e,t){return t>=1&&t<=(B6(e)?366:365)}function gce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function vce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function yce(e,t){return t>=0&&t<=59}function D_(e,t){const r=Ue(e),n=r.getFullYear(),i=r.getDate(),a=Zn(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const s=Jle(a);return r.setMonth(t,Math.min(i,s)),r}function U6(e,t){const r=Ue(e);return r.setHours(t),r}function z6(e,t){const r=Ue(e);return r.setMinutes(t),r}function nM(e,t){const r=Ue(e);return isNaN(+r)?Zn(e,NaN):(r.setFullYear(t),r)}function Ht({className:e,...t}){return l.jsx("div",{className:me("animate-pulse rounded-md bg-muted",e),...t})}const av={active:{label:"Active",variant:"default",icon:Dr},cancelled:{label:"Cancelled",variant:"destructive",icon:Ac},expired:{label:"Expired",variant:"secondary",icon:If},completed:{label:"Completed",variant:"secondary",icon:Dr}},xce=()=>{const{user:e}=Er(),[t,r]=x.useState([]),[n,i]=x.useState(!0);x.useEffect(()=>{(async()=>{if(e)try{const{data:c,error:u}=await Ne.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(u)throw u;if(c&&c.length>0){const d=[...new Set(c.map(m=>m.clinician_id))],{data:f}=await Ne.from("profiles").select("id, first_name, last_name").in("id",d),h=new Map((f==null?void 0:f.map(m=>[m.id,`Dr. ${m.first_name} ${m.last_name}`]))||[]),p=c.map(m=>({id:m.id,medication_name:m.medication_name,dosage:m.dosage,frequency:m.frequency,duration:m.duration,quantity:m.quantity,refills:m.refills,instructions:m.instructions,status:m.status,prescribed_at:m.prescribed_at,clinician_name:h.get(m.clinician_id)||"Unknown"}));r(p)}}catch(c){console.error("Error fetching prescriptions:",c)}finally{i(!1)}})()},[e]);const a=t.filter(o=>o.status==="active"),s=t.filter(o=>o.status!=="active");return n?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(Ht,{className:"h-6 w-40"}),l.jsx(Ht,{className:"h-4 w-60"})]}),l.jsx(fe,{className:"space-y-4",children:[1,2].map(o=>l.jsx(Ht,{className:"h-24 w-full"},o))})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Yr,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),l.jsxs(Ie,{children:[t.length," prescription(s)  ",a.length," active"]})]}),l.jsx(fe,{children:t.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Yr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No prescriptions yet"})]}):l.jsxs("div",{className:"space-y-4",children:[a.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),l.jsx("div",{className:"space-y-3",children:a.map(o=>{const c=av[o.status]||av.active,u=c.icon;return l.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(Yr,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold",children:o.medication_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.dosage,"  ",o.frequency]})]})]}),l.jsxs(Ce,{variant:c.variant,className:"flex items-center gap-1",children:[l.jsx(u,{className:"w-3 h-3"}),c.label]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),l.jsx("p",{className:"font-medium",children:o.duration})]}),o.quantity&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),l.jsx("p",{className:"font-medium",children:o.quantity})]}),o.refills>0&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),l.jsx("p",{className:"font-medium",children:o.refills})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),l.jsx("p",{className:"font-medium",children:at(new Date(o.prescribed_at),"MMM d, yyyy")})]})]}),o.instructions&&l.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[l.jsx("span",{className:"font-medium",children:"Instructions:"})," ",o.instructions]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-muted-foreground",children:[l.jsx(Xr,{className:"w-4 h-4"}),o.clinician_name]})]},o.id)})})]}),s.length>0&&l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),l.jsx("div",{className:"space-y-3",children:s.map(o=>{const c=av[o.status]||av.completed,u=c.icon;return l.jsx("div",{className:"p-4 rounded-lg border border-border",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-muted",children:l.jsx(Yr,{className:"w-5 h-5 text-muted-foreground"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:o.medication_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.dosage,"  ",o.frequency,"  ",o.duration]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs(Ce,{variant:c.variant,className:"flex items-center gap-1",children:[l.jsx(u,{className:"w-3 h-3"}),c.label]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:at(new Date(o.prescribed_at),"MMM d, yyyy")})]})]})},o.id)})})]})]})})]})},Mr=x.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Mr.displayName="Textarea";const iM={new:{label:"New",color:"bg-blue-500",icon:l.jsx(Fd,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:l.jsx(Xt,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:l.jsx(Xt,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:l.jsx(At,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:l.jsx(Dr,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:l.jsx(Dr,{className:"w-3 h-3"})}},Ij=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[l.jsx(Fd,{className:"w-12 h-12 mb-4 opacity-50"}),l.jsx("p",{children:"No conversations yet"})]}):l.jsx("div",{className:"divide-y divide-border",children:e.map(i=>{const a=iM[i.status]||iM.new,s=t===i.id;return l.jsx("div",{onClick:()=>r(i),className:me("p-4 cursor-pointer transition-colors hover:bg-accent",s&&"bg-accent border-l-4 border-l-primary"),children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?l.jsx("span",{className:"font-medium text-sm truncate",children:i.patient_name||"Unknown Patient"}):l.jsx("span",{className:"font-medium text-sm truncate",children:i.receptionist_name||"Waiting for receptionist..."}),l.jsxs(Ce,{variant:"secondary",className:me("text-xs text-white",a.color),children:[a.icon,l.jsx("span",{className:"ml-1",children:a.label})]})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:i.last_message||"No messages yet"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[l.jsx(Xt,{className:"w-3 h-3"}),l.jsx("span",{children:i.last_message_at?rM(new Date(i.last_message_at),{addSuffix:!0}):rM(new Date(i.created_at),{addSuffix:!0})})]})]}),i.unread_count>0&&l.jsx(Ce,{variant:"destructive",className:"rounded-full px-2",children:i.unread_count})]})},i.id)})}),V6=({messages:e,currentUserId:t})=>{const r=x.useRef(null);if(x.useEffect(()=>{var i;(i=r.current)==null||i.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return l.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:l.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=i=>{switch(i.message_type){case"image":return l.jsxs("div",{className:"space-y-2",children:[i.file_url&&l.jsx("img",{src:i.file_url,alt:i.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(i.file_url,"_blank")}),i.content&&l.jsx("p",{children:i.content})]});case"file":return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-5 h-5"}),l.jsx("a",{href:i.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:i.file_name||"Download file"})]});case"system":return l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[l.jsx(TJ,{className:"w-4 h-4"}),l.jsx("span",{children:i.content})]});case"booking_confirmation":return l.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[l.jsx(At,{className:"w-4 h-4"}),l.jsx("span",{children:"Booking Confirmed"})]}),l.jsx("p",{className:"text-sm",children:i.content})]});default:return l.jsx("p",{className:"whitespace-pre-wrap",children:i.content})}};return l.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((i,a)=>{const s=i.sender_id===t,o=i.message_type==="system"||i.sender_role==="system",c=a===0||at(new Date(i.created_at),"yyyy-MM-dd")!==at(new Date(e[a-1].created_at),"yyyy-MM-dd");return l.jsxs(A.Fragment,{children:[c&&l.jsx("div",{className:"flex justify-center",children:l.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:at(new Date(i.created_at),"MMMM d, yyyy")})}),o?l.jsx("div",{className:"flex justify-center",children:l.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(i)})}):l.jsxs("div",{className:me("flex gap-3",s?"flex-row-reverse":"flex-row"),children:[l.jsx("div",{className:me("w-8 h-8 rounded-full flex items-center justify-center shrink-0",s?"bg-primary text-primary-foreground":"bg-muted"),children:l.jsx(Xr,{className:"w-4 h-4"})}),l.jsxs("div",{className:me("max-w-[70%] space-y-1",s?"items-end":"items-start"),children:[l.jsxs("div",{className:me("flex items-center gap-2 text-xs text-muted-foreground",s?"flex-row-reverse":"flex-row"),children:[l.jsx("span",{className:"font-medium",children:s?"You":i.sender_name||i.sender_role}),l.jsx("span",{children:at(new Date(i.created_at),"HH:mm")})]}),l.jsx("div",{className:me("rounded-2xl px-4 py-2",s?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(i)})]})]})]},i.id)}),l.jsx("div",{ref:r})]})},W6=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,i]=x.useState(""),[a,s]=x.useState(!1),[o,c]=x.useState(null),[u,d]=x.useState(null),f=x.useRef(null),h=async()=>{if(!(!n.trim()&&!o||a)){s(!0);try{if(o){const v=n.trim()?`${n.trim()}
 ${o.name}`:` ${o.name}`;await e(v,"text")}else await e(n.trim(),"text");i(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{s(!1)}}},p=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},m=v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},g=()=>{c(null),d(null),f.current&&(f.current.value="")};return l.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[o&&l.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?l.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):l.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:l.jsx(ZJ,{className:"w-6 h-6 text-muted-foreground"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:o.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[(o.size/1024).toFixed(1)," KB"]})]}),l.jsx(ee,{variant:"ghost",size:"icon",onClick:g,children:l.jsx(ao,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:m,className:"hidden"}),l.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||a,className:"shrink-0",children:l.jsx(VJ,{className:"w-5 h-5"})}),l.jsx(Mr,{value:n,onChange:v=>i(v.target.value),onKeyDown:p,placeholder:r,disabled:t||a,className:"min-h-[44px] max-h-32 resize-none",rows:1}),l.jsx(ee,{onClick:h,disabled:t||a||!n.trim()&&!o,size:"icon",className:"shrink-0",children:a?l.jsx(Lr,{className:"w-5 h-5 animate-spin"}):l.jsx(rX,{className:"w-5 h-5"})})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},bce=({onStartBooking:e})=>{const{user:t}=Er(),{conversations:r,currentConversation:n,messages:i,isLoading:a,loadConversations:s,selectConversation:o,createConversation:c,sendMessage:u}=d6(),[d,f]=x.useState(!1),[h,p]=x.useState(""),[m,g]=x.useState(!1),[v,b]=x.useState("list");x.useEffect(()=>{s()},[s]);const y=async()=>{if(!(!h.trim()||m)){g(!0);try{await c(h.trim()),p(""),f(!1),b("chat")}catch(k){console.error("Error creating conversation:",k)}finally{g(!1)}}},w=async k=>{await o(k.id),b("chat")},_=()=>{b("list")},S=typeof window<"u"&&window.innerWidth<768;return d?l.jsxs(se,{className:"h-full",children:[l.jsx(xe,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:l.jsx(ln,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx(we,{children:"Start a New Conversation"}),l.jsx(Ie,{children:"Tell us how we can help you today"})]})]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsx(Mr,{value:h,onChange:k=>p(k.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),l.jsx(ee,{onClick:y,disabled:!h.trim()||m,children:m?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Fd,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):l.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[l.jsxs(se,{className:`md:w-80 shrink-0 ${v==="chat"&&S?"hidden":""}`,children:[l.jsx(xe,{className:"pb-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(we,{className:"text-lg",children:"Messages"}),l.jsxs(ee,{size:"sm",onClick:()=>f(!0),children:[l.jsx(Bd,{className:"w-4 h-4 mr-1"}),"New"]})]})}),l.jsx(fe,{className:"p-0 overflow-y-auto max-h-[500px]",children:a&&r.length===0?l.jsx("div",{className:"flex items-center justify-center p-8",children:l.jsx(Lr,{className:"w-6 h-6 animate-spin"})}):l.jsx(Ij,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),l.jsx(se,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&S?"hidden":""}`,children:n?l.jsxs(l.Fragment,{children:[l.jsx(xe,{className:"pb-2 border-b",children:l.jsxs("div",{className:"flex items-center gap-2",children:[S&&l.jsx(ee,{variant:"ghost",size:"icon",onClick:_,children:l.jsx(ln,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(we,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),l.jsxs(Ie,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),l.jsx(V6,{messages:i,currentUserId:t==null?void 0:t.id}),l.jsx(W6,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[l.jsx(Fd,{className:"w-16 h-16 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),l.jsxs(ee,{onClick:()=>f(!0),children:[l.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},wce=()=>{var w;const e=kn(),t=hs(),{user:r,profile:n,signOut:i,onboardingComplete:a,isLoading:s}=Er(),[o,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0),[p,m]=x.useState(!1),[g,v]=x.useState("chat"),b=(w=t.state)==null?void 0:w.justOnboarded;x.useEffect(()=>{if(b){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!s&&!a&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[s,a,e,b]);const y=async()=>{if(r)try{const{data:_,error:S}=await Ne.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!S&&_&&_.length>0){const k=_.map(T=>T.clinician_id),[N,E]=await Promise.all([Ne.from("profiles").select("id, first_name, last_name").in("id",k),Ne.from("clinician_profiles").select("id, specialization").in("id",k)]),P=_.map(T=>{var F,R;const $=(F=N.data)==null?void 0:F.find(U=>U.id===T.clinician_id),M=(R=E.data)==null?void 0:R.find(U=>U.id===T.clinician_id);return{id:T.id,scheduled_at:T.scheduled_at,consultation_type:T.consultation_type,status:T.status,clinician_name:$?`${$.first_name} ${$.last_name}`:"Unknown",specialization:(M==null?void 0:M.specialization)||null}});c(P)}else c([])}catch(_){console.error("Error fetching appointments:",_)}};return x.useEffect(()=>{(async()=>{if(r)try{await y();try{const S=await md.getMyInvoices();d(S||[])}catch(S){console.log("No invoices or error fetching:",S)}}catch(S){console.error("Error fetching data:",S)}finally{h(!1)}})()},[r]),x.useEffect(()=>{if(!r)return;const _=Ne.channel("patient-appointments").on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},S=>{console.log("[PatientDashboard] Appointment updated:",S),c(k=>k.map(N=>N.id===S.new.id?{...N,status:S.new.status}:N))}).subscribe();return()=>{Ne.removeChannel(_)}},[r]),s?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:i,children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),l.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>m(!p),children:p?l.jsx(ao,{className:"w-5 h-5"}):l.jsx(Ym,{className:"w-5 h-5"})})]}),p&&l.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),l.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[l.jsxs("div",{className:"mb-4 sm:mb-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),l.jsxs(kl,{value:g,onValueChange:v,className:"space-y-4",children:[l.jsxs(oo,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[l.jsxs(Dt,{value:"chat",className:"flex items-center gap-2",children:[l.jsx(Fd,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),l.jsxs(Dt,{value:"consultations",className:"flex items-center gap-2",children:[l.jsx(qt,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),l.jsxs(Dt,{value:"profile",className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),l.jsx(dr,{value:"chat",className:"min-h-[600px]",children:l.jsx(bce,{})}),l.jsxs(dr,{value:"consultations",className:"space-y-6",children:[l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),l.jsx(Ie,{children:"Your scheduled video consultations"})]}),l.jsx(fe,{children:f?l.jsx("div",{className:"space-y-4",children:[1,2].map(_=>l.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},_))}):o.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(At,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No upcoming consultations"}),l.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):l.jsx("div",{className:"space-y-4",children:o.map(_=>{const S=new Date(_.scheduled_at),k=new Date,N=(S.getTime()-k.getTime())/(1e3*60),E=_.status==="in_progress"||_.status==="confirmed"&&N<=15&&N>=-60;return l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:l.jsx(At,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:_.clinician_name}),l.jsx("p",{className:"text-sm text-muted-foreground",children:_.specialization||"General Consultation"})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[l.jsxs("div",{className:"text-left sm:text-right",children:[l.jsx("p",{className:"font-medium",children:at(new Date(_.scheduled_at),"MMM d, yyyy")}),l.jsx("p",{className:"text-sm text-muted-foreground",children:at(new Date(_.scheduled_at),"h:mm a")})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[E&&l.jsxs(ee,{size:"sm",onClick:()=>e(`/consultation?appointment=${_.id}`),className:_.status==="in_progress"?"animate-pulse":"",children:[l.jsx(qt,{className:"w-4 h-4 mr-1"}),_.status==="in_progress"?"Join Now":"Join"]}),l.jsx(Ce,{variant:_.status==="confirmed"?"default":_.status==="in_progress"?"destructive":"secondary",children:_.status==="in_progress"?" Live":_.status})]})]})]},_.id)})})})]}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),l.jsx(Ie,{children:"Your prescription history"})]}),l.jsx(fe,{children:l.jsx(xce,{})})]})]}),l.jsxs(dr,{value:"profile",className:"space-y-6",children:[l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),l.jsx(Ie,{children:"Your profile details"})]}),l.jsxs(fe,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),l.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),l.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),l.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),l.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),l.jsxs(ee,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[l.jsx(Jv,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(aT,{className:"w-5 h-5 text-primary"}),"Invoices"]}),l.jsx(Ie,{children:"Your billing history"})]}),l.jsx(fe,{children:u.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(aT,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No invoices yet"})]}):l.jsx("div",{className:"space-y-3",children:u.map(_=>l.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:_.service_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[at(new Date(_.consultation_date),"MMM d, yyyy"),"  ",_.clinician_name]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-medium",children:["R ",_.amount.toFixed(2)]}),l.jsx(Ce,{variant:_.status==="paid"?"default":"secondary",children:_.status})]}),l.jsx(ee,{variant:"outline",size:"sm",onClick:async()=>{try{await md.downloadInvoicePDF(_.id,`invoice_${_.id.slice(0,8)}.pdf`)}catch(S){console.error("Failed to download invoice:",S)}},children:"PDF"})]})]},_.id))})})]})]})]})]})]})},_ce=()=>l.jsx(f6,{children:l.jsx(wce,{})});var ME="Radio",[Sce,H6]=un(ME),[jce,kce]=Sce(ME),q6=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:a,disabled:s,value:o="on",onCheck:c,form:u,...d}=e,[f,h]=x.useState(null),p=ze(t,v=>h(v)),m=x.useRef(!1),g=f?u||!!f.closest("form"):!0;return l.jsxs(jce,{scope:r,checked:i,disabled:s,children:[l.jsx(Oe.button,{type:"button",role:"radio","aria-checked":i,"data-state":J6(i),"data-disabled":s?"":void 0,disabled:s,value:o,...d,ref:p,onClick:oe(e.onClick,v=>{i||c==null||c(),g&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})}),g&&l.jsx(Y6,{control:f,bubbles:!m.current,name:n,value:o,checked:i,required:a,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});q6.displayName=ME;var G6="RadioIndicator",K6=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...i}=e,a=kce(G6,r);return l.jsx(Fr,{present:n||a.checked,children:l.jsx(Oe.span,{"data-state":J6(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t})})});K6.displayName=G6;var Nce="RadioBubbleInput",Y6=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=x.useRef(null),o=ze(s,a),c=s0(r),u=Gb(t);return x.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const m=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(m)}},[c,r,n]),l.jsx(Oe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y6.displayName=Nce;function J6(e){return e?"checked":"unchecked"}var Cce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],m0="RadioGroup",[Ece]=un(m0,[Wf,H6]),X6=Wf(),Q6=H6(),[Oce,Pce]=Ece(m0),Z6=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:a,required:s=!1,disabled:o=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=X6(r),m=zf(u),[g,v]=Ea({prop:a,defaultProp:i??null,onChange:f,caller:m0});return l.jsx(Oce,{scope:r,name:n,required:s,disabled:o,value:g,onValueChange:v,children:l.jsx(SE,{asChild:!0,...p,orientation:c,dir:m,loop:d,children:l.jsx(Oe.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":o?"":void 0,dir:m,...h,ref:t})})})});Z6.displayName=m0;var e8="RadioGroupItem",t8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...i}=e,a=Pce(e8,r),s=a.disabled||n,o=X6(r),c=Q6(r),u=x.useRef(null),d=ze(t,u),f=a.value===i.value,h=x.useRef(!1);return x.useEffect(()=>{const p=g=>{Cce.includes(g.key)&&(h.current=!0)},m=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",m),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",m)}},[]),l.jsx(jE,{asChild:!0,...o,focusable:!s,active:f,children:l.jsx(q6,{disabled:s,required:a.required,checked:f,...c,...i,name:a.name,ref:d,onCheck:()=>a.onValueChange(i.value),onKeyDown:oe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:oe(i.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});t8.displayName=e8;var Ace="RadioGroupIndicator",r8=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,i=Q6(r);return l.jsx(K6,{...i,...n,ref:t})});r8.displayName=Ace;var n8=Z6,i8=t8,Tce=r8;const Xp=x.forwardRef(({className:e,...t},r)=>l.jsx(n8,{className:me("grid gap-2",e),...t,ref:r}));Xp.displayName=n8.displayName;const Xa=x.forwardRef(({className:e,...t},r)=>l.jsx(i8,{ref:r,className:me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(Tce,{className:"flex items-center justify-center",children:l.jsx(E5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Xa.displayName=i8.displayName;function Mce(e,t=[]){let r=[];function n(a,s){const o=x.createContext(s);o.displayName=a+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...m}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,v=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>x.createContext(s));return function(o){const c=(o==null?void 0:o[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[n,$ce(i,...t)]}function $ce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Ice=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],a8=Ice.reduce((e,t)=>{const r=eg(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),$E="Progress",IE=100,[Rce]=Mce($E),[Dce,Lce]=Rce($E),s8=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Fce,...s}=e;(i||i===0)&&!aM(i)&&console.error(Bce(`${i}`,"Progress"));const o=aM(i)?i:IE;n!==null&&!sM(n,o)&&console.error(Uce(`${n}`,"Progress"));const c=sM(n,o)?n:null,u=Zy(c)?a(c,o):void 0;return l.jsx(Dce,{scope:r,value:c,max:o,children:l.jsx(a8.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Zy(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":c8(c,o),"data-value":c??void 0,"data-max":o,...s,ref:t})})});s8.displayName=$E;var o8="ProgressIndicator",l8=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Lce(o8,r);return l.jsx(a8.div,{"data-state":c8(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});l8.displayName=o8;function Fce(e,t){return`${Math.round(e/t*100)}%`}function c8(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Zy(e){return typeof e=="number"}function aM(e){return Zy(e)&&!isNaN(e)&&e>0}function sM(e,t){return Zy(e)&&!isNaN(e)&&e<=t&&e>=0}function Bce(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${IE}\`.`}function Uce(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${IE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var u8=s8,zce=l8;const Qp=x.forwardRef(({className:e,value:t,...r},n)=>l.jsx(u8,{ref:n,className:me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(zce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Qp.displayName=u8.displayName;const oM="",Vce={General:nX,"Head & Neurological":Dd,"Eyes, Ears, Nose, Throat":VS,Respiratory:Yu,Cardiovascular:BC,Gastrointestinal:Ui,Urinary:Yu,Musculoskeletal:Yu,Skin:Yu,"Mental Health":Dd},lM={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},Wce=({onComplete:e,onBack:t})=>{const[r,n]=x.useState(1),[i,a]=x.useState(!1),[s,o]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState("moderate"),[h,p]=x.useState(""),[m,g]=x.useState(""),[v,b]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{const $=await(await fetch(`${oM}/api/symptoms/common`)).json();o($.symptom_categories||[])}catch(T){console.error("Failed to fetch symptoms:",T),o([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=T=>{u($=>$.includes(T)?$.filter(M=>M!==T):[...$,T])},_=async()=>{if(c.length===0){ge.error("Please select at least one symptom");return}a(!0);try{const{supabase:T}=await Zs(async()=>{const{supabase:R}=await Promise.resolve().then(()=>Xs);return{supabase:R}},void 0),{data:{session:$}}=await T.auth.getSession(),M=await fetch(`${oM}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...($==null?void 0:$.access_token)&&{Authorization:`Bearer ${$.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:m||void 0})});if(!M.ok)throw new Error("Assessment failed");const F=await M.json();b(F),n(4)}catch(T){console.error("Assessment error:",T),ge.error("Failed to complete AI assessment. Proceeding with basic booking."),S()}finally{a(!1)}},S=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},k=()=>{if(!v)return;const T={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?T[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},E=r/4*100,P=v?lM[v.urgency]||lM.routine:null;return l.jsxs("div",{className:"space-y-6",children:[r<4&&l.jsxs("div",{className:"mb-6",children:[l.jsx(Qp,{value:E,className:"h-2"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Ui,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),l.jsx(Ie,{children:"Select all that apply. Our AI will help assess your needs."})]}),l.jsxs(fe,{className:"space-y-6",children:[s.map(T=>{const $=Vce[T.category]||Yu;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[l.jsx($,{className:"w-4 h-4 text-muted-foreground"}),T.category]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:T.symptoms.map(M=>l.jsx(Ce,{variant:c.includes(M)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(M),children:M},M))})]},T.category)}),c.length>0&&l.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[l.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(T=>l.jsx(Ce,{variant:"secondary",className:"text-xs",children:T},T))})]})]})]}),r===2&&l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Yu,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs(Xp,{value:d,onValueChange:T=>f(T),className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[l.jsx(Xa,{value:"mild",id:"mild"}),l.jsxs(he,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[l.jsx("span",{className:"font-medium",children:"Mild"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),l.jsx(Ce,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[l.jsx(Xa,{value:"moderate",id:"moderate"}),l.jsxs(he,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[l.jsx("span",{className:"font-medium",children:"Moderate"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),l.jsx(Ce,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),l.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[l.jsx(Xa,{value:"severe",id:"severe"}),l.jsxs(he,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[l.jsx("span",{className:"font-medium",children:"Severe"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),l.jsx(Ce,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"How long have you had these symptoms?"}),l.jsx(Xp,{value:m,onValueChange:g,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(T=>l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xa,{value:T,id:T}),l.jsx(he,{htmlFor:T,className:"text-sm cursor-pointer",children:T})]},T))})]})]})]}),r===3&&l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Dd,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),l.jsx(Ie,{children:"Any additional details help our AI provide a better assessment"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Describe your symptoms in your own words"}),l.jsx(Mr,{value:h,onChange:T=>p(T.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),l.jsx("br",{}),l.jsx("strong",{children:"Severity:"})," ",d,l.jsx("br",{}),l.jsx("strong",{children:"Duration:"})," ",m||"Not specified"]})]})]})]}),r===4&&v&&l.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&l.jsx(se,{className:"border-red-500 bg-red-50",children:l.jsx(fe,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:l.jsx(Qn,{className:"w-8 h-8 text-red-600"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),l.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),P&&l.jsx(Ce,{className:`${P.bgColor} ${P.color}`,children:P.label})]})}),l.jsxs(fe,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),l.jsxs("div",{children:[l.jsx(he,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Qp,{value:v.urgency_score*10,className:"h-3 flex-1"}),l.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),l.jsxs("div",{className:"p-4 border rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),l.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&l.jsxs("p",{className:"text-sm mt-2",children:[l.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&l.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[l.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[l.jsx(_i,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),l.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((T,$)=>l.jsxs("li",{children:[" ",T]},$))})]}),v.self_care_advice&&l.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),l.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),l.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsxs(ee,{variant:"outline",onClick:()=>r===1?t():n(T=>T-1),children:[l.jsx(FC,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&l.jsxs(ee,{onClick:()=>n(2),disabled:c.length===0,children:["Next",l.jsx(Ld,{className:"w-4 h-4 ml-2"})]}),r===2&&l.jsxs(ee,{onClick:()=>n(3),children:["Next",l.jsx(Ld,{className:"w-4 h-4 ml-2"})]}),r===3&&l.jsx(ee,{onClick:_,disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Dd,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&l.jsxs(ee,{onClick:k,children:["Continue to Select Clinician",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]})]})};function Hce(e,t=[]){let r=[];function n(a,s){const o=x.createContext(s);o.displayName=a+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...m}=f,g=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,v=x.useMemo(()=>m,Object.values(m));return l.jsx(g.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,h){var g;const p=((g=h==null?void 0:h[e])==null?void 0:g[c])||o,m=x.useContext(p);if(m)return m;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(s=>x.createContext(s));return function(o){const c=(o==null?void 0:o[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return i.scopeName=e,[n,qce(i,...t)]}function qce(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=n.reduce((o,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...o,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Gce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RE=Gce.reduce((e,t)=>{const r=eg(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),d8={exports:{}},f8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd=x;function Kce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yce=typeof Object.is=="function"?Object.is:Kce,Jce=Yd.useState,Xce=Yd.useEffect,Qce=Yd.useLayoutEffect,Zce=Yd.useDebugValue;function eue(e,t){var r=t(),n=Jce({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Qce(function(){i.value=r,i.getSnapshot=t,L_(i)&&a({inst:i})},[e,r,t]),Xce(function(){return L_(i)&&a({inst:i}),e(function(){L_(i)&&a({inst:i})})},[e]),Zce(r),r}function L_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yce(e,r)}catch{return!0}}function tue(e,t){return t()}var rue=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tue:eue;f8.useSyncExternalStore=Yd.useSyncExternalStore!==void 0?Yd.useSyncExternalStore:rue;d8.exports=f8;var nue=d8.exports;function iue(){return nue.useSyncExternalStore(aue,()=>!0,()=>!1)}function aue(){return()=>{}}var DE="Avatar",[sue]=Hce(DE),[oue,h8]=sue(DE),p8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=x.useState("idle");return l.jsx(oue,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(RE.span,{...n,ref:t})})});p8.displayName=DE;var m8="AvatarImage",g8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,s=h8(m8,r),o=lue(n,a),c=ur(u=>{i(u),s.onImageLoadingStatusChange(u)});return yr(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(RE.img,{...a,ref:t,src:n}):null});g8.displayName=m8;var v8="AvatarFallback",y8=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=h8(v8,r),[s,o]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&a.imageLoadingStatus!=="loaded"?l.jsx(RE.span,{...i,ref:t}):null});y8.displayName=v8;function cM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lue(e,{referrerPolicy:t,crossOrigin:r}){const n=iue(),i=x.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[s,o]=x.useState(()=>cM(a,e));return yr(()=>{o(cM(a,e))},[a,e]),yr(()=>{const c=f=>()=>{o(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),s}var x8=p8,b8=g8,w8=y8;const g0=x.forwardRef(({className:e,...t},r)=>l.jsx(x8,{ref:r,className:me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));g0.displayName=x8.displayName;const _8=x.forwardRef(({className:e,...t},r)=>l.jsx(b8,{ref:r,className:me("aspect-square h-full w-full",e),...t}));_8.displayName=b8.displayName;const v0=x.forwardRef(({className:e,...t},r)=>l.jsx(w8,{ref:r,className:me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));v0.displayName=w8.displayName;const cue=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,i]=x.useState([]),[a,s]=x.useState(!0),[o,c]=x.useState(null);x.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Ne.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const p=f.map(b=>b.id),{data:m,error:g}=await Ne.from("profiles").select("id, first_name, last_name, avatar_url").in("id",p);if(g)throw g;const v=f.map(b=>{const y=m==null?void 0:m.find(w=>w.id===b.id);return{id:b.id,first_name:(y==null?void 0:y.first_name)||"Unknown",last_name:(y==null?void 0:y.last_name)||"",avatar_url:(y==null?void 0:y.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});i(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{s(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===o);d&&t(d)};return a?l.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>l.jsx(se,{children:l.jsxs(fe,{className:"flex items-center gap-4 p-6",children:[l.jsx(Ht,{className:"w-16 h-16 rounded-full"}),l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Ht,{className:"h-4 w-32"}),l.jsx(Ht,{className:"h-3 w-48"})]})]})},d))}):n.length===0?l.jsx(se,{children:l.jsxs(fe,{className:"text-center py-12",children:[l.jsx(Xr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),l.jsx(ee,{variant:"outline",onClick:r,children:"Go Back"})]})}):l.jsxs("div",{className:"space-y-6",children:[e&&l.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[l.jsx(Ui,{className:"w-5 h-5 text-primary"}),l.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",l.jsx("strong",{children:e})," specialist."]})]}),l.jsx("div",{className:"space-y-4",children:n.map(d=>l.jsx(se,{className:`cursor-pointer transition-all ${o===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:l.jsxs(fe,{className:"flex items-start gap-4 p-6",children:[l.jsxs(g0,{className:"w-16 h-16",children:[l.jsx(_8,{src:d.avatar_url||void 0}),l.jsxs(v0,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),l.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),l.jsx(Ce,{variant:"secondary",children:d.specialization||"General Practice"})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Xt,{className:"w-4 h-4"}),d.years_experience," years exp."]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(M5,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&l.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${o===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:o===d.id&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ee,{variant:"outline",onClick:r,children:"Back"}),l.jsxs(ee,{onClick:u,disabled:!o,children:["Continue to Select Time",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]})]})};var Be=function(){return Be=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Be.apply(this,arguments)};function uue(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function S8(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function ag(e){return e.mode==="multiple"}function sg(e){return e.mode==="range"}function y0(e){return e.mode==="single"}var due={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function fue(e,t){return at(e,"LLLL y",t)}function hue(e,t){return at(e,"d",t)}function pue(e,t){return at(e,"LLLL",t)}function mue(e){return"".concat(e)}function gue(e,t){return at(e,"cccccc",t)}function vue(e,t){return at(e,"yyyy",t)}var yue=Object.freeze({__proto__:null,formatCaption:fue,formatDay:hue,formatMonthCaption:pue,formatWeekNumber:mue,formatWeekdayName:gue,formatYearCaption:vue}),xue=function(e,t,r){return at(e,"do MMMM (EEEE)",r)},bue=function(){return"Month: "},wue=function(){return"Go to next month"},_ue=function(){return"Go to previous month"},Sue=function(e,t){return at(e,"cccc",t)},jue=function(e){return"Week n. ".concat(e)},kue=function(){return"Year: "},Nue=Object.freeze({__proto__:null,labelDay:xue,labelMonthDropdown:bue,labelNext:wue,labelPrevious:_ue,labelWeekNumber:jue,labelWeekday:Sue,labelYearDropdown:kue});function Cue(){var e="buttons",t=due,r=PE,n={},i={},a=1,s={},o=new Date;return{captionLayout:e,classNames:t,formatters:yue,labels:Nue,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:s,today:o,mode:"default"}}function Eue(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,s=e.toDate;return n?a=Xn(n):t&&(a=new Date(t,0,1)),i?s=h0(i):r&&(s=new Date(r,11,31)),{fromDate:a?cs(a):void 0,toDate:s?cs(s):void 0}}var j8=x.createContext(void 0);function Oue(e){var t,r=e.initialProps,n=Cue(),i=Eue(r),a=i.fromDate,s=i.toDate,o=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;o!=="buttons"&&(!a||!s)&&(o="buttons");var c;(y0(r)||ag(r)||sg(r))&&(c=r.onSelect);var u=Be(Be(Be({},n),r),{captionLayout:o,classNames:Be(Be({},n.classNames),r.classNames),components:Be({},r.components),formatters:Be(Be({},n.formatters),r.formatters),fromDate:a,labels:Be(Be({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Be(Be({},n.modifiers),r.modifiers),modifiersClassNames:Be(Be({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Be(Be({},n.styles),r.styles),toDate:s});return l.jsx(j8.Provider,{value:u,children:e.children})}function Ft(){var e=x.useContext(j8);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function k8(e){var t=Ft(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return l.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function Pue(e){return l.jsx("svg",Be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:l.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function N8(e){var t,r,n=e.onChange,i=e.value,a=e.children,s=e.caption,o=e.className,c=e.style,u=Ft(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Pue;return l.jsxs("div",{className:o,style:c,children:[l.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),l.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),l.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,l.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Aue(e){var t,r=Ft(),n=r.fromDate,i=r.toDate,a=r.styles,s=r.locale,o=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return l.jsx(l.Fragment,{});if(!i)return l.jsx(l.Fragment,{});var f=[];if(tce(n,i))for(var h=Xn(n),p=n.getMonth();p<=i.getMonth();p++)f.push(D_(h,p));else for(var h=Xn(new Date),p=0;p<=11;p++)f.push(D_(h,p));var m=function(v){var b=Number(v.target.value),y=D_(Xn(e.displayMonth),b);e.onChange(y)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:N8;return l.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:s}),children:f.map(function(v){return l.jsx("option",{value:v.getMonth(),children:o(v,{locale:s})},v.getMonth())})})}function Tue(e){var t,r=e.displayMonth,n=Ft(),i=n.fromDate,a=n.toDate,s=n.locale,o=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!i)return l.jsx(l.Fragment,{});if(!a)return l.jsx(l.Fragment,{});for(var p=i.getFullYear(),m=a.getFullYear(),g=p;g<=m;g++)h.push(nM($6(new Date),g));var v=function(y){var w=nM(Xn(r),Number(y.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:N8;return l.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:o.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(y){return l.jsx("option",{value:y.getFullYear(),children:d(y,{locale:s})},y.getFullYear())})})}function Mue(e,t){var r=x.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function $ue(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,s=e.fromDate,o=e.numberOfMonths,c=o===void 0?1:o;if(a&&Kd(a,i)<0){var u=-1*(c-1);i=Aa(a,u)}return s&&Kd(i,s)<0&&(i=s),Xn(i)}function Iue(){var e=Ft(),t=$ue(e),r=Mue(t,e.month),n=r[0],i=r[1],a=function(s){var o;if(!e.disableNavigation){var c=Xn(s);i(c),(o=e.onMonthChange)===null||o===void 0||o.call(e,c)}};return[n,a]}function Rue(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=Xn(e),a=Xn(Aa(i,n)),s=Kd(a,i),o=[],c=0;c<s;c++){var u=Aa(i,c);o.push(u)}return r&&(o=o.reverse()),o}function Due(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Xn(e);if(!r)return Aa(o,s);var c=Kd(r,e);if(!(c<a))return Aa(o,s)}}function Lue(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,s=n?a:1,o=Xn(e);if(!r)return Aa(o,-s);var c=Kd(o,r);if(!(c<=0))return Aa(o,-s)}}var C8=x.createContext(void 0);function Fue(e){var t=Ft(),r=Iue(),n=r[0],i=r[1],a=Rue(n,t),s=Due(n,t),o=Lue(n,t),c=function(f){return a.some(function(h){return AE(f,h)})},u=function(f,h){c(f)||(h&&Qy(f,h)?i(Aa(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:s,isDateDisplayed:c};return l.jsx(C8.Provider,{value:d,children:e.children})}function og(){var e=x.useContext(C8);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function uM(e){var t,r=Ft(),n=r.classNames,i=r.styles,a=r.components,s=og().goToMonth,o=function(d){s(Aa(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:k8,u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth});return l.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[l.jsx("div",{className:n.vhidden,children:u}),l.jsx(Aue,{onChange:o,displayMonth:e.displayMonth}),l.jsx(Tue,{onChange:o,displayMonth:e.displayMonth})]})}function Bue(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Uue(e){return l.jsx("svg",Be({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:l.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ex=x.forwardRef(function(e,t){var r=Ft(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var s=a.join(" "),o=Be(Be({},i.button_reset),i.button);return e.style&&Object.assign(o,e.style),l.jsx("button",Be({},e,{ref:t,type:"button",className:s,style:o}))});function zue(e){var t,r,n=Ft(),i=n.dir,a=n.locale,s=n.classNames,o=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return l.jsx(l.Fragment,{});var h=u(e.previousMonth,{locale:a}),p=[s.nav_button,s.nav_button_previous].join(" "),m=d(e.nextMonth,{locale:a}),g=[s.nav_button,s.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Uue,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Bue;return l.jsxs("div",{className:s.nav,style:o.nav,children:[!e.hidePrevious&&l.jsx(ex,{name:"previous-month","aria-label":h,className:p,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?l.jsx(v,{className:s.nav_icon,style:o.nav_icon}):l.jsx(b,{className:s.nav_icon,style:o.nav_icon})}),!e.hideNext&&l.jsx(ex,{name:"next-month","aria-label":m,className:g,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?l.jsx(b,{className:s.nav_icon,style:o.nav_icon}):l.jsx(v,{className:s.nav_icon,style:o.nav_icon})})]})}function dM(e){var t=Ft().numberOfMonths,r=og(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,s=r.displayMonths,o=s.findIndex(function(m){return AE(e.displayMonth,m)}),c=o===0,u=o===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&a(n)},p=function(){i&&a(i)};return l.jsx(zue,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:n,onPreviousClick:h,onNextClick:p})}function Vue(e){var t,r=Ft(),n=r.classNames,i=r.disableNavigation,a=r.styles,s=r.captionLayout,o=r.components,c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:k8,u;return i?u=l.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=l.jsx(uM,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=l.jsxs(l.Fragment,{children:[l.jsx(uM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),l.jsx(dM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=l.jsxs(l.Fragment,{children:[l.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(dM,{displayMonth:e.displayMonth,id:e.id})]}),l.jsx("div",{className:n.caption,style:a.caption,children:u})}function Wue(e){var t=Ft(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?l.jsx("tfoot",{className:i,style:n.tfoot,children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,children:r})})}):l.jsx(l.Fragment,{})}function Hue(e,t,r){for(var n=r?Rc(new Date):Ta(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var s=qr(n,a);i.push(s)}return i}function que(){var e=Ft(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,s=e.ISOWeek,o=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Hue(i,a,s);return l.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&l.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return l.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:i}),children:o(d,{locale:i})},f)})]})}function Gue(){var e,t=Ft(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:que;return l.jsx("thead",{style:n.head,className:r.head,children:l.jsx(a,{})})}function Kue(e){var t=Ft(),r=t.locale,n=t.formatters.formatDay;return l.jsx(l.Fragment,{children:n(e.date,{locale:r})})}var LE=x.createContext(void 0);function Yue(e){if(!ag(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return l.jsx(LE.Provider,{value:t,children:e.children})}return l.jsx(Jue,{initialProps:e.initialProps,children:e.children})}function Jue(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,s=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var m=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var g=!!(!d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var v=n?S8([],n):[];if(d.selected){var b=v.findIndex(function(y){return wn(u,y)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=a&&n.length>a-1,f=n.some(function(h){return wn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:o};return l.jsx(LE.Provider,{value:c,children:r})}function FE(){var e=x.useContext(LE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Xue(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?wn(i,e)&&wn(n,e)?void 0:wn(i,e)?{from:i,to:void 0}:wn(n,e)?void 0:$j(n,e)?{from:e,to:i}:{from:n,to:e}:i?$j(e,i)?{from:i,to:e}:{from:e,to:i}:n?Qy(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var BE=x.createContext(void 0);function Que(e){if(!sg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return l.jsx(BE.Provider,{value:t,children:e.children})}return l.jsx(Zue,{initialProps:e.initialProps,children:e.children})}function Zue(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,s=i.to,o=t.min,c=t.max,u=function(p,m,g){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,m,g);var y=Xue(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,y,p,m,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],s?(d.range_end=[s],wn(a,s)||(d.range_middle=[{after:a,before:s}])):d.range_end=[a]):s&&(d.range_start=[s],d.range_end=[s]),o&&(a&&!s&&d.disabled.push({after:I_(a,o-1),before:qr(a,o-1)}),a&&s&&d.disabled.push({after:a,before:qr(a,o-1)}),!a&&s&&d.disabled.push({after:I_(s,o-1),before:qr(s,o-1)})),c){if(a&&!s&&(d.disabled.push({before:qr(a,-c+1)}),d.disabled.push({after:qr(a,c-1)})),a&&s){var f=Ja(s,a)+1,h=c-f;d.disabled.push({before:I_(a,h)}),d.disabled.push({after:qr(s,h)})}!a&&s&&(d.disabled.push({before:qr(s,-c+1)}),d.disabled.push({after:qr(s,c-1)}))}return l.jsx(BE.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function UE(){var e=x.useContext(BE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ty(e){return Array.isArray(e)?S8([],e):e!==void 0?[e]:[]}function ede(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=ty(i)}),t}var Ma;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ma||(Ma={}));var tde=Ma.Selected,ws=Ma.Disabled,rde=Ma.Hidden,nde=Ma.Today,F_=Ma.RangeEnd,B_=Ma.RangeMiddle,U_=Ma.RangeStart,ide=Ma.Outside;function ade(e,t,r){var n,i=(n={},n[tde]=ty(e.selected),n[ws]=ty(e.disabled),n[rde]=ty(e.hidden),n[nde]=[e.today],n[F_]=[],n[B_]=[],n[U_]=[],n[ide]=[],n);return e.fromDate&&i[ws].push({before:e.fromDate}),e.toDate&&i[ws].push({after:e.toDate}),ag(e)?i[ws]=i[ws].concat(t.modifiers[ws]):sg(e)&&(i[ws]=i[ws].concat(r.modifiers[ws]),i[U_]=r.modifiers[U_],i[B_]=r.modifiers[B_],i[F_]=r.modifiers[F_]),i}var E8=x.createContext(void 0);function sde(e){var t=Ft(),r=FE(),n=UE(),i=ade(t,r,n),a=ede(t.modifiers),s=Be(Be({},i),a);return l.jsx(E8.Provider,{value:s,children:e.children})}function O8(){var e=x.useContext(E8);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ode(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function lde(e){return!!(e&&typeof e=="object"&&"from"in e)}function cde(e){return!!(e&&typeof e=="object"&&"after"in e)}function ude(e){return!!(e&&typeof e=="object"&&"before"in e)}function dde(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function fde(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=Ja(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var s=Ja(e,n)>=0&&Ja(i,e)>=0;return s}return i?wn(i,e):n?wn(n,e):!1}function hde(e){return EE(e)}function pde(e){return Array.isArray(e)&&e.every(EE)}function mde(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(hde(r))return wn(e,r);if(pde(r))return r.includes(e);if(lde(r))return fde(e,r);if(dde(r))return r.dayOfWeek.includes(e.getDay());if(ode(r)){var n=Ja(r.before,e),i=Ja(r.after,e),a=n>0,s=i<0,o=$j(r.before,r.after);return o?s&&a:a||s}return cde(r)?Ja(e,r.after)>0:ude(r)?Ja(r.before,e)>0:typeof r=="function"?r(e):!1})}function zE(e,t,r){var n=Object.keys(t).reduce(function(a,s){var o=t[s];return mde(e,o)&&a.push(s),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!AE(e,r)&&(i.outside=!0),i}function gde(e,t){for(var r=Xn(e[0]),n=h0(e[e.length-1]),i,a,s=r;s<=n;){var o=zE(s,t),c=!o.disabled&&!o.hidden;if(!c){s=qr(s,1);continue}if(o.selected)return s;o.today&&!a&&(a=s),i||(i=s),s=qr(s,1)}return a||i}var vde=365;function P8(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,s=t.retry,o=s===void 0?{count:0,lastFocused:e}:s,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,h={day:qr,week:Jp,month:Aa,year:Woe,startOfWeek:function(v){return i.ISOWeek?Rc(v):Ta(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?I6(v):p0(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=Hoe([u,p]):n==="after"&&d&&(p=qoe([d,p]));var m=!0;if(a){var g=zE(p,a);m=!g.disabled&&!g.hidden}return m?p:o.count>vde?o.lastFocused:P8(p,{moveBy:r,direction:n,context:i,modifiers:a,retry:Be(Be({},o),{count:o.count+1})})}var A8=x.createContext(void 0);function yde(e){var t=og(),r=O8(),n=x.useState(),i=n[0],a=n[1],s=x.useState(),o=s[0],c=s[1],u=gde(t.displayMonths,r),d=i??(o&&t.isDateDisplayed(o))?o:u,f=function(){c(i),a(void 0)},h=function(v){a(v)},p=Ft(),m=function(v,b){if(i){var y=P8(i,{moveBy:v,direction:b,context:p,modifiers:r});wn(i,y)||(t.goToDate(y,i),h(y))}},g={focusedDay:i,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return l.jsx(A8.Provider,{value:g,children:e.children})}function VE(){var e=x.useContext(A8);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function xde(e,t){var r=O8(),n=zE(e,r,t);return n}var WE=x.createContext(void 0);function bde(e){if(!y0(e.initialProps)){var t={selected:void 0};return l.jsx(WE.Provider,{value:t,children:e.children})}return l.jsx(wde,{initialProps:e.initialProps,children:e.children})}function wde(e){var t=e.initialProps,r=e.children,n=function(a,s,o){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,s,o),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,s,o);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,s,o)},i={selected:t.selected,onDayClick:n};return l.jsx(WE.Provider,{value:i,children:r})}function T8(){var e=x.useContext(WE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function _de(e,t){var r=Ft(),n=T8(),i=FE(),a=UE(),s=VE(),o=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,p=s.focusMonthBefore,m=s.focusMonthAfter,g=s.focusYearBefore,v=s.focusYearAfter,b=s.focusStartOfWeek,y=s.focusEndOfWeek,w=function(z){var L,B,G,te;y0(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,z):ag(r)?(B=i.onDayClick)===null||B===void 0||B.call(i,e,t,z):sg(r)?(G=a.onDayClick)===null||G===void 0||G.call(a,e,t,z):(te=r.onDayClick)===null||te===void 0||te.call(r,e,t,z)},_=function(z){var L;h(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,z)},S=function(z){var L;f(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,z)},k=function(z){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,z)},N=function(z){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,z)},E=function(z){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,z)},P=function(z){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,z)},T=function(z){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,z)},$=function(z){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,z)},M=function(z){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,z)},F=function(z){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,z)},R=function(z){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,z)},U=function(z){var L;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?o():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():o();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?g():p();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():m();break;case"Home":z.preventDefault(),z.stopPropagation(),b();break;case"End":z.preventDefault(),z.stopPropagation(),y();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,z)},W={onClick:w,onFocus:_,onBlur:S,onKeyDown:U,onKeyUp:R,onMouseEnter:k,onMouseLeave:N,onPointerEnter:E,onPointerLeave:P,onTouchCancel:T,onTouchEnd:$,onTouchMove:M,onTouchStart:F};return W}function Sde(){var e=Ft(),t=T8(),r=FE(),n=UE(),i=y0(e)?t.selected:ag(e)?r.selected:sg(e)?n.selected:void 0;return i}function jde(e){return Object.values(Ma).includes(e)}function kde(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(jde(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function Nde(e,t){var r=Be({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=Be(Be({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function Cde(e,t,r){var n,i,a,s=Ft(),o=VE(),c=xde(e,t),u=_de(e,c),d=Sde(),f=!!(s.onDayClick||s.mode!=="default");x.useEffect(function(){var k;c.outside||o.focusedDay&&f&&wn(o.focusedDay,e)&&((k=r.current)===null||k===void 0||k.focus())},[o.focusedDay,e,r,f,c.outside]);var h=kde(s,c).join(" "),p=Nde(s,c),m=!!(c.outside&&!s.showOutsideDays||c.hidden),g=(a=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Kue,v=l.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},y=o.focusTarget&&wn(o.focusTarget,e)&&!c.outside,w=o.focusedDay&&wn(o.focusedDay,e),_=Be(Be(Be({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||y?0:-1,n)),u),S={isButton:f,isHidden:m,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function Ede(e){var t=x.useRef(null),r=Cde(e.date,e.displayMonth,t);return r.isHidden?l.jsx("div",{role:"gridcell"}):r.isButton?l.jsx(ex,Be({name:"day",ref:t},r.buttonProps)):l.jsx("div",Be({},r.divProps))}function Ode(e){var t=e.number,r=e.dates,n=Ft(),i=n.onWeekNumberClick,a=n.styles,s=n.classNames,o=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:o});if(!i)return l.jsx("span",{className:s.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:o}),h=function(p){i(t,r,p)};return l.jsx(ex,{name:"week-number","aria-label":f,className:s.weeknumber,style:a.weeknumber,onClick:h,children:d})}function Pde(e){var t,r,n=Ft(),i=n.styles,a=n.classNames,s=n.showWeekNumber,o=n.components,c=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:Ede,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:Ode,d;return s&&(d=l.jsx("td",{className:a.cell,style:i.cell,children:l.jsx(u,{number:e.weekNumber,dates:e.dates})})),l.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return l.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:l.jsx(c,{displayMonth:e.displayMonth,date:f})},Qle(f))})]})}function fM(e,t,r){for(var n=r!=null&&r.ISOWeek?I6(t):p0(t,r),i=r!=null&&r.ISOWeek?Rc(e):Ta(e,r),a=Ja(n,i),s=[],o=0;o<=a;o++)s.push(qr(i,o));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?R6(d):L6(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function Ade(e,t){var r=fM(Xn(e),h0(e),t);if(t!=null&&t.useFixedWeeks){var n=ece(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],s=Jp(a,6-n),o=fM(Jp(a,1),s,t);r.push.apply(r,o)}}return r}function Tde(e){var t,r,n,i=Ft(),a=i.locale,s=i.classNames,o=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,h=i.firstWeekContainsDate,p=i.ISOWeek,m=Ade(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:a,weekStartsOn:f,firstWeekContainsDate:h}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Gue,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Pde,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Wue;return l.jsxs("table",{id:e.id,className:s.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&l.jsx(g,{}),l.jsx("tbody",{className:s.tbody,style:o.tbody,children:m.map(function(y){return l.jsx(v,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),l.jsx(b,{displayMonth:e.displayMonth})]})}function Mde(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var $de=Mde()?x.useLayoutEffect:x.useEffect,z_=!1,Ide=0;function hM(){return"react-day-picker-".concat(++Ide)}function Rde(e){var t,r=e??(z_?hM():null),n=x.useState(r),i=n[0],a=n[1];return $de(function(){i===null&&a(hM())},[]),x.useEffect(function(){z_===!1&&(z_=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function Dde(e){var t,r,n=Ft(),i=n.dir,a=n.classNames,s=n.styles,o=n.components,c=og().displayMonths,u=Rde(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],h=s.month,p=e.displayIndex===0,m=e.displayIndex===c.length-1,g=!p&&!m;i==="rtl"&&(t=[p,m],m=t[0],p=t[1]),p&&(f.push(a.caption_start),h=Be(Be({},h),s.caption_start)),m&&(f.push(a.caption_end),h=Be(Be({},h),s.caption_end)),g&&(f.push(a.caption_between),h=Be(Be({},h),s.caption_between));var v=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:Vue;return l.jsxs("div",{className:f.join(" "),style:h,children:[l.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),l.jsx(Tde,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Lde(e){var t=Ft(),r=t.classNames,n=t.styles;return l.jsx("div",{className:r.months,style:n.months,children:e.children})}function Fde(e){var t,r,n=e.initialProps,i=Ft(),a=VE(),s=og(),o=x.useState(!1),c=o[0],u=o[1];x.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Be(Be({},i.styles.root),i.style),h=Object.keys(n).filter(function(m){return m.startsWith("data-")}).reduce(function(m,g){var v;return Be(Be({},m),(v={},v[g]=n[g],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Lde;return l.jsx("div",Be({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:l.jsx(p,{children:s.displayMonths.map(function(m,g){return l.jsx(Dde,{displayIndex:g,displayMonth:m},g)})})}))}function Bde(e){var t=e.children,r=uue(e,["children"]);return l.jsx(Oue,{initialProps:r,children:l.jsx(Fue,{children:l.jsx(bde,{initialProps:r,children:l.jsx(Yue,{initialProps:r,children:l.jsx(Que,{initialProps:r,children:l.jsx(sde,{children:l.jsx(yde,{children:t})})})})})})})}function Ude(e){return l.jsx(Bde,Be({},e,{children:l.jsx(Fde,{initialProps:e})}))}function HE({className:e,classNames:t,showOutsideDays:r=!0,...n}){return l.jsx(Ude,{showOutsideDays:r,className:me("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:me(Hp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:me(Hp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>l.jsx(FC,{className:"h-4 w-4"}),IconRight:({...i})=>l.jsx(Ld,{className:"h-4 w-4"})},...n})}HE.displayName="Calendar";function pM(e,t,r){const n=Xle(),i=Wde(e,r.timeZone,r.locale??n.locale);return"formatToParts"in i?zde(i,t):Vde(i,t)}function zde(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function Vde(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function Wde(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Hde(e,t){const r=Jde(t);return"formatToParts"in r?Gde(r,e):Kde(r,e)}const qde={year:0,month:1,day:2,hour:3,minute:4,second:5};function Gde(e,t){try{const r=e.formatToParts(t),n=[];for(let i=0;i<r.length;i++){const a=qde[r[i].type];a!==void 0&&(n[a]=parseInt(r[i].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function Kde(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const V_={},mM=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Yde=mM==="06/25/2014, 00:00:00"||mM==="06/25/2014 00:00:00";function Jde(e){return V_[e]||(V_[e]=Yde?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),V_[e]}function M8(e,t,r,n,i,a,s){const o=new Date(0);return o.setUTCFullYear(e,t,r),o.setUTCHours(n,i,a,s),o}const gM=36e5,Xde=6e4,W_={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function qE(e,t,r){if(!e)return 0;let n=W_.timezoneZ.exec(e);if(n)return 0;let i,a;if(n=W_.timezoneHH.exec(e),n)return i=parseInt(n[1],10),vM(i)?-(i*gM):NaN;if(n=W_.timezoneHHMM.exec(e),n){i=parseInt(n[2],10);const s=parseInt(n[3],10);return vM(i,s)?(a=Math.abs(i)*gM+s*Xde,n[1]==="+"?-a:a):NaN}if(efe(e)){t=new Date(t||Date.now());const s=r?t:Qde(t),o=Rj(s,e);return-(r?o:Zde(t,o,e))}return NaN}function Qde(e){return M8(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function Rj(e,t){const r=Hde(e,t),n=M8(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let i=e.getTime();const a=i%1e3;return i-=a>=0?a:1e3+a,n-i}function Zde(e,t,r){let i=e.getTime()-t;const a=Rj(new Date(i),r);if(t===a)return t;i-=a-t;const s=Rj(new Date(i),r);return a===s?a:Math.max(a,s)}function vM(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const yM={};function efe(e){if(yM[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),yM[e]=!0,!0}catch{return!1}}const tfe=60*1e3,rfe={X:function(e,t,r){const n=H_(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return xM(n);case"XXXX":case"XX":return Ru(n);case"XXXXX":case"XXX":default:return Ru(n,":")}},x:function(e,t,r){const n=H_(r.timeZone,e);switch(t){case"x":return xM(n);case"xxxx":case"xx":return Ru(n);case"xxxxx":case"xxx":default:return Ru(n,":")}},O:function(e,t,r){const n=H_(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+nfe(n,":");case"OOOO":default:return"GMT"+Ru(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return pM("short",e,r);case"zzzz":default:return pM("long",e,r)}}};function H_(e,t){const r=e?qE(e,t,!0)/tfe:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function tx(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Ru(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=tx(Math.floor(n/60),2),a=tx(Math.floor(n%60),2);return r+i+t+a}function xM(e,t){return e%60===0?(e>0?"-":"+")+tx(Math.abs(e)/60,2):Ru(e,t)}function nfe(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+tx(a,2)}function bM(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const ife=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,q_=36e5,wM=6e4,afe=2,Mn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:ife};function $8(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?afe:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=sfe(e),{year:i,restDateString:a}=ofe(n.date,r),s=lfe(a,i);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const o=s.getTime();let c=0,u;if(n.time&&(c=cfe(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=qE(n.timeZone||t.timeZone,new Date(o+c)),isNaN(u))return new Date(NaN)}else u=bM(new Date(o+c)),u=bM(new Date(o+c+u));return new Date(o+c+u)}else return new Date(NaN)}function sfe(e){const t={};let r=Mn.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Mn.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const i=Mn.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function ofe(e,t){if(e){const r=Mn.YYY[t],n=Mn.YYYYY[t];let i=Mn.YYYY.exec(e)||n.exec(e);if(i){const a=i[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(i=Mn.YY.exec(e)||r.exec(e),i){const a=i[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}}return{year:null}}function lfe(e,t){if(t===null)return null;let r,n,i;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let a=Mn.MM.exec(e);if(a)return r=new Date(0),n=parseInt(a[1],10)-1,SM(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(a=Mn.DDD.exec(e),a){r=new Date(0);const s=parseInt(a[1],10);return ffe(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(a=Mn.MMDD.exec(e),a){r=new Date(0),n=parseInt(a[1],10)-1;const s=parseInt(a[2],10);return SM(t,n,s)?(r.setUTCFullYear(t,n,s),r):new Date(NaN)}if(a=Mn.Www.exec(e),a)return i=parseInt(a[1],10)-1,jM(i)?_M(t,i):new Date(NaN);if(a=Mn.WwwD.exec(e),a){i=parseInt(a[1],10)-1;const s=parseInt(a[2],10)-1;return jM(i,s)?_M(t,i,s):new Date(NaN)}return null}function cfe(e){let t,r,n=Mn.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),G_(t)?t%24*q_:NaN;if(n=Mn.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),G_(t,r)?t%24*q_+r*wM:NaN;if(n=Mn.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const i=parseFloat(n[3].replace(",","."));return G_(t,r,i)?t%24*q_+r*wM+i*1e3:NaN}return null}function _M(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const ufe=[31,28,31,30,31,30,31,31,30,31,30,31],dfe=[31,29,31,30,31,30,31,31,30,31,30,31];function I8(e){return e%400===0||e%4===0&&e%100!==0}function SM(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=I8(e);if(n&&r>dfe[t]||!n&&r>ufe[t])return!1}return!0}function ffe(e,t){if(t<1)return!1;const r=I8(e);return!(r&&t>366||!r&&t>365)}function jM(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function G_(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const hfe=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function pfe(e,t,r={}){t=String(t);const n=t.match(hfe);if(n){const i=$8(r.originalDate||e,r);t=n.reduce(function(a,s){if(s[0]==="'")return a;const o=a.indexOf(s),c=a[o-1]==="'",u=a.replace(s,"'"+rfe[s[0]](i,s,r)+"'");return c?u.substring(0,o-1)+u.substring(o+1):u},t)}return at(e,t,r)}function mfe(e,t,r){e=$8(e,r);const n=qE(t,e,!0),i=new Date(e.getTime()-n),a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}function gfe(e,t,r,n){return n={...n,timeZone:t,originalDate:e},pfe(mfe(e,t,{timeZone:n.timeZone}),r,n)}const vfe="Africa/Johannesburg",Zp="SAST",em=(e,t)=>{const r=typeof e=="string"?TE(e):e;return gfe(r,vfe,t)},yfe=e=>em(e,"MMM d, yyyy"),rx=e=>em(e,"EEEE, MMMM d, yyyy"),kM=[{value:"video",label:"Video Call",icon:qt,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:Qn,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:$f,description:"Visit the clinic"}],xfe=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},bfe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var y;const[i,a]=x.useState(qr(new Date,1)),[s,o]=x.useState(null),[c,u]=x.useState("video"),[d,f]=x.useState([]),[h,p]=x.useState(!1),m=xfe();x.useEffect(()=>{(async()=>{if(i){p(!0);try{const _=cs(i),S=qr(_,1),{data:k,error:N}=await Ne.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",S.toISOString()).in("status",["pending","confirmed"]);if(N)throw N;const E=(k||[]).map(P=>{const T=new Date(P.scheduled_at);return em(T,"HH:mm")});f(E)}catch(_){console.error("Error fetching booked slots:",_)}finally{p(!1)}}})()},[i,e]);const g=()=>{i&&s&&r({date:i,time:s,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(i){const[_,S]=w.split(":").map(Number),k=z6(U6(i,_),S);if(Qy(k,new Date))return!1}return!0},b=i&&s&&c;return l.jsxs("div",{className:"space-y-6",children:[l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(we,{children:"Consultation Type"}),l.jsxs(Ie,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),l.jsx(fe,{children:l.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:kM.map(w=>{const _=w.icon;return l.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[l.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),l.jsx("span",{className:"font-medium",children:w.label}),l.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(we,{children:"Select Date"}),l.jsx(Ie,{children:"Choose your preferred consultation date"})]}),l.jsx(fe,{children:l.jsx(HE,{mode:"single",selected:i,onSelect:a,disabled:w=>Qy(w,cs(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"w-5 h-5 text-primary"}),"Select Time",l.jsx(Ce,{variant:"outline",className:"ml-2 text-xs",children:Zp})]}),l.jsx(Ie,{children:i?rx(i):"Select a date first"})]}),l.jsx(fe,{children:h?l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>l.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):l.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:m.map(w=>{const _=v(w);return l.jsx(ee,{variant:s===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>o(w),children:w},w)})})})]})]}),i&&s&&l.jsx(se,{className:"bg-primary/5 border-primary/20",children:l.jsxs(fe,{className:"flex items-center justify-between p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[rx(i)," at ",s," ",Zp]})]}),l.jsx(Ce,{variant:"secondary",children:(y=kM.find(w=>w.value===c))==null?void 0:y.label})]})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ee,{variant:"outline",onClick:n,children:"Back"}),l.jsxs(ee,{onClick:g,disabled:!b,children:["Review & Confirm",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]})]})};var wfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_fe=wfe.reduce((e,t)=>{const r=eg(`Primitive.${t}`),n=x.forwardRef((i,a)=>{const{asChild:s,...o}=i,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Sfe="Separator",NM="horizontal",jfe=["horizontal","vertical"],R8=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=NM,...i}=e,a=kfe(n)?n:NM,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(_fe.div,{"data-orientation":a,...o,...i,ref:t})});R8.displayName=Sfe;function kfe(e){return jfe.includes(e)}var D8=R8;const nx=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>l.jsx(D8,{ref:i,decorative:r,orientation:t,className:me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));nx.displayName=D8.displayName;const Nfe={video:qt,phone:Qn,in_person:$f},Cfe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},Efe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=Er(),[i,a]=x.useState(!1),[s,o]=x.useState(!1),c=Nfe[e.consultationType],u=async()=>{if(!n){ge.error("You must be logged in to book an appointment");return}a(!0);try{const{data:d,error:f}=await Ne.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,p]=e.time.split(":").map(Number),m=z6(U6(e.date,h),p),{error:g}=await Ne.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:m.toISOString(),consultation_type:e.consultationType,status:"pending"});if(g)throw g;o(!0),ge.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),ge.error(d.message||"Failed to book appointment")}finally{a(!1)}};return s?l.jsx(se,{className:"text-center",children:l.jsxs(fe,{className:"py-12",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:l.jsx(Jn,{className:"w-10 h-10 text-success"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),l.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[l.jsx("p",{className:"font-medium",children:rx(e.date)}),l.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",Zp]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),l.jsx(ee,{onClick:t,children:"Return to Dashboard"})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(we,{children:"Review Your Booking"}),l.jsx(Ie,{children:"Please review the details before confirming your appointment."})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:l.jsx(Xr,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),l.jsx(nx,{}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(At,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),l.jsx("p",{className:"font-medium",children:yfe(e.date)})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(Xt,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",Zp,")"]}),l.jsx("p",{className:"font-medium",children:e.time})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:l.jsx(c,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),l.jsx("p",{className:"font-medium",children:Cfe[e.consultationType]})]})]})]}),l.jsx(nx,{}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),l.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>l.jsx(Ce,{variant:"secondary",children:d},f))}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),l.jsx(Ce,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&l.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),l.jsx(se,{className:"border-primary/20 bg-primary/5",children:l.jsx(fe,{className:"p-4",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(ee,{variant:"outline",onClick:r,disabled:i,children:"Back"}),l.jsx(ee,{onClick:u,disabled:i,children:i?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},L8="",Ofe=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],Pfe=({onBack:e,onComplete:t})=>{kn();const[r,n]=x.useState(!1),[i,a]=x.useState(""),[s,o]=x.useState([]),[c,u]=x.useState("moderate"),[d,f]=x.useState(""),h=m=>{o(g=>g.includes(m)?g.filter(v=>v!==m):[...g,m])},p=async()=>{if(!i.trim()){ge.error("Please describe your main concern");return}n(!0);try{const{supabase:m}=await Zs(async()=>{const{supabase:y}=await Promise.resolve().then(()=>Xs);return{supabase:y}},void 0),{data:{session:g}}=await m.auth.getSession();if(!(g!=null&&g.access_token)){ge.error("Please sign in to continue");return}const v=await fetch(`${L8}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:s,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const y=await v.json();throw new Error(y.detail||"Failed to create walk-in booking")}const b=await v.json();ge.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(m){console.error("Walk-in error:",m),ge.error(m instanceof Error?m.message:"Failed to register walk-in")}finally{n(!1)}};return l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(Xt,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx(we,{children:"Walk-In Booking"}),l.jsx(Ie,{children:"No appointment? Join the queue now"})]})]})}),l.jsxs(fe,{className:"space-y-6",children:[l.jsx("div",{className:"p-4 bg-muted rounded-lg",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",l.jsx("strong",{children:"~30 minutes"})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"complaint",children:"What brings you in today? *"}),l.jsx(Mr,{id:"complaint",value:i,onChange:m=>a(m.target.value),placeholder:"Describe your main concern...",rows:3})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Any of these symptoms?"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Ofe.map(m=>l.jsx(Ce,{variant:s.includes(m)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(m),children:m},m))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"How severe are your symptoms?"}),l.jsxs(Xp,{value:c,onValueChange:u,className:"flex gap-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xa,{value:"mild",id:"mild"}),l.jsx(he,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xa,{value:"moderate",id:"moderate"}),l.jsx(he,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xa,{value:"severe",id:"severe"}),l.jsx(he,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"notes",children:"Additional notes (optional)"}),l.jsx(Mr,{id:"notes",value:d,onChange:m=>f(m.target.value),placeholder:"Anything else we should know...",rows:2})]}),l.jsxs("div",{className:"flex justify-between pt-4",children:[l.jsxs(ee,{variant:"outline",onClick:e,children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx(ee,{onClick:p,disabled:r||!i.trim(),children:r?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},Afe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],Tfe=({onBack:e,onComplete:t})=>{const[r,n]=x.useState(!1),[i,a]=x.useState(""),[s,o]=x.useState([]),[c,u]=x.useState(!1),d=h=>{o(p=>p.includes(h)?p.filter(m=>m!==h):[...p,h])},f=async()=>{if(!i.trim()){ge.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await Zs(async()=>{const{supabase:g}=await Promise.resolve().then(()=>Xs);return{supabase:g}},void 0),{data:{session:p}}=await h.auth.getSession();if(!(p!=null&&p.access_token)){ge.error("Please sign in to continue");return}const m=await fetch(`${L8}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:i,symptoms:s,severity:"severe",emergency_contact_notified:c})});if(!m.ok){const g=await m.json();throw new Error(g.detail||"Failed to create emergency booking")}ge.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),ge.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return l.jsxs(se,{className:"border-red-500",children:[l.jsx(xe,{className:"bg-red-50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:l.jsx(_i,{className:"w-6 h-6 text-red-600"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-red-700",children:"Emergency Booking"}),l.jsx(Ie,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),l.jsxs(fe,{className:"space-y-6 pt-6",children:[l.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Qn,{className:"w-5 h-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),l.jsxs("p",{className:"text-sm text-red-600",children:["Call ",l.jsx("strong",{children:"10177"})," (ambulance) or ",l.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),l.jsx(Mr,{id:"emergency-complaint",value:i,onChange:h=>a(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Select any matching symptoms:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Afe.map(h=>l.jsx(Ce,{variant:s.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[l.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),l.jsx(he,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),l.jsxs("div",{className:"flex justify-between pt-4",children:[l.jsxs(ee,{variant:"outline",onClick:e,children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx(ee,{variant:"destructive",onClick:f,disabled:r||!i.trim(),children:r?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(_i,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},CM=[{id:"symptoms",label:"Symptoms",icon:Dd},{id:"clinician",label:"Clinician",icon:Xr},{id:"time",label:"Schedule",icon:Xt},{id:"confirm",label:"Confirm",icon:Dr}],Mfe=()=>{const e=kn(),{profile:t,signOut:r}=Er(),[n,i]=x.useState("intro"),[a,s]=x.useState("scheduled"),[o,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),p=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],m=y=>{c(y),i("clinician")},g=y=>{d(y),i("time")},v=y=>{h(y),i("confirm")},b=()=>{e("/patient")};return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[l.jsx(ln,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),l.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),l.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&l.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:l.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:CM.map((y,w)=>{const _=y.icon,S=p()===w,k=p()>w;return l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${k?"bg-success text-success-foreground":S?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:k?l.jsx(Dr,{className:"w-4 h-4 sm:w-5 sm:h-5"}):l.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),l.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${S?"text-primary font-medium":"text-muted-foreground"}`,children:y.label})]}),w<CM.length-1&&l.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${k?"bg-success":"bg-muted"}`})]},y.id)})})}),n==="intro"&&l.jsxs(se,{className:"text-center",children:[l.jsxs(xe,{children:[l.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(At,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),l.jsx(we,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),l.jsx(Ie,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),l.jsxs(fe,{children:[l.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[l.jsx(se,{className:`cursor-pointer transition-all hover:border-primary ${a==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>s("scheduled"),children:l.jsxs(fe,{className:"p-4 text-center",children:[l.jsx(At,{className:"w-8 h-8 text-primary mx-auto mb-2"}),l.jsx("h3",{className:"font-medium",children:"Schedule"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),l.jsx(se,{className:`cursor-pointer transition-all hover:border-orange-500 ${a==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>s("walk-in"),children:l.jsxs(fe,{className:"p-4 text-center",children:[l.jsx(Si,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),l.jsx("h3",{className:"font-medium",children:"Walk-In"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),l.jsx(se,{className:`cursor-pointer transition-all hover:border-red-500 ${a==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>s("emergency"),children:l.jsxs(fe,{className:"p-4 text-center",children:[l.jsx(_i,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),l.jsx("h3",{className:"font-medium",children:"Emergency"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),a==="scheduled"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(Dd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),l.jsx(sT,{className:"w-4 h-4 text-yellow-500"})]}),l.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),l.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[l.jsx(Xr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),l.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),l.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[l.jsx(Xt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),l.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),l.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[l.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[l.jsx(sT,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),l.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),l.jsxs(ee,{size:"lg",onClick:()=>i("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]}),a==="walk-in"&&l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[l.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[l.jsx(Si,{className:"w-4 h-4"}),"Walk-In Queue"]}),l.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),l.jsxs(ee,{size:"lg",onClick:()=>i("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]}),a==="emergency"&&l.jsxs("div",{className:"text-left",children:[l.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[l.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[l.jsx(_i,{className:"w-4 h-4"}),"Emergency Care"]}),l.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),l.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),l.jsxs(ee,{size:"lg",variant:"destructive",onClick:()=>i("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",l.jsx(rs,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&l.jsx(Pfe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&l.jsx(Tfe,{onBack:()=>i("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&l.jsx(Wce,{onComplete:m,onBack:()=>i("intro")}),n==="clinician"&&o&&l.jsx(cue,{recommendedSpecialization:o.recommendedSpecialization,onSelect:g,onBack:()=>i("symptoms")}),n==="time"&&u&&l.jsx(bfe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>i("clinician")}),n==="confirm"&&o&&u&&f&&l.jsx(Efe,{data:{...o,clinician:u,...f},onConfirm:b,onBack:()=>i("time")})]})]})},$fe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:Si,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:Ui,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:O5,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:At,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return l.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,i)=>{const a=n.icon;return l.jsx(se,{children:l.jsx(fe,{className:"pt-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),l.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),l.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:l.jsx(a,{className:`w-6 h-6 ${n.iconColor}`})})]})})},i)})})};function Ife(e){const t=Rfe(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(Lfe);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function Rfe(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=Bfe(i),o=Ffe(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dfe=Symbol("radix.slottable");function Lfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dfe}function Ffe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function Bfe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var x0="Dialog",[F8,B8]=un(x0),[Ufe,Ra]=F8(x0),U8=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,o=x.useRef(null),c=x.useRef(null),[u,d]=Ea({prop:n,defaultProp:i??!1,onChange:a,caller:x0});return l.jsx(Ufe,{scope:t,triggerRef:o,contentRef:c,contentId:ja(),titleId:ja(),descriptionId:ja(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};U8.displayName=x0;var z8="DialogTrigger",V8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ra(z8,r),a=ze(t,i.triggerRef);return l.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YE(i.open),...n,ref:a,onClick:oe(e.onClick,i.onOpenToggle)})});V8.displayName=z8;var GE="DialogPortal",[zfe,W8]=F8(GE,{forceMount:void 0}),H8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=Ra(GE,t);return l.jsx(zfe,{scope:t,forceMount:r,children:x.Children.map(n,s=>l.jsx(Fr,{present:r||a.open,children:l.jsx(Mf,{asChild:!0,container:i,children:s})}))})};H8.displayName=GE;var ix="DialogOverlay",q8=x.forwardRef((e,t)=>{const r=W8(ix,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ra(ix,e.__scopeDialog);return a.modal?l.jsx(Fr,{present:n||a.open,children:l.jsx(Wfe,{...i,ref:t})}):null});q8.displayName=ix;var Vfe=Ife("DialogOverlay.RemoveScroll"),Wfe=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ra(ix,r);return l.jsx(ng,{as:Vfe,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Oe.div,{"data-state":YE(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Dc="DialogContent",G8=x.forwardRef((e,t)=>{const r=W8(Dc,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=Ra(Dc,e.__scopeDialog);return l.jsx(Fr,{present:n||a.open,children:a.modal?l.jsx(Hfe,{...i,ref:t}):l.jsx(qfe,{...i,ref:t})})});G8.displayName=Dc;var Hfe=x.forwardRef((e,t)=>{const r=Ra(Dc,e.__scopeDialog),n=x.useRef(null),i=ze(t,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return o0(a)},[]),l.jsx(K8,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,a=>{var s;a.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,o=s.button===0&&s.ctrlKey===!0;(s.button===2||o)&&a.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,a=>a.preventDefault())})}),qfe=x.forwardRef((e,t)=>{const r=Ra(Dc,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return l.jsx(K8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),K8=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,o=Ra(Dc,r),c=x.useRef(null),u=ze(t,c);return a0(),l.jsxs(l.Fragment,{children:[l.jsx(rg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Qc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":YE(o.open),...s,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(Kfe,{titleId:o.titleId}),l.jsx(Jfe,{contentRef:c,descriptionId:o.descriptionId})]})]})}),KE="DialogTitle",Y8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ra(KE,r);return l.jsx(Oe.h2,{id:i.titleId,...n,ref:t})});Y8.displayName=KE;var J8="DialogDescription",X8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ra(J8,r);return l.jsx(Oe.p,{id:i.descriptionId,...n,ref:t})});X8.displayName=J8;var Q8="DialogClose",Z8=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Ra(Q8,r);return l.jsx(Oe.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,()=>i.onOpenChange(!1))})});Z8.displayName=Q8;function YE(e){return e?"open":"closed"}var ez="DialogTitleWarning",[Gfe,tz]=MY(ez,{contentName:Dc,titleName:KE,docsSlug:"dialog"}),Kfe=({titleId:e})=>{const t=tz(ez),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Yfe="DialogDescriptionWarning",Jfe=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tz(Yfe).contentName}}.`;return x.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rz=U8,nz=V8,iz=H8,JE=q8,XE=G8,QE=Y8,ZE=X8,eO=Z8;const Hf=rz,Xfe=nz,Qfe=iz,az=x.forwardRef(({className:e,...t},r)=>l.jsx(JE,{ref:r,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));az.displayName=JE.displayName;const eu=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Qfe,{children:[l.jsx(az,{}),l.jsxs(XE,{ref:n,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(eO,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(ao,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eu.displayName=XE.displayName;const tu=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tu.displayName="DialogHeader";const sz=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sz.displayName="DialogFooter";const ru=x.forwardRef(({className:e,...t},r)=>l.jsx(QE,{ref:r,className:me("text-lg font-semibold leading-none tracking-tight",e),...t}));ru.displayName=QE.displayName;const Zfe=x.forwardRef(({className:e,...t},r)=>l.jsx(ZE,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));Zfe.displayName=ZE.displayName;var b0="Switch",[ehe]=un(b0),[the,rhe]=ehe(b0),oz=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=x.useState(null),m=ze(t,w=>p(w)),g=x.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,y]=Ea({prop:i,defaultProp:a??!1,onChange:u,caller:b0});return l.jsxs(the,{scope:r,checked:b,disabled:o,children:[l.jsx(Oe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":dz(b),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:m,onClick:oe(e.onClick,w=>{y(_=>!_),v&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),v&&l.jsx(uz,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:s,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});oz.displayName=b0;var lz="SwitchThumb",cz=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=rhe(lz,r);return l.jsx(Oe.span,{"data-state":dz(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});cz.displayName=lz;var nhe="SwitchBubbleInput",uz=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},a)=>{const s=x.useRef(null),o=ze(s,a),c=s0(r),u=Gb(t);return x.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const m=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(m)}},[c,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});uz.displayName=nhe;function dz(e){return e?"checked":"unchecked"}var fz=oz,ihe=cz;const w0=x.forwardRef(({className:e,...t},r)=>l.jsx(fz,{className:me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:l.jsx(ihe,{className:me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));w0.displayName=fz.displayName;function ahe(e){const t=she(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(lhe);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function she(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=uhe(i),o=che(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ohe=Symbol("radix.slottable");function lhe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ohe}function che(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function uhe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _0="Popover",[hz]=un(_0,[bl]),lg=bl(),[dhe,Nl]=hz(_0),pz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,o=lg(t),c=x.useRef(null),[u,d]=x.useState(!1),[f,h]=Ea({prop:n,defaultProp:i??!1,onChange:a,caller:_0});return l.jsx(QC,{...o,children:l.jsx(dhe,{scope:t,contentId:ja(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>d(!0),[]),onCustomAnchorRemove:x.useCallback(()=>d(!1),[]),modal:s,children:r})})};pz.displayName=_0;var mz="PopoverAnchor",fhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Nl(mz,r),a=lg(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:o}=i;return x.useEffect(()=>(s(),()=>o()),[s,o]),l.jsx(Qm,{...a,...n,ref:t})});fhe.displayName=mz;var gz="PopoverTrigger",vz=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Nl(gz,r),a=lg(r),s=ze(t,i.triggerRef),o=l.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_z(i.open),...n,ref:s,onClick:oe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:l.jsx(Qm,{asChild:!0,...a,children:o})});vz.displayName=gz;var tO="PopoverPortal",[hhe,phe]=hz(tO,{forceMount:void 0}),yz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=Nl(tO,t);return l.jsx(hhe,{scope:t,forceMount:r,children:l.jsx(Fr,{present:r||a.open,children:l.jsx(Mf,{asChild:!0,container:i,children:n})})})};yz.displayName=tO;var Jd="PopoverContent",xz=x.forwardRef((e,t)=>{const r=phe(Jd,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=Nl(Jd,e.__scopePopover);return l.jsx(Fr,{present:n||a.open,children:a.modal?l.jsx(ghe,{...i,ref:t}):l.jsx(vhe,{...i,ref:t})})});xz.displayName=Jd;var mhe=ahe("PopoverContent.RemoveScroll"),ghe=x.forwardRef((e,t)=>{const r=Nl(Jd,e.__scopePopover),n=x.useRef(null),i=ze(t,n),a=x.useRef(!1);return x.useEffect(()=>{const s=n.current;if(s)return o0(s)},[]),l.jsx(ng,{as:mhe,allowPinchZoom:!0,children:l.jsx(bz,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),a.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0,u=o.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:oe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),vhe=x.forwardRef((e,t)=>{const r=Nl(Jd,e.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return l.jsx(bz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var s,o;(s=e.onCloseAutoFocus)==null||s.call(e,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),bz=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Nl(Jd,r),p=lg(r);return a0(),l.jsx(rg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(Kb,{"data-state":_z(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),wz="PopoverClose",yhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Nl(wz,r);return l.jsx(Oe.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,()=>i.onOpenChange(!1))})});yhe.displayName=wz;var xhe="PopoverArrow",bhe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=lg(r);return l.jsx(Yb,{...i,...n,ref:t})});bhe.displayName=xhe;function _z(e){return e?"open":"closed"}var whe=pz,_he=vz,She=yz,Sz=xz;const jhe=whe,khe=_he,jz=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>l.jsx(She,{children:l.jsx(Sz,{ref:i,align:t,sideOffset:r,className:me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));jz.displayName=Sz.displayName;const kz=qie,Nz=x.createContext({}),gn=({...e})=>l.jsx(Nz.Provider,{value:{name:e.name},children:l.jsx(Wie,{...e})}),S0=()=>{const e=x.useContext(Nz),t=x.useContext(Cz),{getFieldState:r,formState:n}=Hie(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Cz=x.createContext({}),an=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return l.jsx(Cz.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:me("space-y-2",e),...t})})});an.displayName="FormItem";const Vr=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=S0();return l.jsx(he,{ref:r,className:me(n&&"text-destructive",e),htmlFor:i,...t})});Vr.displayName="FormLabel";const sn=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=S0();return l.jsx(eU,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});sn.displayName="FormControl";const Dj=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=S0();return l.jsx("p",{ref:r,id:n,className:me("text-sm text-muted-foreground",e),...t})});Dj.displayName="FormDescription";const vn=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=S0(),s=i?String(i==null?void 0:i.message):t;return s?l.jsx("p",{ref:n,id:a,className:me("text-sm font-medium text-destructive",e),...r,children:s}):null});vn.displayName="FormMessage";function Nhe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var rO="ScrollArea",[Ez]=un(rO),[Che,Yi]=Ez(rO),Oz=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...s}=e,[o,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[p,m]=x.useState(null),[g,v]=x.useState(null),[b,y]=x.useState(0),[w,_]=x.useState(0),[S,k]=x.useState(!1),[N,E]=x.useState(!1),P=ze(t,$=>c($)),T=zf(i);return l.jsx(Che,{scope:r,type:n,dir:T,scrollHideDelay:a,scrollArea:o,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:_,children:l.jsx(Oe.div,{dir:T,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Oz.displayName=rO;var Pz="ScrollAreaViewport",Az=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=e,s=Yi(Pz,r),o=x.useRef(null),c=ze(t,o,s.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),l.jsx(Oe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:l.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Az.displayName=Pz;var ps="ScrollAreaScrollbar",nO=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Yi(ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,o=e.orientation==="horizontal";return x.useEffect(()=>(o?a(!0):s(!0),()=>{o?a(!1):s(!1)}),[o,a,s]),i.type==="hover"?l.jsx(Ehe,{...n,ref:t,forceMount:r}):i.type==="scroll"?l.jsx(Ohe,{...n,ref:t,forceMount:r}):i.type==="auto"?l.jsx(Tz,{...n,ref:t,forceMount:r}):i.type==="always"?l.jsx(iO,{...n,ref:t}):null});nO.displayName=ps;var Ehe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Yi(ps,e.__scopeScrollArea),[a,s]=x.useState(!1);return x.useEffect(()=>{const o=i.scrollArea;let c=0;if(o){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),l.jsx(Fr,{present:r||a,children:l.jsx(Tz,{"data-state":a?"visible":"hidden",...n,ref:t})})}),Ohe=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Yi(ps,e.__scopeScrollArea),a=e.orientation==="horizontal",s=k0(()=>c("SCROLL_END"),100),[o,c]=Nhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,c]),x.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[i.viewport,a,c,s]),l.jsx(Fr,{present:r||o!=="hidden",children:l.jsx(iO,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Tz=x.forwardRef((e,t)=>{const r=Yi(ps,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,s]=x.useState(!1),o=e.orientation==="horizontal",c=k0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(o?u:d)}},10);return Xd(r.viewport,c),Xd(r.content,c),l.jsx(Fr,{present:n||a,children:l.jsx(iO,{"data-state":a?"visible":"hidden",...i,ref:t})})}),iO=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=Yi(ps,e.__scopeScrollArea),a=x.useRef(null),s=x.useRef(0),[o,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Dz(o.viewport,o.content),d={...n,sizes:o,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return Ihe(h,s.current,o,p)}return r==="horizontal"?l.jsx(Phe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollLeft,p=EM(h,o,i.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=f(h,i.dir))}}):r==="vertical"?l.jsx(Ahe,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const h=i.viewport.scrollTop,p=EM(h,o);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=f(h))}}):null}),Phe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Yi(ps,e.__scopeScrollArea),[s,o]=x.useState(),c=x.useRef(null),u=ze(t,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx($z,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":j0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),Fz(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:sx(s.paddingLeft),paddingEnd:sx(s.paddingRight)}})}})}),Ahe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=Yi(ps,e.__scopeScrollArea),[s,o]=x.useState(),c=x.useRef(null),u=ze(t,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&o(getComputedStyle(c.current))},[c]),l.jsx($z,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":j0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),Fz(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:sx(s.paddingTop),paddingEnd:sx(s.paddingBottom)}})}})}),[The,Mz]=Ez(ps),$z=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:o,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=Yi(ps,r),[m,g]=x.useState(null),v=ze(t,P=>g(P)),b=x.useRef(null),y=x.useRef(""),w=p.viewport,_=n.content-n.viewport,S=ur(d),k=ur(c),N=k0(f,10);function E(P){if(b.current){const T=P.clientX-b.current.left,$=P.clientY-b.current.top;u({x:T,y:$})}}return x.useEffect(()=>{const P=T=>{const $=T.target;(m==null?void 0:m.contains($))&&S(T,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,m,_,S]),x.useEffect(k,[n,k]),Xd(m,N),Xd(p.content,N),l.jsx(The,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:ur(a),onThumbPointerUp:ur(s),onThumbPositionChange:k,onThumbPointerDown:ur(o),children:l.jsx(Oe.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:oe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),b.current=m.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:oe(e.onPointerMove,E),onPointerUp:oe(e.onPointerUp,P=>{const T=P.target;T.hasPointerCapture(P.pointerId)&&T.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),ax="ScrollAreaThumb",Iz=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=Mz(ax,e.__scopeScrollArea);return l.jsx(Fr,{present:r||i.hasThumb,children:l.jsx(Mhe,{ref:t,...n})})}),Mhe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=Yi(ax,r),s=Mz(ax,r),{onThumbPositionChange:o}=s,c=ze(t,f=>s.onThumbChange(f)),u=x.useRef(void 0),d=k0(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Rhe(f,o);u.current=p,o()}};return o(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,o]),l.jsx(Oe.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:oe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),m=f.clientX-p.left,g=f.clientY-p.top;s.onThumbPointerDown({x:m,y:g})}),onPointerUp:oe(e.onPointerUp,s.onThumbPointerUp)})});Iz.displayName=ax;var aO="ScrollAreaCorner",Rz=x.forwardRef((e,t)=>{const r=Yi(aO,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?l.jsx($he,{...e,ref:t}):null});Rz.displayName=aO;var $he=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=Yi(aO,r),[a,s]=x.useState(0),[o,c]=x.useState(0),u=!!(a&&o);return Xd(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),Xd(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),s(d)}),u?l.jsx(Oe.div,{...n,ref:t,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function sx(e){return e?parseInt(e,10):0}function Dz(e,t){const r=e/t;return isNaN(r)?0:r}function j0(e){const t=Dz(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Ihe(e,t,r,n="ltr"){const i=j0(r),a=i/2,s=t||a,o=i-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Lz([c,u],f)(e)}function EM(e,t,r="ltr"){const n=j0(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,s=t.content-t.viewport,o=a-n,c=r==="ltr"?[0,s]:[s*-1,0],u=Nj(e,c);return Lz([0,s],[0,o])(u)}function Lz(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Fz(e,t){return e>0&&e<t}var Rhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},s=r.left!==a.left,o=r.top!==a.top;(s||o)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function k0(e,t){const r=ur(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Xd(e,t){const r=ur(t);yr(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}var Bz=Oz,Dhe=Az,Lhe=Rz;const sO=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Bz,{ref:n,className:me("relative overflow-hidden",e),...r,children:[l.jsx(Dhe,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(Uz,{}),l.jsx(Lhe,{})]}));sO.displayName=Bz.displayName;const Uz=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>l.jsx(nO,{ref:n,orientation:t,className:me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(Iz,{className:"relative flex-1 rounded-full bg-border"})}));Uz.displayName=nO.displayName;const OM=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],Fhe=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=x.useState(""),[i,a]=x.useState(!1),s=OM.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),o=x.useCallback(u=>{t([...e,u]),n(""),a(!1)},[e,t]),c=x.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(WS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),l.jsx(et,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),a(!0)},onFocus:()=>a(!0),className:"pl-10"}),i&&r&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:l.jsx(sO,{className:"max-h-48",children:s.length>0?s.slice(0,10).map(u=>l.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>o(u),children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),l.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),l.jsx(Bd,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):l.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:OM.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>l.jsx(ee,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>o(u),children:u.code},u.code))})]}),e.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),l.jsx("div",{className:"space-y-1",children:e.map(u=>l.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[l.jsxs("div",{children:[l.jsx(Ce,{variant:"secondary",className:"font-mono mr-2",children:u.code}),l.jsx("span",{className:"text-sm",children:u.description})]}),l.jsx(ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:l.jsx(ao,{className:"w-4 h-4"})})]},u.code))})]})]})},Bhe=i0({chief_complaint:sr().min(1,"Chief complaint is required").max(500),history_of_present_illness:sr().max(2e3).optional(),examination_findings:sr().max(2e3).optional(),treatment_plan:sr().max(2e3).optional(),follow_up_instructions:sr().max(1e3).optional(),follow_up_date:Dae().optional().nullable(),referral_required:Rae().default(!1),referral_details:sr().max(500).optional()}),Uhe=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:i})=>{const{user:a}=Er(),[s,o]=x.useState([]),[c,u]=x.useState(!1),[d,f]=x.useState(i||null),[h,p]=x.useState("draft"),m=Hy({resolver:qy(Bhe),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});x.useEffect(()=>{(async()=>{if(!i)return;const{data:w,error:_}=await Ne.from("clinical_notes").select("*").eq("id",i).single();if(_){console.error("Error loading note:",_);return}w&&(m.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),o(w.icd10_codes||[]),p(w.status),f(w.id))})()},[i,m]);const g=async y=>{if(a){u(!0);try{const w={appointment_id:e,clinician_id:a.id,patient_id:t,chief_complaint:y.chief_complaint,history_of_present_illness:y.history_of_present_illness||null,examination_findings:y.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:y.treatment_plan||null,follow_up_instructions:y.follow_up_instructions||null,follow_up_date:y.follow_up_date?at(y.follow_up_date,"yyyy-MM-dd"):null,referral_required:y.referral_required,referral_details:y.referral_required?y.referral_details:null,status:"draft"};if(d){const{error:_}=await Ne.from("clinical_notes").update(w).eq("id",d);if(_)throw _;ge.success("Draft saved")}else{const{data:_,error:S}=await Ne.from("clinical_notes").insert(w).select().single();if(S)throw S;f(_.id),ge.success("Draft created")}}catch(w){console.error("Error saving draft:",w),ge.error("Failed to save draft")}finally{u(!1)}}},v=async y=>{if(a){if(s.length===0){ge.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:a.id,patient_id:t,chief_complaint:y.chief_complaint,history_of_present_illness:y.history_of_present_illness||null,examination_findings:y.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:y.treatment_plan||null,follow_up_instructions:y.follow_up_instructions||null,follow_up_date:y.follow_up_date?at(y.follow_up_date,"yyyy-MM-dd"):null,referral_required:y.referral_required,referral_details:y.referral_required?y.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Ne.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Ne.from("clinical_notes").insert(w);if(_)throw _}ge.success("Clinical note completed and signed"),p("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),ge.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return l.jsxs(se,{className:"w-full",children:[l.jsx(xe,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",l.jsx("span",{className:"font-medium",children:r})]})]}),l.jsx(Ce,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),l.jsx(fe,{children:l.jsx(kz,{...m,children:l.jsxs("form",{className:"space-y-6",children:[l.jsxs(kl,{defaultValue:"clinical",className:"w-full",children:[l.jsxs(oo,{className:"grid w-full grid-cols-3",children:[l.jsxs(Dt,{value:"clinical",className:"flex items-center gap-2",children:[l.jsx(Ui,{className:"w-4 h-4"}),"Clinical"]}),l.jsxs(Dt,{value:"diagnosis",className:"flex items-center gap-2",children:[l.jsx(If,{className:"w-4 h-4"}),"Diagnosis"]}),l.jsxs(Dt,{value:"treatment",className:"flex items-center gap-2",children:[l.jsx(Yr,{className:"w-4 h-4"}),"Treatment"]})]}),l.jsxs(dr,{value:"clinical",className:"space-y-4 mt-4",children:[l.jsx(gn,{control:m.control,name:"chief_complaint",render:({field:y})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Chief Complaint *"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...y})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:m.control,name:"history_of_present_illness",render:({field:y})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"History of Present Illness"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...y})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:m.control,name:"examination_findings",render:({field:y})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Examination Findings"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...y})}),l.jsx(Dj,{children:"Document any observable findings from the video consultation"}),l.jsx(vn,{})]})})]}),l.jsx(dr,{value:"diagnosis",className:"space-y-4 mt-4",children:l.jsxs("div",{children:[l.jsx(Vr,{children:"ICD-10 Diagnosis Codes *"}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),l.jsx(Fhe,{selectedCodes:s,onCodesChange:b?()=>{}:o})]})}),l.jsxs(dr,{value:"treatment",className:"space-y-4 mt-4",children:[l.jsx(gn,{control:m.control,name:"treatment_plan",render:({field:y})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Treatment Plan"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...y})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:m.control,name:"follow_up_instructions",render:({field:y})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Follow-up Instructions"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...y})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:m.control,name:"follow_up_date",render:({field:y})=>l.jsxs(an,{className:"flex flex-col",children:[l.jsx(Vr,{children:"Follow-up Date"}),l.jsxs(jhe,{children:[l.jsx(khe,{asChild:!0,children:l.jsx(sn,{children:l.jsxs(ee,{variant:"outline",disabled:b,className:me("w-full pl-3 text-left font-normal",!y.value&&"text-muted-foreground"),children:[y.value?at(y.value,"PPP"):l.jsx("span",{children:"Select date"}),l.jsx(At,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),l.jsx(jz,{className:"w-auto p-0",align:"start",children:l.jsx(HE,{mode:"single",selected:y.value||void 0,onSelect:y.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),l.jsx(vn,{})]})}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx(gn,{control:m.control,name:"referral_required",render:({field:y})=>l.jsxs(an,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[l.jsxs("div",{className:"space-y-0.5",children:[l.jsx(Vr,{className:"text-base",children:"Referral Required"}),l.jsx(Dj,{children:"Does this patient need to be referred to a specialist?"})]}),l.jsx(sn,{children:l.jsx(w0,{checked:y.value,onCheckedChange:y.onChange,disabled:b})})]})}),m.watch("referral_required")&&l.jsx(gn,{control:m.control,name:"referral_details",render:({field:y})=>l.jsxs(an,{className:"mt-4",children:[l.jsx(Vr,{children:"Referral Details"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...y})}),l.jsx(vn,{})]})})]})]})]}),!b&&l.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[l.jsxs(ee,{type:"button",variant:"outline",onClick:m.handleSubmit(g),disabled:c,children:[l.jsx(tX,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),l.jsxs(ee,{type:"button",onClick:m.handleSubmit(v),disabled:c,children:[l.jsx(A5,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},zz=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:i,existingNoteId:a,onComplete:s})=>{const o=()=>{s==null||s(),t(!1)};return l.jsx(Hf,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsx(tu,{children:l.jsx(ru,{children:"Document Consultation"})}),l.jsx(Uhe,{appointmentId:r,patientId:n,patientName:i,existingNoteId:a,onComplete:o})]})})},Vz=()=>{const{user:e,role:t}=Er(),[r,n]=x.useState([]),[i,a]=x.useState(!0),[s,o]=x.useState(null),c=x.useCallback(async()=>{if(e){a(!0),o(null);try{const{data:p,error:m}=await Ne.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(m)throw m;const g=[...new Set((p==null?void 0:p.map(_=>_.patient_id))||[])],v=[...new Set((p==null?void 0:p.map(_=>_.clinician_id))||[])],{data:b}=await Ne.from("profiles").select("id, first_name, last_name").in("id",[...g,...v]),y=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(p==null?void 0:p.map(_=>({..._,patient_name:y.get(_.patient_id)||"Unknown",clinician_name:y.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(p){o(p.message)}finally{a(!1)}}},[e]),u=async p=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:m,error:g}=await Ne.from("prescriptions").insert({...p,clinician_id:e.id}).select().single();if(g)throw g;return await c(),{success:!0,prescription:m}}catch(m){return{success:!1,error:m.message}}},d=async(p,m)=>{try{const{error:g}=await Ne.from("prescriptions").update({status:m}).eq("id",p);if(g)throw g;return await c(),{success:!0}}catch(g){return{success:!1,error:g.message}}},f=async p=>{try{const{data:m,error:g}=await Ne.from("prescriptions").select("*").eq("patient_id",p).order("prescribed_at",{ascending:!1});if(g)throw g;return{success:!0,prescriptions:m}}catch(m){return{success:!1,error:m.message,prescriptions:[]}}},h=async p=>{try{const{data:m,error:g}=await Ne.from("prescriptions").select("*").eq("appointment_id",p).order("prescribed_at",{ascending:!1});if(g)throw g;return{success:!0,prescriptions:m}}catch(m){return{success:!1,error:m.message,prescriptions:[]}}};return x.useEffect(()=>{c()},[c]),{prescriptions:r,loading:i,error:s,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},zhe=i0({medication_name:sr().min(1,"Medication name is required"),dosage:sr().min(1,"Dosage is required"),frequency:sr().min(1,"Frequency is required"),duration:sr().min(1,"Duration is required"),quantity:sr().optional(),refills:sr().optional(),instructions:sr().optional(),pharmacy_notes:sr().optional()}),Vhe=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],Whe=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],Hhe=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:i,onCancel:a})=>{const{createPrescription:s}=Vz(),[o,c]=x.useState(!1),u=Hy({resolver:qy(zhe),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},p=await s(h);c(!1),p.success?(ge.success("Prescription created successfully"),u.reset(),i==null||i()):ge.error(p.error||"Failed to create prescription")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(Yr,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold",children:"New Prescription"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),l.jsx(kz,{...u,children:l.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[l.jsx(gn,{control:u.control,name:"medication_name",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Medication Name *"}),l.jsx(sn,{children:l.jsx(et,{placeholder:"e.g., Amoxicillin 500mg",...f})}),l.jsx(vn,{})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(gn,{control:u.control,name:"dosage",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Dosage *"}),l.jsx(sn,{children:l.jsx(et,{placeholder:"e.g., 1 tablet",...f})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:u.control,name:"frequency",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Frequency *"}),l.jsxs(pr,{onValueChange:f.onChange,value:f.value,children:[l.jsx(sn,{children:l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select frequency"})})}),l.jsx(cr,{children:Vhe.map(h=>l.jsx(Qe,{value:h,children:h},h))})]}),l.jsx(vn,{})]})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[l.jsx(gn,{control:u.control,name:"duration",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Duration *"}),l.jsxs(pr,{onValueChange:f.onChange,value:f.value,children:[l.jsx(sn,{children:l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select duration"})})}),l.jsx(cr,{children:Whe.map(h=>l.jsx(Qe,{value:h,children:h},h))})]}),l.jsx(vn,{})]})}),l.jsx(gn,{control:u.control,name:"quantity",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Quantity"}),l.jsx(sn,{children:l.jsx(et,{type:"number",placeholder:"e.g., 30",...f})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:u.control,name:"refills",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Refills"}),l.jsx(sn,{children:l.jsx(et,{type:"number",min:"0",max:"12",...f})}),l.jsx(vn,{})]})})]}),l.jsx(gn,{control:u.control,name:"instructions",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Patient Instructions"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),l.jsx(vn,{})]})}),l.jsx(gn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>l.jsxs(an,{children:[l.jsx(Vr,{children:"Pharmacy Notes"}),l.jsx(sn,{children:l.jsx(Mr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),l.jsx(vn,{})]})}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a&&l.jsx(ee,{type:"button",variant:"outline",onClick:a,children:"Cancel"}),l.jsx(ee,{type:"submit",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},Wz=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:i,clinicalNoteId:a})=>l.jsx(Hf,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(tu,{children:l.jsx(ru,{children:"Create E-Prescription"})}),l.jsx(Hhe,{patientId:r,patientName:n,appointmentId:i,clinicalNoteId:a,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),qhe=e=>{const[t,r]=x.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,i]=x.useState(!1),[a,s]=x.useState(null);return x.useEffect(()=>{(async()=>{if(e){i(!0),s(null);try{const{data:c,error:u}=await Ne.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Ne.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:p}=await Ne.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(p)throw p;const m=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:g}=await Ne.from("profiles").select("id, first_name, last_name").in("id",m),v=new Map((g==null?void 0:g.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],y=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:y,prescriptions:w})}catch(c){s(c.message)}finally{i(!1)}}})()},[e]),{history:t,loading:n,error:a}},Ghe={video:qt,phone:Qn,in_person:$f},PM={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},Khe=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:i,loading:a,error:s}=qhe(e?r:null);return l.jsx(Hf,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"max-w-4xl max-h-[85vh]",children:[l.jsx(tu,{children:l.jsxs(ru,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),a?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ht,{className:"h-10 w-full"}),l.jsx(Ht,{className:"h-48 w-full"}),l.jsx(Ht,{className:"h-48 w-full"})]}):s?l.jsxs("div",{className:"text-center py-8 text-destructive",children:[l.jsx(If,{className:"w-12 h-12 mx-auto mb-4"}),l.jsx("p",{children:"Error loading patient history"})]}):l.jsxs(kl,{defaultValue:"appointments",className:"w-full",children:[l.jsxs(oo,{className:"grid w-full grid-cols-3 mb-4",children:[l.jsxs(Dt,{value:"appointments",className:"flex items-center gap-2",children:[l.jsx(At,{className:"w-4 h-4"}),"Visits (",i.appointments.length,")"]}),l.jsxs(Dt,{value:"notes",className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-4 h-4"}),"Clinical Notes (",i.clinicalNotes.length,")"]}),l.jsxs(Dt,{value:"prescriptions",className:"flex items-center gap-2",children:[l.jsx(Yr,{className:"w-4 h-4"}),"Prescriptions (",i.prescriptions.length,")"]})]}),l.jsxs(sO,{className:"h-[500px] pr-4",children:[l.jsx(dr,{value:"appointments",className:"space-y-3 mt-0",children:i.appointments.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(At,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No past appointments"})]}):i.appointments.map(o=>{const c=Ghe[o.consultation_type]||qt;return l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(c,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("p",{className:"font-medium",children:at(new Date(o.scheduled_at),"MMMM d, yyyy")}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",at(new Date(o.scheduled_at),"h:mm a")]})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[o.clinician_name,"  ",o.duration_minutes," min ",o.consultation_type," consultation"]}),o.notes&&l.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:o.notes})]})]}),l.jsx(Ce,{className:PM[o.status]||"",children:o.status})]})})},o.id)})}),l.jsx(dr,{value:"notes",className:"space-y-3 mt-0",children:i.clinicalNotes.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Sn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No clinical notes available"})]}):i.clinicalNotes.map(o=>l.jsx(se,{children:l.jsxs(fe,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-4 h-4 text-primary"}),l.jsx("p",{className:"font-medium",children:at(new Date(o.created_at),"MMMM d, yyyy")})]}),o.signed_at&&l.jsxs(Ce,{variant:"secondary",className:"flex items-center gap-1",children:[l.jsx(Dr,{className:"w-3 h-3"}),"Signed"]})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:o.clinician_name}),o.chief_complaint&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),l.jsx("p",{className:"text-sm",children:o.chief_complaint})]}),o.diagnosis&&o.diagnosis.length>0&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:o.diagnosis.map((c,u)=>l.jsx(Ce,{variant:"outline",className:"text-xs",children:c},u))})]}),o.treatment_plan&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),l.jsx("p",{className:"text-sm",children:o.treatment_plan})]})]})},o.id))}),l.jsx(dr,{value:"prescriptions",className:"space-y-3 mt-0",children:i.prescriptions.length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Yr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No prescriptions on record"})]}):i.prescriptions.map(o=>l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:l.jsx(Yr,{className:"w-5 h-5 text-warning"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:o.medication_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.dosage,"  ",o.frequency,"  ",o.duration]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o.clinician_name,"  ",at(new Date(o.prescribed_at),"MMM d, yyyy")]})]})]}),l.jsx(Ce,{className:PM[o.status]||"",children:o.status})]})})},o.id))})]})]})]})})},Yhe={video:qt,phone:Qn,in_person:$f},Jhe={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},Xhe={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},K_=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const i=kn(),[a,s]=x.useState(!1),[o,c]=x.useState(!1),[u,d]=x.useState(!1),f=Yhe[e.consultation_type],h=Jhe[e.status],p=Xhe[e.severity],m=e.status==="pending"||e.status==="confirmed",g=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{i(`/consultation?appointment=${e.id}`)};return l.jsxs(se,{className:`transition-all ${g?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx(g0,{className:"w-12 h-12",children:l.jsx(v0,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(y=>y[0]).join("")})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),l.jsx(Ce,{variant:h.variant,children:h.label})]}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Xt,{className:"w-3.5 h-3.5"}),at(new Date(e.scheduled_at),"h:mm a")]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&l.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[l.jsxs(Ce,{variant:"outline",className:p.color,children:[e.severity==="severe"&&l.jsx(_i,{className:"w-3 h-3 mr-1"}),p.label]}),e.symptoms.slice(0,3).map((y,w)=>l.jsx(Ce,{variant:"outline",className:"text-xs",children:y},w)),e.symptoms.length>3&&l.jsxs(Ce,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),l.jsxs("div",{className:"flex gap-2",children:[m&&l.jsxs(l.Fragment,{children:[l.jsxs(ee,{size:"sm",onClick:()=>t(e),disabled:n,children:[l.jsx(UC,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[l.jsx(c_,{className:"w-4 h-4 mr-1"}),"History"]})]}),g&&l.jsxs(l.Fragment,{children:[l.jsxs(ee,{size:"sm",variant:"default",onClick:b,children:[l.jsx(qt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),l.jsxs(ee,{size:"sm",variant:"secondary",onClick:()=>s(!0),children:[l.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Notes"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[l.jsx(Yr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[l.jsx(c_,{className:"w-4 h-4 mr-1"}),"History"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[l.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&l.jsxs(l.Fragment,{children:[l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>s(!0),children:[l.jsx(Sn,{className:"w-4 h-4 mr-1"}),"View Notes"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[l.jsx(Yr,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[l.jsx(c_,{className:"w-4 h-4 mr-1"}),"History"]}),l.jsxs(Ce,{variant:"secondary",className:"ml-2",children:[l.jsx(Dr,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),l.jsx(zz,{open:a,onOpenChange:s,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),l.jsx(Wz,{open:o,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),l.jsx(Khe,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},Hz=()=>{const{user:e}=Er(),[t,r]=x.useState([]),[n,i]=x.useState({waiting:0,inProgress:0,completed:0,total:0}),[a,s]=x.useState(!0),[o,c]=x.useState(null),u=x.useCallback(async()=>{if(e)try{const f=new Date,h=cs(f).toISOString(),p=OE(f).toISOString(),{data:m,error:g}=await Ne.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",p).order("scheduled_at",{ascending:!0});if(g)throw g;if(!m||m.length===0){r([]),i({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(m.map(N=>N.patient_id))],{data:b,error:y}=await Ne.from("profiles").select("id, first_name, last_name").in("id",v);if(y)throw y;const w=m.map(N=>N.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:N,error:E}=await Ne.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(E)throw E;_=N||[]}const S=m.map(N=>{const E=b==null?void 0:b.find(T=>T.id===N.patient_id),P=_.find(T=>T.id===N.symptom_assessment_id);return{id:N.id,patient_id:N.patient_id,patient_name:E?`${E.first_name} ${E.last_name}`:"Unknown Patient",scheduled_at:N.scheduled_at,consultation_type:N.consultation_type,status:N.status,symptoms:(P==null?void 0:P.symptoms)||[],severity:(P==null?void 0:P.severity)||"mild",symptom_description:(P==null?void 0:P.description)||null,created_at:N.created_at}});r(S);const k={waiting:S.filter(N=>N.status==="pending"||N.status==="confirmed").length,inProgress:S.filter(N=>N.status==="in_progress").length,completed:S.filter(N=>N.status==="completed").length,total:S.length};i(k)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{s(!1)}},[e]),d=async(f,h)=>{try{const{error:p}=await Ne.from("appointments").update({status:h}).eq("id",f);if(p)throw p;return r(m=>m.map(g=>g.id===f?{...g,status:h}:g)),i(m=>{const g=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:g.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:g.filter(v=>v.status==="in_progress").length,completed:g.filter(v=>v.status==="completed").length,total:g.length}}),{success:!0}}catch(p){return console.error("Error updating appointment:",p),{success:!1,error:p.message}}};return x.useEffect(()=>{u()},[u]),x.useEffect(()=>{if(!e)return;const f=Ne.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Ne.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:a,error:o,refetch:u,updateAppointmentStatus:d}},Qhe=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=Hz(),[i,a]=x.useState(null),s=e.filter(h=>h.status==="pending"||h.status==="confirmed"),o=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((p,m)=>{const g={severe:0,moderate:1,mild:2};return g[p.severity]!==g[m.severity]?g[p.severity]-g[m.severity]:new Date(p.scheduled_at).getTime()-new Date(m.scheduled_at).getTime()}),d=async h=>{a(h.id);const p=await n(h.id,"in_progress");a(null),p.success?ge.success(`Started consultation with ${h.patient_name}`):ge.error("Failed to start consultation")},f=async h=>{a(h.id);const p=await n(h.id,"completed");a(null),p.success?ge.success(`Completed consultation with ${h.patient_name}`):ge.error("Failed to complete consultation")};return r?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(Ht,{className:"h-6 w-40"}),l.jsx(Ht,{className:"h-4 w-60"})]}),l.jsx(fe,{className:"space-y-4",children:[1,2,3].map(h=>l.jsx(Ht,{className:"h-32 w-full"},h))})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Si,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),l.jsxs(Ie,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),l.jsx(fe,{children:l.jsxs(kl,{defaultValue:"waiting",className:"w-full",children:[l.jsxs(oo,{className:"grid w-full grid-cols-3 mb-4",children:[l.jsxs(Dt,{value:"waiting",className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),l.jsxs(Dt,{value:"in_progress",className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),l.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),l.jsx(dr,{value:"waiting",className:"space-y-4",children:s.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Si,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No patients waiting"})]}):u(s).map(h=>l.jsx(K_,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),l.jsx(dr,{value:"in_progress",className:"space-y-4",children:o.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Xt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No consultations in progress"})]}):o.map(h=>l.jsx(K_,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))}),l.jsx(dr,{value:"completed",className:"space-y-4",children:c.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Dr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>l.jsx(K_,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:i===h.id},h.id))})]})})]})},Zhe={video:qt,phone:Qn,in_person:$f},epe=({todayAppointments:e})=>{const t=e.filter(a=>{const s=new Date(a.scheduled_at).getHours();return s>=8&&s<12}),r=e.filter(a=>{const s=new Date(a.scheduled_at).getHours();return s>=12&&s<17}),n=e.filter(a=>new Date(a.scheduled_at).getHours()>=17),i=({title:a,appointments:s})=>l.jsxs("div",{className:"mb-4 last:mb-0",children:[l.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:a}),s.length===0?l.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):l.jsx("div",{className:"space-y-2",children:s.map(o=>{const c=Zhe[o.consultation_type];return l.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${o.status==="in_progress"?"border-success bg-success/5":o.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-sm font-medium",children:em(new Date(o.scheduled_at),"h:mm")}),l.jsx("span",{className:"text-xs text-muted-foreground",children:em(new Date(o.scheduled_at),"a")})]}),l.jsx("div",{className:"w-px h-8 bg-border"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:o.patient_name}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[l.jsx(c,{className:"w-3 h-3"}),l.jsx("span",{children:o.consultation_type})]})]})]}),l.jsx(Ce,{variant:o.status==="in_progress"?"default":o.status==="completed"?"secondary":"outline",className:"text-xs",children:o.status==="in_progress"?"In Progress":o.status==="completed"?"Done":o.status==="pending"?"Waiting":o.status})]},o.id)})})]});return l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(At,{className:"w-5 h-5 text-primary"}),"Today's Schedule",l.jsx(Ce,{variant:"outline",className:"ml-2 text-xs",children:Zp})]}),l.jsx(Ie,{children:rx(new Date)})]}),l.jsx(fe,{children:e.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(At,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No appointments scheduled for today"})]}):l.jsxs(l.Fragment,{children:[l.jsx(i,{title:"Morning (8am - 12pm)",appointments:t}),l.jsx(i,{title:"Afternoon (12pm - 5pm)",appointments:r}),l.jsx(i,{title:"Evening (5pm+)",appointments:n})]})})]})},tpe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],rpe=()=>{const{user:e}=Er(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[a,s]=x.useState(!1),o=x.useCallback(async()=>{if(e){i(!0);try{const{data:p,error:m}=await Ne.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(m)throw m;r(p||[])}catch(p){console.error("Error fetching availability:",p),ge.error("Failed to load availability")}finally{i(!1)}}},[e]),c=x.useCallback(async p=>{if(e){s(!0);try{const{data:m,error:g}=await Ne.from("clinician_availability").insert({clinician_id:e.id,day_of_week:p.day_of_week,start_time:p.start_time,end_time:p.end_time,is_active:p.is_active}).select().single();if(g)throw g;return r(v=>[...v,m]),ge.success("Availability slot added"),m}catch(m){return console.error("Error adding slot:",m),ge.error("Failed to add availability slot"),null}finally{s(!1)}}},[e]),u=x.useCallback(async(p,m)=>{if(e){s(!0);try{const{error:g}=await Ne.from("clinician_availability").update(m).eq("id",p).eq("clinician_id",e.id);if(g)throw g;r(v=>v.map(b=>b.id===p?{...b,...m}:b)),ge.success("Availability updated")}catch(g){console.error("Error updating slot:",g),ge.error("Failed to update availability")}finally{s(!1)}}},[e]),d=x.useCallback(async p=>{if(e){s(!0);try{const{error:m}=await Ne.from("clinician_availability").delete().eq("id",p).eq("clinician_id",e.id);if(m)throw m;r(g=>g.filter(v=>v.id!==p)),ge.success("Slot removed")}catch(m){console.error("Error deleting slot:",m),ge.error("Failed to remove slot")}finally{s(!1)}}},[e]),f=x.useCallback(async(p,m)=>{await u(p,{is_active:m})},[u]),h=x.useCallback(p=>t.filter(m=>m.day_of_week===p),[t]);return x.useEffect(()=>{o()},[o]),{availability:t,loading:n,saving:a,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:o,DAY_NAMES:tpe}},AM=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),npe=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,i]=x.useState(1),[a,s]=x.useState("09:00"),[o,c]=x.useState("17:00"),[u,d]=x.useState(!0),f=async()=>{if(a>=o)return;await e({day_of_week:n,start_time:a,end_time:o,is_active:u})&&(s("09:00"),c("17:00"))};return l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[l.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Day"}),l.jsxs(pr,{value:n.toString(),onValueChange:h=>i(parseInt(h)),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:r.map((h,p)=>l.jsx(Qe,{value:p.toString(),children:h},p))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Start Time"}),l.jsxs(pr,{value:a,onValueChange:s,children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:AM.map(h=>l.jsx(Qe,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"End Time"}),l.jsxs(pr,{value:o,onValueChange:c,children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:AM.filter(h=>h>a).map(h=>l.jsx(Qe,{value:h,children:h},h))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Active"}),l.jsxs("div",{className:"flex items-center h-10",children:[l.jsx(w0,{checked:u,onCheckedChange:d}),l.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),l.jsxs(ee,{onClick:f,disabled:t||a>=o,children:[l.jsx(Bd,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},TM=e=>{const[t,r]=e.split(":"),n=parseInt(t),i=n>=12?"PM":"AM";return`${n%12||12}:${r} ${i}`},ipe=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:i,saving:a})=>{const s=r.filter(u=>u.is_active),o=r.length>0,c=t===0||t===6;return l.jsxs(se,{className:`${o?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[l.jsx(xe,{className:"pb-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(we,{className:"text-base flex items-center gap-2",children:[e,c&&l.jsx(QJ,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),o&&l.jsxs(Ce,{variant:s.length>0?"default":"secondary",children:[s.length," active"]})]})}),l.jsx(fe,{children:o?l.jsx("div",{className:"space-y-2",children:r.map(u=>l.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"w-4 h-4 text-muted-foreground"}),l.jsxs("span",{className:"text-sm font-medium",children:[TM(u.start_time)," - ",TM(u.end_time)]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(w0,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:a}),l.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&i(u.id),disabled:a,children:l.jsx(iX,{className:"w-4 h-4"})})]})]},u.id))}):l.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},ape=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:i,deleteSlot:a,getSlotsByDay:s,refetch:o,DAY_NAMES:c}=rpe(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,p]=f.start_time.split(":").map(Number),[m,g]=f.end_time.split(":").map(Number),v=m-h+(g-p)/60;return d+v},0);return t?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(Ht,{className:"h-6 w-48"}),l.jsx(Ht,{className:"h-4 w-64"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsx(Ht,{className:"h-32 w-full"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>l.jsx(Ht,{className:"h-24"},f))})]})]}):l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(At,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),l.jsx(Ie,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),l.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[l.jsx(Xt,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),l.jsxs(ee,{variant:"outline",size:"sm",onClick:o,disabled:t,children:[l.jsx(Ks,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),l.jsxs(fe,{className:"space-y-6",children:[l.jsx(npe,{onAddSlot:n,saving:r,dayNames:c}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>l.jsx(ipe,{dayName:d,dayIndex:f,slots:s(f),onToggleActive:i,onDeleteSlot:a,saving:r},f))})]}),l.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[l.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Patients can only book during your active time slots"}),l.jsx("li",{children:" Each appointment is 30 minutes by default"}),l.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),l.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},spe=({open:e,onOpenChange:t})=>l.jsx(Hf,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[l.jsx(tu,{children:l.jsx(ru,{children:"Manage Availability"})}),l.jsx(ape,{})]})}),ope=e=>{const{user:t}=Er(),[r,n]=x.useState([]),[i,a]=x.useState(!0),[s,o]=x.useState(null),c=x.useCallback(async()=>{if(t){a(!0),o(null);try{let h=Ne.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",cs(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",OE(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:p,error:m}=await h;if(m)throw m;const g=[...new Set((p==null?void 0:p.map(w=>w.patient_id))||[])],{data:v}=await Ne.from("profiles").select("id, first_name, last_name, phone").in("id",g),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),y=(p||[]).map(w=>{const _=b.get(w.patient_id),S=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(S==null?void 0:S.symptoms)||[],severity:(S==null?void 0:S.severity)||"mild",symptom_description:(S==null?void 0:S.description)||null,notes:w.notes,created_at:w.created_at}});n(y)}catch(h){console.error("Error fetching appointments:",h),o(h.message),ge.error("Failed to load appointments")}finally{a(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=x.useCallback(async(h,p)=>{try{const{error:m}=await Ne.from("appointments").update({status:p}).eq("id",h);if(m)throw m;return n(g=>g.map(v=>v.id===h?{...v,status:p}:v)),ge.success(`Appointment ${p}`),!0}catch(m){return console.error("Error updating appointment:",m),ge.error("Failed to update appointment"),!1}},[]),d=x.useCallback(async(h,p)=>{try{const{error:m}=await Ne.from("appointments").update({notes:p}).eq("id",h);if(m)throw m;return n(g=>g.map(v=>v.id===h?{...v,notes:p}:v)),ge.success("Notes saved"),!0}catch(m){return console.error("Error updating notes:",m),ge.error("Failed to save notes"),!1}},[]),f=x.useCallback(async(h,p)=>{try{const{error:m}=await Ne.from("appointments").update({scheduled_at:p.toISOString(),status:"pending"}).eq("id",h);if(m)throw m;return n(g=>g.map(v=>v.id===h?{...v,scheduled_at:p.toISOString(),status:"pending"}:v)),ge.success("Appointment rescheduled"),!0}catch(m){return console.error("Error rescheduling:",m),ge.error("Failed to reschedule appointment"),!1}},[]);return x.useEffect(()=>{if(!t)return;const h=Ne.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Ne.removeChannel(h)}},[t,c]),x.useEffect(()=>{c()},[c]),{appointments:r,loading:i,error:s,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function lpe(e){const t=cpe(e),r=x.forwardRef((n,i)=>{const{children:a,...s}=n,o=x.Children.toArray(a),c=o.find(dpe);if(c){const u=c.props.children,d=o.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...s,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return l.jsx(t,{...s,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}function cpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const s=hpe(i),o=fpe(a,i.props);return i.type!==x.Fragment&&(o.ref=n?ds(n,s):s),x.cloneElement(i,o)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var upe=Symbol("radix.slottable");function dpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===upe}function fpe(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const c=a(...o);return i(...o),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function hpe(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Lj=["Enter"," "],ppe=["ArrowDown","PageUp","Home"],qz=["ArrowUp","PageDown","End"],mpe=[...ppe,...qz],gpe={ltr:[...Lj,"ArrowRight"],rtl:[...Lj,"ArrowLeft"]},vpe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},cg="Menu",[tm,ype,xpe]=Fb(cg),[nu,Gz]=un(cg,[xpe,bl,Wf]),N0=bl(),Kz=Wf(),[bpe,iu]=nu(cg),[wpe,ug]=nu(cg),Yz=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:s=!0}=e,o=N0(t),[c,u]=x.useState(null),d=x.useRef(!1),f=ur(a),h=zf(i);return x.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),l.jsx(QC,{...o,children:l.jsx(bpe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(wpe,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};Yz.displayName=cg;var _pe="MenuAnchor",oO=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=N0(r);return l.jsx(Qm,{...i,...n,ref:t})});oO.displayName=_pe;var lO="MenuPortal",[Spe,Jz]=nu(lO,{forceMount:void 0}),Xz=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=iu(lO,t);return l.jsx(Spe,{scope:t,forceMount:r,children:l.jsx(Fr,{present:r||a.open,children:l.jsx(Mf,{asChild:!0,container:i,children:n})})})};Xz.displayName=lO;var zi="MenuContent",[jpe,cO]=nu(zi),Qz=x.forwardRef((e,t)=>{const r=Jz(zi,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=iu(zi,e.__scopeMenu),s=ug(zi,e.__scopeMenu);return l.jsx(tm.Provider,{scope:e.__scopeMenu,children:l.jsx(Fr,{present:n||a.open,children:l.jsx(tm.Slot,{scope:e.__scopeMenu,children:s.modal?l.jsx(kpe,{...i,ref:t}):l.jsx(Npe,{...i,ref:t})})})})}),kpe=x.forwardRef((e,t)=>{const r=iu(zi,e.__scopeMenu),n=x.useRef(null),i=ze(t,n);return x.useEffect(()=>{const a=n.current;if(a)return o0(a)},[]),l.jsx(uO,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:oe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Npe=x.forwardRef((e,t)=>{const r=iu(zi,e.__scopeMenu);return l.jsx(uO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Cpe=lpe("MenuContent.ScrollLock"),uO=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:m,...g}=e,v=iu(zi,r),b=ug(zi,r),y=N0(r),w=Kz(r),_=ype(r),[S,k]=x.useState(null),N=x.useRef(null),E=ze(t,N,v.onContentChange),P=x.useRef(0),T=x.useRef(""),$=x.useRef(0),M=x.useRef(null),F=x.useRef("right"),R=x.useRef(0),U=m?ng:x.Fragment,W=m?{as:Cpe,allowPinchZoom:!0}:void 0,z=B=>{var I,q;const G=T.current+B,te=_().filter(H=>!H.disabled),X=document.activeElement,j=(I=te.find(H=>H.ref.current===X))==null?void 0:I.textValue,O=te.map(H=>H.textValue),C=Fpe(O,G,j),D=(q=te.find(H=>H.textValue===C))==null?void 0:q.ref.current;(function H(K){T.current=K,window.clearTimeout(P.current),K!==""&&(P.current=window.setTimeout(()=>H(""),1e3))})(G),D&&setTimeout(()=>D.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),a0();const L=x.useCallback(B=>{var te,X;return F.current===((te=M.current)==null?void 0:te.side)&&Upe(B,(X=M.current)==null?void 0:X.area)},[]);return l.jsx(jpe,{scope:r,searchRef:T,onItemEnter:x.useCallback(B=>{L(B)&&B.preventDefault()},[L]),onItemLeave:x.useCallback(B=>{var G;L(B)||((G=N.current)==null||G.focus(),k(null))},[L]),onTriggerLeave:x.useCallback(B=>{L(B)&&B.preventDefault()},[L]),pointerGraceTimerRef:$,onPointerGraceIntentChange:x.useCallback(B=>{M.current=B},[]),children:l.jsx(U,{...W,children:l.jsx(rg,{asChild:!0,trapped:i,onMountAutoFocus:oe(a,B=>{var G;B.preventDefault(),(G=N.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:l.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(SE,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:oe(c,B=>{b.isUsingKeyboardRef.current||B.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Kb,{role:"menu","aria-orientation":"vertical","data-state":pV(v.open),"data-radix-menu-content":"",dir:b.dir,...y,...g,ref:E,style:{outline:"none",...g.style},onKeyDown:oe(g.onKeyDown,B=>{const te=B.target.closest("[data-radix-menu-content]")===B.currentTarget,X=B.ctrlKey||B.altKey||B.metaKey,j=B.key.length===1;te&&(B.key==="Tab"&&B.preventDefault(),!X&&j&&z(B.key));const O=N.current;if(B.target!==O||!mpe.includes(B.key))return;B.preventDefault();const D=_().filter(I=>!I.disabled).map(I=>I.ref.current);qz.includes(B.key)&&D.reverse(),Dpe(D)}),onBlur:oe(e.onBlur,B=>{B.currentTarget.contains(B.target)||(window.clearTimeout(P.current),T.current="")}),onPointerMove:oe(e.onPointerMove,rm(B=>{const G=B.target,te=R.current!==B.clientX;if(B.currentTarget.contains(G)&&te){const X=B.clientX>R.current?"right":"left";F.current=X,R.current=B.clientX}}))})})})})})})});Qz.displayName=zi;var Epe="MenuGroup",dO=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{role:"group",...n,ref:t})});dO.displayName=Epe;var Ope="MenuLabel",Zz=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{...n,ref:t})});Zz.displayName=Ope;var ox="MenuItem",MM="menu.itemSelect",C0=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=x.useRef(null),s=ug(ox,e.__scopeMenu),o=cO(ox,e.__scopeMenu),c=ze(t,a),u=x.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(MM,{bubbles:!0,cancelable:!0});f.addEventListener(MM,p=>n==null?void 0:n(p),{once:!0}),$C(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return l.jsx(eV,{...i,ref:c,disabled:r,onClick:oe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:oe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:oe(e.onKeyDown,f=>{const h=o.searchRef.current!=="";r||h&&f.key===" "||Lj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});C0.displayName=ox;var eV=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,s=cO(ox,r),o=Kz(r),c=x.useRef(null),u=ze(t,c),[d,f]=x.useState(!1),[h,p]=x.useState("");return x.useEffect(()=>{const m=c.current;m&&p((m.textContent??"").trim())},[a.children]),l.jsx(tm.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(jE,{asChild:!0,...o,focusable:!n,children:l.jsx(Oe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:oe(e.onPointerMove,rm(m=>{n?s.onItemLeave(m):(s.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(e.onPointerLeave,rm(m=>s.onItemLeave(m))),onFocus:oe(e.onFocus,()=>f(!0)),onBlur:oe(e.onBlur,()=>f(!1))})})})}),Ppe="MenuCheckboxItem",tV=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return l.jsx(sV,{scope:e.__scopeMenu,checked:r,children:l.jsx(C0,{role:"menuitemcheckbox","aria-checked":lx(r)?"mixed":r,...i,ref:t,"data-state":hO(r),onSelect:oe(i.onSelect,()=>n==null?void 0:n(lx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});tV.displayName=Ppe;var rV="MenuRadioGroup",[Ape,Tpe]=nu(rV,{value:void 0,onValueChange:()=>{}}),nV=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=ur(n);return l.jsx(Ape,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(dO,{...i,ref:t})})});nV.displayName=rV;var iV="MenuRadioItem",aV=x.forwardRef((e,t)=>{const{value:r,...n}=e,i=Tpe(iV,e.__scopeMenu),a=r===i.value;return l.jsx(sV,{scope:e.__scopeMenu,checked:a,children:l.jsx(C0,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":hO(a),onSelect:oe(n.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,r)},{checkForDefaultPrevented:!1})})})});aV.displayName=iV;var fO="MenuItemIndicator",[sV,Mpe]=nu(fO,{checked:!1}),oV=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=Mpe(fO,r);return l.jsx(Fr,{present:n||lx(a.checked)||a.checked===!0,children:l.jsx(Oe.span,{...i,ref:t,"data-state":hO(a.checked)})})});oV.displayName=fO;var $pe="MenuSeparator",lV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lV.displayName=$pe;var Ipe="MenuArrow",cV=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=N0(r);return l.jsx(Yb,{...i,...n,ref:t})});cV.displayName=Ipe;var Rpe="MenuSub",[T6e,uV]=nu(Rpe),Uh="MenuSubTrigger",dV=x.forwardRef((e,t)=>{const r=iu(Uh,e.__scopeMenu),n=ug(Uh,e.__scopeMenu),i=uV(Uh,e.__scopeMenu),a=cO(Uh,e.__scopeMenu),s=x.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(oO,{asChild:!0,...u,children:l.jsx(eV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":pV(r.open),...e,ref:ds(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:oe(e.onPointerMove,rm(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(a.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:oe(e.onPointerLeave,rm(f=>{var p,m;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const g=(m=r.content)==null?void 0:m.dataset.side,v=g==="right",b=v?-5:5,y=h[v?"left":"right"],w=h[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:oe(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||gpe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});dV.displayName=Uh;var fV="MenuSubContent",hV=x.forwardRef((e,t)=>{const r=Jz(zi,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=iu(zi,e.__scopeMenu),s=ug(zi,e.__scopeMenu),o=uV(fV,e.__scopeMenu),c=x.useRef(null),u=ze(t,c);return l.jsx(tm.Provider,{scope:e.__scopeMenu,children:l.jsx(Fr,{present:n||a.open,children:l.jsx(tm.Slot,{scope:e.__scopeMenu,children:l.jsx(uO,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(e.onFocusOutside,d=>{d.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:oe(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:oe(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=vpe[s.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});hV.displayName=fV;function pV(e){return e?"open":"closed"}function lx(e){return e==="indeterminate"}function hO(e){return lx(e)?"indeterminate":e?"checked":"unchecked"}function Dpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Lpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Fpe(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let s=Lpe(e,Math.max(a,0));i.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Bpe(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,s=t.length-1;a<t.length;s=a++){const o=t[a],c=t[s],u=o.x,d=o.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(i=!i)}return i}function Upe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Bpe(r,t)}function rm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var zpe=Yz,Vpe=oO,Wpe=Xz,Hpe=Qz,qpe=dO,Gpe=Zz,Kpe=C0,Ype=tV,Jpe=nV,Xpe=aV,Qpe=oV,Zpe=lV,eme=cV,tme=dV,rme=hV,E0="DropdownMenu",[nme]=un(E0,[Gz]),Un=Gz(),[ime,mV]=nme(E0),gV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,c=Un(t),u=x.useRef(null),[d,f]=Ea({prop:i,defaultProp:a??!1,onChange:s,caller:E0});return l.jsx(ime,{scope:t,triggerId:ja(),triggerRef:u,contentId:ja(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(zpe,{...c,open:d,onOpenChange:f,dir:n,modal:o,children:r})})};gV.displayName=E0;var vV="DropdownMenuTrigger",yV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=mV(vV,r),s=Un(r);return l.jsx(Vpe,{asChild:!0,...s,children:l.jsx(Oe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:ds(t,a.triggerRef),onPointerDown:oe(e.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:oe(e.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});yV.displayName=vV;var ame="DropdownMenuPortal",xV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Un(t);return l.jsx(Wpe,{...n,...r})};xV.displayName=ame;var bV="DropdownMenuContent",wV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=mV(bV,r),a=Un(r),s=x.useRef(!1);return l.jsx(Hpe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:oe(e.onCloseAutoFocus,o=>{var c;s.current||(c=i.triggerRef.current)==null||c.focus(),s.current=!1,o.preventDefault()}),onInteractOutside:oe(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wV.displayName=bV;var sme="DropdownMenuGroup",ome=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(qpe,{...i,...n,ref:t})});ome.displayName=sme;var lme="DropdownMenuLabel",_V=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Gpe,{...i,...n,ref:t})});_V.displayName=lme;var cme="DropdownMenuItem",SV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Kpe,{...i,...n,ref:t})});SV.displayName=cme;var ume="DropdownMenuCheckboxItem",jV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Ype,{...i,...n,ref:t})});jV.displayName=ume;var dme="DropdownMenuRadioGroup",fme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Jpe,{...i,...n,ref:t})});fme.displayName=dme;var hme="DropdownMenuRadioItem",kV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Xpe,{...i,...n,ref:t})});kV.displayName=hme;var pme="DropdownMenuItemIndicator",NV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Qpe,{...i,...n,ref:t})});NV.displayName=pme;var mme="DropdownMenuSeparator",CV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(Zpe,{...i,...n,ref:t})});CV.displayName=mme;var gme="DropdownMenuArrow",vme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(eme,{...i,...n,ref:t})});vme.displayName=gme;var yme="DropdownMenuSubTrigger",EV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(tme,{...i,...n,ref:t})});EV.displayName=yme;var xme="DropdownMenuSubContent",OV=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Un(r);return l.jsx(rme,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});OV.displayName=xme;var bme=gV,wme=yV,_me=xV,PV=wV,AV=_V,TV=SV,MV=jV,$V=kV,IV=NV,RV=CV,DV=EV,LV=OV;const Sme=bme,jme=wme,kme=x.forwardRef(({className:e,inset:t,children:r,...n},i)=>l.jsxs(DV,{ref:i,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(Ld,{className:"ml-auto h-4 w-4"})]}));kme.displayName=DV.displayName;const Nme=x.forwardRef(({className:e,...t},r)=>l.jsx(LV,{ref:r,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Nme.displayName=LV.displayName;const FV=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(_me,{children:l.jsx(PV,{ref:n,sideOffset:t,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));FV.displayName=PV.displayName;const ry=x.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(TV,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));ry.displayName=TV.displayName;const Cme=x.forwardRef(({className:e,children:t,checked:r,...n},i)=>l.jsxs(MV,{ref:i,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(IV,{children:l.jsx(LC,{className:"h-4 w-4"})})}),t]}));Cme.displayName=MV.displayName;const Eme=x.forwardRef(({className:e,children:t,...r},n)=>l.jsxs($V,{ref:n,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(IV,{children:l.jsx(E5,{className:"h-2 w-2 fill-current"})})}),t]}));Eme.displayName=$V.displayName;const Ome=x.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(AV,{ref:n,className:me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ome.displayName=AV.displayName;const BV=x.forwardRef(({className:e,...t},r)=>l.jsx(RV,{ref:r,className:me("-mx-1 my-1 h-px bg-muted",e),...t}));BV.displayName=RV.displayName;var Pme=Symbol("radix.slottable");function Ame(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Pme,t}var UV="AlertDialog",[Tme]=un(UV,[B8]),lo=B8(),zV=e=>{const{__scopeAlertDialog:t,...r}=e,n=lo(t);return l.jsx(rz,{...n,...r,modal:!0})};zV.displayName=UV;var Mme="AlertDialogTrigger",$me=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=lo(r);return l.jsx(nz,{...i,...n,ref:t})});$me.displayName=Mme;var Ime="AlertDialogPortal",VV=e=>{const{__scopeAlertDialog:t,...r}=e,n=lo(t);return l.jsx(iz,{...n,...r})};VV.displayName=Ime;var Rme="AlertDialogOverlay",WV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=lo(r);return l.jsx(JE,{...i,...n,ref:t})});WV.displayName=Rme;var gd="AlertDialogContent",[Dme,Lme]=Tme(gd),Fme=Ame("AlertDialogContent"),HV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=lo(r),s=x.useRef(null),o=ze(t,s),c=x.useRef(null);return l.jsx(Gfe,{contentName:gd,titleName:qV,docsSlug:"alert-dialog",children:l.jsx(Dme,{scope:r,cancelRef:c,children:l.jsxs(XE,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:oe(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Fme,{children:n}),l.jsx(Ume,{contentRef:s})]})})})});HV.displayName=gd;var qV="AlertDialogTitle",GV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=lo(r);return l.jsx(QE,{...i,...n,ref:t})});GV.displayName=qV;var KV="AlertDialogDescription",YV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=lo(r);return l.jsx(ZE,{...i,...n,ref:t})});YV.displayName=KV;var Bme="AlertDialogAction",JV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=lo(r);return l.jsx(eO,{...i,...n,ref:t})});JV.displayName=Bme;var XV="AlertDialogCancel",QV=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=Lme(XV,r),a=lo(r),s=ze(t,i);return l.jsx(eO,{...a,...n,ref:s})});QV.displayName=XV;var Ume=({contentRef:e})=>{const t=`\`${gd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${gd}\` by passing a \`${KV}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${gd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},zme=zV,Vme=VV,ZV=WV,eW=HV,tW=JV,rW=QV,nW=GV,iW=YV;const Wme=zme,Hme=Vme,aW=x.forwardRef(({className:e,...t},r)=>l.jsx(ZV,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));aW.displayName=ZV.displayName;const sW=x.forwardRef(({className:e,...t},r)=>l.jsxs(Hme,{children:[l.jsx(aW,{}),l.jsx(eW,{ref:r,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sW.displayName=eW.displayName;const oW=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",e),...t});oW.displayName="AlertDialogHeader";const lW=({className:e,...t})=>l.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lW.displayName="AlertDialogFooter";const cW=x.forwardRef(({className:e,...t},r)=>l.jsx(nW,{ref:r,className:me("text-lg font-semibold",e),...t}));cW.displayName=nW.displayName;const uW=x.forwardRef(({className:e,...t},r)=>l.jsx(iW,{ref:r,className:me("text-sm text-muted-foreground",e),...t}));uW.displayName=iW.displayName;const dW=x.forwardRef(({className:e,...t},r)=>l.jsx(tW,{ref:r,className:me(Hp(),e),...t}));dW.displayName=tW.displayName;const fW=x.forwardRef(({className:e,...t},r)=>l.jsx(rW,{ref:r,className:me(Hp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));fW.displayName=rW.displayName;const qme={video:qt,phone:Qn,in_person:$f},Gme={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},Kme={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},Yme=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:i,compact:a=!1})=>{const s=kn(),[o,c]=x.useState(!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1),p=qme[e.consultation_type],m=Gme[e.status],g=Kme[e.severity],v=e.status==="pending",b=e.status==="confirmed",y=e.status==="in_progress",w=v||b||y,_=async k=>{h(!0),await k(),h(!1)},S=()=>{s(`/consultation?appointment=${e.id}`)};return a?l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-2 rounded-lg ${m.color}`,children:l.jsx(p,{className:"w-4 h-4"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:at(new Date(e.scheduled_at),"h:mm a")})]})]}),l.jsx(Ce,{variant:m.variant,className:"text-xs",children:m.label})]}):l.jsxs(l.Fragment,{children:[l.jsx(se,{className:`transition-all ${y?"ring-2 ring-success/50":""}`,children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-xl ${m.color} border`,children:l.jsx(p,{className:"w-5 h-5"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-semibold",children:e.patient_name}),l.jsx(Ce,{variant:m.variant,children:m.label})]}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(At,{className:"w-3.5 h-3.5"}),at(new Date(e.scheduled_at),"MMM d, yyyy")]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Xt,{className:"w-3.5 h-3.5"}),at(new Date(e.scheduled_at),"h:mm a")]}),l.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsxs("span",{className:`text-xs font-medium ${g.color}`,children:[e.severity==="severe"&&l.jsx(_i,{className:"w-3 h-3 inline mr-1"}),g.label]}),l.jsx("span",{className:"text-xs text-muted-foreground",children:""}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&l.jsxs(l.Fragment,{children:[l.jsxs(ee,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[l.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Confirm"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[l.jsx(Ac,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&l.jsxs(ee,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[l.jsx(UC,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),y&&l.jsxs(l.Fragment,{children:[l.jsxs(ee,{size:"sm",onClick:S,children:[l.jsx(qt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),l.jsxs(ee,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[l.jsx(Sn,{className:"w-4 h-4 mr-1"}),"Notes"]}),l.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>_(()=>i(e.id)),disabled:f,children:[l.jsx(Dr,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&l.jsxs(Sme,{children:[l.jsx(jme,{asChild:!0,children:l.jsx(ee,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:l.jsx(LJ,{className:"w-4 h-4"})})}),l.jsxs(FV,{align:"end",children:[l.jsxs(ry,{onClick:()=>d(!0),children:[l.jsx(Sn,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&l.jsx(ry,{asChild:!0,children:l.jsxs("a",{href:`tel:${e.patient_phone}`,children:[l.jsx(Qn,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),l.jsx(BV,{}),l.jsxs(ry,{className:"text-destructive",onClick:()=>c(!0),children:[l.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),l.jsx(Wme,{open:o,onOpenChange:c,children:l.jsxs(sW,{children:[l.jsxs(oW,{children:[l.jsx(cW,{children:"Cancel Appointment"}),l.jsxs(uW,{children:["Are you sure you want to cancel this appointment with"," ",l.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),l.jsxs(lW,{children:[l.jsx(fW,{children:"Keep Appointment"}),l.jsx(dW,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),l.jsx(zz,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},Jme=()=>{const[e,t]=x.useState({start:Ta(new Date,{weekStartsOn:1}),end:p0(new Date,{weekStartsOn:1})}),[r,n]=x.useState(new Date),[i,a]=x.useState("all"),s=i==="all"?void 0:i==="active"?["pending","confirmed","in_progress"]:[i],{appointments:o,loading:c,refetch:u,updateAppointmentStatus:d}=ope({startDate:e.start,endDate:e.end,status:s}),f=o.reduce((g,v)=>{const b=at(new Date(v.scheduled_at),"yyyy-MM-dd");return g[b]||(g[b]=[]),g[b].push(v),g},{}),h={total:o.length,pending:o.filter(g=>g.status==="pending").length,confirmed:o.filter(g=>g.status==="confirmed").length,inProgress:o.filter(g=>g.status==="in_progress").length,completed:o.filter(g=>g.status==="completed").length},p=g=>{const v=g==="next"?1:-1;t({start:Jp(e.start,v),end:Jp(e.end,v)})},m=g=>{const v=new Date(g);return rce(v)?"Today":nce(v)?"Tomorrow":at(v,"EEEE, MMM d")};return c?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(Ht,{className:"h-6 w-48"}),l.jsx(Ht,{className:"h-4 w-64"})]}),l.jsx(fe,{className:"space-y-4",children:Array.from({length:3}).map((g,v)=>l.jsx(Ht,{className:"h-32 w-full"},v))})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(At,{className:"w-5 h-5 text-primary"}),"Appointments"]}),l.jsxs(Ie,{children:[at(e.start,"MMM d")," - ",at(e.end,"MMM d, yyyy")]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:" Prev"}),l.jsx(ee,{variant:"outline",size:"sm",onClick:()=>p("next"),children:"Next "}),l.jsx(ee,{variant:"outline",size:"sm",onClick:u,children:l.jsx(Ks,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[l.jsxs(Ce,{variant:"outline",className:"px-3 py-1",children:[l.jsx(Xt,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),l.jsxs(Ce,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[l.jsx(Dr,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),l.jsxs(Ce,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[l.jsx(If,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),l.jsxs(Ce,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),l.jsxs(fe,{children:[l.jsx(kl,{value:i,onValueChange:a,className:"mb-6",children:l.jsxs(oo,{children:[l.jsxs(Dt,{value:"all",children:["All (",h.total,")"]}),l.jsxs(Dt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),l.jsxs(Dt,{value:"pending",children:["Pending (",h.pending,")"]}),l.jsxs(Dt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(At,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),l.jsx("p",{className:"text-sm",children:i!=="all"?`No ${i} appointments for this week`:"No appointments scheduled for this week"})]}):l.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([g],[v])=>g.localeCompare(v)).map(([g,v])=>l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[l.jsx(At,{className:"w-4 h-4"}),m(g),l.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),l.jsx("div",{className:"space-y-3",children:v.map(b=>l.jsx(Yme,{appointment:b,onConfirm:y=>d(y,"confirmed"),onCancel:y=>d(y,"cancelled"),onStart:y=>d(y,"in_progress"),onComplete:y=>d(y,"completed")},b.id))})]},g))})]})]})},Xme=({open:e,onOpenChange:t})=>l.jsx(Hf,{open:e,onOpenChange:t,children:l.jsxs(eu,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(tu,{children:l.jsx(ru,{children:"Manage Appointments"})}),l.jsx(Jme,{})]})}),Qme="",Zme=()=>{const[e,t]=x.useState(!1),r=async()=>{const{data:{session:s}}=await Ne.auth.getSession();return(s==null?void 0:s.access_token)||null},n=async s=>{t(!0);try{const o=await r(),c={"Content-Type":"application/json"};o&&(c.Authorization=`Bearer ${o}`);const u=await fetch(`${Qme}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(s)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(o){return console.error("PDF generation error:",o),ge.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(s,o)=>{const c=await n(s);if(c){const u=atob(c),d=new Array(u.length);for(let g=0;g<u.length;g++)d[g]=u.charCodeAt(g);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),p=window.URL.createObjectURL(h),m=document.createElement("a");return m.href=p,m.download=o||`prescription_${s.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(p),ge.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async s=>{const o=await n(s);if(o){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${o}'></iframe>`),c.document.title=`Prescription - ${s.medication_name}`),!0}return!1}}},$M={active:{label:"Active",variant:"default",icon:Dr,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:Ac,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:If,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:Dr,color:"text-muted-foreground"}},Y_=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:i,clinicianHPCSA:a,patientDOB:s,patientIDNumber:o})=>{const c=$M[e.status]||$M.active,u=c.icon,{loading:d,downloadPDF:f}=Zme(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:s,patient_id_number:o,clinician_name:e.clinician_name||"Clinician",clinician_qualification:i,clinician_hpcsa:a,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return l.jsx(se,{className:"hover:shadow-md transition-shadow",children:l.jsx(fe,{className:"p-3 sm:p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[l.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:l.jsx(Yr,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(Yr,{className:"w-4 h-4 text-primary"})}),l.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),l.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),l.jsxs(Ce,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[l.jsx(u,{className:"w-3 h-3"}),l.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),l.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),l.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),l.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),l.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&l.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:l.jsxs("p",{className:"text-xs sm:text-sm",children:[l.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(At,{className:"w-3 h-3 sm:w-4 sm:h-4"}),at(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Ks,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Xr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Xr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[l.jsxs(ee,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?l.jsx(Lr,{className:"w-4 h-4 animate-spin"}):l.jsx(DJ,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),l.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&l.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[l.jsx(Ac,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},ege=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:i=!1})=>{const{prescriptions:a,loading:s,updatePrescriptionStatus:o,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=Vz(),[d,f]=x.useState(!1),[h,p]=x.useState([]),[m,g]=x.useState(!1);x.useEffect(()=>{(async()=>{if(r){g(!0);const k=await u(r);p(k.prescriptions||[]),g(!1)}else if(e){g(!0);const k=await c(e);p(k.prescriptions||[]),g(!1)}else p(a)})()},[e,r,a,c,u]);const v=async S=>{(await o(S,"cancelled")).success?ge.success("Prescription cancelled"):ge.error("Failed to cancel prescription")},b=h.filter(S=>S.status==="active"),y=h.filter(S=>S.status==="completed"),w=h.filter(S=>S.status==="cancelled"||S.status==="expired");return s||m?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsx(Ht,{className:"h-6 w-40"}),l.jsx(Ht,{className:"h-4 w-60"})]}),l.jsx(fe,{className:"space-y-4",children:[1,2].map(S=>l.jsx(Ht,{className:"h-32 w-full"},S))})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yr,{className:"w-5 h-5 text-primary"}),l.jsx(we,{children:"Prescriptions"})]}),n&&e&&t&&l.jsxs(ee,{size:"sm",onClick:()=>f(!0),children:[l.jsx(Bd,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),l.jsxs(Ie,{children:[h.length," prescription(s)  ",b.length," active"]})]}),l.jsx(fe,{children:l.jsxs(kl,{defaultValue:"active",className:"w-full",children:[l.jsxs(oo,{className:"grid w-full grid-cols-3 mb-4",children:[l.jsxs(Dt,{value:"active",className:"flex items-center gap-2",children:[l.jsx(Xt,{className:"w-4 h-4"}),"Active (",b.length,")"]}),l.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[l.jsx(Dr,{className:"w-4 h-4"}),"Completed (",y.length,")"]}),l.jsxs(Dt,{value:"cancelled",className:"flex items-center gap-2",children:[l.jsx(Ac,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),l.jsx(dr,{value:"active",className:"space-y-4",children:b.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Yr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No active prescriptions"})]}):b.map(S=>l.jsx(Y_,{prescription:S,onCancel:v,showPatient:i},S.id))}),l.jsx(dr,{value:"completed",className:"space-y-4",children:y.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Dr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No completed prescriptions"})]}):y.map(S=>l.jsx(Y_,{prescription:S,showPatient:i},S.id))}),l.jsx(dr,{value:"cancelled",className:"space-y-4",children:w.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ac,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(S=>l.jsx(Y_,{prescription:S,showPatient:i},S.id))})]})}),e&&t&&l.jsx(Wz,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},tge=()=>{const e=kn(),{profile:t,role:r,signOut:n}=Er(),{queue:i,stats:a,loading:s,refetch:o}=Hz(),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,p]=x.useState(!1),[m,g]=x.useState(!1),v=()=>{const _=i.find(k=>k.status==="in_progress");if(_){e(`/consultation?appointment=${_.id}`);return}if(i.find(k=>k.status==="confirmed")){ge.info("Select a patient from the queue below to start their consultation");return}ge.info("No consultations ready. Confirm an appointment first from the queue below.")},b=()=>{ge.info("Select a patient from the queue below to access their clinical notes")},y=r==="doctor"?"Doctor":"Nurse",w=r==="doctor"?"bg-primary":"bg-success";return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[l.jsxs(ee,{variant:"ghost",size:"sm",onClick:o,disabled:s,children:[l.jsx(Ks,{className:`w-4 h-4 mr-2 ${s?"animate-spin":""}`}),"Refresh"]}),l.jsx(Ce,{className:`${w} text-white`,children:y}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:n,children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),l.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[l.jsx(ee,{variant:"ghost",size:"icon",onClick:o,disabled:s,children:l.jsx(Ks,{className:`w-4 h-4 ${s?"animate-spin":""}`})}),l.jsx(Ce,{className:`${w} text-white text-xs`,children:y}),l.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>g(!m),children:m?l.jsx(ao,{className:"w-5 h-5"}):l.jsx(Ym,{className:"w-5 h-5"})})]})]}),m&&l.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:n,className:"justify-start",children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),l.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[l.jsxs("div",{className:"mb-6 sm:mb-8",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),l.jsx("div",{className:"mb-6 sm:mb-8",children:l.jsx($fe,{stats:a,pendingNotes:0})}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:l.jsx(MJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Appointments"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),r==="nurse"&&l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:l.jsx(Ui,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Triage"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:v,children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:l.jsx(qt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Start Call"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:b,children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:l.jsx(Sn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Notes"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:l.jsx(IJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Demo"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),l.jsx(se,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${h?"ring-2 ring-primary":""}`,onClick:()=>p(!h),children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:l.jsx(Yr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Rx"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>u(!0),children:l.jsxs(xe,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[l.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:l.jsx(At,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-sm sm:text-lg",children:"Availability"}),l.jsx(Ie,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),h&&l.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:l.jsx(ege,{showPatient:!0})}),l.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[l.jsx("div",{className:"lg:col-span-2 order-1",children:l.jsx(Qhe,{})}),l.jsx("div",{className:"order-2",children:l.jsx(epe,{todayAppointments:i})})]}),l.jsx(spe,{open:c,onOpenChange:u}),l.jsx(Xme,{open:d,onOpenChange:f})]})]})},rge="",nge=(e=30)=>{const[t,r]=x.useState(null),[n,i]=x.useState(!0),[a,s]=x.useState(null),o=x.useCallback(async()=>{i(!0),s(null);try{const c=await fetch(`${rge}/api/analytics/dashboard?days=${e}`);if(!c.ok)throw new Error("Failed to fetch analytics");const u=await c.json();r(u)}catch(c){console.error("Analytics fetch error:",c),s(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{i(!1)}},[e]);return x.useEffect(()=>{o()},[o]),{data:t,loading:n,error:a,refetch:o}},ige=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:Si,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:At,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:qt,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Yr,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:Tp,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:Xt,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>l.jsx(se,{className:"hover:shadow-md transition-shadow",children:l.jsxs(fe,{className:"pt-4 pb-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:l.jsx(r.icon,{className:"w-4 h-4"})})}),l.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),l.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var age=Array.isArray,ei=age,sge=typeof Ng=="object"&&Ng&&Ng.Object===Object&&Ng,hW=sge,oge=hW,lge=typeof self=="object"&&self&&self.Object===Object&&self,cge=oge||lge||Function("return this")(),ms=cge,uge=ms,dge=uge.Symbol,dg=dge,IM=dg,pW=Object.prototype,fge=pW.hasOwnProperty,hge=pW.toString,_h=IM?IM.toStringTag:void 0;function pge(e){var t=fge.call(e,_h),r=e[_h];try{e[_h]=void 0;var n=!0}catch{}var i=hge.call(e);return n&&(t?e[_h]=r:delete e[_h]),i}var mge=pge,gge=Object.prototype,vge=gge.toString;function yge(e){return vge.call(e)}var xge=yge,RM=dg,bge=mge,wge=xge,_ge="[object Null]",Sge="[object Undefined]",DM=RM?RM.toStringTag:void 0;function jge(e){return e==null?e===void 0?Sge:_ge:DM&&DM in Object(e)?bge(e):wge(e)}var co=jge;function kge(e){return e!=null&&typeof e=="object"}var uo=kge,Nge=co,Cge=uo,Ege="[object Symbol]";function Oge(e){return typeof e=="symbol"||Cge(e)&&Nge(e)==Ege}var qf=Oge,Pge=ei,Age=qf,Tge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mge=/^\w*$/;function $ge(e,t){if(Pge(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Age(e)?!0:Mge.test(e)||!Tge.test(e)||t!=null&&e in Object(t)}var pO=$ge;function Ige(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cl=Ige;const Gf=bt(Cl);var Rge=co,Dge=Cl,Lge="[object AsyncFunction]",Fge="[object Function]",Bge="[object GeneratorFunction]",Uge="[object Proxy]";function zge(e){if(!Dge(e))return!1;var t=Rge(e);return t==Fge||t==Bge||t==Lge||t==Uge}var mO=zge;const Fe=bt(mO);var Vge=ms,Wge=Vge["__core-js_shared__"],Hge=Wge,J_=Hge,LM=function(){var e=/[^.]+$/.exec(J_&&J_.keys&&J_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qge(e){return!!LM&&LM in e}var Gge=qge,Kge=Function.prototype,Yge=Kge.toString;function Jge(e){if(e!=null){try{return Yge.call(e)}catch{}try{return e+""}catch{}}return""}var mW=Jge,Xge=mO,Qge=Gge,Zge=Cl,eve=mW,tve=/[\\^$.*+?()[\]{}|]/g,rve=/^\[object .+?Constructor\]$/,nve=Function.prototype,ive=Object.prototype,ave=nve.toString,sve=ive.hasOwnProperty,ove=RegExp("^"+ave.call(sve).replace(tve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lve(e){if(!Zge(e)||Qge(e))return!1;var t=Xge(e)?ove:rve;return t.test(eve(e))}var cve=lve;function uve(e,t){return e==null?void 0:e[t]}var dve=uve,fve=cve,hve=dve;function pve(e,t){var r=hve(e,t);return fve(r)?r:void 0}var au=pve,mve=au,gve=mve(Object,"create"),O0=gve,FM=O0;function vve(){this.__data__=FM?FM(null):{},this.size=0}var yve=vve;function xve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var bve=xve,wve=O0,_ve="__lodash_hash_undefined__",Sve=Object.prototype,jve=Sve.hasOwnProperty;function kve(e){var t=this.__data__;if(wve){var r=t[e];return r===_ve?void 0:r}return jve.call(t,e)?t[e]:void 0}var Nve=kve,Cve=O0,Eve=Object.prototype,Ove=Eve.hasOwnProperty;function Pve(e){var t=this.__data__;return Cve?t[e]!==void 0:Ove.call(t,e)}var Ave=Pve,Tve=O0,Mve="__lodash_hash_undefined__";function $ve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tve&&t===void 0?Mve:t,this}var Ive=$ve,Rve=yve,Dve=bve,Lve=Nve,Fve=Ave,Bve=Ive;function Kf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kf.prototype.clear=Rve;Kf.prototype.delete=Dve;Kf.prototype.get=Lve;Kf.prototype.has=Fve;Kf.prototype.set=Bve;var Uve=Kf;function zve(){this.__data__=[],this.size=0}var Vve=zve;function Wve(e,t){return e===t||e!==e&&t!==t}var gO=Wve,Hve=gO;function qve(e,t){for(var r=e.length;r--;)if(Hve(e[r][0],t))return r;return-1}var P0=qve,Gve=P0,Kve=Array.prototype,Yve=Kve.splice;function Jve(e){var t=this.__data__,r=Gve(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Yve.call(t,r,1),--this.size,!0}var Xve=Jve,Qve=P0;function Zve(e){var t=this.__data__,r=Qve(t,e);return r<0?void 0:t[r][1]}var eye=Zve,tye=P0;function rye(e){return tye(this.__data__,e)>-1}var nye=rye,iye=P0;function aye(e,t){var r=this.__data__,n=iye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sye=aye,oye=Vve,lye=Xve,cye=eye,uye=nye,dye=sye;function Yf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yf.prototype.clear=oye;Yf.prototype.delete=lye;Yf.prototype.get=cye;Yf.prototype.has=uye;Yf.prototype.set=dye;var A0=Yf,fye=au,hye=ms,pye=fye(hye,"Map"),vO=pye,BM=Uve,mye=A0,gye=vO;function vye(){this.size=0,this.__data__={hash:new BM,map:new(gye||mye),string:new BM}}var yye=vye;function xye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var bye=xye,wye=bye;function _ye(e,t){var r=e.__data__;return wye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var T0=_ye,Sye=T0;function jye(e){var t=Sye(this,e).delete(e);return this.size-=t?1:0,t}var kye=jye,Nye=T0;function Cye(e){return Nye(this,e).get(e)}var Eye=Cye,Oye=T0;function Pye(e){return Oye(this,e).has(e)}var Aye=Pye,Tye=T0;function Mye(e,t){var r=Tye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var $ye=Mye,Iye=yye,Rye=kye,Dye=Eye,Lye=Aye,Fye=$ye;function Jf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Jf.prototype.clear=Iye;Jf.prototype.delete=Rye;Jf.prototype.get=Dye;Jf.prototype.has=Lye;Jf.prototype.set=Fye;var yO=Jf,gW=yO,Bye="Expected a function";function xO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Bye);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(xO.Cache||gW),r}xO.Cache=gW;var vW=xO;const Uye=bt(vW);var zye=vW,Vye=500;function Wye(e){var t=zye(e,function(n){return r.size===Vye&&r.clear(),n}),r=t.cache;return t}var Hye=Wye,qye=Hye,Gye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kye=/\\(\\)?/g,Yye=qye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gye,function(r,n,i,a){t.push(i?a.replace(Kye,"$1"):n||r)}),t}),Jye=Yye;function Xye(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var bO=Xye,UM=dg,Qye=bO,Zye=ei,exe=qf,zM=UM?UM.prototype:void 0,VM=zM?zM.toString:void 0;function yW(e){if(typeof e=="string")return e;if(Zye(e))return Qye(e,yW)+"";if(exe(e))return VM?VM.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var txe=yW,rxe=txe;function nxe(e){return e==null?"":rxe(e)}var xW=nxe,ixe=ei,axe=pO,sxe=Jye,oxe=xW;function lxe(e,t){return ixe(e)?e:axe(e,t)?[e]:sxe(oxe(e))}var bW=lxe,cxe=qf;function uxe(e){if(typeof e=="string"||cxe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var M0=uxe,dxe=bW,fxe=M0;function hxe(e,t){t=dxe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[fxe(t[r++])];return r&&r==n?e:void 0}var wO=hxe,pxe=wO;function mxe(e,t,r){var n=e==null?void 0:pxe(e,t);return n===void 0?r:n}var wW=mxe;const xi=bt(wW);function gxe(e){return e==null}var vxe=gxe;const He=bt(vxe);var yxe=co,xxe=ei,bxe=uo,wxe="[object String]";function _xe(e){return typeof e=="string"||!xxe(e)&&bxe(e)&&yxe(e)==wxe}var Sxe=_xe;const Lc=bt(Sxe);var _W={exports:{}},kt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O=Symbol.for("react.element"),SO=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),I0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),D0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),jxe=Symbol.for("react.server_context"),F0=Symbol.for("react.forward_ref"),B0=Symbol.for("react.suspense"),U0=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),kxe=Symbol.for("react.offscreen"),SW;SW=Symbol.for("react.module.reference");function Ji(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _O:switch(e=e.type,e){case $0:case R0:case I0:case B0:case U0:return e;default:switch(e=e&&e.$$typeof,e){case jxe:case L0:case F0:case V0:case z0:case D0:return e;default:return t}}case SO:return t}}}kt.ContextConsumer=L0;kt.ContextProvider=D0;kt.Element=_O;kt.ForwardRef=F0;kt.Fragment=$0;kt.Lazy=V0;kt.Memo=z0;kt.Portal=SO;kt.Profiler=R0;kt.StrictMode=I0;kt.Suspense=B0;kt.SuspenseList=U0;kt.isAsyncMode=function(){return!1};kt.isConcurrentMode=function(){return!1};kt.isContextConsumer=function(e){return Ji(e)===L0};kt.isContextProvider=function(e){return Ji(e)===D0};kt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_O};kt.isForwardRef=function(e){return Ji(e)===F0};kt.isFragment=function(e){return Ji(e)===$0};kt.isLazy=function(e){return Ji(e)===V0};kt.isMemo=function(e){return Ji(e)===z0};kt.isPortal=function(e){return Ji(e)===SO};kt.isProfiler=function(e){return Ji(e)===R0};kt.isStrictMode=function(e){return Ji(e)===I0};kt.isSuspense=function(e){return Ji(e)===B0};kt.isSuspenseList=function(e){return Ji(e)===U0};kt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$0||e===R0||e===I0||e===B0||e===U0||e===kxe||typeof e=="object"&&e!==null&&(e.$$typeof===V0||e.$$typeof===z0||e.$$typeof===D0||e.$$typeof===L0||e.$$typeof===F0||e.$$typeof===SW||e.getModuleId!==void 0)};kt.typeOf=Ji;_W.exports=kt;var Nxe=_W.exports,Cxe=co,Exe=uo,Oxe="[object Number]";function Pxe(e){return typeof e=="number"||Exe(e)&&Cxe(e)==Oxe}var jW=Pxe;const Axe=bt(jW);var Txe=jW;function Mxe(e){return Txe(e)&&e!=+e}var $xe=Mxe;const Xf=bt($xe);var In=function(t){return t===0?0:t>0?1:-1},sc=function(t){return Lc(t)&&t.indexOf("%")===t.length-1},le=function(t){return Axe(t)&&!Xf(t)},Ixe=function(t){return He(t)},Rr=function(t){return le(t)||Lc(t)},Rxe=0,su=function(t){var r=++Rxe;return"".concat(t||"").concat(r)},Rn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(t)&&!Lc(t))return n;var a;if(sc(t)){var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return Xf(a)&&(a=n),i&&a>r&&(a=r),a},Do=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Dxe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},$r=function(t,r){return le(t)&&le(r)?function(n){return t+n*(r-t)}:function(){return r}};function cx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):xi(n,t))===r})}var Lxe=function(t,r){return le(t)&&le(r)?t-r:Lc(t)&&Lc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function vd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Fj(e){"@babel/helpers - typeof";return Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fj(e)}var Fxe=["viewBox","children"],Bxe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WM=["points","pathLength"],X_={svg:Fxe,polygon:WM,polyline:WM},jO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ux=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Gf(n))return null;var i={};return Object.keys(n).forEach(function(a){jO.includes(a)&&(i[a]=r||function(s){return n[a](n,s)})}),i},Uxe=function(t,r,n){return function(i){return t(r,n,i),null}},Fc=function(t,r,n){if(!Gf(t)||Fj(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var s=t[a];jO.includes(a)&&typeof s=="function"&&(i||(i={}),i[a]=Uxe(s,r,n))}),i},zxe=["children"],Vxe=["children"];function HM(e,t){if(e==null)return{};var r=Wxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bj(e){"@babel/helpers - typeof";return Bj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bj(e)}var qM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bs=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GM=null,Q_=null,kO=function e(t){if(t===GM&&Array.isArray(Q_))return Q_;var r=[];return x.Children.forEach(t,function(n){He(n)||(Nxe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Q_=r,GM=t,r};function bi(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Bs(i)}):n=[Bs(t)],kO(e).forEach(function(i){var a=xi(i,"type.displayName")||xi(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function oi(e,t){var r=bi(e,t);return r&&r[0]}var KM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!le(n)||n<=0||!le(i)||i<=0)},Hxe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qxe=function(t){return t&&t.type&&Lc(t.type)&&Hxe.indexOf(t.type)>=0},kW=function(t){return t&&Bj(t)==="object"&&"clipDot"in t},Gxe=function(t,r,n,i){var a,s=(a=X_==null?void 0:X_[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Fe(t)&&(i&&s.includes(r)||Bxe.includes(r))||n&&jO.includes(r)},Me=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!Gf(i))return null;var a={};return Object.keys(i).forEach(function(s){var o;Gxe((o=i)===null||o===void 0?void 0:o[s],s,r,n)&&(a[s]=i[s])}),a},Uj=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return YM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!YM(a,s))return!1}return!0},YM=function(t,r){if(He(t)&&He(r))return!0;if(!He(t)&&!He(r)){var n=t.props||{},i=n.children,a=HM(n,zxe),s=r.props||{},o=s.children,c=HM(s,Vxe);return i&&o?vd(a,c)&&Uj(i,o):!i&&!o?vd(a,c):!1}return!1},JM=function(t,r){var n=[],i={};return kO(t).forEach(function(a,s){if(qxe(a))n.push(a);else if(a){var o=Bs(a.type),c=r[o]||{},u=c.handler,d=c.once;if(u&&(!d||!i[o])){var f=u(a,o,s);n.push(f),i[o]=!0}}}),n},Kxe=function(t){var r=t&&t.type;return r&&qM[r]?qM[r]:null},Yxe=function(t,r){return kO(r).indexOf(t)},Jxe=["children","width","height","viewBox","className","style","title","desc"];function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zj.apply(this,arguments)}function Xxe(e,t){if(e==null)return{};var r=Qxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vj(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,s=e.style,o=e.title,c=e.desc,u=Xxe(e,Jxe),d=i||{width:r,height:n,x:0,y:0},f=qe("recharts-surface",a);return A.createElement("svg",zj({},Me(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),A.createElement("title",null,o),A.createElement("desc",null,c),t)}var Zxe=["children","className"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wj.apply(this,arguments)}function ebe(e,t){if(e==null)return{};var r=tbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var it=A.forwardRef(function(e,t){var r=e.children,n=e.className,i=ebe(e,Zxe),a=qe("recharts-layer",n);return A.createElement("g",Wj({className:a},Me(i,!0),{ref:t}),r)}),ka=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function rbe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var nbe=rbe,ibe=nbe;function abe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:ibe(e,t,r)}var sbe=abe,obe="\\ud800-\\udfff",lbe="\\u0300-\\u036f",cbe="\\ufe20-\\ufe2f",ube="\\u20d0-\\u20ff",dbe=lbe+cbe+ube,fbe="\\ufe0e\\ufe0f",hbe="\\u200d",pbe=RegExp("["+hbe+obe+dbe+fbe+"]");function mbe(e){return pbe.test(e)}var NW=mbe;function gbe(e){return e.split("")}var vbe=gbe,CW="\\ud800-\\udfff",ybe="\\u0300-\\u036f",xbe="\\ufe20-\\ufe2f",bbe="\\u20d0-\\u20ff",wbe=ybe+xbe+bbe,_be="\\ufe0e\\ufe0f",Sbe="["+CW+"]",Hj="["+wbe+"]",qj="\\ud83c[\\udffb-\\udfff]",jbe="(?:"+Hj+"|"+qj+")",EW="[^"+CW+"]",OW="(?:\\ud83c[\\udde6-\\uddff]){2}",PW="[\\ud800-\\udbff][\\udc00-\\udfff]",kbe="\\u200d",AW=jbe+"?",TW="["+_be+"]?",Nbe="(?:"+kbe+"(?:"+[EW,OW,PW].join("|")+")"+TW+AW+")*",Cbe=TW+AW+Nbe,Ebe="(?:"+[EW+Hj+"?",Hj,OW,PW,Sbe].join("|")+")",Obe=RegExp(qj+"(?="+qj+")|"+Ebe+Cbe,"g");function Pbe(e){return e.match(Obe)||[]}var Abe=Pbe,Tbe=vbe,Mbe=NW,$be=Abe;function Ibe(e){return Mbe(e)?$be(e):Tbe(e)}var Rbe=Ibe,Dbe=sbe,Lbe=NW,Fbe=Rbe,Bbe=xW;function Ube(e){return function(t){t=Bbe(t);var r=Lbe(t)?Fbe(t):void 0,n=r?r[0]:t.charAt(0),i=r?Dbe(r,1).join(""):t.slice(1);return n[e]()+i}}var zbe=Ube,Vbe=zbe,Wbe=Vbe("toUpperCase"),Hbe=Wbe;const W0=bt(Hbe);function It(e){return function(){return e}}const MW=Math.cos,dx=Math.sin,Da=Math.sqrt,fx=Math.PI,H0=2*fx,Gj=Math.PI,Kj=2*Gj,Kl=1e-6,qbe=Kj-Kl;function $W(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Gbe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $W;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Kbe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$W:Gbe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-t,u=i-r,d=s-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Kl)if(!(Math.abs(f*c-u*d)>Kl)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=i-o,g=c*c+u*u,v=p*p+m*m,b=Math.sqrt(g),y=Math.sqrt(h),w=a*Math.tan((Gj-Math.acos((g+h-v)/(2*b*y)))/2),_=w/y,S=w/b;Math.abs(_-1)>Kl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${a},${a},0,0,${+(f*p>d*m)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),u=t+o,d=r+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Kl||Math.abs(this._y1-d)>Kl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Kj+Kj),h>qbe?this._append`A${n},${n},0,1,${f},${t-o},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Kl&&this._append`A${n},${n},0,${+(h>=Gj)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function NO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Kbe(t)}function CO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function q0(e){return new IW(e)}function RW(e){return e[0]}function DW(e){return e[1]}function LW(e,t){var r=It(!0),n=null,i=q0,a=null,s=NO(o);e=typeof e=="function"?e:e===void 0?RW:It(e),t=typeof t=="function"?t:t===void 0?DW:It(t);function o(c){var u,d=(c=CO(c)).length,f,h=!1,p;for(n==null&&(a=i(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(p)return a=null,p+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:It(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function sv(e,t,r){var n=null,i=It(!0),a=null,s=q0,o=null,c=NO(u);e=typeof e=="function"?e:e===void 0?RW:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?DW:It(+r);function u(f){var h,p,m,g=(f=CO(f)).length,v,b=!1,y,w=new Array(g),_=new Array(g);for(a==null&&(o=s(y=c())),h=0;h<=g;++h){if(!(h<g&&i(v=f[h],h,f))===b)if(b=!b)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(w[m],_[m]);o.lineEnd(),o.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(y)return o=null,y+""||null}function d(){return LW().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:It(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:It(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:It(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class FW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ybe(e){return new FW(e,!0)}function Jbe(e){return new FW(e,!1)}const EO={draw(e,t){const r=Da(t/fx);e.moveTo(r,0),e.arc(0,0,r,0,H0)}},Xbe={draw(e,t){const r=Da(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},BW=Da(1/3),Qbe=BW*2,Zbe={draw(e,t){const r=Da(t/Qbe),n=r*BW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},e0e={draw(e,t){const r=Da(t),n=-r/2;e.rect(n,n,r,r)}},t0e=.8908130915292852,UW=dx(fx/10)/dx(7*fx/10),r0e=dx(H0/10)*UW,n0e=-MW(H0/10)*UW,i0e={draw(e,t){const r=Da(t*t0e),n=r0e*r,i=n0e*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=H0*a/5,o=MW(s),c=dx(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*i,c*n+o*i)}e.closePath()}},Z_=Da(3),a0e={draw(e,t){const r=-Da(t/(Z_*3));e.moveTo(0,r*2),e.lineTo(-Z_*r,-r),e.lineTo(Z_*r,-r),e.closePath()}},Oi=-.5,Pi=Da(3)/2,Yj=1/Da(12),s0e=(Yj/2+1)*3,o0e={draw(e,t){const r=Da(t/s0e),n=r/2,i=r*Yj,a=n,s=r*Yj+r,o=-a,c=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(Oi*n-Pi*i,Pi*n+Oi*i),e.lineTo(Oi*a-Pi*s,Pi*a+Oi*s),e.lineTo(Oi*o-Pi*c,Pi*o+Oi*c),e.lineTo(Oi*n+Pi*i,Oi*i-Pi*n),e.lineTo(Oi*a+Pi*s,Oi*s-Pi*a),e.lineTo(Oi*o+Pi*c,Oi*c-Pi*o),e.closePath()}};function l0e(e,t){let r=null,n=NO(i);e=typeof e=="function"?e:It(e||EO),t=typeof t=="function"?t:It(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:It(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:It(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function hx(){}function px(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function zW(e){this._context=e}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:px(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c0e(e){return new zW(e)}function VW(e){this._context=e}VW.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u0e(e){return new VW(e)}function WW(e){this._context=e}WW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:px(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d0e(e){return new WW(e)}function HW(e){this._context=e}HW.prototype={areaStart:hx,areaEnd:hx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f0e(e){return new HW(e)}function XM(e){return e<0?-1:1}function QM(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(XM(a)+XM(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function ZM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function e1(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function mx(e){this._context=e}mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e1(this,this._t0,ZM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e1(this,ZM(this,r=QM(this,e,t)),r);break;default:e1(this,this._t0,r=QM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function qW(e){this._context=new GW(e)}(qW.prototype=Object.create(mx.prototype)).point=function(e,t){mx.prototype.point.call(this,t,e)};function GW(e){this._context=e}GW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function h0e(e){return new mx(e)}function p0e(e){return new qW(e)}function KW(e){this._context=e}KW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=e$(e),i=e$(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function e$(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function m0e(e){return new KW(e)}function G0(e,t){this._context=e,this._t=t}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function g0e(e){return new G0(e,.5)}function v0e(e){return new G0(e,0)}function y0e(e){return new G0(e,1)}function Qd(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Jj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function x0e(e,t){return e[t]}function b0e(e){const t=[];return t.key=e,t}function w0e(){var e=It([]),t=Jj,r=Qd,n=x0e;function i(a){var s=Array.from(e.apply(this,arguments),b0e),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(f,s[o].key,u,a)]).data=f;for(o=0,d=CO(t(s));o<c;++o)s[d[o]].index=o;return r(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:It(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:It(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Jj:typeof a=="function"?a:It(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Qd,i):r},i}function _0e(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Qd(e,t)}}function S0e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Qd(e,t)}}function j0e(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],v=g[n][1]||0,b=g[n-1][1]||0;p+=v-b}c+=f,u+=p*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Qd(e,t)}}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}var k0e=["type","size","sizeType"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xj.apply(this,arguments)}function t$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function r$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t$(Object(r),!0).forEach(function(n){N0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t,r){return t=C0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C0e(e){var t=E0e(e,"string");return nm(t)=="symbol"?t:t+""}function E0e(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O0e(e,t){if(e==null)return{};var r=P0e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YW={symbolCircle:EO,symbolCross:Xbe,symbolDiamond:Zbe,symbolSquare:e0e,symbolStar:i0e,symbolTriangle:a0e,symbolWye:o0e},A0e=Math.PI/180,T0e=function(t){var r="symbol".concat(W0(t));return YW[r]||EO},M0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*A0e;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$0e=function(t,r){YW["symbol".concat(W0(t))]=r},OO=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,s=t.sizeType,o=s===void 0?"area":s,c=O0e(t,k0e),u=r$(r$({},c),{},{type:n,size:a,sizeType:o}),d=function(){var v=T0e(n),b=l0e().type(v).size(M0e(a,o,n));return b()},f=u.className,h=u.cx,p=u.cy,m=Me(u,!0);return h===+h&&p===+p&&a===+a?A.createElement("path",Xj({},m,{className:qe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};OO.registerSymbol=$0e;function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(this,arguments)}function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){im(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function L0e(e,t,r){return t&&D0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F0e(e,t,r){return t=gx(t),B0e(e,JW()?Reflect.construct(t,r||[],gx(e).constructor):t.apply(e,r))}function B0e(e,t){if(t&&(Zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U0e(e)}function U0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!e})()}function gx(e){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gx(e)}function z0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zj(e,t)}function Zj(e,t){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Zj(e,t)}function im(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=V0e(e,"string");return Zd(t)=="symbol"?t:t+""}function V0e(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ai=32,PO=function(e){function t(){return R0e(this,t),F0e(this,t,arguments)}return z0e(t,e),L0e(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Ai/2,s=Ai/6,o=Ai/3,c=n.inactive?i:n.color;if(n.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Ai,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Ai,"M").concat(2*o,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return A.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ai/8,"h").concat(Ai,"v").concat(Ai*3/4,"h").concat(-Ai,"z"),className:"recharts-legend-icon"});if(A.isValidElement(n.legendIcon)){var u=I0e({},n);return delete u.legendIcon,A.cloneElement(n.legendIcon,u)}return A.createElement(OO,{fill:c,cx:a,cy:a,size:Ai,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,s=i.iconSize,o=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ai,height:Ai},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,m){var g=p.formatter||c,v=qe(im(im({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=Fe(p.value)?null:p.value;ka(!Fe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return A.createElement("li",Qj({className:v,style:f,key:"legend-item-".concat(m)},Fc(n.props,p,m)),A.createElement(Vj,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},g?g(b,p,m):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,s=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:a==="horizontal"?s:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(x.PureComponent);im(PO,"displayName","Legend");im(PO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var W0e=A0;function H0e(){this.__data__=new W0e,this.size=0}var q0e=H0e;function G0e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var K0e=G0e;function Y0e(e){return this.__data__.get(e)}var J0e=Y0e;function X0e(e){return this.__data__.has(e)}var Q0e=X0e,Z0e=A0,ewe=vO,twe=yO,rwe=200;function nwe(e,t){var r=this.__data__;if(r instanceof Z0e){var n=r.__data__;if(!ewe||n.length<rwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new twe(n)}return r.set(e,t),this.size=r.size,this}var iwe=nwe,awe=A0,swe=q0e,owe=K0e,lwe=J0e,cwe=Q0e,uwe=iwe;function Qf(e){var t=this.__data__=new awe(e);this.size=t.size}Qf.prototype.clear=swe;Qf.prototype.delete=owe;Qf.prototype.get=lwe;Qf.prototype.has=cwe;Qf.prototype.set=uwe;var QW=Qf,dwe="__lodash_hash_undefined__";function fwe(e){return this.__data__.set(e,dwe),this}var hwe=fwe;function pwe(e){return this.__data__.has(e)}var mwe=pwe,gwe=yO,vwe=hwe,ywe=mwe;function vx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gwe;++t<r;)this.add(e[t])}vx.prototype.add=vx.prototype.push=vwe;vx.prototype.has=ywe;var ZW=vx;function xwe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var e9=xwe;function bwe(e,t){return e.has(t)}var t9=bwe,wwe=ZW,_we=e9,Swe=t9,jwe=1,kwe=2;function Nwe(e,t,r,n,i,a){var s=r&jwe,o=e.length,c=t.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&kwe?new wwe:void 0;for(a.set(e,t),a.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var v=s?n(g,m,f,t,e,a):n(m,g,f,e,t,a);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!_we(t,function(b,y){if(!Swe(p,y)&&(m===b||i(m,b,r,n,a)))return p.push(y)})){h=!1;break}}else if(!(m===g||i(m,g,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var r9=Nwe,Cwe=ms,Ewe=Cwe.Uint8Array,Owe=Ewe;function Pwe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Awe=Pwe;function Twe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var AO=Twe,i$=dg,a$=Owe,Mwe=gO,$we=r9,Iwe=Awe,Rwe=AO,Dwe=1,Lwe=2,Fwe="[object Boolean]",Bwe="[object Date]",Uwe="[object Error]",zwe="[object Map]",Vwe="[object Number]",Wwe="[object RegExp]",Hwe="[object Set]",qwe="[object String]",Gwe="[object Symbol]",Kwe="[object ArrayBuffer]",Ywe="[object DataView]",s$=i$?i$.prototype:void 0,t1=s$?s$.valueOf:void 0;function Jwe(e,t,r,n,i,a,s){switch(r){case Ywe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Kwe:return!(e.byteLength!=t.byteLength||!a(new a$(e),new a$(t)));case Fwe:case Bwe:case Vwe:return Mwe(+e,+t);case Uwe:return e.name==t.name&&e.message==t.message;case Wwe:case qwe:return e==t+"";case zwe:var o=Iwe;case Hwe:var c=n&Dwe;if(o||(o=Rwe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=Lwe,s.set(e,t);var d=$we(o(e),o(t),n,i,a,s);return s.delete(e),d;case Gwe:if(t1)return t1.call(e)==t1.call(t)}return!1}var Xwe=Jwe;function Qwe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var n9=Qwe,Zwe=n9,e_e=ei;function t_e(e,t,r){var n=t(e);return e_e(e)?n:Zwe(n,r(e))}var r_e=t_e;function n_e(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}var i_e=n_e;function a_e(){return[]}var s_e=a_e,o_e=i_e,l_e=s_e,c_e=Object.prototype,u_e=c_e.propertyIsEnumerable,o$=Object.getOwnPropertySymbols,d_e=o$?function(e){return e==null?[]:(e=Object(e),o_e(o$(e),function(t){return u_e.call(e,t)}))}:l_e,f_e=d_e;function h_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var p_e=h_e,m_e=co,g_e=uo,v_e="[object Arguments]";function y_e(e){return g_e(e)&&m_e(e)==v_e}var x_e=y_e,l$=x_e,b_e=uo,i9=Object.prototype,w_e=i9.hasOwnProperty,__e=i9.propertyIsEnumerable,S_e=l$(function(){return arguments}())?l$:function(e){return b_e(e)&&w_e.call(e,"callee")&&!__e.call(e,"callee")},TO=S_e,yx={exports:{}};function j_e(){return!1}var k_e=j_e;yx.exports;(function(e,t){var r=ms,n=k_e,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||n;e.exports=u})(yx,yx.exports);var a9=yx.exports,N_e=9007199254740991,C_e=/^(?:0|[1-9]\d*)$/;function E_e(e,t){var r=typeof e;return t=t??N_e,!!t&&(r=="number"||r!="symbol"&&C_e.test(e))&&e>-1&&e%1==0&&e<t}var MO=E_e,O_e=9007199254740991;function P_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=O_e}var $O=P_e,A_e=co,T_e=$O,M_e=uo,$_e="[object Arguments]",I_e="[object Array]",R_e="[object Boolean]",D_e="[object Date]",L_e="[object Error]",F_e="[object Function]",B_e="[object Map]",U_e="[object Number]",z_e="[object Object]",V_e="[object RegExp]",W_e="[object Set]",H_e="[object String]",q_e="[object WeakMap]",G_e="[object ArrayBuffer]",K_e="[object DataView]",Y_e="[object Float32Array]",J_e="[object Float64Array]",X_e="[object Int8Array]",Q_e="[object Int16Array]",Z_e="[object Int32Array]",e1e="[object Uint8Array]",t1e="[object Uint8ClampedArray]",r1e="[object Uint16Array]",n1e="[object Uint32Array]",zt={};zt[Y_e]=zt[J_e]=zt[X_e]=zt[Q_e]=zt[Z_e]=zt[e1e]=zt[t1e]=zt[r1e]=zt[n1e]=!0;zt[$_e]=zt[I_e]=zt[G_e]=zt[R_e]=zt[K_e]=zt[D_e]=zt[L_e]=zt[F_e]=zt[B_e]=zt[U_e]=zt[z_e]=zt[V_e]=zt[W_e]=zt[H_e]=zt[q_e]=!1;function i1e(e){return M_e(e)&&T_e(e.length)&&!!zt[A_e(e)]}var a1e=i1e;function s1e(e){return function(t){return e(t)}}var s9=s1e,xx={exports:{}};xx.exports;(function(e,t){var r=hW,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(xx,xx.exports);var o1e=xx.exports,l1e=a1e,c1e=s9,c$=o1e,u$=c$&&c$.isTypedArray,u1e=u$?c1e(u$):l1e,o9=u1e,d1e=p_e,f1e=TO,h1e=ei,p1e=a9,m1e=MO,g1e=o9,v1e=Object.prototype,y1e=v1e.hasOwnProperty;function x1e(e,t){var r=h1e(e),n=!r&&f1e(e),i=!r&&!n&&p1e(e),a=!r&&!n&&!i&&g1e(e),s=r||n||i||a,o=s?d1e(e.length,String):[],c=o.length;for(var u in e)(t||y1e.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||m1e(u,c)))&&o.push(u);return o}var b1e=x1e,w1e=Object.prototype;function _1e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||w1e;return e===r}var S1e=_1e;function j1e(e,t){return function(r){return e(t(r))}}var l9=j1e,k1e=l9,N1e=k1e(Object.keys,Object),C1e=N1e,E1e=S1e,O1e=C1e,P1e=Object.prototype,A1e=P1e.hasOwnProperty;function T1e(e){if(!E1e(e))return O1e(e);var t=[];for(var r in Object(e))A1e.call(e,r)&&r!="constructor"&&t.push(r);return t}var M1e=T1e,$1e=mO,I1e=$O;function R1e(e){return e!=null&&I1e(e.length)&&!$1e(e)}var fg=R1e,D1e=b1e,L1e=M1e,F1e=fg;function B1e(e){return F1e(e)?D1e(e):L1e(e)}var K0=B1e,U1e=r_e,z1e=f_e,V1e=K0;function W1e(e){return U1e(e,V1e,z1e)}var H1e=W1e,d$=H1e,q1e=1,G1e=Object.prototype,K1e=G1e.hasOwnProperty;function Y1e(e,t,r,n,i,a){var s=r&q1e,o=d$(e),c=o.length,u=d$(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=o[f];if(!(s?h in t:K1e.call(t,h)))return!1}var p=a.get(e),m=a.get(t);if(p&&m)return p==t&&m==e;var g=!0;a.set(e,t),a.set(t,e);for(var v=s;++f<c;){h=o[f];var b=e[h],y=t[h];if(n)var w=s?n(y,b,h,t,e,a):n(b,y,h,e,t,a);if(!(w===void 0?b===y||i(b,y,r,n,a):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return a.delete(e),a.delete(t),g}var J1e=Y1e,X1e=au,Q1e=ms,Z1e=X1e(Q1e,"DataView"),eSe=Z1e,tSe=au,rSe=ms,nSe=tSe(rSe,"Promise"),iSe=nSe,aSe=au,sSe=ms,oSe=aSe(sSe,"Set"),c9=oSe,lSe=au,cSe=ms,uSe=lSe(cSe,"WeakMap"),dSe=uSe,ek=eSe,tk=vO,rk=iSe,nk=c9,ik=dSe,u9=co,Zf=mW,f$="[object Map]",fSe="[object Object]",h$="[object Promise]",p$="[object Set]",m$="[object WeakMap]",g$="[object DataView]",hSe=Zf(ek),pSe=Zf(tk),mSe=Zf(rk),gSe=Zf(nk),vSe=Zf(ik),Yl=u9;(ek&&Yl(new ek(new ArrayBuffer(1)))!=g$||tk&&Yl(new tk)!=f$||rk&&Yl(rk.resolve())!=h$||nk&&Yl(new nk)!=p$||ik&&Yl(new ik)!=m$)&&(Yl=function(e){var t=u9(e),r=t==fSe?e.constructor:void 0,n=r?Zf(r):"";if(n)switch(n){case hSe:return g$;case pSe:return f$;case mSe:return h$;case gSe:return p$;case vSe:return m$}return t});var ySe=Yl,r1=QW,xSe=r9,bSe=Xwe,wSe=J1e,v$=ySe,y$=ei,x$=a9,_Se=o9,SSe=1,b$="[object Arguments]",w$="[object Array]",ov="[object Object]",jSe=Object.prototype,_$=jSe.hasOwnProperty;function kSe(e,t,r,n,i,a){var s=y$(e),o=y$(t),c=s?w$:v$(e),u=o?w$:v$(t);c=c==b$?ov:c,u=u==b$?ov:u;var d=c==ov,f=u==ov,h=c==u;if(h&&x$(e)){if(!x$(t))return!1;s=!0,d=!1}if(h&&!d)return a||(a=new r1),s||_Se(e)?xSe(e,t,r,n,i,a):bSe(e,t,c,r,n,i,a);if(!(r&SSe)){var p=d&&_$.call(e,"__wrapped__"),m=f&&_$.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return a||(a=new r1),i(g,v,r,n,a)}}return h?(a||(a=new r1),wSe(e,t,r,n,i,a)):!1}var NSe=kSe,CSe=NSe,S$=uo;function d9(e,t,r,n,i){return e===t?!0:e==null||t==null||!S$(e)&&!S$(t)?e!==e&&t!==t:CSe(e,t,r,n,d9,i)}var IO=d9,ESe=QW,OSe=IO,PSe=1,ASe=2;function TSe(e,t,r,n){var i=r.length,a=i,s=!n;if(e==null)return!a;for(e=Object(e);i--;){var o=r[i];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<a;){o=r[i];var c=o[0],u=e[c],d=o[1];if(s&&o[2]){if(u===void 0&&!(c in e))return!1}else{var f=new ESe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?OSe(d,u,PSe|ASe,n,f):h))return!1}}return!0}var MSe=TSe,$Se=Cl;function ISe(e){return e===e&&!$Se(e)}var f9=ISe,RSe=f9,DSe=K0;function LSe(e){for(var t=DSe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,RSe(i)]}return t}var FSe=LSe;function BSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var h9=BSe,USe=MSe,zSe=FSe,VSe=h9;function WSe(e){var t=zSe(e);return t.length==1&&t[0][2]?VSe(t[0][0],t[0][1]):function(r){return r===e||USe(r,e,t)}}var HSe=WSe;function qSe(e,t){return e!=null&&t in Object(e)}var GSe=qSe,KSe=bW,YSe=TO,JSe=ei,XSe=MO,QSe=$O,ZSe=M0;function eje(e,t,r){t=KSe(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var s=ZSe(t[n]);if(!(a=e!=null&&r(e,s)))break;e=e[s]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&QSe(i)&&XSe(s,i)&&(JSe(e)||YSe(e)))}var tje=eje,rje=GSe,nje=tje;function ije(e,t){return e!=null&&nje(e,t,rje)}var aje=ije,sje=IO,oje=wW,lje=aje,cje=pO,uje=f9,dje=h9,fje=M0,hje=1,pje=2;function mje(e,t){return cje(e)&&uje(t)?dje(fje(e),t):function(r){var n=oje(r,e);return n===void 0&&n===t?lje(r,e):sje(t,n,hje|pje)}}var gje=mje;function vje(e){return e}var eh=vje;function yje(e){return function(t){return t==null?void 0:t[e]}}var xje=yje,bje=wO;function wje(e){return function(t){return bje(t,e)}}var _je=wje,Sje=xje,jje=_je,kje=pO,Nje=M0;function Cje(e){return kje(e)?Sje(Nje(e)):jje(e)}var Eje=Cje,Oje=HSe,Pje=gje,Aje=eh,Tje=ei,Mje=Eje;function $je(e){return typeof e=="function"?e:e==null?Aje:typeof e=="object"?Tje(e)?Pje(e[0],e[1]):Oje(e):Mje(e)}var gs=$je;function Ije(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var p9=Ije;function Rje(e){return e!==e}var Dje=Rje;function Lje(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Fje=Lje,Bje=p9,Uje=Dje,zje=Fje;function Vje(e,t,r){return t===t?zje(e,t,r):Bje(e,Uje,r)}var Wje=Vje,Hje=Wje;function qje(e,t){var r=e==null?0:e.length;return!!r&&Hje(e,t,0)>-1}var Gje=qje;function Kje(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Yje=Kje;function Jje(){}var Xje=Jje,n1=c9,Qje=Xje,Zje=AO,eke=1/0,tke=n1&&1/Zje(new n1([,-0]))[1]==eke?function(e){return new n1(e)}:Qje,rke=tke,nke=ZW,ike=Gje,ake=Yje,ske=t9,oke=rke,lke=AO,cke=200;function uke(e,t,r){var n=-1,i=ike,a=e.length,s=!0,o=[],c=o;if(r)s=!1,i=ake;else if(a>=cke){var u=t?null:oke(e);if(u)return lke(u);s=!1,i=ske,c=new nke}else c=t?[]:o;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),o.push(d)}else i(c,f,r)||(c!==o&&c.push(f),o.push(d))}return o}var dke=uke,fke=gs,hke=dke;function pke(e,t){return e&&e.length?hke(e,fke(t)):[]}var mke=pke;const j$=bt(mke);function m9(e,t,r){return t===!0?j$(e,r):Fe(t)?j$(e,t):e}function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}var gke=["ref"];function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function yke(e,t,r){return t&&N$(e.prototype,t),r&&N$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xke(e,t,r){return t=bx(t),bke(e,g9()?Reflect.construct(t,r||[],bx(e).constructor):t.apply(e,r))}function bke(e,t){if(t&&(ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wke(e)}function wke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bx(e)}function _ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ak(e,t)}function Y0(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=Ske(e,"string");return ef(t)=="symbol"?t:t+""}function Ske(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function jke(e,t){if(e==null)return{};var r=kke(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nke(e){return e.value}function Cke(e,t){if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return A.createElement(e,t);t.ref;var r=jke(t,gke);return A.createElement(PO,r)}var C$=1,Us=function(e){function t(){var r;vke(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xke(this,t,[].concat(i)),Y0(r,"lastBoundingBox",{width:-1,height:-1}),r}return _ke(t,e),yke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>C$||Math.abs(i.height-this.lastBoundingBox.height)>C$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_s({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,s=i.align,o=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((d||0)-m.height)/2}}else h=o==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return _s(_s({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,s=i.width,o=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=_s(_s({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(c)),c);return A.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Cke(a,_s(_s({},this.props),{},{payload:m9(d,u,Nke)})))}}],[{key:"getWithHeight",value:function(n,i){var a=_s(_s({},this.defaultProps),n.props),s=a.layout;return s==="vertical"&&le(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);Y0(Us,"displayName","Legend");Y0(Us,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var E$=dg,Eke=TO,Oke=ei,O$=E$?E$.isConcatSpreadable:void 0;function Pke(e){return Oke(e)||Eke(e)||!!(O$&&e&&e[O$])}var Ake=Pke,Tke=n9,Mke=Ake;function y9(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=Mke),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?y9(o,t-1,r,n,i):Tke(i,o):n||(i[i.length]=o)}return i}var x9=y9;function $ke(e){return function(t,r,n){for(var i=-1,a=Object(t),s=n(t),o=s.length;o--;){var c=s[e?o:++i];if(r(a[c],c,a)===!1)break}return t}}var Ike=$ke,Rke=Ike,Dke=Rke(),Lke=Dke,Fke=Lke,Bke=K0;function Uke(e,t){return e&&Fke(e,t,Bke)}var b9=Uke,zke=fg;function Vke(e,t){return function(r,n){if(r==null)return r;if(!zke(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Object(r);(t?a--:++a<i)&&n(s[a],a,s)!==!1;);return r}}var Wke=Vke,Hke=b9,qke=Wke,Gke=qke(Hke),RO=Gke,Kke=RO,Yke=fg;function Jke(e,t){var r=-1,n=Yke(e)?Array(e.length):[];return Kke(e,function(i,a,s){n[++r]=t(i,a,s)}),n}var w9=Jke;function Xke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Qke=Xke,P$=qf;function Zke(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=P$(e),s=t!==void 0,o=t===null,c=t===t,u=P$(t);if(!o&&!u&&!a&&e>t||a&&s&&c&&!o&&!u||n&&s&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||o&&r&&i||!s&&i||!c)return-1}return 0}var eNe=Zke,tNe=eNe;function rNe(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var c=tNe(i[n],a[n]);if(c){if(n>=o)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nNe=rNe,i1=bO,iNe=wO,aNe=gs,sNe=w9,oNe=Qke,lNe=s9,cNe=nNe,uNe=eh,dNe=ei;function fNe(e,t,r){t.length?t=i1(t,function(a){return dNe(a)?function(s){return iNe(s,a.length===1?a[0]:a)}:a}):t=[uNe];var n=-1;t=i1(t,lNe(aNe));var i=sNe(e,function(a,s,o){var c=i1(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return oNe(i,function(a,s){return cNe(a,s,r)})}var hNe=fNe;function pNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var mNe=pNe,gNe=mNe,A$=Math.max;function vNe(e,t,r){return t=A$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=A$(n.length-t,0),s=Array(a);++i<a;)s[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=r(s),gNe(e,this,o)}}var yNe=vNe;function xNe(e){return function(){return e}}var bNe=xNe,wNe=au,_Ne=function(){try{var e=wNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_9=_Ne,SNe=bNe,T$=_9,jNe=eh,kNe=T$?function(e,t){return T$(e,"toString",{configurable:!0,enumerable:!1,value:SNe(t),writable:!0})}:jNe,NNe=kNe,CNe=800,ENe=16,ONe=Date.now;function PNe(e){var t=0,r=0;return function(){var n=ONe(),i=ENe-(n-r);if(r=n,i>0){if(++t>=CNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ANe=PNe,TNe=NNe,MNe=ANe,$Ne=MNe(TNe),INe=$Ne,RNe=eh,DNe=yNe,LNe=INe;function FNe(e,t){return LNe(DNe(e,t,RNe),e+"")}var BNe=FNe,UNe=gO,zNe=fg,VNe=MO,WNe=Cl;function HNe(e,t,r){if(!WNe(r))return!1;var n=typeof t;return(n=="number"?zNe(r)&&VNe(t,r.length):n=="string"&&t in r)?UNe(r[t],e):!1}var J0=HNe,qNe=x9,GNe=hNe,KNe=BNe,M$=J0,YNe=KNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&M$(e,t[0],t[1])?t=[]:r>2&&M$(t[0],t[1],t[2])&&(t=[t[0]]),GNe(e,qNe(t,1),[])}),JNe=YNe;const DO=bt(JNe);function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sk.apply(this,arguments)}function XNe(e,t){return tCe(e)||eCe(e,t)||ZNe(e,t)||QNe()}function QNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZNe(e,t){if(e){if(typeof e=="string")return $$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $$(e,t)}}function $$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function tCe(e){if(Array.isArray(e))return e}function I$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I$(Object(r),!0).forEach(function(n){rCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rCe(e,t,r){return t=nCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nCe(e){var t=iCe(e,"string");return am(t)=="symbol"?t:t+""}function iCe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aCe(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var sCe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,s=t.itemStyle,o=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,m=t.labelClassName,g=t.label,v=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var M={padding:0,margin:0},F=(h?DO(d,h):d).map(function(R,U){if(R.type==="none")return null;var W=a1({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},o),z=R.formatter||f||aCe,L=R.value,B=R.name,G=L,te=B;if(z&&G!=null&&te!=null){var X=z(L,B,R,U,d);if(Array.isArray(X)){var j=XNe(X,2);G=j[0],te=j[1]}else G=X}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:W},Rr(te)?A.createElement("span",{className:"recharts-tooltip-item-name"},te):null,Rr(te)?A.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,A.createElement("span",{className:"recharts-tooltip-item-value"},G),A.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},_=a1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=a1({margin:0},u),k=!He(g),N=k?g:"",E=qe("recharts-default-tooltip",p),P=qe("recharts-tooltip-label",m);k&&v&&d!==void 0&&d!==null&&(N=v(g,d));var T=y?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",sk({className:E,style:_},T),A.createElement("p",{className:P,style:S},A.isValidElement(N)?N:"".concat(N)),w())};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function lv(e,t,r){return t=oCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oCe(e){var t=lCe(e,"string");return sm(t)=="symbol"?t:t+""}function lCe(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sh="recharts-tooltip-wrapper",cCe={visibility:"hidden"};function uCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qe(Sh,lv(lv(lv(lv({},"".concat(Sh,"-right"),le(r)&&t&&le(t.x)&&r>=t.x),"".concat(Sh,"-left"),le(r)&&t&&le(t.x)&&r<t.x),"".concat(Sh,"-bottom"),le(n)&&t&&le(t.y)&&n>=t.y),"".concat(Sh,"-top"),le(n)&&t&&le(t.y)&&n<t.y))}function R$(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,s=e.reverseDirection,o=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&le(a[n]))return a[n];var d=r[n]-o-i,f=r[n]+i;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var m=f+o,g=c[n]+u;return m>g?Math.max(d,c[n]):Math.max(f,c[n])}function dCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=R$({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=R$({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=dCe({translateX:d,translateY:f,useTranslate3d:o})):u=cCe,{cssProperties:u,cssClasses:uCe({translateX:d,translateY:f,coordinate:r})}}function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function D$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D$(Object(r),!0).forEach(function(n){lk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j9(n.key),n)}}function mCe(e,t,r){return t&&pCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gCe(e,t,r){return t=wx(t),vCe(e,S9()?Reflect.construct(t,r||[],wx(e).constructor):t.apply(e,r))}function vCe(e,t){if(t&&(tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yCe(e)}function yCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!e})()}function wx(e){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(e)}function xCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ok(e,t)}function ok(e,t){return ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ok(e,t)}function lk(e,t,r){return t=j9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j9(e){var t=bCe(e,"string");return tf(t)=="symbol"?t:t+""}function bCe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F$=1,wCe=function(e){function t(){var r;hCe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gCe(this,t,[].concat(i)),lk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),lk(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return xCe(t,e),mCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>F$||Math.abs(n.height-this.state.lastBoundingBox.height)>F$)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,w=fCe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,S=w.cssProperties,k=L$(L$({transition:h&&a?"transform ".concat(o,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return A.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(E){n.wrapperNode=E}},u)}}])}(x.PureComponent),_Ce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},El={isSsr:_Ce()};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function B$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function U$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B$(Object(r),!0).forEach(function(n){LO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N9(n.key),n)}}function kCe(e,t,r){return t&&jCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NCe(e,t,r){return t=_x(t),CCe(e,k9()?Reflect.construct(t,r||[],_x(e).constructor):t.apply(e,r))}function CCe(e,t){if(t&&(rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ECe(e)}function ECe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k9=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_x(e)}function OCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ck(e,t)}function ck(e,t){return ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ck(e,t)}function LO(e,t,r){return t=N9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=PCe(e,"string");return rf(t)=="symbol"?t:t+""}function PCe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ACe(e){return e.dataKey}function TCe(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(sCe,t)}var ci=function(e){function t(){return SCe(this,t),NCe(this,t,arguments)}return OCe(t,e),kCe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,s=i.allowEscapeViewBox,o=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,b=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,S=m??[];f&&S.length&&(S=m9(m.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),g,ACe));var k=S.length>0;return A.createElement(wCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:k,offset:p,position:v,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},TCe(u,U$(U$({},this.props),{},{payload:S})))}}])}(x.PureComponent);LO(ci,"displayName","Tooltip");LO(ci,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!El.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var MCe=ms,$Ce=function(){return MCe.Date.now()},ICe=$Ce,RCe=/\s/;function DCe(e){for(var t=e.length;t--&&RCe.test(e.charAt(t)););return t}var LCe=DCe,FCe=LCe,BCe=/^\s+/;function UCe(e){return e&&e.slice(0,FCe(e)+1).replace(BCe,"")}var zCe=UCe,VCe=zCe,z$=Cl,WCe=qf,V$=NaN,HCe=/^[-+]0x[0-9a-f]+$/i,qCe=/^0b[01]+$/i,GCe=/^0o[0-7]+$/i,KCe=parseInt;function YCe(e){if(typeof e=="number")return e;if(WCe(e))return V$;if(z$(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=z$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=VCe(e);var r=qCe.test(e);return r||GCe.test(e)?KCe(e.slice(2),r?2:8):HCe.test(e)?V$:+e}var C9=YCe,JCe=Cl,s1=ICe,W$=C9,XCe="Expected a function",QCe=Math.max,ZCe=Math.min;function eEe(e,t,r){var n,i,a,s,o,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(XCe);t=W$(t)||0,JCe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?QCe(W$(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function p(k){var N=n,E=i;return n=i=void 0,u=k,s=e.apply(E,N),s}function m(k){return u=k,o=setTimeout(b,t),d?p(k):s}function g(k){var N=k-c,E=k-u,P=t-N;return f?ZCe(P,a-E):P}function v(k){var N=k-c,E=k-u;return c===void 0||N>=t||N<0||f&&E>=a}function b(){var k=s1();if(v(k))return y(k);o=setTimeout(b,g(k))}function y(k){return o=void 0,h&&n?p(k):(n=i=void 0,s)}function w(){o!==void 0&&clearTimeout(o),u=0,n=c=i=o=void 0}function _(){return o===void 0?s:y(s1())}function S(){var k=s1(),N=v(k);if(n=arguments,i=this,c=k,N){if(o===void 0)return m(c);if(f)return clearTimeout(o),o=setTimeout(b,t),p(c)}return o===void 0&&(o=setTimeout(b,t)),s}return S.cancel=w,S.flush=_,S}var tEe=eEe,rEe=tEe,nEe=Cl,iEe="Expected a function";function aEe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(iEe);return nEe(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),rEe(e,t,{leading:n,maxWait:t,trailing:i})}var sEe=aEe;const E9=bt(sEe);function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function H$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H$(Object(r),!0).forEach(function(n){oEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oEe(e,t,r){return t=lEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lEe(e){var t=cEe(e,"string");return om(t)=="symbol"?t:t+""}function cEe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uEe(e,t){return pEe(e)||hEe(e,t)||fEe(e,t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(e,t){if(e){if(typeof e=="string")return q$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q$(e,t)}}function q$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function pEe(e){if(Array.isArray(e))return e}var X0=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,s=a===void 0?"100%":a,o=e.height,c=o===void 0?"100%":o,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,m=e.debounce,g=m===void 0?0:m,v=e.id,b=e.className,y=e.onResize,w=e.style,_=w===void 0?{}:w,S=x.useRef(null),k=x.useRef();k.current=y,x.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var N=x.useState({containerWidth:i.width,containerHeight:i.height}),E=uEe(N,2),P=E[0],T=E[1],$=x.useCallback(function(F,R){T(function(U){var W=Math.round(F),z=Math.round(R);return U.containerWidth===W&&U.containerHeight===z?U:{containerWidth:W,containerHeight:z}})},[]);x.useEffect(function(){var F=function(B){var G,te=B[0].contentRect,X=te.width,j=te.height;$(X,j),(G=k.current)===null||G===void 0||G.call(k,X,j)};g>0&&(F=E9(F,g,{trailing:!0,leading:!1}));var R=new ResizeObserver(F),U=S.current.getBoundingClientRect(),W=U.width,z=U.height;return $(W,z),R.observe(S.current),function(){R.disconnect()}},[$,g]);var M=x.useMemo(function(){var F=P.containerWidth,R=P.containerHeight;if(F<0||R<0)return null;ka(sc(s)||sc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),ka(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=sc(s)?F:s,W=sc(c)?R:c;r&&r>0&&(U?W=U/r:W&&(U=W*r),h&&W>h&&(W=h)),ka(U>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,W,s,c,d,f,r);var z=!Array.isArray(p)&&Bs(p.type).endsWith("Chart");return A.Children.map(p,function(L){return A.isValidElement(L)?x.cloneElement(L,cv({width:U,height:W},z?{style:cv({height:"100%",width:"100%",maxHeight:W,maxWidth:U},L.props.style)}:{})):L})},[r,p,c,h,f,d,P,s]);return A.createElement("div",{id:v?"".concat(v):void 0,className:qe("recharts-responsive-container",b),style:cv(cv({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},M)}),hg=function(t){return null};hg.displayName="Cell";function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function G$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G$(Object(r),!0).forEach(function(n){mEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t,r){return t=gEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gEe(e){var t=vEe(e,"string");return lm(t)=="symbol"?t:t+""}function vEe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nu={widthCache:{},cacheCount:0},yEe=2e3,xEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},K$="recharts_measurement_span";function bEe(e){var t=uk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var ap=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||El.isSsr)return{width:0,height:0};var n=bEe(r),i=JSON.stringify({text:t,copyStyle:n});if(Nu.widthCache[i])return Nu.widthCache[i];try{var a=document.getElementById(K$);a||(a=document.createElement("span"),a.setAttribute("id",K$),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var s=uk(uk({},xEe),n);Object.assign(a.style,s),a.textContent="".concat(t);var o=a.getBoundingClientRect(),c={width:o.width,height:o.height};return Nu.widthCache[i]=c,++Nu.cacheCount>yEe&&(Nu.cacheCount=0,Nu.widthCache={}),c}catch{return{width:0,height:0}}},wEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function Sx(e,t){return kEe(e)||jEe(e,t)||SEe(e,t)||_Ee()}function _Ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SEe(e,t){if(e){if(typeof e=="string")return Y$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y$(e,t)}}function Y$(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function kEe(e){if(Array.isArray(e))return e}function NEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EEe(n.key),n)}}function CEe(e,t,r){return t&&J$(e.prototype,t),r&&J$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function EEe(e){var t=OEe(e,"string");return cm(t)=="symbol"?t:t+""}function OEe(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var X$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Q$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,AEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,O9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TEe=Object.keys(O9),Qu="NaN";function MEe(e,t){return e*O9[t]}var uv=function(){function e(t,r){NEe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!PEe.test(r)&&(this.num=NaN,this.unit=""),TEe.includes(r)&&(this.num=MEe(t,r),this.unit="px")}return CEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=AEe.exec(r))!==null&&n!==void 0?n:[],a=Sx(i,3),s=a[1],o=a[2];return new e(parseFloat(s),o??"")}}])}();function P9(e){if(e.includes(Qu))return Qu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=X$.exec(t))!==null&&r!==void 0?r:[],i=Sx(n,4),a=i[1],s=i[2],o=i[3],c=uv.parse(a??""),u=uv.parse(o??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Qu;t=t.replace(X$,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Q$.exec(t))!==null&&f!==void 0?f:[],p=Sx(h,4),m=p[1],g=p[2],v=p[3],b=uv.parse(m??""),y=uv.parse(v??""),w=g==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Qu;t=t.replace(Q$,w.toString())}return t}var Z$=/\(([^()]*)\)/;function $Ee(e){for(var t=e;t.includes("(");){var r=Z$.exec(t),n=Sx(r,2),i=n[1];t=t.replace(Z$,P9(i))}return t}function IEe(e){var t=e.replace(/\s+/g,"");return t=$Ee(t),t=P9(t),t}function REe(e){try{return IEe(e)}catch{return Qu}}function o1(e){var t=REe(e.slice(5,-1));return t===Qu?"":t}var DEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],LEe=["dx","dy","angle","className","breakAll"];function dk(){return dk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dk.apply(this,arguments)}function eI(e,t){if(e==null)return{};var r=FEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tI(e,t){return VEe(e)||zEe(e,t)||UEe(e,t)||BEe()}function BEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UEe(e,t){if(e){if(typeof e=="string")return rI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rI(e,t)}}function rI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function VEe(e){if(Array.isArray(e))return e}var A9=/[ \f\n\r\t\v\u2028\u2029]+/,T9=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];He(r)||(n?a=r.toString().split(""):a=r.toString().split(A9));var s=a.map(function(c){return{word:c,width:ap(c,i).width}}),o=n?0:ap("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},WEe=function(t,r,n,i,a){var s=t.maxLines,o=t.children,c=t.style,u=t.breakAll,d=le(s),f=o,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(W,z){var L=z.word,B=z.width,G=W[W.length-1];if(G&&(i==null||a||G.width+B+n<Number(i)))G.words.push(L),G.width+=B+n;else{var te={words:[L],width:B};W.push(te)}return W},[])},p=h(r),m=function(U){return U.reduce(function(W,z){return W.width>z.width?W:z})};if(!d)return p;for(var g="",v=function(U){var W=f.slice(0,U),z=T9({breakAll:u,style:c,children:W+g}).wordsWithComputedWidth,L=h(z),B=L.length>s||m(L).width>Number(i);return[B,L]},b=0,y=f.length-1,w=0,_;b<=y&&w<=f.length-1;){var S=Math.floor((b+y)/2),k=S-1,N=v(k),E=tI(N,2),P=E[0],T=E[1],$=v(S),M=tI($,1),F=M[0];if(!P&&!F&&(b=S+1),P&&F&&(y=S-1),!P&&F){_=T;break}w++}return _||p},nI=function(t){var r=He(t)?[]:t.toString().split(A9);return[{words:r}]},HEe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!El.isSsr){var c,u,d=T9({breakAll:s,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return nI(i);return WEe({breakAll:s,children:i,maxLines:o,style:a},c,u,r,n)}return nI(i)},iI="#808080",Bc=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.lineHeight,o=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,m=t.verticalAnchor,g=m===void 0?"end":m,v=t.fill,b=v===void 0?iI:v,y=eI(t,DEe),w=x.useMemo(function(){return HEe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,S=y.dy,k=y.angle,N=y.className,E=y.breakAll,P=eI(y,LEe);if(!Rr(n)||!Rr(a))return null;var T=n+(le(_)?_:0),$=a+(le(S)?S:0),M;switch(g){case"start":M=o1("calc(".concat(u,")"));break;case"middle":M=o1("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:M=o1("calc(".concat(w.length-1," * -").concat(o,")"));break}var F=[];if(f){var R=w[0].width,U=y.width;F.push("scale(".concat((le(U)?U/R:1)/R,")"))}return k&&F.push("rotate(".concat(k,", ").concat(T,", ").concat($,")")),F.length&&(P.transform=F.join(" ")),A.createElement("text",dk({},Me(P,!0),{x:T,y:$,className:qe("recharts-text",N),textAnchor:p,fill:b.includes("url")?iI:b}),w.map(function(W,z){var L=W.words.join(E?"":" ");return A.createElement("tspan",{x:T,dy:z===0?M:o,key:"".concat(L,"-").concat(z)},L)}))};function sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FO(e){let t,r,n;e.length!==2?(t=sl,r=(o,c)=>sl(e(o),c),n=(o,c)=>e(o)-c):(t=e===sl||e===qEe?e:GEe,r=e,n=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&n(o[f-1],c)>-n(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function GEe(){return 0}function M9(e){return e===null?NaN:+e}function*KEe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const YEe=FO(sl),pg=YEe.right;FO(M9).center;class aI extends Map{constructor(t,r=QEe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(sI(this,t))}has(t){return super.has(sI(this,t))}set(t,r){return super.set(JEe(this,t),r)}delete(t){return super.delete(XEe(this,t))}}function sI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function JEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function XEe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function QEe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZEe(e=sl){if(e===sl)return $9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eOe=Math.sqrt(50),tOe=Math.sqrt(10),rOe=Math.sqrt(2);function jx(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=eOe?10:a>=tOe?5:a>=rOe?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?jx(e,t,r*2):[o,c,u]}function fk(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?jx(t,e,r):jx(e,t,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function hk(e,t,r){return t=+t,e=+e,r=+r,jx(e,t,r)[2]}function pk(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?hk(t,e,r):hk(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function oI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function I9(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?$9:ZEe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),m=Math.min(n,Math.floor(t+(c-u)*f/c+h));I9(e,t,p,m,i)}const a=e[t];let s=r,o=n;for(jh(e,r,t),i(e[n],a)>0&&jh(e,r,n);s<o;){for(jh(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?jh(e,r,o):(++o,jh(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function jh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function nOe(e,t,r){if(e=Float64Array.from(KEe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lI(e);if(t>=1)return oI(e);var n,i=(n-1)*t,a=Math.floor(i),s=oI(I9(e,a).subarray(0,a+1)),o=lI(e.subarray(a+1));return s+(o-s)*(i-a)}}function iOe(e,t,r=M9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function aOe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Xi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function fo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const mk=Symbol("implicit");function BO(){var e=new aI,t=[],r=[],n=mk;function i(a){let s=e.get(a);if(s===void 0){if(n!==mk)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new aI;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return BO(t,r).unknown(n)},Xi.apply(i,arguments),i}function um(){var e=BO().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=i<n,m=p?i:n,g=p?n:i;a=(g-m)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*d,s=a*(1-c),o&&(m=Math.round(m),s=Math.round(s));var v=aOe(h).map(function(b){return m+a*b});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return um(t(),[n,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Xi.apply(f(),arguments)}function R9(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return R9(t())},e}function sp(){return R9(um.apply(null,arguments).paddingInner(1))}function UO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function D9(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mg(){}var dm=.7,kx=1/dm,yd="\\s*([+-]?\\d+)\\s*",fm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",as="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sOe=/^#([0-9a-f]{3,8})$/,oOe=new RegExp(`^rgb\\(${yd},${yd},${yd}\\)$`),lOe=new RegExp(`^rgb\\(${as},${as},${as}\\)$`),cOe=new RegExp(`^rgba\\(${yd},${yd},${yd},${fm}\\)$`),uOe=new RegExp(`^rgba\\(${as},${as},${as},${fm}\\)$`),dOe=new RegExp(`^hsl\\(${fm},${as},${as}\\)$`),fOe=new RegExp(`^hsla\\(${fm},${as},${as},${fm}\\)$`),cI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UO(mg,hm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uI,formatHex:uI,formatHex8:hOe,formatHsl:pOe,formatRgb:dI,toString:dI});function uI(){return this.rgb().formatHex()}function hOe(){return this.rgb().formatHex8()}function pOe(){return L9(this).formatHsl()}function dI(){return this.rgb().formatRgb()}function hm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sOe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fI(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?dv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?dv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oOe.exec(e))?new qn(t[1],t[2],t[3],1):(t=lOe.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cOe.exec(e))?dv(t[1],t[2],t[3],t[4]):(t=uOe.exec(e))?dv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dOe.exec(e))?mI(t[1],t[2]/100,t[3]/100,1):(t=fOe.exec(e))?mI(t[1],t[2]/100,t[3]/100,t[4]):cI.hasOwnProperty(e)?fI(cI[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function fI(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function dv(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function mOe(e){return e instanceof mg||(e=hm(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function gk(e,t,r,n){return arguments.length===1?mOe(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}UO(qn,gk,D9(mg,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(bc(this.r),bc(this.g),bc(this.b),Nx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hI,formatHex:hI,formatHex8:gOe,formatRgb:pI,toString:pI}));function hI(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}`}function gOe(){return`#${oc(this.r)}${oc(this.g)}${oc(this.b)}${oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function pI(){const e=Nx(this.opacity);return`${e===1?"rgb(":"rgba("}${bc(this.r)}, ${bc(this.g)}, ${bc(this.b)}${e===1?")":`, ${e})`}`}function Nx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oc(e){return e=bc(e),(e<16?"0":"")+e.toString(16)}function mI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new wa(e,t,r,n)}function L9(e){if(e instanceof wa)return new wa(e.h,e.s,e.l,e.opacity);if(e instanceof mg||(e=hm(e)),!e)return new wa;if(e instanceof wa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new wa(s,o,c,e.opacity)}function vOe(e,t,r,n){return arguments.length===1?L9(e):new wa(e,t,r,n??1)}function wa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}UO(wa,vOe,D9(mg,{brighter(e){return e=e==null?kx:Math.pow(kx,e),new wa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new wa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new qn(l1(e>=240?e-240:e+120,i,n),l1(e,i,n),l1(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new wa(gI(this.h),fv(this.s),fv(this.l),Nx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nx(this.opacity);return`${e===1?"hsl(":"hsla("}${gI(this.h)}, ${fv(this.s)*100}%, ${fv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gI(e){return e=(e||0)%360,e<0?e+360:e}function fv(e){return Math.max(0,Math.min(1,e||0))}function l1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zO=e=>()=>e;function yOe(e,t){return function(r){return e+r*t}}function xOe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bOe(e){return(e=+e)==1?F9:function(t,r){return r-t?xOe(t,r,e):zO(isNaN(t)?r:t)}}function F9(e,t){var r=t-e;return r?yOe(e,r):zO(isNaN(e)?t:e)}const vI=function e(t){var r=bOe(t);function n(i,a){var s=r((i=gk(i)).r,(a=gk(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),u=F9(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function wOe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function _Oe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SOe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=th(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function jOe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function kOe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=th(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var vk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c1=new RegExp(vk.source,"g");function NOe(e){return function(){return e}}function COe(e){return function(t){return e(t)+""}}function EOe(e,t){var r=vk.lastIndex=c1.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=vk.exec(e))&&(i=c1.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Cx(n,i)})),r=c1.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?COe(c[0].x):NOe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function th(e,t){var r=typeof t,n;return t==null||r==="boolean"?zO(t):(r==="number"?Cx:r==="string"?(n=hm(t))?(t=n,vI):EOe:t instanceof hm?vI:t instanceof Date?jOe:_Oe(t)?wOe:Array.isArray(t)?SOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kOe:Cx)(e,t)}function VO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OOe(e,t){t===void 0&&(t=e,e=th);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function POe(e){return function(){return e}}function Ex(e){return+e}var yI=[0,1];function Dn(e){return e}function yk(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:POe(isNaN(t)?NaN:.5)}function AOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function TOe(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=yk(i,n),a=r(s,a)):(n=yk(n,i),a=r(a,s)),function(o){return a(n(o))}}function MOe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=yk(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var c=pg(e,o,1,n)-1;return a[c](i[c](o))}}function gg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Q0(){var e=yI,t=yI,r=th,n,i,a,s=Dn,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==Dn&&(s=AOe(e[0],e[h-1])),o=h>2?MOe:TOe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(n),Cx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ex),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=VO,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Dn,d()):s!==Dn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,p){return n=h,i=p,d()}}function WO(){return Q0()(Dn,Dn)}function $Oe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ox(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function nf(e){return e=Ox(Math.abs(e)),e?e[1]:NaN}function IOe(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ROe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pm(e){if(!(t=DOe.exec(e)))throw new Error("invalid format: "+e);var t;return new HO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pm.prototype=HO.prototype;function HO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function LOe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var Px;function FOe(e,t){var r=Ox(e,t);if(!r)return Px=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Px=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ox(e,Math.max(0,t+a-1))[0]}function xI(e,t){var r=Ox(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const bI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$Oe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xI(e*100,t),r:xI,s:FOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wI(e){return e}var _I=Array.prototype.map,SI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function BOe(e){var t=e.grouping===void 0||e.thousands===void 0?wI:IOe(_I.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wI:ROe(_I.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=pm(f);var p=f.fill,m=f.align,g=f.sign,v=f.symbol,b=f.zero,y=f.width,w=f.comma,_=f.precision,S=f.trim,k=f.type;k==="n"?(w=!0,k="g"):bI[k]||(_===void 0&&(_=12),S=!0,k="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),E=(v==="$"?n:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=bI[k],T=/[defgprs%]/.test(k);_=_===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(M){var F=N,R=E,U,W,z;if(k==="c")R=P(M)+R,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?c:P(Math.abs(M),_),S&&(M=LOe(M)),L&&+M==0&&g!=="+"&&(L=!1),F=(L?g==="("?g:o:g==="-"||g==="("?"":g)+F,R=(k==="s"&&!isNaN(M)&&Px!==void 0?SI[8+Px/3]:"")+R+(L&&g==="("?")":""),T){for(U=-1,W=M.length;++U<W;)if(z=M.charCodeAt(U),48>z||z>57){R=(z===46?i+M.slice(U+1):M.slice(U))+R,M=M.slice(0,U);break}}}w&&!b&&(M=t(M,1/0));var B=F.length+M.length+R.length,G=B<y?new Array(y-B+1).join(p):"";switch(w&&b&&(M=t(G+M,G.length?y-R.length:1/0),G=""),m){case"<":M=F+M+R+G;break;case"=":M=F+G+M+R;break;case"^":M=G.slice(0,B=G.length>>1)+F+M+R+G.slice(B);break;default:M=G+F+M+R;break}return a(M)}return $.toString=function(){return f+""},$}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(nf(h)/3)))*3,m=Math.pow(10,-p),g=u((f=pm(f),f.type="f",f),{suffix:SI[8+p/3]});return function(v){return g(m*v)}}return{format:u,formatPrefix:d}}var hv,qO,B9;UOe({thousands:",",grouping:[3],currency:["$",""]});function UOe(e){return hv=BOe(e),qO=hv.format,B9=hv.formatPrefix,hv}function zOe(e){return Math.max(0,-nf(Math.abs(e)))}function VOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nf(t)/3)))*3-nf(Math.abs(e)))}function WOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nf(t)-nf(e))+1}function U9(e,t,r,n){var i=pk(e,t,r),a;switch(n=pm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=VOe(i,s))&&(n.precision=a),B9(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=WOe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=zOe(i))&&(n.precision=a-(n.type==="%")*2);break}}return qO(n)}function Ol(e){var t=e.domain;return e.ticks=function(r){var n=t();return fk(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return U9(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=hk(s,o,r),u===c)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function Ax(){var e=WO();return e.copy=function(){return gg(e,Ax())},Xi.apply(e,arguments),Ol(e)}function z9(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ex),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return z9(e).unknown(t)},e=arguments.length?Array.from(e,Ex):[0,1],Ol(r)}function V9(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function jI(e){return Math.log(e)}function kI(e){return Math.exp(e)}function HOe(e){return-Math.log(-e)}function qOe(e){return-Math.exp(-e)}function GOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function KOe(e){return e===10?GOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function YOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function NI(e){return(t,r)=>-e(-t,r)}function GO(e){const t=e(jI,kI),r=t.domain;let n=10,i,a;function s(){return i=YOe(n),a=KOe(n),r()[0]<0?(i=NI(i),a=NI(a),e(HOe,qOe)):e(jI,kI),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),p=i(d),m,g;const v=o==null?10:+o;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;b.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>d)break;b.push(g)}b.length*2<v&&(b=fk(u,d,v))}else b=fk(h,p,Math.min(p-h,v)).map(a);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pm(c)).precision==null&&(c.trim=!0),c=qO(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(V9(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function W9(){const e=GO(Q0()).domain([1,10]);return e.copy=()=>gg(e,W9()).base(e.base()),Xi.apply(e,arguments),e}function CI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function EI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function KO(e){var t=1,r=e(CI(t),EI(t));return r.constant=function(n){return arguments.length?e(CI(t=+n),EI(t)):t},Ol(r)}function H9(){var e=KO(Q0());return e.copy=function(){return gg(e,H9()).constant(e.constant())},Xi.apply(e,arguments)}function OI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XOe(e){return e<0?-e*e:e*e}function YO(e){var t=e(Dn,Dn),r=1;function n(){return r===1?e(Dn,Dn):r===.5?e(JOe,XOe):e(OI(r),OI(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ol(t)}function JO(){var e=YO(Q0());return e.copy=function(){return gg(e,JO()).exponent(e.exponent())},Xi.apply(e,arguments),e}function QOe(){return JO.apply(null,arguments).exponent(.5)}function PI(e){return Math.sign(e)*e*e}function ZOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function q9(){var e=WO(),t=[0,1],r=!1,n;function i(a){var s=ZOe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(PI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Ex)).map(PI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q9(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xi.apply(i,arguments),Ol(i)}function G9(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=iOe(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[pg(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(sl),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return G9().domain(e).range(t).unknown(n)},Xi.apply(a,arguments)}function K9(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[pg(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return K9().domain([e,t]).range(i).unknown(a)},Xi.apply(Ol(s),arguments)}function Y9(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[pg(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Y9().domain(e).range(t).unknown(r)},Xi.apply(i,arguments)}const u1=new Date,d1=new Date;function Br(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>Br(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(u1.setTime(+a),d1.setTime(+s),e(u1),e(d1),Math.floor(r(u1,d1))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Tx=Br(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Tx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Br(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Tx);Tx.range;const $s=1e3,Li=$s*60,Is=Li*60,eo=Is*24,XO=eo*7,AI=eo*30,f1=eo*365,lc=Br(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*$s)},(e,t)=>(t-e)/$s,e=>e.getUTCSeconds());lc.range;const QO=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getMinutes());QO.range;const ZO=Br(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCMinutes());ZO.range;const eP=Br(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s-e.getMinutes()*Li)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getHours());eP.range;const tP=Br(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCHours());tP.range;const vg=Br(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Li)/eo,e=>e.getDate()-1);vg.range;const Z0=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eo,e=>e.getUTCDate()-1);Z0.range;const J9=Br(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/eo,e=>Math.floor(e/eo));J9.range;function ou(e){return Br(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Li)/XO)}const ew=ou(0),Mx=ou(1),ePe=ou(2),tPe=ou(3),af=ou(4),rPe=ou(5),nPe=ou(6);ew.range;Mx.range;ePe.range;tPe.range;af.range;rPe.range;nPe.range;function lu(e){return Br(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/XO)}const tw=lu(0),$x=lu(1),iPe=lu(2),aPe=lu(3),sf=lu(4),sPe=lu(5),oPe=lu(6);tw.range;$x.range;iPe.range;aPe.range;sf.range;sPe.range;oPe.range;const rP=Br(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rP.range;const nP=Br(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nP.range;const to=Br(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());to.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});to.range;const ro=Br(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ro.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Br(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ro.range;function X9(e,t,r,n,i,a){const s=[[lc,1,$s],[lc,5,5*$s],[lc,15,15*$s],[lc,30,30*$s],[a,1,Li],[a,5,5*Li],[a,15,15*Li],[a,30,30*Li],[i,1,Is],[i,3,3*Is],[i,6,6*Is],[i,12,12*Is],[n,1,eo],[n,2,2*eo],[r,1,XO],[t,1,AI],[t,3,3*AI],[e,1,f1]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),m=p?p.range(u,+d+1):[];return h?m.reverse():m}function c(u,d,f){const h=Math.abs(d-u)/f,p=FO(([,,v])=>v).right(s,h);if(p===s.length)return e.every(pk(u/f1,d/f1,f));if(p===0)return Tx.every(Math.max(pk(u,d,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,c]}const[lPe,cPe]=X9(ro,nP,tw,J9,tP,ZO),[uPe,dPe]=X9(to,rP,ew,vg,eP,QO);function h1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function p1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function kh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function fPe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Nh(i),d=Ch(i),f=Nh(a),h=Ch(a),p=Nh(s),m=Ch(s),g=Nh(o),v=Ch(o),b=Nh(c),y=Ch(c),w={a:z,A:L,b:B,B:G,c:null,d:DI,e:DI,f:IPe,g:HPe,G:GPe,H:TPe,I:MPe,j:$Pe,L:Q9,m:RPe,M:DPe,p:te,q:X,Q:BI,s:UI,S:LPe,u:FPe,U:BPe,V:UPe,w:zPe,W:VPe,x:null,X:null,y:WPe,Y:qPe,Z:KPe,"%":FI},_={a:j,A:O,b:C,B:D,c:null,d:LI,e:LI,f:QPe,g:lAe,G:uAe,H:YPe,I:JPe,j:XPe,L:eH,m:ZPe,M:eAe,p:I,q,Q:BI,s:UI,S:tAe,u:rAe,U:nAe,V:iAe,w:aAe,W:sAe,x:null,X:null,y:oAe,Y:cAe,Z:dAe,"%":FI},S={a:T,A:$,b:M,B:F,c:R,d:II,e:II,f:EPe,g:$I,G:MI,H:RI,I:RI,j:jPe,L:CPe,m:SPe,M:kPe,p:P,q:_Pe,Q:PPe,s:APe,S:NPe,u:vPe,U:yPe,V:xPe,w:gPe,W:bPe,x:U,X:W,y:$I,Y:MI,Z:wPe,"%":OPe};w.x=k(r,w),w.X=k(n,w),w.c=k(t,w),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(H,K){return function(Q){var Y=[],ye=-1,Ae=0,tt=H.length,nt,Je,wt;for(Q instanceof Date||(Q=new Date(+Q));++ye<tt;)H.charCodeAt(ye)===37&&(Y.push(H.slice(Ae,ye)),(Je=TI[nt=H.charAt(++ye)])!=null?nt=H.charAt(++ye):Je=nt==="e"?" ":"0",(wt=K[nt])&&(nt=wt(Q,Je)),Y.push(nt),Ae=ye+1);return Y.push(H.slice(Ae,ye)),Y.join("")}}function N(H,K){return function(Q){var Y=kh(1900,void 0,1),ye=E(Y,H,Q+="",0),Ae,tt;if(ye!=Q.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(K&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ae=p1(kh(Y.y,0,1)),tt=Ae.getUTCDay(),Ae=tt>4||tt===0?$x.ceil(Ae):$x(Ae),Ae=Z0.offset(Ae,(Y.V-1)*7),Y.y=Ae.getUTCFullYear(),Y.m=Ae.getUTCMonth(),Y.d=Ae.getUTCDate()+(Y.w+6)%7):(Ae=h1(kh(Y.y,0,1)),tt=Ae.getDay(),Ae=tt>4||tt===0?Mx.ceil(Ae):Mx(Ae),Ae=vg.offset(Ae,(Y.V-1)*7),Y.y=Ae.getFullYear(),Y.m=Ae.getMonth(),Y.d=Ae.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),tt="Z"in Y?p1(kh(Y.y,0,1)).getUTCDay():h1(kh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(tt+5)%7:Y.w+Y.U*7-(tt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,p1(Y)):h1(Y)}}function E(H,K,Q,Y){for(var ye=0,Ae=K.length,tt=Q.length,nt,Je;ye<Ae;){if(Y>=tt)return-1;if(nt=K.charCodeAt(ye++),nt===37){if(nt=K.charAt(ye++),Je=S[nt in TI?K.charAt(ye++):nt],!Je||(Y=Je(H,Q,Y))<0)return-1}else if(nt!=Q.charCodeAt(Y++))return-1}return Y}function P(H,K,Q){var Y=u.exec(K.slice(Q));return Y?(H.p=d.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function T(H,K,Q){var Y=p.exec(K.slice(Q));return Y?(H.w=m.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function $(H,K,Q){var Y=f.exec(K.slice(Q));return Y?(H.w=h.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function M(H,K,Q){var Y=b.exec(K.slice(Q));return Y?(H.m=y.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function F(H,K,Q){var Y=g.exec(K.slice(Q));return Y?(H.m=v.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function R(H,K,Q){return E(H,t,K,Q)}function U(H,K,Q){return E(H,r,K,Q)}function W(H,K,Q){return E(H,n,K,Q)}function z(H){return s[H.getDay()]}function L(H){return a[H.getDay()]}function B(H){return c[H.getMonth()]}function G(H){return o[H.getMonth()]}function te(H){return i[+(H.getHours()>=12)]}function X(H){return 1+~~(H.getMonth()/3)}function j(H){return s[H.getUTCDay()]}function O(H){return a[H.getUTCDay()]}function C(H){return c[H.getUTCMonth()]}function D(H){return o[H.getUTCMonth()]}function I(H){return i[+(H.getUTCHours()>=12)]}function q(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var K=k(H+="",w);return K.toString=function(){return H},K},parse:function(H){var K=N(H+="",!1);return K.toString=function(){return H},K},utcFormat:function(H){var K=k(H+="",_);return K.toString=function(){return H},K},utcParse:function(H){var K=N(H+="",!0);return K.toString=function(){return H},K}}}var TI={"-":"",_:" ",0:"0"},Qr=/^\s*\d+/,hPe=/^%/,pPe=/[\\^$*+?|[\]().{}]/g;function pt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function mPe(e){return e.replace(pPe,"\\$&")}function Nh(e){return new RegExp("^(?:"+e.map(mPe).join("|")+")","i")}function Ch(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gPe(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function vPe(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function yPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function xPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function bPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MI(e,t,r){var n=Qr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $I(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function wPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _Pe(e,t,r){var n=Qr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function SPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function II(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function jPe(e,t,r){var n=Qr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function RI(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function kPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function NPe(e,t,r){var n=Qr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CPe(e,t,r){var n=Qr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function EPe(e,t,r){var n=Qr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OPe(e,t,r){var n=hPe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PPe(e,t,r){var n=Qr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function APe(e,t,r){var n=Qr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function DI(e,t){return pt(e.getDate(),t,2)}function TPe(e,t){return pt(e.getHours(),t,2)}function MPe(e,t){return pt(e.getHours()%12||12,t,2)}function $Pe(e,t){return pt(1+vg.count(to(e),e),t,3)}function Q9(e,t){return pt(e.getMilliseconds(),t,3)}function IPe(e,t){return Q9(e,t)+"000"}function RPe(e,t){return pt(e.getMonth()+1,t,2)}function DPe(e,t){return pt(e.getMinutes(),t,2)}function LPe(e,t){return pt(e.getSeconds(),t,2)}function FPe(e){var t=e.getDay();return t===0?7:t}function BPe(e,t){return pt(ew.count(to(e)-1,e),t,2)}function Z9(e){var t=e.getDay();return t>=4||t===0?af(e):af.ceil(e)}function UPe(e,t){return e=Z9(e),pt(af.count(to(e),e)+(to(e).getDay()===4),t,2)}function zPe(e){return e.getDay()}function VPe(e,t){return pt(Mx.count(to(e)-1,e),t,2)}function WPe(e,t){return pt(e.getFullYear()%100,t,2)}function HPe(e,t){return e=Z9(e),pt(e.getFullYear()%100,t,2)}function qPe(e,t){return pt(e.getFullYear()%1e4,t,4)}function GPe(e,t){var r=e.getDay();return e=r>=4||r===0?af(e):af.ceil(e),pt(e.getFullYear()%1e4,t,4)}function KPe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pt(t/60|0,"0",2)+pt(t%60,"0",2)}function LI(e,t){return pt(e.getUTCDate(),t,2)}function YPe(e,t){return pt(e.getUTCHours(),t,2)}function JPe(e,t){return pt(e.getUTCHours()%12||12,t,2)}function XPe(e,t){return pt(1+Z0.count(ro(e),e),t,3)}function eH(e,t){return pt(e.getUTCMilliseconds(),t,3)}function QPe(e,t){return eH(e,t)+"000"}function ZPe(e,t){return pt(e.getUTCMonth()+1,t,2)}function eAe(e,t){return pt(e.getUTCMinutes(),t,2)}function tAe(e,t){return pt(e.getUTCSeconds(),t,2)}function rAe(e){var t=e.getUTCDay();return t===0?7:t}function nAe(e,t){return pt(tw.count(ro(e)-1,e),t,2)}function tH(e){var t=e.getUTCDay();return t>=4||t===0?sf(e):sf.ceil(e)}function iAe(e,t){return e=tH(e),pt(sf.count(ro(e),e)+(ro(e).getUTCDay()===4),t,2)}function aAe(e){return e.getUTCDay()}function sAe(e,t){return pt($x.count(ro(e)-1,e),t,2)}function oAe(e,t){return pt(e.getUTCFullYear()%100,t,2)}function lAe(e,t){return e=tH(e),pt(e.getUTCFullYear()%100,t,2)}function cAe(e,t){return pt(e.getUTCFullYear()%1e4,t,4)}function uAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?sf(e):sf.ceil(e),pt(e.getUTCFullYear()%1e4,t,4)}function dAe(){return"+0000"}function FI(){return"%"}function BI(e){return+e}function UI(e){return Math.floor(+e/1e3)}var Cu,rH,nH;fAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fAe(e){return Cu=fPe(e),rH=Cu.format,Cu.parse,nH=Cu.utcFormat,Cu.utcParse,Cu}function hAe(e){return new Date(e)}function pAe(e){return e instanceof Date?+e:+new Date(+e)}function iP(e,t,r,n,i,a,s,o,c,u){var d=WO(),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function S(k){return(c(k)<k?p:o(k)<k?m:s(k)<k?g:a(k)<k?v:n(k)<k?i(k)<k?b:y:r(k)<k?w:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,pAe)):h().map(hAe)},d.ticks=function(k){var N=h();return e(N[0],N[N.length-1],k??10)},d.tickFormat=function(k,N){return N==null?S:u(N)},d.nice=function(k){var N=h();return(!k||typeof k.range!="function")&&(k=t(N[0],N[N.length-1],k??10)),k?h(V9(N,k)):d},d.copy=function(){return gg(d,iP(e,t,r,n,i,a,s,o,c,u))},d}function mAe(){return Xi.apply(iP(uPe,dPe,to,rP,ew,vg,eP,QO,lc,rH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gAe(){return Xi.apply(iP(lPe,cPe,ro,nP,tw,Z0,tP,ZO,lc,nH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rw(){var e=0,t=1,r,n,i,a,s=Dn,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),u):[s(0),s(1)]}}return u.range=d(th),u.rangeRound=d(VO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iH(){var e=Ol(rw()(Dn));return e.copy=function(){return Pl(e,iH())},fo.apply(e,arguments)}function aH(){var e=GO(rw()).domain([1,10]);return e.copy=function(){return Pl(e,aH()).base(e.base())},fo.apply(e,arguments)}function sH(){var e=KO(rw());return e.copy=function(){return Pl(e,sH()).constant(e.constant())},fo.apply(e,arguments)}function aP(){var e=YO(rw());return e.copy=function(){return Pl(e,aP()).exponent(e.exponent())},fo.apply(e,arguments)}function vAe(){return aP.apply(null,arguments).exponent(.5)}function oH(){var e=[],t=Dn;function r(n){if(n!=null&&!isNaN(n=+n))return t((pg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(sl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>nOe(e,a/n))},r.copy=function(){return oH(t).domain(e)},fo.apply(r,arguments)}function nw(){var e=0,t=.5,r=1,n=1,i,a,s,o,c,u=Dn,d,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+d(g))-a)*(n*g<n*a?o:c),u(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,i=d(e=+e),a=d(t=+t),s=d(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,u=OOe(g,[b,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=m(th),p.rangeRound=m(VO),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return d=g,i=g(e),a=g(t),s=g(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,p}}function lH(){var e=Ol(nw()(Dn));return e.copy=function(){return Pl(e,lH())},fo.apply(e,arguments)}function cH(){var e=GO(nw()).domain([.1,1,10]);return e.copy=function(){return Pl(e,cH()).base(e.base())},fo.apply(e,arguments)}function uH(){var e=KO(nw());return e.copy=function(){return Pl(e,uH()).constant(e.constant())},fo.apply(e,arguments)}function sP(){var e=YO(nw());return e.copy=function(){return Pl(e,sP()).exponent(e.exponent())},fo.apply(e,arguments)}function yAe(){return sP.apply(null,arguments).exponent(.5)}const zI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:um,scaleDiverging:lH,scaleDivergingLog:cH,scaleDivergingPow:sP,scaleDivergingSqrt:yAe,scaleDivergingSymlog:uH,scaleIdentity:z9,scaleImplicit:mk,scaleLinear:Ax,scaleLog:W9,scaleOrdinal:BO,scalePoint:sp,scalePow:JO,scaleQuantile:G9,scaleQuantize:K9,scaleRadial:q9,scaleSequential:iH,scaleSequentialLog:aH,scaleSequentialPow:aP,scaleSequentialQuantile:oH,scaleSequentialSqrt:vAe,scaleSequentialSymlog:sH,scaleSqrt:QOe,scaleSymlog:H9,scaleThreshold:Y9,scaleTime:mAe,scaleUtc:gAe,tickFormat:U9},Symbol.toStringTag,{value:"Module"}));var xAe=qf;function bAe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],s=t(a);if(s!=null&&(o===void 0?s===s&&!xAe(s):r(s,o)))var o=s,c=a}return c}var iw=bAe;function wAe(e,t){return e>t}var dH=wAe,_Ae=iw,SAe=dH,jAe=eh;function kAe(e){return e&&e.length?_Ae(e,jAe,SAe):void 0}var NAe=kAe;const Ko=bt(NAe);function CAe(e,t){return e<t}var fH=CAe,EAe=iw,OAe=fH,PAe=eh;function AAe(e){return e&&e.length?EAe(e,PAe,OAe):void 0}var TAe=AAe;const aw=bt(TAe);var MAe=bO,$Ae=gs,IAe=w9,RAe=ei;function DAe(e,t){var r=RAe(e)?MAe:IAe;return r(e,$Ae(t))}var LAe=DAe,FAe=x9,BAe=LAe;function UAe(e,t){return FAe(BAe(e,t),1)}var zAe=UAe;const VAe=bt(zAe);var WAe=IO;function HAe(e,t){return WAe(e,t)}var qAe=HAe;const Uc=bt(qAe);var rh=1e9,GAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lP,Jt=!0,qi="[DecimalError] ",wc=qi+"Invalid argument: ",oP=qi+"Exponent out of range: ",nh=Math.floor,Jl=Math.pow,KAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pi,Wr=1e7,Vt=7,hH=9007199254740991,Ix=nh(hH/Vt),je={};je.absoluteValue=je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};je.comparedTo=je.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};je.decimalPlaces=je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Vt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};je.dividedBy=je.div=function(e){return zs(this,new this.constructor(e))};je.dividedToIntegerBy=je.idiv=function(e){var t=this,r=t.constructor;return Pt(zs(t,new r(e),0,1),r.precision)};je.equals=je.eq=function(e){return!this.cmp(e)};je.exponent=function(){return Cr(this)};je.greaterThan=je.gt=function(e){return this.cmp(e)>0};je.greaterThanOrEqualTo=je.gte=function(e){return this.cmp(e)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(e){return this.cmp(e)<0};je.lessThanOrEqualTo=je.lte=function(e){return this.cmp(e)<1};je.logarithm=je.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(pi))throw Error(qi+"NaN");if(r.s<1)throw Error(qi+(r.s?"NaN":"-Infinity"));return r.eq(pi)?new n(0):(Jt=!1,t=zs(mm(r,a),mm(e,a),a),Jt=!0,Pt(t,i))};je.minus=je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gH(t,e):pH(t,(e.s=-e.s,e))};je.modulo=je.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(qi+"NaN");return r.s?(Jt=!1,t=zs(r,e,0,1).times(e),Jt=!0,r.minus(t)):Pt(new n(r),i)};je.naturalExponential=je.exp=function(){return mH(this)};je.naturalLogarithm=je.ln=function(){return mm(this)};je.negated=je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};je.plus=je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pH(t,e):gH(t,(e.s=-e.s,e))};je.precision=je.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wc+e);if(t=Cr(i)+1,n=i.d.length-1,r=n*Vt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};je.squareRoot=je.sqrt=function(){var e,t,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(qi+"NaN")}for(e=Cr(o),Jt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Qa(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(zs(o,a,s+2)).times(.5),Qa(a.d).slice(0,s)===(t=Qa(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Pt(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Jt=!0,Pt(n,r)};je.times=je.mul=function(e){var t,r,n,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(a=h,h=p,p=a,s=c,c=u,u=s),a=[],s=c+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)o=a[i]+p[n]*h[i-n-1]+t,a[i--]=o%Wr|0,t=o/Wr|0;a[i]=(a[i]+t)%Wr|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Jt?Pt(e,f.precision):e};je.toDecimalPlaces=je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(us(e,0,rh),t===void 0?t=n.rounding:us(t,0,8),Pt(r,e+Cr(r)+1,t))};je.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=zc(n,!0):(us(e,0,rh),t===void 0?t=i.rounding:us(t,0,8),n=Pt(new i(n),e+1,t),r=zc(n,!0,e+1)),r};je.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?zc(i):(us(e,0,rh),t===void 0?t=a.rounding:us(t,0,8),n=Pt(new a(i),e+Cr(i)+1,t),r=zc(n.abs(),!1,e+Cr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};je.toInteger=je.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),Cr(e)+1,t.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(e){var t,r,n,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(pi);if(o=new c(o),!o.s){if(e.s<1)throw Error(qi+"Infinity");return o}if(o.eq(pi))return o;if(n=c.precision,e.eq(pi))return Pt(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=d<0?-d:d)<=hH){for(i=new c(pi),t=Math.ceil(n/Vt+4),Jt=!1;r%2&&(i=i.times(o),WI(i.d,t)),r=nh(r/2),r!==0;)o=o.times(o),WI(o.d,t);return Jt=!0,e.s<0?new c(pi).div(i):Pt(i,n)}}else if(a<0)throw Error(qi+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Jt=!1,i=e.times(mm(o,n+u)),Jt=!0,i=mH(i),i.s=a,i};je.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Cr(i),n=zc(i,r<=a.toExpNeg||r>=a.toExpPos)):(us(e,1,rh),t===void 0?t=a.rounding:us(t,0,8),i=Pt(new a(i),e,t),r=Cr(i),n=zc(i,e<=r||r<=a.toExpNeg,e)),n};je.toSignificantDigits=je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(us(e,1,rh),t===void 0?t=n.rounding:us(t,0,8)),Pt(new n(r),e,t)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),r=e.constructor;return zc(e,t<=r.toExpNeg||t>=r.toExpPos)};function pH(e,t){var r,n,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Jt?Pt(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=u.length):(n=u,i=s,o=c.length),s=Math.ceil(f/Vt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Wr|0,c[a]%=Wr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,Jt?Pt(t,f):t}function us(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wc+e)}function Qa(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Vt-n.length,r&&(a+=To(r)),a+=n;s=e[t],n=s+"",r=Vt-n.length,r&&(a+=To(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var zs=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Wr|0,s=a/Wr|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Wr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,u,d,f,h,p,m,g,v,b,y,w,_,S,k,N,E,P=n.constructor,T=n.s==i.s?1:-1,$=n.d,M=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(qi+"Division by zero");for(c=n.e-i.e,N=M.length,S=$.length,p=new P(T),m=p.d=[],u=0;M[u]==($[u]||0);)++u;if(M[u]>($[u]||0)&&--c,a==null?y=a=P.precision:s?y=a+(Cr(n)-Cr(i))+1:y=a,y<0)return new P(0);if(y=y/Vt+2|0,u=0,N==1)for(d=0,M=M[0],y++;(u<S||d)&&y--;u++)w=d*Wr+($[u]||0),m[u]=w/M|0,d=w%M|0;else{for(d=Wr/(M[0]+1)|0,d>1&&(M=e(M,d),$=e($,d),N=M.length,S=$.length),_=N,g=$.slice(0,N),v=g.length;v<N;)g[v++]=0;E=M.slice(),E.unshift(0),k=M[0],M[1]>=Wr/2&&++k;do d=0,o=t(M,g,N,v),o<0?(b=g[0],N!=v&&(b=b*Wr+(g[1]||0)),d=b/k|0,d>1?(d>=Wr&&(d=Wr-1),f=e(M,d),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(d--,r(f,N<h?E:M,h))):(d==0&&(o=d=1),f=M.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(M,g,N,v),o<1&&(d++,r(g,N<v?E:M,v))),v=g.length):o===0&&(d++,g=[0]),m[u++]=d,o&&g[0]?g[v++]=$[_]||0:(g=[$[_]],v=1);while((_++<S||g[0]!==void 0)&&y--)}return m[0]||m.shift(),p.e=c,Pt(p,s?a+Cr(p)+1:a)}}();function mH(e,t){var r,n,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Cr(e)>16)throw Error(oP+Cr(e));if(!e.s)return new d(pi);for(Jt=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Jl(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new d(pi),d.precision=o;;){if(i=Pt(i.times(e),o),r=r.times(++c),s=a.plus(zs(i,r,o)),Qa(s.d).slice(0,o)===Qa(a.d).slice(0,o)){for(;u--;)a=Pt(a.times(a),o);return d.precision=f,t==null?(Jt=!0,Pt(a,f)):a}a=s}}function Cr(e){for(var t=e.e*Vt,r=e.d[0];r>=10;r/=10)t++;return t}function m1(e,t,r){if(t>e.LN10.sd())throw Jt=!0,r&&(e.precision=r),Error(qi+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function To(e){for(var t="";e--;)t+="0";return t}function mm(e,t){var r,n,i,a,s,o,c,u,d,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(qi+(p.s?"NaN":"-Infinity"));if(p.eq(pi))return new g(0);if(t==null?(Jt=!1,u=v):u=t,p.eq(10))return t==null&&(Jt=!0),m1(g,u);if(u+=h,g.precision=u,r=Qa(m),n=r.charAt(0),a=Cr(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Qa(p.d),n=r.charAt(0),f++;a=Cr(p),n>1?(p=new g("0."+r),a++):p=new g(n+"."+r.slice(1))}else return c=m1(g,u+2,v).times(a+""),p=mm(new g(n+"."+r.slice(1)),u-h).plus(c),g.precision=v,t==null?(Jt=!0,Pt(p,v)):p;for(o=s=p=zs(p.minus(pi),p.plus(pi),u),d=Pt(p.times(p),u),i=3;;){if(s=Pt(s.times(d),u),c=o.plus(zs(s,new g(i),u)),Qa(c.d).slice(0,u)===Qa(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(m1(g,u+2,v).times(a+""))),o=zs(o,new g(f),u),g.precision=v,t==null?(Jt=!0,Pt(o,v)):o;o=c,i+=2}}function VI(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=nh(r/Vt),e.d=[],n=(r+1)%Vt,r<0&&(n+=Vt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Vt;n<i;)e.d.push(+t.slice(n,n+=Vt));t=t.slice(n),n=Vt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Jt&&(e.e>Ix||e.e<-Ix))throw Error(oP+r)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,r){var n,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Vt,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Vt),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;n%=Vt,i=n-Vt+s}if(r!==void 0&&(a=Jl(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?u/Jl(10,s-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Cr(e),f.length=1,t=t-a-1,f[0]=Jl(10,(Vt-t%Vt)%Vt),e.e=nh(-t/Vt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Jl(10,Vt-n),f[d]=i>0?(u/Jl(10,s-i)%Jl(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Wr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Wr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Jt&&(e.e>Ix||e.e<-Ix))throw Error(oP+Cr(e));return e}function gH(e,t){var r,n,i,a,s,o,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Jt?Pt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,o=f.length):(r=f,n=u,o=c.length),i=Math.max(Math.ceil(p/Vt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Wr-1;--c[a],c[i]+=Wr}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Jt?Pt(t,p):t):new h(0)}function zc(e,t,r){var n,i=Cr(e),a=Qa(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+To(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+To(-i-1)+a,r&&(n=r-s)>0&&(a+=To(n))):i>=s?(a+=To(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+To(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=To(n))),e.s<0?"-"+a:a}function WI(e,t){if(e.length>t)return e.length=t,!0}function vH(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return VI(s,a.toString())}else if(typeof a!="string")throw Error(wc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,KAe.test(a))VI(s,a);else throw Error(wc+a)}if(i.prototype=je,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vH,i.config=i.set=YAe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function YAe(e){if(!e||typeof e!="object")throw Error(qi+"Object expected");var t,r,n,i=["precision",1,rh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(nh(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wc+r+": "+n);return this}var lP=vH(GAe);pi=new lP(1);const Ct=lP;function JAe(e){return eTe(e)||ZAe(e)||QAe(e)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(e,t){if(e){if(typeof e=="string")return xk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xk(e,t)}}function ZAe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eTe(e){if(Array.isArray(e))return xk(e)}function xk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tTe=function(t){return t},yH={},xH=function(t){return t===yH},HI=function(t){return function r(){return arguments.length===0||arguments.length===1&&xH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},rTe=function e(t,r){return t===1?r:HI(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var s=i.filter(function(o){return o!==yH}).length;return s>=t?r.apply(void 0,i):e(t-s,HI(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var d=i.map(function(f){return xH(f)?c.shift():f});return r.apply(void 0,JAe(d).concat(c))}))})},sw=function(t){return rTe(t.length,t)},bk=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},nTe=sw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),iTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return tTe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce(function(o,c){return c(o)},a.apply(void 0,arguments))}},wk=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bH=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r&&a.every(function(o,c){return o===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function aTe(e){var t;return e===0?t=1:t=Math.floor(new Ct(e).abs().log(10).toNumber())+1,t}function sTe(e,t,r){for(var n=new Ct(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var oTe=sw(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),lTe=sw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),cTe=sw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ow={rangeStep:sTe,getDigitCount:aTe,interpolateNumber:oTe,uninterpolateNumber:lTe,uninterpolateTruncation:cTe};function _k(e){return fTe(e)||dTe(e)||wH(e)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function fTe(e){if(Array.isArray(e))return Sk(e)}function gm(e,t){return mTe(e)||pTe(e,t)||wH(e,t)||hTe()}function hTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wH(e,t){if(e){if(typeof e=="string")return Sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sk(e,t)}}function Sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pTe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function mTe(e){if(Array.isArray(e))return e}function _H(e){var t=gm(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function SH(e,t,r){if(e.lte(0))return new Ct(0);var n=ow.getDigitCount(e.toNumber()),i=new Ct(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new Ct(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return t?c:new Ct(Math.ceil(c))}function gTe(e,t,r){var n=1,i=new Ct(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ct(10).pow(ow.getDigitCount(e)-1),i=new Ct(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ct(Math.floor(e)))}else e===0?i=new Ct(Math.floor((t-1)/2)):r||(i=new Ct(Math.floor(e)));var s=Math.floor((t-1)/2),o=iTe(nTe(function(c){return i.add(new Ct(c-s).mul(n)).toNumber()}),bk);return o(0,t)}function jH(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ct(0),tickMin:new Ct(0),tickMax:new Ct(0)};var a=SH(new Ct(t).sub(e).div(r-1),n,i),s;e<=0&&t>=0?s=new Ct(0):(s=new Ct(e).add(t).div(2),s=s.sub(new Ct(s).mod(a)));var o=Math.ceil(s.sub(e).div(a).toNumber()),c=Math.ceil(new Ct(t).sub(s).div(a).toNumber()),u=o+c+1;return u>r?jH(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,o=t>0?o:o+(r-u)),{step:a,tickMin:s.sub(new Ct(o).mul(a)),tickMax:s.add(new Ct(c).mul(a))})}function vTe(e){var t=gm(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),o=_H([r,n]),c=gm(o,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(_k(bk(0,i-1).map(function(){return 1/0}))):[].concat(_k(bk(0,i-1).map(function(){return-1/0})),[d]);return r>n?wk(f):f}if(u===d)return gTe(u,i,a);var h=jH(u,d,s,a),p=h.step,m=h.tickMin,g=h.tickMax,v=ow.rangeStep(m,g.add(new Ct(.1).mul(p)),p);return r>n?wk(v):v}function yTe(e,t){var r=gm(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_H([n,i]),o=gm(s,2),c=o[0],u=o[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=SH(new Ct(u).sub(c).div(d-1),a,0),h=[].concat(_k(ow.rangeStep(new Ct(c),new Ct(u).sub(new Ct(.99).mul(f)),f)),[u]);return n>i?wk(h):h}var xTe=bH(vTe),bTe=bH(yTe),wTe="Invariant failed";function Vc(e,t){throw new Error(wTe)}var _Te=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rx.apply(this,arguments)}function STe(e,t){return CTe(e)||NTe(e,t)||kTe(e,t)||jTe()}function jTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kTe(e,t){if(e){if(typeof e=="string")return qI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qI(e,t)}}function qI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function CTe(e){if(Array.isArray(e))return e}function ETe(e,t){if(e==null)return{};var r=OTe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ATe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CH(n.key),n)}}function TTe(e,t,r){return t&&ATe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MTe(e,t,r){return t=Dx(t),$Te(e,kH()?Reflect.construct(t,r||[],Dx(e).constructor):t.apply(e,r))}function $Te(e,t){if(t&&(of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ITe(e)}function ITe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(e)}function RTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jk(e,t)}function NH(e,t,r){return t=CH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=DTe(e,"string");return of(t)=="symbol"?t:t+""}function DTe(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yg=function(e){function t(){return PTe(this,t),MTe(this,t,arguments)}return RTe(t,e),TTe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,s=n.width,o=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=ETe(n,_Te),p=Me(h,!1);this.props.direction==="x"&&d.type!=="number"&&Vc();var m=c.map(function(g){var v=u(g,o),b=v.x,y=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],k,N;if(Array.isArray(_)){var E=STe(_,2);k=E[0],N=E[1]}else k=N=_;if(a==="vertical"){var P=d.scale,T=y+i,$=T+s,M=T-s,F=P(w-k),R=P(w+N);S.push({x1:R,y1:$,x2:R,y2:M}),S.push({x1:F,y1:T,x2:R,y2:T}),S.push({x1:F,y1:$,x2:F,y2:M})}else if(a==="horizontal"){var U=f.scale,W=b+i,z=W-s,L=W+s,B=U(w-k),G=U(w+N);S.push({x1:z,y1:G,x2:L,y2:G}),S.push({x1:W,y1:B,x2:W,y2:G}),S.push({x1:z,y1:B,x2:L,y2:B})}return A.createElement(it,Rx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},p),S.map(function(te){return A.createElement("line",Rx({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return A.createElement(it,{className:"recharts-errorBars"},m)}}])}(A.Component);NH(yg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NH(yg,"displayName","ErrorBar");function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){LTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LTe(e,t,r){return t=FTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FTe(e){var t=BTe(e,"string");return vm(t)=="symbol"?t:t+""}function BTe(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EH=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,s=oi(r,Us);if(!s)return null;var o=Us.defaultProps,c=o!==void 0?Dl(Dl({},o),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,m=p.sectors||p.data||[];return d.concat(m.map(function(g){return{type:s.props.iconType||h.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Dl(Dl({},h),f.props):{},m=p.dataKey,g=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:m,type:c.iconType||v||"square",color:cP(f),value:g||m,payload:p}}),Dl(Dl(Dl({},c),Us.getWithHeight(s,i)),{},{payload:u,item:s})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function KI(e){return WTe(e)||VTe(e)||zTe(e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(e,t){if(e){if(typeof e=="string")return kk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kk(e,t)}}function VTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WTe(e){if(Array.isArray(e))return kk(e)}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YI(Object(r),!0).forEach(function(n){xd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xd(e,t,r){return t=HTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HTe(e){var t=qTe(e,"string");return ym(t)=="symbol"?t:t+""}function qTe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gr(e,t,r){return He(e)||He(t)?r:Rr(t)?xi(e,t,r):Fe(t)?t(e):r}function op(e,t,r,n){var i=VAe(e,function(o){return gr(o,t)});if(r==="number"){var a=i.filter(function(o){return le(o)||parseFloat(o)});return a.length?[aw(a),Ko(a)]:[1/0,-1/0]}var s=n?i.filter(function(o){return!He(o)}):i;return s.map(function(o){return Rr(o)||o instanceof Date?o:""})}var GTe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,f=i[u].coordinate,h=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(In(f-d)!==In(h-f)){var m=[];if(In(h-f)===In(c[1]-c[0])){p=h;var g=f+c[1]-c[0];m[0]=Math.min(g,(g+d)/2),m[1]=Math.max(g,(g+d)/2)}else{p=d;var v=h+c[1]-c[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=m[0]&&t<=m[1]){s=i[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){s=i[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},cP=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,s=a.stroke,o=a.fill,c;switch(i){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:o;break;default:c=o;break}return c},KTe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var s={},o=Object.keys(a),c=0,u=o.length;c<u;c++)for(var d=a[o[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var m=d[f[h]],g=m.items,v=m.cateAxisId,b=g.filter(function(N){return Bs(N.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?or(or({},y),b[0].props):b[0].props,_=w.barSize,S=w[v];s[S]||(s[S]=[]);var k=He(_)?r:_;s[S].push({item:b[0],stackList:b.slice(1),barSize:He(k)?void 0:Rn(k,n,0)})}}return s},YTe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,s=a===void 0?[]:a,o=t.maxBarSize,c=s.length;if(c<1)return null;var u=Rn(r,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=i/c,m=s.reduce(function(_,S){return _+S.barSize||0},0);m+=(c-1)*u,m>=i&&(m-=(c-1)*u,u=0),m>=i&&p>0&&(h=!0,p*=.9,m=c*p);var g=(i-m)/2>>0,v={offset:g-u,size:0};d=s.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},N=[].concat(KI(_),[k]);return v=N[N.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){N.push({item:E,position:v})}),N},f)}else{var b=Rn(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var y=(i-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=o===+o?Math.min(y,o):y;d=s.reduce(function(_,S,k){var N=[].concat(KI(_),[{item:S.item,position:{offset:b+(y+u)*k+(y-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(E){N.push({item:E,position:N[N.length-1].position})}),N},f)}return d},JTe=function(t,r,n,i){var a=n.children,s=n.width,o=n.margin,c=s-(o.left||0)-(o.right||0),u=EH({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,p=u.align,m=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&p!=="center"&&le(t[p]))return or(or({},t),{},xd({},p,t[p]+(f||0)));if((g==="horizontal"||g==="vertical"&&p==="center")&&m!=="middle"&&le(t[m]))return or(or({},t),{},xd({},m,t[m]+(h||0)))}return t},XTe=function(t,r,n){return He(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},OH=function(t,r,n,i,a){var s=r.props.children,o=bi(s,yg).filter(function(u){return XTe(i,a,u.props.direction)});if(o&&o.length){var c=o.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=gr(d,n);if(He(f))return u;var h=Array.isArray(f)?[aw(f),Ko(f)]:[f,f],p=c.reduce(function(m,g){var v=gr(d,g,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,m[0]),Math.max(y,m[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},QTe=function(t,r,n,i,a){var s=r.map(function(o){return OH(t,o,n,a,i)}).filter(function(o){return!He(o)});return s&&s.length?s.reduce(function(o,c){return[Math.min(o[0],c[0]),Math.max(o[1],c[1])]},[1/0,-1/0]):null},PH=function(t,r,n,i,a){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&OH(t,c,u,i)||op(t,u,n,a)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var o={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)o[u[d]]||(o[u[d]]=!0,c.push(u[d]));return c},[])},AH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},TH=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,s,o=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(s=!0),c.coordinate});return a||o.push(r),s||o.push(n),o},Rs=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,s=t.type,o=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?In(o[0]-o[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Xf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},g1=new WeakMap,pv=function(t,r){if(typeof r!="function")return t;g1.has(t)||g1.set(t,new WeakMap);var n=g1.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},MH=function(t,r,n){var i=t.scale,a=t.type,s=t.layout,o=t.axisType;if(i==="auto")return s==="radial"&&o==="radiusAxis"?{scale:um(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Ax(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sp(),realScaleType:"point"}:a==="category"?{scale:um(),realScaleType:"band"}:{scale:Ax(),realScaleType:"linear"};if(Lc(i)){var c="scale".concat(W0(i));return{scale:(zI[c]||sp)(),realScaleType:zI[c]?c:"point"}}return Fe(i)?{scale:i}:{scale:sp(),realScaleType:"point"}},JI=1e-4,$H=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-JI,s=Math.max(i[0],i[1])+JI,o=t(r[0]),c=t(r[n-1]);(o<a||o>s||c<a||c>s)&&t.domain([r[0],r[n-1]])}},ZTe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},e2e=function(t,r){if(!r||r.length!==2||!le(r[0])||!le(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!le(t[0])||t[0]<n)&&(a[0]=n),(!le(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},t2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0,o=0;o<r;++o){var c=Xf(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+c,s=t[o][n][1])}},r2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,s=0;s<r;++s){var o=Xf(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=a,t[s][n][1]=a+o,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},n2e={sign:t2e,expand:_0e,none:Qd,silhouette:S0e,wiggle:j0e,positive:r2e},i2e=function(t,r,n){var i=r.map(function(o){return o.props.dataKey}),a=n2e[n],s=w0e().keys(i).value(function(o,c){return+gr(o,c,0)}).order(Jj).offset(a);return s(t)},a2e=function(t,r,n,i,a,s){if(!t)return null;var o=s?r.reverse():r,c={},u=o.reduce(function(f,h){var p,m=(p=h.type)!==null&&p!==void 0&&p.defaultProps?or(or({},h.type.defaultProps),h.props):h.props,g=m.stackId,v=m.hide;if(v)return f;var b=m[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Rr(g)){var w=y.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[g]=w}else y.stackGroups[su("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return or(or({},f),{},xd({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var m={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(g,v){var b=p.stackGroups[v];return or(or({},g),{},xd({},v,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:i2e(t,b.items,a)}))},m)}return or(or({},f),{},xd({},h,p))},d)},IH=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,s=r.originalDomain,o=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=xTe(u,a,o);return t.domain([aw(d),Ko(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=bTe(f,a,o);return{niceTicks:h}}return null};function Lx(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!He(i[t.dataKey])){var o=cx(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=gr(i,He(s)?t.dataKey:s);return He(c)?null:t.scale(c)}var XI=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var c=gr(s,r.dataKey,r.domain[o]);return He(c)?null:r.scale(c)-a/2+i},s2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},o2e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Rr(a)){var s=r[a];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},l2e=function(t){return t.reduce(function(r,n){return[aw(n.concat([r[0]]).filter(le)),Ko(n.concat([r[1]]).filter(le))]},[1/0,-1/0])},RH=function(t,r,n){return Object.keys(t).reduce(function(i,a){var s=t[a],o=s.stackedData,c=o.reduce(function(u,d){var f=l2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},QI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nk=function(t,r,n){if(Fe(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(le(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(QI.test(t[0])){var a=+QI.exec(t[0])[1];i[0]=r[0]-a}else Fe(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(le(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(ZI.test(t[1])){var s=+ZI.exec(t[1])[1];i[1]=r[1]+s}else Fe(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Fx=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=DO(r,function(f){return f.coordinate}),s=1/0,o=1,c=a.length;o<c;o++){var u=a[o],d=a[o-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},eR=function(t,r,n){return!t||!t.length||Uc(t,xi(n,"type.defaultProps.domain"))?r:t},DH=function(t,r){var n=t.type.defaultProps?or(or({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,s=n.unit,o=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return or(or({},Me(t,!1)),{},{dataKey:i,unit:s,formatter:o,name:a||i,color:cP(t),value:gr(r,i),type:c,payload:r,chartType:u,hide:d})};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){LH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LH(e,t,r){return t=c2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2e(e){var t=u2e(e,"string");return xm(t)=="symbol"?t:t+""}function u2e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d2e(e,t){return m2e(e)||p2e(e,t)||h2e(e,t)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h2e(e,t){if(e){if(typeof e=="string")return rR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rR(e,t)}}function rR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function m2e(e){if(Array.isArray(e))return e}var Bx=Math.PI/180,g2e=function(t){return t*180/Math.PI},Lt=function(t,r,n,i){return{x:t+Math.cos(-Bx*i)*n,y:r+Math.sin(-Bx*i)*n}},FH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},v2e=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.startAngle,u=t.endAngle,d=Rn(t.cx,s,s/2),f=Rn(t.cy,o,o/2),h=FH(s,o,n),p=Rn(t.innerRadius,h,0),m=Rn(t.outerRadius,h,h*.8),g=Object.keys(r);return g.reduce(function(v,b){var y=r[b],w=y.domain,_=y.reversed,S;if(He(y.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[p,m]),_&&(S=[S[1],S[0]]);else{S=y.range;var k=S,N=d2e(k,2);c=N[0],u=N[1]}var E=MH(y,a),P=E.realScaleType,T=E.scale;T.domain(w).range(S),$H(T);var $=IH(T,Cs(Cs({},y),{},{realScaleType:P})),M=Cs(Cs(Cs({},y),$),{},{range:S,radius:m,realScaleType:P,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:m,startAngle:c,endAngle:u});return Cs(Cs({},v),{},LH({},b,M))},{})},y2e=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2))},x2e=function(t,r){var n=t.x,i=t.y,a=r.cx,s=r.cy,o=y2e({x:n,y:i},{x:a,y:s});if(o<=0)return{radius:o};var c=(n-a)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:g2e(u),angleInRadian:u}},b2e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return{startAngle:r-s*360,endAngle:n-s*360}},w2e=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),s=Math.floor(i/360),o=Math.min(a,s);return t+o*360},nR=function(t,r){var n=t.x,i=t.y,a=x2e({x:n,y:i},r),s=a.radius,o=a.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=b2e(r),f=d.startAngle,h=d.endAngle,p=o,m;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=f}return m?Cs(Cs({},r),{},{radius:s,angle:w2e(p,r)}):null},BH=function(t){return!x.isValidElement(t)&&!Fe(t)&&typeof t!="boolean"?t.className:""};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var _2e=["offset"];function S2e(e){return C2e(e)||N2e(e)||k2e(e)||j2e()}function j2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k2e(e,t){if(e){if(typeof e=="string")return Ck(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ck(e,t)}}function N2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C2e(e){if(Array.isArray(e))return Ck(e)}function Ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E2e(e,t){if(e==null)return{};var r=O2e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function O2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){P2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t,r){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=T2e(e,"string");return bm(t)=="symbol"?t:t+""}function T2e(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(this,arguments)}var M2e=function(t){var r=t.value,n=t.formatter,i=He(t.children)?r:t.children;return Fe(n)?n(i):i},$2e=function(t,r){var n=In(r-t),i=Math.min(Math.abs(r-t),360);return n*i},I2e=function(t,r,n){var i=t.position,a=t.viewBox,s=t.offset,o=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,m=c.endAngle,g=c.clockWise,v=(f+h)/2,b=$2e(p,m),y=b>=0?1:-1,w,_;i==="insideStart"?(w=p+y*s,_=g):i==="insideEnd"?(w=m-y*s,_=!g):i==="end"&&(w=m+y*s,_=g),_=b<=0?_:!_;var S=Lt(u,d,v,w),k=Lt(u,d,v,w+(_?1:-1)*359),N="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),E=He(t.id)?su("recharts-radial-line-"):t.id;return A.createElement("text",wm({},n,{dominantBaseline:"central",className:qe("recharts-radial-bar-label",o)}),A.createElement("defs",null,A.createElement("path",{id:E,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(E)},r))},R2e=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,s=a.cx,o=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var p=Lt(s,o,u+n,h),m=p.x,g=p.y;return{x:m,y:g,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Lt(s,o,v,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},D2e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,s=r,o=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,p=f>0?"end":"start",m=f>0?"start":"end",g=u>=0?1:-1,v=g*i,b=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var w={x:o+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:p};return Pr(Pr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var _={x:o+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:m};return Pr(Pr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:o-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Pr(Pr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(a==="right"){var k={x:o+u+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Pr(Pr({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return a==="insideLeft"?Pr({x:o+v,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideRight"?Pr({x:o+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideTop"?Pr({x:o+u/2,y:c+h,textAnchor:"middle",verticalAnchor:m},N):a==="insideBottom"?Pr({x:o+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},N):a==="insideTopLeft"?Pr({x:o+v,y:c+h,textAnchor:y,verticalAnchor:m},N):a==="insideTopRight"?Pr({x:o+u-v,y:c+h,textAnchor:b,verticalAnchor:m},N):a==="insideBottomLeft"?Pr({x:o+v,y:c+d-h,textAnchor:y,verticalAnchor:p},N):a==="insideBottomRight"?Pr({x:o+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},N):Gf(a)&&(le(a.x)||sc(a.x))&&(le(a.y)||sc(a.y))?Pr({x:o+Rn(a.x,u),y:c+Rn(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):Pr({x:o+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},L2e=function(t){return"cx"in t&&le(t.cx)};function Kr(e){var t=e.offset,r=t===void 0?5:t,n=E2e(e,_2e),i=Pr({offset:r},n),a=i.viewBox,s=i.position,o=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||He(o)&&He(c)&&!x.isValidElement(u)&&!Fe(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var p;if(Fe(u)){if(p=x.createElement(u,i),x.isValidElement(p))return p}else p=M2e(i);var m=L2e(a),g=Me(i,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return I2e(i,p,g);var v=m?R2e(i):D2e(i);return A.createElement(Bc,wm({className:qe("recharts-label",f)},g,v,{breakAll:h}),p)}Kr.displayName="Label";var UH=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,s=t.endAngle,o=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,m=t.left,g=t.width,v=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(le(g)&&le(v)){if(le(f)&&le(h))return{x:f,y:h,width:g,height:v};if(le(p)&&le(m))return{x:p,y:m,width:g,height:v}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(r)&&le(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||c||o||0,clockWise:b}:t.viewBox?t.viewBox:{}},F2e=function(t,r){return t?t===!0?A.createElement(Kr,{key:"label-implicit",viewBox:r}):Rr(t)?A.createElement(Kr,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===Kr?x.cloneElement(t,{key:"label-implicit",viewBox:r}):A.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Fe(t)?A.createElement(Kr,{key:"label-implicit",content:t,viewBox:r}):Gf(t)?A.createElement(Kr,wm({viewBox:r},t,{key:"label-implicit"})):null:null},B2e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=UH(t),s=bi(i,Kr).map(function(c,u){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return s;var o=F2e(t.label,r||a);return[o].concat(S2e(s))};Kr.parseViewBox=UH;Kr.renderCallByParent=B2e;function U2e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var z2e=U2e;const V2e=bt(z2e);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}var W2e=["valueAccessor"],H2e=["data","dataKey","clockWise","id","textBreakAll"];function q2e(e){return J2e(e)||Y2e(e)||K2e(e)||G2e()}function G2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K2e(e,t){if(e){if(typeof e=="string")return Ek(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ek(e,t)}}function Y2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J2e(e){if(Array.isArray(e))return Ek(e)}function Ek(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ux(){return Ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ux.apply(this,arguments)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){X2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X2e(e,t,r){return t=Q2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q2e(e){var t=Z2e(e,"string");return _m(t)=="symbol"?t:t+""}function Z2e(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oR(e,t){if(e==null)return{};var r=eMe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tMe=function(t){return Array.isArray(t.value)?V2e(t.value):t.value};function ss(e){var t=e.valueAccessor,r=t===void 0?tMe:t,n=oR(e,W2e),i=n.data,a=n.dataKey,s=n.clockWise,o=n.id,c=n.textBreakAll,u=oR(n,H2e);return!i||!i.length?null:A.createElement(it,{className:"recharts-label-list"},i.map(function(d,f){var h=He(a)?r(d,f):gr(d&&d.payload,a),p=He(o)?{}:{id:"".concat(o,"-").concat(f)};return A.createElement(Kr,Ux({},Me(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Kr.parseViewBox(He(s)?d:sR(sR({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ss.displayName="LabelList";function rMe(e,t){return e?e===!0?A.createElement(ss,{key:"labelList-implicit",data:t}):A.isValidElement(e)||Fe(e)?A.createElement(ss,{key:"labelList-implicit",data:t,content:e}):Gf(e)?A.createElement(ss,Ux({data:t},e,{key:"labelList-implicit"})):null:null}function nMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=bi(n,ss).map(function(s,o){return x.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return i;var a=rMe(e.label,t);return[a].concat(q2e(i))}ss.renderCallByParent=nMe;function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Ok(){return Ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ok.apply(this,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){iMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iMe(e,t,r){return t=aMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aMe(e){var t=sMe(e,"string");return Sm(t)=="symbol"?t:t+""}function sMe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oMe=function(t,r){var n=In(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},mv=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,s=t.sign,o=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(o?1:-1)+i,f=Math.asin(c/d)/Bx,h=u?a:a+s*f,p=Lt(r,n,d,h),m=Lt(r,n,i,h),g=u?a-s*f:a,v=Lt(r,n,d*Math.cos(f*Bx),g);return{center:p,circleTangency:m,lineTangency:v,theta:f}},zH=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.startAngle,o=t.endAngle,c=oMe(s,o),u=s+c,d=Lt(r,n,a,s),f=Lt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Lt(r,n,i,s),m=Lt(r,n,i,u);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},lMe=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=In(d-u),h=mv({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,m=h.lineTangency,g=h.theta,v=mv({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,y=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-g-w;if(_<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var k=mv({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),N=k.circleTangency,E=k.lineTangency,P=k.theta,T=mv({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),$=T.circleTangency,M=T.lineTangency,F=T.theta,R=c?Math.abs(u-d):Math.abs(u-d)-P-F;if(R<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},cMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VH=function(t){var r=cR(cR({},cMe),t),n=r.cx,i=r.cy,a=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<a||d===f)return null;var p=qe("recharts-sector",h),m=s-a,g=Rn(o,m,0,!0),v;return g>0&&Math.abs(d-f)<360?v=lMe({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=zH({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:d,endAngle:f}),A.createElement("path",Ok({},Me(r,!0),{className:p,d:v,role:"img"}))};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){uMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uMe(e,t,r){return t=dMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dMe(e){var t=fMe(e,"string");return jm(t)=="symbol"?t:t+""}function fMe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fR={curveBasisClosed:u0e,curveBasisOpen:d0e,curveBasis:c0e,curveBumpX:Ybe,curveBumpY:Jbe,curveLinearClosed:f0e,curveLinear:q0,curveMonotoneX:h0e,curveMonotoneY:p0e,curveNatural:m0e,curveStep:g0e,curveStepAfter:y0e,curveStepBefore:v0e},gv=function(t){return t.x===+t.x&&t.y===+t.y},Eh=function(t){return t.x},Oh=function(t){return t.y},hMe=function(t,r){if(Fe(t))return t;var n="curve".concat(W0(t));return(n==="curveMonotone"||n==="curveBump")&&r?fR["".concat(n).concat(r==="vertical"?"Y":"X")]:fR[n]||q0},pMe=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,s=t.baseLine,o=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=hMe(n,o),f=u?a.filter(function(g){return gv(g)}):a,h;if(Array.isArray(s)){var p=u?s.filter(function(g){return gv(g)}):s,m=f.map(function(g,v){return dR(dR({},g),{},{base:p[v]})});return o==="vertical"?h=sv().y(Oh).x1(Eh).x0(function(g){return g.base.x}):h=sv().x(Eh).y1(Oh).y0(function(g){return g.base.y}),h.defined(gv).curve(d),h(m)}return o==="vertical"&&le(s)?h=sv().y(Oh).x1(Eh).x0(s):le(s)?h=sv().x(Eh).y1(Oh).y0(s):h=LW().x(Eh).y(Oh),h.defined(gv).curve(d),h(f)},_c=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?pMe(t):i;return x.createElement("path",Pk({},Me(t,!1),ux(t),{className:qe("recharts-curve",r),d:s,ref:a}))},WH={exports:{}},mMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gMe=mMe,vMe=gMe;function HH(){}function qH(){}qH.resetWarningCache=HH;var yMe=function(){function e(n,i,a,s,o,c){if(c!==vMe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qH,resetWarningCache:HH};return r.PropTypes=r,r};WH.exports=yMe();var xMe=WH.exports;const yt=bt(xMe),{getOwnPropertyNames:bMe,getOwnPropertySymbols:wMe}=Object,{hasOwnProperty:_Me}=Object.prototype;function v1(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function vv(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);const{cache:a}=i,s=a.get(r),o=a.get(n);if(s&&o)return s===n&&o===r;a.set(r,n),a.set(n,r);const c=e(r,n,i);return a.delete(r),a.delete(n),c}}function SMe(e){return e!=null?e[Symbol.toStringTag]:void 0}function hR(e){return bMe(e).concat(wMe(e))}const jMe=Object.hasOwn||((e,t)=>_Me.call(e,t));function cu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const kMe="__v",NMe="__o",CMe="_owner",{getOwnPropertyDescriptor:pR,keys:mR}=Object;function EMe(e,t){return e.byteLength===t.byteLength&&zx(new Uint8Array(e),new Uint8Array(t))}function OMe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function PMe(e,t){return e.byteLength===t.byteLength&&zx(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function AMe(e,t){return cu(e.getTime(),t.getTime())}function TMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function MMe(e,t){return e===t}function gR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.entries();let s,o,c=0;for(;(s=a.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(o=u.next())&&!o.done;){if(i[f]){f++;continue}const h=s.value,p=o.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const $Me=cu;function IMe(e,t,r){const n=mR(e);let i=n.length;if(mR(t).length!==i)return!1;for(;i-- >0;)if(!GH(e,t,r,n[i]))return!1;return!0}function Ph(e,t,r){const n=hR(e);let i=n.length;if(hR(t).length!==i)return!1;let a,s,o;for(;i-- >0;)if(a=n[i],!GH(e,t,r,a)||(s=pR(e,a),o=pR(t,a),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function RMe(e,t){return cu(e.valueOf(),t.valueOf())}function DMe(e,t){return e.source===t.source&&e.flags===t.flags}function vR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const i=new Array(n),a=e.values();let s,o;for(;(s=a.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(o=c.next())&&!o.done;){if(!i[d]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function zx(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function LMe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function GH(e,t,r,n){return(n===CMe||n===NMe||n===kMe)&&(e.$$typeof||t.$$typeof)?!0:jMe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const FMe="[object ArrayBuffer]",BMe="[object Arguments]",UMe="[object Boolean]",zMe="[object DataView]",VMe="[object Date]",WMe="[object Error]",HMe="[object Map]",qMe="[object Number]",GMe="[object Object]",KMe="[object RegExp]",YMe="[object Set]",JMe="[object String]",XMe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},QMe="[object URL]",ZMe=Object.prototype.toString;function e$e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:s,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:m}){return function(v,b,y){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?o(v,b,y):w==="function"?a(v,b,y):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,y);if(Array.isArray(v))return t(v,b,y);if(_===Date)return n(v,b,y);if(_===RegExp)return d(v,b,y);if(_===Map)return s(v,b,y);if(_===Set)return f(v,b,y);const S=ZMe.call(v);if(S===VMe)return n(v,b,y);if(S===KMe)return d(v,b,y);if(S===HMe)return s(v,b,y);if(S===YMe)return f(v,b,y);if(S===GMe)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,y);if(S===QMe)return p(v,b,y);if(S===WMe)return i(v,b,y);if(S===BMe)return c(v,b,y);if(XMe[S])return h(v,b,y);if(S===FMe)return e(v,b,y);if(S===zMe)return r(v,b,y);if(S===UMe||S===qMe||S===JMe)return u(v,b,y);if(m){let k=m[S];if(!k){const N=SMe(v);N&&(k=m[N])}if(k)return k(v,b,y)}return!1}}function t$e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:EMe,areArraysEqual:r?Ph:OMe,areDataViewsEqual:PMe,areDatesEqual:AMe,areErrorsEqual:TMe,areFunctionsEqual:MMe,areMapsEqual:r?v1(gR,Ph):gR,areNumbersEqual:$Me,areObjectsEqual:r?Ph:IMe,arePrimitiveWrappersEqual:RMe,areRegExpsEqual:DMe,areSetsEqual:r?v1(vR,Ph):vR,areTypedArraysEqual:r?v1(zx,Ph):zx,areUrlsEqual:LMe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const i=vv(n.areArraysEqual),a=vv(n.areMapsEqual),s=vv(n.areObjectsEqual),o=vv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:o})}return n}function r$e(e){return function(t,r,n,i,a,s,o){return e(t,r,o)}}function n$e({circular:e,comparator:t,createState:r,equals:n,strict:i}){if(r)return function(o,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(o,c,{cache:u,equals:n,meta:d,strict:i})};if(e)return function(o,c){return t(o,c,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const a={cache:void 0,equals:n,meta:void 0,strict:i};return function(o,c){return t(o,c,a)}}const i$e=Al();Al({strict:!0});Al({circular:!0});Al({circular:!0,strict:!0});Al({createInternalComparator:()=>cu});Al({strict:!0,createInternalComparator:()=>cu});Al({circular:!0,createInternalComparator:()=>cu});Al({circular:!0,createInternalComparator:()=>cu,strict:!0});function Al(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:i=!1}=e,a=t$e(e),s=e$e(a),o=r?r(s):r$e(s);return n$e({circular:t,comparator:s,createState:n,equals:o,strict:i})}function a$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function yR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):a$e(i)};requestAnimationFrame(n)}function Ak(e){"@babel/helpers - typeof";return Ak=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ak(e)}function s$e(e){return u$e(e)||c$e(e)||l$e(e)||o$e()}function o$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l$e(e,t){if(e){if(typeof e=="string")return xR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xR(e,t)}}function xR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u$e(e){if(Array.isArray(e))return e}function d$e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,o=s$e(s),c=o[0],u=o.slice(1);if(typeof c=="number"){yR(i.bind(null,u),c);return}i(c),yR(i.bind(null,u));return}Ak(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){KH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KH(e,t,r){return t=f$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f$e(e){var t=h$e(e,"string");return km(t)==="symbol"?t:String(t)}function h$e(e,t){if(km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},m$e=function(t){return t},g$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},lp=function(t,r){return Object.keys(r).reduce(function(n,i){return wR(wR({},n),{},KH({},i,t(i,r[i])))},{})},_R=function(t,r,n){return t.map(function(i){return"".concat(g$e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function v$e(e,t){return b$e(e)||x$e(e,t)||YH(e,t)||y$e()}function y$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function b$e(e){if(Array.isArray(e))return e}function w$e(e){return j$e(e)||S$e(e)||YH(e)||_$e()}function _$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function S$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j$e(e){if(Array.isArray(e))return Tk(e)}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vx=1e-4,JH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},XH=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},SR=function(t,r){return function(n){var i=JH(t,r);return XH(i,n)}},k$e=function(t,r){return function(n){var i=JH(t,r),a=[].concat(w$e(i.map(function(s,o){return s*o}).slice(1)),[0]);return XH(a,n)}},jR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,s=1,o=1;break;case"ease":i=.25,a=.1,s=.25,o=1;break;case"ease-in":i=.42,a=0,s=1,o=1;break;case"ease-out":i=.42,a=0,s=.58,o=1;break;case"ease-in-out":i=0,a=0,s=.58,o=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=v$e(u,4);i=d[0],a=d[1],s=d[2],o=d[3]}}}var f=SR(i,s),h=SR(a,o),p=k$e(i,s),m=function(b){return b>1?1:b<0?0:b},g=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var S=f(w)-y,k=p(w);if(Math.abs(S-y)<Vx||k<Vx)return h(w);w=m(w-S/k)}return h(w)};return g.isStepper=!1,g},N$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,s=t.dt,o=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,m=h*a,g=h+(p-m)*o/1e3,v=h*o/1e3+d;return Math.abs(v-f)<Vx&&Math.abs(g)<Vx?[f,0]:[v,g]};return c.isStepper=!0,c.dt=o,c},C$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jR(i);case"spring":return N$e();default:if(i.split("(")[0]==="cubic-bezier")return jR(i)}return typeof i=="function"?i:null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function kR(e){return P$e(e)||O$e(e)||QH(e)||E$e()}function E$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P$e(e){if(Array.isArray(e))return $k(e)}function NR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NR(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mk(e,t,r){return t=A$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A$e(e){var t=T$e(e,"string");return Nm(t)==="symbol"?t:String(t)}function T$e(e,t){if(Nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M$e(e,t){return R$e(e)||I$e(e,t)||QH(e,t)||$$e()}function $$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QH(e,t){if(e){if(typeof e=="string")return $k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(e,t)}}function $k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function R$e(e){if(Array.isArray(e))return e}var Wx=function(t,r,n){return t+(r-t)*n},Ik=function(t){var r=t.from,n=t.to;return r!==n},D$e=function e(t,r,n){var i=lp(function(a,s){if(Ik(s)){var o=t(s.from,s.to,s.velocity),c=M$e(o,2),u=c[0],d=c[1];return rn(rn({},s),{},{from:u,velocity:d})}return s},r);return n<1?lp(function(a,s){return Ik(s)?rn(rn({},s),{},{velocity:Wx(s.velocity,i[a].velocity,n),from:Wx(s.from,i[a].from,n)}):s},r):e(t,i,n-1)};const L$e=function(e,t,r,n,i){var a=p$e(e,t),s=a.reduce(function(v,b){return rn(rn({},v),{},Mk({},b,[e[b],t[b]]))},{}),o=a.reduce(function(v,b){return rn(rn({},v),{},Mk({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return lp(function(b,y){return y.from},o)},p=function(){return!Object.values(o).filter(Ik).length},m=function(b){u||(u=b);var y=b-u,w=y/r.dt;o=D$e(r,o,w),i(rn(rn(rn({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},g=function(b){d||(d=b);var y=(b-d)/n,w=lp(function(S,k){return Wx.apply(void 0,kR(k).concat([r(y)]))},s);if(i(rn(rn(rn({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var _=lp(function(S,k){return Wx.apply(void 0,kR(k).concat([r(1)]))},s);i(rn(rn(rn({},e),t),_))}};return f=r.isStepper?m:g,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}var F$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function B$e(e,t){if(e==null)return{};var r=U$e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U$e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function y1(e){return H$e(e)||W$e(e)||V$e(e)||z$e()}function z$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$e(e,t){if(e){if(typeof e=="string")return Rk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rk(e,t)}}function W$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H$e(e){if(Array.isArray(e))return Rk(e)}function Rk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zh(e,t,r){return t=ZH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZH(n.key),n)}}function K$e(e,t,r){return t&&G$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZH(e){var t=Y$e(e,"string");return lf(t)==="symbol"?t:String(t)}function Y$e(e,t){if(lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dk(e,t)}function X$e(e){var t=Q$e();return function(){var n=Hx(e),i;if(t){var a=Hx(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Lk(this,i)}}function Lk(e,t){if(t&&(lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fk(e)}function Fk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hx(e){return Hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hx(e)}var $a=function(e){J$e(r,e);var t=X$e(r);function r(n,i){var a;q$e(this,r),a=t.call(this,n,i);var s=a.props,o=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Fk(a)),a.changeStyle=a.changeStyle.bind(Fk(a)),!o||p<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Lk(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Lk(a);a.state={style:c?zh({},c,u):u}}else a.state={style:{}};return a}return K$e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,s=i.canBegin;this.mounted=!0,!(!a||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isActive,o=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(o){if(!s){var p={style:c?zh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(i$e(i.to,d)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||u?f:i.to;if(this.state&&h){var v={style:c?zh({},c,g):g};(c&&h[c]!==g||!c&&h!==g)&&this.setState(v)}this.runAnimation(ia(ia({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,s=i.from,o=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=L$e(s,o,C$e(u),c,this.changeStyle),m=function(){a.stopJSAnimation=p()};this.manager.start([h,d,m,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,s=i.steps,o=i.begin,c=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(g,v,b){if(b===0)return g;var y=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,k=v.properties,N=v.onAnimationEnd,E=b>0?s[b-1]:v,P=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(y1(g),[a.runJSAnimation.bind(a,{from:E.style,to:S,duration:y,easing:_}),y]);var T=_R(P,y,_),$=ia(ia(ia({},E.style),S),{},{transition:T});return[].concat(y1(g),[$,y,N]).filter(m$e)};return this.manager.start([c].concat(y1(s.reduce(p,[d,Math.max(h,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=d$e());var a=i.begin,s=i.duration,o=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var g=o?zh({},o,c):c,v=_R(Object.keys(g),s,u);m.start([d,a,ia(ia({},g),{},{transition:v}),s,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=B$e(i,F$e),u=x.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!o||u===0||s<=0)return a;var f=function(p){var m=p.props,g=m.style,v=g===void 0?{}:g,b=m.className,y=x.cloneElement(p,ia(ia({},c),{},{style:ia(ia({},v),d),className:b}));return y};return u===1?f(x.Children.only(a)):A.createElement("div",null,x.Children.map(a,function(h){return f(h)}))}}]),r}(x.PureComponent);$a.displayName="Animate";$a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$a.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(this,arguments)}function Z$e(e,t){return nIe(e)||rIe(e,t)||tIe(e,t)||eIe()}function eIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tIe(e,t){if(e){if(typeof e=="string")return ER(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ER(e,t)}}function ER(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function nIe(e){if(Array.isArray(e))return e}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){iIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iIe(e,t,r){return t=aIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aIe(e){var t=sIe(e,"string");return Cm(t)=="symbol"?t:t+""}function sIe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AR=function(t,r,n,i,a){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(s>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=a[h]>s?s:a[h];d="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+o*f[1])),d+="L ".concat(t+n,",").concat(r+i-o*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-o*f[3])),d+="Z"}else if(s>0&&a===+a&&a>0){var m=Math.min(s,a);d="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+c*m,",").concat(r,`
            L `).concat(t+n-c*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t+n-c*m,",").concat(r+i,`
            L `).concat(t+c*m,",").concat(r+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(u,",").concat(t,",").concat(r+i-o*m," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},oIe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,s=r.y,o=r.width,c=r.height;if(Math.abs(o)>0&&Math.abs(c)>0){var u=Math.min(a,a+o),d=Math.max(a,a+o),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},lIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uP=function(t){var r=PR(PR({},lIe),t),n=x.useRef(),i=x.useState(-1),a=Z$e(i,2),s=a[0],o=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=qe("recharts-rectangle",p);return y?A.createElement($a,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:g,animationEasing:m,isActive:y},function(_){var S=_.width,k=_.height,N=_.x,E=_.y;return A.createElement($a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:b,easing:m},A.createElement("path",qx({},Me(r,!0),{className:w,d:AR(N,E,S,k,h),ref:n})))}):A.createElement("path",qx({},Me(r,!0),{className:w,d:AR(c,u,d,f,h)}))},cIe=["points","className","baseLinePoints","connectNulls"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(this,arguments)}function uIe(e,t){if(e==null)return{};var r=dIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TR(e){return mIe(e)||pIe(e)||hIe(e)||fIe()}function fIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hIe(e,t){if(e){if(typeof e=="string")return Bk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bk(e,t)}}function pIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mIe(e){if(Array.isArray(e))return Bk(e)}function Bk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var MR=function(t){return t&&t.x===+t.x&&t.y===+t.y},gIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){MR(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),MR(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},cp=function(t,r){var n=gIe(t);r&&(n=[n.reduce(function(a,s){return[].concat(TR(a),TR(s))},[])]);var i=n.map(function(a){return a.reduce(function(s,o,c){return"".concat(s).concat(c===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},vIe=function(t,r,n){var i=cp(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(cp(r.reverse(),n).slice(1))},yIe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,s=uIe(t,cIe);if(!r||!r.length)return null;var o=qe("recharts-polygon",n);if(i&&i.length){var c=s.stroke&&s.stroke!=="none",u=vIe(r,i,a);return A.createElement("g",{className:o},A.createElement("path",Zu({},Me(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?A.createElement("path",Zu({},Me(s,!0),{fill:"none",d:cp(r,a)})):null,c?A.createElement("path",Zu({},Me(s,!0),{fill:"none",d:cp(i,a)})):null)}var d=cp(r,a);return A.createElement("path",Zu({},Me(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:o,d}))};function Uk(){return Uk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uk.apply(this,arguments)}var xg=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,s=qe("recharts-dot",a);return r===+r&&n===+n&&i===+i?x.createElement("circle",Uk({},Me(t,!1),ux(t),{className:s,cx:r,cy:n,r:i})):null};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var xIe=["x","y","top","left","width","height","className"];function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zk.apply(this,arguments)}function $R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$R(Object(r),!0).forEach(function(n){wIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wIe(e,t,r){return t=_Ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ie(e){var t=SIe(e,"string");return Em(t)=="symbol"?t:t+""}function SIe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jIe(e,t){if(e==null)return{};var r=kIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NIe=function(t,r,n,i,a,s){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},CIe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,s=t.top,o=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,m=t.className,g=jIe(t,xIe),v=bIe({x:n,y:a,top:o,left:u,width:f,height:p},g);return!le(n)||!le(a)||!le(f)||!le(p)||!le(o)||!le(u)?null:A.createElement("path",zk({},Me(v,!0),{className:qe("recharts-cross",m),d:NIe(n,a,f,p,o,u)}))},EIe=iw,OIe=dH,PIe=gs;function AIe(e,t){return e&&e.length?EIe(e,PIe(t),OIe):void 0}var TIe=AIe;const MIe=bt(TIe);var $Ie=iw,IIe=gs,RIe=fH;function DIe(e,t){return e&&e.length?$Ie(e,IIe(t),RIe):void 0}var LIe=DIe;const FIe=bt(LIe);var BIe=["cx","cy","angle","ticks","axisLine"],UIe=["ticks","tick","angle","tickFormatter","stroke"];function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RR(e,t){if(e==null)return{};var r=zIe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tq(n.key),n)}}function WIe(e,t,r){return t&&DR(e.prototype,t),r&&DR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HIe(e,t,r){return t=Gx(t),qIe(e,eq()?Reflect.construct(t,r||[],Gx(e).constructor):t.apply(e,r))}function qIe(e,t){if(t&&(cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GIe(e)}function GIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!e})()}function Gx(e){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gx(e)}function KIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vk(e,t)}function lw(e,t,r){return t=tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tq(e){var t=YIe(e,"string");return cf(t)=="symbol"?t:t+""}function YIe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cw=function(e){function t(){return VIe(this,t),HIe(this,t,arguments)}return KIe(t,e),WIe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,s=a.angle,o=a.cx,c=a.cy;return Lt(o,c,i,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=MIe(o,function(d){return d.coordinate||0}),u=FIe(o,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.angle,o=n.ticks,c=n.axisLine,u=RR(n,BIe),d=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),f=Lt(i,a,d[0],s),h=Lt(i,a,d[1],s),p=Ll(Ll(Ll({},Me(u,!1)),{},{fill:"none"},Me(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return A.createElement("line",up({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.angle,c=i.tickFormatter,u=i.stroke,d=RR(i,UIe),f=this.getTickTextAnchor(),h=Me(d,!1),p=Me(s,!1),m=a.map(function(g,v){var b=n.getTickValueCoord(g),y=Ll(Ll(Ll(Ll({textAnchor:f,transform:"rotate(".concat(90-o,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:g});return A.createElement(it,up({className:qe("recharts-polar-radius-axis-tick",BH(s)),key:"tick-".concat(g.coordinate)},Fc(n.props,g,v)),t.renderTickItem(s,y,c?c(g.value,v):g.value))});return A.createElement(it,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,s=n.tick;return!i||!i.length?null:A.createElement(it,{className:qe("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),s&&this.renderTicks(),Kr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var s;return A.isValidElement(n)?s=A.cloneElement(n,i):Fe(n)?s=n(i):s=A.createElement(Bc,up({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),s}}])}(x.PureComponent);lw(cw,"displayName","PolarRadiusAxis");lw(cw,"axisType","radiusAxis");lw(cw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zl.apply(this,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){uw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nq(n.key),n)}}function XIe(e,t,r){return t&&FR(e.prototype,t),r&&FR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QIe(e,t,r){return t=Kx(t),ZIe(e,rq()?Reflect.construct(t,r||[],Kx(e).constructor):t.apply(e,r))}function ZIe(e,t){if(t&&(uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(e)}function eRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!e})()}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kx(e)}function tRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wk(e,t)}function Wk(e,t){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Wk(e,t)}function uw(e,t,r){return t=nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nq(e){var t=rRe(e,"string");return uf(t)=="symbol"?t:t+""}function rRe(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var nRe=Math.PI/180,BR=1e-5,dw=function(e){function t(){return JIe(this,t),QIe(this,t,arguments)}return tRe(t,e),XIe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,s=i.cy,o=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=Lt(a,s,o,n.coordinate),h=Lt(a,s,o+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*nRe),s;return a>BR?s=i==="outer"?"start":"end":a<-BR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,s=n.radius,o=n.axisLine,c=n.axisLineType,u=Fl(Fl({},Me(this.props,!1)),{},{fill:"none"},Me(o,!1));if(c==="circle")return A.createElement(xg,Zl({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:s}));var d=this.props.ticks,f=d.map(function(h){return Lt(i,a,s,h.coordinate)});return A.createElement(yIe,Zl({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,s=i.tick,o=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Me(this.props,!1),f=Me(s,!1),h=Fl(Fl({},d),{},{fill:"none"},Me(o,!1)),p=a.map(function(m,g){var v=n.getTickLineCoord(m),b=n.getTickTextAnchor(m),y=Fl(Fl(Fl({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:g,payload:m,x:v.x2,y:v.y2});return A.createElement(it,Zl({className:qe("recharts-polar-angle-axis-tick",BH(s)),key:"tick-".concat(m.coordinate)},Fc(n.props,m,g)),o&&A.createElement("line",Zl({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,y,c?c(m.value,g):m.value))});return A.createElement(it,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,s=n.axisLine;return a<=0||!i||!i.length?null:A.createElement(it,{className:qe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var s;return A.isValidElement(n)?s=A.cloneElement(n,i):Fe(n)?s=n(i):s=A.createElement(Bc,Zl({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),s}}])}(x.PureComponent);uw(dw,"displayName","PolarAngleAxis");uw(dw,"axisType","angleAxis");uw(dw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var iRe=l9,aRe=iRe(Object.getPrototypeOf,Object),sRe=aRe,oRe=co,lRe=sRe,cRe=uo,uRe="[object Object]",dRe=Function.prototype,fRe=Object.prototype,iq=dRe.toString,hRe=fRe.hasOwnProperty,pRe=iq.call(Object);function mRe(e){if(!cRe(e)||oRe(e)!=uRe)return!1;var t=lRe(e);if(t===null)return!0;var r=hRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&iq.call(r)==pRe}var gRe=mRe;const vRe=bt(gRe);var yRe=co,xRe=uo,bRe="[object Boolean]";function wRe(e){return e===!0||e===!1||xRe(e)&&yRe(e)==bRe}var _Re=wRe;const SRe=bt(_Re);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(this,arguments)}function jRe(e,t){return ERe(e)||CRe(e,t)||NRe(e,t)||kRe()}function kRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NRe(e,t){if(e){if(typeof e=="string")return UR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UR(e,t)}}function UR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function ERe(e){if(Array.isArray(e))return e}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){ORe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ORe(e,t,r){return t=PRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PRe(e){var t=ARe(e,"string");return Om(t)=="symbol"?t:t+""}function ARe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WR=function(t,r,n,i,a){var s=n-i,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+a),o+="L ".concat(t+n-s/2-i,",").concat(r+a),o+="L ".concat(t,",").concat(r," Z"),o},TRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MRe=function(t){var r=VR(VR({},TRe),t),n=x.useRef(),i=x.useState(-1),a=jRe(i,2),s=a[0],o=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,m=r.animationEasing,g=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=qe("recharts-trapezoid",p);return b?A.createElement($a,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:g,animationEasing:m,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,k=w.height,N=w.x,E=w.y;return A.createElement($a,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},A.createElement("path",Yx({},Me(r,!0),{className:y,d:WR(N,E,_,S,k),ref:n})))}):A.createElement("g",null,A.createElement("path",Yx({},Me(r,!0),{className:y,d:WR(c,u,d,f,h)})))},$Re=["option","shapeType","propTransformer","activeClassName","isActive"];function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function IRe(e,t){if(e==null)return{};var r=RRe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){DRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DRe(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=FRe(e,"string");return Pm(t)=="symbol"?t:t+""}function FRe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BRe(e,t){return Jx(Jx({},t),e)}function URe(e,t){return e==="symbols"}function qR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return A.createElement(uP,r);case"trapezoid":return A.createElement(MRe,r);case"sector":return A.createElement(VH,r);case"symbols":if(URe(t))return A.createElement(OO,r);break;default:return null}}function zRe(e){return x.isValidElement(e)?e.props:e}function aq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?BRe:n,a=e.activeClassName,s=a===void 0?"recharts-active-shape":a,o=e.isActive,c=IRe(e,$Re),u;if(x.isValidElement(t))u=x.cloneElement(t,Jx(Jx({},c),zRe(t)));else if(Fe(t))u=t(c);else if(vRe(t)&&!SRe(t)){var d=i(t,c);u=A.createElement(qR,{shapeType:r,elementProps:d})}else{var f=c;u=A.createElement(qR,{shapeType:r,elementProps:f})}return o?A.createElement(it,{className:s},u):u}function fw(e,t){return t!=null&&"trapezoids"in e.props}function hw(e,t){return t!=null&&"sectors"in e.props}function Am(e,t){return t!=null&&"points"in e.props}function VRe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function WRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function HRe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function qRe(e,t){var r;return fw(e,t)?r=VRe:hw(e,t)?r=WRe:Am(e,t)&&(r=HRe),r}function GRe(e,t){var r;return fw(e,t)?r="trapezoids":hw(e,t)?r="sectors":Am(e,t)&&(r="points"),r}function KRe(e,t){if(fw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Am(e,t)?t.payload:{}}function YRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=GRe(r,t),a=KRe(r,t),s=n.filter(function(c,u){var d=Uc(a,c),f=r.props[i].filter(function(m){var g=qRe(r,t);return g(m,t)}),h=r.props[i].indexOf(f[f.length-1]),p=u===h;return d&&p}),o=n.indexOf(s[s.length-1]);return o}var ny;function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ed.apply(this,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){Ri(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oq(n.key),n)}}function XRe(e,t,r){return t&&KR(e.prototype,t),r&&KR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QRe(e,t,r){return t=Xx(t),ZRe(e,sq()?Reflect.construct(t,r||[],Xx(e).constructor):t.apply(e,r))}function ZRe(e,t){if(t&&(df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eDe(e)}function eDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sq=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xx(e)}function tDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hk(e,t)}function Hk(e,t){return Hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hk(e,t)}function Ri(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=rDe(e,"string");return df(t)=="symbol"?t:t+""}function rDe(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ho=function(e){function t(r){var n;return JRe(this,t),n=QRe(this,t,[r]),Ri(n,"pieRef",null),Ri(n,"sectorRefs",[]),Ri(n,"id",su("recharts-pie-")),Ri(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(i)&&i()}),Ri(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return tDe(t,e),XRe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.label,o=a.labelLine,c=a.dataKey,u=a.valueKey,d=Me(this.props,!1),f=Me(s,!1),h=Me(o,!1),p=s&&s.offsetRadius||20,m=n.map(function(g,v){var b=(g.startAngle+g.endAngle)/2,y=Lt(g.cx,g.cy,g.outerRadius+p,b),w=Mt(Mt(Mt(Mt({},d),g),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(y.x,g.cx)},y),_=Mt(Mt(Mt(Mt({},d),g),{},{fill:"none",stroke:g.fill},h),{},{index:v,points:[Lt(g.cx,g.cy,g.outerRadius,b),y]}),S=c;return He(c)&&He(u)?S="value":He(c)&&(S=u),A.createElement(it,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&t.renderLabelLineItem(o,_,"line"),t.renderLabelItem(s,w,gr(g,S)))});return A.createElement(it,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,s=a.activeShape,o=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,p=f?s:h,m=Mt(Mt({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return A.createElement(it,ed({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Fc(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),A.createElement(aq,ed({option:p,isActive:f,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,s=i.isAnimationActive,o=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return A.createElement($a,{begin:o,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],b=a&&a[0],y=b.startAngle;return a.forEach(function(w,_){var S=h&&h[_],k=_>0?xi(w,"paddingAngle",0):0;if(S){var N=$r(S.endAngle-S.startAngle,w.endAngle-w.startAngle),E=Mt(Mt({},w),{},{startAngle:y+k,endAngle:y+N(g)+k});v.push(E),y=E.endAngle}else{var P=w.endAngle,T=w.startAngle,$=$r(0,P-T),M=$(g),F=Mt(Mt({},w),{},{startAngle:y+k,endAngle:y+M+k});v.push(F),y=F.endAngle}}),A.createElement(it,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,s=this.state.prevSectors;return a&&i&&i.length&&(!s||!Uc(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,s=i.sectors,o=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,p=i.isAnimationActive,m=this.state.isAnimationFinished;if(a||!s||!s.length||!le(u)||!le(d)||!le(f)||!le(h))return null;var g=qe("recharts-pie",o);return A.createElement(it,{tabIndex:this.props.rootTabIndex,className:g,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),Kr.renderCallByParent(this.props,null,!1),(!p||m)&&ss.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(A.isValidElement(n))return A.cloneElement(n,i);if(Fe(n))return n(i);var s=qe("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return A.createElement(_c,ed({},i,{key:a,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,i,a){if(A.isValidElement(n))return A.cloneElement(n,i);var s=a;if(Fe(n)&&(s=n(i),A.isValidElement(s)))return s;var o=qe("recharts-pie-label-text",typeof n!="boolean"&&!Fe(n)?n.className:"");return A.createElement(Bc,ed({},i,{alignmentBaseline:"middle",className:o}),s)}}])}(x.PureComponent);ny=ho;Ri(ho,"displayName","Pie");Ri(ho,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!El.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ri(ho,"parseDeltaAngle",function(e,t){var r=In(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ri(ho,"getRealPieData",function(e){var t=e.data,r=e.children,n=Me(e,!1),i=bi(r,hg);return t&&t.length?t.map(function(a,s){return Mt(Mt(Mt({payload:a},n),a),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(a){return Mt(Mt({},n),a.props)}):[]});Ri(ho,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,s=FH(i,a),o=n+Rn(e.cx,i,i/2),c=r+Rn(e.cy,a,a/2),u=Rn(e.innerRadius,s,0),d=Rn(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:o,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ri(ho,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Mt(Mt({},t.type.defaultProps),t.props):t.props,i=ny.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,s=n.startAngle,o=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),m=ny.parseCoordinateOfPie(n,r),g=ny.parseDeltaAngle(s,o),v=Math.abs(g),b=u;He(u)&&He(f)?(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):He(u)&&(ka(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=i.filter(function(E){return gr(E,b,0)!==0}).length,w=(v>=360?y:y-1)*c,_=v-y*p-w,S=i.reduce(function(E,P){var T=gr(P,b,0);return E+(le(T)?T:0)},0),k;if(S>0){var N;k=i.map(function(E,P){var T=gr(E,b,0),$=gr(E,d,P),M=(le(T)?T:0)/S,F;P?F=N.endAngle+In(g)*c*(T!==0?1:0):F=s;var R=F+In(g)*((T!==0?p:0)+M*_),U=(F+R)/2,W=(m.innerRadius+m.outerRadius)/2,z=[{name:$,value:T,payload:E,dataKey:b,type:h}],L=Lt(m.cx,m.cy,W,U);return N=Mt(Mt(Mt({percent:M,cornerRadius:a,name:$,tooltipPayload:z,midAngle:U,middleRadius:W,tooltipPosition:L},E),m),{},{value:gr(E,b),startAngle:F,endAngle:R,payload:E,paddingAngle:In(g)*c}),N})}return Mt(Mt({},m),{},{sectors:k,data:i})});var nDe=Math.ceil,iDe=Math.max;function aDe(e,t,r,n){for(var i=-1,a=iDe(nDe((t-e)/(r||1)),0),s=Array(a);a--;)s[n?a:++i]=e,e+=r;return s}var sDe=aDe,oDe=C9,YR=1/0,lDe=17976931348623157e292;function cDe(e){if(!e)return e===0?e:0;if(e=oDe(e),e===YR||e===-YR){var t=e<0?-1:1;return t*lDe}return e===e?e:0}var lq=cDe,uDe=sDe,dDe=J0,x1=lq;function fDe(e){return function(t,r,n){return n&&typeof n!="number"&&dDe(t,r,n)&&(r=n=void 0),t=x1(t),r===void 0?(r=t,t=0):r=x1(r),n=n===void 0?t<r?1:-1:x1(n),uDe(t,r,n,e)}}var hDe=fDe,pDe=hDe,mDe=pDe(),gDe=mDe;const Qx=bt(gDe);function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return t=vDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=yDe(e,"string");return Tm(t)=="symbol"?t:t+""}function yDe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xDe=["Webkit","Moz","O","ms"],bDe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=xDe.reduce(function(a,s){return XR(XR({},a),{},cq({},s+n,r))},{});return i[t]=r,i};function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){ai(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dq(n.key),n)}}function _De(e,t,r){return t&&ZR(e.prototype,t),r&&ZR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SDe(e,t,r){return t=eb(t),jDe(e,uq()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function jDe(e,t){if(t&&(ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kDe(e)}function kDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function NDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qk(e,t)}function qk(e,t){return qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qk(e,t)}function ai(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=CDe(e,"string");return ff(t)=="symbol"?t:t+""}function CDe(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var EDe=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=sp().domain(Qx(0,c)).range([a,a+s-o]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},eD=function(t){return t.changedTouches&&!!t.changedTouches.length},hf=function(e){function t(r){var n;return wDe(this,t),n=SDe(this,t,[r]),ai(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ai(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ai(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,s=i.onDragEnd,o=i.startIndex;s==null||s({endIndex:a,startIndex:o})}),n.detachDragEndListener()}),ai(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ai(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ai(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ai(n,"handleSlideDragStart",function(i){var a=eD(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return NDe(t,e),_De(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,s=this.state.scaleValues,o=this.props,c=o.gap,u=o.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),p=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:m===d?d:m-m%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,s=i.tickFormatter,o=i.dataKey,c=gr(a[n],o,n);return Fe(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,s=i.startX,o=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,m=c.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+d-f-o,u+d-f-s):g<0&&(g=Math.max(g,u-s,u-o));var v=this.getIndex({startX:s+g,endX:o+g});(v.startIndex!==h||v.endIndex!==p)&&m&&m(v),this.setState({startX:s+g,endX:o+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=eD(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,s=i.movingTravellerId,o=i.endX,c=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,m=d.onChange,g=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),b[s]=u+y;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,k=function(){var E=v.length-1;return s==="startX"&&(o>c?_%g===0:S%g===0)||o<c&&S===E||s==="endX"&&(o>c?S%g===0:_%g===0)||o>c&&S===E};this.setState(ai(ai({},s,u+y),"brushMoveStartX",n.pageX),function(){m&&k()&&m(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,s=this.state,o=s.scaleValues,c=s.startX,u=s.endX,d=this.state[i],f=o.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var p=o[h];i==="startX"&&p>=u||i==="endX"&&p<=c||this.setState(ai({},i,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.fill,u=n.stroke;return A.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?A.cloneElement(f,{x:i,y:a,width:s,height:o,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,s,o=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,m=c.data,g=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),y=b1(b1({},Me(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((a=m[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return A.createElement(it,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),o.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,s=a.y,o=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,s=n.y,o=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,m={pointerEvents:"none",fill:u};return A.createElement(it,{className:"recharts-brush-texts"},A.createElement(Bc,Zx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+o/2},m),this.getTextOfTick(i)),A.createElement(Bc,Zx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+o/2},m),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,s=n.children,o=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,m=h.endX,g=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!le(o)||!le(c)||!le(u)||!le(d)||u<=0||d<=0)return null;var w=qe("recharts-brush",a),_=A.Children.count(s)===1,S=bDe("userSelect","none");return A.createElement(it,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,m),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,s=n.width,o=n.height,c=n.stroke,u=Math.floor(a+o/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:i,y:a,width:s,height:o,fill:c,stroke:"none"}),A.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return A.isValidElement(n)?a=A.cloneElement(n,i):Fe(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,s=n.width,o=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return b1({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s},a&&a.length?EDe({data:a,width:s,x:o,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||o!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([o,o+s-c]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:o,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,s=0,o=a-1;o-s>1;){var c=Math.floor((s+o)/2);n[c]>i?o=c:s=c}return i>=n[o]?o:s}}])}(x.PureComponent);ai(hf,"displayName","Brush");ai(hf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ODe=RO;function PDe(e,t){var r;return ODe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var ADe=PDe,TDe=e9,MDe=gs,$De=ADe,IDe=ei,RDe=J0;function DDe(e,t,r){var n=IDe(e)?TDe:$De;return r&&RDe(e,t,r)&&(t=void 0),n(e,MDe(t))}var LDe=DDe;const FDe=bt(LDe);var os=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},tD=_9;function BDe(e,t,r){t=="__proto__"&&tD?tD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var UDe=BDe,zDe=UDe,VDe=b9,WDe=gs;function HDe(e,t){var r={};return t=WDe(t),VDe(e,function(n,i,a){zDe(r,i,t(n,i,a))}),r}var qDe=HDe;const GDe=bt(qDe);function KDe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var YDe=KDe,JDe=RO;function XDe(e,t){var r=!0;return JDe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var QDe=XDe,ZDe=YDe,eLe=QDe,tLe=gs,rLe=ei,nLe=J0;function iLe(e,t,r){var n=rLe(e)?ZDe:eLe;return r&&nLe(e,t,r)&&(t=void 0),n(e,tLe(t))}var aLe=iLe;const fq=bt(aLe);var sLe=["x","y"];function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(this,arguments)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){oLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oLe(e,t,r){return t=lLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lLe(e){var t=cLe(e,"string");return Mm(t)=="symbol"?t:t+""}function cLe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uLe(e,t){if(e==null)return{};var r=dLe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fLe(e,t){var r=e.x,n=e.y,i=uLe(e,sLe),a="".concat(r),s=parseInt(a,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Ah(Ah(Ah(Ah(Ah({},t),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function nD(e){return A.createElement(aq,Gk({shapeType:"rectangle",propTransformer:fLe,activeClassName:"recharts-active-bar"},e))}var hLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=le(n)||Ixe(n);return a?t(n,i):(a||Vc(),r)}},pLe=["value","background"],hq;function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function mLe(e,t){if(e==null)return{};var r=gLe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tb.apply(this,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){Yo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mq(n.key),n)}}function yLe(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xLe(e,t,r){return t=rb(t),bLe(e,pq()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function bLe(e,t){if(t&&(pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wLe(e)}function wLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pq=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function _Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kk(e,t)}function Kk(e,t){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kk(e,t)}function Yo(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=SLe(e,"string");return pf(t)=="symbol"?t:t+""}function SLe(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uu=function(e){function t(){var r;vLe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xLe(this,t,[].concat(i)),Yo(r,"state",{isAnimationFinished:!1}),Yo(r,"id",su("recharts-bar-")),Yo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Yo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return _Le(t,e),yLe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,s=a.shape,o=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Me(this.props,!1);return n&&n.map(function(f,h){var p=h===c,m=p?u:s,g=_r(_r(_r({},d),f),{},{isActive:p,option:m,index:h,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return A.createElement(it,tb({className:"recharts-bar-rectangle"},Fc(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),A.createElement(nD,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,s=i.layout,o=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return A.createElement($a,{begin:c,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,g=a.map(function(v,b){var y=h&&h[b];if(y){var w=$r(y.x,v.x),_=$r(y.y,v.y),S=$r(y.width,v.width),k=$r(y.height,v.height);return _r(_r({},v),{},{x:w(m),y:_(m),width:S(m),height:k(m)})}if(s==="horizontal"){var N=$r(0,v.height),E=N(m);return _r(_r({},v),{},{y:v.y+v.height-E,height:E})}var P=$r(0,v.width),T=P(m);return _r(_r({},v),{},{width:T})});return A.createElement(it,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,s=this.state.prevData;return a&&i&&i.length&&(!s||!Uc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,s=i.dataKey,o=i.activeIndex,c=Me(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=mLe(u,pLe);if(!f)return null;var p=_r(_r(_r(_r(_r({},h),{},{fill:"#eee"},f),c),Fc(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return A.createElement(nD,tb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.data,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=bi(d,yg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:gr(v,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return A.createElement(it,m,f.map(function(g){return A.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,s=n.className,o=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,m=n.background,g=n.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,b=qe("recharts-bar",s),y=o&&o.allowDataOverflow,w=c&&c.allowDataOverflow,_=y||w,S=He(g)?this.id:g;return A.createElement(it,{className:b},y||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(S)},A.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,A.createElement(it,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||v)&&ss.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);hq=uu;Yo(uu,"displayName","Bar");Yo(uu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Yo(uu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,s=e.yAxis,o=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=ZTe(n,r);if(!p)return null;var m=t.layout,g=r.type.defaultProps,v=g!==void 0?_r(_r({},g),r.props):r.props,b=v.dataKey,y=v.children,w=v.minPointSize,_=m==="horizontal"?s:a,S=u?_.scale.domain():null,k=s2e({numericAxis:_}),N=bi(y,hg),E=f.map(function(P,T){var $,M,F,R,U,W;u?$=e2e(u[d+T],S):($=gr(P,b),Array.isArray($)||($=[k,$]));var z=hLe(w,hq.defaultProps.minPointSize)($[1],T);if(m==="horizontal"){var L,B=[s.scale($[0]),s.scale($[1])],G=B[0],te=B[1];M=XI({axis:a,ticks:o,bandSize:i,offset:p.offset,entry:P,index:T}),F=(L=te??G)!==null&&L!==void 0?L:void 0,R=p.size;var X=G-te;if(U=Number.isNaN(X)?0:X,W={x:M,y:s.y,width:R,height:s.height},Math.abs(z)>0&&Math.abs(U)<Math.abs(z)){var j=In(U||z)*(Math.abs(z)-Math.abs(U));F-=j,U+=j}}else{var O=[a.scale($[0]),a.scale($[1])],C=O[0],D=O[1];if(M=C,F=XI({axis:s,ticks:c,bandSize:i,offset:p.offset,entry:P,index:T}),R=D-C,U=p.size,W={x:a.x,y:F,width:a.width,height:U},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var I=In(R||z)*(Math.abs(z)-Math.abs(R));R+=I}}return _r(_r(_r({},P),{},{x:M,y:F,width:R,height:U,value:u?$:$[1],payload:P,background:W},N&&N[T]&&N[T].props),{},{tooltipPayload:[DH(r,P)],tooltipPosition:{x:M+R/2,y:F+U/2}})});return _r({data:E,layout:m},h)});function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function jLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gq(n.key),n)}}function kLe(e,t,r){return t&&sD(e.prototype,t),r&&sD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(n){pw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pw(e,t,r){return t=gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gq(e){var t=NLe(e,"string");return $m(t)=="symbol"?t:t+""}function NLe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dP=function(t,r,n,i,a){var s=t.width,o=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!oi(u,uu);return d.reduce(function(p,m){var g=r[m],v=g.orientation,b=g.domain,y=g.padding,w=y===void 0?{}:y,_=g.mirror,S=g.reversed,k="".concat(v).concat(_?"Mirror":""),N,E,P,T,$;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var M=b[1]-b[0],F=1/0,R=g.categoricalDomain.sort(Lxe);if(R.forEach(function(O,C){C>0&&(F=Math.min((O||0)-(R[C-1]||0),F))}),Number.isFinite(F)){var U=F/M,W=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(N=U*W/2),g.padding==="no-gap"){var z=Rn(t.barCategoryGap,U*W),L=U*W/2;N=L-z-(L-z)/W*z}}}i==="xAxis"?E=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:i==="yAxis"?E=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:E=g.range,S&&(E=[E[1],E[0]]);var B=MH(g,a,h),G=B.scale,te=B.realScaleType;G.domain(b).range(E),$H(G);var X=IH(G,ga(ga({},g),{},{realScaleType:te}));i==="xAxis"?($=v==="top"&&!_||v==="bottom"&&_,P=n.left,T=f[k]-$*g.height):i==="yAxis"&&($=v==="left"&&!_||v==="right"&&_,P=f[k]-$*g.width,T=n.top);var j=ga(ga(ga({},g),X),{},{realScaleType:te,x:P,y:T,scale:G,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return j.bandSize=Fx(j,X),!g.hide&&i==="xAxis"?f[k]+=($?-1:1)*j.height:g.hide||(f[k]+=($?-1:1)*j.width),ga(ga({},p),{},pw({},m,j))},{})},vq=function(t,r){var n=t.x,i=t.y,a=r.x,s=r.y;return{x:Math.min(n,a),y:Math.min(i,s),width:Math.abs(a-n),height:Math.abs(s-i)}},CLe=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return vq({x:r,y:n},{x:i,y:a})},yq=function(){function e(t){jLe(this,e),this.scale=t}return kLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();pw(yq,"EPS",1e-4);var fP=function(t){var r=Object.keys(t).reduce(function(n,i){return ga(ga({},n),{},pw({},i,yq.create(t[i])))},{});return ga(ga({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,o=a.position;return GDe(i,function(c,u){return r[u].apply(c,{bandAware:s,position:o})})},isInRange:function(i){return fq(i,function(a,s){return r[s].isInRange(a)})}})};function ELe(e){return(e%180+180)%180}var OLe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ELe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},PLe=gs,ALe=fg,TLe=K0;function MLe(e){return function(t,r,n){var i=Object(t);if(!ALe(t)){var a=PLe(r);t=TLe(t),r=function(o){return a(i[o],o,i)}}var s=e(t,r,n);return s>-1?i[a?t[s]:s]:void 0}}var $Le=MLe,ILe=lq;function RLe(e){var t=ILe(e),r=t%1;return t===t?r?t-r:t:0}var DLe=RLe,LLe=p9,FLe=gs,BLe=DLe,ULe=Math.max;function zLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:BLe(r);return i<0&&(i=ULe(n+i,0)),LLe(e,FLe(t),i)}var VLe=zLe,WLe=$Le,HLe=VLe,qLe=WLe(HLe),GLe=qLe;const KLe=bt(GLe);var YLe=Uye(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hP=x.createContext(void 0),pP=x.createContext(void 0),xq=x.createContext(void 0),bq=x.createContext({}),wq=x.createContext(void 0),_q=x.createContext(0),Sq=x.createContext(0),lD=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,s=t.clipPathId,o=t.children,c=t.width,u=t.height,d=YLe(a);return A.createElement(hP.Provider,{value:n},A.createElement(pP.Provider,{value:i},A.createElement(bq.Provider,{value:a},A.createElement(xq.Provider,{value:d},A.createElement(wq.Provider,{value:s},A.createElement(_q.Provider,{value:u},A.createElement(Sq.Provider,{value:c},o)))))))},JLe=function(){return x.useContext(wq)},jq=function(t){var r=x.useContext(hP);r==null&&Vc();var n=r[t];return n==null&&Vc(),n},XLe=function(){var t=x.useContext(hP);return Do(t)},QLe=function(){var t=x.useContext(pP),r=KLe(t,function(n){return fq(n.domain,Number.isFinite)});return r||Do(t)},kq=function(t){var r=x.useContext(pP);r==null&&Vc();var n=r[t];return n==null&&Vc(),n},ZLe=function(){var t=x.useContext(xq);return t},e4e=function(){return x.useContext(bq)},mP=function(){return x.useContext(Sq)},gP=function(){return x.useContext(_q)};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}function t4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function n4e(e,t,r){return t&&r4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i4e(e,t,r){return t=nb(t),a4e(e,Nq()?Reflect.construct(t,r||[],nb(e).constructor):t.apply(e,r))}function a4e(e,t){if(t&&(mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s4e(e)}function s4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nq=function(){return!!e})()}function nb(e){return nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nb(e)}function o4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yk(e,t)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){vP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=l4e(e,"string");return mf(t)=="symbol"?t:t+""}function l4e(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function c4e(e,t){return h4e(e)||f4e(e,t)||d4e(e,t)||u4e()}function u4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4e(e,t){if(e){if(typeof e=="string")return dD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dD(e,t)}}function dD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function h4e(e){if(Array.isArray(e))return e}function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(this,arguments)}var p4e=function(t,r){var n;return A.isValidElement(t)?n=A.cloneElement(t,r):Fe(t)?n=t(r):n=A.createElement("line",Jk({},r,{className:"recharts-reference-line-line"})),n},m4e=function(t,r,n,i,a,s,o,c,u){var d=a.x,f=a.y,h=a.width,p=a.height;if(n){var m=u.y,g=t.y.apply(m,{position:s});if(os(u,"discard")&&!t.y.isInRange(g))return null;var v=[{x:d+h,y:g},{x:d,y:g}];return c==="left"?v.reverse():v}if(r){var b=u.x,y=t.x.apply(b,{position:s});if(os(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+p},{x:y,y:f}];return o==="top"?w.reverse():w}if(i){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:s})});return os(u,"discard")&&FDe(S,function(k){return!t.isInRange(k)})?null:S}return null};function g4e(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,o=e.className,c=e.alwaysShow,u=JLe(),d=jq(i),f=kq(a),h=ZLe();if(!u||!h)return null;ka(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fP({x:d.scale,y:f.scale}),m=Rr(t),g=Rr(r),v=n&&n.length===2,b=m4e(p,m,g,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=c4e(b,2),w=y[0],_=w.x,S=w.y,k=y[1],N=k.x,E=k.y,P=os(e,"hidden")?"url(#".concat(u,")"):void 0,T=uD(uD({clipPath:P},Me(e,!0)),{},{x1:_,y1:S,x2:N,y2:E});return A.createElement(it,{className:qe("recharts-reference-line",o)},p4e(s,T),Kr.renderCallByParent(e,CLe({x1:_,y1:S,x2:N,y2:E})))}var yP=function(e){function t(){return t4e(this,t),i4e(this,t,arguments)}return o4e(t,e),n4e(t,[{key:"render",value:function(){return A.createElement(g4e,this.props)}}])}(A.Component);vP(yP,"displayName","ReferenceLine");vP(yP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Xk(){return Xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xk.apply(this,arguments)}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){mw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oq(n.key),n)}}function x4e(e,t,r){return t&&y4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b4e(e,t,r){return t=ib(t),w4e(e,Eq()?Reflect.construct(t,r||[],ib(e).constructor):t.apply(e,r))}function w4e(e,t){if(t&&(gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _4e(e)}function _4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eq=function(){return!!e})()}function ib(e){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ib(e)}function S4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qk(e,t)}function Qk(e,t){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qk(e,t)}function mw(e,t,r){return t=Oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oq(e){var t=j4e(e,"string");return gf(t)=="symbol"?t:t+""}function j4e(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var k4e=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,s=fP({x:i.scale,y:a.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return os(t,"discard")&&!s.isInRange(o)?null:o},gw=function(e){function t(){return v4e(this,t),b4e(this,t,arguments)}return S4e(t,e),x4e(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,s=n.r,o=n.alwaysShow,c=n.clipPathId,u=Rr(i),d=Rr(a);if(ka(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=k4e(this.props);if(!f)return null;var h=f.x,p=f.y,m=this.props,g=m.shape,v=m.className,b=os(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=hD(hD({clipPath:b},Me(this.props,!0)),{},{cx:h,cy:p});return A.createElement(it,{className:qe("recharts-reference-dot",v)},t.renderDot(g,y),Kr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(A.Component);mw(gw,"displayName","ReferenceDot");mw(gw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mw(gw,"renderDot",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):Fe(e)?r=e(t):r=A.createElement(xg,Xk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function pD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(r),!0).forEach(function(n){vw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aq(n.key),n)}}function E4e(e,t,r){return t&&C4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O4e(e,t,r){return t=ab(t),P4e(e,Pq()?Reflect.construct(t,r||[],ab(e).constructor):t.apply(e,r))}function P4e(e,t){if(t&&(vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A4e(e)}function A4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ab(e)}function T4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eN(e,t)}function eN(e,t){return eN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eN(e,t)}function vw(e,t,r){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=M4e(e,"string");return vf(t)=="symbol"?t:t+""}function M4e(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $4e=function(t,r,n,i,a){var s=a.x1,o=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=fP({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return os(a,"discard")&&(!h.isInRange(p)||!h.isInRange(m))?null:vq(p,m)},yw=function(e){function t(){return N4e(this,t),O4e(this,t,arguments)}return T4e(t,e),E4e(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,s=n.y1,o=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ka(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rr(i),h=Rr(a),p=Rr(s),m=Rr(o),g=this.props.shape;if(!f&&!h&&!p&&!m&&!g)return null;var v=$4e(f,h,p,m,this.props);if(!v&&!g)return null;var b=os(this.props,"hidden")?"url(#".concat(d,")"):void 0;return A.createElement(it,{className:qe("recharts-reference-area",c)},t.renderRect(g,mD(mD({clipPath:b},Me(this.props,!0)),v)),Kr.renderCallByParent(this.props,v))}}])}(A.Component);vw(yw,"displayName","ReferenceArea");vw(yw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vw(yw,"renderRect",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):Fe(e)?r=e(t):r=A.createElement(uP,Zk({},t,{className:"recharts-reference-area-rect"})),r});function Tq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function I4e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return OLe(n,r)}function R4e(e,t,r){var n=r==="width",i=e.x,a=e.y,s=e.width,o=e.height;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function sb(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function D4e(e,t){return Tq(e,t+1)}function L4e(e,t,r,n,i){for(var a=(n||[]).slice(),s=t.start,o=t.end,c=0,u=1,d=s,f=function(){var m=n==null?void 0:n[c];if(m===void 0)return{v:Tq(n,u)};var g=c,v,b=function(){return v===void 0&&(v=r(m,g)),v},y=m.coordinate,w=c===0||sb(e,y,b,d,o);w||(c=0,d=s,u+=1),w&&(d=y+e*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){F4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F4e(e,t,r){return t=B4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B4e(e){var t=U4e(e,"string");return Im(t)=="symbol"?t:t+""}function U4e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z4e(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,o=t.start,c=t.end,u=function(h){var p=a[h],m,g=function(){return m===void 0&&(m=r(p,h)),m};if(h===s-1){var v=e*(p.coordinate+e*g()/2-c);a[h]=p=mn(mn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=mn(mn({},p),{},{tickCoord:p.coordinate});var b=sb(e,p.tickCoord,g,o,c);b&&(c=p.tickCoord-e*(g()/2+i),a[h]=mn(mn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return a}function V4e(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,c=t.start,u=t.end;if(a){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-u);s[o-1]=d=mn(mn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=sb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+i),s[o-1]=mn(mn({},d),{},{isShow:!0}))}for(var m=a?o-1:o,g=function(y){var w=s[y],_,S=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var k=e*(w.coordinate-e*S()/2-c);s[y]=w=mn(mn({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else s[y]=w=mn(mn({},w),{},{tickCoord:w.coordinate});var N=sb(e,w.tickCoord,S,c,u);N&&(c=w.tickCoord+e*(S()/2+i),s[y]=mn(mn({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function xP(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,s=e.minTickGap,o=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(le(c)||El.isSsr)return D4e(i,typeof c=="number"&&le(c)?c:0);var h=[],p=o==="top"||o==="bottom"?"width":"height",m=d&&p==="width"?ap(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=function(w,_){var S=Fe(u)?u(w.value,_):w.value;return p==="width"?I4e(ap(S,{fontSize:t,letterSpacing:r}),m,f):ap(S,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?In(i[1].coordinate-i[0].coordinate):1,b=R4e(a,v,p);return c==="equidistantPreserveStart"?L4e(v,b,g,i,s):(c==="preserveStart"||c==="preserveStartEnd"?h=V4e(v,b,g,i,s,c==="preserveStartEnd"):h=z4e(v,b,g,i,s),h.filter(function(y){return y.isShow}))}var W4e=["viewBox"],H4e=["viewBox"],q4e=["ticks"];function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){bP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w1(e,t){if(e==null)return{};var r=G4e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function K4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function Y4e(e,t,r){return t&&yD(e.prototype,t),r&&yD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J4e(e,t,r){return t=ob(t),X4e(e,Mq()?Reflect.construct(t,r||[],ob(e).constructor):t.apply(e,r))}function X4e(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q4e(e)}function Q4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ob(e)}function Z4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tN(e,t)}function tN(e,t){return tN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tN(e,t)}function bP(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=eFe(e,"string");return yf(t)=="symbol"?t:t+""}function eFe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ih=function(e){function t(r){var n;return K4e(this,t),n=J4e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Z4e(t,e),Y4e(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,s=w1(n,W4e),o=this.props,c=o.viewBox,u=w1(o,H4e);return!vd(a,c)||!vd(s,u)||!vd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,s=i.y,o=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,p,m,g,v,b,y,w=f?-1:1,_=n.tickSize||d,S=le(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=m=n.coordinate,v=s+ +!f*c,g=v-w*_,y=g-w*h,b=S;break;case"left":g=v=n.coordinate,m=a+ +!f*o,p=m-w*_,b=p-w*h,y=S;break;case"right":g=v=n.coordinate,m=a+ +f*o,p=m+w*_,b=p+w*h,y=S;break;default:p=m=n.coordinate,v=s+ +f*c,g=v+w*_,y=g+w*h,b=S;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s;switch(i){case"left":s=a?"start":"end";break;case"right":s=a?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=a?"start":"end";break;default:s=a?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,s=n.width,o=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Or(Or(Or({},Me(this.props,!1)),Me(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Or(Or({},f),{},{x1:i,y1:a+h*o,x2:i+s,y2:a+h*o})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Or(Or({},f),{},{x1:i+p*s,y1:a,x2:i+p*s,y2:a+o})}return A.createElement("line",td({},f,{className:qe("recharts-cartesian-axis-line",xi(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var s=this,o=this.props,c=o.tickLine,u=o.stroke,d=o.tick,f=o.tickFormatter,h=o.unit,p=xP(Or(Or({},this.props),{},{ticks:n}),i,a),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=Me(this.props,!1),b=Me(d,!1),y=Or(Or({},v),{},{fill:"none"},Me(c,!1)),w=p.map(function(_,S){var k=s.getTickLineCoord(_),N=k.line,E=k.tick,P=Or(Or(Or(Or({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:u},b),E),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return A.createElement(it,td({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Fc(s.props,_,S)),c&&A.createElement("line",td({},y,N,{className:qe("recharts-cartesian-axis-tick-line",xi(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Fe(f)?f(_.value,S):_.value).concat(h||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,s=i.width,o=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,p=w1(f,q4e),m=h;return Fe(c)&&(m=h&&h.length>0?c(this.props):c(p)),s<=0||o<=0||!m||!m.length?null:A.createElement(it,{className:qe("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),Kr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var s,o=qe(i.className,"recharts-cartesian-axis-tick-value");return A.isValidElement(n)?s=A.cloneElement(n,Or(Or({},i),{},{className:o})):Fe(n)?s=n(Or(Or({},i),{},{className:o})):s=A.createElement(Bc,td({},i,{className:"recharts-cartesian-axis-tick-value"}),a),s}}])}(x.Component);bP(ih,"displayName","CartesianAxis");bP(ih,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tFe=["x1","y1","x2","y2","key"],rFe=["offset"];function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){nFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nFe(e,t,r){return t=iFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iFe(e){var t=aFe(e,"string");return Wc(t)=="symbol"?t:t+""}function aFe(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}function bD(e,t){if(e==null)return{};var r=sFe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,s=t.width,o=t.height,c=t.ry;return A.createElement("rect",{x:i,y:a,ry:c,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Iq(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,s=t.y2,o=t.key,c=bD(t,tFe),u=Me(c,!1);u.offset;var d=bD(u,rFe);r=A.createElement("line",cc({},d,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function lFe(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=xn(xn({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return Iq(i,u)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function cFe(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map(function(o,c){var u=xn(xn({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return Iq(i,u)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function uFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,s=e.height,o=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=o.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?i+s-h:d[p+1]-h;if(g<=0)return null;var v=p%t.length;return A.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:g,width:a,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,o=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var m=!d[p+1],g=m?a+o-h:d[p+1]-h;if(g<=0)return null;var v=p%n.length;return A.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:g,height:c,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fFe=function(t,r){var n=t.xAxis,i=t.width,a=t.height,s=t.offset;return TH(xP(xn(xn(xn({},ih.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.left,s.left+s.width,r)},hFe=function(t,r){var n=t.yAxis,i=t.width,a=t.height,s=t.offset;return TH(xP(xn(xn(xn({},ih.defaultProps),n),{},{ticks:Rs(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),s.top,s.top+s.height,r)},Eu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function xw(e){var t,r,n,i,a,s,o=mP(),c=gP(),u=e4e(),d=xn(xn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Eu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Eu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Eu.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Eu.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Eu.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Eu.verticalFill,x:le(e.x)?e.x:u.left,y:le(e.y)?e.y:u.top,width:le(e.width)?e.width:u.width,height:le(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,m=d.height,g=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,y=XLe(),w=QLe();if(!le(p)||p<=0||!le(m)||m<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||fFe,S=d.horizontalCoordinatesGenerator||hFe,k=d.horizontalPoints,N=d.verticalPoints;if((!k||!k.length)&&Fe(S)){var E=v&&v.length,P=S({yAxis:w?xn(xn({},w),{},{ticks:E?v:w.ticks}):void 0,width:o,height:c,offset:u},E?!0:g);ka(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Wc(P),"]")),Array.isArray(P)&&(k=P)}if((!N||!N.length)&&Fe(_)){var T=b&&b.length,$=_({xAxis:y?xn(xn({},y),{},{ticks:T?b:y.ticks}):void 0,width:o,height:c,offset:u},T?!0:g);ka(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Wc($),"]")),Array.isArray($)&&(N=$)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(oFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),A.createElement(lFe,cc({},d,{offset:u,horizontalPoints:k,xAxis:y,yAxis:w})),A.createElement(cFe,cc({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:w})),A.createElement(uFe,cc({},d,{horizontalPoints:k})),A.createElement(dFe,cc({},d,{verticalPoints:N})))}xw.displayName="CartesianGrid";var pFe=["type","layout","connectNulls","ref"],mFe=["key"];function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function wD(e,t){if(e==null)return{};var r=gFe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(this,arguments)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ou(e){return bFe(e)||xFe(e)||yFe(e)||vFe()}function vFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yFe(e,t){if(e){if(typeof e=="string")return rN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rN(e,t)}}function xFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bFe(e){if(Array.isArray(e))return rN(e)}function rN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function _Fe(e,t,r){return t&&SD(e.prototype,t),r&&SD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SFe(e,t,r){return t=lb(t),jFe(e,Rq()?Reflect.construct(t,r||[],lb(e).constructor):t.apply(e,r))}function jFe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kFe(e)}function kFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!e})()}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}function NFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nN(e,t)}function nN(e,t){return nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nN(e,t)}function va(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=CFe(e,"string");return xf(t)=="symbol"?t:t+""}function CFe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bg=function(e){function t(){var r;wFe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=SFe(this,t,[].concat(i)),va(r,"state",{isAnimationFinished:!0,totalLength:0}),va(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),va(r,"getStrokeDasharray",function(s,o,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(o,s);for(var d=Math.floor(s/u),f=s%u,h=o-s,p=[],m=0,g=0;m<c.length;g+=c[m],++m)if(g+c[m]>f){p=[].concat(Ou(c.slice(0,m)),[f-g]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(Ou(t.repeat(c,d)),Ou(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),va(r,"id",su("recharts-line-")),va(r,"pathRef",function(s){r.mainCurve=s}),va(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),va(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return NFe(t,e),_Fe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.points,o=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=bi(d,yg);if(!f)return null;var h=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:gr(g.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return A.createElement(it,p,f.map(function(m){return A.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,c=o.dot,u=o.points,d=o.dataKey,f=Me(this.props,!1),h=Me(c,!0),p=u.map(function(g,v){var b=ii(ii(ii({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:d,payload:g.payload,points:u});return t.renderDotItem(c,b)}),m={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return A.createElement(it,dp({className:"recharts-line-dots",key:"dots"},m),p)}},{key:"renderCurveStatically",value:function(n,i,a,s){var o=this.props,c=o.type,u=o.layout,d=o.connectNulls;o.ref;var f=wD(o,pFe),h=ii(ii(ii({},Me(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return A.createElement(_c,dp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=s.animateNewValues,g=s.width,v=s.height,b=this.state,y=b.prevPoints,w=b.totalLength;return A.createElement($a,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(y){var k=y.length/o.length,N=o.map(function(M,F){var R=Math.floor(F*k);if(y[R]){var U=y[R],W=$r(U.x,M.x),z=$r(U.y,M.y);return ii(ii({},M),{},{x:W(S),y:z(S)})}if(m){var L=$r(g*2,M.x),B=$r(v/2,M.y);return ii(ii({},M),{},{x:L(S),y:B(S)})}return ii(ii({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(N,n,i)}var E=$r(0,w),P=E(S),T;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});T=a.getStrokeDasharray(P,w,$)}else T=a.generateSimpleStrokeDasharray(w,P);return a.renderCurveStatically(o,n,i,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,i){var a=this.props,s=a.points,o=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return o&&s&&s.length&&(!u&&d>0||!Uc(u,s))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=o.length===1,w=qe("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,N=He(v)?this.id:v,E=(n=Me(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,T=P===void 0?3:P,$=E.strokeWidth,M=$===void 0?2:$,F=kW(s)?s:{},R=F.clipDot,U=R===void 0?!0:R,W=T*2+M;return A.createElement(it,{className:w},_||S?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(N)},A.createElement("rect",{x:_?h:h-p/2,y:S?f:f-m/2,width:_?p:p*2,height:S?m:m*2})),!U&&A.createElement("clipPath",{id:"clipPath-dots-".concat(N)},A.createElement("rect",{x:h-W/2,y:f-W/2,width:p+W,height:m+W}))):null,!y&&this.renderCurve(k,N),this.renderErrorBar(k,N),(y||s)&&this.renderDots(k,U,N),(!g||b)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ou(n),[0]):n,s=[],o=0;o<i;++o)s=[].concat(Ou(s),Ou(a));return s}},{key:"renderDotItem",value:function(n,i){var a;if(A.isValidElement(n))a=A.cloneElement(n,i);else if(Fe(n))a=n(i);else{var s=i.key,o=wD(i,mFe),c=qe("recharts-line-dot",typeof n!="boolean"?n.className:"");a=A.createElement(xg,dp({key:s},o,{className:c}))}return a}}])}(x.PureComponent);va(bg,"displayName","Line");va(bg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!El.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});va(bg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,s=e.dataKey,o=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var m=gr(h,s);return d==="horizontal"?{x:Lx({axis:r,ticks:i,bandSize:o,entry:h,index:p}),y:He(m)?null:n.scale(m),value:m,payload:h}:{x:He(m)?null:r.scale(m),y:Lx({axis:n,ticks:a,bandSize:o,entry:h,index:p}),value:m,payload:h}});return ii({points:f,layout:d},u)});var EFe=["layout","type","stroke","connectNulls","isRange","ref"],OFe=["key"],Lq;function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function Fq(e,t){if(e==null)return{};var r=PFe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){Za(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function TFe(e,t,r){return t&&kD(e.prototype,t),r&&kD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MFe(e,t,r){return t=cb(t),$Fe(e,Bq()?Reflect.construct(t,r||[],cb(e).constructor):t.apply(e,r))}function $Fe(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IFe(e)}function IFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function cb(e){return cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cb(e)}function RFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iN(e,t)}function iN(e,t){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},iN(e,t)}function Za(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=DFe(e,"string");return bf(t)=="symbol"?t:t+""}function DFe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var no=function(e){function t(){var r;AFe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=MFe(this,t,[].concat(i)),Za(r,"state",{isAnimationFinished:!0}),Za(r,"id",su("recharts-area-")),Za(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(s)&&s()}),Za(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(s)&&s()}),r}return RFe(t,e),TFe(t,[{key:"renderDots",value:function(n,i,a){var s=this.props.isAnimationActive,o=this.state.isAnimationFinished;if(s&&!o)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Me(this.props,!1),p=Me(u,!0),m=d.map(function(v,b){var y=No(No(No({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,y)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return A.createElement(it,uc({className:"recharts-area-dots"},g),m)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=Ko(s.map(function(h){return h.y||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.y||0})),f)),le(f)?A.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(o?parseInt("".concat(o),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,s=i.points,o=i.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=Ko(s.map(function(h){return h.x||0}));return le(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(Ko(a.map(function(h){return h.x||0})),f)),le(f)?A.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(o?parseInt("".concat(o),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,s){var o=this.props,c=o.layout,u=o.type,d=o.stroke,f=o.connectNulls,h=o.isRange;o.ref;var p=Fq(o,EFe);return A.createElement(it,{clipPath:a?"url(#clipPath-".concat(s,")"):null},A.createElement(_c,uc({},Me(p,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(_c,uc({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&A.createElement(_c,uc({},Me(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,s=this.props,o=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,m=this.state,g=m.prevPoints,v=m.prevBaseLine;return A.createElement($a,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(g){var w=g.length/o.length,_=o.map(function(E,P){var T=Math.floor(P*w);if(g[T]){var $=g[T],M=$r($.x,E.x),F=$r($.y,E.y);return No(No({},E),{},{x:M(y),y:F(y)})}return E}),S;if(le(c)&&typeof c=="number"){var k=$r(v,c);S=k(y)}else if(He(c)||Xf(c)){var N=$r(v,0);S=N(y)}else S=c.map(function(E,P){var T=Math.floor(P*w);if(v[T]){var $=v[T],M=$r($.x,E.x),F=$r($.y,E.y);return No(No({},E),{},{x:M(y),y:F(y)})}return E});return a.renderAreaStatically(_,S,n,i)}return A.createElement(it,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),A.createElement(it,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(o,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,s=a.points,o=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!Uc(d,s)||!Uc(f,o))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,s=i.dot,o=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,p=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(a||!o||!o.length)return null;var b=this.state.isAnimationFinished,y=o.length===1,w=qe("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,k=_||S,N=He(v)?this.id:v,E=(n=Me(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,T=P===void 0?3:P,$=E.strokeWidth,M=$===void 0?2:$,F=kW(s)?s:{},R=F.clipDot,U=R===void 0?!0:R,W=T*2+M;return A.createElement(it,{className:w},_||S?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(N)},A.createElement("rect",{x:_?d:d-p/2,y:S?u:u-m/2,width:_?p:p*2,height:S?m:m*2})),!U&&A.createElement("clipPath",{id:"clipPath-dots-".concat(N)},A.createElement("rect",{x:d-W/2,y:u-W/2,width:p+W,height:m+W}))):null,y?null:this.renderArea(k,N),(s||y)&&this.renderDots(k,U,N),(!g||b)&&ss.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);Lq=no;Za(no,"displayName","Area");Za(no,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!El.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Za(no,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,s=t.props.baseValue,o=s??a;if(le(o)&&typeof o=="number")return o;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return o==="dataMin"?f:o==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return o==="dataMin"?u[0]:o==="dataMax"?u[1]:u[0]});Za(no,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,o=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,m=u&&u.length,g=Lq.getBaseValue(t,r,n,i),v=p==="horizontal",b=!1,y=f.map(function(_,S){var k;m?k=u[d+S]:(k=gr(_,c),Array.isArray(k)?b=!0:k=[g,k]);var N=k[1]==null||m&&gr(_,c)==null;return v?{x:Lx({axis:n,ticks:a,bandSize:o,entry:_,index:S}),y:N?null:i.scale(k[1]),value:k,payload:_}:{x:N?null:n.scale(k[1]),y:Lx({axis:i,ticks:s,bandSize:o,entry:_,index:S}),value:k,payload:_}}),w;return m||b?w=y.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?i.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=v?i.scale(g):n.scale(g),No({points:y,baseLine:w,layout:p,isRange:b},h)});Za(no,"renderDotItem",function(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(Fe(e))r=e(t);else{var n=qe("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Fq(t,OFe);r=A.createElement(xg,uc({},a,{key:i,className:n}))}return r});function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wq(n.key),n)}}function BFe(e,t,r){return t&&FFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UFe(e,t,r){return t=ub(t),zFe(e,zq()?Reflect.construct(t,r||[],ub(e).constructor):t.apply(e,r))}function zFe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VFe(e)}function VFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(e)}function WFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aN(e,t)}function Vq(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=HFe(e,"string");return wf(t)=="symbol"?t:t+""}function HFe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(this,arguments)}function qFe(e){var t=e.xAxisId,r=mP(),n=gP(),i=jq(t);return i==null?null:x.createElement(ih,sN({},i,{className:qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Rs(s,!0)}}))}var Tl=function(e){function t(){return LFe(this,t),UFe(this,t,arguments)}return WFe(t,e),BFe(t,[{key:"render",value:function(){return x.createElement(qFe,this.props)}}])}(x.Component);Vq(Tl,"displayName","XAxis");Vq(Tl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function GFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gq(n.key),n)}}function YFe(e,t,r){return t&&KFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JFe(e,t,r){return t=db(t),XFe(e,Hq()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function XFe(e,t){if(t&&(_f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QFe(e)}function QFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hq=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(e)}function ZFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oN(e,t)}function oN(e,t){return oN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oN(e,t)}function qq(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=e3e(e,"string");return _f(t)=="symbol"?t:t+""}function e3e(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}var t3e=function(t){var r=t.yAxisId,n=mP(),i=gP(),a=kq(r);return a==null?null:x.createElement(ih,lN({},a,{className:qe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Rs(o,!0)}}))},Ml=function(e){function t(){return GFe(this,t),JFe(this,t,arguments)}return ZFe(t,e),YFe(t,[{key:"render",value:function(){return x.createElement(t3e,this.props)}}])}(x.Component);qq(Ml,"displayName","YAxis");qq(Ml,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ND(e){return a3e(e)||i3e(e)||n3e(e)||r3e()}function r3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n3e(e,t){if(e){if(typeof e=="string")return cN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cN(e,t)}}function i3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a3e(e){if(Array.isArray(e))return cN(e)}function cN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var uN=function(t,r,n,i,a){var s=bi(t,yP),o=bi(t,gw),c=[].concat(ND(s),ND(o)),u=bi(t,yw),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(g,v){if(v.props[d]===n&&os(v.props,"extendDomain")&&le(v.props[f])){var b=v.props[f];return[Math.min(g[0],b),Math.max(g[1],b)]}return g},h)),u.length){var p="".concat(f,"1"),m="".concat(f,"2");h=u.reduce(function(g,v){if(v.props[d]===n&&os(v.props,"extendDomain")&&le(v.props[p])&&le(v.props[m])){var b=v.props[p],y=v.props[m];return[Math.min(g[0],b,y),Math.max(g[1],b,y)]}return g},h)}return a&&a.length&&(h=a.reduce(function(g,v){return le(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},h)),h},Kq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,f||c,h),m=r?r+u:u;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],p]:c._events[m].push(p):(c._events[m]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,p,m){var g=r?r+u:u;if(!this._events[g])return!1;var v=this._events[g],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,m),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(S=1,y=new Array(b-1);S<b;S++)y[S-1]=arguments[S];v[w].fn.apply(v[w].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],b=m.length;g<b;g++)(m[g].fn!==d||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Kq);var s3e=Kq.exports;const o3e=bt(s3e);var _1=new o3e,S1="recharts.syncMouseEvents";function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function l3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function u3e(e,t,r){return t&&c3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function j1(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=d3e(e,"string");return Rm(t)=="symbol"?t:t+""}function d3e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f3e=function(){function e(){l3e(this,e),j1(this,"activeIndex",0),j1(this,"coordinateList",[]),j1(this,"layout","horizontal")}return u3e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,s=r.container,o=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,s=i.y,o=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=s+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function h3e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&le(n)&&le(i))return!0}return!1}function p3e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Jq(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,s=Lt(t,r,n,i),o=Lt(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function m3e(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Lt(o,c,u,f),p=Lt(o,c,d,f);n=h.x,i=h.y,a=p.x,s=p.y}else return Jq(t);return[{x:n,y:i},{x:a,y:s}]}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){g3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g3e(e,t,r){return t=v3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v3e(e){var t=y3e(e,"string");return Dm(t)=="symbol"?t:t+""}function y3e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x3e(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,s=e.activeCoordinate,o=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!s||h!=="ScatterChart"&&i!=="axis")return null;var m,g=_c;if(h==="ScatterChart")m=s,g=CIe;else if(h==="BarChart")m=p3e(f,s,c,d),g=uP;else if(f==="radial"){var v=Jq(s),b=v.cx,y=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;m={cx:b,cy:y,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},g=VH}else m={points:m3e(f,s,c)},g=_c;var k=yv(yv(yv(yv({stroke:"#ccc",pointerEvents:"none"},c),m),Me(p,!1)),{},{payload:o,payloadIndex:u,className:qe("recharts-tooltip-cursor",p.className)});return x.isValidElement(p)?x.cloneElement(p,k):x.createElement(g,k)}var b3e=["item"],w3e=["children","className","width","height","style","compact","title","desc"];function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}function ED(e,t){return j3e(e)||S3e(e,t)||Qq(e,t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function j3e(e){if(Array.isArray(e))return e}function OD(e,t){if(e==null)return{};var r=k3e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function N3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function E3e(e,t,r){return t&&C3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O3e(e,t,r){return t=fb(t),P3e(e,Xq()?Reflect.construct(t,r||[],fb(e).constructor):t.apply(e,r))}function P3e(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A3e(e)}function A3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xq=function(){return!!e})()}function fb(e){return fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fb(e)}function T3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dN(e,t)}function dN(e,t){return dN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dN(e,t)}function jf(e){return I3e(e)||$3e(e)||Qq(e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qq(e,t){if(e){if(typeof e=="string")return fN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fN(e,t)}}function $3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I3e(e){if(Array.isArray(e))return fN(e)}function fN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Re(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=R3e(e,"string");return Sf(t)=="symbol"?t:t+""}function R3e(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D3e={xAxis:["bottom","top"],yAxis:["left","right"]},L3e={width:"100%",height:"100%"},e7={x:0,y:0};function xv(e){return e}var F3e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},B3e=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,o=i.radius;return re(re(re({},i),Lt(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=a.coordinate,u=i.angle;return re(re(re({},i),Lt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return e7},bw=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,s=(n??[]).reduce(function(o,c){var u=c.props.data;return u&&u.length?[].concat(jf(o),jf(u)):o},[]);return s.length>0?s:t&&t.length&&le(i)&&le(a)?t.slice(i,a+1):[]};function t7(e){return e==="number"?[0,"auto"]:void 0}var hN=function(t,r,n,i){var a=t.graphicalItems,s=t.tooltipAxis,o=bw(r,t);return n<0||!a||!a.length||n>=o.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?o:f;h=cx(p,s.dataKey,i)}else h=f&&f[n]||o[n];return h?[].concat(jf(c),[DH(u,h)]):c},[])},AD=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},s=F3e(a,n),o=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=GTe(s,o,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=hN(t,r,d,f),p=B3e(n,o,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},U3e=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=AH(d,a);return n.reduce(function(m,g){var v,b=g.type.defaultProps!==void 0?re(re({},g.type.defaultProps),g.props):g.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,k=b.scale,N=b.ticks,E=b.includeHidden,P=b[s];if(m[P])return m;var T=bw(t.data,{graphicalItems:i.filter(function(X){var j,O=s in X.props?X.props[s]:(j=X.type.defaultProps)===null||j===void 0?void 0:j[s];return O===P}),dataStartIndex:c,dataEndIndex:u}),$=T.length,M,F,R;h3e(b.domain,_,y)&&(M=Nk(b.domain,null,_),p&&(y==="number"||k!=="auto")&&(R=op(T,w,"category")));var U=t7(y);if(!M||M.length===0){var W,z=(W=b.domain)!==null&&W!==void 0?W:U;if(w){if(M=op(T,w,y),y==="category"&&p){var L=Dxe(M);S&&L?(F=M,M=Qx(0,$)):S||(M=eR(z,M,g).reduce(function(X,j){return X.indexOf(j)>=0?X:[].concat(jf(X),[j])},[]))}else if(y==="category")S?M=M.filter(function(X){return X!==""&&!He(X)}):M=eR(z,M,g).reduce(function(X,j){return X.indexOf(j)>=0||j===""||He(j)?X:[].concat(jf(X),[j])},[]);else if(y==="number"){var B=QTe(T,i.filter(function(X){var j,O,C=s in X.props?X.props[s]:(j=X.type.defaultProps)===null||j===void 0?void 0:j[s],D="hide"in X.props?X.props.hide:(O=X.type.defaultProps)===null||O===void 0?void 0:O.hide;return C===P&&(E||!D)}),w,a,d);B&&(M=B)}p&&(y==="number"||k!=="auto")&&(R=op(T,w,"category"))}else p?M=Qx(0,$):o&&o[P]&&o[P].hasStack&&y==="number"?M=h==="expand"?[0,1]:RH(o[P].stackGroups,c,u):M=PH(T,i.filter(function(X){var j=s in X.props?X.props[s]:X.type.defaultProps[s],O="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return j===P&&(E||!O)}),y,d,!0);if(y==="number")M=uN(f,M,P,a,N),z&&(M=Nk(z,M,_));else if(y==="category"&&z){var G=z,te=M.every(function(X){return G.indexOf(X)>=0});te&&(M=G)}}return re(re({},m),{},Re({},P,re(re({},b),{},{axisType:a,domain:M,categoricalDomain:R,duplicateDomain:F,originalDomain:(v=b.domain)!==null&&v!==void 0?v:U,isCategorical:p,layout:d})))},{})},z3e=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,s=r.axisIdKey,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=bw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,m=AH(d,a),g=-1;return n.reduce(function(v,b){var y=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,w=y[s],_=t7("number");if(!v[w]){g++;var S;return m?S=Qx(0,p):o&&o[w]&&o[w].hasStack?(S=RH(o[w].stackGroups,c,u),S=uN(f,S,w,a)):(S=Nk(_,PH(h,n.filter(function(k){var N,E,P=s in k.props?k.props[s]:(N=k.type.defaultProps)===null||N===void 0?void 0:N[s],T="hide"in k.props?k.props.hide:(E=k.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===w&&!T}),"number",d),i.defaultProps.allowDataOverflow),S=uN(f,S,w,a)),re(re({},v),{},Re({},w,re(re({axisType:a},i.defaultProps),{},{hide:!0,orientation:xi(D3e,"".concat(a,".").concat(g%2),null),domain:S,originalDomain:_,isCategorical:m,layout:d})))}return v},{})},V3e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=bi(d,a),p={};return h&&h.length?p=U3e(t,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=z3e(t,{Axis:a,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:c,dataEndIndex:u})),p},W3e=function(t){var r=Do(t),n=Rs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:DO(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Fx(r,n)}},TD=function(t){var r=t.children,n=t.defaultShowTooltip,i=oi(r,hf),a=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},H3e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Bs(r&&r.type);return n&&n.indexOf("Bar")>=0})},MD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},q3e=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,s=a===void 0?{}:a,o=t.yAxisMap,c=o===void 0?{}:o,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=oi(f,hf),m=oi(f,Us),g=Object.keys(c).reduce(function(S,k){var N=c[k],E=N.orientation;return!N.mirror&&!N.hide?re(re({},S),{},Re({},E,S[E]+N.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,k){var N=s[k],E=N.orientation;return!N.mirror&&!N.hide?re(re({},S),{},Re({},E,xi(S,"".concat(E))+N.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},v),g),y=b.bottom;p&&(b.bottom+=p.props.height||hf.defaultProps.height),m&&r&&(b=JTe(b,i,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return re(re({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},G3e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ww=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,_=y.stackGroups,S=y.offset,k=y.updateId,N=y.dataStartIndex,E=y.dataEndIndex,P=b.barSize,T=b.layout,$=b.barGap,M=b.barCategoryGap,F=b.maxBarSize,R=MD(T),U=R.numericAxisName,W=R.cateAxisName,z=H3e(w),L=[];return w.forEach(function(B,G){var te=bw(b.data,{graphicalItems:[B],dataStartIndex:N,dataEndIndex:E}),X=B.type.defaultProps!==void 0?re(re({},B.type.defaultProps),B.props):B.props,j=X.dataKey,O=X.maxBarSize,C=X["".concat(U,"Id")],D=X["".concat(W,"Id")],I={},q=c.reduce(function(V,J){var Z=y["".concat(J.axisType,"Map")],ve=X["".concat(J.axisType,"Id")];Z&&Z[ve]||J.axisType==="zAxis"||Vc();var de=Z[ve];return re(re({},V),{},Re(Re({},J.axisType,de),"".concat(J.axisType,"Ticks"),Rs(de)))},I),H=q[W],K=q["".concat(W,"Ticks")],Q=_&&_[C]&&_[C].hasStack&&o2e(B,_[C].stackGroups),Y=Bs(B.type).indexOf("Bar")>=0,ye=Fx(H,K),Ae=[],tt=z&&KTe({barSize:P,stackGroups:_,totalSize:G3e(q,W)});if(Y){var nt,Je,wt=He(O)?F:O,rr=(nt=(Je=Fx(H,K,!0))!==null&&Je!==void 0?Je:wt)!==null&&nt!==void 0?nt:0;Ae=YTe({barGap:$,barCategoryGap:M,bandSize:rr!==ye?rr:ye,sizeList:tt[D],maxBarSize:wt}),rr!==ye&&(Ae=Ae.map(function(V){return re(re({},V),{},{position:re(re({},V.position),{},{offset:V.position.offset-rr/2})})}))}var dn=B&&B.type&&B.type.getComposedData;dn&&L.push({props:re(re({},dn(re(re({},q),{},{displayedData:te,props:b,dataKey:j,item:B,bandSize:ye,barPosition:Ae,offset:S,stackedData:Q,layout:T,dataStartIndex:N,dataEndIndex:E}))),{},Re(Re(Re({key:B.key||"item-".concat(G)},U,q[U]),W,q[W]),"animationId",k)),childIndex:Yxe(B,b.children),item:B})}),L},p=function(b,y){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,k=b.updateId;if(!KM({props:w}))return null;var N=w.children,E=w.layout,P=w.stackOffset,T=w.data,$=w.reverseStackOrder,M=MD(E),F=M.numericAxisName,R=M.cateAxisName,U=bi(N,n),W=a2e(T,U,"".concat(F,"Id"),"".concat(R,"Id"),P,$),z=c.reduce(function(X,j){var O="".concat(j.axisType,"Map");return re(re({},X),{},Re({},O,V3e(w,re(re({},j),{},{graphicalItems:U,stackGroups:j.axisType===F&&W,dataStartIndex:_,dataEndIndex:S}))))},{}),L=q3e(re(re({},z),{},{props:w,graphicalItems:U}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(X){z[X]=d(w,z[X],L,X.replace("Map",""),r)});var B=z["".concat(R,"Map")],G=W3e(B),te=h(w,re(re({},z),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:U,stackGroups:W,offset:L}));return re(re({formattedGraphicalItems:te,graphicalItems:U,offset:L,stackGroups:W},G),z)},m=function(v){function b(y){var w,_,S;return N3e(this,b),S=O3e(this,b,[y]),Re(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Re(S,"accessibilityManager",new f3e),Re(S,"handleLegendBBoxUpdate",function(k){if(k){var N=S.state,E=N.dataStartIndex,P=N.dataEndIndex,T=N.updateId;S.setState(re({legendBBox:k},p({props:S.props,dataStartIndex:E,dataEndIndex:P,updateId:T},re(re({},S.state),{},{legendBBox:k}))))}}),Re(S,"handleReceiveSyncEvent",function(k,N,E){if(S.props.syncId===k){if(E===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(N)}}),Re(S,"handleBrushChange",function(k){var N=k.startIndex,E=k.endIndex;if(N!==S.state.dataStartIndex||E!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return re({dataStartIndex:N,dataEndIndex:E},p({props:S.props,dataStartIndex:N,dataEndIndex:E,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:N,dataEndIndex:E})}}),Re(S,"handleMouseEnter",function(k){var N=S.getMouseInfo(k);if(N){var E=re(re({},N),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseEnter;Fe(P)&&P(E,k)}}),Re(S,"triggeredAfterMouseMove",function(k){var N=S.getMouseInfo(k),E=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(E),S.triggerSyncEvent(E);var P=S.props.onMouseMove;Fe(P)&&P(E,k)}),Re(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Re(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Re(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Re(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};S.setState(N),S.triggerSyncEvent(N);var E=S.props.onMouseLeave;Fe(E)&&E(N,k)}),Re(S,"handleOuterEvent",function(k){var N=Kxe(k),E=xi(S.props,"".concat(N));if(N&&Fe(E)){var P,T;/.*touch.*/i.test(N)?T=S.getMouseInfo(k.changedTouches[0]):T=S.getMouseInfo(k),E((P=T)!==null&&P!==void 0?P:{},k)}}),Re(S,"handleClick",function(k){var N=S.getMouseInfo(k);if(N){var E=re(re({},N),{},{isTooltipActive:!0});S.setState(E),S.triggerSyncEvent(E);var P=S.props.onClick;Fe(P)&&P(E,k)}}),Re(S,"handleMouseDown",function(k){var N=S.props.onMouseDown;if(Fe(N)){var E=S.getMouseInfo(k);N(E,k)}}),Re(S,"handleMouseUp",function(k){var N=S.props.onMouseUp;if(Fe(N)){var E=S.getMouseInfo(k);N(E,k)}}),Re(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Re(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Re(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Re(S,"handleDoubleClick",function(k){var N=S.props.onDoubleClick;if(Fe(N)){var E=S.getMouseInfo(k);N(E,k)}}),Re(S,"handleContextMenu",function(k){var N=S.props.onContextMenu;if(Fe(N)){var E=S.getMouseInfo(k);N(E,k)}}),Re(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&_1.emit(S1,S.props.syncId,k,S.eventEmitterSymbol)}),Re(S,"applySyncEvent",function(k){var N=S.props,E=N.layout,P=N.syncMethod,T=S.state.updateId,$=k.dataStartIndex,M=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(re({dataStartIndex:$,dataEndIndex:M},p({props:S.props,dataStartIndex:$,dataEndIndex:M,updateId:T},S.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,R=k.chartY,U=k.activeTooltipIndex,W=S.state,z=W.offset,L=W.tooltipTicks;if(!z)return;if(typeof P=="function")U=P(L,k);else if(P==="value"){U=-1;for(var B=0;B<L.length;B++)if(L[B].value===k.activeLabel){U=B;break}}var G=re(re({},z),{},{x:z.left,y:z.top}),te=Math.min(F,G.x+G.width),X=Math.min(R,G.y+G.height),j=L[U]&&L[U].value,O=hN(S.state,S.props.data,U),C=L[U]?{x:E==="horizontal"?L[U].coordinate:te,y:E==="horizontal"?X:L[U].coordinate}:e7;S.setState(re(re({},k),{},{activeLabel:j,activeCoordinate:C,activePayload:O,activeTooltipIndex:U}))}else S.setState(k)}),Re(S,"renderCursor",function(k){var N,E=S.state,P=E.isTooltipActive,T=E.activeCoordinate,$=E.activePayload,M=E.offset,F=E.activeTooltipIndex,R=E.tooltipAxisBandSize,U=S.getTooltipEventType(),W=(N=k.props.active)!==null&&N!==void 0?N:P,z=S.props.layout,L=k.key||"_recharts-cursor";return A.createElement(x3e,{key:L,activeCoordinate:T,activePayload:$,activeTooltipIndex:F,chartName:r,element:k,isActive:W,layout:z,offset:M,tooltipAxisBandSize:R,tooltipEventType:U})}),Re(S,"renderPolarAxis",function(k,N,E){var P=xi(k,"type.axisType"),T=xi(S.state,"".concat(P,"Map")),$=k.type.defaultProps,M=$!==void 0?re(re({},$),k.props):k.props,F=T&&T[M["".concat(P,"Id")]];return x.cloneElement(k,re(re({},F),{},{className:qe(P,F.className),key:k.key||"".concat(N,"-").concat(E),ticks:Rs(F,!0)}))}),Re(S,"renderPolarGrid",function(k){var N=k.props,E=N.radialLines,P=N.polarAngles,T=N.polarRadius,$=S.state,M=$.radiusAxisMap,F=$.angleAxisMap,R=Do(M),U=Do(F),W=U.cx,z=U.cy,L=U.innerRadius,B=U.outerRadius;return x.cloneElement(k,{polarAngles:Array.isArray(P)?P:Rs(U,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(T)?T:Rs(R,!0).map(function(G){return G.coordinate}),cx:W,cy:z,innerRadius:L,outerRadius:B,key:k.key||"polar-grid",radialLines:E})}),Re(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,N=S.props,E=N.children,P=N.width,T=N.height,$=S.props.margin||{},M=P-($.left||0)-($.right||0),F=EH({children:E,formattedGraphicalItems:k,legendWidth:M,legendContent:u});if(!F)return null;var R=F.item,U=OD(F,b3e);return x.cloneElement(R,re(re({},U),{},{chartWidth:P,chartHeight:T,margin:$,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Re(S,"renderTooltip",function(){var k,N=S.props,E=N.children,P=N.accessibilityLayer,T=oi(E,ci);if(!T)return null;var $=S.state,M=$.isTooltipActive,F=$.activeCoordinate,R=$.activePayload,U=$.activeLabel,W=$.offset,z=(k=T.props.active)!==null&&k!==void 0?k:M;return x.cloneElement(T,{viewBox:re(re({},W),{},{x:W.left,y:W.top}),active:z,label:U,payload:z?R:[],coordinate:F,accessibilityLayer:P})}),Re(S,"renderBrush",function(k){var N=S.props,E=N.margin,P=N.data,T=S.state,$=T.offset,M=T.dataStartIndex,F=T.dataEndIndex,R=T.updateId;return x.cloneElement(k,{key:k.key||"_recharts-brush",onChange:pv(S.handleBrushChange,k.props.onChange),data:P,x:le(k.props.x)?k.props.x:$.left,y:le(k.props.y)?k.props.y:$.top+$.height+$.brushBottom-(E.bottom||0),width:le(k.props.width)?k.props.width:$.width,startIndex:M,endIndex:F,updateId:"brush-".concat(R)})}),Re(S,"renderReferenceElement",function(k,N,E){if(!k)return null;var P=S,T=P.clipPathId,$=S.state,M=$.xAxisMap,F=$.yAxisMap,R=$.offset,U=k.type.defaultProps||{},W=k.props,z=W.xAxisId,L=z===void 0?U.xAxisId:z,B=W.yAxisId,G=B===void 0?U.yAxisId:B;return x.cloneElement(k,{key:k.key||"".concat(N,"-").concat(E),xAxis:M[L],yAxis:F[G],viewBox:{x:R.left,y:R.top,width:R.width,height:R.height},clipPathId:T})}),Re(S,"renderActivePoints",function(k){var N=k.item,E=k.activePoint,P=k.basePoint,T=k.childIndex,$=k.isRange,M=[],F=N.props.key,R=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,U=R.activeDot,W=R.dataKey,z=re(re({index:T,dataKey:W,cx:E.x,cy:E.y,r:4,fill:cP(N.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Me(U,!1)),ux(U));return M.push(b.renderActiveDot(U,z,"".concat(F,"-activePoint-").concat(T))),P?M.push(b.renderActiveDot(U,re(re({},z),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(T))):$&&M.push(null),M}),Re(S,"renderGraphicChild",function(k,N,E){var P=S.filterFormatItem(k,N,E);if(!P)return null;var T=S.getTooltipEventType(),$=S.state,M=$.isTooltipActive,F=$.tooltipAxis,R=$.activeTooltipIndex,U=$.activeLabel,W=S.props.children,z=oi(W,ci),L=P.props,B=L.points,G=L.isRange,te=L.baseLine,X=P.item.type.defaultProps!==void 0?re(re({},P.item.type.defaultProps),P.item.props):P.item.props,j=X.activeDot,O=X.hide,C=X.activeBar,D=X.activeShape,I=!!(!O&&M&&z&&(j||C||D)),q={};T!=="axis"&&z&&z.props.trigger==="click"?q={onClick:pv(S.handleItemMouseEnter,k.props.onClick)}:T!=="axis"&&(q={onMouseLeave:pv(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:pv(S.handleItemMouseEnter,k.props.onMouseEnter)});var H=x.cloneElement(k,re(re({},P.props),q));function K(J){return typeof F.dataKey=="function"?F.dataKey(J.payload):null}if(I)if(R>=0){var Q,Y;if(F.dataKey&&!F.allowDuplicatedCategory){var ye=typeof F.dataKey=="function"?K:"payload.".concat(F.dataKey.toString());Q=cx(B,ye,U),Y=G&&te&&cx(te,ye,U)}else Q=B==null?void 0:B[R],Y=G&&te&&te[R];if(D||C){var Ae=k.props.activeIndex!==void 0?k.props.activeIndex:R;return[x.cloneElement(k,re(re(re({},P.props),q),{},{activeIndex:Ae})),null,null]}if(!He(Q))return[H].concat(jf(S.renderActivePoints({item:P,activePoint:Q,basePoint:Y,childIndex:R,isRange:G})))}else{var tt,nt=(tt=S.getItemByXY(S.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:H},Je=nt.graphicalItem,wt=Je.item,rr=wt===void 0?k:wt,dn=Je.childIndex,V=re(re(re({},P.props),q),{},{activeIndex:dn});return[x.cloneElement(rr,V),null,null]}return G?[H,null,null]:[H,null]}),Re(S,"renderCustomized",function(k,N,E){return x.cloneElement(k,re(re({key:"recharts-customized-".concat(E)},S.props),S.state))}),Re(S,"renderMap",{CartesianGrid:{handler:xv,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:xv},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:xv},YAxis:{handler:xv},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:su("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=E9(S.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return T3e(b,v),E3e(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,k=w.height,N=w.layout,E=oi(_,ci);if(E){var P=E.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,$=hN(this.state,S,P,T),M=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+k)/2,R=N==="horizontal",U=R?{x:M,y:F}:{y:M,x:F},W=this.state.formattedGraphicalItems.find(function(L){var B=L.item;return B.type.name==="Scatter"});W&&(U=re(re({},U),W.props.points[P].tooltipPosition),$=W.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:T,activePayload:$,activeCoordinate:U};this.setState(z),this.renderCursor(E),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(w){Uj([oi(w.children,ci)],[oi(this.props.children,ci)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=oi(this.props.children,ci);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return o.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=wEe(S),N={chartX:Math.round(w.pageX-k.left),chartY:Math.round(w.pageY-k.top)},E=S.width/_.offsetWidth||1,P=this.inRange(N.chartX,N.chartY,E);if(!P)return null;var T=this.state,$=T.xAxisMap,M=T.yAxisMap,F=this.getTooltipEventType(),R=AD(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&$&&M){var U=Do($).scale,W=Do(M).scale,z=U&&U.invert?U.invert(N.chartX):null,L=W&&W.invert?W.invert(N.chartY):null;return re(re({},N),{},{xValue:z,yValue:L},R)}return R?re(re({},N),R):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,N=w/S,E=_/S;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,T=N>=P.left&&N<=P.left+P.width&&E>=P.top&&E<=P.top+P.height;return T?{x:N,y:E}:null}var $=this.state,M=$.angleAxisMap,F=$.radiusAxisMap;if(M&&F){var R=Do(M);return nR({x:N,y:E},R)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=oi(w,ci),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ux(this.props,this.handleOuterEvent);return re(re({},N),k)}},{key:"addListener",value:function(){_1.on(S1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){_1.removeListener(S1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var k=this.state.formattedGraphicalItems,N=0,E=k.length;N<E;N++){var P=k[N];if(P.item===w||P.props.key===w.key||_===Bs(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,N=_.height,E=_.width;return A.createElement("defs",null,A.createElement("clipPath",{id:w},A.createElement("rect",{x:S,y:k,height:N,width:E})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=ED(S,2),N=k[0],E=k[1];return re(re({},_),{},Re({},N,E.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var k=ED(S,2),N=k[0],E=k[1];return re(re({},_),{},Re({},N,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var N=0,E=S.length;N<E;N++){var P=S[N],T=P.props,$=P.item,M=$.type.defaultProps!==void 0?re(re({},$.type.defaultProps),$.props):$.props,F=Bs($.type);if(F==="Bar"){var R=(T.data||[]).find(function(L){return oIe(w,L)});if(R)return{graphicalItem:P,payload:R}}else if(F==="RadialBar"){var U=(T.data||[]).find(function(L){return nR(w,L)});if(U)return{graphicalItem:P,payload:U}}else if(fw(P,k)||hw(P,k)||Am(P,k)){var W=YRe({graphicalItem:P,activeTooltipItem:k,itemData:M.data}),z=M.activeIndex===void 0?W:M.activeIndex;return{graphicalItem:re(re({},P),{},{childIndex:z}),payload:Am(P,k)?M.data[W]:P.props.data[W]}}}return null}},{key:"render",value:function(){var w=this;if(!KM(this))return null;var _=this.props,S=_.children,k=_.className,N=_.width,E=_.height,P=_.style,T=_.compact,$=_.title,M=_.desc,F=OD(_,w3e),R=Me(F,!1);if(T)return A.createElement(lD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(Vj,rd({},R,{width:N,height:E,title:$,desc:M}),this.renderClipPath(),JM(S,this.renderMap)));if(this.props.accessibilityLayer){var U,W;R.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,R.role=(W=this.props.role)!==null&&W!==void 0?W:"application",R.onKeyDown=function(L){w.accessibilityManager.keyboardEvent(L)},R.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return A.createElement(lD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",rd({className:qe("recharts-wrapper",k),style:re({position:"relative",cursor:"default",width:N,height:E},P)},z,{ref:function(B){w.container=B}}),A.createElement(Vj,rd({},R,{width:N,height:E,title:$,desc:M,style:L3e}),this.renderClipPath(),JM(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Re(m,"displayName",r),Re(m,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Re(m,"getDerivedStateFromProps",function(v,b){var y=v.dataKey,w=v.data,_=v.children,S=v.width,k=v.height,N=v.layout,E=v.stackOffset,P=v.margin,T=b.dataStartIndex,$=b.dataEndIndex;if(b.updateId===void 0){var M=TD(v);return re(re(re({},M),{},{updateId:0},p(re(re({props:v},M),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:k,prevLayout:N,prevStackOffset:E,prevMargin:P,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||k!==b.prevHeight||N!==b.prevLayout||E!==b.prevStackOffset||!vd(P,b.prevMargin)){var F=TD(v),R={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},U=re(re({},AD(b,w,N)),{},{updateId:b.updateId+1}),W=re(re(re({},F),R),U);return re(re(re({},W),p(re({props:v},W),b)),{},{prevDataKey:y,prevData:w,prevWidth:S,prevHeight:k,prevLayout:N,prevStackOffset:E,prevMargin:P,prevChildren:_})}if(!Uj(_,b.prevChildren)){var z,L,B,G,te=oi(_,hf),X=te&&(z=(L=te.props)===null||L===void 0?void 0:L.startIndex)!==null&&z!==void 0?z:T,j=te&&(B=(G=te.props)===null||G===void 0?void 0:G.endIndex)!==null&&B!==void 0?B:$,O=X!==T||j!==$,C=!He(w),D=C&&!O?b.updateId:b.updateId+1;return re(re({updateId:D},p(re(re({props:v},b),{},{updateId:D,dataStartIndex:X,dataEndIndex:j}),b)),{},{prevChildren:_,dataStartIndex:X,dataEndIndex:j})}return null}),Re(m,"renderActiveDot",function(v,b,y){var w;return x.isValidElement(v)?w=x.cloneElement(v,b):Fe(v)?w=v(b):w=A.createElement(xg,b),A.createElement(it,{className:"recharts-active-dot",key:y},w)});var g=x.forwardRef(function(b,y){return A.createElement(m,rd({},b,{ref:y}))});return g.displayName=m.displayName,g},K3e=ww({chartName:"LineChart",GraphicalChild:bg,axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:dP}),Y3e=ww({chartName:"BarChart",GraphicalChild:uu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:dP}),J3e=ww({chartName:"PieChart",GraphicalChild:ho,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:dw},{axisType:"radiusAxis",AxisComp:cw}],formatAxisMap:v2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),X3e=ww({chartName:"AreaChart",GraphicalChild:no,axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:Ml}],formatAxisMap:dP});const Q3e=({data:e})=>{const t=e.map(r=>({...r,date:at(TE(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return l.jsxs(se,{className:"col-span-full lg:col-span-2",children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tp,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Appointment Trends"})]}),l.jsx(Ie,{children:"Daily appointment volume over time"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[300px] w-full",children:l.jsx(X0,{width:"100%",height:"100%",children:l.jsxs(X3e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),l.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),l.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),l.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),l.jsx(xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),l.jsx(Tl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),l.jsx(Ml,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),l.jsx(ci,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),l.jsx(Us,{wrapperStyle:{fontSize:"12px"}}),l.jsx(no,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),l.jsx(no,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},$D=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],Z3e=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,i)=>n+i.value,0);return r===0?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qt,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),l.jsx(Ie,{children:"Distribution by type"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(qt,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),l.jsx(Ie,{children:"Distribution by type"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] w-full",children:l.jsx(X0,{width:"100%",height:"100%",children:l.jsxs(J3e,{children:[l.jsx(ho,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,i)=>l.jsx(hg,{fill:$D[i%$D.length]},`cell-${i}`))}),l.jsx(ci,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),l.jsx(Us,{formatter:n=>l.jsx("span",{className:"text-sm",children:n})})]})})})})]})},e5e={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},t5e=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:e5e[r]||"hsl(215, 15%, 45%)"}));return t.length===0?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nT,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),l.jsx(Ie,{children:"Appointment status breakdown"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nT,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),l.jsx(Ie,{children:"Appointment status breakdown"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] w-full",children:l.jsx(X0,{width:"100%",height:"100%",children:l.jsxs(Y3e,{data:t,layout:"vertical",margin:{left:20,right:20},children:[l.jsx(xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),l.jsx(Tl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),l.jsx(Ml,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),l.jsx(ci,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),l.jsx(uu,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>l.jsx(hg,{fill:r.color},`cell-${n}`))})]})})})})]})},r5e=({data:e})=>e.length===0?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oT,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),l.jsx(Ie,{children:"Top performing clinicians"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):l.jsxs(se,{className:"col-span-full lg:col-span-2",children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(oT,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),l.jsx(Ie,{children:"Top performing clinicians by appointments"})]}),l.jsx(fe,{children:l.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>l.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&l.jsx(Ce,{variant:"default",className:"text-xs",children:"Top Performer"})]}),l.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[l.jsxs("span",{children:[t.total_appointments," appointments"]}),l.jsx("span",{children:""}),l.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),l.jsx("div",{className:"w-24",children:l.jsx(Qp,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?l.jsx(Tp,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?l.jsx(Tp,{className:"w-4 h-4 text-warning"}):l.jsx(aX,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),n5e=({data:e})=>{const t=e.map(r=>({...r,date:at(TE(r.date),"MMM d")}));return e.length===0?l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(HS,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),l.jsx(Ie,{children:"New patient registrations over time"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):l.jsxs(se,{className:"col-span-full lg:col-span-1",children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(HS,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),l.jsx(Ie,{children:"Total patients over time"})]}),l.jsx(fe,{children:l.jsx("div",{className:"h-[200px] w-full",children:l.jsx(X0,{width:"100%",height:"100%",children:l.jsxs(K3e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[l.jsx(xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),l.jsx(Tl,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),l.jsx(Ml,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),l.jsx(ci,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),l.jsx(Us,{wrapperStyle:{fontSize:"11px"}}),l.jsx(bg,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},i5e=()=>{const{profile:e,signOut:t}=Er(),[r,n]=x.useState(30),{data:i,loading:a,error:s,refetch:o}=nge(r);return l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("div",{className:"hidden sm:block",children:l.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>o(),disabled:a,className:"hidden sm:flex",children:[l.jsx(Ks,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]}),l.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>o(),disabled:a,className:"sm:hidden",children:l.jsx(Ks,{className:`w-4 h-4 ${a?"animate-spin":""}`})}),l.jsx(Ce,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),l.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:t,children:[l.jsx(ul,{className:"w-4 h-4 sm:mr-2"}),l.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),l.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs(pr,{value:r.toString(),onValueChange:c=>n(parseInt(c)),children:[l.jsx(lr,{className:"w-[140px] sm:w-[180px]",children:l.jsx(mr,{placeholder:"Select period"})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"7",children:"Last 7 days"}),l.jsx(Qe,{value:"14",children:"Last 14 days"}),l.jsx(Qe,{value:"30",children:"Last 30 days"}),l.jsx(Qe,{value:"60",children:"Last 60 days"}),l.jsx(Qe,{value:"90",children:"Last 90 days"})]})]})})]}),l.jsxs(kl,{defaultValue:"analytics",className:"space-y-6",children:[l.jsxs(oo,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-3 gap-1",children:[l.jsxs(Dt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[l.jsx(Ju,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),l.jsxs(Dt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[l.jsx(Si,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),l.jsxs(Dt,{value:"settings",className:"gap-2 text-xs sm:text-sm col-span-2 sm:col-span-1",children:[l.jsx(Jv,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),l.jsx(dr,{value:"analytics",className:"space-y-6",children:a?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(c=>l.jsx(Ht,{className:"h-28"},c))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(Ht,{className:"h-80 lg:col-span-2"}),l.jsx(Ht,{className:"h-80"})]})]}):i?l.jsxs(l.Fragment,{children:[l.jsx(ige,{overview:i.overview}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(Q3e,{data:i.appointment_trends}),l.jsx(Z3e,{data:i.consultation_types})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(r5e,{data:i.clinician_performance}),l.jsx(n5e,{data:i.patient_growth})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(t5e,{data:i.status_distribution}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tp,{className:"w-5 h-5 text-primary"}),l.jsx(we,{className:"text-lg",children:"Quick Insights"})]}),l.jsx(Ie,{children:"Key performance indicators"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),l.jsxs("span",{className:"font-semibold",children:[i.overview.average_consultation_duration.toFixed(1)," min"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),l.jsxs("span",{className:"font-semibold text-success",children:[i.overview.completion_rate,"%"]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),l.jsx("span",{className:"font-semibold",children:i.overview.appointments_this_week})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),l.jsx("span",{className:"font-semibold",children:i.overview.total_prescriptions})]})]})]})]})]}):l.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[l.jsx(Ju,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Failed to load analytics data"}),s&&l.jsx("p",{className:"text-sm mt-2 text-destructive",children:s}),l.jsx(ee,{onClick:()=>o(),className:"mt-4",children:"Try Again"})]})}),l.jsxs(dr,{value:"management",className:"space-y-6",children:[l.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:l.jsxs(xe,{className:"flex flex-row items-center gap-4 pb-2",children:[l.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:l.jsx(Si,{className:"w-6 h-6 text-primary"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-lg",children:"User Management"}),l.jsx(Ie,{children:"Manage all users"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:l.jsxs(xe,{className:"flex flex-row items-center gap-4 pb-2",children:[l.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:l.jsx(N5,{className:"w-6 h-6 text-success"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-lg",children:"Clinics"}),l.jsx(Ie,{children:"Manage clinic locations"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:l.jsxs(xe,{className:"flex flex-row items-center gap-4 pb-2",children:[l.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:l.jsx(At,{className:"w-6 h-6 text-warning"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-lg",children:"Appointments"}),l.jsx(Ie,{children:"View all bookings"})]})]})}),l.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:l.jsxs(xe,{className:"flex flex-row items-center gap-4 pb-2",children:[l.jsx("div",{className:"p-3 rounded-xl bg-secondary/20",children:l.jsx(Sn,{className:"w-6 h-6 text-secondary-foreground"})}),l.jsxs("div",{children:[l.jsx(we,{className:"text-lg",children:"Reports"}),l.jsx(Ie,{children:"Generate reports"})]})]})})]}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Ju,{className:"w-5 h-5 text-primary"}),"System Activity"]}),l.jsx(Ie,{children:"Recent system events and logs"})]}),l.jsx(fe,{children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ju,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Activity logging coming soon"}),l.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),l.jsx(dr,{value:"settings",className:"space-y-6",children:l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Jv,{className:"w-5 h-5 text-primary"}),"System Settings"]}),l.jsx(Ie,{children:"Configure system parameters"})]}),l.jsx(fe,{children:l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Jv,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"Settings panel coming soon"}),l.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},a5e=()=>{const e=kn(),{toast:t}=MC(),{user:r,profile:n,signOut:i,role:a}=Er(),{currentConversation:s,messages:o,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=d6(),[p,m]=x.useState("unassigned"),[g,v]=x.useState([]),[b,y]=x.useState([]),[w,_]=x.useState([]),[S,k]=x.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[N,E]=x.useState(!1),[P,T]=x.useState(!1),[$,M]=x.useState(!1),[F,R]=x.useState([]),[U,W]=x.useState([]),[z,L]=x.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),[B,G]=x.useState(!1),te=x.useCallback(async()=>{T(!0);try{const[C,D,I,q]=await Promise.all([zr.getUnassignedConversations(),zr.getMyChats(),zr.getConversations(),zr.getStats()]);v(C||[]),y(D||[]),_(I||[]),k(q||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(C){console.error("Error loading data:",C)}finally{T(!1)}},[]);x.useEffect(()=>{te();const C=setInterval(te,3e4);return()=>clearInterval(C)},[te]),x.useEffect(()=>{(async()=>{try{const[D,I]=await Promise.all([md.getFeeSchedule(),md.getAvailableClinicians()]);R(D||[]),W(I||[]),console.log("Loaded clinicians:",I)}catch(D){console.error("Error loading booking data:",D)}})()},[]);const X=async C=>{try{await f(C),t({title:"Chat claimed",description:"You are now handling this conversation"}),await te(),m("my-chats")}catch(D){t({title:"Error",description:D.message,variant:"destructive"})}},j=async C=>{await u(C.id)},O=async()=>{if(!s||!z.clinician_id||!z.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}G(!0);try{await md.create({patient_id:s.patient_id,clinician_id:z.clinician_id,conversation_id:s.id,scheduled_at:new Date(z.scheduled_at).toISOString(),service_type:z.service_type,billing_type:z.billing_type,notes:z.notes||void 0}),t({title:"Booking created",description:"The patient has been notified"}),M(!1),L({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),await u(s.id),await te()}catch(C){t({title:"Error creating booking",description:C.message,variant:"destructive"})}finally{G(!1)}};return a!=="admin"&&a!=="nurse"&&a!=="doctor"&&a!=="receptionist"?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsxs(se,{className:"p-8 text-center",children:[l.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),l.jsx(ee,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[l.jsxs(Ce,{variant:"secondary",className:"gap-1",children:[l.jsx(WJ,{className:"w-3 h-3"}),S.unassigned_count," Unassigned"]}),l.jsxs(Ce,{variant:"default",className:"gap-1",children:[l.jsx(Fd,{className:"w-3 h-3"}),S.my_chats_count," My Chats"]})]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:i,children:[l.jsx(ul,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),l.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>E(!N),children:N?l.jsx(ao,{className:"w-5 h-5"}):l.jsx(Ym,{className:"w-5 h-5"})})]})}),l.jsx("main",{className:"container mx-auto px-4 py-4",children:l.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[l.jsxs(se,{className:"w-80 shrink-0 flex flex-col",children:[l.jsx(xe,{className:"pb-2",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(we,{className:"text-lg",children:"Chat Queue"}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:te,disabled:P,children:P?l.jsx(Lr,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),l.jsx(fe,{className:"flex-1 p-0 overflow-hidden",children:l.jsxs(kl,{value:p,onValueChange:m,className:"h-full flex flex-col",children:[l.jsxs(oo,{className:"grid grid-cols-3 mx-4",children:[l.jsxs(Dt,{value:"unassigned",className:"text-xs",children:["Unassigned",S.unassigned_count>0&&l.jsx(Ce,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:S.unassigned_count})]}),l.jsx(Dt,{value:"my-chats",className:"text-xs",children:"My Chats"}),l.jsx(Dt,{value:"all",className:"text-xs",children:"All"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto",children:[l.jsx(dr,{value:"unassigned",className:"m-0 h-full",children:g.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[l.jsx(Dr,{className:"w-12 h-12 mb-4 opacity-50"}),l.jsx("p",{children:"No unassigned chats"})]}):l.jsx("div",{className:"divide-y",children:g.map(C=>l.jsxs("div",{className:"p-4 hover:bg-accent",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-sm",children:C.patient_name}),l.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:C.last_message})]}),l.jsx(Ce,{variant:"secondary",className:"text-xs",children:"New"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:C.last_message_at&&at(new Date(C.last_message_at),"HH:mm")}),l.jsxs(ee,{size:"sm",onClick:()=>X(C.id),children:[l.jsx(HS,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},C.id))})}),l.jsx(dr,{value:"my-chats",className:"m-0 h-full",children:l.jsx(Ij,{conversations:b,selectedId:s==null?void 0:s.id,onSelect:j,showPatientName:!0})}),l.jsx(dr,{value:"all",className:"m-0 h-full",children:l.jsx(Ij,{conversations:w,selectedId:s==null?void 0:s.id,onSelect:j,showPatientName:!0})})]})]})})]}),l.jsx(se,{className:"flex-1 flex flex-col",children:s?l.jsxs(l.Fragment,{children:[l.jsx(xe,{className:"pb-2 border-b",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(we,{className:"text-lg",children:s.patient_name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(Ce,{variant:"outline",children:s.status.replace("_"," ")}),s.patient_type&&l.jsx(Ce,{variant:"secondary",children:s.patient_type.replace("_"," ")})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(pr,{value:s.patient_type||"",onValueChange:async C=>{await zr.updatePatientType(s.id,C),await u(s.id)},children:[l.jsx(lr,{className:"w-[150px]",children:l.jsx(mr,{placeholder:"Patient Type"})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"medical_aid",children:"Medical Aid"}),l.jsx(Qe,{value:"campus_africa",children:"Campus Africa"}),l.jsx(Qe,{value:"university_student",children:"University Student"}),l.jsx(Qe,{value:"cash",children:"Cash / Self-Pay"})]})]}),l.jsxs(Hf,{open:$,onOpenChange:M,children:[l.jsx(Xfe,{asChild:!0,children:l.jsxs(ee,{disabled:s.status==="booked",children:[l.jsx(At,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),l.jsxs(eu,{className:"max-w-md",children:[l.jsx(tu,{children:l.jsxs(ru,{children:["Create Booking for ",s.patient_name]})}),l.jsxs("div",{className:"space-y-4 py-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Clinical Associate *"}),l.jsxs(pr,{value:z.clinician_id,onValueChange:C=>L(D=>({...D,clinician_id:C})),children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select clinician"})}),l.jsx(cr,{children:U.length===0?l.jsx(Qe,{value:"",disabled:!0,children:"No clinicians available"}):U.map(C=>l.jsxs(Qe,{value:C.id,children:[C.name," (",C.specialization||C.role,")"]},C.id))})]}),U.length===0&&l.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Date & Time *"}),l.jsx(et,{type:"datetime-local",value:z.scheduled_at,onChange:C=>L(D=>({...D,scheduled_at:C.target.value}))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Service Type"}),l.jsxs(pr,{value:z.service_type,onValueChange:C=>L(D=>({...D,service_type:C})),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:F.map(C=>l.jsxs(Qe,{value:C.service_type,children:[C.name," - R",C.price]},C.service_type))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Billing Type"}),l.jsxs(pr,{value:z.billing_type,onValueChange:C=>L(D=>({...D,billing_type:C})),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"medical_aid",children:"Medical Aid"}),l.jsx(Qe,{value:"campus_africa",children:"Campus Africa"}),l.jsx(Qe,{value:"university_student",children:"University Student"}),l.jsx(Qe,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Notes (optional)"}),l.jsx(Mr,{value:z.notes,onChange:C=>L(D=>({...D,notes:C.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),z.billing_type==="cash"&&l.jsx("div",{className:"p-3 bg-muted rounded-lg",children:l.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),l.jsxs(sz,{children:[l.jsx(ee,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),l.jsx(ee,{onClick:O,disabled:B||!z.clinician_id,children:B?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]})]})]})}),l.jsx(V6,{messages:o,currentUserId:r==null?void 0:r.id}),l.jsx(W6,{onSend:d,disabled:s.status==="closed"})]}):l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[l.jsx(Si,{className:"w-16 h-16 text-muted-foreground mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),l.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]})})]})},s5e=()=>l.jsx(f6,{children:l.jsx(a5e,{})});function ID(e,t){if(e==null)return{};var r,n,i=function(s,o){if(s==null)return{};var c={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(o.indexOf(u)!==-1)continue;c[u]=s[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ci(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e){return ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(e)}function r7(e){var t=function(r,n){if(ut(r)!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,n);if(ut(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return ut(t)=="symbol"?t:t+""}function RD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r7(n.key),n)}}function Ei(e,t,r){return t&&RD(e.prototype,t),r&&RD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _w(e,t){if(t&&(ut(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Ia(e){return Ia=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ia(e)}function Lm(e,t){return Lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Lm(e,t)}function Sw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lm(e,t)}function qa(e,t,r){return(t=r7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DD(e,t,r,n,i,a,s){try{var o=e[a](s),c=o.value}catch(u){return void r(u)}o.done?t(c):Promise.resolve(c).then(n,i)}function Ve(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function s(c){DD(a,n,i,s,o,"next",c)}function o(c){DD(a,n,i,s,o,"throw",c)}s(void 0)})}}function LD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _n(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var i=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(i!=null){var a,s,o,c,u=[],d=!0,f=!1;try{if(o=(i=i.call(r)).next,n===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(a=o.call(i)).done)&&(u.push(a.value),u.length!==n);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&i.return!=null&&(c=i.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return LD(r,n);var i={}.toString.call(r).slice(8,-1);return i==="Object"&&r.constructor&&(i=r.constructor.name),i==="Map"||i==="Set"?Array.from(r):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?LD(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function o5e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FD,bv={exports:{}},pN=function(){if(FD)return bv.exports;FD=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(g,v,b){return Function.prototype.apply.call(g,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var n=Number.isNaN||function(g){return g!=g};function i(){i.init.call(this)}bv.exports=i,bv.exports.once=function(g,v){return new Promise(function(b,y){function w(S){g.removeListener(v,_),y(S)}function _(){typeof g.removeListener=="function"&&g.removeListener("error",w),b([].slice.call(arguments))}m(g,v,_,{once:!0}),v!=="error"&&function(S,k,N){typeof S.on=="function"&&m(S,"error",k,N)}(g,w,{once:!0})})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var a=10;function s(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function o(g){return g._maxListeners===void 0?i.defaultMaxListeners:g._maxListeners}function c(g,v,b,y){var w,_,S,k;if(s(b),(_=g._events)===void 0?(_=g._events=Object.create(null),g._eventsCount=0):(_.newListener!==void 0&&(g.emit("newListener",v,b.listener?b.listener:b),_=g._events),S=_[v]),S===void 0)S=_[v]=b,++g._eventsCount;else if(typeof S=="function"?S=_[v]=y?[b,S]:[S,b]:y?S.unshift(b):S.push(b),(w=o(g))>0&&S.length>w&&!S.warned){S.warned=!0;var N=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");N.name="MaxListenersExceededWarning",N.emitter=g,N.type=v,N.count=S.length,k=N,console&&console.warn&&console.warn(k)}return g}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(g,v,b){var y={fired:!1,wrapFn:void 0,target:g,type:v,listener:b},w=u.bind(y);return w.listener=b,y.wrapFn=w,w}function f(g,v,b){var y=g._events;if(y===void 0)return[];var w=y[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var S=new Array(_.length),k=0;k<S.length;++k)S[k]=_[k].listener||_[k];return S}(w):p(w,w.length)}function h(g){var v=this._events;if(v!==void 0){var b=v[g];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(g,v){for(var b=new Array(v),y=0;y<v;++y)b[y]=g[y];return b}function m(g,v,b,y){if(typeof g.on=="function")y.once?g.once(v,b):g.on(v,b);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(v,function w(_){y.once&&g.removeEventListener(v,w),b(_)})}}return Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(g){if(typeof g!="number"||g<0||n(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");a=g}}),i.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||n(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},i.prototype.getMaxListeners=function(){return o(this)},i.prototype.emit=function(g){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var y=g==="error",w=this._events;if(w!==void 0)y=y&&w.error===void 0;else if(!y)return!1;if(y){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var k=w[g];if(k===void 0)return!1;if(typeof k=="function")r(k,this,v);else{var N=k.length,E=p(k,N);for(b=0;b<N;++b)r(E[b],this,v)}return!0},i.prototype.addListener=function(g,v){return c(this,g,v,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(g,v){return c(this,g,v,!0)},i.prototype.once=function(g,v){return s(v),this.on(g,d(this,g,v)),this},i.prototype.prependOnceListener=function(g,v){return s(v),this.prependListener(g,d(this,g,v)),this},i.prototype.removeListener=function(g,v){var b,y,w,_,S;if(s(v),(y=this._events)===void 0)return this;if((b=y[g])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete y[g],y.removeListener&&this.emit("removeListener",g,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){S=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(k,N){for(;N+1<k.length;N++)k[N]=k[N+1];k.pop()}(b,w),b.length===1&&(y[g]=b[0]),y.removeListener!==void 0&&this.emit("removeListener",g,S||v)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(g){var v,b,y;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[g]),this;if(arguments.length===0){var w,_=Object.keys(b);for(y=0;y<_.length;++y)(w=_[y])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[g])=="function")this.removeListener(g,v);else if(v!==void 0)for(y=v.length-1;y>=0;y--)this.removeListener(g,v[y]);return this},i.prototype.listeners=function(g){return f(this,g,!0)},i.prototype.rawListeners=function(g){return f(this,g,!1)},i.listenerCount=function(g,v){return typeof g.listenerCount=="function"?g.listenerCount(v):h.call(g,v)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},bv.exports}(),wv=o5e(pN),BD=Object.prototype.hasOwnProperty;function UD(e,t,r){for(r of e.keys())if(Pn(r,t))return r}function Pn(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Pn(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((i=n)&&typeof i=="object"&&!(i=UD(t,i))||!t.has(i))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((i=n[0])&&typeof i=="object"&&!(i=UD(t,i))||!Pn(n[1],t.get(i)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(BD.call(e,r)&&++n&&!BD.call(t,r)||!(r in t)||!Pn(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const l5e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},n7={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},fr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Nn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Co={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class ie{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const i=ie.getVersionPrecision(t),a=ie.getVersionPrecision(r);let s=Math.max(i,a),o=0;const c=ie.map([t,r],u=>{const d=s-ie.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return ie.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(o=s-Math.min(i,a)),s-=1;s>=o;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===o)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(i=0;i<t.length;i+=1)n.push(r(t[i]));return n}static find(t,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,i=t.length;n<i;n+=1){const a=t[n];if(r(a,n))return a}}static assign(t,...r){const n=t;let i,a;if(Object.assign)return Object.assign(t,...r);for(i=0,a=r.length;i<a;i+=1){const s=r[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(o=>{n[o]=s[o]})}return t}static getBrowserAlias(t){return l5e[t]}static getBrowserTypeByAlias(t){return n7[t]||""}}const Et=/version\/(\d+(\.?_?\d+)+)/i,c5e=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=ie.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=ie.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=ie.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=ie.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=ie.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=ie.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=ie.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=ie.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=ie.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=ie.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=ie.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=ie.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=ie.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=ie.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=ie.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=ie.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=ie.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=ie.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=ie.getFirstMatch(Et,e)||ie.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=ie.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=ie.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=ie.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=ie.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=ie.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=ie.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=ie.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=ie.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=ie.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=ie.getFirstMatch(Et,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ie.getFirstMatch(t,e),version:ie.getSecondMatch(t,e)}}}];var u5e=[{test:[/Roku\/DVP/],describe(e){const t=ie.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:Nn.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=ie.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:Nn.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=ie.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=ie.getWindowsVersionName(t);return{name:Nn.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:Nn.iOS},r=ie.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=ie.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=ie.getMacOSVersionName(t),n={name:Nn.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=ie.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:Nn.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=ie.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=ie.getAndroidVersionName(t),n={name:Nn.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=ie.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:Nn.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=ie.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ie.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ie.getFirstMatch(/\bbb(\d+)/i,e);return{name:Nn.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=ie.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:Nn.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=ie.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:Nn.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:Nn.Linux})},{test:[/CrOS/],describe:()=>({name:Nn.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=ie.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:Nn.PlayStation4,version:t}}}],d5e=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=ie.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:fr.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:fr.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:fr.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:fr.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:fr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:fr.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:fr.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=ie.getFirstMatch(/(ipod|iphone)/i,e);return{type:fr.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:fr.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:fr.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:fr.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:fr.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:fr.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:fr.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:fr.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:fr.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:fr.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:fr.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:fr.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:fr.tv})}],f5e=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Co.Blink};const t=ie.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Co.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Co.Trident},r=ie.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Co.Presto},r=ie.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Co.Gecko},r=ie.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Co.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Co.WebKit},r=ie.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class zD{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=ie.find(c5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=ie.find(u5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=ie.find(d5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=ie.find(f5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return ie.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const i={};let a=0;if(Object.keys(t).forEach(s=>{const o=t[s];typeof o=="string"?(i[s]=o,a+=1):typeof o=="object"&&(r[s]=o,n+=1)}),n>0){const s=Object.keys(r),o=ie.find(s,u=>this.isOS(u));if(o){const u=this.satisfies(r[o]);if(u!==void 0)return u}const c=ie.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(a>0){const s=Object.keys(i),o=ie.find(s,c=>this.isBrowser(c,!0));if(o!==void 0)return this.compareVersion(i[o])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let i=t.toLowerCase();const a=ie.getBrowserTypeByAlias(i);return r&&a&&(i=a.toLowerCase()),i===n}compareVersion(t){let r=[0],n=t,i=!1;const a=this.getBrowserVersion();if(typeof a=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(i=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(i=!0,n=t.substr(1)),r.indexOf(ie.compareVersions(a,n,i))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class h5e{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new zD(t,r)}static parse(t){return new zD(t).getResult()}static get BROWSER_MAP(){return n7}static get ENGINE_MAP(){return Co}static get OS_MAP(){return Nn}static get PLATFORMS_MAP(){return fr}}function jw(){return Date.now()+Math.random().toString()}function Th(){throw new Error("Method must be implemented in subclass")}function i7(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function hb(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:i7("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function pb(e){try{new URL(e)}catch{return!1}return!0}const $t=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Sc="8.55.0",vt=globalThis;function mb(e,t,r){const n=vt,i=n.__SENTRY__=n.__SENTRY__||{},a=i[Sc]=i[Sc]||{};return a[e]||(a[e]=t())}const du=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,mN=["debug","info","warn","error","log","assert","trace"],gb={};function wg(e){if(!("console"in vt))return e();const t=vt.console,r={},n=Object.keys(gb);n.forEach(i=>{const a=gb[i];r[i]=t[i],t[i]=a});try{return e()}finally{n.forEach(i=>{t[i]=r[i]})}}const Ge=mb("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return du?mN.forEach(r=>{t[r]=(...n)=>{e&&wg(()=>{vt.console[r](`Sentry Logger [${r}]:`,...n)})}}):mN.forEach(r=>{t[r]=()=>{}}),t}),dc="?",VD=/\(error: (.*)\)/,WD=/captureMessage|captureException/;function _v(e){return e[e.length-1]||{}}const HD="<anonymous>";function ml(e){try{return e&&typeof e=="function"&&e.name||HD}catch{return HD}}function qD(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const iy={},GD={};function jc(e,t){iy[e]=iy[e]||[],iy[e].push(t)}function kc(e,t){if(!GD[e]){GD[e]=!0;try{t()}catch(r){du&&Ge.error(`Error while instrumenting ${e}`,r)}}}function Na(e,t){const r=e&&iy[e];if(r)for(const n of r)try{n(t)}catch(i){du&&Ge.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ml(n)}
Error:`,i)}}let k1=null;function p5e(){k1=vt.onerror,vt.onerror=function(e,t,r,n,i){return Na("error",{column:n,error:i,line:r,msg:e,url:t}),!!k1&&k1.apply(this,arguments)},vt.onerror.__SENTRY_INSTRUMENTED__=!0}let N1=null;function m5e(){N1=vt.onunhandledrejection,vt.onunhandledrejection=function(e){return Na("unhandledrejection",e),!N1||N1.apply(this,arguments)},vt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function kw(){return wP(vt),vt}function wP(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Sc,t[Sc]=t[Sc]||{}}const a7=Object.prototype.toString;function _P(e){switch(a7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Hc(e,Error)}}function ah(e,t){return a7.call(e)===`[object ${t}]`}function s7(e){return ah(e,"ErrorEvent")}function KD(e){return ah(e,"DOMError")}function Ds(e){return ah(e,"String")}function SP(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gN(e){return e===null||SP(e)||typeof e!="object"&&typeof e!="function"}function kf(e){return ah(e,"Object")}function Nw(e){return typeof Event<"u"&&Hc(e,Event)}function Cw(e){return!!(e&&e.then&&typeof e.then=="function")}function Hc(e,t){try{return e instanceof t}catch{return!1}}function o7(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const jP=vt;function l7(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,i=[];let a=0,s=0;const o=" > ",c=o.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&a++<n&&(u=g5e(r,d),!(u==="html"||a>1&&s+i.length*c+u.length>=f));)i.push(u),s+=u.length,r=r.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function g5e(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(jP.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const i=t&&t.length?t.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(i&&i.length)i.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const s=r.className;if(s&&Ds(s)){const o=s.split(/\s+/);for(const c of o)n.push(`.${c}`)}}const a=["aria-label","type","name","title","alt"];for(const s of a){const o=r.getAttribute(s);o&&n.push(`[${s}="${o}"]`)}return n.join("")}function bd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function YD(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const i=e[n];try{o7(i)?r.push("[VueViewModel]"):r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function v5e(e,t,r=!1){return!!Ds(e)&&(ah(t,"RegExp")?t.test(e):!!Ds(t)&&(r?e===t:e.includes(t)))}function Sv(e,t=[],r=!1){return t.some(n=>v5e(e,n,r))}function gi(e,t,r){if(!(t in e))return;const n=e[t],i=r(n);typeof i=="function"&&c7(i,n);try{e[t]=i}catch{du&&Ge.log(`Failed to replace method "${t}" in object`,e)}}function qc(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{du&&Ge.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function c7(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,qc(e,"__sentry_original__",t)}catch{}}function kP(e){return e.__sentry_original__}function u7(e){if(_P(e))return{message:e.message,name:e.name,stack:e.stack,...XD(e)};if(Nw(e)){const t={type:e.type,target:JD(e.target),currentTarget:JD(e.currentTarget),...XD(e)};return typeof CustomEvent<"u"&&Hc(e,CustomEvent)&&(t.detail=e.detail),t}return e}function JD(e){try{return t=e,typeof Element<"u"&&Hc(t,Element)?l7(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function XD(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Fi(e){return vN(e,new Map)}function vN(e,t){if(function(r){if(!kf(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const i of Object.getOwnPropertyNames(e))e[i]!==void 0&&(n[i]=vN(e[i],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(i=>{n.push(vN(i,t))}),n}return e}function _g(){return Date.now()/1e3}const Vs=function(){const{performance:e}=vt;if(!e||!e.now)return _g;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function Vi(){const e=vt,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function d7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Mo(e){const{message:t,event_id:r}=e;if(t)return t;const n=d7(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function yN(e,t,r){const n=e.exception=e.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=t||""),a.type||(a.type="Error")}function Nf(e,t){const r=d7(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const i={...n&&n.data,...t.data};r.mechanism.data=i}}function QD(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{qc(e,"__sentry_captured__",!0)}catch{}return!1}var Es;function Gc(e){return new Ii(t=>{t(e)})}function vb(e){return new Ii((t,r)=>{r(e)})}(()=>{const{performance:e}=vt;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Es||(Es={}));class Ii{constructor(t){Ii.prototype.__init.call(this),Ii.prototype.__init2.call(this),Ii.prototype.__init3.call(this),Ii.prototype.__init4.call(this),this._state=Es.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Ii((n,i)=>{this._handlers.push([!1,a=>{if(t)try{n(t(a))}catch(s){i(s)}else n(a)},a=>{if(r)try{n(r(a))}catch(s){i(s)}else i(a)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Ii((r,n)=>{let i,a;return this.then(s=>{a=!1,i=s,t&&t()},s=>{a=!0,i=s,t&&t()}).then(()=>{a?n(i):r(i)})})}__init(){this._resolve=t=>{this._setResult(Es.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Es.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===Es.PENDING&&(Cw(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Es.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Es.RESOLVED&&r[1](this._value),this._state===Es.REJECTED&&r[2](this._value),r[0]=!0)})}}}function y5e(e){const t=Vs(),r={sid:Vi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return Fi({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Cf(r,e),r}function Cf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Vs(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Vi()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ZD(){return Vi()}function xN(){return Vi().substring(16)}function Ew(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Ew(n[i],t[i],r-1));return n}const bN="_sentrySpan";function eL(e,t){t?qc(e,bN,t):delete e[bN]}function tL(e){return e[bN]}class NP{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ZD(),spanId:xN()}}clone(){const t=new NP;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,eL(t,tL(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Cf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,i]=r instanceof gl?[r.getScopeData(),r.getRequestSession()]:kf(r)?[t,t.requestSession]:[],{tags:a,extra:s,user:o,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},o&&Object.keys(o).length&&(this._user=o),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),i&&(this._requestSession=i),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,eL(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ZD()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const i={timestamp:_g(),...t};return this._breadcrumbs.push(i),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:tL(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ew(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:xN(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:Vi();if(!this._client)return Ge.warn("No client configured on scope - will not capture exception!"),n;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...r,event_id:n},this),n}captureMessage(t,r,n){const i=n&&n.event_id?n.event_id:Vi();if(!this._client)return Ge.warn("No client configured on scope - will not capture message!"),i;const a=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:a,...n,event_id:i},this),i}captureEvent(t,r){const n=r&&r.event_id?r.event_id:Vi();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(Ge.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const gl=NP;class x5e{constructor(t,r){let n,i;n=t||new gl,i=r||new gl,this._stack=[{scope:n}],this._isolationScope=i}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(i){throw this._popScope(),i}return Cw(n)?n.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ef(){const e=wP(kw());return e.stack=e.stack||new x5e(mb("defaultCurrentScope",()=>new gl),mb("defaultIsolationScope",()=>new gl))}function b5e(e){return Ef().withScope(e)}function w5e(e,t){const r=Ef();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function rL(e){return Ef().withScope(()=>e(Ef().getIsolationScope()))}function CP(e){const t=wP(e);return t.acs?t.acs:{withIsolationScope:rL,withScope:b5e,withSetScope:w5e,withSetIsolationScope:(r,n)=>rL(n),getCurrentScope:()=>Ef().getScope(),getIsolationScope:()=>Ef().getIsolationScope()}}function fu(){return CP(kw()).getCurrentScope()}function Sg(){return CP(kw()).getIsolationScope()}function bn(){return fu().getClient()}function _5e(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:i}=t;return Fi({trace_id:r,span_id:n,parent_span_id:i})}function S5e(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,i]]of t)(r[n]||(r[n]=[])).push(Fi(i));return r}const j5e=/^sentry-/;function k5e(e){const t=function(n){if(!(!n||!Ds(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((i,a)=>{const s=nL(a);return Object.entries(s).forEach(([o,c])=>{i[o]=c}),i},{}):nL(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[i,a])=>(i.match(j5e)&&(n[i.slice(7)]=a),n),{});return Object.keys(r).length>0?r:void 0}function nL(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let iL=!1;function N5e(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return Fi({parent_span_id:n?t:EP(e).parent_span_id,span_id:n?xN():t,trace_id:r})}function aL(e){return typeof e=="number"?sL(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?sL(e.getTime()):Vs()}function sL(e){return e>9999999999?e/1e3:e}function EP(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const i=n;return!!(i.attributes&&i.startTime&&i.name&&i.endTime&&i.status)}(e)){const{attributes:n,startTime:i,name:a,endTime:s,parentSpanId:o,status:c}=e;return Fi({span_id:t,trace_id:r,data:n,description:a,parent_span_id:o,start_timestamp:aL(i),timestamp:aL(s)||void 0,status:C5e(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:S5e(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function C5e(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function f7(e){return e._sentryRootSpan||e}function E5e(){iL||(wg(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),iL=!0)}const OP="production";function h7(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},i=Fi({environment:r.environment||OP,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",i),i}function O5e(e){const t=bn();if(!t)return{};const r=f7(e),n=r._frozenDsc;if(n)return n;const i=r.spanContext().traceState,a=i&&i.get("sentry.dsc"),s=a&&k5e(a);if(s)return s;const o=h7(e.spanContext().traceId,t),c=EP(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(o.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(o.transaction=h),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const m=bn(),g=m&&m.getOptions();return!!g&&(g.enableTracing||"tracesSampleRate"in g||"tracesSampler"in g)}()&&(o.sampled=String(function(p){const{traceFlags:m}=p.spanContext();return m===1}(r))),t.emit("createDsc",o,r),o}const P5e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function yb(e,t=!1){const{host:r,path:n,pass:i,port:a,projectId:s,protocol:o,publicKey:c}=e;return`${o}://${c}${t&&i?`:${i}`:""}@${r}${a?`:${a}`:""}/${n&&`${n}/`}${s}`}function oL(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function A5e(e){const t=typeof e=="string"?function(r){const n=P5e.exec(r);if(!n)return void wg(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[i,a,s="",o="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const p=f.match(/^\d+/);p&&(f=p[0])}return oL({host:o,pass:s,path:d,projectId:f,port:c,protocol:i,publicKey:a})}(e):oL(e);if(t&&function(r){if(!du)return!0;const{port:n,projectId:i,protocol:a}=r;return!(["protocol","publicKey","host","projectId"].find(s=>!r[s]&&(Ge.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(i.match(/^\d+$/)?function(s){return s==="http"||s==="https"}(a)?n&&isNaN(parseInt(n,10))&&(Ge.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(Ge.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),1):(Ge.error(`Invalid Sentry Dsn: Invalid projectId ${i}`),1)))}(t))return t}function Os(e,t=100,r=1/0){try{return wN("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function p7(e,t=3,r=102400){const n=Os(e,t);return i=n,function(a){return~-encodeURI(a).split(/%..|./).length}(JSON.stringify(i))>r?p7(e,t-1,r):n;var i}function wN(e,t,r=1/0,n=1/0,i=function(){const a=typeof WeakSet=="function",s=a?new WeakSet:[];return[function(o){if(a)return!!s.has(o)||(s.add(o),!1);for(let c=0;c<s.length;c++)if(s[c]===o)return!0;return s.push(o),!1},function(o){if(a)s.delete(o);else for(let c=0;c<s.length;c++)if(s[c]===o){s.splice(c,1);break}}]}()){const[a,s]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const o=function(p,m){try{if(p==="domain"&&m&&typeof m=="object"&&m._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&m===global)return"[Global]";if(typeof window<"u"&&m===window)return"[Window]";if(typeof document<"u"&&m===document)return"[Document]";if(o7(m))return"[VueViewModel]";if(kf(g=m)&&"nativeEvent"in g&&"preventDefault"in g&&"stopPropagation"in g)return"[SyntheticEvent]";if(typeof m=="number"&&!Number.isFinite(m))return`[${m}]`;if(typeof m=="function")return`[Function: ${ml(m)}]`;if(typeof m=="symbol")return`[${String(m)}]`;if(typeof m=="bigint")return`[BigInt: ${String(m)}]`;const v=function(b){const y=Object.getPrototypeOf(b);return y?y.constructor.name:"null prototype"}(m);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var g}(e,t);if(!o.startsWith("[object "))return o;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return o.replace("object ","");if(a(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return wN("",u.toJSON(),c-1,n,i)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=u7(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const m=h[p];d[p]=wN(p,m,c-1,n,i),f++}return s(t),d}function Fm(e,t=[]){return[e,t]}function T5e(e,t){const[r,n]=e;return[r,[...n,t]]}function lL(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function _N(e){return vt.__SENTRY__&&vt.__SENTRY__.encodePolyfill?vt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function M5e(e){const[t,r]=e;let n=JSON.stringify(t);function i(a){typeof n=="string"?n=typeof a=="string"?n+a:[_N(n),a]:n.push(typeof a=="string"?_N(a):a)}for(const a of r){const[s,o]=a;if(i(`
${JSON.stringify(s)}
`),typeof o=="string"||o instanceof Uint8Array)i(o);else{let c;try{c=JSON.stringify(o)}catch{c=JSON.stringify(Os(o))}i(c)}}return typeof n=="string"?n:function(a){const s=a.reduce((u,d)=>u+d.length,0),o=new Uint8Array(s);let c=0;for(const u of a)o.set(u,c),c+=u.length;return o}(n)}function $5e(e){const t=typeof e.data=="string"?_N(e.data):e.data;return[Fi({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const I5e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function cL(e){return I5e[e]}function m7(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function R5e(e,t,r,n){const i=m7(r),a=e.type&&e.type!=="replay_event"?e.type:"event";(function(o,c){c&&(o.sdk=o.sdk||{},o.sdk.name=o.sdk.name||c.name,o.sdk.version=o.sdk.version||c.version,o.sdk.integrations=[...o.sdk.integrations||[],...c.integrations||[]],o.sdk.packages=[...o.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const s=function(o,c,u,d){const f=o.sdkProcessingMetadata&&o.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:o.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:yb(d)},...f&&{trace:Fi({...f})}}}(e,i,n,t);return delete e.sdkProcessingMetadata,Fm(s,[[{type:a},e]])}function SN(e,t,r,n=0){return new Ii((i,a)=>{const s=e[n];if(t===null||typeof s!="function")i(t);else{const o=s({...t},r);$t&&s.id&&o===null&&Ge.log(`Event processor "${s.id}" dropped event`),Cw(o)?o.then(c=>SN(e,c,r,n+1).then(i)).then(null,a):SN(e,o,r,n+1).then(i).then(null,a)}})}let jv,uL,C1;function D5e(e,t){const{fingerprint:r,span:n,breadcrumbs:i,sdkProcessingMetadata:a}=t;(function(s,o){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:p}=o,m=Fi(c);m&&Object.keys(m).length&&(s.extra={...m,...s.extra});const g=Fi(u);g&&Object.keys(g).length&&(s.tags={...g,...s.tags});const v=Fi(d);v&&Object.keys(v).length&&(s.user={...v,...s.user});const b=Fi(f);b&&Object.keys(b).length&&(s.contexts={...b,...s.contexts}),h&&(s.level=h),p&&s.type!=="transaction"&&(s.transaction=p)})(e,t),n&&function(s,o){s.contexts={trace:N5e(o),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:O5e(o),...s.sdkProcessingMetadata};const c=f7(o),u=EP(c).description;u&&!s.transaction&&s.type==="transaction"&&(s.transaction=u)}(e,n),function(s,o){s.fingerprint=s.fingerprint?Array.isArray(s.fingerprint)?s.fingerprint:[s.fingerprint]:[],o&&(s.fingerprint=s.fingerprint.concat(o)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}(e,r),function(s,o){const c=[...s.breadcrumbs||[],...o];s.breadcrumbs=c.length?c:void 0}(e,i),function(s,o){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...o}}(e,a)}function dL(e,t){const{extra:r,tags:n,user:i,contexts:a,level:s,sdkProcessingMetadata:o,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:m}=t;kv(e,"extra",r),kv(e,"tags",n),kv(e,"user",i),kv(e,"contexts",a),e.sdkProcessingMetadata=Ew(e.sdkProcessingMetadata,o,2),s&&(e.level=s),p&&(e.transactionName=p),m&&(e.span=m),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function kv(e,t,r){e[t]=Ew(e[t],r,1)}function L5e(e,t,r,n,i,a){const{normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=e,c={...t,event_id:t.event_id||r.event_id||Vi(),timestamp:t.timestamp||_g()},u=r.integrations||e.integrations.map(m=>m.name);(function(m,g){const{environment:v,release:b,dist:y,maxValueLength:w=250}=g;m.environment=m.environment||v||OP,!m.release&&b&&(m.release=b),!m.dist&&y&&(m.dist=y),m.message&&(m.message=bd(m.message,w));const _=m.exception&&m.exception.values&&m.exception.values[0];_&&_.value&&(_.value=bd(_.value,w));const S=m.request;S&&S.url&&(S.url=bd(S.url,w))})(c,e),function(m,g){g.length>0&&(m.sdk=m.sdk||{},m.sdk.integrations=[...m.sdk.integrations||[],...g])}(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&function(m,g){const v=function(b){const y=vt._sentryDebugIds;if(!y)return{};const w=Object.keys(y);return C1&&w.length===uL||(uL=w.length,C1=w.reduce((_,S)=>{jv||(jv={});const k=jv[S];if(k)_[k[0]]=k[1];else{const N=b(S);for(let E=N.length-1;E>=0;E--){const P=N[E],T=P&&P.filename,$=y[S];if(T&&$){_[T]=$,jv[S]=[T,$];break}}}return _},{})),C1}(g);try{m.exception.values.forEach(b=>{b.stacktrace.frames.forEach(y=>{v&&y.filename&&(y.debug_id=v[y.filename])})})}catch{}}(c,e.stackParser);const d=function(m,g){if(!g)return m;const v=m?m.clone():new gl;return v.update(g),v}(n,r.captureContext);r.mechanism&&Nf(c,r.mechanism);const f=i?i.getEventProcessors():[],h=mb("globalScope",()=>new gl).getScopeData();a&&dL(h,a.getScopeData()),d&&dL(h,d.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),D5e(c,h),SN([...f,...h.eventProcessors],c,r).then(m=>(m&&function(g){const v={};try{g.exception.values.forEach(y=>{y.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;g.debug_meta=g.debug_meta||{},g.debug_meta.images=g.debug_meta.images||[];const b=g.debug_meta.images;Object.entries(v).forEach(([y,w])=>{b.push({type:"sourcemap",code_file:y,debug_id:w})})}(m),typeof s=="number"&&s>0?function(g,v,b){if(!g)return null;const y={...g,...g.breadcrumbs&&{breadcrumbs:g.breadcrumbs.map(w=>({...w,...w.data&&{data:Os(w.data,v,b)}}))},...g.user&&{user:Os(g.user,v,b)},...g.contexts&&{contexts:Os(g.contexts,v,b)},...g.extra&&{extra:Os(g.extra,v,b)}};return g.contexts&&g.contexts.trace&&y.contexts&&(y.contexts.trace=g.contexts.trace,g.contexts.trace.data&&(y.contexts.trace.data=Os(g.contexts.trace.data,v,b))),g.spans&&(y.spans=g.spans.map(w=>({...w,...w.data&&{data:Os(w.data,v,b)}}))),g.contexts&&g.contexts.flags&&y.contexts&&(y.contexts.flags=Os(g.contexts.flags,3,b)),y}(m,s,o):m))}function fL(e,t){return fu().captureEvent(e,t)}function hL(e){const t=bn(),r=Sg(),n=fu(),{release:i,environment:a=OP}=t&&t.getOptions()||{},{userAgent:s}=vt.navigator||{},o=y5e({release:i,environment:a,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...e}),c=r.getSession();return c&&c.status==="ok"&&Cf(c,{status:"exited"}),g7(),r.setSession(o),n.setSession(o),o}function g7(){const e=Sg(),t=fu(),r=t.getSession()||e.getSession();r&&function(n,i){let a={};n.status==="ok"&&(a={status:"exited"}),Cf(n,a)}(r),v7(),e.setSession(),t.setSession()}function v7(){const e=Sg(),t=fu(),r=bn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function pL(e=!1){e?g7():v7()}function F5e(e,t,r){return t||`${function(n){return`${function(i){const a=i.protocol?`${i.protocol}:`:"",s=i.port?`:${i.port}`:"";return`${a}//${i.host}${s}${i.path?`/${i.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,i){const a={sentry_version:"7"};return n.publicKey&&(a.sentry_key=n.publicKey),i&&(a.sentry_client=`${i.name}/${i.version}`),new URLSearchParams(a).toString()}(e,r)}`}const mL=[];function gL(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function vL(e,t,r){if(r[t.name])$t&&Ge.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,mL.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),mL.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,a)=>n(i,a,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),i=Object.assign((a,s)=>n(a,s,e),{id:t.name});e.addEventProcessor(i)}$t&&Ge.log(`Integration installed: ${t.name}`)}}class la extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const yL="Not capturing exception because it's already been captured.";class B5e{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=A5e(t.dsn):$t&&Ge.warn("No DSN provided, client will not send events."),this._dsn){const n=F5e(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&wg(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const i=Vi();if(QD(t))return $t&&Ge.log(yL),i;const a={event_id:i,...r};return this._process(this.eventFromException(t,a).then(s=>this._captureEvent(s,a,n))),a.event_id}captureMessage(t,r,n,i){const a={event_id:Vi(),...n},s=SP(t)?t:String(t),o=gN(t)?this.eventFromMessage(s,r,a):this.eventFromException(t,a);return this._process(o.then(c=>this._captureEvent(c,a,i))),a.event_id}captureEvent(t,r,n){const i=Vi();if(r&&r.originalException&&QD(r.originalException))return $t&&Ge.log(yL),i;const a={event_id:i,...r},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,a,s||n)),a.event_id}captureSession(t){typeof t.release!="string"?$t&&Ge.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Cf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(i=>n&&i))):Gc(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];vL(this,t,this._integrations),r||gL(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=R5e(t,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=T5e(n,$5e(a));const i=this.sendEnvelope(n);i&&i.then(a=>this.emit("afterSendEvent",t,a),null)}sendSession(t){const r=function(n,i,a,s){const o=m7(a);return Fm({sent_at:new Date().toISOString(),...o&&{sdk:o},...!!s&&i&&{dsn:yb(i)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const i=typeof n=="number"?n:1,a=`${t}:${r}`;$t&&Ge.log(`Recording outcome: "${a}"${i>1?` (${i} times)`:""}`),this._outcomes[a]=(this._outcomes[a]||0)+i}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const i=n.indexOf(r);i>-1&&n.splice(i,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(i=>i(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>($t&&Ge.error("Error while sending envelope:",r),r)):($t&&Ge.error("Transport disabled"),Gc({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const i={};return n.forEach(a=>{a&&vL(r,a,i)}),i}(this,t),gL(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",i=!1;const a=r.exception&&r.exception.values;if(a){i=!0;for(const o of a){const c=o.mechanism;if(c&&c.handled===!1){n=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&n)&&(Cf(t,{...n&&{status:"crashed"},errors:t.errors||Number(i||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ii(r=>{let n=0;const i=setInterval(()=>{this._numProcessing==0?(clearInterval(i),r(!0)):(n+=1,t&&n>=t&&(clearInterval(i),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=fu(),i=Sg()){const a=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",t,r),t.type||i.setLastEventId(t.event_id||r.event_id),L5e(a,t,r,n,this,i).then(o=>{if(o===null)return o;o.contexts={trace:_5e(n),...o.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||h7(f.traceId,u)}(this,n);return o.sdkProcessingMetadata={dynamicSamplingContext:c,...o.sdkProcessingMetadata},o})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(i=>i.event_id,i=>{$t&&(i instanceof la&&i.logLevel==="log"?Ge.log(i.message):Ge.warn(i))})}_processEvent(t,r,n){const i=this.getOptions(),{sampleRate:a}=i,s=bL(t),o=xL(t),c=t.type||"error",u=`before send for type \`${c}\``,d=a===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const m=typeof p=="string"?parseFloat(p):p;if(!(typeof m!="number"||isNaN(m)||m<0||m>1))return m;$t&&Ge.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(a);if(o&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),vb(new la(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f,t),new la("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const m=function(g,v,b,y){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:S}=v;if(xL(b)&&w)return w(b,y);if(bL(b)){if(b.spans&&S){const k=[];for(const N of b.spans){const E=S(N);E?k.push(E):(E5e(),g.recordDroppedEvent("before_send","span"))}b.spans=k}if(_){if(b.spans){const k=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:k}}return _(b,y)}}return b}(this,i,p,r);return function(g,v){const b=`${v} must return \`null\` or a valid event.`;if(Cw(g))return g.then(y=>{if(!kf(y)&&y!==null)throw new la(b);return y},y=>{throw new la(`${v} rejected with ${y}`)});if(!kf(g)&&g!==null)throw new la(b);return g}(m,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f,t),s){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new la(`${u} returned \`null\`, will not send event.`,"log")}const m=n&&n.getSession();if(!s&&m&&this._updateSessionFromEvent(m,p),s){const v=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const g=p.transaction_info;if(s&&g&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...g,source:v}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof la?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new la(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[i,a]=r.split(":");return{reason:i,category:a,quantity:n}})}_flushOutcomes(){$t&&Ge.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void($t&&Ge.log("No outcomes to send"));if(!this._dsn)return void($t&&Ge.log("No dsn provided, will not send outcomes"));$t&&Ge.log("Sending outcomes:",t);const r=(n=t,Fm((i=this._options.tunnel&&yb(this._dsn))?{dsn:i}:{},[[{type:"client_report"},{timestamp:a||_g(),discarded_events:n}]]));var n,i,a;this.sendEnvelope(r)}}function xL(e){return e.type===void 0}function bL(e){return e.type==="transaction"}function U5e(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return vb(new la("Not adding Promise because buffer limit was reached."));const i=n();return t.indexOf(i)===-1&&t.push(i),i.then(()=>r(i)).then(null,()=>r(i).then(null,()=>{})),i},drain:function(n){return new Ii((i,a)=>{let s=t.length;if(!s)return i(!0);const o=setTimeout(()=>{n&&n>0&&i(!1)},n);t.forEach(c=>{Gc(c).then(()=>{--s||(clearTimeout(o),i(!0))},a)})})}}}function z5e(e,{statusCode:t,headers:r},n=Date.now()){const i={...e},a=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(a)for(const o of a.trim().split(",")){const[c,u,,,d]=o.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(i[p]=n+h);else i.all=n+h}else s?i.all=n+function(o,c=Date.now()){const u=parseInt(`${o}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${o}`);return isNaN(d)?6e4:d-c}(s,n):t===429&&(i.all=n+6e4);return i}function V5e(e,t,r=U5e(e.bufferSize||64)){let n={};return{send:function(i){const a=[];if(lL(i,(c,u)=>{const d=cL(u);if(function(f,h,p=Date.now()){return function(m,g){return m[g]||m.all||0}(f,h)>p}(n,d)){const f=wL(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else a.push(c)}),a.length===0)return Gc({});const s=Fm(i[0],a),o=c=>{lL(s,(u,d)=>{const f=wL(u,d);e.recordDroppedEvent(c,cL(d),f)})};return r.add(()=>t({body:M5e(s)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&$t&&Ge.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=z5e(n,c),c),c=>{throw o("network_error"),c})).then(c=>c,c=>{if(c instanceof la)return $t&&Ge.error("Skipped sending event because buffer is full."),o("queue_overflow"),Gc({});throw c})},flush:i=>r.drain(i)}}function wL(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const W5e=100;function Bl(e,t){const r=bn(),n=Sg();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=W5e}=r.getOptions();if(a<=0)return;const s={timestamp:_g(),...e},o=i?wg(()=>i(s,t)):s;o!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",o,t),n.addBreadcrumb(o,a))}let _L;const SL=new WeakMap,H5e=()=>({name:"FunctionToString",setupOnce(){_L=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=kP(this),r=SL.has(bn())&&t!==void 0?t:this;return _L.apply(r,e)}}catch{}},setup(e){SL.set(e,!0)}}),q5e=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],G5e=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const i=n.getOptions(),a=function(s={},o={}){return{allowUrls:[...s.allowUrls||[],...o.allowUrls||[]],denyUrls:[...s.denyUrls||[],...o.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...o.ignoreErrors||[],...s.disableErrorDefaults?[]:q5e],ignoreTransactions:[...s.ignoreTransactions||[],...o.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}}(e,i);return function(s,o){return o.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(s)?($t&&Ge.warn(`Event dropped due to being internal Sentry Error.
Event: ${Mo(s)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>Sv(d,u))}(s,o.ignoreErrors)?($t&&Ge.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Mo(s)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(s)?($t&&Ge.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Mo(s)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Sv(d,u)}(s,o.ignoreTransactions)?($t&&Ge.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Mo(s)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Nv(c);return!!d&&Sv(d,u)}(s,o.denyUrls)?($t&&Ge.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Mo(s)}.
Url: ${Nv(s)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Nv(c);return!d||Sv(d,u)}(s,o.allowUrls)?!1:($t&&Ge.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Mo(s)}.
Url: ${Nv(s)}`),!0)}(t,a)?null:t}});function Nv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const i=r[n];if(i&&i.filename!=="<anonymous>"&&i.filename!=="[native code]")return i.filename||null}return null}(t):null}catch{return $t&&Ge.error(`Cannot extract url for event ${Mo(e)}`),null}}function K5e(e,t,r=250,n,i,a,s){if(!(a.exception&&a.exception.values&&s&&Hc(s.originalException,Error)))return;const o=a.exception.values.length>0?a.exception.values[a.exception.values.length-1]:void 0;var c,u;o&&(a.exception.values=(c=jN(e,t,i,s.originalException,n,a.exception.values,o,0),u=r,c.map(d=>(d.value&&(d.value=bd(d.value,u)),d))))}function jN(e,t,r,n,i,a,s,o){if(a.length>=r+1)return a;let c=[...a];if(Hc(n[i],Error)){jL(s,o);const u=e(t,n[i]),d=c.length;kL(u,i,d,o),c=jN(e,t,r,n[i],i,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(Hc(u,Error)){jL(s,o);const f=e(t,u),h=c.length;kL(f,`errors[${d}]`,h,o),c=jN(e,t,r,u,i,[f,...c],f,h)}}),c}function jL(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function kL(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function E1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function Y5e(){"console"in vt&&mN.forEach(function(e){e in vt.console&&gi(vt.console,e,function(t){return gb[e]=t,function(...r){Na("console",{args:r,level:e});const n=gb[e];n&&n.apply(vt.console,r)}})})}function J5e(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const X5e=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(i,a){const s=i.message,o=a.message;return!(!s&&!o||s&&!o||!s&&o||s!==o||!CL(i,a)||!NL(i,a))}(r,n)||function(i,a){const s=EL(a),o=EL(i);return!(!s||!o||s.type!==o.type||s.value!==o.value||!CL(i,a)||!NL(i,a))}(r,n)):!1}(t,e))return $t&&Ge.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function NL(e,t){let r=qD(e),n=qD(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const a=n[i],s=r[i];if(a.filename!==s.filename||a.lineno!==s.lineno||a.colno!==s.colno||a.function!==s.function)return!1}return!0}function CL(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function EL(e){return e.exception&&e.exception.values&&e.exception.values[0]}function OL(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const O1=vt;function kN(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Q5e(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in O1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(kN(O1.fetch))return!0;let e=!1;const t=O1.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=kN(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){du&&Ge.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Z5e(e,t){const r="fetch";jc(r,e),kc(r,()=>function(n,i=!1){i&&!Q5e()||gi(vt,"fetch",function(a){return function(...s){const o=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[p,m]=f;return{url:PL(p),method:NN(m,"method")?String(m.method).toUpperCase():"GET"}}const h=f[0];return{url:PL(h),method:NN(h,"method")?String(h.method).toUpperCase():"GET"}}(s),d={args:s,fetchData:{method:c,url:u},startTimestamp:1e3*Vs(),virtualError:o};return n||Na("fetch",{...d}),a.apply(vt,s).then(async f=>(n?n(f):Na("fetch",{...d,endTimestamp:1e3*Vs(),response:f}),f),f=>{throw Na("fetch",{...d,endTimestamp:1e3*Vs(),error:f}),_P(f)&&f.stack===void 0&&(f.stack=o.stack,qc(f,"framesToPop",1)),f})}})}(void 0,t))}function NN(e,t){return!!e&&typeof e=="object"&&!!e[t]}function PL(e){return typeof e=="string"?e:e?NN(e,"url")?e.url:e.toString?e.toString():"":""}const Cv=vt,Gr=vt;let CN=0;function AL(){return CN>0}function Of(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(kP(e))return e}catch{return e}const r=function(...n){try{const i=n.map(a=>Of(a,t));return e.apply(this,i)}catch(i){throw CN++,setTimeout(()=>{CN--}),function(...a){const s=CP(kw());if(a.length===2){const[o,c]=a;return o?s.withSetScope(o,c):s.withScope(c)}s.withScope(a[0])}(a=>{var s;a.addEventProcessor(o=>(t.mechanism&&(yN(o,void 0),Nf(o,t.mechanism)),o.extra={...o.extra,arguments:n},o)),s=i,fu().captureException(s,void 0)}),i}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}c7(r,e),qc(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const Ow=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function PP(e,t){const r=AP(e,t),n={type:rBe(t),value:nBe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function eBe(e,t,r,n){const i=bn(),a=i&&i.getOptions().normalizeDepth,s=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),o={__serialized__:p7(t,a)};if(s)return{exception:{values:[PP(e,s)]},extra:o};const c={exception:{values:[{type:Nw(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:iBe(t,{isUnhandledRejection:n})}]},extra:o};if(r){const u=AP(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function P1(e,t){return{exception:{values:[PP(e,t)]}}}function AP(e,t){const r=t.stacktrace||t.stack||"",n=function(a){return a&&tBe.test(a.message)?1:0}(t),i=function(a){return typeof a.framesToPop=="number"?a.framesToPop:0}(t);try{return e(r,n,i)}catch{}return[]}const tBe=/Minified React error #\d+;/i;function y7(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function rBe(e){const t=e&&e.name;return!t&&y7(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function nBe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:y7(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function EN(e,t,r,n,i){let a;if(s7(t)&&t.error)return P1(e,t.error);if(KD(t)||ah(t,"DOMException")){const s=t;if("stack"in t)a=P1(e,t);else{const o=s.name||(KD(s)?"DOMError":"DOMException"),c=s.message?`${o}: ${s.message}`:o;a=ON(e,c,r,n),yN(a,c)}return"code"in s&&(a.tags={...a.tags,"DOMException.code":`${s.code}`}),a}return _P(t)?P1(e,t):kf(t)||Nw(t)?(a=eBe(e,t,r,i),Nf(a,{synthetic:!0}),a):(a=ON(e,t,r,n),yN(a,`${t}`),Nf(a,{synthetic:!0}),a)}function ON(e,t,r,n){const i={};if(n&&r){const a=AP(e,r);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]}),Nf(i,{synthetic:!0})}if(SP(t)){const{__sentry_template_string__:a,__sentry_template_values__:s}=t;return i.logentry={message:a,params:s},i}return i.message=t,i}function iBe(e,{isUnhandledRejection:t}){const r=function(i,a=40){const s=Object.keys(u7(i));s.sort();const o=s[0];if(!o)return"[object has no keys]";if(o.length>=a)return bd(o,a);for(let c=s.length;c>0;c--){const u=s.slice(0,c).join(", ");if(!(u.length>a))return c===s.length?u:bd(u,a)}return""}(e),n=t?"promise rejection":"exception";return s7(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Nw(e)?`Event \`${function(i){try{const a=Object.getPrototypeOf(i);return a?a.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class aBe extends B5e{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,i,a=[i],s="npm"){const o=n._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${i}`,packages:a.map(c=>({name:`${s}:@sentry/${c}`,version:Sc})),version:Sc}),n._metadata=o})(r,"browser",["browser"],Gr.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Gr.document&&Gr.document.addEventListener("visibilitychange",()=>{Gr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,i,a,s){const o=EN(n,i,a&&a.syntheticException||void 0,s);return Nf(o),o.level="error",a&&a.event_id&&(o.event_id=a.event_id),Gc(o)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(i,a,s="info",o,c){const u=ON(i,a,o&&o.syntheticException||void 0,c);return u.level=s,o&&o.event_id&&(u.event_id=o.event_id),Gc(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(Ow&&Ge.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:i,tunnel:a,dsn:s}){const o={event_id:n.event_id,sent_at:new Date().toISOString(),...i&&i.sdk&&{sdk:{name:i.sdk.name,version:i.sdk.version}},...!!a&&!!s&&{dsn:yb(s)}};return Fm(o,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const sBe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$n=vt;let TL,A1,T1,Ev;function oBe(){if(!$n.document)return;const e=Na.bind(null,"dom"),t=ML(e,!0);$n.document.addEventListener("click",t,!1),$n.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=$n[r],i=n&&n.prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(gi(i,"addEventListener",function(a){return function(s,o,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const f=ML(e);d.handler=f,a.call(this,s,f,c)}d.refCount++}catch{}return a.call(this,s,o,c)}}),gi(i,"removeEventListener",function(a){return function(s,o,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(a.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,s,o,c)}}))})}function ML(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(a){try{return a.target}catch{return null}}(r);if(function(a,s){return a==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)}(r.type,n))return;qc(r,"_sentryCaptured",!0),n&&!n._sentryId&&qc(n,"_sentryId",Vi());const i=r.type==="keypress"?"input":r.type;(function(a){if(a.type!==A1)return!1;try{if(!a.target||a.target._sentryId!==T1)return!1}catch{}return!0})(r)||(e({event:r,name:i,global:t}),A1=r.type,T1=n?n._sentryId:void 0),clearTimeout(TL),TL=$n.setTimeout(()=>{T1=void 0,A1=void 0},1e3)}}function x7(e){const t="history";jc(t,e),kc(t,lBe)}function lBe(){if(!function(){const r=Cv.chrome,n=r&&r.app&&r.app.runtime,i="history"in Cv&&!!Cv.history.pushState&&!!Cv.history.replaceState;return!n&&i}())return;const e=$n.onpopstate;function t(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const a=Ev,s=String(i);Ev=s,Na("history",{from:a,to:s})}return r.apply(this,n)}}$n.onpopstate=function(...r){const n=$n.location.href,i=Ev;if(Ev=n,Na("history",{from:i,to:n}),e)try{return e.apply(this,r)}catch{}},gi($n.history,"pushState",t),gi($n.history,"replaceState",t)}const ay={};function $L(e){ay[e]=void 0}const Vh="__sentry_xhr_v3__";function cBe(){if(!$n.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const i=new Error,a=1e3*Vs(),s=Ds(n[0])?n[0].toUpperCase():void 0,o=function(u){if(Ds(u))return u;try{return u.toString()}catch{}}(n[1]);if(!s||!o)return t.apply(r,n);r[Vh]={method:s,url:o,request_headers:{}},s==="POST"&&o.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[Vh];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}Na("xhr",{endTimestamp:1e3*Vs(),startTimestamp:a,xhr:r,virtualError:i})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,p]=f,m=d[Vh];return m&&Ds(h)&&Ds(p)&&(m.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const i=r[Vh];return i?(n[0]!==void 0&&(i.body=n[0]),Na("xhr",{startTimestamp:1e3*Vs(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function uBe(e,t=function(r){const n=ay[r];if(n)return n;let i=$n[r];if(kN(i))return ay[r]=i.bind($n);const a=$n.document;if(a&&typeof a.createElement=="function")try{const s=a.createElement("iframe");s.hidden=!0,a.head.appendChild(s);const o=s.contentWindow;o&&o[r]&&(i=o[r]),a.head.removeChild(s)}catch(s){sBe&&Ge.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,s)}return i&&(ay[r]=i.bind($n))}("fetch")){let r=0,n=0;return V5e(e,function(i){const a=i.body.length;r+=a,n++;const s={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return $L("fetch"),vb("No fetch implementation available");try{return t(e.url,s).then(o=>(r-=a,n--,{statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return $L("fetch"),r-=a,n--,vb(o)}})}function M1(e,t,r,n){const i={filename:e,function:t==="<anonymous>"?dc:t,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const dBe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,fBe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,hBe=/\((\S*)(?::(\d+))(?::(\d+))\)/,pBe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,mBe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gBe=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,i=0)=>{const a=[],s=r.split(`
`);for(let o=n;o<s.length;o++){const c=s[o];if(c.length>1024)continue;const u=VD.test(c)?c.replace(VD,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){a.push(f);break}}if(a.length>=50+i)break}}return function(o){if(!o.length)return[];const c=Array.from(o);return/sentryWrapped/.test(_v(c).function||"")&&c.pop(),c.reverse(),WD.test(_v(c).function||"")&&(c.pop(),WD.test(_v(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||_v(c).filename,function:u.function||dc}))}(a.slice(i))}}([30,e=>{const t=dBe.exec(e);if(t){const[,n,i,a]=t;return M1(n,dc,+i,+a)}const r=fBe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=hBe.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[n,i]=IL(r[1]||dc,r[2]);return M1(i,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=pBe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=mBe.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],n=t[1]||dc;return[n,r]=IL(n,r),M1(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),IL=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:dc,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},RL=1024,vBe=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(i){const a="console";jc(a,i),kc(a,Y5e)}(function(i){return function(a){if(bn()!==i)return;const s={category:"console",data:{arguments:a.args,logger:"console"},level:J5e(a.level),message:YD(a.args," ")};if(a.level==="assert"){if(a.args[0]!==!1)return;s.message=`Assertion failed: ${YD(a.args.slice(1)," ")||"console.assert"}`,s.data.arguments=a.args.slice(1)}Bl(s,{input:a.args,level:a.level})}}(r)),t.dom&&(n=function(i,a){return function(s){if(bn()!==i)return;let o,c,u=typeof a=="object"?a.serializeAttribute:void 0,d=typeof a=="object"&&typeof a.maxStringLength=="number"?a.maxStringLength:void 0;d&&d>RL&&(Ow&&Ge.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=RL),typeof u=="string"&&(u=[u]);try{const h=s.event,p=function(m){return!!m&&!!m.target}(h)?h.target:h;o=l7(p,{keyAttrs:u,maxStringLength:d}),c=function(m){if(!jP.HTMLElement)return null;let g=m;for(let v=0;v<5;v++){if(!g)return null;if(g instanceof HTMLElement){if(g.dataset.sentryComponent)return g.dataset.sentryComponent;if(g.dataset.sentryElement)return g.dataset.sentryElement}g=g.parentNode}return null}(p)}catch{o="<unknown>"}if(o.length===0)return;const f={category:`ui.${s.name}`,message:o};c&&(f.data={"ui.component_name":c}),Bl(f,{event:s.event,name:s.name,global:s.global})}}(r,t.dom),jc("dom",n),kc("dom",oBe)),t.xhr&&function(i){jc("xhr",i),kc("xhr",cBe)}(function(i){return function(a){if(bn()!==i)return;const{startTimestamp:s,endTimestamp:o}=a,c=a.xhr[Vh];if(!s||!o||!c)return;const{method:u,url:d,status_code:f,body:h}=c,p={method:u,url:d,status_code:f},m={xhr:a.xhr,input:h,startTimestamp:s,endTimestamp:o};Bl({category:"xhr",data:p,type:"http",level:OL(f)},m)}}(r)),t.fetch&&Z5e(function(i){return function(a){if(bn()!==i)return;const{startTimestamp:s,endTimestamp:o}=a;if(o&&(!a.fetchData.url.match(/sentry_key/)||a.fetchData.method!=="POST"))if(a.error)Bl({category:"fetch",data:a.fetchData,level:"error",type:"http"},{data:a.error,input:a.args,startTimestamp:s,endTimestamp:o});else{const c=a.response,u={...a.fetchData,status_code:c&&c.status},d={input:a.args,response:c,startTimestamp:s,endTimestamp:o};Bl({category:"fetch",data:u,type:"http",level:OL(u.status_code)},d)}}}(r)),t.history&&x7(function(i){return function(a){if(bn()!==i)return;let s=a.from,o=a.to;const c=E1(Gr.location.href);let u=s?E1(s):void 0;const d=E1(o);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(o=d.relative),c.protocol===u.protocol&&c.host===u.host&&(s=u.relative),Bl({category:"navigation",data:{from:s,to:o}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(i){return function(a){bn()===i&&Bl({category:"sentry."+(a.type==="transaction"?"transaction":"event"),event_id:a.event_id,level:a.level,message:Mo(a)},{event:a})}}(r))}}},yBe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],xBe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&gi(Gr,"setTimeout",DL),t.setInterval&&gi(Gr,"setInterval",DL),t.requestAnimationFrame&&gi(Gr,"requestAnimationFrame",bBe),t.XMLHttpRequest&&"XMLHttpRequest"in Gr&&gi(XMLHttpRequest.prototype,"send",wBe);const r=t.eventTarget;r&&(Array.isArray(r)?r:yBe).forEach(_Be)}}};function DL(e){return function(...t){const r=t[0];return t[0]=Of(r,{mechanism:{data:{function:ml(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function bBe(e){return function(t){return e.apply(this,[Of(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ml(e)},handled:!1,type:"instrument"}})])}}function wBe(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&gi(r,n,function(i){const a={mechanism:{data:{function:n,handler:ml(i)},handled:!1,type:"instrument"}},s=kP(i);return s&&(a.mechanism.data.handler=ml(s)),Of(i,a)})}),e.apply(this,t)}}function _Be(e){const t=Gr[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(gi(r,"addEventListener",function(n){return function(i,a,s){try{typeof a.handleEvent=="function"&&(a.handleEvent=Of(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ml(a),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[i,Of(a,{mechanism:{data:{function:"addEventListener",handler:ml(a),target:e},handled:!1,type:"instrument"}}),s])}}),gi(r,"removeEventListener",function(n){return function(i,a,s){try{const o=a.__sentry_wrapped__;o&&n.call(this,i,o,s)}catch{}return n.call(this,i,a,s)}}))}const SBe=()=>({name:"BrowserSession",setupOnce(){Gr.document!==void 0?(hL({ignoreDuration:!0}),pL(),x7(({from:e,to:t})=>{e!==void 0&&e!==t&&(hL({ignoreDuration:!0}),pL())})):Ow&&Ge.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),jBe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(i){const a="error";jc(a,i),kc(a,p5e)})(i=>{const{stackParser:a,attachStacktrace:s}=FL();if(bn()!==n||AL())return;const{msg:o,url:c,line:u,column:d,error:f}=i,h=function(p,m,g,v){const b=p.exception=p.exception||{},y=b.values=b.values||[],w=y[0]=y[0]||{},_=w.stacktrace=w.stacktrace||{},S=_.frames=_.frames||[],k=v,N=g,E=Ds(m)&&m.length>0?m:function(){try{return jP.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:k,filename:E,function:dc,in_app:!0,lineno:N}),p}(EN(a,f||o,void 0,s,!1),c,u,d);h.level="error",fL(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),LL("onerror")),t.onunhandledrejection&&(function(n){(function(i){const a="unhandledrejection";jc(a,i),kc(a,m5e)})(i=>{const{stackParser:a,attachStacktrace:s}=FL();if(bn()!==n||AL())return;const o=function(u){if(gN(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(i),c=gN(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:EN(a,o,void 0,s,!0);c.level="error",fL(c,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),LL("onunhandledrejection"))}}};function LL(e){Ow&&Ge.log(`Global Handler attached: ${e}`)}function FL(){const e=bn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const kBe=()=>({name:"HttpContext",preprocessEvent(e){if(!Gr.navigator&&!Gr.location&&!Gr.document)return;const t=e.request&&e.request.url||Gr.location&&Gr.location.href,{referrer:r}=Gr.document||{},{userAgent:n}=Gr.navigator||{},i={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},a={...e.request,...t&&{url:t},headers:i};e.request=a}}),NBe=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,i,a){const s=a.getOptions();K5e(PP,s.stackParser,s.maxValueLength,r,t,n,i)}}};var BL="new",UL="loading",zL="loaded",PN="joining-meeting",ec="joined-meeting",Ul="left-meeting",_o="error",CBe="playable",$1="unknown",EBe="full",OBe="base",VL="no-room",PBe="end-of-life",ABe="connection-error",TBe="iframe-ready-for-launch-config",MBe="iframe-launch-config",$Be="theme-updated",IBe="loading",RBe="load-attempt-failed",WL="loaded",DBe="started-camera",LBe="camera-error",FBe="joining-meeting",BBe="joined-meeting",UBe="left-meeting",zBe="participant-joined",VBe="participant-updated",WBe="participant-left",HBe="participant-counts-updated",qBe="access-state-updated",GBe="meeting-session-summary-updated",KBe="meeting-session-state-updated",YBe="waiting-participant-added",JBe="waiting-participant-updated",XBe="waiting-participant-removed",QBe="track-started",ZBe="track-stopped",eUe="transcription-started",tUe="transcription-stopped",rUe="transcription-error",HL="recording-started",qL="recording-stopped",nUe="recording-stats",iUe="recording-error",aUe="recording-upload-completed",sUe="recording-data",oUe="app-message",lUe="transcription-message",cUe="remote-media-player-started",uUe="remote-media-player-updated",dUe="remote-media-player-stopped",fUe="local-screen-share-started",hUe="local-screen-share-stopped",pUe="local-screen-share-canceled",mUe="active-speaker-change",gUe="active-speaker-mode-change",vUe="network-quality-change",yUe="network-connection",xUe="cpu-load-change",bUe="face-counts-updated",Ov="fullscreen",Pv="exited-fullscreen",wUe="live-streaming-started",_Ue="live-streaming-updated",SUe="live-streaming-stopped",jUe="live-streaming-error",kUe="lang-updated",NUe="receive-settings-updated",GL="input-settings-updated",KL="nonfatal-error",YL="error",I1=4096,JL=102400,R1="iframe-call-message",XL="local-screen-start",QL="daily-method-update-live-streaming-endpoints",Av="transmit-log",Ls="daily-custom-track",sy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},b7={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},AN={PLAY:"play",PAUSE:"pause"},D1=["jpg","png","jpeg"],CUe="add-endpoints",EUe="remove-endpoints",ZL="sip-call-transfer";function Gi(){return!ct()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ct(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function w7(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function OUe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(Kc(),xb())||ct())}function e4(){if(ct()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var TN="none",PUe="software",AUe="hardware",TUe=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?PUe:AUe:TN}catch{return TN}}();function _7(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ct()&&TUe!==TN&&(e?function(){return t4()?!1:["Chrome","Firefox"].includes(Kc())}():function(){if(t4())return!1;var t=Kc();if(t==="Safari"){var r=MP();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?TP().major>=77:t==="Firefox"?$P().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function S7(){if(ct()||j7()||typeof AudioWorkletNode>"u")return!1;switch(Kc()){case"Chrome":case"Firefox":return!0;case"Safari":var e=xb();return e.major>17||e.major===17&&e.minor>=4}return!1}function L1(){return w7()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=Kc();if(!Gi())return!0;switch(t){case"Chrome":return(e=TP()).major&&e.major>0&&e.major<75;case"Firefox":return(e=$P()).major<91;case"Safari":return(e=MP()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function j7(){return Gi().match(/Linux; Android/)}function t4(){var e,t=Gi(),r=t.match(/Mac/)&&(!ct()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!Gi().match(/DailyAnd\//)||void 0}function Kc(){if(typeof window<"u"){var e=Gi();return k7()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||N7()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function xb(){switch(Kc()){case"Chrome":return TP();case"Safari":return MP();case"Firefox":return $P();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=Gi().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function TP(){var e=0,t=0,r=0,n=0,i=!1;if(typeof window<"u"){var a=Gi(),s=a.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),r=parseInt(s[3]),n=parseInt(s[4]),i=a.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:i}}function k7(){return!!Gi().match(/iPad|iPhone|iPod/i)&&w7()}function N7(){return Gi().indexOf("AppleWebKit/605.1.15")>-1}function MP(){var e=0,t=0,r=0;if(typeof window<"u"){var n=Gi().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(k7()||N7())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function $P(){var e=0,t=0;if(typeof window<"u"){var r=Gi().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var C7=function(){return Ei(function e(){Ci(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){Th()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){Th()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){Th()}},{key:"sendMessageToDailyJs",value:function(e,t){Th()}},{key:"removeListener",value:function(e){Th()}}])}();function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function F1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}var MUe=function(){function e(){var t,r,n,i;return Ci(this,e),r=this,n=Ia(n=e),(t=_w(r,E7()?Reflect.construct(n,[],Ia(r).constructor):n.apply(r,i)))._wrappedListeners={},t._messageCallbacks={},t}return Sw(e,C7),Ei(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var i=this,a=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var o=F1({},s.data);if(delete o.from,o.callbackStamp&&i._messageCallbacks[o.callbackStamp]){var c=o.callbackStamp;i._messageCallbacks[c].call(n,o),delete i._messageCallbacks[c]}delete o.what,delete o.callbackStamp,t.call(n,o)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var i=function(a){var s;if(!(!a.data||a.data.what!==R1||!a.data.action||a.data.from&&a.data.from!=="module"||a.data.callClientId&&r&&a.data.callClientId!==r||a!=null&&(s=a.data)!==null&&s!==void 0&&s.callFrameId)){var o=a.data;t.call(n,o)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"sendMessageToCallMachine",value:function(t,r,n,i){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var a=F1({},t);if(a.what=R1,a.from="module",a.callClientId=n,r){var s=jw();this._messageCallbacks[s]=r,a.callbackStamp=s}var o=i?i.contentWindow:window,c=this._callMachineTargetOrigin(i);c&&o.postMessage(a,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=R1,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var i=F1({},t);i.callClientId=n;var a=r?r.contentWindow:window,s=this._callMachineTargetOrigin(r);s&&a.postMessage(i,s)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(i){if(i.data&&i.data.what==="iframe-call-message"&&(!i.data.callClientId||i.data.callClientId===r)&&(!i.data.from||i.data.from!=="module")){var a=i.data;t(a)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!e})()}var $Ue=function(){function e(){var t,r,n,i;return Ci(this,e),r=this,n=Ia(n=e),t=_w(r,O7()?Reflect.construct(n,[],Ia(r).constructor):n.apply(r,i)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new pN.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new pN.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Sw(e,C7),Ei(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,i,a){var s=this,o=function(c){if(c.callClientId===n){if(c.callbackStamp&&s._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;s._messageCallbacks[u].call(i,c),delete s._messageCallbacks[u]}t.call(i,c)}};this._wrappedListeners[t]=o,r.addListener("message",o)}},{key:"_sendMessage",value:function(t,r,n,i,a){var s=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?n4(Object(d),!0).forEach(function(f){qa(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):n4(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(s.callClientId=n,i){var o=jw();this._messageCallbacks[o]=i,s.callbackStamp=o}r.emit("message",s)}}])}(),MN="replace",$N="shallow-merge",i4=[MN,$N],IUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,i=n===void 0?MN:n;Ci(this,e),e._validateMergeStrategy(i),e._validateData(r,i),this.mergeStrategy=i,this.data=r}return Ei(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===$N}},{key:"_validateMergeStrategy",value:function(t){if(!i4.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(i4,"]"))}},{key:"_validateData",value:function(t,r){if(!function(o){if(o==null||ut(o)!=="object")return!1;var c=Object.getPrototypeOf(o);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===MN){var i=JSON.parse(n);Pn(i,t)||console.warn("The meeting session data provided will be modified when serialized.",i,t)}else if(r===$N){for(var a in t)if(Object.hasOwnProperty.call(t,a)&&t[a]!==void 0){var s=JSON.parse(JSON.stringify(t[a]));Pn(t[a],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,t[a])}}}catch(o){throw Error("Meeting session data must be serializable to JSON: ".concat(o))}if(n.length>JL)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(JL,"."))}}])}();function P7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P7=function(){return!!e})()}function IN(e){var t=typeof Map=="function"?new Map:void 0;return IN=function(r){if(r===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(i,a,s){if(P7())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,a);var c=new(i.bind.apply(i,o));return s&&Lm(c,s.prototype),c}(r,arguments,Ia(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Lm(n,r)},IN(e)}function A7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!e})()}function a4(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var RUe=function(){return Ei(function e(t){Ci(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new DUe(r,function(){n(!1)},function(a,s){s||a4(t._callClientId),i(a,s)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),a4(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),DUe=function(){return Ei(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Ci(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new s4(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new s4(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),B1=function(){function e(){return Ci(this,e),t=this,n=arguments,r=Ia(r=e),_w(t,A7()?Reflect.construct(r,n||[],Ia(t).constructor):r.apply(t,n));var t,r,n}return Sw(e,IN(Error)),Ei(e)}(),bb=2e4,s4=function(){return Ei(function t(r,n,i){Ci(this,t),this._loadAttemptImpl=ct()||!r.avoidEval?new LUe(r,n,i):new FUe(r,n,i)},[{key:"start",value:(e=Ve(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),LUe=function(){return Ei(function i(a,s,o){Ci(this,i),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=a,this._successCallback=s,this._failureCallback=o},[{key:"start",value:(n=Ve(function*(){var i=hb(this._dailyConfig);!(yield this._tryLoadFromIOSCache(i))&&this._loadFromNetwork(i)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Ve(function*(i){if(!this._iosCache)return!1;try{var a=yield this._iosCache.get(i);return!!this.cancelled||!!a&&(a.code?(Function('"use strict";'+a.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=a.refetchHeaders,!1))}catch{return!1}}),function(i){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Ve(function*(i){var a=this;this._networkTimeout=setTimeout(function(){a._networkTimedOut=!0,a._failureCallback({msg:"Timed out (>".concat(bb," ms) when loading call object bundle ").concat(i),type:"timeout"})},bb);try{var s=this._refetchHeaders?{headers:this._refetchHeaders}:{},o=yield fetch(i,s);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new B1;var c=yield this._getBundleCodeFromResponse(i,o);if(this.cancelled)throw new B1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(i,c,o.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof B1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(i,": ").concat(u),type:u.message})}}),function(i){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Ve(function*(i,a){if(a.ok)return yield a.text();if(this._iosCache&&a.status===304)return(yield this._iosCache.renew(i,a.headers)).code;throw new Error("Received ".concat(a.status," response"))}),function(i,a){return e.apply(this,arguments)})}]);var e,t,r,n}(),FUe=function(){return Ei(function e(t,r,n){Ci(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=jw(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=hb(this._dailyConfig);(typeof document>"u"?"undefined":ut(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(bb," ms) when loading call object bundle ").concat(e),type:"timeout"})},bb);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(i){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(i.target.src),type:i.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Tv=function(e,t,r){return UUe(e.local,t,r)===!0},BUe=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},nd=function(e,t,r,n){var i=zUe(e,t,r,n);return i&&i.pendingTrack},UUe=function(e,t,r){if(!e)return!1;var n=function(a){switch(a){case"avatar":return!0;case"staged":return a;default:return!!a}},i=e.public.subscribedTracks;return i&&i[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&i[t].custom?[!0,"staged"].includes(i[t].custom)?n(i[t].custom):n(i[t].custom[r]):n(i[t][r]):!i||n(i.ALL)},zUe=function(e,t,r,n){var i=Object.values(e.streams||{}).filter(function(a){return a.participantId===t&&a.type===r&&a.pendingTrack&&a.pendingTrack.kind===n}).sort(function(a,s){return new Date(s.starttime)-new Date(a.starttime)});return i&&i[0]},VUe=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function o4(e,t){for(var r=t.getState(),n=0,i=["cam","screen"];n<i.length;n++)for(var a=i[n],s=0,o=["video","audio"];s<o.length;s++){var c=o[s],u=a==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?BUe(r,a,c):nd(r,e.session_id,a,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function l4(e,t){try{var r=t.getState();for(var n in e.tracks)if(!WUe(n)){var i=e.tracks[n].kind;if(i){var a=e.tracks[n];if(a){var s=e.local?VUe(r,n):nd(r,e.session_id,n,i);a.state==="playable"&&(e.tracks[n].track=s),a.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(o){console.error(o)}}function WUe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function c4(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var i=!0;try{var a=n.participants[e.session_id];a&&a.public&&a.public.rtcType&&a.public.rtcType.impl==="peer-to-peer"&&a.private&&!["connected","completed"].includes(a.private.peeringState)&&(i=!1)}catch(d){console.error(d)}if(!i)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&Tv(n,e.session_id,"cam-audio")){var s=nd(n,e.session_id,"cam","audio");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&Tv(n,e.session_id,"cam-video")){var o=nd(n,e.session_id,"cam","video");o&&(t&&t.videoTrack&&t.videoTrack.id===o.id?e.videoTrack=o:o.muted||(e.videoTrack=o)),e.videoTrack||(e.video=!1)}if(e.screen&&Tv(n,e.session_id,"screen-audio")){var c=nd(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Tv(n,e.session_id,"screen-video")){var u=nd(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function HUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return u4(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?u4(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function u4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ua=new Map,wd=null;function qUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return d4(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?d4(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function d4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var za=new Map,fp=null;function GUe(e){T7()?function(t){Ua.has(t)||(Ua.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){Ua.has(t)&&(Ua.get(t).lastDevicesString=JSON.stringify(r),wd||(wd=function(){var n=Ve(function*(){var i,a=yield navigator.mediaDevices.enumerateDevices(),s=HUe(Ua.keys());try{for(s.s();!(i=s.n()).done;){var o=i.value,c=JSON.stringify(a);c!==Ua.get(o).lastDevicesString&&(Ua.get(o).lastDevicesString=c,o(a))}}catch(u){s.e(u)}finally{s.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",wd)))}).catch(function(){}))}(e):function(t){za.has(t)||(za.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){za.has(t)&&(za.get(t).lastDevicesString=JSON.stringify(r),fp||(fp=setInterval(Ve(function*(){var n,i=yield navigator.mediaDevices.enumerateDevices(),a=qUe(za.keys());try{for(a.s();!(n=a.n()).done;){var s=n.value,o=JSON.stringify(i);o!==za.get(s).lastDevicesString&&(za.get(s).lastDevicesString=o,s(i))}}catch(c){a.e(c)}finally{a.f()}}),3e3)))}))}(e)}function KUe(e){T7()?function(t){Ua.has(t)&&(Ua.delete(t),Ua.size===0&&wd&&(navigator.mediaDevices.removeEventListener("devicechange",wd),wd=null))}(e):function(t){za.has(t)&&(za.delete(t),za.size===0&&fp&&(clearInterval(fp),fp=null))}(e)}function T7(){var e;return ct()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var YUe=new Set;function JUe(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!YUe.has(r.id)}(e)}function f4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f4(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Wh=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),XUe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),hp=Object.values(Wh),h4=["v","a","sv","sa","cv","ca"];Object.freeze(hp.reduce(function(e,t,r){return e[t]=h4[r],e},{})),Object.freeze(h4.reduce(function(e,t,r){return e[t]=hp[r],e},{}));var QUe=[Wh.VIDEO,Wh.AUDIO,Wh.SCREEN_VIDEO,Wh.SCREEN_AUDIO],p4=Object.values(XUe),m4=["p","s","t"];Object.freeze(p4.reduce(function(e,t,r){return e[t]=m4[r],e},{})),Object.freeze(m4.reduce(function(e,t,r){return e[t]=p4[r],e},{}));var M7=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,i=t.byParticipantId;Ci(this,e),this.base=r,this.byUserId=n,this.byParticipantId=i}return Ei(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof en?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof en?n.clone():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var a=this.byParticipantId[i];t.byParticipantId[i]=a instanceof en?a.clone():a}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof en&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof en?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var i in t.byParticipantId={},this.byParticipantId){var a=this.byParticipantId[i];t.byParticipantId[i]=a instanceof en?a.toJSONObject():a}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var i in t.p={},this.byParticipantId){var a=this.byParticipantId[i];t.p[i]=typeof a=="boolean"?a:a.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof en&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=_n(t,2),n=r[0],i=r[1];return[n,i instanceof en?i.normalize():i]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=_n(t,2),n=r[0],i=r[1];return[n,i instanceof en?i.normalize():i]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,i;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:en.fromJSONObject(t.base)),t.byUserId!==void 0)for(var a in n={},t.byUserId){var s=t.byUserId[a];n[a]=typeof s=="boolean"?s:en.fromJSONObject(s)}if(t.byParticipantId!==void 0)for(var o in i={},t.byParticipantId){var c=t.byParticipantId[o];i[o]=typeof c=="boolean"?c:en.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,i;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:en.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var a in n={},t.u){var s=t.u[a];n[a]=typeof s=="boolean"?s:en.fromMinifiedJSONObject(s)}if(t.p!==void 0)for(var o in i={},t.p){var c=t.p[o];i[o]=typeof c=="boolean"?c:en.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:i})}},{key:"validateJSONObject",value:function(t){if(ut(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,i=Object.keys(t);n<i.length;n++){var a=i[n];if(!r.includes(a))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(a==="base"){var s=_n(en.validateJSONObject(t.base,!0),2),o=s[0],c=s[1];if(!o)return[!1,c]}else{if(ut(t[a])!=="object")return[!1,"invalid (non-object) value for field '".concat(a,"' in canReceive")];for(var u=0,d=Object.values(t[a]);u<d.length;u++){var f=d[u],h=_n(en.validateJSONObject(f),2),p=h[0],m=h[1];if(!p)return[!1,m]}}}return[!0]}}])}(),en=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,i=t.screenVideo,a=t.screenAudio,s=t.customVideo,o=t.customAudio;Ci(this,e),this.video=r,this.audio=n,this.screenVideo=i,this.screenAudio=a,this.customVideo=s,this.customAudio=o}return Ei(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=So({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=So({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=So({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=So({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=So({},this.customVideo)),this.customAudio!==void 0&&(t.ca=So({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?So({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?So({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(ut(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),i=0,a=n;i<a.length;i++){var s=a[i];if(!hp.includes(s))return[!1,"invalid media type '".concat(s,"' in canReceive")];if(QUe.includes(s)){if(typeof t[s]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(s,"' in canReceive")]}else{if(ut(t[s])!=="object")return[!1,"invalid (non-object) value for media type '".concat(s,"' in canReceive")];for(var o=0,c=Object.values(t[s]);o<c.length;o++)if(typeof c[o]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(s,"' in canReceive")];if(r&&t[s]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(s,"'")]}}return r&&n.length!==hp.length?[!1,'canReceive "base" permission must specify all media types: '.concat(hp.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),ZUe=["result"],e6e=["preserveIframe"];function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!e})()}function v4(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return y4(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?y4(c,u):void 0}}(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{s||r.return==null||r.return()}finally{if(o)throw a}}}}function y4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var zl={},x4="video",t6e="voice",b4=ct()?{data:{}}:{data:{},topology:"none"},w4={present:0,hidden:0},I7={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},U1=Object.keys(I7),_4=["state","volume","simulcastEncodings"],S4={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},wb={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},RN={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},Vl={customIntegrations:{validate:V7,help:U7()},customTrayButtons:{validate:z7,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(wb))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return W7(e,S4)},help:"reactNativeConfig should look like ".concat(JSON.stringify(S4),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return R7(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:Ls};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:Ls};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var i=0,a=Object.keys(n);i<a.length;i++){var s=a[i];if(!t.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(n[s],'"')),!1}return!0};return ut(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return D7(e,{allowAllParticipantsKey:!1})},help:B7({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(i){return console.error("Failed to validate send settings",i),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!L7(e)&&(t._inputSettings||(t._inputSettings={}),F7(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:DN()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Mv={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!ct()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],i=function(a){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var o in a)if(o==="custom"){if(!r.includes(a[o])&&!i(a[o],!0))return!1}else{var c=!s&&!n.includes(o),u=!r.includes(a[o]);if(c||u)return!1}return!0};return i(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ct()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=_n(r[t],2),i=n[0],a=n[1];switch(i){case"hasPresence":if(typeof a!="boolean")return!1;break;case"canSend":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var s,o=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=v4(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!o.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof a!="boolean")return!1;(a instanceof Array||Array.isArray(a))&&(e.canSend=new Set(a));break;case"canReceive":var d=_n(M7.validateJSONObject(a),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(a instanceof Set||a instanceof Array||Array.isArray(a)){var p,m=["participants","streaming","transcription"],g=v4(a);try{for(g.s();!(p=g.n()).done;){var v=p.value;if(!m.includes(v))return!1}}catch(b){g.e(b)}finally{g.f()}}else if(typeof a!="boolean")return!1;(a instanceof Array||Array.isArray(a))&&(e.canAdmin=new Set(a));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Ve(function*(t){return new Promise(function(r,n){var i=[];t.forEach(function(a){return Promise.resolve(a).then(function(s){r(s)}).catch(function(s){i.push(s),i.length===t.length&&n(i)})})})});return function(t){return e.apply(this,arguments)}}());var j4=function(){function e(j){var O,C,D,I,q,H,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ci(this,e),D=this,I=Ia(I=e),qa(C=_w(D,$7()?Reflect.construct(I,[],Ia(D).constructor):I.apply(D,q)),"startListeningForDeviceChanges",function(){GUe(C.handleDeviceChange)}),qa(C,"stopListeningForDeviceChanges",function(){KUe(C.handleDeviceChange)}),qa(C,"handleDeviceChange",function(Y){Y=Y.map(function(ye){return JSON.parse(JSON.stringify(ye))}),C.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),qa(C,"handleNativeAppStateChange",function(){var Y=Ve(function*(ye){if(ye==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield C.destroy());var Ae=ye==="active";C.disableReactNativeAutoDeviceManagement("video")||(Ae?C.camUnmutedBeforeLosingNativeActiveState&&C.setLocalVideo(!0):(C.camUnmutedBeforeLosingNativeActiveState=C.localVideo(),C.camUnmutedBeforeLosingNativeActiveState&&C.setLocalVideo(!1)))});return function(ye){return Y.apply(this,arguments)}}()),qa(C,"handleNativeAudioFocusChange",function(Y){C.disableReactNativeAutoDeviceManagement("audio")||(C._hasNativeAudioFocus=Y,C.toggleParticipantAudioBasedOnNativeAudioFocus(),C._hasNativeAudioFocus?C.micUnmutedBeforeLosingNativeAudioFocus&&C.setLocalAudio(!0):(C.micUnmutedBeforeLosingNativeAudioFocus=C.localAudio(),C.setLocalAudio(!1)))}),qa(C,"handleNativeSystemScreenCaptureStop",function(){C.stopScreenShare()}),!L1()&&!ct())throw new Error("WebRTC not supported or suppressed");if(C.strictMode=K.strictMode===void 0||K.strictMode,C.allowMultipleCallInstances=(O=K.allowMultipleCallInstances)!==null&&O!==void 0&&O,Object.keys(zl).length&&(C._logDuplicateInstanceAttempt(),!C.allowMultipleCallInstances)){if(C.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),C.callClientId=jw(),zl[(H=C).callClientId]=H,window._daily.instances[C.callClientId]={},C._sharedTracks={},window._daily.instances[C.callClientId].tracks=C._sharedTracks,K.dailyJsVersion=e.version(),C._iframe=j,C._callObjectMode=K.layout==="none"&&!C._iframe,C._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},K.showLocalVideo!==void 0?C._callObjectMode?console.error("showLocalVideo is not available in call object mode"):C._showLocalVideo=!!K.showLocalVideo:C._showLocalVideo=!0,K.showParticipantsBar!==void 0?C._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):C._showParticipantsBar=!!K.showParticipantsBar:C._showParticipantsBar=!0,K.customIntegrations!==void 0?C._callObjectMode?console.error("customIntegrations is not available in call object mode"):C._customIntegrations=K.customIntegrations:C._customIntegrations={},K.customTrayButtons!==void 0?C._callObjectMode?console.error("customTrayButtons is not available in call object mode"):C._customTrayButtons=K.customTrayButtons:C._customTrayButtons={},K.activeSpeakerMode!==void 0?C._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):C._activeSpeakerMode=!!K.activeSpeakerMode:C._activeSpeakerMode=!1,K.receiveSettings?C._callObjectMode?C._receiveSettings=K.receiveSettings:console.error("receiveSettings is only available in call object mode"):C._receiveSettings={},C.validateProperties(K),C.properties=$e({},K),C._inputSettings||(C._inputSettings={}),C._callObjectLoader=C._callObjectMode?new RUe(C.callClientId):null,C._callState=BL,C._isPreparingToJoin=!1,C._accessState={access:$1},C._meetingSessionSummary={},C._finalSummaryOfPrevSession={},C._meetingSessionState=W1(b4,C._callObjectMode),C._nativeInCallAudioMode=x4,C._participants={},C._isScreenSharing=!1,C._participantCounts=w4,C._rmpPlayerState={},C._waitingParticipants={},C._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},C._activeSpeaker={},C._localAudioLevel=0,C._isLocalAudioLevelObserverRunning=!1,C._remoteParticipantsAudioLevel={},C._isRemoteParticipantsAudioLevelObserverRunning=!1,C._maxAppMessageSize=I1,C._messageChannel=ct()?new $Ue:new MUe,C._iframe&&(C._iframe.requestFullscreen?C._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===C._iframe?(C.emitDailyJSEvent({action:Ov}),C.sendMessageToCallMachine({action:Ov})):(C.emitDailyJSEvent({action:Pv}),C.sendMessageToCallMachine({action:Pv}))}):C._iframe.webkitRequestFullscreen&&C._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===C._iframe?(C.emitDailyJSEvent({action:Ov}),C.sendMessageToCallMachine({action:Ov})):(C.emitDailyJSEvent({action:Pv}),C.sendMessageToCallMachine({action:Pv}))})),ct()){var Q=C.nativeUtils();Q.addAudioFocusChangeListener&&Q.removeAudioFocusChangeListener&&Q.addAppStateChangeListener&&Q.removeAppStateChangeListener&&Q.addSystemScreenCaptureStopListener&&Q.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),C._hasNativeAudioFocus=!0,Q.addAudioFocusChangeListener(C.handleNativeAudioFocusChange),Q.addAppStateChangeListener(C.handleNativeAppStateChange),Q.addSystemScreenCaptureStopListener(C.handleNativeSystemScreenCaptureStop)}return C._callObjectMode&&C.startListeningForDeviceChanges(),C._messageChannel.addListenerForMessagesFromCallMachine(C.handleMessageFromCallMachine,C.callClientId,C),C}return Sw(e,wv),Ei(e,[{key:"destroy",value:(X=Ve(function*(){var j;try{yield this.leave()}catch{}var O=this._iframe;if(O){var C=O.parentElement;C&&C.removeChild(O)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ct()){var D=this.nativeUtils();D.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),D.removeAppStateChangeListener(this.handleNativeAppStateChange),D.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete zl[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return X.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var O=j.bodyClass,C=j.cssFile,D=j.cssText;return lt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(C),bodyClass:O,cssText:D}),this}},{key:"iframe",value:function(){return lt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return aa(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return aa(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,O){for(var C in O){if(!Mv[C])throw new Error("unrecognized updateParticipant property ".concat(C));if(Mv[C].validate&&!Mv[C].validate(O[C],this,this._participants[j]))throw new Error(Mv[C].help)}}},{key:"updateParticipant",value:function(j,O){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&O&&(this.validateParticipantProperties(j,O),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:O})),this}},{key:"updateParticipants",value:function(j){var O=this._participants.local&&this._participants.local.session_id;for(var C in j)C===O&&(C="local"),C&&j[C]&&this.validateParticipantProperties(C,j[C]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(te=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(aa(this._callObjectMode,"updateWaitingParticipant()"),Ot(this._callState,"updateWaitingParticipant()"),typeof O!="string"||ut(C)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(D,I){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:O,updates:C},function(q){q.error&&I(q.error),q.id||I(new Error("unknown error in updateWaitingParticipant()")),D({id:q.id})})})}),function(){return te.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(G=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(aa(this._callObjectMode,"updateWaitingParticipants()"),Ot(this._callState,"updateWaitingParticipants()"),ut(O)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(C,D){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:O},function(I){I.error&&D(I.error),I.ids||D(new Error("unknown error in updateWaitingParticipants()")),C({ids:I.ids})})})}),function(){return G.apply(this,arguments)})},{key:"requestAccess",value:(B=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=O.access,D=C===void 0?{level:EBe}:C,I=O.name,q=I===void 0?"":I;return aa(this._callObjectMode,"requestAccess()"),Ot(this._callState,"requestAccess()"),new Promise(function(H,K){j.sendMessageToCallMachine({action:"daily-method-request-access",access:D,name:q},function(Q){Q.error&&K(Q.error),Q.access||K(new Error("unknown error in requestAccess()")),H({access:Q.access,granted:Q.granted})})})}),function(){return B.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in O&&(ct()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),O={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),O={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:O}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(L=Ve(function*(j){var O=this,C=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,D=C!==void 0&&C;if(aa(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(ut(j)){case"string":return new Promise(function(I){O.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:D},function(q){I(q.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return L.apply(this,arguments)})},{key:"updateReceiveSettings",value:(z=Ve(function*(j){var O=this;if(aa(this._callObjectMode,"updateReceiveSettings()"),!D7(j,{allowAllParticipantsKey:!0}))throw new Error(B7({allowAllParticipantsKey:!0}));return Ot(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(C){O.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(D){C({receiveSettings:D.receiveSettings})})})}),function(j){return z.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,O){if(j){var C={};if(j.audio){var D,I,q;j.audio.settings&&(!Object.keys(j.audio.settings).length&&O||(C.audio={settings:$e({},j.audio.settings)})),O&&(D=C.audio)!==null&&D!==void 0&&(D=D.settings)!==null&&D!==void 0&&D.customTrack&&(C.audio.settings={customTrack:this._sharedTracks.audioTrack});var H=((I=j.audio.processor)===null||I===void 0?void 0:I.type)==="none"&&((q=j.audio.processor)===null||q===void 0?void 0:q._isDefaultWhenNone);if(j.audio.processor&&!H){var K=$e({},j.audio.processor);delete K._isDefaultWhenNone,C.audio=$e($e({},C.audio),{},{processor:K})}}if(j.video){var Q,Y,ye;j.video.settings&&(!Object.keys(j.video.settings).length&&O||(C.video={settings:$e({},j.video.settings)})),O&&(Q=C.video)!==null&&Q!==void 0&&(Q=Q.settings)!==null&&Q!==void 0&&Q.customTrack&&(C.video.settings={customTrack:this._sharedTracks.videoTrack});var Ae=((Y=j.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((ye=j.video.processor)===null||ye===void 0?void 0:ye._isDefaultWhenNone);if(j.video.processor&&!Ae){var tt=$e({},j.video.processor);delete tt._isDefaultWhenNone,C.video=$e($e({},C.video),{},{processor:tt})}}return C}}},{key:"getInputSettings",value:function(){var j=this;return lt(),new Promise(function(O){O(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,O,C,D,I,q,H={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((C=this._inputSettings)===null||C===void 0?void 0:C.video)||H,O=((D=this._inputSettings)===null||D===void 0?void 0:D.audio)||H):(j=((I=this._preloadCache)===null||I===void 0||(I=I.inputSettings)===null||I===void 0?void 0:I.video)||H,O=((q=this._preloadCache)===null||q===void 0||(q=q.inputSettings)===null||q===void 0?void 0:q.audio)||H);var K={audio:O,video:j};return this._prepInputSettingsForSharing(K,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,O){var C=this._inputSettings||{},D={};if(j.video){var I,q,H;D.video={},j.video.settings?(D.video.settings={},O||j.video.settings.customTrack||(H=C.video)===null||H===void 0||!H.settings?D.video.settings=j.video.settings:D.video.settings=$e($e({},C.video.settings),j.video.settings),Object.keys(D.video.settings).length||delete D.video.settings):(I=C.video)!==null&&I!==void 0&&I.settings&&(D.video.settings=C.video.settings),j.video.processor?D.video.processor=j.video.processor:(q=C.video)!==null&&q!==void 0&&q.processor&&(D.video.processor=C.video.processor)}else C.video&&(D.video=C.video);if(j.audio){var K,Q,Y;D.audio={},j.audio.settings?(D.audio.settings={},O||j.audio.settings.customTrack||(Y=C.audio)===null||Y===void 0||!Y.settings?D.audio.settings=j.audio.settings:D.audio.settings=$e($e({},C.audio.settings),j.audio.settings),Object.keys(D.audio.settings).length||delete D.audio.settings):(K=C.audio)!==null&&K!==void 0&&K.settings&&(D.audio.settings=C.audio.settings),j.audio.processor?D.audio.processor=j.audio.processor:(Q=C.audio)!==null&&Q!==void 0&&Q.processor&&(D.audio.processor=C.audio.processor)}else C.audio&&(D.audio=C.audio);this._maybeUpdateInputSettings(D)}},{key:"_devicesFromInputSettings",value:function(j){var O,C,D=(j==null||(O=j.video)===null||O===void 0||(O=O.settings)===null||O===void 0?void 0:O.deviceId)||null,I=(j==null||(C=j.audio)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,q=this._preloadCache.outputDeviceId||null;return{camera:D?{deviceId:D}:{},mic:I?{deviceId:I}:{},speaker:q?{deviceId:q}:{}}}},{key:"updateInputSettings",value:(W=Ve(function*(j){var O=this;return lt(),L7(j)?j.video||j.audio?(F7(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(C,D){O.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(I){if(I.error)D(I.error);else{if(I.returnPreloadCache)return O._updatePreloadCacheInputSettings(j,!0),void C(O._getInputSettings());O._maybeUpdateInputSettings(I.inputSettings),C(O._prepInputSettingsForSharing(I.inputSettings,!0))}})})):this._getInputSettings():(console.error(DN()),Promise.reject(DN()))}),function(j){return W.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var O=j.kbs,C=j.trackConstraints;if(lt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:O,trackConstraints:C}),this}},{key:"getDailyLang",value:function(){var j=this;if(lt(),this._callMachineInitialized)return new Promise(function(O){j.sendMessageToCallMachine({action:"get-daily-lang"},function(C){delete C.action,delete C.callbackStamp,O(C)})})}},{key:"setDailyLang",value:function(j){return lt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[Ul,_o].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(U=Ve(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Ot(this._callState,"getMeetingSession()"),new Promise(function(O){j.sendMessageToCallMachine({action:"get-meeting-session"},function(C){delete C.action,delete C.callbackStamp,O(C)})})}),function(){return U.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Ot(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";aa(this._callObjectMode,"setMeetingSessionData()"),Ot(this._callState,"setMeetingSessionData");try{(function(C,D){new IUe({data:C,mergeStrategy:D})})(j,O)}catch(C){throw console.error(C),C}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:O})}catch(C){throw new Error("Error setting meeting session data: ".concat(C))}}},{key:"setUserName",value:function(j,O){var C=this;return this.properties.userName=j,new Promise(function(D){C.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:ct()||!!O&&!!O.thisMeetingOnly},function(I){delete I.action,delete I.callbackStamp,D(I)})})}},{key:"setUserData",value:(R=Ve(function*(j){var O=this;try{R7(j)}catch(C){throw console.error(C),C}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(C){try{O.sendMessageToCallMachine({action:"set-user-data",userData:j},function(D){delete D.action,delete D.callbackStamp,C(D)})}catch(D){throw new Error("Error setting user data: ".concat(D))}})}),function(j){return R.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var O=this;if(typeof AudioWorkletNode>"u"&&!ct())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(C,D){O.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(I){O._isLocalAudioLevelObserverRunning=!I.error,I.error?D({error:I.error}):C()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var O=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(C,D){O.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(I){O._isRemoteParticipantsAudioLevelObserverRunning=!I.error,I.error?D({error:I.error}):C()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(F=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(aa(this._callObjectMode,"startCamera()"),z1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(O)}catch(C){return Promise.reject(C)}else{if(this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(O),this.properties=$e($e({},this.properties),O)}return new Promise(function(C){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:Pu(j.properties,j.callClientId),preloadCache:Pu(j._preloadCache,j.callClientId)},function(D){C({camera:D.camera,mic:D.mic,speaker:D.speaker})})})}),function(){return F.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,O,C){if(C&&C.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(O&&O!=="music"&&O!=="speech"&&!(O instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(C&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(C))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return lt(),Ot(this._callState,"startCustomTrack()"),this.validateCustomTrack(O.track,O.mode,O.trackName),new Promise(function(C,D){j._sharedTracks.customTrack=O.track,O.track=Ls,j.sendMessageToCallMachine({action:"start-custom-track",properties:O},function(I){I.error?D({error:I.error}):C(I.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var O=this;return lt(),Ot(this._callState,"stopCustomTrack()"),new Promise(function(C){O.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(D){C(D.mediaTag)})})}},{key:"setCamera",value:function(j){var O=this;return Mh(),$v(this._callMachineInitialized,"setCamera()"),new Promise(function(C){O.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(D){C({device:D.device})})})}},{key:"setAudioDevice",value:(M=Ve(function*(j){return Mh(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return M.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(C){j.sendMessageToCallMachine({action:"cycle-camera",properties:O},function(D){C({device:D.device})})})}},{key:"cycleMic",value:function(){var j=this;return lt(),new Promise(function(O){j.sendMessageToCallMachine({action:"cycle-mic"},function(C){O({device:C.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return Mh(),new Promise(function(O){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(C){O(C.facingMode)})})}},{key:"setInputDevicesAsync",value:($=Ve(function*(j){var O=this,C=j.audioDeviceId,D=j.videoDeviceId,I=j.audioSource,q=j.videoSource;if(lt(),I!==void 0&&(C=I),q!==void 0&&(D=q),typeof C=="boolean"&&(this._setAllowLocalAudio(C),C=void 0),typeof D=="boolean"&&(this._setAllowLocalVideo(D),D=void 0),!C&&!D)return yield this.getInputDevices();var H={};return C&&(C instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=C,C=Ls,H.audio={settings:{customTrack:C}}):(delete this._sharedTracks.audioTrack,H.audio={settings:{deviceId:C}})),D&&(D instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=D,D=Ls,H.video={settings:{customTrack:D}}):(delete this._sharedTracks.videoTrack,H.video={settings:{deviceId:D}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(H,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(K){O.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:C,videoDeviceId:D},function(Q){if(delete Q.action,delete Q.callbackStamp,Q.returnPreloadCache)return O._updatePreloadCacheInputSettings(H,!1),void K(O._devicesFromInputSettings(O._inputSettings));K(Q)})})}),function(j){return $.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(T=Ve(function*(j){var O=this,C=j.outputDeviceId;if(lt(),!C||typeof C!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=C,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(D,I){O.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:C},function(q){if(delete q.action,delete q.callbackStamp,q.error){var H=new Error(q.error.message);return H.type=q.error.type,void I(H)}q.returnPreloadCache?D(O._devicesFromInputSettings(O._inputSettings)):D(q)})})}),function(j){return T.apply(this,arguments)})},{key:"getInputDevices",value:(P=Ve(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(O){j.sendMessageToCallMachine({action:"get-input-devices"},function(C){C.returnPreloadCache?O(j._devicesFromInputSettings(j._inputSettings)):O({camera:C.camera,mic:C.mic,speaker:C.speaker})})})}),function(){return P.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Mh(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(Mh(),[x4,t6e].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&oy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(E=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(aa(this._callObjectMode,"preAuth()"),z1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(O)),!O.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(O),this.properties=$e($e({},this.properties),O),new Promise(function(C,D){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:Pu(j.properties,j.callClientId),preloadCache:Pu(j._preloadCache,j.callClientId)},function(I){return I.error?D(I.error):I.access?(j._didPreAuth=!0,void C({access:I.access})):D(new Error("unknown error in preAuth()"))})})}),function(){return E.apply(this,arguments)})},{key:"load",value:(N=Ve(function*(j){var O=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=$e($e({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(UL),this.emitDailyJSEvent({action:IBe}),this._callObjectMode?new Promise(function(C,D){O._callObjectLoader.cancel();var I=Date.now();O._callObjectLoader.load(O.properties.dailyConfig,function(q){O._bundleLoadTime=q?"no-op":Date.now()-I,O._updateCallState(zL),q&&O.emitDailyJSEvent({action:WL}),C()},function(q,H){if(O.emitDailyJSEvent({action:RBe}),!H){O._updateCallState(_o),O.resetMeetingDependentVars();var K={action:YL,errorMsg:q.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:q,bundleUrl:hb(O.properties.dailyConfig)}}};O._maybeSendToSentry(K),O.emitDailyJSEvent(K),D(q.msg)}})}):(this._iframe.src=i7(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(C,D){O._loadedCallback=function(I){O._callState!==_o?(O._updateCallState(zL),(O.properties.cssFile||O.properties.cssText)&&O.loadCss(O.properties),C()):D(I)}}))}}),function(j){return N.apply(this,arguments)})},{key:"join",value:(k=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var C=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(O)}catch(D){return this.updateIsPreparingToJoin(!1),Promise.reject(D)}}else{if(C=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(O.token&&O.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(O.url&&!this._callObjectMode&&O.url&&O.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(O.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(O),this.properties=$e($e({},this.properties),O)}return O.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!O.showLocalVideo),O.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!O.showParticipantsBar),this._callState===ec||this._callState===PN?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(PN,!1),this.emitDailyJSEvent({action:FBe}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Pu(this.properties,this.callClientId),preloadCache:Pu(this._preloadCache,this.callClientId)}),new Promise(function(D,I){j._joinedCallback=function(q,H){if(j._callState!==_o){if(j._updateCallState(ec),q)for(var K in q){if(j._callObjectMode){var Q=j._callMachine().store;o4(q[K],Q),l4(q[K],Q),c4(q[K],j._participants[K],Q)}j._participants[K]=$e({},q[K]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}C&&j.loadCss(j.properties),D(q)}else I(H)}}))}),function(){return k.apply(this,arguments)})},{key:"leave",value:(S=Ve(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(O){j._callState===Ul||j._callState===_o?O():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(Ul),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:Ul}),O()):(j._resolveLeave=O,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=Ve(function*(){var j=this,O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if($v(this._callMachineInitialized,"startScreenShare()"),O.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",O.screenVideoSendSettings),O.mediaStream&&(this._sharedTracks.screenMediaStream=O.mediaStream,O.mediaStream=Ls),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var C=this.nativeUtils();if(yield C.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:KL,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});C.setSystemScreenCaptureStartCallback(function(){C.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:XL,captureOptions:O})}),C.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:XL,captureOptions:O})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){$v(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=j.type;if(O&&O!=="cloud"&&O!=="raw-tracks"&&O!=="local")throw new Error("invalid type: ".concat(O,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine($e({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var O=j.layout,C=O===void 0?{preset:"default"}:O,D=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:C,instanceId:D})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine($e({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine($e({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var O=j.layout,C=O===void 0?{preset:"default"}:O,D=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:C,instanceId:D})}},{key:"addLiveStreamingEndpoints",value:function(j){var O=j.endpoints,C=j.instanceId;this.sendMessageToCallMachine({action:QL,endpointsOp:CUe,endpoints:O,instanceId:C})}},{key:"removeLiveStreamingEndpoints",value:function(j){var O=j.endpoints,C=j.instanceId;this.sendMessageToCallMachine({action:QL,endpointsOp:EUe,endpoints:O,instanceId:C})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine($e({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),j7()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!O4(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var D=0;D<j.length;D++){var I=j[D];for(var q in this._validateEncodingLayerHasValidProperties(I),I)if(U1.includes(q)){if(typeof I[q]!="number")throw new Error("".concat(q," must be a number"));if(O){var H=O[q],K=H.min,Q=H.max;if(!O4(I[q],K,Q))throw new Error("".concat(q," value not in range. valid range: ").concat(K," to ").concat(Q))}}else if(!["active","scalabilityMode"].includes(q))throw new Error("Invalid key ".concat(q,", valid keys are:")+Object.values(U1));if(C&&!I.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=Ve(function*(j){var O=this,C=j.url,D=j.settings,I=D===void 0?{state:AN.PLAY}:D;try{(function(q){if(typeof q!="string")throw new Error('url parameter must be "string" type')})(C),E4(I),function(q){for(var H in q)if(!_4.includes(H))throw new Error("Invalid key ".concat(H,", valid keys are: ").concat(_4));q.simulcastEncodings&&this.validateSimulcastEncodings(q.simulcastEncodings,I7,!0)}(I)}catch(q){throw console.error("invalid argument Error: ".concat(q)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),q}return new Promise(function(q,H){O.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:C,settings:I},function(K){K.error?H({error:K.error,errorMsg:K.errorMsg}):q({session_id:K.session_id,remoteMediaPlayerState:{state:K.state,settings:K.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(y=Ve(function*(j){var O=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(C,D){O.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(I){I.error?D({error:I.error,errorMsg:I.errorMsg}):C()})})}),function(j){return y.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=Ve(function*(j){var O=this,C=j.session_id,D=j.settings;try{E4(D)}catch(I){throw console.error("invalid argument Error: ".concat(I)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),I}return new Promise(function(I,q){O.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:C,settings:D},function(H){H.error?q({error:H.error,errorMsg:H.errorMsg}):I({session_id:H.session_id,remoteMediaPlayerState:{state:H.state,settings:H.settings}})})})}),function(j){return b.apply(this,arguments)})},{key:"startTranscription",value:function(j){Ot(this._callState,"startTranscription()"),this.sendMessageToCallMachine($e({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(Ot(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(ut(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine($e({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(Ot(this._callState,"stopTranscription()"),j&&ut(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine($e({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=Ve(function*(j){var O=this;Ot(this._callState,"startDialOut()");var C=function(H){if(H){if(!Array.isArray(H))throw new Error("Error starting dial out: audio codec must be an array");if(H.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");H.forEach(function(K){if(typeof K!="string")throw new Error("Error starting dial out: audio codec must be a string");if(K!=="OPUS"&&K!=="PCMU"&&K!=="PCMA"&&K!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(H){if(H&&(C(H.audio),H.video)){if(!Array.isArray(H.video))throw new Error("Error starting dial out: video codec must be an array");if(H.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");H.video.forEach(function(K){if(typeof K!="string")throw new Error("Error starting dial out: video codec must be a string");if(K!=="H264"&&K!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&C(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(k4(j),j.permissions&&j.permissions.canReceive){var D=_n(M7.validateJSONObject(j.permissions.canReceive),2),I=D[0],q=D[1];if(!I)throw new Error(q)}if(j.provider){if(j.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(j.provider));if(j.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(H,K){O.sendMessageToCallMachine($e({action:"dialout-start"},j),function(Q){Q.error?K(Q.error):H(Q)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var O=this;return Ot(this._callState,"stopDialOut()"),new Promise(function(C,D){O.sendMessageToCallMachine($e({action:"dialout-stop"},j),function(I){I.error?D(I.error):C(I)})})}},{key:"sipCallTransfer",value:(g=Ve(function*(j){var O=this;if(Ot(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,C4(j,"sipCallTransfer"),k4(j),new Promise(function(C,D){O.sendMessageToCallMachine($e({action:ZL},j),function(I){I.error?D(I.error):C(I)})})}),function(j){return g.apply(this,arguments)})},{key:"sipRefer",value:(m=Ve(function*(j){var O=this;if(Ot(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,C4(j,"sipRefer"),new Promise(function(C,D){O.sendMessageToCallMachine($e({action:ZL},j),function(I){I.error?D(I.error):C(I)})})}),function(j){return m.apply(this,arguments)})},{key:"sendDTMF",value:(p=Ve(function*(j){var O=this;return Ot(this._callState,"sendDTMF()"),function(C){var D=C.sessionId,I=C.tones;if(!D||!I)throw new Error("sessionId and tones are mandatory parameter");if(typeof D!="string"||typeof I!="string")throw new Error("sessionId and tones should be of string type");if(I.length>20)throw new Error("tones string must be upto 20 characters");var q=/[^0-9A-D*#]/g,H=I.match(q);if(H&&H[0])throw new Error("".concat(H[0]," is not valid DTMF tone"))}(j),new Promise(function(C,D){O.sendMessageToCallMachine($e({action:"send-dtmf"},j),function(I){I.error?D(I.error):C(I)})})}),function(j){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==ec?Promise.resolve($e({stats:{latest:{}}},this._network)):new Promise(function(O){j.sendMessageToCallMachine({action:"get-calc-stats"},function(C){O($e($e({},j._network),{},{stats:C.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=Ve(function*(){var j=this;if(V1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(O){return Promise.reject(O)}return new Promise(function(O,C){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(D){D.error?C(D.error):O(D.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!JUe(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=Ve(function*(){var j=this;lt(),aa(this._callObjectMode,"testCallQuality()"),$v(this._callMachineInitialized,"testCallQuality()",null,!0),z1(this._callState,this._isPreparingToJoin,"testCallQuality()");var O=this._testCallAlreadyInProgress,C=function(I){O||(j._testCallInProgress=I)};if(C(!0),this.needsLoad())try{var D=this._callState;yield this.load(),this._callState=D}catch(I){return C(!1),Promise.reject(I)}return new Promise(function(I){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(q){var H=q.results,K=H.result,Q=ID(H,ZUe);if(K==="failed"){var Y,ye=$e({},Q);(Y=Q.error)!==null&&Y!==void 0&&Y.details?(Q.error.details=JSON.parse(Q.error.details),ye.error=$e($e({},ye.error),{},{details:$e({},ye.error.details)}),ye.error.details.duringTest="testCallQuality"):(ye.error=ye.error?$e({},ye.error):{},ye.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(ye)}C(!1),I($e({result:K},Q))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Ve(function*(j){var O;ct()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),O=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),O=yield this.testCallQuality());var C={result:O.result,secondsElapsed:O.secondsElapsed};return O.data&&(C.data={maxRTT:O.data.maxRoundTripTime,packetLoss:O.data.avgRecvPacketLoss}),C}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Ve(function*(j){var O=this;if(V1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(I){return Promise.reject(I)}var C=j.videoTrack,D=j.duration;if(!this._validateVideoTrackForNetworkTests(C))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=C,new Promise(function(I,q){O.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:D},function(H){H.error?q(H.error):I(H.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ct()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Ve(function*(j){var O=this;if(V1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(C,D){O.sendMessageToCallMachine({action:"test-network-connectivity"},function(I){I.error?D(I.error):C(I.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(O){j._callState===ec?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(C){O(C.cpuStats)}):O({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var O;if(!(((O=Object.keys(j))===null||O===void 0?void 0:O.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(U1))}},{key:"_validateVideoSendSettings",value:function(j,O){var C=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],D="Video send settings should be either an object or one of the supported presets: ".concat(C.join());if(typeof O=="string"){if(!C.includes(O))throw new Error(D)}else{if(ut(O)!=="object")throw new Error(D);if(!O.maxQuality&&!O.encodings&&O.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(O.maxQuality&&["low","medium","high"].indexOf(O.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(O.encodings){var I=!1;switch(Object.keys(O.encodings).length){case 1:I=!O.encodings.low;break;case 2:I=!O.encodings.low||!O.encodings.medium;break;case 3:I=!O.encodings.low||!O.encodings.medium||!O.encodings.high;break;default:I=!0}if(I)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");O.encodings.low&&this._validateEncodingLayerHasValidProperties(O.encodings.low),O.encodings.medium&&this._validateEncodingLayerHasValidProperties(O.encodings.medium),O.encodings.high&&this._validateEncodingLayerHasValidProperties(O.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var O=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(C){var D=_n(C,2),I=D[0],q=D[1];O._validateVideoSendSettings(I,q)})}},{key:"updateSendSettings",value:function(j){var O=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(C,D){O.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(I){I.error?D(I.error):C(I.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return lt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return lt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return lt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return Ot(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(o=Ve(function*(){var j=this;if(this._callObjectMode){var O=yield navigator.mediaDevices.enumerateDevices();return Kc()==="Firefox"&&xb().major>115&&xb().major<123&&(O=O.filter(function(C){return C.kind!=="audiooutput"})),{devices:O.map(function(C){var D=JSON.parse(JSON.stringify(C));if(!ct()&&C.kind==="videoinput"&&C.getCapabilities){var I,q=C.getCapabilities();D.facing=(q==null||(I=q.facingMode)===null||I===void 0?void 0:I.length)>=1?q.facingMode[0]:void 0}return D})}}return new Promise(function(C){j.sendMessageToCallMachine({action:"enumerate-devices"},function(D){C({devices:D.devices})})})}),function(){return o.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Ot(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:O}),this}},{key:"addFakeParticipant",value:function(j){return lt(),Ot(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine($e({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return ti(this._callObjectMode,"setShowNamesMode()"),lt(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ti(this._callObjectMode,"setShowLocalVideo()"),lt(),Ot(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return ti(this._callObjectMode,"showLocalVideo()"),lt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ti(this._callObjectMode,"setShowParticipantsBar()"),lt(),Ot(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return ti(this._callObjectMode,"showParticipantsBar()"),lt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return lt(),ti(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return lt(),ti(this._callObjectMode,"setCustomIntegrations()"),Ot(this._callState,"setCustomIntegrations()"),V7(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var O=this;if(lt(),ti(this._callObjectMode,"startCustomIntegrations()"),Ot(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(I){return typeof I!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var C=typeof j=="string"?[j]:j,D=C.filter(function(I){return!(I in O._customIntegrations)});return D.length?(console.error(`Can't find custom integration(s): "`.concat(D.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:C}),this)}},{key:"stopCustomIntegrations",value:function(j){var O=this;if(lt(),ti(this._callObjectMode,"stopCustomIntegrations()"),Ot(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(I){return typeof I!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var C=typeof j=="string"?[j]:j,D=C.filter(function(I){return!(I in O._customIntegrations)});return D.length?(console.error(`Can't find custom integration(s): "`.concat(D.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:C}),this)}},{key:"customTrayButtons",value:function(){return ti(this._callObjectMode,"customTrayButtons()"),lt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return ti(this._callObjectMode,"updateCustomTrayButtons()"),lt(),Ot(this._callState,"updateCustomTrayButtons()"),z7(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(wb))),this)}},{key:"theme",value:function(){return ti(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var O=this;return ti(this._callObjectMode,"setTheme()"),new Promise(function(C,D){try{O.validateProperties({theme:j}),O.properties.theme=$e({},j),O.sendMessageToCallMachine({action:"set-theme",theme:O.properties.theme});try{O.emitDailyJSEvent({action:$Be,theme:O.properties.theme})}catch(I){console.log("could not emit 'theme-updated'",I)}C(O.properties.theme)}catch(I){D(I)}})}},{key:"requestFullscreen",value:(s=Ve(function*(){if(lt(),this._iframe&&!document.fullscreenElement&&e4())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){lt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(a=Ve(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(O){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(C){O(C.view)})})}),function(){return a.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(i=Ve(function*(){var j=this,O=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,C=O===void 0||O;return this._accessState.access===$1||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(D){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:C},function(I){delete I.action,delete I.callbackStamp,D(I)})})}),function(){return i.apply(this,arguments)})},{key:"geo",value:(n=Ve(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(O){return console.error("geo lookup failed",O),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Ve(function*(j){var O=this;return lt(),Ot(this._callState,"setNetworkTopology()"),new Promise(function(C,D){O.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(I){I.error?D({error:I.error}):C({workerId:I.workerId})})})}),function(j){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Ve(function*(){var j=this;return new Promise(function(O,C){j.needsLoad()&&O({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(D){D.error?C({error:D.error}):O({topology:D.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(lt(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,O){return wv.prototype.on.call(this,j,O)}},{key:"once",value:function(j,O){return wv.prototype.once.call(this,j,O)}},{key:"off",value:function(j,O){return wv.prototype.off.call(this,j,O)}},{key:"validateProperties",value:function(j){var O,C;if(j!=null&&(O=j.dailyConfig)!==null&&O!==void 0&&O.userMediaAudioConstraints){var D,I;ct()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var q=j.inputSettings||{};q.audio=((D=j.inputSettings)===null||D===void 0?void 0:D.audio)||{},q.audio.settings=((I=j.inputSettings)===null||I===void 0||(I=I.audio)===null||I===void 0?void 0:I.settings)||{},q.audio.settings=$e($e({},q.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=q,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(C=j.dailyConfig)!==null&&C!==void 0&&C.userMediaVideoConstraints){var H,K;ct()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var Q=j.inputSettings||{};Q.video=((H=j.inputSettings)===null||H===void 0?void 0:H.video)||{},Q.video.settings=((K=j.inputSettings)===null||K===void 0||(K=K.video)===null||K===void 0?void 0:K.settings)||{},Q.video.settings=$e($e({},Q.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=Q,delete j.dailyConfig.userMediaVideoConstraints}for(var Y in j)if(Vl[Y]){if(Vl[Y].validate&&!Vl[Y].validate(j[Y],this))throw new Error("property '".concat(Y,"': ").concat(Vl[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete j[Y]}},{key:"assembleMeetingUrl",value:function(){var j,O,C=$e($e({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((O=this.properties.dailyConfig)===null||O===void 0?void 0:O.proxyUrl):void 0}),D=C.url.match(/\?/)?"&":"?";return C.url+D+Object.keys(Vl).filter(function(I){return Vl[I].queryString&&C[I]!==void 0}).map(function(I){return"".concat(Vl[I].queryString,"=").concat(C[I])}).join("&")}},{key:"needsLoad",value:function(){return[BL,UL,Ul,_o].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,O){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,O,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case TBe:this.sendMessageToCallMachine($e({action:MBe},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var O={action:Av,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:hb(this.properties.dailyConfig)}};this.sendMessageToCallMachine(O),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case WL:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case BBe:var C,D=$e({},j);delete D.internal,this._maxAppMessageSize=((C=j.internal)===null||C===void 0?void 0:C._maxAppMessageSize)||I1,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(D);break;case zBe:case VBe:if(this._callState===Ul)return;if(j.participant&&j.participant.session_id){var I=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var q=this._callMachine().store;o4(j.participant,q),l4(j.participant,q),c4(j.participant,this._participants[I],q)}try{this.maybeParticipantTracksStopped(this._participants[I],j.participant),this.maybeParticipantTracksStarted(this._participants[I],j.participant),this.maybeEventRecordingStopped(this._participants[I],j.participant),this.maybeEventRecordingStarted(this._participants[I],j.participant)}catch(ae){console.error("track events error",ae)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[I])||(this._participants[I]=$e({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case WBe:if(j.participant&&j.participant.session_id){var H=this._participants[j.participant.session_id];H&&this.maybeParticipantTracksStopped(H,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case HBe:Pn(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case qBe:var K={access:j.access};j.awaitingAccess&&(K.awaitingAccess=j.awaitingAccess),Pn(this._accessState,K)||(this._accessState=K,this.emitDailyJSEvent(j));break;case GBe:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var Q=$e($e({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(Q)}break;case YL:var Y;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(_o),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var ye=ID(j,e6e);ye!=null&&(Y=ye.error)!==null&&Y!==void 0&&Y.details&&(ye.error.details=JSON.parse(ye.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,ye),this._joinedCallback=null),this.emitDailyJSEvent(ye);break;case UBe:this._callState!==_o&&this._updateCallState(Ul),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case vUe:var Ae=j.state,tt=j.threshold,nt=j.quality,Je=Ae.state,wt=Ae.reasons;Je===this._network.networkState&&Pn(wt,this._network.networkStateReasons)&&tt===this._network.threshold&&nt===this._network.quality||(this._network.networkState=Je,this._network.networkStateReasons=wt,this._network.quality=nt,this._network.threshold=tt,j.networkState=Je,wt.length&&(j.networkStateReasons=wt),delete j.state,this.emitDailyJSEvent(j));break;case xUe:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case bUe:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case mUe:var rr=j.activeSpeaker;this._activeSpeaker.peerId!==rr.peerId&&(this._activeSpeaker.peerId=rr.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var dn=j.show;this._showLocalVideo=dn,this.emitDailyJSEvent({action:j.action,show:dn});break;case gUe:var V=j.enabled;this._activeSpeakerMode!==V&&(this._activeSpeakerMode=V,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case YBe:case JBe:case XBe:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case NUe:Pn(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case GL:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":Pn(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case cUe:var J=j.session_id;this._rmpPlayerState[J]=j.playerState,this.emitDailyJSEvent(j);break;case dUe:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case uUe:var Z=j.session_id,ve=this._rmpPlayerState[Z];ve&&this.compareEqualForRMPUpdateEvent(ve,j.remoteMediaPlayerState)||(this._rmpPlayerState[Z]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case KBe:var de=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=W1(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||de)&&this.emitDailyJSEvent(j);break;case fUe:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case hUe:case pUe:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case HL:case qL:case nUe:case iUe:case aUe:case eUe:case tUe:case rUe:case DBe:case LBe:case oUe:case lUe:case"test-completed":case yUe:case sUe:case wUe:case _Ue:case SUe:case jUe:case KL:case kUe:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,O){var C="record";j&&(O.local||O[C]!==!1||j[C]===O[C]||this.emitDailyJSEvent({action:qL}))}},{key:"maybeEventRecordingStarted",value:function(j,O){var C="record";j&&(O.local||O[C]!==!0||j[C]===O[C]||this.emitDailyJSEvent({action:HL}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==CBe)}},{key:"_trackChanged",value:function(j,O){return(j==null?void 0:j.id)!==(O==null?void 0:O.id)}},{key:"maybeEventTrackStopped",value:function(j,O,C){var D,I,q=(D=O==null?void 0:O.tracks[j])!==null&&D!==void 0?D:null,H=(I=C==null?void 0:C.tracks[j])!==null&&I!==void 0?I:null,K=q==null?void 0:q.track;if(K){var Q=this._trackStatePlayable(q),Y=this._trackStatePlayable(H),ye=this._trackChanged(K,H==null?void 0:H.track);Q&&(Y&&!ye||this.emitDailyJSEvent({action:ZBe,track:K,participant:C??O,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,O,C){var D,I,q=(D=O==null?void 0:O.tracks[j])!==null&&D!==void 0?D:null,H=(I=C==null?void 0:C.tracks[j])!==null&&I!==void 0?I:null,K=H==null?void 0:H.track;if(K){var Q=this._trackStatePlayable(q),Y=this._trackStatePlayable(H),ye=this._trackChanged(q==null?void 0:q.track,K);Y&&(Q&&!ye||this.emitDailyJSEvent({action:QBe,track:K,participant:C,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,O){if(j)for(var C in j.tracks)this.maybeEventTrackStopped(C,j,O)}},{key:"maybeParticipantTracksStarted",value:function(j,O){if(O)for(var C in O.tracks)this.maybeEventTrackStarted(C,j,O)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,O){var C,D;return j.state===O.state&&((C=j.settings)===null||C===void 0?void 0:C.volume)===((D=O.settings)===null||D===void 0?void 0:D.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(O){console.log("could not emit",j,O)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,O){return!!Pn(j,O)&&(!j.videoTrack||!O.videoTrack||j.videoTrack.id===O.videoTrack.id&&j.videoTrack.muted===O.videoTrack.muted&&j.videoTrack.enabled===O.videoTrack.enabled)&&(!j.audioTrack||!O.audioTrack||j.audioTrack.id===O.audioTrack.id&&j.audioTrack.muted===O.audioTrack.muted&&j.audioTrack.enabled===O.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return ct()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||O!==this._isPreparingToJoin){var C=this._callState,D=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=O;var I=this._callState===ec;this.updateShowAndroidOngoingMeetingNotification(I);var q=oy(C,D),H=oy(this._callState,this._isPreparingToJoin);q!==H&&(this.updateKeepDeviceAwake(H),this.updateDeviceAudioMode(H),this.updateNoOpRecordingEnsuringBackgroundContinuity(H))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=w4,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:$1},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=W1(b4,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=I1,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){ct()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(ct()&&!this.disableReactNativeAutoDeviceManagement("audio")){var O=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(O)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(ct()&&this.nativeUtils().setShowOngoingMeetingNotification){var O,C,D,I;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var q=this.properties.reactNativeConfig.androidInCallNotification;O=q.title,C=q.subtitle,D=q.iconName,I=q.disableForCustomOverride}I&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,O,C,D,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){ct()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(ct()){var O=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var C in O==null?void 0:O.streams){var D=O.streams[C];D&&D.pendingTrack&&D.pendingTrack.kind==="audio"&&(D.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var O=document.createElement("a");return O.href=j,O.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(zl)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var O={action:Av,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(O)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var C={action:Av,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(C,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,O=Object.values(zl);j<O.length;j++){var C=O[j];C._callMachineInitialized?(C.sendMessageToCallMachine({action:Av,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),C._delayDuplicateInstanceLog=!1):C._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var O,C,D,I;if(!((O=j.error)!==null&&O!==void 0&&O.type&&(![ABe,PBe,VL].includes(j.error.type)||j.error.type===VL&&j.error.msg.includes("deleted")))){var q=(C=this.properties)!==null&&C!==void 0&&C.url?new URL(this.properties.url):void 0,H="production";q&&q.host.includes(".staging.daily")&&(H="staging");var K,Q,Y,ye,Ae,tt=function(J){const Z=[G5e(),H5e(),xBe(),vBe(),jBe(),NBe(),X5e(),kBe()];return J.autoSessionTracking!==!1&&Z.push(SBe()),Z}({}).filter(function(J){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(J.name)}),nt=new aBe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:uBe,stackParser:gBe,integrations:tt,environment:H}),Je=new gl;if(Je.setClient(nt),nt.init(),this.session_id&&Je.setExtra("sessionId",this.session_id),this.properties){var wt=$e({},this.properties);wt.userName=wt.userName?"[Filtered]":void 0,wt.userData=wt.userData?"[Filtered]":void 0,wt.token=wt.token?"[Filtered]":void 0,Je.setExtra("properties",wt)}if(q){var rr=q.searchParams.get("domain");if(!rr){var dn=q.host.match(/(.*?)\./);rr=dn&&dn[1]||""}rr&&Je.setTag("domain",rr)}j.error&&(Je.setTag("fatalErrorType",j.error.type),Je.setExtra("errorDetails",j.error.details),!((K=j.error.details)===null||K===void 0)&&K.uri&&Je.setTag("serverAddress",j.error.details.uri),!((Q=j.error.details)===null||Q===void 0)&&Q.workerGroup&&Je.setTag("workerGroup",j.error.details.workerGroup),!((Y=j.error.details)===null||Y===void 0)&&Y.geoGroup&&Je.setTag("geoGroup",j.error.details.geoGroup),!((ye=j.error.details)===null||ye===void 0)&&ye.on&&Je.setTag("connectionAttempt",j.error.details.on),(Ae=j.error.details)!==null&&Ae!==void 0&&Ae.bundleUrl&&(Je.setTag("bundleUrl",j.error.details.bundleUrl),Je.setTag("bundleError",j.error.details.sourceError.type))),Je.setTags({callMode:this._callObjectMode?ct()?"reactNative":(D=this.properties)!==null&&D!==void 0&&(D=D.dailyConfig)!==null&&D!==void 0&&(D=D.callMode)!==null&&D!==void 0&&D.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var V=((I=j.error)===null||I===void 0?void 0:I.msg)||j.errorMsg;Je.captureException(new Error(V))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!Pn(this._inputSettings,j)){var O=this._getInputSettings();this._inputSettings=j;var C=this._getInputSettings();Pn(O,C)||this.emitDailyJSEvent({action:GL,inputSettings:C})}}}],[{key:"supportedBrowser",value:function(){if(ct())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=h5e.getParser(Gi());return{supported:!!L1(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!e4(),supportsScreenShare:!!OUe(),supportsSfu:!!L1(),supportsVideoProcessing:_7(),supportsAudioProcessing:S7()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(lt(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return O.layout||(O.customLayout?O.layout="custom-v1":O.layout="browser"),new e(j,O)}},{key:"createFrame",value:function(j,O){var C,D;lt(),j&&O?(C=j,D=O):j&&j.append?(C=j,D={}):(C=document.body,D=j||{});var I=D.iframeStyle;I||(I=C===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var q=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?q.allow="microphone, camera":q.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",q.style.visibility="hidden",C.appendChild(q),q.style.visibility=null,Object.keys(I).forEach(function(H){return q.style[H]=I[H]}),D.layout||(D.customLayout?D.layout="custom-v1":D.layout="browser");try{return new e(q,D)}catch(H){throw C.removeChild(q),H}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lt();var O=document.createElement("iframe");return O.allow="microphone; camera; autoplay",O.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(O),j.layout||(j.layout="custom-v1"),e.wrap(O,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?zl[j]:Object.values(zl)[0]}}]);var t,r,n,i,a,s,o,c,u,d,f,h,p,m,g,v,b,y,w,_,S,k,N,E,P,T,$,M,F,R,U,W,z,L,B,G,te,X}();function k4(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Pu(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=Ls;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function Ot(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==ec){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function oy(e,t){return[PN,ec].includes(e)||t}function z1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(oy(e,t)){var i="".concat(r," not supported after joining a meeting.");throw n&&(i+=" ".concat(n)),console.error(i),new Error(i)}}function $v(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function V1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function aa(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ti(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function lt(){if(ct())throw new Error("This daily-js method is not currently supported in React Native")}function Mh(){if(!ct())throw new Error("This daily-js method is only supported in React Native")}function R7(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),Pn(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function D7(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},i=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},a=function(f){return!!f&&!(f.video&&!i(f.video))&&!(f.screenVideo&&!i(f.screenVideo))},s=0,o=Object.entries(e);s<o.length;s++){var c=_n(o[s],2),u=c[0],d=c[1];if(!n(u)||!a(d))return!1}return!0}function L7(e){if(ut(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=_n(r[t],2),i=n[0],a=n[1];switch(i){case"video":if(ut(a)!=="object")return!1;for(var s=0,o=Object.entries(a);s<o.length;s++){var c=_n(o[s],2),u=c[0],d=c[1];switch(u){case"processor":if(!n6e(d))return!1;break;case"settings":if(!N4(d))return!1;break;default:return!1}}break;case"audio":if(ut(a)!=="object")return!1;for(var f=0,h=Object.entries(a);f<h.length;f++){var p=_n(h[f],2),m=p[0],g=p[1];switch(m){case"processor":if(!r6e(g))return!1;break;case"settings":if(!N4(g))return!1;break;default:return!1}}break;default:return!1}}return!0}function F7(e,t,r){var n,i=[];e.video&&e.video.processor&&(_7((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,i.push("video"))),e.audio&&e.audio.processor&&(S7()||(e.audio.settings?delete e.audio.processor:delete e.audio,i.push("audio"))),i.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(i.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:Ls}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:Ls}):delete r.videoTrack)}function r6e(e){if(ct())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&ut(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(b7).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function n6e(e){if(ct())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||ut(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(sy).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(ut(e.config)!=="object"||!function(r,n){var i=Object.keys(n);if(i.length===0)return!0;var a="invalid object in inputSettings -> video -> processor -> config";switch(r){case sy.BGBLUR:return i.length>1||i[0]!=="strength"?(console.error(a),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(a,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case sy.BGIMAGE:return!(n.source!==void 0&&!function(s){if(s.source==="default")return s.type="default",!0;if(s.source instanceof ArrayBuffer)return!0;if(pb(s.source))return s.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return D1.includes(h)}catch(m){return console.error("failed to deduce blob content type",m),!1}var p=f.split(".").at(-1).toLowerCase().trim();return D1.includes(p)}(s.source)||(console.error("invalid image type; supported types: [".concat(D1.join(", "),"]")),!1);return o=s.source,c=Number(o),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(s.type="daily-preselect",!0);var o,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function N4(e){return ut(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function DN(){var e=Object.values(sy).join(" | "),t=Object.values(b7).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function B7(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(OBe).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function U7(){return"customIntegrations should be an object of type ".concat(JSON.stringify(RN),".")}function z7(e){if(e&&ut(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(wb),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=_n(r[t],1)[0],i=0,a=Object.entries(e[n]);i<a.length;i++){var s=_n(a[i],2),o=s[0],c=s[1],u=wb.id[o];if(!u)return console.error("customTrayButton does not support key ".concat(o)),!1;switch(o){case"iconPath":case"iconPathDarkMode":if(!pb(c))return console.error("customTrayButton ".concat(o," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(o," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(ut(c)!==u)return console.error("customTrayButton ".concat(o," should be a ").concat(u,".")),!1}}return!0}function V7(e){if(!e||e&&ut(e)!=="object"||Array.isArray(e))return console.error(U7()),!1;for(var t=function(f){return"".concat(f," should be ").concat(RN.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,i=Object.entries(e);n<i.length;n++){var a=_n(i[n],1)[0];if(!("label"in e[a]))return r(a,"label is required"),!1;if(!("location"in e[a]))return r(a,"location is required"),!1;if(!("src"in e[a])&&!("srcdoc"in e[a]))return r(a,"src or srcdoc is required"),!1;for(var s=0,o=Object.entries(e[a]);s<o.length;s++){var c=_n(o[s],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(a,t(u)),!1;break;case"iconURL":if(!pb(d))return r(a,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if(!pb(d))return r(a,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(a,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(a,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(a,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(a,t(u)),!1;break;default:if(!RN.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function W7(e,t){if(t===void 0)return!1;switch(ut(t)){case"string":return ut(e)===t;case"object":if(ut(e)!=="object")return!1;for(var r in e)if(!W7(e[r],t[r]))return!1;return!0;default:return!1}}function C4(e,t){var r=e.sessionId,n=e.toEndPoint,i=e.callerId,a=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(a&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(i&&typeof i!="string")throw new Error("callerId must be of type string");if(i&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function E4(e){if(ut(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(AN).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(AN));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function O4(e,t,r){return!(typeof e!="number"||e<t||e>r)}function W1(e,t){return e&&!t&&delete e.data,e}const i6e=()=>{const[e]=$B(),t=kn(),{user:r,profile:n,role:i}=Er(),a=e.get("appointment"),[s,o]=x.useState(!0),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,p]=x.useState(null),[m,g]=x.useState(null),[v,b]=x.useState(null),[y,w]=x.useState(!1),[_,S]=x.useState(!1),k=x.useRef(null),N=x.useRef(null);x.useEffect(()=>{(async()=>{if(!a||!r){f("No appointment specified"),o(!1);return}try{const{data:F,error:R}=await Ne.from("appointments").select("*").eq("id",a).single();if(R||!F){f("Appointment not found"),o(!1);return}const U=F.patient_id===r.id,W=F.clinician_id===r.id,z=i&&["admin","receptionist"].includes(i);if(!U&&!W&&!z){f("You are not authorized to join this consultation"),o(!1);return}const[L,B]=await Promise.all([Ne.from("profiles").select("first_name, last_name").eq("id",F.patient_id).single(),Ne.from("profiles").select("first_name, last_name").eq("id",F.clinician_id).single()]);p({...F,patient_name:L.data?`${L.data.first_name} ${L.data.last_name}`.trim():"Patient",clinician_name:B.data?`${B.data.first_name} ${B.data.last_name}`.trim():"Clinician"});const G=await J2.createRoom(a),te=n?`${n.first_name} ${n.last_name}`.trim():i==="patient"?"Patient":"Clinician",X=await J2.createToken(G.room_name,te,i!=="patient");g(X.room_url),b(X.token),F.status!=="in_progress"&&await Ne.from("appointments").update({status:"in_progress"}).eq("id",a)}catch(F){console.error("Error setting up video call:",F),f(F.message||"Failed to set up video consultation")}finally{o(!1)}})()},[a,r,n,i]),x.useEffect(()=>()=>{N.current&&(N.current.destroy(),N.current=null)},[]);const E=x.useCallback(async()=>{if(!(!m||!v)){if(u(!0),await new Promise(M=>setTimeout(M,100)),!k.current){f("Video container not ready"),u(!1);return}try{const M=j4.getCallInstance();M&&await M.destroy();const F=j4.createFrame(k.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});N.current=F,F.on("joined-meeting",()=>{console.log("Joined Daily meeting"),ge.success("Connected to consultation"),w(!0),u(!1)}),F.on("left-meeting",()=>{console.log("Left Daily meeting"),P()}),F.on("error",R=>{console.error("Daily error:",R),ge.error("Video call error occurred"),f("Video call error: "+((R==null?void 0:R.errorMsg)||"Unknown error")),w(!1),u(!1)}),F.on("participant-joined",R=>{var U,W;console.log("Participant joined:",(U=R==null?void 0:R.participant)==null?void 0:U.user_name),(W=R==null?void 0:R.participant)!=null&&W.user_name&&ge.info(`${R.participant.user_name} joined the call`)}),F.on("participant-left",R=>{var U,W,z;console.log("Participant left:",(U=R==null?void 0:R.participant)==null?void 0:U.user_name),(W=R==null?void 0:R.participant)!=null&&W.user_name&&!((z=R==null?void 0:R.participant)!=null&&z.local)&&ge.info(`${R.participant.user_name} left the call`)}),await F.join({url:m,token:v})}catch(M){console.error("Failed to join Daily call:",M),f("Failed to join video call: "+(M.message||"Unknown error")),ge.error("Failed to join video call"),u(!1)}}},[m,v]),P=async()=>{if(N.current){try{await N.current.destroy()}catch(M){console.error("Error destroying call frame:",M)}N.current=null}w(!1),S(!0),h&&await Ne.from("appointments").update({status:"completed"}).eq("id",h.id)},T=async()=>{if(N.current)try{await N.current.leave()}catch(M){console.error("Error leaving call:",M)}u(!1),P()},$=()=>{t(i==="patient"?"/dashboard":i==="nurse"||i==="doctor"?"/clinician":"/")};return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx(Lr,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),l.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs(se,{className:"max-w-md w-full",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx(If,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),l.jsx(we,{children:"Unable to Join"}),l.jsx(Ie,{children:d})]}),l.jsx(fe,{children:l.jsxs(ee,{onClick:$,className:"w-full",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:l.jsxs(se,{className:"max-w-md w-full",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx(qt,{className:"w-12 h-12 text-primary mx-auto mb-2"}),l.jsx(we,{children:"Consultation Ended"}),l.jsx(Ie,{children:"Your video consultation has ended successfully."})]}),l.jsxs(fe,{className:"space-y-4",children:[i!=="patient"&&l.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>t(`/clinical-notes?appointment=${a}`),children:"Complete Clinical Notes"}),l.jsxs(ee,{onClick:$,className:"w-full",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):y||c?l.jsxs("div",{className:"fixed inset-0 bg-black",children:[l.jsx("div",{ref:k,className:"w-full h-full",style:{position:"relative"}}),c&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-40",children:l.jsxs("div",{className:"text-center text-white",children:[l.jsx(Lr,{className:"w-12 h-12 animate-spin mx-auto mb-4"}),l.jsx("p",{children:"Connecting to consultation..."})]})}),l.jsxs(ee,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:T,children:[l.jsx(zC,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:l.jsxs(se,{className:"max-w-lg w-full",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx(qt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),l.jsx(we,{className:"text-2xl",children:"Ready to Join?"}),l.jsx(Ie,{children:i==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xt,{className:"w-5 h-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),l.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xr,{className:"w-5 h-5 text-muted-foreground"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:i==="patient"?"Clinician":"Patient"}),l.jsx("p",{className:"font-medium",children:i==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[l.jsx("p",{children:"Before joining, please ensure:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[l.jsx("li",{children:"You're in a quiet, private location"}),l.jsx("li",{children:"Your camera and microphone are working"}),l.jsx("li",{children:"You have a stable internet connection"})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(Ce,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs(ee,{size:"lg",onClick:E,className:"w-full",children:[l.jsx(qt,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),l.jsxs(ee,{variant:"outline",onClick:$,className:"w-full",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},a6e=()=>l.jsx(i6e,{}),s6e=()=>{const[e,t]=x.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=x.useRef(null),n=x.useRef(null),i=x.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),a=x.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),p=document.createElement("video");p.srcObject=d,p.muted=!0,p.play(),r.current=p;const m=()=>{h&&p.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(p,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(m)};m();const g=f.captureStream(30),v=d.getAudioTracks()[0];return v&&g.addTrack(v.clone()),g},[]),s=x.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=a(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[a]),o=x.useCallback(async()=>{i(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[i]),c=x.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=x.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return x.useEffect(()=>()=>{i()},[i]),{...e,startCall:s,endCall:o,toggleMute:c,toggleVideo:u}},H1=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:i="Participant",className:a=""})=>{const s=x.useRef(null);x.useEffect(()=>{s.current&&e&&(s.current.srcObject=e)},[e]);const o=i.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?l.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${a}`,children:[l.jsxs("div",{className:"text-center",children:[l.jsx(g0,{className:"w-24 h-24 mx-auto mb-4",children:l.jsx(v0,{className:"bg-primary/20 text-primary text-2xl",children:o||l.jsx(Xr,{className:"w-12 h-12"})})}),n&&l.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[l.jsx(zC,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&l.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):l.jsxs("div",{className:`relative bg-black ${a}`,children:[l.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&l.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&i&&l.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:i})]})},o6e=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:i,isConnected:a})=>l.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[l.jsx(ee,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?l.jsx(YJ,{className:"w-6 h-6"}):l.jsx(JJ,{className:"w-6 h-6"})}),l.jsx(ee,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?l.jsx(zC,{className:"w-6 h-6"}):l.jsx(qt,{className:"w-6 h-6"})}),l.jsx(ee,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:i,title:"End call",children:l.jsx(eX,{className:"w-6 h-6"})})]}),l6e=()=>{const e=kn(),[t,r]=x.useState(0),[n,i]=x.useState(!1),[a,s]=x.useState(!0),{localStream:o,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:p,startCall:m,endCall:g,toggleMute:v,toggleVideo:b}=s6e();x.useEffect(()=>{let k;return u&&(k=setInterval(()=>{r(N=>N+1)},1e3)),()=>clearInterval(k)},[u]);const y=k=>{const N=Math.floor(k/60),E=k%60;return`${N.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`},w=async()=>{await m(),p||(s(!1),ge.success("Demo consultation started!"))},_=async()=>{await g(),ge.info("Demo ended"),e(-1)},S=()=>{document.fullscreenElement?(document.exitFullscreen(),i(!1)):(document.documentElement.requestFullscreen(),i(!0))};return a&&!u?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:l.jsxs(se,{className:"w-full max-w-2xl",children:[l.jsxs(xe,{className:"text-center",children:[l.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:l.jsxs(Ce,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[l.jsx(_i,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),l.jsx(we,{className:"text-2xl",children:"Video Consultation Demo"}),l.jsx(Ie,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:o?l.jsx(H1,{stream:o,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):l.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[l.jsx(qt,{className:"w-12 h-12 mb-2 opacity-50"}),l.jsx("p",{children:"Camera preview will appear here"})]})}),l.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[l.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),l.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[l.jsx("li",{children:" Camera and microphone access"}),l.jsx("li",{children:" Video/audio mute controls"}),l.jsx("li",{children:" Picture-in-picture layout"}),l.jsx("li",{children:" Fullscreen mode"}),l.jsx("li",{children:" Call duration timer"})]})]}),p&&l.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:p}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs(ee,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back"]}),l.jsx(ee,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):l.jsxs(l.Fragment,{children:[l.jsx(UC,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):l.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[l.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[l.jsxs(ee,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(Ce,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[l.jsx(_i,{className:"w-3 h-3 mr-1"}),"Demo"]}),l.jsxs(Ce,{variant:"secondary",className:"bg-white/20 text-white",children:[l.jsx(Xt,{className:"w-3 h-3 mr-1"}),y(t)]}),l.jsx(ee,{variant:"ghost",size:"sm",onClick:S,className:"text-white",children:n?l.jsx(XJ,{className:"w-4 h-4"}):l.jsx(KJ,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(H1,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),l.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:l.jsx(H1,{stream:o,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),l.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:l.jsx(o6e,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},c6e=()=>l.jsx(l6e,{});var Pw="Checkbox",[u6e]=un(Pw),[d6e,IP]=u6e(Pw);function f6e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:a,form:s,name:o,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=Ea({prop:r,defaultProp:i??!1,onChange:c,caller:Pw}),[m,g]=x.useState(null),[v,b]=x.useState(null),y=x.useRef(!1),w=m?!!s||!!m.closest("form"):!0,_={checked:h,disabled:a,setChecked:p,control:m,setControl:g,name:o,form:s,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:ol(i)?!1:i,isFormControl:w,bubbleInput:v,setBubbleInput:b};return l.jsx(d6e,{scope:t,..._,children:h6e(f)?f(_):n})}var H7="CheckboxTrigger",q7=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:a,value:s,disabled:o,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:m}=IP(H7,e),g=ze(i,d),v=x.useRef(c);return x.useEffect(()=>{const b=a==null?void 0:a.form;if(b){const y=()=>f(v.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[a,f]),l.jsx(Oe.button,{type:"button",role:"checkbox","aria-checked":ol(c)?"mixed":c,"aria-required":u,"data-state":X7(c),"data-disabled":o?"":void 0,disabled:o,value:s,...n,ref:g,onKeyDown:oe(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:oe(r,b=>{f(y=>ol(y)?!0:!y),m&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});q7.displayName=H7;var RP=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:s,disabled:o,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(f6e,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:o,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(q7,{...f,ref:t,__scopeCheckbox:r}),h&&l.jsx(J7,{__scopeCheckbox:r})]})})});RP.displayName=Pw;var G7="CheckboxIndicator",K7=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=IP(G7,r);return l.jsx(Fr,{present:n||ol(a.checked)||a.checked===!0,children:l.jsx(Oe.span,{"data-state":X7(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});K7.displayName=G7;var Y7="CheckboxBubbleInput",J7=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:s,required:o,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=IP(Y7,e),m=ze(r,p),g=s0(a),v=Gb(n);x.useEffect(()=>{const y=h;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,k=!i.current;if(g!==a&&S){const N=new Event("click",{bubbles:k});y.indeterminate=ol(a),S.call(y,ol(a)?!1:a),y.dispatchEvent(N)}},[h,g,a,i]);const b=x.useRef(ol(a)?!1:a);return l.jsx(Oe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??b.current,required:o,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:m,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J7.displayName=Y7;function h6e(e){return typeof e=="function"}function ol(e){return e==="indeterminate"}function X7(e){return ol(e)?"indeterminate":e?"checked":"unchecked"}const id=x.forwardRef(({className:e,...t},r)=>l.jsx(RP,{ref:r,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:l.jsx(K7,{className:me("flex items-center justify-center text-current"),children:l.jsx(LC,{className:"h-4 w-4"})})}));id.displayName=RP.displayName;const q1="",p6e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],m6e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],g6e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],v6e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],y6e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:i,prefilledData:a})=>{const[s,o]=x.useState(1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,p]=x.useState(a||null),[m,g]=x.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:i||"",date_of_birth:(a==null?void 0:a.date_of_birth)||"",gender:(a==null?void 0:a.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});x.useEffect(()=>{g(k=>({...k,id_type:t,id_number:r||k.id_number,passport_number:n||k.passport_number,passport_country:i||k.passport_country,date_of_birth:(a==null?void 0:a.date_of_birth)||k.date_of_birth,gender:(a==null?void 0:a.gender)||k.gender})),a&&p(a)},[t,r,n,i,a]),x.useEffect(()=>{v()},[]);const v=async()=>{try{const N=await(await fetch(`${q1}/api/patient/medical-aid-schemes`)).json();f(N.schemes||[])}catch(k){console.error("Failed to fetch schemes:",k)}},b=async k=>{if(k.length===13)try{const E=await(await fetch(`${q1}/api/patient/validate-id?id_number=${k}`,{method:"POST"})).json();p(E),E.valid?(g(P=>({...P,date_of_birth:E.date_of_birth,gender:E.gender})),ge.success("ID number validated successfully")):ge.error(E.error||"Invalid ID number")}catch(N){console.error("ID validation failed:",N)}},y=async()=>{u(!0);try{const{supabase:k}=await Zs(async()=>{const{supabase:T}=await Promise.resolve().then(()=>Xs);return{supabase:T}},void 0),{data:{session:N}}=await k.auth.getSession();if(!(N!=null&&N.access_token)){ge.error("Please sign in to continue");return}const E={first_name:m.first_name,last_name:m.last_name,id_type:m.id_type,id_number:m.id_type==="sa_id"?m.id_number:null,passport_number:m.id_type==="passport"?m.passport_number:null,passport_country:m.id_type==="passport"?m.passport_country:null,date_of_birth:m.date_of_birth,gender:m.gender,email:m.email,phone:m.phone,alternative_phone:m.alternative_phone||null,address_line_1:m.address_line_1||null,address_line_2:m.address_line_2||null,city:m.city||null,province:m.province||null,postal_code:m.postal_code||null,emergency_contact:m.emergency_contact_name?{name:m.emergency_contact_name,relationship:m.emergency_contact_relationship,phone:m.emergency_contact_phone}:null,has_medical_aid:m.has_medical_aid,medical_aid:m.has_medical_aid?{scheme:m.medical_aid_scheme,membership_number:m.medical_aid_number,plan:m.medical_aid_plan||null,dependent_code:m.medical_aid_dependent_code}:null,medical_history:{allergies:m.allergies,chronic_conditions:m.chronic_conditions,current_medications:m.current_medications.map(T=>({name:T,dosage:"",frequency:""})),past_surgeries:m.past_surgeries,blood_type:m.blood_type},consent_telehealth:m.consent_telehealth,consent_data_processing:m.consent_data_processing,consent_marketing:m.consent_marketing},P=await fetch(`${q1}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.access_token}`},body:JSON.stringify(E)});if(!P.ok){const T=await P.json();throw new Error(T.detail||"Onboarding failed")}ge.success("Profile completed successfully!"),e==null||e()}catch(k){ge.error(k.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=s/w*100,S=d.find(k=>k.code===m.medical_aid_scheme);return l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(Qp,{value:_,className:"h-2"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",s," of ",w]})]}),s===1&&l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),l.jsx(Ie,{children:"Tell us about yourself"})]}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"first_name",children:"First Name *"}),l.jsx(et,{id:"first_name",value:m.first_name,onChange:k=>g({...m,first_name:k.target.value}),placeholder:"Enter first name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"last_name",children:"Last Name *"}),l.jsx(et,{id:"last_name",value:m.last_name,onChange:k=>g({...m,last_name:k.target.value}),placeholder:"Enter last name"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(he,{htmlFor:"id_number",className:"flex items-center gap-2",children:[l.jsx(zJ,{className:"w-4 h-4"}),"South African ID Number *"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(et,{id:"id_number",value:m.id_number,onChange:k=>{const N=k.target.value.replace(/\D/g,"").slice(0,13);g({...m,id_number:N}),N.length===13&&b(N)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&l.jsxs(Ce,{className:"bg-success shrink-0",children:[l.jsx(Jn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"email",children:"Email *"}),l.jsx(et,{id:"email",type:"email",value:m.email,onChange:k=>g({...m,email:k.target.value}),placeholder:"your@email.com"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"phone",children:"Phone Number *"}),l.jsx(et,{id:"phone",value:m.phone,onChange:k=>g({...m,phone:k.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),s===2&&l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(T5,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Address Line 1"}),l.jsx(et,{value:m.address_line_1,onChange:k=>g({...m,address_line_1:k.target.value}),placeholder:"Street address"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"City"}),l.jsx(et,{value:m.city,onChange:k=>g({...m,city:k.target.value}),placeholder:"City"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Province"}),l.jsxs(pr,{value:m.province,onValueChange:k=>g({...m,province:k}),children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select province"})}),l.jsx(cr,{children:p6e.map(k=>l.jsx(Qe,{value:k,children:k},k))})]})]})]}),l.jsx(nx,{className:"my-4"}),l.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[l.jsx(Qn,{className:"w-4 h-4"}),"Emergency Contact"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Contact Name"}),l.jsx(et,{value:m.emergency_contact_name,onChange:k=>g({...m,emergency_contact_name:k.target.value}),placeholder:"Full name"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Relationship"}),l.jsx(et,{value:m.emergency_contact_relationship,onChange:k=>g({...m,emergency_contact_relationship:k.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Contact Phone"}),l.jsx(et,{value:m.emergency_contact_phone,onChange:k=>g({...m,emergency_contact_phone:k.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),s===3&&l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Jm,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(id,{id:"has_medical_aid",checked:m.has_medical_aid,onCheckedChange:k=>g({...m,has_medical_aid:!!k})}),l.jsx(he,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),m.has_medical_aid&&l.jsxs("div",{className:"space-y-4 pt-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Medical Aid Scheme *"}),l.jsxs(pr,{value:m.medical_aid_scheme,onValueChange:k=>g({...m,medical_aid_scheme:k,medical_aid_plan:""}),children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select your medical aid"})}),l.jsx(cr,{children:d.map(k=>l.jsx(Qe,{value:k.code,children:k.name},k.code))})]})]}),S&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Plan"}),l.jsxs(pr,{value:m.medical_aid_plan,onValueChange:k=>g({...m,medical_aid_plan:k}),children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select your plan"})}),l.jsx(cr,{children:S.plans.map(k=>l.jsx(Qe,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Membership Number *"}),l.jsx(et,{value:m.medical_aid_number,onChange:k=>g({...m,medical_aid_number:k.target.value}),placeholder:"Your member number"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Dependent Code"}),l.jsx(et,{value:m.medical_aid_dependent_code,onChange:k=>g({...m,medical_aid_dependent_code:k.target.value}),placeholder:"00 for main member"})]})]})]}),!m.has_medical_aid&&l.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),s===4&&l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(BC,{className:"w-5 h-5 text-primary"}),"Medical History"]}),l.jsx(Ie,{children:"This information helps us provide better care"})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(he,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-4 h-4 text-warning"}),"Allergies"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:g6e.map(k=>l.jsx(Ce,{variant:m.allergies.some(N=>N.allergen===k)?"default":"outline",className:"cursor-pointer",onClick:()=>{const N=m.allergies.some(E=>E.allergen===k);g(N?{...m,allergies:m.allergies.filter(E=>E.allergen!==k)}:{...m,allergies:[...m.allergies,{allergen:k,reaction:"",severity:"mild"}]})},children:k},k))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(he,{className:"flex items-center gap-2",children:[l.jsx(Yr,{className:"w-4 h-4"}),"Chronic Conditions"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:v6e.map(k=>l.jsx(Ce,{variant:m.chronic_conditions.some(N=>N.condition===k)?"default":"outline",className:"cursor-pointer",onClick:()=>{const N=m.chronic_conditions.some(E=>E.condition===k);g(N?{...m,chronic_conditions:m.chronic_conditions.filter(E=>E.condition!==k)}:{...m,chronic_conditions:[...m.chronic_conditions,{condition:k}]})},children:k},k))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Blood Type"}),l.jsxs(pr,{value:m.blood_type,onValueChange:k=>g({...m,blood_type:k}),children:[l.jsx(lr,{className:"w-[200px]",children:l.jsx(mr,{})}),l.jsx(cr,{children:m6e.map(k=>l.jsx(Qe,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Smoking Status"}),l.jsxs(pr,{value:m.smoking_status,onValueChange:k=>g({...m,smoking_status:k}),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"never",children:"Never smoked"}),l.jsx(Qe,{value:"former",children:"Former smoker"}),l.jsx(Qe,{value:"current",children:"Current smoker"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Alcohol Use"}),l.jsxs(pr,{value:m.alcohol_use,onValueChange:k=>g({...m,alcohol_use:k}),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"none",children:"None"}),l.jsx(Qe,{value:"occasional",children:"Occasional"}),l.jsx(Qe,{value:"moderate",children:"Moderate"}),l.jsx(Qe,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),s===5&&l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[l.jsx(id,{id:"consent_telehealth",checked:m.consent_telehealth,onCheckedChange:k=>g({...m,consent_telehealth:!!k})}),l.jsxs("div",{children:[l.jsx(he,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[l.jsx(id,{id:"consent_data",checked:m.consent_data_processing,onCheckedChange:k=>g({...m,consent_data_processing:!!k})}),l.jsxs("div",{children:[l.jsx(he,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),l.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[l.jsx(id,{id:"consent_marketing",checked:m.consent_marketing,onCheckedChange:k=>g({...m,consent_marketing:!!k})}),l.jsxs("div",{children:[l.jsx(he,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-6",children:[l.jsxs(ee,{variant:"outline",onClick:()=>o(k=>k-1),disabled:s===1,children:[l.jsx(FC,{className:"w-4 h-4 mr-2"}),"Back"]}),s<w?l.jsxs(ee,{onClick:()=>o(k=>k+1),children:["Next",l.jsx(Ld,{className:"w-4 h-4 ml-2"})]}):l.jsx(ee,{onClick:y,disabled:c||!m.consent_telehealth||!m.consent_data_processing,children:c?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},Iv="",x6e=()=>{var F,R;const e=kn(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:i}=Er(),[a,s]=x.useState("check"),[o,c]=x.useState("sa_id"),[u,d]=x.useState(""),[f,h]=x.useState(""),[p,m]=x.useState(""),[g,v]=x.useState(""),[b,y]=x.useState(!1),[w,_]=x.useState(null),[S,k]=x.useState(null),[N,E]=x.useState([]);x.useEffect(()=>{P()},[]),x.useEffect(()=>{!i&&r&&e("/patient")},[i,r,e]);const P=async()=>{try{const W=await(await fetch(`${Iv}/api/patient/countries`)).json();E(W.countries||[])}catch(U){console.error("Failed to fetch countries:",U),E([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},T=async()=>{y(!0);try{let U=`${Iv}/api/patient/validate-id?id_type=${o}`;if(o==="sa_id"){if(u.length!==13){ge.error("Please enter a valid 13-digit SA ID number"),y(!1);return}U+=`&id_number=${u}`}else{if(!f||f.length<5){ge.error("Please enter a valid passport number"),y(!1);return}if(!p){ge.error("Please select your country of citizenship"),y(!1);return}if(!g){ge.error("Please enter your date of birth"),y(!1);return}U+=`&passport_number=${f}&country_code=${p}&date_of_birth=${g}`}const z=await(await fetch(U,{method:"POST"})).json();if(!z.valid){ge.error(z.error||"Invalid identification"),y(!1);return}if(k(z),o==="sa_id"){const{supabase:L}=await Zs(async()=>{const{supabase:G}=await Promise.resolve().then(()=>Xs);return{supabase:G}},void 0),{data:{session:B}}=await L.auth.getSession();if(B!=null&&B.access_token)try{const G=await fetch(`${Iv}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${B.access_token}`}});if(G.ok){const te=await G.json();if(_(te),te.found){ge.success("We found your existing records! Please confirm your details."),s("confirm");return}}}catch{console.log("EHR lookup not available")}}ge.info("Please complete your profile."),s("onboarding")}catch(U){console.error("Validation failed:",U),ge.error("Could not validate identification. Please try again.")}finally{y(!1)}},$=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),ge.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},M=async()=>{y(!0);try{const{supabase:U}=await Zs(async()=>{const{supabase:B}=await Promise.resolve().then(()=>Xs);return{supabase:B}},void 0),{data:{session:W}}=await U.auth.getSession();if(!(W!=null&&W.access_token)){ge.error("Please sign in to continue");return}const z={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(S==null?void 0:S.date_of_birth),gender:(w==null?void 0:w.gender)||(S==null?void 0:S.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(B=>({allergen:B,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(B=>({condition:B})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${Iv}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.access_token}`},body:JSON.stringify(z)})).ok)throw new Error("Failed to save profile");await n(),ge.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(U){console.error("Confirmation failed:",U),ge.error("Failed to confirm profile. Please try again.")}finally{y(!1)}};return i?l.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):a==="check"?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),l.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:l.jsxs(se,{children:[l.jsxs(xe,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(WS,{className:"w-8 h-8 text-primary"})}),l.jsxs(we,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),l.jsx(Ie,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(he,{children:"Type of Identification"}),l.jsxs(Xp,{value:o,onValueChange:U=>c(U),className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[l.jsx(Xa,{value:"sa_id",id:"sa_id"}),l.jsxs(he,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[l.jsx(Sn,{className:"w-4 h-4"}),"SA ID"]})]}),l.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[l.jsx(Xa,{value:"passport",id:"passport"}),l.jsxs(he,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[l.jsx(BJ,{className:"w-4 h-4"}),"Passport"]})]})]})]}),o==="sa_id"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"id_number",children:"South African ID Number"}),l.jsx(et,{id:"id_number",value:u,onChange:U=>d(U.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&l.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),o==="passport"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"passport_country",children:"Country of Citizenship"}),l.jsxs(pr,{value:p,onValueChange:m,children:[l.jsx(lr,{children:l.jsx(mr,{placeholder:"Select your country"})}),l.jsx(cr,{children:N.filter(U=>U.code!=="ZA").map(U=>l.jsx(Qe,{value:U.code,children:U.name},U.code))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"passport_number",children:"Passport Number"}),l.jsx(et,{id:"passport_number",value:f,onChange:U=>h(U.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{htmlFor:"date_of_birth",children:"Date of Birth"}),l.jsx(et,{id:"date_of_birth",type:"date",value:g,onChange:U=>v(U.target.value),max:new Date().toISOString().split("T")[0]})]})]}),l.jsx(ee,{className:"w-full",size:"lg",onClick:T,disabled:b||o==="sa_id"&&u.length!==13||o==="passport"&&(!f||!p||!g),children:b?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):l.jsxs(l.Fragment,{children:[l.jsx(WS,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),l.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]}):a==="confirm"&&(w!=null&&w.found)?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),l.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:l.jsxs(se,{children:[l.jsxs(xe,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:l.jsx(Jn,{className:"w-8 h-8 text-success"})}),l.jsx(we,{className:"text-xl sm:text-2xl",children:"Records Found!"}),l.jsx(Ie,{children:"We found your existing records. Please confirm your details."})]}),l.jsxs(fe,{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Name"}),l.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),l.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Gender"}),l.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-muted-foreground",children:"Phone"}),l.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),l.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),l.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),l.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((F=w.allergies)==null?void 0:F.length)||((R=w.chronic_conditions)==null?void 0:R.length))&&l.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),l.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),l.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsx(ee,{className:"w-full",size:"lg",onClick:M,disabled:b,children:b?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),l.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>s("onboarding"),children:"Update My Information"})]})]})]})})]}):a==="onboarding"?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),l.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),S&&l.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:l.jsxs("p",{className:"text-success",children:[" ",o==="sa_id"?"ID":"Passport"," Verified",S.date_of_birth&&`  DOB: ${S.date_of_birth}`,S.gender&&`  ${S.gender}`,S.age&&`  Age ${S.age}`]})})]}),l.jsx(y6e,{onComplete:$,prefilledIdType:o,prefilledIdNumber:o==="sa_id"?u:void 0,prefilledPassportNumber:o==="passport"?f:void 0,prefilledPassportCountry:o==="passport"?p:void 0,prefilledData:S})]})]}):null},b6e="",P4=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],w6e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],_6e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:i})=>{const[a,s]=x.useState(!1),[o,c]=x.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=x.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(m,g)=>{const v=g?parseFloat(g):null;c(b=>({...b,[m]:v}))},h=async()=>{if(!u.chief_complaint){ge.error("Chief complaint is required");return}s(!0);try{const{supabase:m}=await Zs(async()=>{const{supabase:y}=await Promise.resolve().then(()=>Xs);return{supabase:y}},void 0),{data:{session:g}}=await m.auth.getSession();if(!(g!=null&&g.access_token)){ge.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:o,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${b6e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g.access_token}`},body:JSON.stringify(v)});if(!b.ok){const y=await b.json();throw new Error(y.detail||"Triage submission failed")}ge.success("Triage assessment saved successfully"),i==null||i()}catch(m){ge.error(m.message||"Failed to save triage")}finally{s(!1)}},p=P4.find(m=>m.value===u.triage_priority);return l.jsxs("div",{className:"space-y-6",children:[l.jsx(se,{children:l.jsx(xe,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Xr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&l.jsxs(Ce,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(BC,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),l.jsx(fe,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Blood Pressure (mmHg)"}),l.jsxs("div",{className:"flex gap-1 items-center",children:[l.jsx(et,{type:"number",placeholder:"Sys",value:o.blood_pressure_systolic||"",onChange:m=>f("blood_pressure_systolic",m.target.value),className:"w-16"}),l.jsx("span",{children:"/"}),l.jsx(et,{type:"number",placeholder:"Dia",value:o.blood_pressure_diastolic||"",onChange:m=>f("blood_pressure_diastolic",m.target.value),className:"w-16"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Heart Rate (bpm)"}),l.jsx(et,{type:"number",placeholder:"HR",value:o.heart_rate||"",onChange:m=>f("heart_rate",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Temperature (C)"}),l.jsx(et,{type:"number",step:"0.1",placeholder:"Temp",value:o.temperature||"",onChange:m=>f("temperature",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"SpO2 (%)"}),l.jsx(et,{type:"number",placeholder:"SpO2",value:o.oxygen_saturation||"",onChange:m=>f("oxygen_saturation",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Respiratory Rate"}),l.jsx(et,{type:"number",placeholder:"RR",value:o.respiratory_rate||"",onChange:m=>f("respiratory_rate",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Weight (kg)"}),l.jsx(et,{type:"number",step:"0.1",placeholder:"kg",value:o.weight||"",onChange:m=>f("weight",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Height (cm)"}),l.jsx(et,{type:"number",placeholder:"cm",value:o.height||"",onChange:m=>f("height",m.target.value)})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{className:"text-xs",children:"Pain Score (0-10)"}),l.jsx(et,{type:"number",min:"0",max:"10",placeholder:"0-10",value:o.pain_score||"",onChange:m=>f("pain_score",m.target.value)})]})]})})]}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Sn,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"What is the main reason for this visit? *"}),l.jsx(Mr,{value:u.chief_complaint,onChange:m=>d({...u,chief_complaint:m.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Duration of Symptoms"}),l.jsx(et,{value:u.symptom_duration,onChange:m=>d({...u,symptom_duration:m.target.value}),placeholder:"e.g., 2 days"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Onset"}),l.jsxs(pr,{value:u.symptom_onset,onValueChange:m=>d({...u,symptom_onset:m}),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsxs(cr,{children:[l.jsx(Qe,{value:"sudden",children:"Sudden"}),l.jsx(Qe,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(_i,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs(pr,{value:u.triage_priority,onValueChange:m=>d({...u,triage_priority:m}),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:P4.map(m=>l.jsx(Qe,{value:m.value,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),m.label," - ",m.description]})},m.value))})]}),p&&l.jsxs("div",{className:`p-3 rounded-lg ${p.color} bg-opacity-10`,children:[l.jsx("p",{className:"text-sm font-medium",children:p.label}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]})]}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Jn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),l.jsx(fe,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(m=>l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(id,{id:m.key,checked:u[m.key],onCheckedChange:g=>d({...u,[m.key]:!!g})}),l.jsx(he,{htmlFor:m.key,children:m.label})]},m.key))})]}),l.jsxs(se,{children:[l.jsx(xe,{children:l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Ui,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),l.jsxs(fe,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Nurse Assessment Notes"}),l.jsx(Mr,{value:u.nurse_notes,onChange:m=>d({...u,nurse_notes:m.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Recommended Action"}),l.jsxs(pr,{value:u.recommended_action,onValueChange:m=>d({...u,recommended_action:m}),children:[l.jsx(lr,{children:l.jsx(mr,{})}),l.jsx(cr,{children:w6e.map(m=>l.jsx(Qe,{value:m.value,children:m.label},m.value))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(he,{children:"Notes for Doctor (optional)"}),l.jsx(Mr,{value:u.doctor_notes,onChange:m=>d({...u,doctor_notes:m.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(ee,{variant:"outline",children:"Cancel"}),l.jsx(ee,{onClick:h,disabled:a,children:a?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Jn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},S6e="",A4={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},j6e=()=>{const e=kn(),[t]=$B(),{profile:r,role:n,signOut:i}=Er(),[a,s]=x.useState([]),[o,c]=x.useState(!0),[u,d]=x.useState(null),[f,h]=x.useState(!1),p=t.get("appointment");x.useEffect(()=>{m()},[]),x.useEffect(()=>{if(p&&a.length>0){const v=a.find(b=>b.appointment.id===p);v&&d(v)}},[p,a]);const m=async()=>{c(!0);try{const{supabase:v}=await Zs(async()=>{const{supabase:_}=await Promise.resolve().then(()=>Xs);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){ge.error("Please sign in to continue");return}const y=await fetch(`${S6e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!y.ok)throw new Error("Failed to fetch triage queue");const w=await y.json();s(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),ge.error("Failed to load triage queue")}finally{c(!1)}},g=()=>{d(null),m(),ge.success("Triage completed successfully")};return u?l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),l.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:l.jsx(_6e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:g})})]}):l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[l.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:l.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),l.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),l.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[l.jsxs(ee,{variant:"ghost",size:"sm",onClick:m,disabled:o,children:[l.jsx(Ks,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),l.jsx(Ce,{className:"bg-success text-white",children:"Nurse"}),l.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),l.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[l.jsx(ee,{variant:"ghost",size:"icon",onClick:m,disabled:o,children:l.jsx(Ks,{className:`w-4 h-4 ${o?"animate-spin":""}`})}),l.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?l.jsx(ao,{className:"w-5 h-5"}):l.jsx(Ym,{className:"w-5 h-5"})})]})]}),f&&l.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:l.jsxs("div",{className:"flex flex-col gap-2",children:[l.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),l.jsxs(ee,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[l.jsx(ln,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),l.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[l.jsxs("div",{className:"mb-6 sm:mb-8",children:[l.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[l.jsx(Ui,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),l.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:l.jsx(Si,{className:"w-5 h-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:a.length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:l.jsx(_i,{className:"w-5 h-5 text-red-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:a.filter(v=>{var b,y;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((y=v.latest_symptom_assessment)==null?void 0:y.urgency)==="emergency"}).length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:l.jsx(Ui,{className:"w-5 h-5 text-success"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:a.filter(v=>v.latest_symptom_assessment).length}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),l.jsx(se,{children:l.jsx(fe,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:l.jsx(Xt,{className:"w-5 h-5 text-warning"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:"~15"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),l.jsxs(se,{children:[l.jsxs(xe,{children:[l.jsxs(we,{className:"flex items-center gap-2",children:[l.jsx(Si,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),l.jsx(Ie,{children:"Patients waiting for nurse triage assessment"})]}),l.jsx(fe,{children:o?l.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>l.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):a.length===0?l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ui,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No patients waiting for triage"}),l.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):l.jsx("div",{className:"space-y-3",children:a.map(v=>{var y;const b=v.latest_symptom_assessment?A4[v.latest_symptom_assessment.urgency]||A4.routine:null;return l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:l.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium",children:v.patient_name}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[at(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&l.jsxs(Ce,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((y=v.patient_profile)==null?void 0:y.has_medical_aid)&&l.jsx(Ce,{variant:"outline",className:"text-xs",children:"Medical Aid"}),l.jsx(ee,{size:"sm",variant:"ghost",children:l.jsx(Ld,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},k6e=()=>{const e=hs();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),l.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},N6e=new $ee,C6e=()=>l.jsx(Ree,{client:N6e,children:l.jsx(wie,{children:l.jsxs(see,{children:[l.jsx(zX,{}),l.jsx(bQ,{}),l.jsx(Rte,{children:l.jsxs(Ete,{children:[l.jsx(ri,{path:"/",element:l.jsx(Lie,{})}),l.jsx(ri,{path:"/auth",element:l.jsx(Noe,{})}),l.jsx(ri,{path:"/patient/*",element:l.jsx(xs,{allowedRoles:["patient"],children:l.jsx(_ce,{})})}),l.jsx(ri,{path:"/book-appointment",element:l.jsx(xs,{allowedRoles:["patient"],children:l.jsx(Mfe,{})})}),l.jsx(ri,{path:"/onboarding",element:l.jsx(xs,{allowedRoles:["patient"],children:l.jsx(x6e,{})})}),l.jsx(ri,{path:"/clinician/*",element:l.jsx(xs,{allowedRoles:["nurse","doctor"],children:l.jsx(tge,{})})}),l.jsx(ri,{path:"/nurse-triage",element:l.jsx(xs,{allowedRoles:["nurse","doctor"],children:l.jsx(j6e,{})})}),l.jsx(ri,{path:"/admin/*",element:l.jsx(xs,{allowedRoles:["admin"],children:l.jsx(i5e,{})})}),l.jsx(ri,{path:"/receptionist/*",element:l.jsx(xs,{allowedRoles:["admin","nurse","doctor","receptionist"],children:l.jsx(s5e,{})})}),l.jsx(ri,{path:"/consultation",element:l.jsx(xs,{allowedRoles:["patient","nurse","doctor"],children:l.jsx(a6e,{})})}),l.jsx(ri,{path:"/demo-consultation",element:l.jsx(xs,{allowedRoles:["patient","nurse","doctor"],children:l.jsx(c6e,{})})}),l.jsx(ri,{path:"*",element:l.jsx(k6e,{})})]})})]})})});e5(document.getElementById("root")).render(l.jsx(C6e,{}));
