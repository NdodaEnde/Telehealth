var WG=Object.defineProperty;var TA=e=>{throw TypeError(e)};var HG=(e,t,r)=>t in e?WG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var MA=(e,t,r)=>HG(e,typeof t!="symbol"?t+"":t,r),f_=(e,t,r)=>t.has(e)||TA("Cannot "+r);var ae=(e,t,r)=>(f_(e,t,"read from private field"),r?r.call(e):t.get(e)),ht=(e,t,r)=>t.has(e)?TA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ze=(e,t,r,n)=>(f_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),vn=(e,t,r)=>(f_(e,t,"access private method"),r);var Qg=(e,t,r,n)=>({set _(a){Ze(e,t,a,r)},get _(){return ae(e,t,n)}});function qG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var IF={exports:{}},r0={},RF={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.element"),GG=Symbol.for("react.portal"),KG=Symbol.for("react.fragment"),YG=Symbol.for("react.strict_mode"),JG=Symbol.for("react.profiler"),XG=Symbol.for("react.provider"),QG=Symbol.for("react.context"),ZG=Symbol.for("react.forward_ref"),eK=Symbol.for("react.suspense"),tK=Symbol.for("react.memo"),rK=Symbol.for("react.lazy"),$A=Symbol.iterator;function nK(e){return e===null||typeof e!="object"?null:(e=$A&&e[$A]||e["@@iterator"],typeof e=="function"?e:null)}var DF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LF=Object.assign,FF={};function th(e,t,r){this.props=e,this.context=t,this.refs=FF,this.updater=r||DF}th.prototype.isReactComponent={};th.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};th.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function BF(){}BF.prototype=th.prototype;function vC(e,t,r){this.props=e,this.context=t,this.refs=FF,this.updater=r||DF}var yC=vC.prototype=new BF;yC.constructor=vC;LF(yC,th.prototype);yC.isPureReactComponent=!0;var IA=Array.isArray,UF=Object.prototype.hasOwnProperty,xC={current:null},zF={key:!0,ref:!0,__self:!0,__source:!0};function VF(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)UF.call(t,n)&&!zF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:hg,type:e,key:i,ref:o,props:a,_owner:xC.current}}function aK(e,t){return{$$typeof:hg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bC(e){return typeof e=="object"&&e!==null&&e.$$typeof===hg}function iK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var RA=/\/+/g;function h_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iK(""+e.key):t.toString(36)}function cy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hg:case GG:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+h_(o,0):n,IA(a)?(r="",e!=null&&(r=e.replace(RA,"$&/")+"/"),cy(a,t,r,"",function(u){return u})):a!=null&&(bC(a)&&(a=aK(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(RA,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",IA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+h_(i,l);o+=cy(i,t,r,c,a)}else if(c=nK(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+h_(i,l++),o+=cy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ev(e,t,r){if(e==null)return e;var n=[],a=0;return cy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function sK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},uy={transition:null},oK={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:uy,ReactCurrentOwner:xC};function WF(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:ev,forEach:function(e,t,r){ev(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ev(e,function(){t++}),t},toArray:function(e){return ev(e,function(t){return t})||[]},only:function(e){if(!bC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=th;ft.Fragment=KG;ft.Profiler=JG;ft.PureComponent=vC;ft.StrictMode=YG;ft.Suspense=eK;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oK;ft.act=WF;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LF({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)UF.call(t,c)&&!zF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:hg,type:e.type,key:a,ref:i,props:n,_owner:o}};ft.createContext=function(e){return e={$$typeof:QG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XG,_context:e},e.Consumer=e};ft.createElement=VF;ft.createFactory=function(e){var t=VF.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:ZG,render:e}};ft.isValidElement=bC;ft.lazy=function(e){return{$$typeof:rK,_payload:{_status:-1,_result:e},_init:sK}};ft.memo=function(e,t){return{$$typeof:tK,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=uy.transition;uy.transition={};try{e()}finally{uy.transition=t}};ft.unstable_act=WF;ft.useCallback=function(e,t){return Hn.current.useCallback(e,t)};ft.useContext=function(e){return Hn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Hn.current.useEffect(e,t)};ft.useId=function(){return Hn.current.useId()};ft.useImperativeHandle=function(e,t,r){return Hn.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return Hn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Hn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Hn.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return Hn.current.useReducer(e,t,r)};ft.useRef=function(e){return Hn.current.useRef(e)};ft.useState=function(e){return Hn.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return Hn.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return Hn.current.useTransition()};ft.version="18.3.1";RF.exports=ft;var y=RF.exports;const M=Ct(y),n0=qG({__proto__:null,default:M},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lK=y,cK=Symbol.for("react.element"),uK=Symbol.for("react.fragment"),dK=Object.prototype.hasOwnProperty,fK=lK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hK={key:!0,ref:!0,__self:!0,__source:!0};function HF(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)dK.call(t,n)&&!hK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:cK,type:e,key:i,ref:o,props:a,_owner:fK.current}}r0.Fragment=uK;r0.jsx=HF;r0.jsxs=HF;IF.exports=r0;var s=IF.exports,qF={exports:{}},Fa={},GF={exports:{}},KF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,F){var K=R.length;R.push(F);e:for(;0<K;){var re=K-1>>>1,Z=R[re];if(0<a(Z,F))R[re]=F,R[K]=Z,K=re;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var F=R[0],K=R.pop();if(K!==F){R[0]=K;e:for(var re=0,Z=R.length,j=Z>>>1;re<j;){var C=2*(re+1)-1,E=R[C],B=C+1,D=R[B];if(0>a(E,K))B<Z&&0>a(D,E)?(R[re]=D,R[B]=K,re=B):(R[re]=E,R[C]=K,re=C);else if(B<Z&&0>a(D,K))R[re]=D,R[B]=K,re=B;else break e}}return F}function a(R,F){var K=R.sortIndex-F.sortIndex;return K!==0?K:R.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=R)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(R){if(p=!1,w(R),!g)if(r(c)!==null)g=!0,L(S);else{var F=r(u);F!==null&&z(_,F.startTime-R)}}function S(R,F){g=!1,p&&(p=!1,b(P),P=-1),m=!0;var K=h;try{for(w(F),f=r(c);f!==null&&(!(f.expirationTime>F)||R&&!$());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var Z=re(f.expirationTime<=F);F=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===r(c)&&n(c),w(F)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var C=r(u);C!==null&&z(_,C.startTime-F),j=!1}return j}finally{f=null,h=K,m=!1}}var N=!1,k=null,P=-1,O=5,A=-1;function $(){return!(e.unstable_now()-A<O)}function T(){if(k!==null){var R=e.unstable_now();A=R;var F=!0;try{F=k(!0,R)}finally{F?U():(N=!1,k=null)}}else N=!1}var U;if(typeof x=="function")U=function(){x(T)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,V=I.port2;I.port1.onmessage=T,U=function(){V.postMessage(null)}}else U=function(){v(T,0)};function L(R){k=R,N||(N=!0,U())}function z(R,F){P=v(function(){R(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,L(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var K=h;h=F;try{return R()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,F){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=h;h=R;try{return F()}finally{h=K}},e.unstable_scheduleCallback=function(R,F,K){var re=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,R){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=K+Z,R={id:d++,callback:F,priorityLevel:R,startTime:K,expirationTime:Z,sortIndex:-1},K>re?(R.sortIndex=K,t(u,R),r(c)===null&&R===r(u)&&(p?(b(P),P=-1):p=!0,z(_,K-re))):(R.sortIndex=Z,t(c,R),g||m||(g=!0,L(S))),R},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(R){var F=h;return function(){var K=h;h=F;try{return R.apply(this,arguments)}finally{h=K}}}})(KF);GF.exports=KF;var mK=GF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pK=y,Da=mK;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YF=new Set,zm={};function wu(e,t){rf(e,t),rf(e+"Capture",t)}function rf(e,t){for(zm[e]=t,e=0;e<t.length;e++)YF.add(t[e])}var co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C1=Object.prototype.hasOwnProperty,gK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DA={},LA={};function vK(e){return C1.call(LA,e)?!0:C1.call(DA,e)?!1:gK.test(e)?LA[e]=!0:(DA[e]=!0,!1)}function yK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xK(e,t,r,n){if(t===null||typeof t>"u"||yK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var wC=/[\-:]([a-z])/g;function _C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(wC,_C);pn[t]=new qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(wC,_C);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(wC,_C);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function jC(e,t,r,n){var a=pn.hasOwnProperty(t)?pn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xK(t,r,a,n)&&(r=null),n||a===null?vK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var So=pK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tv=Symbol.for("react.element"),od=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),E1=Symbol.for("react.profiler"),JF=Symbol.for("react.provider"),XF=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),P1=Symbol.for("react.suspense"),O1=Symbol.for("react.suspense_list"),kC=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),QF=Symbol.for("react.offscreen"),FA=Symbol.iterator;function Mh(e){return e===null||typeof e!="object"?null:(e=FA&&e[FA]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,m_;function om(e){if(m_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);m_=t&&t[1]||""}return`
`+m_+e}var p_=!1;function g_(e,t){if(!e||p_)return"";p_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{p_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?om(e):""}function bK(e){switch(e.tag){case 5:return om(e.type);case 16:return om("Lazy");case 13:return om("Suspense");case 19:return om("SuspenseList");case 0:case 2:case 15:return e=g_(e.type,!1),e;case 11:return e=g_(e.type.render,!1),e;case 1:return e=g_(e.type,!0),e;default:return""}}function A1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ld:return"Fragment";case od:return"Portal";case E1:return"Profiler";case SC:return"StrictMode";case P1:return"Suspense";case O1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XF:return(e.displayName||"Context")+".Consumer";case JF:return(e._context.displayName||"Context")+".Provider";case NC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kC:return t=e.displayName||null,t!==null?t:A1(e.type)||"Memo";case Wo:t=e._payload,e=e._init;try{return A1(e(t))}catch{}}return null}function wK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(t);case 8:return t===SC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _K(e){var t=ZF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rv(e){e._valueTracker||(e._valueTracker=_K(e))}function e3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ZF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function T1(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function BA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t3(e,t){t=t.checked,t!=null&&jC(e,"checked",t,!1)}function M1(e,t){t3(e,t);var r=Nl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$1(e,t.type,r):t.hasOwnProperty("defaultValue")&&$1(e,t.type,Nl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $1(e,t,r){(t!=="number"||Uy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lm=Array.isArray;function Ad(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function I1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(lm(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nl(r)}}function r3(e,t){var r=Nl(t.value),n=Nl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function VA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nv,a3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nv=nv||document.createElement("div"),nv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ym={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jK=["Webkit","ms","Moz","O"];Object.keys(ym).forEach(function(e){jK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ym[t]=ym[e]})});function i3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ym.hasOwnProperty(e)&&ym[e]?(""+t).trim():t+"px"}function s3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=i3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var SK=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function D1(e,t){if(t){if(SK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function L1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F1=null;function CC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var B1=null,Td=null,Md=null;function WA(e){if(e=gg(e)){if(typeof B1!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=l0(t),B1(e.stateNode,e.type,t))}}function o3(e){Td?Md?Md.push(e):Md=[e]:Td=e}function l3(){if(Td){var e=Td,t=Md;if(Md=Td=null,WA(e),t)for(e=0;e<t.length;e++)WA(t[e])}}function c3(e,t){return e(t)}function u3(){}var v_=!1;function d3(e,t,r){if(v_)return e(t,r);v_=!0;try{return c3(e,t,r)}finally{v_=!1,(Td!==null||Md!==null)&&(u3(),l3())}}function Wm(e,t){var r=e.stateNode;if(r===null)return null;var n=l0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var U1=!1;if(co)try{var $h={};Object.defineProperty($h,"passive",{get:function(){U1=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{U1=!1}function NK(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xm=!1,zy=null,Vy=!1,z1=null,kK={onError:function(e){xm=!0,zy=e}};function CK(e,t,r,n,a,i,o,l,c){xm=!1,zy=null,NK.apply(kK,arguments)}function EK(e,t,r,n,a,i,o,l,c){if(CK.apply(this,arguments),xm){if(xm){var u=zy;xm=!1,zy=null}else throw Error(ge(198));Vy||(Vy=!0,z1=u)}}function _u(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HA(e){if(_u(e)!==e)throw Error(ge(188))}function PK(e){var t=e.alternate;if(!t){if(t=_u(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return HA(a),e;if(i===n)return HA(a),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function h3(e){return e=PK(e),e!==null?m3(e):null}function m3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=m3(e);if(t!==null)return t;e=e.sibling}return null}var p3=Da.unstable_scheduleCallback,qA=Da.unstable_cancelCallback,OK=Da.unstable_shouldYield,AK=Da.unstable_requestPaint,wr=Da.unstable_now,TK=Da.unstable_getCurrentPriorityLevel,EC=Da.unstable_ImmediatePriority,g3=Da.unstable_UserBlockingPriority,Wy=Da.unstable_NormalPriority,MK=Da.unstable_LowPriority,v3=Da.unstable_IdlePriority,a0=null,xs=null;function $K(e){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(a0,e,void 0,(e.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:DK,IK=Math.log,RK=Math.LN2;function DK(e){return e>>>=0,e===0?32:31-(IK(e)/RK|0)|0}var av=64,iv=4194304;function cm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=cm(l):(i&=o,i!==0&&(n=cm(i)))}else o=r&~a,o!==0?n=cm(o):i!==0&&(n=cm(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Di(t),a=1<<r,n|=e[r],t&=~a;return n}function LK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Di(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=LK(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function V1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y3(){var e=av;return av<<=1,!(av&4194240)&&(av=64),e}function y_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Di(t),e[t]=r}function BK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Di(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function PC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Di(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ot=0;function x3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b3,OC,w3,_3,j3,W1=!1,sv=[],fl=null,hl=null,ml=null,Hm=new Map,qm=new Map,Jo=[],UK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GA(e,t){switch(e){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qm.delete(t.pointerId)}}function Ih(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gg(t),t!==null&&OC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zK(e,t,r,n,a){switch(t){case"focusin":return fl=Ih(fl,e,t,r,n,a),!0;case"dragenter":return hl=Ih(hl,e,t,r,n,a),!0;case"mouseover":return ml=Ih(ml,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hm.set(i,Ih(Hm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qm.set(i,Ih(qm.get(i)||null,e,t,r,n,a)),!0}return!1}function S3(e){var t=Sc(e.target);if(t!==null){var r=_u(t);if(r!==null){if(t=r.tag,t===13){if(t=f3(r),t!==null){e.blockedOn=t,j3(e.priority,function(){w3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=H1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);F1=n,r.target.dispatchEvent(n),F1=null}else return t=gg(r),t!==null&&OC(t),e.blockedOn=r,!1;t.shift()}return!0}function KA(e,t,r){dy(e)&&r.delete(t)}function VK(){W1=!1,fl!==null&&dy(fl)&&(fl=null),hl!==null&&dy(hl)&&(hl=null),ml!==null&&dy(ml)&&(ml=null),Hm.forEach(KA),qm.forEach(KA)}function Rh(e,t){e.blockedOn===t&&(e.blockedOn=null,W1||(W1=!0,Da.unstable_scheduleCallback(Da.unstable_NormalPriority,VK)))}function Gm(e){function t(a){return Rh(a,e)}if(0<sv.length){Rh(sv[0],e);for(var r=1;r<sv.length;r++){var n=sv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fl!==null&&Rh(fl,e),hl!==null&&Rh(hl,e),ml!==null&&Rh(ml,e),Hm.forEach(t),qm.forEach(t),r=0;r<Jo.length;r++)n=Jo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jo.length&&(r=Jo[0],r.blockedOn===null);)S3(r),r.blockedOn===null&&Jo.shift()}var $d=So.ReactCurrentBatchConfig,qy=!0;function WK(e,t,r,n){var a=Ot,i=$d.transition;$d.transition=null;try{Ot=1,AC(e,t,r,n)}finally{Ot=a,$d.transition=i}}function HK(e,t,r,n){var a=Ot,i=$d.transition;$d.transition=null;try{Ot=4,AC(e,t,r,n)}finally{Ot=a,$d.transition=i}}function AC(e,t,r,n){if(qy){var a=H1(e,t,r,n);if(a===null)E_(e,t,n,Gy,r),GA(e,n);else if(zK(a,e,t,r,n))n.stopPropagation();else if(GA(e,n),t&4&&-1<UK.indexOf(e)){for(;a!==null;){var i=gg(a);if(i!==null&&b3(i),i=H1(e,t,r,n),i===null&&E_(e,t,n,Gy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else E_(e,t,n,null,r)}}var Gy=null;function H1(e,t,r,n){if(Gy=null,e=CC(n),e=Sc(e),e!==null)if(t=_u(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gy=e,null}function N3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TK()){case EC:return 1;case g3:return 4;case Wy:case MK:return 16;case v3:return 536870912;default:return 16}default:return 16}}var sl=null,TC=null,fy=null;function k3(){if(fy)return fy;var e,t=TC,r=t.length,n,a="value"in sl?sl.value:sl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return fy=a.slice(e,1<n?1-n:void 0)}function hy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ov(){return!0}function YA(){return!1}function Ba(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ov:YA,this.isPropagationStopped=YA,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),t}var rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},MC=Ba(rh),pg=mr({},rh,{view:0,detail:0}),qK=Ba(pg),x_,b_,Dh,i0=mr({},pg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$C,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dh&&(Dh&&e.type==="mousemove"?(x_=e.screenX-Dh.screenX,b_=e.screenY-Dh.screenY):b_=x_=0,Dh=e),x_)},movementY:function(e){return"movementY"in e?e.movementY:b_}}),JA=Ba(i0),GK=mr({},i0,{dataTransfer:0}),KK=Ba(GK),YK=mr({},pg,{relatedTarget:0}),w_=Ba(YK),JK=mr({},rh,{animationName:0,elapsedTime:0,pseudoElement:0}),XK=Ba(JK),QK=mr({},rh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZK=Ba(QK),eY=mr({},rh,{data:0}),XA=Ba(eY),tY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nY[e])?!!t[e]:!1}function $C(){return aY}var iY=mr({},pg,{key:function(e){if(e.key){var t=tY[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rY[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$C,charCode:function(e){return e.type==="keypress"?hy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sY=Ba(iY),oY=mr({},i0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QA=Ba(oY),lY=mr({},pg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$C}),cY=Ba(lY),uY=mr({},rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),dY=Ba(uY),fY=mr({},i0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hY=Ba(fY),mY=[9,13,27,32],IC=co&&"CompositionEvent"in window,bm=null;co&&"documentMode"in document&&(bm=document.documentMode);var pY=co&&"TextEvent"in window&&!bm,C3=co&&(!IC||bm&&8<bm&&11>=bm),ZA=" ",eT=!1;function E3(e,t){switch(e){case"keyup":return mY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cd=!1;function gY(e,t){switch(e){case"compositionend":return P3(t);case"keypress":return t.which!==32?null:(eT=!0,ZA);case"textInput":return e=t.data,e===ZA&&eT?null:e;default:return null}}function vY(e,t){if(cd)return e==="compositionend"||!IC&&E3(e,t)?(e=k3(),fy=TC=sl=null,cd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return C3&&t.locale!=="ko"?null:t.data;default:return null}}var yY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yY[e.type]:t==="textarea"}function O3(e,t,r,n){o3(n),t=Ky(t,"onChange"),0<t.length&&(r=new MC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wm=null,Km=null;function xY(e){U3(e,0)}function s0(e){var t=fd(e);if(e3(t))return e}function bY(e,t){if(e==="change")return t}var A3=!1;if(co){var __;if(co){var j_="oninput"in document;if(!j_){var rT=document.createElement("div");rT.setAttribute("oninput","return;"),j_=typeof rT.oninput=="function"}__=j_}else __=!1;A3=__&&(!document.documentMode||9<document.documentMode)}function nT(){wm&&(wm.detachEvent("onpropertychange",T3),Km=wm=null)}function T3(e){if(e.propertyName==="value"&&s0(Km)){var t=[];O3(t,Km,e,CC(e)),d3(xY,t)}}function wY(e,t,r){e==="focusin"?(nT(),wm=t,Km=r,wm.attachEvent("onpropertychange",T3)):e==="focusout"&&nT()}function _Y(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return s0(Km)}function jY(e,t){if(e==="click")return s0(t)}function SY(e,t){if(e==="input"||e==="change")return s0(t)}function NY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vi=typeof Object.is=="function"?Object.is:NY;function Ym(e,t){if(Vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!C1.call(t,a)||!Vi(e[a],t[a]))return!1}return!0}function aT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iT(e,t){var r=aT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aT(r)}}function M3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?M3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $3(){for(var e=window,t=Uy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uy(e.document)}return t}function RC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kY(e){var t=$3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&M3(r.ownerDocument.documentElement,r)){if(n!==null&&RC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=iT(r,i);var o=iT(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CY=co&&"documentMode"in document&&11>=document.documentMode,ud=null,q1=null,_m=null,G1=!1;function sT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;G1||ud==null||ud!==Uy(n)||(n=ud,"selectionStart"in n&&RC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_m&&Ym(_m,n)||(_m=n,n=Ky(q1,"onSelect"),0<n.length&&(t=new MC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ud)))}function lv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dd={animationend:lv("Animation","AnimationEnd"),animationiteration:lv("Animation","AnimationIteration"),animationstart:lv("Animation","AnimationStart"),transitionend:lv("Transition","TransitionEnd")},S_={},I3={};co&&(I3=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function o0(e){if(S_[e])return S_[e];if(!dd[e])return e;var t=dd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in I3)return S_[e]=t[r];return e}var R3=o0("animationend"),D3=o0("animationiteration"),L3=o0("animationstart"),F3=o0("transitionend"),B3=new Map,oT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Il(e,t){B3.set(e,t),wu(t,[e])}for(var N_=0;N_<oT.length;N_++){var k_=oT[N_],EY=k_.toLowerCase(),PY=k_[0].toUpperCase()+k_.slice(1);Il(EY,"on"+PY)}Il(R3,"onAnimationEnd");Il(D3,"onAnimationIteration");Il(L3,"onAnimationStart");Il("dblclick","onDoubleClick");Il("focusin","onFocus");Il("focusout","onBlur");Il(F3,"onTransitionEnd");rf("onMouseEnter",["mouseout","mouseover"]);rf("onMouseLeave",["mouseout","mouseover"]);rf("onPointerEnter",["pointerout","pointerover"]);rf("onPointerLeave",["pointerout","pointerover"]);wu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wu("onBeforeInput",["compositionend","keypress","textInput","paste"]);wu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OY=new Set("cancel close invalid load scroll toggle".split(" ").concat(um));function lT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,EK(n,t,void 0,e),e.currentTarget=null}function U3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;lT(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;lT(a,l,u),i=c}}}if(Vy)throw e=z1,Vy=!1,z1=null,e}function Yt(e,t){var r=t[Q1];r===void 0&&(r=t[Q1]=new Set);var n=e+"__bubble";r.has(n)||(z3(t,e,2,!1),r.add(n))}function C_(e,t,r){var n=0;t&&(n|=4),z3(r,e,n,t)}var cv="_reactListening"+Math.random().toString(36).slice(2);function Jm(e){if(!e[cv]){e[cv]=!0,YF.forEach(function(r){r!=="selectionchange"&&(OY.has(r)||C_(r,!1,e),C_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cv]||(t[cv]=!0,C_("selectionchange",!1,t))}}function z3(e,t,r,n){switch(N3(t)){case 1:var a=WK;break;case 4:a=HK;break;default:a=AC}r=a.bind(null,t,r,e),a=void 0,!U1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function E_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Sc(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}d3(function(){var u=i,d=CC(r),f=[];e:{var h=B3.get(e);if(h!==void 0){var m=MC,g=e;switch(e){case"keypress":if(hy(r)===0)break e;case"keydown":case"keyup":m=sY;break;case"focusin":g="focus",m=w_;break;case"focusout":g="blur",m=w_;break;case"beforeblur":case"afterblur":m=w_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=JA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=KK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cY;break;case R3:case D3:case L3:m=XK;break;case F3:m=dY;break;case"scroll":m=qK;break;case"wheel":m=hY;break;case"copy":case"cut":case"paste":m=ZK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=QA}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Wm(x,b),_!=null&&p.push(Xm(x,_,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==F1&&(g=r.relatedTarget||r.fromElement)&&(Sc(g)||g[uo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Sc(g):null,g!==null&&(v=_u(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=JA,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=QA,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:fd(m),w=g==null?h:fd(g),h=new p(_,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,Sc(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Du(w))x++;for(w=0,_=b;_;_=Du(_))w++;for(;0<x-w;)p=Du(p),x--;for(;0<w-x;)b=Du(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Du(p),b=Du(b)}p=null}else p=null;m!==null&&cT(f,h,m,p,!1),g!==null&&v!==null&&cT(f,v,g,p,!0)}}e:{if(h=u?fd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=bY;else if(tT(h))if(A3)S=SY;else{S=_Y;var N=wY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=jY);if(S&&(S=S(e,u))){O3(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$1(h,"number",h.value)}switch(N=u?fd(u):window,e){case"focusin":(tT(N)||N.contentEditable==="true")&&(ud=N,q1=u,_m=null);break;case"focusout":_m=q1=ud=null;break;case"mousedown":G1=!0;break;case"contextmenu":case"mouseup":case"dragend":G1=!1,sT(f,r,d);break;case"selectionchange":if(CY)break;case"keydown":case"keyup":sT(f,r,d)}var k;if(IC)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else cd?E3(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(C3&&r.locale!=="ko"&&(cd||P!=="onCompositionStart"?P==="onCompositionEnd"&&cd&&(k=k3()):(sl=d,TC="value"in sl?sl.value:sl.textContent,cd=!0)),N=Ky(u,P),0<N.length&&(P=new XA(P,e,null,r,d),f.push({event:P,listeners:N}),k?P.data=k:(k=P3(r),k!==null&&(P.data=k)))),(k=pY?gY(e,r):vY(e,r))&&(u=Ky(u,"onBeforeInput"),0<u.length&&(d=new XA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}U3(f,t)})}function Xm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ky(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wm(e,r),i!=null&&n.unshift(Xm(e,i,a)),i=Wm(e,t),i!=null&&n.push(Xm(e,i,a))),e=e.return}return n}function Du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cT(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wm(r,i),c!=null&&o.unshift(Xm(r,c,l))):a||(c=Wm(r,i),c!=null&&o.push(Xm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var AY=/\r\n?/g,TY=/\u0000|\uFFFD/g;function uT(e){return(typeof e=="string"?e:""+e).replace(AY,`
`).replace(TY,"")}function uv(e,t,r){if(t=uT(t),uT(e)!==t&&r)throw Error(ge(425))}function Yy(){}var K1=null,Y1=null;function J1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X1=typeof setTimeout=="function"?setTimeout:void 0,MY=typeof clearTimeout=="function"?clearTimeout:void 0,dT=typeof Promise=="function"?Promise:void 0,$Y=typeof queueMicrotask=="function"?queueMicrotask:typeof dT<"u"?function(e){return dT.resolve(null).then(e).catch(IY)}:X1;function IY(e){setTimeout(function(){throw e})}function P_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Gm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gm(t)}function pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nh=Math.random().toString(36).slice(2),ds="__reactFiber$"+nh,Qm="__reactProps$"+nh,uo="__reactContainer$"+nh,Q1="__reactEvents$"+nh,RY="__reactListeners$"+nh,DY="__reactHandles$"+nh;function Sc(e){var t=e[ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[uo]||r[ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fT(e);e!==null;){if(r=e[ds])return r;e=fT(e)}return t}e=r,r=e.parentNode}return null}function gg(e){return e=e[ds]||e[uo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function l0(e){return e[Qm]||null}var Z1=[],hd=-1;function Rl(e){return{current:e}}function er(e){0>hd||(e.current=Z1[hd],Z1[hd]=null,hd--)}function Vt(e,t){hd++,Z1[hd]=e.current,e.current=t}var kl={},Pn=Rl(kl),na=Rl(!1),Xc=kl;function nf(e,t){var r=e.type.contextTypes;if(!r)return kl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function aa(e){return e=e.childContextTypes,e!=null}function Jy(){er(na),er(Pn)}function hT(e,t,r){if(Pn.current!==kl)throw Error(ge(168));Vt(Pn,t),Vt(na,r)}function V3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ge(108,wK(e)||"Unknown",a));return mr({},r,n)}function Xy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kl,Xc=Pn.current,Vt(Pn,e),Vt(na,na.current),!0}function mT(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=V3(e,t,Xc),n.__reactInternalMemoizedMergedChildContext=e,er(na),er(Pn),Vt(Pn,e)):er(na),Vt(na,r)}var Ks=null,c0=!1,O_=!1;function W3(e){Ks===null?Ks=[e]:Ks.push(e)}function LY(e){c0=!0,W3(e)}function Dl(){if(!O_&&Ks!==null){O_=!0;var e=0,t=Ot;try{var r=Ks;for(Ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ks=null,c0=!1}catch(a){throw Ks!==null&&(Ks=Ks.slice(e+1)),p3(EC,Dl),a}finally{Ot=t,O_=!1}}return null}var md=[],pd=0,Qy=null,Zy=0,Ya=[],Ja=0,Qc=null,Xs=1,Qs="";function fc(e,t){md[pd++]=Zy,md[pd++]=Qy,Qy=e,Zy=t}function H3(e,t,r){Ya[Ja++]=Xs,Ya[Ja++]=Qs,Ya[Ja++]=Qc,Qc=e;var n=Xs;e=Qs;var a=32-Di(n)-1;n&=~(1<<a),r+=1;var i=32-Di(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Xs=1<<32-Di(t)+a|r<<a|n,Qs=i+e}else Xs=1<<i|r<<a|n,Qs=e}function DC(e){e.return!==null&&(fc(e,1),H3(e,1,0))}function LC(e){for(;e===Qy;)Qy=md[--pd],md[pd]=null,Zy=md[--pd],md[pd]=null;for(;e===Qc;)Qc=Ya[--Ja],Ya[Ja]=null,Qs=Ya[--Ja],Ya[Ja]=null,Xs=Ya[--Ja],Ya[Ja]=null}var Ta=null,Oa=null,sr=!1,Mi=null;function q3(e,t){var r=Za(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ta=e,Oa=pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ta=e,Oa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qc!==null?{id:Xs,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Za(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ta=e,Oa=null,!0):!1;default:return!1}}function eS(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tS(e){if(sr){var t=Oa;if(t){var r=t;if(!pT(e,t)){if(eS(e))throw Error(ge(418));t=pl(r.nextSibling);var n=Ta;t&&pT(e,t)?q3(n,r):(e.flags=e.flags&-4097|2,sr=!1,Ta=e)}}else{if(eS(e))throw Error(ge(418));e.flags=e.flags&-4097|2,sr=!1,Ta=e}}}function gT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ta=e}function dv(e){if(e!==Ta)return!1;if(!sr)return gT(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!J1(e.type,e.memoizedProps)),t&&(t=Oa)){if(eS(e))throw G3(),Error(ge(418));for(;t;)q3(e,t),t=pl(t.nextSibling)}if(gT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Oa=pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Oa=null}}else Oa=Ta?pl(e.stateNode.nextSibling):null;return!0}function G3(){for(var e=Oa;e;)e=pl(e.nextSibling)}function af(){Oa=Ta=null,sr=!1}function FC(e){Mi===null?Mi=[e]:Mi.push(e)}var FY=So.ReactCurrentBatchConfig;function Lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function fv(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vT(e){var t=e._init;return t(e._payload)}function K3(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=xl(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=D_(w,b.mode,_),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,_){var S=w.type;return S===ld?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&vT(S)===x.type)?(_=a(x,w.props),_.ref=Lh(b,x,w),_.return=b,_):(_=by(w.type,w.key,w.props,null,b.mode,_),_.ref=Lh(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=L_(w,b.mode,_),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,S){return x===null||x.tag!==7?(x=zc(w,b.mode,_,S),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=D_(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tv:return w=by(x.type,x.key,x.props,null,b.mode,w),w.ref=Lh(b,null,x),w.return=b,w;case od:return x=L_(x,b.mode,w),x.return=b,x;case Wo:var _=x._init;return f(b,_(x._payload),w)}if(lm(x)||Mh(x))return x=zc(x,b.mode,w,null),x.return=b,x;fv(b,x)}return null}function h(b,x,w,_){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:return w.key===S?c(b,x,w,_):null;case od:return w.key===S?u(b,x,w,_):null;case Wo:return S=w._init,h(b,x,S(w._payload),_)}if(lm(w)||Mh(w))return S!==null?null:d(b,x,w,_,null);fv(b,w)}return null}function m(b,x,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tv:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,S);case od:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,S);case Wo:var N=_._init;return m(b,x,w,N(_._payload),S)}if(lm(_)||Mh(_))return b=b.get(w)||null,d(x,b,_,S,null);fv(x,_)}return null}function g(b,x,w,_){for(var S=null,N=null,k=x,P=x=0,O=null;k!==null&&P<w.length;P++){k.index>P?(O=k,k=null):O=k.sibling;var A=h(b,k,w[P],_);if(A===null){k===null&&(k=O);break}e&&k&&A.alternate===null&&t(b,k),x=i(A,x,P),N===null?S=A:N.sibling=A,N=A,k=O}if(P===w.length)return r(b,k),sr&&fc(b,P),S;if(k===null){for(;P<w.length;P++)k=f(b,w[P],_),k!==null&&(x=i(k,x,P),N===null?S=k:N.sibling=k,N=k);return sr&&fc(b,P),S}for(k=n(b,k);P<w.length;P++)O=m(k,b,P,w[P],_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?P:O.key),x=i(O,x,P),N===null?S=O:N.sibling=O,N=O);return e&&k.forEach(function($){return t(b,$)}),sr&&fc(b,P),S}function p(b,x,w,_){var S=Mh(w);if(typeof S!="function")throw Error(ge(150));if(w=S.call(w),w==null)throw Error(ge(151));for(var N=S=null,k=x,P=x=0,O=null,A=w.next();k!==null&&!A.done;P++,A=w.next()){k.index>P?(O=k,k=null):O=k.sibling;var $=h(b,k,A.value,_);if($===null){k===null&&(k=O);break}e&&k&&$.alternate===null&&t(b,k),x=i($,x,P),N===null?S=$:N.sibling=$,N=$,k=O}if(A.done)return r(b,k),sr&&fc(b,P),S;if(k===null){for(;!A.done;P++,A=w.next())A=f(b,A.value,_),A!==null&&(x=i(A,x,P),N===null?S=A:N.sibling=A,N=A);return sr&&fc(b,P),S}for(k=n(b,k);!A.done;P++,A=w.next())A=m(k,b,P,A.value,_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?P:A.key),x=i(A,x,P),N===null?S=A:N.sibling=A,N=A);return e&&k.forEach(function(T){return t(b,T)}),sr&&fc(b,P),S}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===ld&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:e:{for(var S=w.key,N=x;N!==null;){if(N.key===S){if(S=w.type,S===ld){if(N.tag===7){r(b,N.sibling),x=a(N,w.props.children),x.return=b,b=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&vT(S)===N.type){r(b,N.sibling),x=a(N,w.props),x.ref=Lh(b,N,w),x.return=b,b=x;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===ld?(x=zc(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=by(w.type,w.key,w.props,null,b.mode,_),_.ref=Lh(b,x,w),_.return=b,b=_)}return o(b);case od:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=L_(w,b.mode,_),x.return=b,b=x}return o(b);case Wo:return N=w._init,v(b,x,N(w._payload),_)}if(lm(w))return g(b,x,w,_);if(Mh(w))return p(b,x,w,_);fv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=D_(w,b.mode,_),x.return=b,b=x),o(b)):r(b,x)}return v}var sf=K3(!0),Y3=K3(!1),ex=Rl(null),tx=null,gd=null,BC=null;function UC(){BC=gd=tx=null}function zC(e){var t=ex.current;er(ex),e._currentValue=t}function rS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Id(e,t){tx=e,BC=gd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function si(e){var t=e._currentValue;if(BC!==e)if(e={context:e,memoizedValue:t,next:null},gd===null){if(tx===null)throw Error(ge(308));gd=e,tx.dependencies={lanes:0,firstContext:e}}else gd=gd.next=e;return t}var Nc=null;function VC(e){Nc===null?Nc=[e]:Nc.push(e)}function J3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,VC(t)):(r.next=a.next,a.next=r),t.interleaved=r,fo(e,n)}function fo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ho=!1;function WC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,fo(e,r)}return a=n.interleaved,a===null?(t.next=t,VC(n)):(t.next=a.next,a.next=t),n.interleaved=t,fo(e,r)}function my(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PC(e,r)}}function yT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rx(e,t,r,n){var a=e.updateQueue;Ho=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=mr({},f,h);break e;case 2:Ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);eu|=o,e.lanes=o,e.memoizedState=f}}function xT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ge(191,a));a.call(n)}}}var vg={},bs=Rl(vg),Zm=Rl(vg),ep=Rl(vg);function kc(e){if(e===vg)throw Error(ge(174));return e}function HC(e,t){switch(Vt(ep,t),Vt(Zm,e),Vt(bs,vg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:R1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=R1(t,e)}er(bs),Vt(bs,t)}function of(){er(bs),er(Zm),er(ep)}function Q3(e){kc(ep.current);var t=kc(bs.current),r=R1(t,e.type);t!==r&&(Vt(Zm,e),Vt(bs,r))}function qC(e){Zm.current===e&&(er(bs),er(Zm))}var dr=Rl(0);function nx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var A_=[];function GC(){for(var e=0;e<A_.length;e++)A_[e]._workInProgressVersionPrimary=null;A_.length=0}var py=So.ReactCurrentDispatcher,T_=So.ReactCurrentBatchConfig,Zc=0,hr=null,Lr=null,Xr=null,ax=!1,jm=!1,tp=0,BY=0;function yn(){throw Error(ge(321))}function KC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vi(e[r],t[r]))return!1;return!0}function YC(e,t,r,n,a,i){if(Zc=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,py.current=e===null||e.memoizedState===null?WY:HY,e=r(n,a),jm){i=0;do{if(jm=!1,tp=0,25<=i)throw Error(ge(301));i+=1,Xr=Lr=null,t.updateQueue=null,py.current=qY,e=r(n,a)}while(jm)}if(py.current=ix,t=Lr!==null&&Lr.next!==null,Zc=0,Xr=Lr=hr=null,ax=!1,t)throw Error(ge(300));return e}function JC(){var e=tp!==0;return tp=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?hr.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function oi(){if(Lr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Xr===null?hr.memoizedState:Xr.next;if(t!==null)Xr=t,Lr=e;else{if(e===null)throw Error(ge(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Xr===null?hr.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function rp(e,t){return typeof t=="function"?t(e):t}function M_(e){var t=oi(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Zc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,hr.lanes|=d,eu|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Vi(n,t.memoizedState)||(ea=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,eu|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $_(e){var t=oi(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Vi(i,t.memoizedState)||(ea=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Z3(){}function e5(e,t){var r=hr,n=oi(),a=t(),i=!Vi(n.memoizedState,a);if(i&&(n.memoizedState=a,ea=!0),n=n.queue,XC(n5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,np(9,r5.bind(null,r,n,a,t),void 0,null),tn===null)throw Error(ge(349));Zc&30||t5(r,t,a)}return a}function t5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function r5(e,t,r,n){t.value=r,t.getSnapshot=n,a5(t)&&i5(e)}function n5(e,t,r){return r(function(){a5(t)&&i5(e)})}function a5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vi(e,r)}catch{return!0}}function i5(e){var t=fo(e,1);t!==null&&Li(t,e,1,-1)}function bT(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:e},t.queue=e,e=e.dispatch=VY.bind(null,hr,e),[t.memoizedState,e]}function np(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function s5(){return oi().memoizedState}function gy(e,t,r,n){var a=as();hr.flags|=e,a.memoizedState=np(1|t,r,void 0,n===void 0?null:n)}function u0(e,t,r,n){var a=oi();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var o=Lr.memoizedState;if(i=o.destroy,n!==null&&KC(n,o.deps)){a.memoizedState=np(t,r,i,n);return}}hr.flags|=e,a.memoizedState=np(1|t,r,i,n)}function wT(e,t){return gy(8390656,8,e,t)}function XC(e,t){return u0(2048,8,e,t)}function o5(e,t){return u0(4,2,e,t)}function l5(e,t){return u0(4,4,e,t)}function c5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function u5(e,t,r){return r=r!=null?r.concat([e]):null,u0(4,4,c5.bind(null,t,e),r)}function QC(){}function d5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&KC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function f5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&KC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function h5(e,t,r){return Zc&21?(Vi(r,t)||(r=y3(),hr.lanes|=r,eu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=r)}function UY(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var n=T_.transition;T_.transition={};try{e(!1),t()}finally{Ot=r,T_.transition=n}}function m5(){return oi().memoizedState}function zY(e,t,r){var n=yl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p5(e))g5(t,r);else if(r=J3(e,t,r,n),r!==null){var a=Vn();Li(r,e,n,a),v5(r,t,n)}}function VY(e,t,r){var n=yl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p5(e))g5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Vi(l,o)){var c=t.interleaved;c===null?(a.next=a,VC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=J3(e,t,a,n),r!==null&&(a=Vn(),Li(r,e,n,a),v5(r,t,n))}}function p5(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function g5(e,t){jm=ax=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function v5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PC(e,r)}}var ix={readContext:si,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},WY={readContext:si,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:si,useEffect:wT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gy(4194308,4,c5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gy(4194308,4,e,t)},useInsertionEffect:function(e,t){return gy(4,2,e,t)},useMemo:function(e,t){var r=as();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=as();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zY.bind(null,hr,e),[n.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:bT,useDebugValue:QC,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=bT(!1),t=e[0];return e=UY.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hr,a=as();if(sr){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),tn===null)throw Error(ge(349));Zc&30||t5(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,wT(n5.bind(null,n,i,e),[e]),n.flags|=2048,np(9,r5.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=as(),t=tn.identifierPrefix;if(sr){var r=Qs,n=Xs;r=(n&~(1<<32-Di(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HY={readContext:si,useCallback:d5,useContext:si,useEffect:XC,useImperativeHandle:u5,useInsertionEffect:o5,useLayoutEffect:l5,useMemo:f5,useReducer:M_,useRef:s5,useState:function(){return M_(rp)},useDebugValue:QC,useDeferredValue:function(e){var t=oi();return h5(t,Lr.memoizedState,e)},useTransition:function(){var e=M_(rp)[0],t=oi().memoizedState;return[e,t]},useMutableSource:Z3,useSyncExternalStore:e5,useId:m5,unstable_isNewReconciler:!1},qY={readContext:si,useCallback:d5,useContext:si,useEffect:XC,useImperativeHandle:u5,useInsertionEffect:o5,useLayoutEffect:l5,useMemo:f5,useReducer:$_,useRef:s5,useState:function(){return $_(rp)},useDebugValue:QC,useDeferredValue:function(e){var t=oi();return Lr===null?t.memoizedState=e:h5(t,Lr.memoizedState,e)},useTransition:function(){var e=$_(rp)[0],t=oi().memoizedState;return[e,t]},useMutableSource:Z3,useSyncExternalStore:e5,useId:m5,unstable_isNewReconciler:!1};function Si(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var d0={isMounted:function(e){return(e=e._reactInternals)?_u(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=yl(e),i=ao(n,a);i.payload=t,r!=null&&(i.callback=r),t=gl(e,i,a),t!==null&&(Li(t,e,a,n),my(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=yl(e),i=ao(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gl(e,i,a),t!==null&&(Li(t,e,a,n),my(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vn(),n=yl(e),a=ao(r,n);a.tag=2,t!=null&&(a.callback=t),t=gl(e,a,n),t!==null&&(Li(t,e,n,r),my(t,e,n))}};function _T(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ym(r,n)||!Ym(a,i):!0}function y5(e,t,r){var n=!1,a=kl,i=t.contextType;return typeof i=="object"&&i!==null?i=si(i):(a=aa(t)?Xc:Pn.current,n=t.contextTypes,i=(n=n!=null)?nf(e,a):kl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=d0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function jT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&d0.enqueueReplaceState(t,t.state,null)}function aS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},WC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=si(i):(i=aa(t)?Xc:Pn.current,a.context=nf(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nS(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&d0.enqueueReplaceState(a,a.state,null),rx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lf(e,t){try{var r="",n=t;do r+=bK(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function I_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function iS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GY=typeof WeakMap=="function"?WeakMap:Map;function x5(e,t,r){r=ao(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ox||(ox=!0,pS=n),iS(e,t)},r}function b5(e,t,r){r=ao(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){iS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){iS(e,t),typeof n!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function ST(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GY;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=oJ.bind(null,e,t,r),t.then(e,e))}function NT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ao(-1,1),t.tag=2,gl(r,t,1))),r.lanes|=1),e)}var KY=So.ReactCurrentOwner,ea=!1;function $n(e,t,r,n){t.child=e===null?Y3(t,null,r,n):sf(t,e.child,r,n)}function CT(e,t,r,n,a){r=r.render;var i=t.ref;return Id(t,a),n=YC(e,t,r,n,i,a),r=JC(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ho(e,t,a)):(sr&&r&&DC(t),t.flags|=1,$n(e,t,n,a),t.child)}function ET(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!sE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,w5(e,t,i,n,a)):(e=by(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ym,r(o,n)&&e.ref===t.ref)return ho(e,t,a)}return t.flags|=1,e=xl(i,n),e.ref=t.ref,e.return=t,t.child=e}function w5(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ym(i,n)&&e.ref===t.ref)if(ea=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,ho(e,t,a)}return sS(e,t,r,n,a)}function _5(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(yd,wa),wa|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(yd,wa),wa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Vt(yd,wa),wa|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Vt(yd,wa),wa|=n;return $n(e,t,a,r),t.child}function j5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sS(e,t,r,n,a){var i=aa(r)?Xc:Pn.current;return i=nf(t,i),Id(t,a),r=YC(e,t,r,n,i,a),n=JC(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ho(e,t,a)):(sr&&n&&DC(t),t.flags|=1,$n(e,t,r,a),t.child)}function PT(e,t,r,n,a){if(aa(r)){var i=!0;Xy(t)}else i=!1;if(Id(t,a),t.stateNode===null)vy(e,t),y5(t,r,n),aS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=si(u):(u=aa(r)?Xc:Pn.current,u=nf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&jT(t,o,n,u),Ho=!1;var h=t.memoizedState;o.state=h,rx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||na.current||Ho?(typeof d=="function"&&(nS(t,r,d,n),c=t.memoizedState),(l=Ho||_T(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,X3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Si(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=si(c):(c=aa(r)?Xc:Pn.current,c=nf(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&jT(t,o,n,c),Ho=!1,h=t.memoizedState,o.state=h,rx(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||na.current||Ho?(typeof m=="function"&&(nS(t,r,m,n),g=t.memoizedState),(u=Ho||_T(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return oS(e,t,r,n,i,a)}function oS(e,t,r,n,a,i){j5(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&mT(t,r,!1),ho(e,t,i);n=t.stateNode,KY.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sf(t,e.child,null,i),t.child=sf(t,null,l,i)):$n(e,t,l,i),t.memoizedState=n.state,a&&mT(t,r,!0),t.child}function S5(e){var t=e.stateNode;t.pendingContext?hT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hT(e,t.context,!1),HC(e,t.containerInfo)}function OT(e,t,r,n,a){return af(),FC(a),t.flags|=256,$n(e,t,r,n),t.child}var lS={dehydrated:null,treeContext:null,retryLane:0};function cS(e){return{baseLanes:e,cachePool:null,transitions:null}}function N5(e,t,r){var n=t.pendingProps,a=dr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vt(dr,a&1),e===null)return tS(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=m0(o,n,0,null),e=zc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=cS(r),t.memoizedState=lS,e):ZC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return YY(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xl(l,i):(i=zc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?cS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=lS,n}return i=e.child,e=i.sibling,n=xl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ZC(e,t){return t=m0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hv(e,t,r,n){return n!==null&&FC(n),sf(t,e.child,null,r),e=ZC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YY(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=I_(Error(ge(422))),hv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=m0({mode:"visible",children:n.children},a,0,null),i=zc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sf(t,e.child,null,o),t.child.memoizedState=cS(o),t.memoizedState=lS,i);if(!(t.mode&1))return hv(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ge(419)),n=I_(i,n,void 0),hv(e,t,o,n)}if(l=(o&e.childLanes)!==0,ea||l){if(n=tn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,fo(e,a),Li(n,e,a,-1))}return iE(),n=I_(Error(ge(421))),hv(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Oa=pl(a.nextSibling),Ta=t,sr=!0,Mi=null,e!==null&&(Ya[Ja++]=Xs,Ya[Ja++]=Qs,Ya[Ja++]=Qc,Xs=e.id,Qs=e.overflow,Qc=t),t=ZC(t,n.children),t.flags|=4096,t)}function AT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rS(e.return,t,r)}function R_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function k5(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($n(e,t,n.children,r),n=dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AT(e,r,t);else if(e.tag===19)AT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vt(dr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&nx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),R_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&nx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}R_(t,!0,r,null,i);break;case"together":R_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ho(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),eu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=xl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function JY(e,t,r){switch(t.tag){case 3:S5(t),af();break;case 5:Q3(t);break;case 1:aa(t.type)&&Xy(t);break;case 4:HC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Vt(ex,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?N5(e,t,r):(Vt(dr,dr.current&1),e=ho(e,t,r),e!==null?e.sibling:null);Vt(dr,dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return k5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vt(dr,dr.current),n)break;return null;case 22:case 23:return t.lanes=0,_5(e,t,r)}return ho(e,t,r)}var C5,uS,E5,P5;C5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};uS=function(){};E5=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,kc(bs.current);var i=null;switch(r){case"input":a=T1(e,a),n=T1(e,n),i=[];break;case"select":a=mr({},a,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":a=I1(e,a),n=I1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yy)}D1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};P5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fh(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XY(e,t,r){var n=t.pendingProps;switch(LC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(t),null;case 1:return aa(t.type)&&Jy(),xn(t),null;case 3:return n=t.stateNode,of(),er(na),er(Pn),GC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mi!==null&&(yS(Mi),Mi=null))),uS(e,t),xn(t),null;case 5:qC(t);var a=kc(ep.current);if(r=t.type,e!==null&&t.stateNode!=null)E5(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return xn(t),null}if(e=kc(bs.current),dv(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ds]=t,n[Qm]=i,e=(t.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(a=0;a<um.length;a++)Yt(um[a],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":BA(n,i),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",n);break;case"textarea":zA(n,i),Yt("invalid",n)}D1(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),a=["children",""+l]):zm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",n)}switch(r){case"input":rv(n),UA(n,i,!0);break;case"textarea":rv(n),VA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yy)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ds]=t,e[Qm]=n,C5(e,t,!1,!1),t.stateNode=e;e:{switch(o=L1(r,n),r){case"dialog":Yt("cancel",e),Yt("close",e),a=n;break;case"iframe":case"object":case"embed":Yt("load",e),a=n;break;case"video":case"audio":for(a=0;a<um.length;a++)Yt(um[a],e);a=n;break;case"source":Yt("error",e),a=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),a=n;break;case"details":Yt("toggle",e),a=n;break;case"input":BA(e,n),a=T1(e,n),Yt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mr({},n,{value:void 0}),Yt("invalid",e);break;case"textarea":zA(e,n),a=I1(e,n),Yt("invalid",e);break;default:a=n}D1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?s3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&a3(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vm(e,c):typeof c=="number"&&Vm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",e):c!=null&&jC(e,i,c,o))}switch(r){case"input":rv(e),UA(e,n,!1);break;case"textarea":rv(e),VA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ad(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yy)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xn(t),null;case 6:if(e&&t.stateNode!=null)P5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=kc(ep.current),kc(bs.current),dv(t)){if(n=t.stateNode,r=t.memoizedProps,n[ds]=t,(i=n.nodeValue!==r)&&(e=Ta,e!==null))switch(e.tag){case 3:uv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uv(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ds]=t,t.stateNode=n}return xn(t),null;case 13:if(er(dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&Oa!==null&&t.mode&1&&!(t.flags&128))G3(),af(),t.flags|=98560,i=!1;else if(i=dv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[ds]=t}else af(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xn(t),i=!1}else Mi!==null&&(yS(Mi),Mi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?zr===0&&(zr=3):iE())),t.updateQueue!==null&&(t.flags|=4),xn(t),null);case 4:return of(),uS(e,t),e===null&&Jm(t.stateNode.containerInfo),xn(t),null;case 10:return zC(t.type._context),xn(t),null;case 17:return aa(t.type)&&Jy(),xn(t),null;case 19:if(er(dr),i=t.memoizedState,i===null)return xn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fh(i,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nx(e),o!==null){for(t.flags|=128,Fh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vt(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&wr()>cf&&(t.flags|=128,n=!0,Fh(i,!1),t.lanes=4194304)}else{if(!n)if(e=nx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sr)return xn(t),null}else 2*wr()-i.renderingStartTime>cf&&r!==1073741824&&(t.flags|=128,n=!0,Fh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wr(),t.sibling=null,r=dr.current,Vt(dr,n?r&1|2:r&1),t):(xn(t),null);case 22:case 23:return aE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wa&1073741824&&(xn(t),t.subtreeFlags&6&&(t.flags|=8192)):xn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function QY(e,t){switch(LC(t),t.tag){case 1:return aa(t.type)&&Jy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return of(),er(na),er(Pn),GC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qC(t),null;case 13:if(er(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));af()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(dr),null;case 4:return of(),null;case 10:return zC(t.type._context),null;case 22:case 23:return aE(),null;case 24:return null;default:return null}}var mv=!1,jn=!1,ZY=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function vd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function dS(e,t,r){try{r()}catch(n){vr(e,t,n)}}var TT=!1;function eJ(e,t){if(K1=qy,e=$3(),RC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Y1={focusedElem:e,selectionRange:r},qy=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Si(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(_){vr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return g=TT,TT=!1,g}function Sm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&dS(t,r,i)}a=a.next}while(a!==n)}}function f0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function O5(e){var t=e.alternate;t!==null&&(e.alternate=null,O5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[Qm],delete t[Q1],delete t[RY],delete t[DY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function A5(e){return e.tag===5||e.tag===3||e.tag===4}function MT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||A5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yy));else if(n!==4&&(e=e.child,e!==null))for(hS(e,t,r),e=e.sibling;e!==null;)hS(e,t,r),e=e.sibling}function mS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mS(e,t,r),e=e.sibling;e!==null;)mS(e,t,r),e=e.sibling}var dn=null,Pi=!1;function Mo(e,t,r){for(r=r.child;r!==null;)T5(e,t,r),r=r.sibling}function T5(e,t,r){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(a0,r)}catch{}switch(r.tag){case 5:jn||vd(r,t);case 6:var n=dn,a=Pi;dn=null,Mo(e,t,r),dn=n,Pi=a,dn!==null&&(Pi?(e=dn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):dn.removeChild(r.stateNode));break;case 18:dn!==null&&(Pi?(e=dn,r=r.stateNode,e.nodeType===8?P_(e.parentNode,r):e.nodeType===1&&P_(e,r),Gm(e)):P_(dn,r.stateNode));break;case 4:n=dn,a=Pi,dn=r.stateNode.containerInfo,Pi=!0,Mo(e,t,r),dn=n,Pi=a;break;case 0:case 11:case 14:case 15:if(!jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&dS(r,t,o),a=a.next}while(a!==n)}Mo(e,t,r);break;case 1:if(!jn&&(vd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,t,l)}Mo(e,t,r);break;case 21:Mo(e,t,r);break;case 22:r.mode&1?(jn=(n=jn)||r.memoizedState!==null,Mo(e,t,r),jn=n):Mo(e,t,r);break;default:Mo(e,t,r)}}function $T(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ZY),t.forEach(function(n){var a=cJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function vi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:dn=l.stateNode,Pi=!1;break e;case 3:dn=l.stateNode.containerInfo,Pi=!0;break e;case 4:dn=l.stateNode.containerInfo,Pi=!0;break e}l=l.return}if(dn===null)throw Error(ge(160));T5(i,o,a),dn=null,Pi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){vr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)M5(t,e),t=t.sibling}function M5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),ns(e),n&4){try{Sm(3,e,e.return),f0(3,e)}catch(p){vr(e,e.return,p)}try{Sm(5,e,e.return)}catch(p){vr(e,e.return,p)}}break;case 1:vi(t,e),ns(e),n&512&&r!==null&&vd(r,r.return);break;case 5:if(vi(t,e),ns(e),n&512&&r!==null&&vd(r,r.return),e.flags&32){var a=e.stateNode;try{Vm(a,"")}catch(p){vr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&t3(a,i),L1(l,o);var u=L1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?s3(a,f):d==="dangerouslySetInnerHTML"?a3(a,f):d==="children"?Vm(a,f):jC(a,d,f,u)}switch(l){case"input":M1(a,i);break;case"textarea":r3(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ad(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ad(a,!!i.multiple,i.defaultValue,!0):Ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qm]=i}catch(p){vr(e,e.return,p)}}break;case 6:if(vi(t,e),ns(e),n&4){if(e.stateNode===null)throw Error(ge(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){vr(e,e.return,p)}}break;case 3:if(vi(t,e),ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gm(t.containerInfo)}catch(p){vr(e,e.return,p)}break;case 4:vi(t,e),ns(e);break;case 13:vi(t,e),ns(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(rE=wr())),n&4&&$T(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jn=(u=jn)||d,vi(t,e),jn=u):vi(t,e),ns(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Pe=e,d=e.child;d!==null;){for(f=Pe=d;Pe!==null;){switch(h=Pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Sm(4,h,h.return);break;case 1:vd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){vr(n,r,p)}}break;case 5:vd(h,h.return);break;case 22:if(h.memoizedState!==null){RT(f);continue}}m!==null?(m.return=h,Pe=m):RT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=i3("display",o))}catch(p){vr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vi(t,e),ns(e),n&4&&$T(e);break;case 21:break;default:vi(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(A5(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vm(a,""),n.flags&=-33);var i=MT(e);mS(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=MT(e);hS(e,l,o);break;default:throw Error(ge(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tJ(e,t,r){Pe=e,$5(e)}function $5(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var a=Pe,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||mv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||jn;l=mv;var u=jn;if(mv=o,(jn=c)&&!u)for(Pe=a;Pe!==null;)o=Pe,c=o.child,o.tag===22&&o.memoizedState!==null?DT(a):c!==null?(c.return=o,Pe=c):DT(a);for(;i!==null;)Pe=i,$5(i),i=i.sibling;Pe=a,mv=l,jn=u}IT(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Pe=i):IT(e)}}function IT(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jn||f0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Si(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xT(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xT(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}jn||t.flags&512&&fS(t)}catch(h){vr(t,t.return,h)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function RT(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function DT(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{f0(4,t)}catch(c){vr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){vr(t,a,c)}}var i=t.return;try{fS(t)}catch(c){vr(t,i,c)}break;case 5:var o=t.return;try{fS(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var rJ=Math.ceil,sx=So.ReactCurrentDispatcher,eE=So.ReactCurrentOwner,ri=So.ReactCurrentBatchConfig,vt=0,tn=null,Ar=null,mn=0,wa=0,yd=Rl(0),zr=0,ap=null,eu=0,h0=0,tE=0,Nm=null,Zn=null,rE=0,cf=1/0,zs=null,ox=!1,pS=null,vl=null,pv=!1,ol=null,lx=0,km=0,gS=null,yy=-1,xy=0;function Vn(){return vt&6?wr():yy!==-1?yy:yy=wr()}function yl(e){return e.mode&1?vt&2&&mn!==0?mn&-mn:FY.transition!==null?(xy===0&&(xy=y3()),xy):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:N3(e.type)),e):1}function Li(e,t,r,n){if(50<km)throw km=0,gS=null,Error(ge(185));mg(e,r,n),(!(vt&2)||e!==tn)&&(e===tn&&(!(vt&2)&&(h0|=r),zr===4&&Xo(e,mn)),ia(e,n),r===1&&vt===0&&!(t.mode&1)&&(cf=wr()+500,c0&&Dl()))}function ia(e,t){var r=e.callbackNode;FK(e,t);var n=Hy(e,e===tn?mn:0);if(n===0)r!==null&&qA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qA(r),t===1)e.tag===0?LY(LT.bind(null,e)):W3(LT.bind(null,e)),$Y(function(){!(vt&6)&&Dl()}),r=null;else{switch(x3(n)){case 1:r=EC;break;case 4:r=g3;break;case 16:r=Wy;break;case 536870912:r=v3;break;default:r=Wy}r=z5(r,I5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function I5(e,t){if(yy=-1,xy=0,vt&6)throw Error(ge(327));var r=e.callbackNode;if(Rd()&&e.callbackNode!==r)return null;var n=Hy(e,e===tn?mn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cx(e,n);else{t=n;var a=vt;vt|=2;var i=D5();(tn!==e||mn!==t)&&(zs=null,cf=wr()+500,Uc(e,t));do try{iJ();break}catch(l){R5(e,l)}while(!0);UC(),sx.current=i,vt=a,Ar!==null?t=0:(tn=null,mn=0,t=zr)}if(t!==0){if(t===2&&(a=V1(e),a!==0&&(n=a,t=vS(e,a))),t===1)throw r=ap,Uc(e,0),Xo(e,n),ia(e,wr()),r;if(t===6)Xo(e,n);else{if(a=e.current.alternate,!(n&30)&&!nJ(a)&&(t=cx(e,n),t===2&&(i=V1(e),i!==0&&(n=i,t=vS(e,i))),t===1))throw r=ap,Uc(e,0),Xo(e,n),ia(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:hc(e,Zn,zs);break;case 3:if(Xo(e,n),(n&130023424)===n&&(t=rE+500-wr(),10<t)){if(Hy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=X1(hc.bind(null,e,Zn,zs),t);break}hc(e,Zn,zs);break;case 4:if(Xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Di(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rJ(n/1960))-n,10<n){e.timeoutHandle=X1(hc.bind(null,e,Zn,zs),n);break}hc(e,Zn,zs);break;case 5:hc(e,Zn,zs);break;default:throw Error(ge(329))}}}return ia(e,wr()),e.callbackNode===r?I5.bind(null,e):null}function vS(e,t){var r=Nm;return e.current.memoizedState.isDehydrated&&(Uc(e,t).flags|=256),e=cx(e,t),e!==2&&(t=Zn,Zn=r,t!==null&&yS(t)),e}function yS(e){Zn===null?Zn=e:Zn.push.apply(Zn,e)}function nJ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Vi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xo(e,t){for(t&=~tE,t&=~h0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Di(t),n=1<<r;e[r]=-1,t&=~n}}function LT(e){if(vt&6)throw Error(ge(327));Rd();var t=Hy(e,0);if(!(t&1))return ia(e,wr()),null;var r=cx(e,t);if(e.tag!==0&&r===2){var n=V1(e);n!==0&&(t=n,r=vS(e,n))}if(r===1)throw r=ap,Uc(e,0),Xo(e,t),ia(e,wr()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hc(e,Zn,zs),ia(e,wr()),null}function nE(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(cf=wr()+500,c0&&Dl())}}function tu(e){ol!==null&&ol.tag===0&&!(vt&6)&&Rd();var t=vt;vt|=1;var r=ri.transition,n=Ot;try{if(ri.transition=null,Ot=1,e)return e()}finally{Ot=n,ri.transition=r,vt=t,!(vt&6)&&Dl()}}function aE(){wa=yd.current,er(yd)}function Uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MY(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(LC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jy();break;case 3:of(),er(na),er(Pn),GC();break;case 5:qC(n);break;case 4:of();break;case 13:er(dr);break;case 19:er(dr);break;case 10:zC(n.type._context);break;case 22:case 23:aE()}r=r.return}if(tn=e,Ar=e=xl(e.current,null),mn=wa=t,zr=0,ap=null,tE=h0=eu=0,Zn=Nm=null,Nc!==null){for(t=0;t<Nc.length;t++)if(r=Nc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Nc=null}return e}function R5(e,t){do{var r=Ar;try{if(UC(),py.current=ix,ax){for(var n=hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}ax=!1}if(Zc=0,Xr=Lr=hr=null,jm=!1,tp=0,eE.current=null,r===null||r.return===null){zr=1,ap=t,Ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=mn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=NT(o);if(m!==null){m.flags&=-257,kT(m,o,l,i,t),m.mode&1&&ST(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){ST(i,u,t),iE();break e}c=Error(ge(426))}}else if(sr&&l.mode&1){var v=NT(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),kT(v,o,l,i,t),FC(lf(c,l));break e}}i=c=lf(c,l),zr!==4&&(zr=2),Nm===null?Nm=[i]:Nm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=x5(i,c,t);yT(i,b);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vl===null||!vl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=b5(i,l,t);yT(i,_);break e}}i=i.return}while(i!==null)}F5(r)}catch(S){t=S,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function D5(){var e=sx.current;return sx.current=ix,e===null?ix:e}function iE(){(zr===0||zr===3||zr===2)&&(zr=4),tn===null||!(eu&268435455)&&!(h0&268435455)||Xo(tn,mn)}function cx(e,t){var r=vt;vt|=2;var n=D5();(tn!==e||mn!==t)&&(zs=null,Uc(e,t));do try{aJ();break}catch(a){R5(e,a)}while(!0);if(UC(),vt=r,sx.current=n,Ar!==null)throw Error(ge(261));return tn=null,mn=0,zr}function aJ(){for(;Ar!==null;)L5(Ar)}function iJ(){for(;Ar!==null&&!OK();)L5(Ar)}function L5(e){var t=U5(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?F5(e):Ar=t,eE.current=null}function F5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=QY(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Ar=null;return}}else if(r=XY(r,t,wa),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);zr===0&&(zr=5)}function hc(e,t,r){var n=Ot,a=ri.transition;try{ri.transition=null,Ot=1,sJ(e,t,r,n)}finally{ri.transition=a,Ot=n}return null}function sJ(e,t,r,n){do Rd();while(ol!==null);if(vt&6)throw Error(ge(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(BK(e,i),e===tn&&(Ar=tn=null,mn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pv||(pv=!0,z5(Wy,function(){return Rd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ri.transition,ri.transition=null;var o=Ot;Ot=1;var l=vt;vt|=4,eE.current=null,eJ(e,r),M5(r,e),kY(Y1),qy=!!K1,Y1=K1=null,e.current=r,tJ(r),AK(),vt=l,Ot=o,ri.transition=i}else e.current=r;if(pv&&(pv=!1,ol=e,lx=a),i=e.pendingLanes,i===0&&(vl=null),$K(r.stateNode),ia(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ox)throw ox=!1,e=pS,pS=null,e;return lx&1&&e.tag!==0&&Rd(),i=e.pendingLanes,i&1?e===gS?km++:(km=0,gS=e):km=0,Dl(),null}function Rd(){if(ol!==null){var e=x3(lx),t=ri.transition,r=Ot;try{if(ri.transition=null,Ot=16>e?16:e,ol===null)var n=!1;else{if(e=ol,ol=null,lx=0,vt&6)throw Error(ge(331));var a=vt;for(vt|=4,Pe=e.current;Pe!==null;){var i=Pe,o=i.child;if(Pe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pe=u;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:Sm(8,d,i)}var f=d.child;if(f!==null)f.return=d,Pe=f;else for(;Pe!==null;){d=Pe;var h=d.sibling,m=d.return;if(O5(d),d===u){Pe=null;break}if(h!==null){h.return=m,Pe=h;break}Pe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Pe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Pe=o;else e:for(;Pe!==null;){if(i=Pe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Pe=b;break e}Pe=i.return}}var x=e.current;for(Pe=x;Pe!==null;){o=Pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Pe=w;else e:for(o=x;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:f0(9,l)}}catch(S){vr(l,l.return,S)}if(l===o){Pe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Pe=_;break e}Pe=l.return}}if(vt=a,Dl(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(a0,e)}catch{}n=!0}return n}finally{Ot=r,ri.transition=t}}return!1}function FT(e,t,r){t=lf(r,t),t=x5(e,t,1),e=gl(e,t,1),t=Vn(),e!==null&&(mg(e,1,t),ia(e,t))}function vr(e,t,r){if(e.tag===3)FT(e,e,r);else for(;t!==null;){if(t.tag===3){FT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){e=lf(r,e),e=b5(t,e,1),t=gl(t,e,1),e=Vn(),t!==null&&(mg(t,1,e),ia(t,e));break}}t=t.return}}function oJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(mn&r)===r&&(zr===4||zr===3&&(mn&130023424)===mn&&500>wr()-rE?Uc(e,0):tE|=r),ia(e,t)}function B5(e,t){t===0&&(e.mode&1?(t=iv,iv<<=1,!(iv&130023424)&&(iv=4194304)):t=1);var r=Vn();e=fo(e,t),e!==null&&(mg(e,t,r),ia(e,r))}function lJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),B5(e,r)}function cJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),B5(e,r)}var U5;U5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ea=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ea=!1,JY(e,t,r);ea=!!(e.flags&131072)}else ea=!1,sr&&t.flags&1048576&&H3(t,Zy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vy(e,t),e=t.pendingProps;var a=nf(t,Pn.current);Id(t,r),a=YC(null,t,n,e,a,r);var i=JC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,aa(n)?(i=!0,Xy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,WC(t),a.updater=d0,t.stateNode=a,a._reactInternals=t,aS(t,n,e,r),t=oS(null,t,n,!0,i,r)):(t.tag=0,sr&&i&&DC(t),$n(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=dJ(n),e=Si(n,e),a){case 0:t=sS(null,t,n,e,r);break e;case 1:t=PT(null,t,n,e,r);break e;case 11:t=CT(null,t,n,e,r);break e;case 14:t=ET(null,t,n,Si(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),sS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),PT(e,t,n,a,r);case 3:e:{if(S5(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,a=i.element,X3(e,t),rx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=lf(Error(ge(423)),t),t=OT(e,t,n,r,a);break e}else if(n!==a){a=lf(Error(ge(424)),t),t=OT(e,t,n,r,a);break e}else for(Oa=pl(t.stateNode.containerInfo.firstChild),Ta=t,sr=!0,Mi=null,r=Y3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(af(),n===a){t=ho(e,t,r);break e}$n(e,t,n,r)}t=t.child}return t;case 5:return Q3(t),e===null&&tS(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,J1(n,a)?o=null:i!==null&&J1(n,i)&&(t.flags|=32),j5(e,t),$n(e,t,o,r),t.child;case 6:return e===null&&tS(t),null;case 13:return N5(e,t,r);case 4:return HC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sf(t,null,n,r):$n(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),CT(e,t,n,a,r);case 7:return $n(e,t,t.pendingProps,r),t.child;case 8:return $n(e,t,t.pendingProps.children,r),t.child;case 12:return $n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Vt(ex,n._currentValue),n._currentValue=o,i!==null)if(Vi(i.value,o)){if(i.children===a.children&&!na.current){t=ho(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ao(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),rS(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),rS(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Id(t,r),a=si(a),n=n(a),t.flags|=1,$n(e,t,n,r),t.child;case 14:return n=t.type,a=Si(n,t.pendingProps),a=Si(n.type,a),ET(e,t,n,a,r);case 15:return w5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),vy(e,t),t.tag=1,aa(n)?(e=!0,Xy(t)):e=!1,Id(t,r),y5(t,n,a),aS(t,n,a,r),oS(null,t,n,!0,e,r);case 19:return k5(e,t,r);case 22:return _5(e,t,r)}throw Error(ge(156,t.tag))};function z5(e,t){return p3(e,t)}function uJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Za(e,t,r,n){return new uJ(e,t,r,n)}function sE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dJ(e){if(typeof e=="function")return sE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===NC)return 11;if(e===kC)return 14}return 2}function xl(e,t){var r=e.alternate;return r===null?(r=Za(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function by(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")sE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ld:return zc(r.children,a,i,t);case SC:o=8,a|=8;break;case E1:return e=Za(12,r,t,a|2),e.elementType=E1,e.lanes=i,e;case P1:return e=Za(13,r,t,a),e.elementType=P1,e.lanes=i,e;case O1:return e=Za(19,r,t,a),e.elementType=O1,e.lanes=i,e;case QF:return m0(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case JF:o=10;break e;case XF:o=9;break e;case NC:o=11;break e;case kC:o=14;break e;case Wo:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Za(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zc(e,t,r,n){return e=Za(7,e,n,t),e.lanes=r,e}function m0(e,t,r,n){return e=Za(22,e,n,t),e.elementType=QF,e.lanes=r,e.stateNode={isHidden:!1},e}function D_(e,t,r){return e=Za(6,e,null,t),e.lanes=r,e}function L_(e,t,r){return t=Za(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=y_(0),this.expirationTimes=y_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=y_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function oE(e,t,r,n,a,i,o,l,c){return e=new fJ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Za(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},WC(i),e}function hJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:od,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V5(e){if(!e)return kl;e=e._reactInternals;e:{if(_u(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(aa(r))return V3(e,r,t)}return t}function W5(e,t,r,n,a,i,o,l,c){return e=oE(r,n,!0,e,a,i,o,l,c),e.context=V5(null),r=e.current,n=Vn(),a=yl(r),i=ao(n,a),i.callback=t??null,gl(r,i,a),e.current.lanes=a,mg(e,a,n),ia(e,n),e}function p0(e,t,r,n){var a=t.current,i=Vn(),o=yl(a);return r=V5(r),t.context===null?t.context=r:t.pendingContext=r,t=ao(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gl(a,t,o),e!==null&&(Li(e,a,o,i),my(e,a,o)),o}function ux(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function lE(e,t){BT(e,t),(e=e.alternate)&&BT(e,t)}function mJ(){return null}var H5=typeof reportError=="function"?reportError:function(e){console.error(e)};function cE(e){this._internalRoot=e}g0.prototype.render=cE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));p0(e,t,null,null)};g0.prototype.unmount=cE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tu(function(){p0(null,e,null,null)}),t[uo]=null}};function g0(e){this._internalRoot=e}g0.prototype.unstable_scheduleHydration=function(e){if(e){var t=_3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jo.length&&t!==0&&t<Jo[r].priority;r++);Jo.splice(r,0,e),r===0&&S3(e)}};function uE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function v0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UT(){}function pJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ux(o);i.call(u)}}var o=W5(t,n,e,0,null,!1,!1,"",UT);return e._reactRootContainer=o,e[uo]=o.current,Jm(e.nodeType===8?e.parentNode:e),tu(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ux(c);l.call(u)}}var c=oE(e,0,!1,null,null,!1,!1,"",UT);return e._reactRootContainer=c,e[uo]=c.current,Jm(e.nodeType===8?e.parentNode:e),tu(function(){p0(t,c,r,n)}),c}function y0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ux(o);l.call(c)}}p0(t,o,e,a)}else o=pJ(r,t,e,a,n);return ux(o)}b3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cm(t.pendingLanes);r!==0&&(PC(t,r|1),ia(t,wr()),!(vt&6)&&(cf=wr()+500,Dl()))}break;case 13:tu(function(){var n=fo(e,1);if(n!==null){var a=Vn();Li(n,e,1,a)}}),lE(e,1)}};OC=function(e){if(e.tag===13){var t=fo(e,134217728);if(t!==null){var r=Vn();Li(t,e,134217728,r)}lE(e,134217728)}};w3=function(e){if(e.tag===13){var t=yl(e),r=fo(e,t);if(r!==null){var n=Vn();Li(r,e,t,n)}lE(e,t)}};_3=function(){return Ot};j3=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};B1=function(e,t,r){switch(t){case"input":if(M1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=l0(n);if(!a)throw Error(ge(90));e3(n),M1(n,a)}}}break;case"textarea":r3(e,r);break;case"select":t=r.value,t!=null&&Ad(e,!!r.multiple,t,!1)}};c3=nE;u3=tu;var gJ={usingClientEntryPoint:!1,Events:[gg,fd,l0,o3,l3,nE]},Bh={findFiberByHostInstance:Sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vJ={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:So.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h3(e),e===null?null:e.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||mJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{a0=gv.inject(vJ),xs=gv}catch{}}Fa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gJ;Fa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uE(t))throw Error(ge(200));return hJ(e,t,null,r)};Fa.createRoot=function(e,t){if(!uE(e))throw Error(ge(299));var r=!1,n="",a=H5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=oE(e,1,!1,null,null,r,!1,n,a),e[uo]=t.current,Jm(e.nodeType===8?e.parentNode:e),new cE(t)};Fa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=h3(t),e=e===null?null:e.stateNode,e};Fa.flushSync=function(e){return tu(e)};Fa.hydrate=function(e,t,r){if(!v0(t))throw Error(ge(200));return y0(null,e,t,!0,r)};Fa.hydrateRoot=function(e,t,r){if(!uE(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=H5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=W5(t,null,e,1,r??null,a,!1,i,o),e[uo]=t.current,Jm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new g0(t)};Fa.render=function(e,t,r){if(!v0(t))throw Error(ge(200));return y0(null,e,t,!1,r)};Fa.unmountComponentAtNode=function(e){if(!v0(e))throw Error(ge(40));return e._reactRootContainer?(tu(function(){y0(null,null,e,!1,function(){e._reactRootContainer=null,e[uo]=null})}),!0):!1};Fa.unstable_batchedUpdates=nE;Fa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!v0(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return y0(e,t,r,!1,n)};Fa.version="18.3.1-next-f1338f8080-20240426";function q5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q5)}catch(e){console.error(e)}}q5(),qF.exports=Fa;var ju=qF.exports;const G5=Ct(ju);var K5,zT=ju;K5=zT.createRoot,zT.hydrateRoot;const yJ=1,xJ=1e6;let F_=0;function bJ(){return F_=(F_+1)%Number.MAX_SAFE_INTEGER,F_.toString()}const B_=new Map,VT=e=>{if(B_.has(e))return;const t=setTimeout(()=>{B_.delete(e),Cm({type:"REMOVE_TOAST",toastId:e})},xJ);B_.set(e,t)},wJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,yJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?VT(r):e.toasts.forEach(n=>{VT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},wy=[];let _y={toasts:[]};function Cm(e){_y=wJ(_y,e),wy.forEach(t=>{t(_y)})}function _J({...e}){const t=bJ(),r=a=>Cm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Cm({type:"DISMISS_TOAST",toastId:t});return Cm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function dE(){const[e,t]=y.useState(_y);return y.useEffect(()=>(wy.push(t),()=>{const r=wy.indexOf(t);r>-1&&wy.splice(r,1)}),[e]),{...e,toast:_J,dismiss:r=>Cm({type:"DISMISS_TOAST",toastId:r})}}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function WT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ps(...e){return t=>{let r=!1;const n=e.map(a=>{const i=WT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():WT(e[a],null)}}}}function Ke(...e){return y.useCallback(Ps(...e),e)}function jJ(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gn(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,SJ(a,...t)]}function SJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function HT(e){const t=NJ(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(CJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function NJ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=PJ(a),l=EJ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kJ=Symbol("radix.slottable");function CJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kJ}function EJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function PJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function x0(e){const t=e+"CollectionProvider",[r,n]=gn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:b}=p,x=M.useRef(null),w=M.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:x,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=HT(l),u=M.forwardRef((p,v)=>{const{scope:b,children:x}=p,w=i(l,b),_=Ke(v,w.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=HT(d),m=M.forwardRef((p,v)=>{const{scope:b,children:x,...w}=p,_=M.useRef(null),S=Ke(v,_),N=i(d,b);return M.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:S,children:x})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}function OJ(e){const t=AJ(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(MJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function AJ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=IJ(a),l=$J(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TJ=Symbol("radix.slottable");function MJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TJ}function $J(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function IJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var RJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=RJ.reduce((e,t)=>{const r=OJ(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fE(e,t){e&&ju.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function DJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var LJ="DismissableLayer",xS="dismissableLayer.update",FJ="dismissableLayer.pointerDownOutside",BJ="dismissableLayer.focusOutside",qT,Y5=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Su=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(Y5),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=Ke(t,k=>f(k)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,S=zJ(k=>{const P=k.target,O=[...u.branches].some(A=>A.contains(P));!_||O||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),N=VJ(k=>{const P=k.target;[...u.branches].some(A=>A.contains(P))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return DJ(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),GT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=qT)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),GT())},[d,u]),y.useEffect(()=>{const k=()=>m({});return document.addEventListener(xS,k),()=>document.removeEventListener(xS,k)},[]),s.jsx(Me.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,N.onFocusCapture),onBlurCapture:he(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,S.onPointerDownCapture)})});Su.displayName=LJ;var UJ="DismissableLayerBranch",J5=y.forwardRef((e,t)=>{const r=y.useContext(Y5),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});J5.displayName=UJ;function zJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){X5(FJ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function VJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&X5(BJ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function GT(){const e=new CustomEvent(xS);document.dispatchEvent(e)}function X5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?fE(a,i):a.dispatchEvent(i)}var WJ=Su,HJ=J5,Sr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},qJ="Portal",ah=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);Sr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?G5.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});ah.displayName=qJ;function GJ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Hr=e=>{const{present:t,children:r}=e,n=KJ(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ke(n.ref,YJ(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Hr.displayName="Presence";function KJ(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=GJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=vv(n.current);i.current=l==="mounted"?u:"none"},[l]),Sr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=vv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=vv(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=vv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function vv(e){return(e==null?void 0:e.animationName)||"none"}function YJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var JJ=n0[" useInsertionEffect ".trim().toString()]||Sr;function Wi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=XJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=QJ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function XJ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return JJ(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function QJ(e){return typeof e=="function"}var Q5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ZJ="VisuallyHidden",b0=y.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...Q5,...e.style}}));b0.displayName=ZJ;var eX=b0,hE="ToastProvider",[mE,tX,rX]=x0("Toast"),[Z5]=gn("Toast",[rX]),[nX,w0]=Z5(hE),eB=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${hE}\`. Expected non-empty \`string\`.`),s.jsx(mE.Provider,{scope:t,children:s.jsx(nX,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};eB.displayName=hE;var tB="ToastViewport",aX=["F8"],bS="toast.viewportPause",wS="toast.viewportResume",rB=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=aX,label:a="Notifications ({hotkey})",...i}=e,o=w0(tB,r),l=tX(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=Ke(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(bS);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(wS);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,S=[_,...vX(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var S,N,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const P=document.activeElement,O=x.shiftKey;if(x.target===v&&O){(S=u.current)==null||S.focus();return}const T=p({tabbingDirection:O?"backwards":"forwards"}),U=T.findIndex(I=>I===P);U_(T.slice(U+1))?x.preventDefault():O?(N=u.current)==null||N.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),s.jsxs(HJ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(_S,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});U_(v)}}),s.jsx(mE.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(_S,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});U_(v)}})]})});rB.displayName=tB;var nB="ToastFocusProxy",_S=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=w0(nB,r);return s.jsx(b0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});_S.displayName=nB;var yg="Toast",iX="toast.swipeStart",sX="toast.swipeMove",oX="toast.swipeCancel",lX="toast.swipeEnd",aB=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Wi({prop:n,defaultProp:a??!0,onChange:i,caller:yg});return s.jsx(Hr,{present:r||l,children:s.jsx(dX,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xr(e.onPause),onResume:xr(e.onResume),onSwipeStart:he(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});aB.displayName=yg;var[cX,uX]=Z5(yg,{onClose(){}}),dX=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=w0(yg,r),[v,b]=y.useState(null),x=Ke(t,I=>b(I)),w=y.useRef(null),_=y.useRef(null),S=a||p.duration,N=y.useRef(0),k=y.useRef(S),P=y.useRef(0),{onToastAdd:O,onToastRemove:A}=p,$=xr(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=p.viewport)==null||V.focus()),o()}),T=y.useCallback(I=>{!I||I===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout($,I))},[$]);y.useEffect(()=>{const I=p.viewport;if(I){const V=()=>{T(k.current),u==null||u()},L=()=>{const z=new Date().getTime()-N.current;k.current=k.current-z,window.clearTimeout(P.current),c==null||c()};return I.addEventListener(bS,L),I.addEventListener(wS,V),()=>{I.removeEventListener(bS,L),I.removeEventListener(wS,V)}}},[p.viewport,S,c,u,T]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&T(S)},[i,S,p.isClosePausedRef,T]),y.useEffect(()=>(O(),()=>A()),[O,A]);const U=y.useMemo(()=>v?dB(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[U&&s.jsx(fX,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:U}),s.jsx(cX,{scope:r,onClose:$,children:ju.createPortal(s.jsx(mE.ItemSlot,{scope:r,children:s.jsx(WJ,{asChild:!0,onEscapeKeyDown:he(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||$(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:he(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:he(e.onPointerMove,I=>{if(!w.current)return;const V=I.clientX-w.current.x,L=I.clientY-w.current.y,z=!!_.current,R=["left","right"].includes(p.swipeDirection),F=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=R?F(0,V):0,re=R?0:F(0,L),Z=I.pointerType==="touch"?10:2,j={x:K,y:re},C={originalEvent:I,delta:j};z?(_.current=j,yv(sX,f,C,{discrete:!1})):KT(j,p.swipeDirection,Z)?(_.current=j,yv(iX,d,C,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(V)>Z||Math.abs(L)>Z)&&(w.current=null)}),onPointerUp:he(e.onPointerUp,I=>{const V=_.current,L=I.target;if(L.hasPointerCapture(I.pointerId)&&L.releasePointerCapture(I.pointerId),_.current=null,w.current=null,V){const z=I.currentTarget,R={originalEvent:I,delta:V};KT(V,p.swipeDirection,p.swipeThreshold)?yv(lX,m,R,{discrete:!0}):yv(oX,h,R,{discrete:!0}),z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),fX=e=>{const{__scopeToast:t,children:r,...n}=e,a=w0(yg,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return pX(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ah,{asChild:!0,children:s.jsx(b0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},hX="ToastTitle",iB=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});iB.displayName=hX;var mX="ToastDescription",sB=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});sB.displayName=mX;var oB="ToastAction",lB=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(uB,{altText:r,asChild:!0,children:s.jsx(pE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${oB}\`. Expected non-empty \`string\`.`),null)});lB.displayName=oB;var cB="ToastClose",pE=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=uX(cB,r);return s.jsx(uB,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,a.onClose)})})});pE.displayName=cB;var uB=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function dB(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),gX(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...dB(n))}}),t}function yv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?fE(a,i):a.dispatchEvent(i)}var KT=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function pX(e=()=>{}){const t=xr(e);Sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function gX(e){return e.nodeType===e.ELEMENT_NODE}function vX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var yX=eB,fB=rB,hB=aB,mB=iB,pB=sB,gB=lB,vB=pE;function yB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=yB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=yB(e))&&(n&&(n+=" "),n+=t);return n}const YT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,JT=tt,_0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return JT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=YT(d)||YT(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return JT(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...bX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:xB("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(wX,{ref:i,iconNode:t,className:xB(`lucide-${xX(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ye("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=ye("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=ye("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=ye("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=ye("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ye("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ye("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=ye("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=ye("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=ye("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ye("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ye("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ye("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=ye("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=ye("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=ye("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=ye("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ye("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ye("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=ye("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=ye("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ye("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=ye("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ye("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ye("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ye("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=ye("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=ye("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=ye("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=ye("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=ye("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=ye("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ye("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=ye("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ye("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=ye("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=ye("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=ye("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=ye("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=ye("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=ye("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=ye("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ye("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ye("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=ye("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ye("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ye("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ye("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ye("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ni=ye("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=ye("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=ye("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=ye("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ye("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ye("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=ye("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=ye("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ye("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=ye("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bE="-",XX=e=>{const t=ZX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(bE);return l[0]===""&&l.length!==1&&l.shift(),EB(l,t)||QX(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},EB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?EB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(bE);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},r2=/^\[(.+)\]$/,QX=e=>{if(r2.test(e)){const t=r2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ZX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return tQ(Object.entries(e.classGroups),r).forEach(([i,o])=>{SS(o,n,i,t)}),n},SS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:n2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(eQ(a)){SS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{SS(o,n2(t,i),r,n)})})},n2=(e,t)=>{let r=e;return t.split(bE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},eQ=e=>e.isThemeGetter,tQ=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,rQ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},PB="!",nQ=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(PB),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},aQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},iQ=e=>({cache:rQ(e.cacheSize),parseClassName:nQ(e),...XX(e)}),sQ=/\s+/,oQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(sQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=aQ(d).join(":"),b=f?v+PB:v,x=b+p;if(i.includes(x))continue;i.push(x);const w=a(p,g);for(let _=0;_<w.length;++_){const S=w[_];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function lQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OB(t))&&(n&&(n+=" "),n+=r);return n}const OB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OB(e[n]))&&(r&&(r+=" "),r+=t);return r};function cQ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=iQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=oQ(c,r);return a(c,d),d}return function(){return i(lQ.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},AB=/^\[(?:([a-z-]+):)?(.+)\]$/i,uQ=/^\d+\/\d+$/,dQ=new Set(["px","full","screen"]),fQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=e=>Dd(e)||dQ.has(e)||uQ.test(e),$o=e=>sh(e,"length",SQ),Dd=e=>!!e&&!Number.isNaN(Number(e)),H_=e=>sh(e,"number",Dd),zh=e=>!!e&&Number.isInteger(Number(e)),vQ=e=>e.endsWith("%")&&Dd(e.slice(0,-1)),st=e=>AB.test(e),Io=e=>fQ.test(e),yQ=new Set(["length","size","percentage"]),xQ=e=>sh(e,yQ,TB),bQ=e=>sh(e,"position",TB),wQ=new Set(["image","url"]),_Q=e=>sh(e,wQ,kQ),jQ=e=>sh(e,"",NQ),Vh=()=>!0,sh=(e,t,r)=>{const n=AB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},SQ=e=>hQ.test(e)&&!mQ.test(e),TB=()=>!1,NQ=e=>pQ.test(e),kQ=e=>gQ.test(e),CQ=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),m=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),p=Kt("inset"),v=Kt("margin"),b=Kt("opacity"),x=Kt("padding"),w=Kt("saturate"),_=Kt("scale"),S=Kt("sepia"),N=Kt("skew"),k=Kt("space"),P=Kt("translate"),O=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",st,t],T=()=>[st,t],U=()=>["",Rs,$o],I=()=>["auto",Dd,st],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",st],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Dd,st];return{cacheSize:500,separator:":",theme:{colors:[Vh],spacing:[Rs,$o],blur:["none","",Io,st],brightness:re(),borderColor:[e],borderRadius:["none","","full",Io,st],borderSpacing:T(),borderWidth:U(),contrast:re(),grayscale:F(),hueRotate:re(),invert:F(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[vQ,$o],inset:$(),margin:$(),opacity:re(),padding:T(),saturate:re(),scale:re(),sepia:F(),skew:re(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[Io]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),st]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zh,st]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",zh,st]}],"grid-cols":[{"grid-cols":[Vh]}],"col-start-end":[{col:["auto",{span:["full",zh,st]},st]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Vh]}],"row-start-end":[{row:["auto",{span:[zh,st]},st]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,t]}],"min-w":[{"min-w":[st,t,"min","max","fit"]}],"max-w":[{"max-w":[st,t,"none","full","min","max","fit","prose",{screen:[Io]},Io]}],h:[{h:[st,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Io,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",H_]}],"font-family":[{font:[Vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",Dd,H_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,$o]}],"underline-offset":[{"underline-offset":["auto",Rs,st]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),bQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_Q]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Rs,st]}],"outline-w":[{outline:[Rs,$o]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Rs,$o]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Io,jQ]}],"shadow-color":[{shadow:[Vh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Io,st]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zh,st]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Rs,$o,H_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EQ=cQ(CQ);function ve(...e){return EQ(tt(e))}const PQ=yX,MB=y.forwardRef(({className:e,...t},r)=>s.jsx(fB,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MB.displayName=fB.displayName;const OQ=_0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$B=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(hB,{ref:n,className:ve(OQ({variant:t}),e),...r}));$B.displayName=hB.displayName;const AQ=y.forwardRef(({className:e,...t},r)=>s.jsx(gB,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));AQ.displayName=gB.displayName;const IB=y.forwardRef(({className:e,...t},r)=>s.jsx(vB,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Os,{className:"h-4 w-4"})}));IB.displayName=vB.displayName;const RB=y.forwardRef(({className:e,...t},r)=>s.jsx(mB,{ref:r,className:ve("text-sm font-semibold",e),...t}));RB.displayName=mB.displayName;const DB=y.forwardRef(({className:e,...t},r)=>s.jsx(pB,{ref:r,className:ve("text-sm opacity-90",e),...t}));DB.displayName=pB.displayName;function TQ(){const{toasts:e}=dE();return s.jsxs(PQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs($B,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(RB,{children:r}),n&&s.jsx(DB,{children:n})]}),a,s.jsx(IB,{})]},t)}),s.jsx(MB,{})]})}var a2=["light","dark"],MQ="(prefers-color-scheme: dark)",$Q=y.createContext(void 0),IQ={setTheme:e=>{},themes:[]},RQ=()=>{var e;return(e=y.useContext($Q))!=null?e:IQ};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?a2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let b=o?o[g]:g,x=p?g+"|| ''":`'${b}'`,w="";return a&&v&&!p&&a2.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${MQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var DQ=e=>{switch(e){case"success":return BQ;case"info":return zQ;case"warning":return UQ;case"error":return VQ;default:return null}},LQ=Array(12).fill(0),FQ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},LQ.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),VQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HQ=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},NS=1,qQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:NS++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,o,l=a.then(async u=>{if(o=["resolve",u],M.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(KQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||NS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xn=new qQ,GQ=(e,t)=>{let r=(t==null?void 0:t.id)||NS++;return Xn.addToast({title:e,...t,id:r}),r},KQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YQ=GQ,JQ=()=>Xn.toasts,XQ=()=>Xn.getActiveToasts(),oe=Object.assign(YQ,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:JQ,getToasts:XQ});function QQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}QQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xv(e){return e.label!==void 0}var ZQ=3,eZ="32px",tZ="16px",i2=4e3,rZ=356,nZ=14,aZ=20,iZ=200;function yi(...e){return e.filter(Boolean).join(" ")}function sZ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var oZ=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:S,removeToast:N,defaultRichColors:k,closeButton:P,style:O,cancelButtonStyle:A,actionButtonStyle:$,className:T="",descriptionClassName:U="",duration:I,position:V,gap:L,loadingIcon:z,expandByDefault:R,classNames:F,icons:K,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:Z}=e,[j,C]=M.useState(null),[E,B]=M.useState(null),[D,G]=M.useState(!1),[q,X]=M.useState(!1),[te,Y]=M.useState(!1),[we,ke]=M.useState(!1),[Xe,He]=M.useState(!1),[Be,ot]=M.useState(0),[Mt,St]=M.useState(0),H=M.useRef(m.duration||I||i2),W=M.useRef(null),J=M.useRef(null),de=w===0,ue=w+1<=b,se=m.type,Ae=m.dismissible!==!1,lt=m.className||"",ut=m.descriptionClassName||"",rr=M.useMemo(()=>x.findIndex(Qe=>Qe.toastId===m.id)||0,[x,m.id]),Va=M.useMemo(()=>{var Qe;return(Qe=m.closeButton)!=null?Qe:P},[m.closeButton,P]),ha=M.useMemo(()=>m.duration||I||i2,[m.duration,I]),Zl=M.useRef(0),Wa=M.useRef(0),To=M.useRef(0),ts=M.useRef(null),[ec,Oh]=V.split("-"),tc=M.useMemo(()=>x.reduce((Qe,_t,$t)=>$t>=rr?Qe:Qe+_t.height,0),[x,rr]),Kg=HQ(),Yg=m.invert||h,Ru=se==="loading";Wa.current=M.useMemo(()=>rr*L+tc,[rr,tc]),M.useEffect(()=>{H.current=ha},[ha]),M.useEffect(()=>{G(!0)},[]),M.useEffect(()=>{let Qe=J.current;if(Qe){let _t=Qe.getBoundingClientRect().height;return St(_t),v($t=>[{toastId:m.id,height:_t,position:m.position},...$t]),()=>v($t=>$t.filter(Kn=>Kn.toastId!==m.id))}},[v,m.id]),M.useLayoutEffect(()=>{if(!D)return;let Qe=J.current,_t=Qe.style.height;Qe.style.height="auto";let $t=Qe.getBoundingClientRect().height;Qe.style.height=_t,St($t),v(Kn=>Kn.find(Yn=>Yn.toastId===m.id)?Kn.map(Yn=>Yn.toastId===m.id?{...Yn,height:$t}:Yn):[{toastId:m.id,height:$t,position:m.position},...Kn])},[D,m.title,m.description,v,m.id]);let mi=M.useCallback(()=>{X(!0),ot(Wa.current),v(Qe=>Qe.filter(_t=>_t.toastId!==m.id)),setTimeout(()=>{N(m)},iZ)},[m,N,v,Wa]);M.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let Qe;return S||p||Z&&Kg?(()=>{if(To.current<Zl.current){let _t=new Date().getTime()-Zl.current;H.current=H.current-_t}To.current=new Date().getTime()})():H.current!==1/0&&(Zl.current=new Date().getTime(),Qe=setTimeout(()=>{var _t;(_t=m.onAutoClose)==null||_t.call(m,m),mi()},H.current)),()=>clearTimeout(Qe)},[S,p,m,se,Z,Kg,mi]),M.useEffect(()=>{m.delete&&mi()},[mi,m.delete]);function Jg(){var Qe,_t,$t;return K!=null&&K.loading?M.createElement("div",{className:yi(F==null?void 0:F.loader,(Qe=m==null?void 0:m.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":se==="loading"},K.loading):z?M.createElement("div",{className:yi(F==null?void 0:F.loader,(_t=m==null?void 0:m.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":se==="loading"},z):M.createElement(FQ,{className:yi(F==null?void 0:F.loader,($t=m==null?void 0:m.classNames)==null?void 0:$t.loader),visible:se==="loading"})}return M.createElement("li",{tabIndex:0,ref:J,className:yi(T,lt,F==null?void 0:F.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":D,"data-promise":!!m.promise,"data-swiped":Xe,"data-removed":q,"data-visible":ue,"data-y-position":ec,"data-x-position":Oh,"data-index":w,"data-front":de,"data-swiping":te,"data-dismissible":Ae,"data-type":se,"data-invert":Yg,"data-swipe-out":we,"data-swipe-direction":E,"data-expanded":!!(S||R&&D),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${q?Be:Wa.current}px`,"--initial-height":R?"auto":`${Mt}px`,...O,...m.style},onDragEnd:()=>{Y(!1),C(null),ts.current=null},onPointerDown:Qe=>{Ru||!Ae||(W.current=new Date,ot(Wa.current),Qe.target.setPointerCapture(Qe.pointerId),Qe.target.tagName!=="BUTTON"&&(Y(!0),ts.current={x:Qe.clientX,y:Qe.clientY}))},onPointerUp:()=>{var Qe,_t,$t,Kn;if(we||!Ae)return;ts.current=null;let Yn=Number(((Qe=J.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pi=Number(((_t=J.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rs=new Date().getTime()-(($t=W.current)==null?void 0:$t.getTime()),Jn=j==="x"?Yn:pi,gi=Math.abs(Jn)/rs;if(Math.abs(Jn)>=aZ||gi>.11){ot(Wa.current),(Kn=m.onDismiss)==null||Kn.call(m,m),B(j==="x"?Yn>0?"right":"left":pi>0?"down":"up"),mi(),ke(!0),He(!1);return}Y(!1),C(null)},onPointerMove:Qe=>{var _t,$t,Kn,Yn;if(!ts.current||!Ae||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let pi=Qe.clientY-ts.current.y,rs=Qe.clientX-ts.current.x,Jn=($t=e.swipeDirections)!=null?$t:sZ(V);!j&&(Math.abs(rs)>1||Math.abs(pi)>1)&&C(Math.abs(rs)>Math.abs(pi)?"x":"y");let gi={x:0,y:0};j==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&pi<0||Jn.includes("bottom")&&pi>0)&&(gi.y=pi):j==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&rs<0||Jn.includes("right")&&rs>0)&&(gi.x=rs),(Math.abs(gi.x)>0||Math.abs(gi.y)>0)&&He(!0),(Kn=J.current)==null||Kn.style.setProperty("--swipe-amount-x",`${gi.x}px`),(Yn=J.current)==null||Yn.style.setProperty("--swipe-amount-y",`${gi.y}px`)}},Va&&!m.jsx?M.createElement("button",{"aria-label":re,"data-disabled":Ru,"data-close-button":!0,onClick:Ru||!Ae?()=>{}:()=>{var Qe;mi(),(Qe=m.onDismiss)==null||Qe.call(m,m)},className:yi(F==null?void 0:F.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=K==null?void 0:K.close)!=null?i:WQ):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,se||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:yi(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Jg():null,m.type!=="loading"?m.icon||(K==null?void 0:K[se])||DQ(se):null):null,M.createElement("div",{"data-content":"",className:yi(F==null?void 0:F.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:yi(F==null?void 0:F.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:yi(U,ut,F==null?void 0:F.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&xv(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:Qe=>{var _t,$t;xv(m.cancel)&&Ae&&(($t=(_t=m.cancel).onClick)==null||$t.call(_t,Qe),mi())},className:yi(F==null?void 0:F.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&xv(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||$,onClick:Qe=>{var _t,$t;xv(m.action)&&(($t=(_t=m.action).onClick)==null||$t.call(_t,Qe),!Qe.defaultPrevented&&mi())},className:yi(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function s2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lZ(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?tZ:eZ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var cZ=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=ZQ,toastOptions:p,dir:v=s2(),gap:b=nZ,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,k]=M.useState([]),P=M.useMemo(()=>Array.from(new Set([n].concat(N.filter(Z=>Z.position).map(Z=>Z.position)))),[N,n]),[O,A]=M.useState([]),[$,T]=M.useState(!1),[U,I]=M.useState(!1),[V,L]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=M.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=M.useRef(null),K=M.useRef(!1),re=M.useCallback(Z=>{k(j=>{var C;return(C=j.find(E=>E.id===Z.id))!=null&&C.delete||Xn.dismiss(Z.id),j.filter(({id:E})=>E!==Z.id)})},[]);return M.useEffect(()=>Xn.subscribe(Z=>{if(Z.dismiss){k(j=>j.map(C=>C.id===Z.id?{...C,delete:!0}:C));return}setTimeout(()=>{G5.flushSync(()=>{k(j=>{let C=j.findIndex(E=>E.id===Z.id);return C!==-1?[...j.slice(0,C),{...j[C],...Z},...j.slice(C+1)]:[Z,...j]})})})}),[]),M.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:j})=>{L(j?"dark":"light")})}catch{Z.addListener(({matches:C})=>{try{L(C?"dark":"light")}catch(E){console.error(E)}})}},[d]),M.useEffect(()=>{N.length<=1&&T(!1)},[N]),M.useEffect(()=>{let Z=j=>{var C,E;a.every(B=>j[B]||j.code===B)&&(T(!0),(C=z.current)==null||C.focus()),j.code==="Escape"&&(document.activeElement===z.current||(E=z.current)!=null&&E.contains(document.activeElement))&&T(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),M.useEffect(()=>{if(z.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,K.current=!1)}},[z.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((Z,j)=>{var C;let[E,B]=Z.split("-");return N.length?M.createElement("ol",{key:Z,dir:v==="auto"?s2():v,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":E,"data-lifted":$&&N.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((C=O[0])==null?void 0:C.height)||0}px`,"--width":`${rZ}px`,"--gap":`${b}px`,...m,...lZ(c,u)},onBlur:D=>{K.current&&!D.currentTarget.contains(D.relatedTarget)&&(K.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||K.current||(K.current=!0,F.current=D.relatedTarget)},onMouseEnter:()=>T(!0),onMouseMove:()=>T(!0),onMouseLeave:()=>{U||T(!1)},onDragEnd:()=>T(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},N.filter(D=>!D.position&&j===0||D.position===Z).map((D,G)=>{var q,X;return M.createElement(oZ,{key:D.id,icons:w,index:G,toast:D,defaultRichColors:f,duration:(q=p==null?void 0:p.duration)!=null?q:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(X=p==null?void 0:p.closeButton)!=null?X:o,interacting:U,position:Z,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:re,toasts:N.filter(te=>te.position==D.position),heights:O.filter(te=>te.position==D.position),setHeights:A,expandByDefault:i,gap:b,loadingIcon:x,expanded:$,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const uZ=({...e})=>{const{theme:t="system"}=RQ();return s.jsx(cZ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var dZ=n0[" useId ".trim().toString()]||(()=>{}),fZ=0;function Bi(e){const[t,r]=y.useState(dZ());return Sr(()=>{r(n=>n??String(fZ++))},[e]),t?`radix-${t}`:""}const hZ=["top","right","bottom","left"],El=Math.min,Na=Math.max,hx=Math.round,bv=Math.floor,ws=e=>({x:e,y:e}),mZ={left:"right",right:"left",bottom:"top",top:"bottom"},pZ={start:"end",end:"start"};function kS(e,t,r){return Na(e,El(t,r))}function po(e,t){return typeof e=="function"?e(t):e}function go(e){return e.split("-")[0]}function oh(e){return e.split("-")[1]}function wE(e){return e==="x"?"y":"x"}function _E(e){return e==="y"?"height":"width"}const gZ=new Set(["top","bottom"]);function ms(e){return gZ.has(go(e))?"y":"x"}function jE(e){return wE(ms(e))}function vZ(e,t,r){r===void 0&&(r=!1);const n=oh(e),a=jE(e),i=_E(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=mx(o)),[o,mx(o)]}function yZ(e){const t=mx(e);return[CS(e),t,CS(t)]}function CS(e){return e.replace(/start|end/g,t=>pZ[t])}const o2=["left","right"],l2=["right","left"],xZ=["top","bottom"],bZ=["bottom","top"];function wZ(e,t,r){switch(e){case"top":case"bottom":return r?t?l2:o2:t?o2:l2;case"left":case"right":return t?xZ:bZ;default:return[]}}function _Z(e,t,r,n){const a=oh(e);let i=wZ(go(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(CS)))),i}function mx(e){return e.replace(/left|right|bottom|top/g,t=>mZ[t])}function jZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function LB(e){return typeof e!="number"?jZ(e):{top:e,right:e,bottom:e,left:e}}function px(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function c2(e,t,r){let{reference:n,floating:a}=e;const i=ms(t),o=jE(t),l=_E(o),c=go(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(oh(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const SZ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=c2(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=c2(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function ip(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=po(t,e),g=LB(m),v=l[h?f==="floating"?"reference":"floating":f],b=px(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=px(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-S.top+g.top)/_.y,bottom:(S.bottom-b.bottom+g.bottom)/_.y,left:(b.left-S.left+g.left)/_.x,right:(S.right-b.right+g.right)/_.x}}const NZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=po(e,t)||{};if(u==null)return{};const f=LB(d),h={x:r,y:n},m=jE(a),g=_E(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],S=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=N?N[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[w]||i.floating[g]);const P=_/2-S/2,O=k/2-p[g]/2-1,A=El(f[b],O),$=El(f[x],O),T=A,U=k-p[g]-$,I=k/2-p[g]/2+P,V=kS(T,I,U),L=!c.arrow&&oh(a)!=null&&I!==V&&i.reference[g]/2-(I<T?A:$)-p[g]/2<0,z=L?I<T?I-T:I-U:0;return{[m]:h[m]+z,data:{[m]:V,centerOffset:I-V-z,...L&&{alignmentOffset:z}},reset:L}}}),kZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=po(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=go(a),x=ms(l),w=go(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[mx(l)]:yZ(l)),N=g!=="none";!h&&N&&S.push(..._Z(l,p,g,_));const k=[l,...S],P=await ip(t,v),O=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&O.push(P[b]),f){const I=vZ(a,o,_);O.push(P[I[0]],P[I[1]])}if(A=[...A,{placement:a,overflows:O}],!O.every(I=>I<=0)){var $,T;const I=((($=i.flip)==null?void 0:$.index)||0)+1,V=k[I];if(V&&(!(f==="alignment"?x!==ms(V):!1)||A.every(R=>ms(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:I,overflows:A},reset:{placement:V}};let L=(T=A.filter(z=>z.overflows[0]<=0).sort((z,R)=>z.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!L)switch(m){case"bestFit":{var U;const z=(U=A.filter(R=>{if(N){const F=ms(R.placement);return F===x||F==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((R,F)=>R[1]-F[1])[0])==null?void 0:U[0];z&&(L=z);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function u2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function d2(e){return hZ.some(t=>e[t]>=0)}const CZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=po(e,t);switch(n){case"referenceHidden":{const i=await ip(t,{...a,elementContext:"reference"}),o=u2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:d2(o)}}}case"escaped":{const i=await ip(t,{...a,altBoundary:!0}),o=u2(i,r.floating);return{data:{escapedOffsets:o,escaped:d2(o)}}}default:return{}}}}},FB=new Set(["left","top"]);async function EZ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=go(r),l=oh(r),c=ms(r)==="y",u=FB.has(o)?-1:1,d=i&&c?-1:1,f=po(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const PZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await EZ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},OZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=po(e,t),u={x:r,y:n},d=await ip(t,c),f=ms(go(a)),h=wE(f);let m=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=kS(x,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=kS(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},AZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=po(e,t),d={x:r,y:n},f=ms(a),h=wE(f);let m=d[h],g=d[f];const p=po(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var b,x;const w=h==="y"?"width":"height",_=FB.has(go(a)),S=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:m,[f]:g}}}},TZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=po(e,t),d=await ip(t,u),f=go(a),h=oh(a),m=ms(a)==="y",{width:g,height:p}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,_=El(p-d[v],x),S=El(g-d[b],w),N=!t.middlewareData.shift;let k=_,P=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),N&&!h){const A=Na(d.left,0),$=Na(d.right,0),T=Na(d.top,0),U=Na(d.bottom,0);m?P=g-2*(A!==0||$!==0?A+$:Na(d.left,d.right)):k=p-2*(T!==0||U!==0?T+U:Na(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:k});const O=await o.getDimensions(l.floating);return g!==O.width||p!==O.height?{reset:{rects:!0}}:{}}}};function S0(){return typeof window<"u"}function lh(e){return BB(e)?(e.nodeName||"").toLowerCase():"#document"}function Ma(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function As(e){var t;return(t=(BB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BB(e){return S0()?e instanceof Node||e instanceof Ma(e).Node:!1}function qi(e){return S0()?e instanceof Element||e instanceof Ma(e).Element:!1}function ks(e){return S0()?e instanceof HTMLElement||e instanceof Ma(e).HTMLElement:!1}function f2(e){return!S0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ma(e).ShadowRoot}const MZ=new Set(["inline","contents"]);function wg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!MZ.has(a)}const $Z=new Set(["table","td","th"]);function IZ(e){return $Z.has(lh(e))}const RZ=[":popover-open",":modal"];function N0(e){return RZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const DZ=["transform","translate","scale","rotate","perspective"],LZ=["transform","translate","scale","rotate","perspective","filter"],FZ=["paint","layout","strict","content"];function SE(e){const t=NE(),r=qi(e)?Gi(e):e;return DZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||LZ.some(n=>(r.willChange||"").includes(n))||FZ.some(n=>(r.contain||"").includes(n))}function BZ(e){let t=Pl(e);for(;ks(t)&&!hf(t);){if(SE(t))return t;if(N0(t))return null;t=Pl(t)}return null}function NE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UZ=new Set(["html","body","#document"]);function hf(e){return UZ.has(lh(e))}function Gi(e){return Ma(e).getComputedStyle(e)}function k0(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pl(e){if(lh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||f2(e)&&e.host||As(e);return f2(t)?t.host:t}function UB(e){const t=Pl(e);return hf(t)?e.ownerDocument?e.ownerDocument.body:e.body:ks(t)&&wg(t)?t:UB(t)}function sp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=UB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ma(a);if(i){const l=ES(o);return t.concat(o,o.visualViewport||[],wg(a)?a:[],l&&r?sp(l):[])}return t.concat(a,sp(a,[],r))}function ES(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zB(e){const t=Gi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ks(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=hx(r)!==i||hx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function kE(e){return qi(e)?e:e.contextElement}function Ld(e){const t=kE(e);if(!ks(t))return ws(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=zB(t);let o=(i?hx(r.width):r.width)/n,l=(i?hx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const zZ=ws(0);function VB(e){const t=Ma(e);return!NE()||!t.visualViewport?zZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ma(e)?!1:t}function nu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=kE(e);let o=ws(1);t&&(n?qi(n)&&(o=Ld(n)):o=Ld(e));const l=VZ(i,r,n)?VB(i):ws(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Ma(i),m=n&&qi(n)?Ma(n):n;let g=h,p=ES(g);for(;p&&n&&m!==g;){const v=Ld(p),b=p.getBoundingClientRect(),x=Gi(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Ma(p),p=ES(g)}}return px({width:d,height:f,x:c,y:u})}function C0(e,t){const r=k0(e).scrollLeft;return t?t.left+r:nu(As(e)).left+r}function WB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-C0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function WZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=As(n),l=t?N0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ws(1);const d=ws(0),f=ks(n);if((f||!f&&!i)&&((lh(n)!=="body"||wg(o))&&(c=k0(n)),ks(n))){const m=nu(n);u=Ld(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?WB(o,c):ws(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function HZ(e){return Array.from(e.getClientRects())}function qZ(e){const t=As(e),r=k0(e),n=e.ownerDocument.body,a=Na(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Na(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+C0(e);const l=-r.scrollTop;return Gi(n).direction==="rtl"&&(o+=Na(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const h2=25;function GZ(e,t){const r=Ma(e),n=As(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=NE();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=C0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=h2&&(i-=g)}else u<=h2&&(i+=u);return{width:i,height:o,x:l,y:c}}const KZ=new Set(["absolute","fixed"]);function YZ(e,t){const r=nu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ks(e)?Ld(e):ws(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function m2(e,t,r){let n;if(t==="viewport")n=GZ(e,r);else if(t==="document")n=qZ(As(e));else if(qi(t))n=YZ(t,r);else{const a=VB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return px(n)}function HB(e,t){const r=Pl(e);return r===t||!qi(r)||hf(r)?!1:Gi(r).position==="fixed"||HB(r,t)}function JZ(e,t){const r=t.get(e);if(r)return r;let n=sp(e,[],!1).filter(l=>qi(l)&&lh(l)!=="body"),a=null;const i=Gi(e).position==="fixed";let o=i?Pl(e):e;for(;qi(o)&&!hf(o);){const l=Gi(o),c=SE(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&KZ.has(a.position)||wg(o)&&!c&&HB(e,o))?n=n.filter(d=>d!==o):a=l,o=Pl(o)}return t.set(e,n),n}function XZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?N0(t)?[]:JZ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=m2(t,d,a);return u.top=Na(f.top,u.top),u.right=El(f.right,u.right),u.bottom=El(f.bottom,u.bottom),u.left=Na(f.left,u.left),u},m2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function QZ(e){const{width:t,height:r}=zB(e);return{width:t,height:r}}function ZZ(e,t,r){const n=ks(t),a=As(t),i=r==="fixed",o=nu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ws(0);function u(){c.x=C0(a)}if(n||!n&&!i)if((lh(t)!=="body"||wg(a))&&(l=k0(t)),n){const m=nu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?WB(a,l):ws(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function q_(e){return Gi(e).position==="static"}function p2(e,t){if(!ks(e)||Gi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return As(e)===r&&(r=r.ownerDocument.body),r}function qB(e,t){const r=Ma(e);if(N0(e))return r;if(!ks(e)){let a=Pl(e);for(;a&&!hf(a);){if(qi(a)&&!q_(a))return a;a=Pl(a)}return r}let n=p2(e,t);for(;n&&IZ(n)&&q_(n);)n=p2(n,t);return n&&hf(n)&&q_(n)&&!SE(n)?r:n||BZ(e)||r}const eee=async function(e){const t=this.getOffsetParent||qB,r=this.getDimensions,n=await r(e.floating);return{reference:ZZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tee(e){return Gi(e).direction==="rtl"}const ree={convertOffsetParentRelativeRectToViewportRelativeRect:WZ,getDocumentElement:As,getClippingRect:XZ,getOffsetParent:qB,getElementRects:eee,getClientRects:HZ,getDimensions:QZ,getScale:Ld,isElement:qi,isRTL:tee};function GB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nee(e,t){let r=null,n;const a=As(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=bv(f),p=bv(a.clientWidth-(d+h)),v=bv(a.clientHeight-(f+m)),b=bv(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-b+"px",threshold:Na(0,El(1,c))||1};let _=!0;function S(N){const k=N[0].intersectionRatio;if(k!==c){if(!_)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!GB(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function aee(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=kE(e),d=a||i?[...u?sp(u):[],...sp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?nee(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?nu(e):null;c&&v();function v(){const b=nu(e);p&&!GB(p,b)&&r(),p=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const iee=PZ,see=OZ,oee=kZ,lee=TZ,cee=CZ,g2=NZ,uee=AZ,dee=(e,t,r)=>{const n=new Map,a={platform:ree,...r},i={...a.platform,_c:n};return SZ(e,t,{...a,platform:i})};var fee=typeof document<"u",hee=function(){},ky=fee?y.useLayoutEffect:hee;function gx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gx(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!gx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function KB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function v2(e,t){const r=KB(e);return Math.round(t*r)/r}function G_(e){const t=y.useRef(e);return ky(()=>{t.current=e}),t}function mee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);gx(h,n)||m(n);const[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(R=>{R!==N.current&&(N.current=R,p(R))},[]),w=y.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=i||g,S=o||v,N=y.useRef(null),k=y.useRef(null),P=y.useRef(d),O=c!=null,A=G_(c),$=G_(a),T=G_(u),U=y.useCallback(()=>{if(!N.current||!k.current)return;const R={placement:t,strategy:r,middleware:h};$.current&&(R.platform=$.current),dee(N.current,k.current,R).then(F=>{const K={...F,isPositioned:T.current!==!1};I.current&&!gx(P.current,K)&&(P.current=K,ju.flushSync(()=>{f(K)}))})},[h,t,r,$,T]);ky(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const I=y.useRef(!1);ky(()=>(I.current=!0,()=>{I.current=!1}),[]),ky(()=>{if(_&&(N.current=_),S&&(k.current=S),_&&S){if(A.current)return A.current(_,S,U);U()}},[_,S,U,A,O]);const V=y.useMemo(()=>({reference:N,floating:k,setReference:x,setFloating:w}),[x,w]),L=y.useMemo(()=>({reference:_,floating:S}),[_,S]),z=y.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const F=v2(L.floating,d.x),K=v2(L.floating,d.y);return l?{...R,transform:"translate("+F+"px, "+K+"px)",...KB(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:K}},[r,l,L.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:U,refs:V,elements:L,floatingStyles:z}),[d,U,V,L,z])}const pee=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?g2({element:n.current,padding:a}).fn(r):{}:n?g2({element:n,padding:a}).fn(r):{}}}},gee=(e,t)=>({...iee(e),options:[e,t]}),vee=(e,t)=>({...see(e),options:[e,t]}),yee=(e,t)=>({...uee(e),options:[e,t]}),xee=(e,t)=>({...oee(e),options:[e,t]}),bee=(e,t)=>({...lee(e),options:[e,t]}),wee=(e,t)=>({...cee(e),options:[e,t]}),_ee=(e,t)=>({...pee(e),options:[e,t]});var jee="Arrow",YB=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});YB.displayName=jee;var See=YB;function E0(e){const[t,r]=y.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var CE="Popper",[JB,Fl]=gn(CE),[Nee,XB]=JB(CE),QB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(Nee,{scope:t,anchor:n,onAnchorChange:a,children:r})};QB.displayName=CE;var ZB="PopperAnchor",e6=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=XB(ZB,r),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});e6.displayName=ZB;var EE="PopperContent",[kee,Cee]=JB(EE),t6=y.forwardRef((e,t)=>{var D,G,q,X,te,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=XB(EE,r),[b,x]=y.useState(null),w=Ke(t,we=>x(we)),[_,S]=y.useState(null),N=E0(_),k=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,O=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},$=Array.isArray(u)?u:[u],T=$.length>0,U={padding:A,boundary:$.filter(Pee),altBoundary:T},{refs:I,floatingStyles:V,placement:L,isPositioned:z,middlewareData:R}=mee({strategy:"fixed",placement:O,whileElementsMounted:(...we)=>aee(...we,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[gee({mainAxis:a+P,alignmentAxis:o}),c&&vee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yee():void 0,...U}),c&&xee({...U}),bee({...U,apply:({elements:we,rects:ke,availableWidth:Xe,availableHeight:He})=>{const{width:Be,height:ot}=ke.reference,Mt=we.floating.style;Mt.setProperty("--radix-popper-available-width",`${Xe}px`),Mt.setProperty("--radix-popper-available-height",`${He}px`),Mt.setProperty("--radix-popper-anchor-width",`${Be}px`),Mt.setProperty("--radix-popper-anchor-height",`${ot}px`)}}),_&&_ee({element:_,padding:l}),Oee({arrowWidth:k,arrowHeight:P}),h&&wee({strategy:"referenceHidden",...U})]}),[F,K]=a6(L),re=xr(g);Sr(()=>{z&&(re==null||re())},[z,re]);const Z=(D=R.arrow)==null?void 0:D.x,j=(G=R.arrow)==null?void 0:G.y,C=((q=R.arrow)==null?void 0:q.centerOffset)!==0,[E,B]=y.useState();return Sr(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:z?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(X=R.transformOrigin)==null?void 0:X.x,(te=R.transformOrigin)==null?void 0:te.y].join(" "),...((Y=R.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(kee,{scope:r,placedSide:F,onArrowChange:S,arrowX:Z,arrowY:j,shouldHideArrow:C,children:s.jsx(Me.div,{"data-side":F,"data-align":K,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});t6.displayName=EE;var r6="PopperArrow",Eee={top:"bottom",right:"left",bottom:"top",left:"right"},n6=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Cee(r6,n),o=Eee[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(See,{...a,ref:r,style:{...a.style,display:"block"}})})});n6.displayName=r6;function Pee(e){return e!==null}var Oee=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=a6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function a6(e){const[t,r="center"]=e.split("-");return[t,r]}var PE=QB,_g=e6,P0=t6,O0=n6,Aee=Symbol("radix.slottable");function Tee(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Aee,t}var[A0]=gn("Tooltip",[Fl]),OE=Fl(),i6="TooltipProvider",Mee=700,y2="tooltip.open",[$ee,s6]=A0(i6),o6=e=>{const{__scopeTooltip:t,delayDuration:r=Mee,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx($ee,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};o6.displayName=i6;var l6="Tooltip",[w8e,T0]=A0(l6),PS="TooltipTrigger",Iee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=T0(PS,r),i=s6(PS,r),o=OE(r),l=y.useRef(null),c=Ke(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(_g,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:he(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:he(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:he(e.onBlur,a.onClose),onClick:he(e.onClick,a.onClose)})})});Iee.displayName=PS;var Ree="TooltipPortal",[_8e,Dee]=A0(Ree,{forceMount:void 0}),mf="TooltipContent",c6=y.forwardRef((e,t)=>{const r=Dee(mf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=T0(mf,e.__scopeTooltip);return s.jsx(Hr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(u6,{side:a,...i,ref:t}):s.jsx(Lee,{side:a,...i,ref:t})})}),Lee=y.forwardRef((e,t)=>{const r=T0(mf,e.__scopeTooltip),n=s6(mf,e.__scopeTooltip),a=y.useRef(null),i=Ke(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Vee(b,v.getBoundingClientRect()),w=Wee(b,x),_=Hee(p.getBoundingClientRect()),S=Gee([...w,..._]);l(S),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!qee(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),s.jsx(u6,{...e,ref:i})}),[Fee,Bee]=A0(l6,{isInside:!1}),Uee=Tee("TooltipContent"),u6=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=T0(mf,r),u=OE(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(y2,d),()=>document.removeEventListener(y2,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(P0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Uee,{children:n}),s.jsx(Fee,{scope:r,isInside:!0,children:s.jsx(eX,{id:c.contentId,role:"tooltip",children:a||n})})]})})});c6.displayName=mf;var d6="TooltipArrow",zee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=OE(r);return Bee(d6,r).isInside?null:s.jsx(O0,{...a,...n,ref:t})});zee.displayName=d6;function Vee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Wee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Hee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function qee(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Gee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Kee(t)}function Kee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Yee=o6,f6=c6;const Jee=Yee,Xee=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(f6,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Xee.displayName=f6.displayName;var M0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},el,gC,kF,Zee=(kF=class{constructor(){ht(this,el,Qee);ht(this,gC,!1)}setTimeoutProvider(e){Ze(this,el,e)}setTimeout(e,t){return ae(this,el).setTimeout(e,t)}clearTimeout(e){ae(this,el).clearTimeout(e)}setInterval(e,t){return ae(this,el).setInterval(e,t)}clearInterval(e){ae(this,el).clearInterval(e)}},el=new WeakMap,gC=new WeakMap,kF),OS=new Zee;function ete(e){setTimeout(e,0)}var $0=typeof window>"u"||"Deno"in globalThis;function Ni(){}function tte(e,t){return typeof e=="function"?e(t):e}function rte(e){return typeof e=="number"&&e>=0&&e!==1/0}function nte(e,t){return Math.max(e+(t||0)-Date.now(),0)}function AS(e,t){return typeof e=="function"?e(t):e}function ate(e,t){return typeof e=="function"?e(t):e}function x2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==AE(o,t.options))return!1}else if(!lp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function b2(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(op(t.options.mutationKey)!==op(i))return!1}else if(!lp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function AE(e,t){return((t==null?void 0:t.queryKeyHashFn)||op)(e)}function op(e){return JSON.stringify(e,(t,r)=>TS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function lp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>lp(e[r],t[r])):!1}var ite=Object.prototype.hasOwnProperty;function h6(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=w2(e)&&w2(t);if(!n&&!(TS(e)&&TS(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:ite.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=h6(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function w2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function TS(e){if(!_2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _2(e){return Object.prototype.toString.call(e)==="[object Object]"}function ste(e){return new Promise(t=>{OS.setTimeout(t,e)})}function ote(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?h6(e,t):t}function lte(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function cte(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var TE=Symbol();function m6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===TE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ute(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Ic,tl,Kd,CF,dte=(CF=class extends M0{constructor(){super();ht(this,Ic);ht(this,tl);ht(this,Kd);Ze(this,Kd,t=>{if(!$0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,tl)||this.setEventListener(ae(this,Kd))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,tl))==null||t.call(this),Ze(this,tl,void 0))}setEventListener(t){var r;Ze(this,Kd,t),(r=ae(this,tl))==null||r.call(this),Ze(this,tl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,Ic)!==t&&(Ze(this,Ic,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,Ic)=="boolean"?ae(this,Ic):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ic=new WeakMap,tl=new WeakMap,Kd=new WeakMap,CF),p6=new dte;function fte(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var hte=ete;function mte(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=hte;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Rn=mte(),Yd,rl,Jd,EF,pte=(EF=class extends M0{constructor(){super();ht(this,Yd,!0);ht(this,rl);ht(this,Jd);Ze(this,Jd,t=>{if(!$0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,rl)||this.setEventListener(ae(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,rl))==null||t.call(this),Ze(this,rl,void 0))}setEventListener(t){var r;Ze(this,Jd,t),(r=ae(this,rl))==null||r.call(this),Ze(this,rl,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Yd)!==t&&(Ze(this,Yd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Yd)}},Yd=new WeakMap,rl=new WeakMap,Jd=new WeakMap,EF),vx=new pte;function gte(e){return Math.min(1e3*2**e,3e4)}function g6(e){return(e??"online")==="online"?vx.isOnline():!0}var MS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function v6(e){let t=!1,r=0,n;const a=fte(),i=()=>a.status!=="pending",o=p=>{var v;if(!i()){const b=new MS(p);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>p6.isFocused()&&(e.networkMode==="always"||vx.isOnline())&&e.canRun(),d=()=>g6(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),a.resolve(p))},h=p=>{i()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var v;n=b=>{(i()||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var N;if(i())return;const x=e.retry??($0?0:3),w=e.retryDelay??gte,_=typeof w=="function"?w(r,b):w,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!S){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),ste(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var Rc,PF,y6=(PF=class{constructor(){ht(this,Rc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rte(this.gcTime)&&Ze(this,Rc,OS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($0?1/0:5*60*1e3))}clearGcTimeout(){ae(this,Rc)&&(OS.clearTimeout(ae(this,Rc)),Ze(this,Rc,void 0))}},Rc=new WeakMap,PF),Dc,Xd,Ka,Lc,Gr,ug,Fc,Ci,Us,OF,vte=(OF=class extends y6{constructor(t){super();ht(this,Ci);ht(this,Dc);ht(this,Xd);ht(this,Ka);ht(this,Lc);ht(this,Gr);ht(this,ug);ht(this,Fc);Ze(this,Fc,!1),Ze(this,ug,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ze(this,Lc,t.client),Ze(this,Ka,ae(this,Lc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ze(this,Dc,S2(this.options)),this.state=t.state??ae(this,Dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,Gr))==null?void 0:t.promise}setOptions(t){if(this.options={...ae(this,ug),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=S2(this.options);r.data!==void 0&&(this.setState(j2(r.data,r.dataUpdatedAt)),Ze(this,Dc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Ka).remove(this)}setData(t,r){const n=ote(this.state.data,t,this.options);return vn(this,Ci,Us).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){vn(this,Ci,Us).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ae(this,Gr))==null?void 0:n.promise;return(a=ae(this,Gr))==null||a.cancel(t),r?r.then(Ni).catch(Ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Dc))}isActive(){return this.observers.some(t=>ate(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>AS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!nte(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Gr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Gr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Ka).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,Gr)&&(ae(this,Fc)?ae(this,Gr).cancel({revert:!0}):ae(this,Gr).cancelRetry()),this.scheduleGc()),ae(this,Ka).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vn(this,Ci,Us).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,v,b,x,w;if(this.state.fetchStatus!=="idle"&&((c=ae(this,Gr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Gr))return ae(this,Gr).continueRetry(),ae(this,Gr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ze(this,Fc,!0),n.signal)})},i=()=>{const _=m6(this.options,r),N=(()=>{const k={client:ae(this,Lc),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Ze(this,Fc,!1),this.options.persister?this.options.persister(_,N,this):_(N)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,Lc),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Ze(this,Xd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&vn(this,Ci,Us).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ze(this,Gr,v6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof MS&&_.revert&&this.setState({...ae(this,Xd),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{vn(this,Ci,Us).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{vn(this,Ci,Us).call(this,{type:"pause"})},onContinue:()=>{vn(this,Ci,Us).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ae(this,Gr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=ae(this,Ka).config).onSuccess)==null||m.call(h,_,this),(p=(g=ae(this,Ka).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof MS){if(_.silent)return ae(this,Gr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw vn(this,Ci,Us).call(this,{type:"error",error:_}),(b=(v=ae(this,Ka).config).onError)==null||b.call(v,_,this),(w=(x=ae(this,Ka).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},Dc=new WeakMap,Xd=new WeakMap,Ka=new WeakMap,Lc=new WeakMap,Gr=new WeakMap,ug=new WeakMap,Fc=new WeakMap,Ci=new WeakSet,Us=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yte(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...j2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ze(this,Xd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,Ka).notify({query:this,type:"updated",action:t})})},OF);function yte(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function j2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function S2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function N2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{ute(w,()=>t.signal,()=>p=!0)},b=m6(t.options,t.fetchOptions),x=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const $={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v($),$})(),P=await b(k),{maxPages:O}=t.options,A=S?cte:lte;return{pages:A(w.pages,P,O),pageParams:A(w.pageParams,_,O)}};if(a&&i.length){const w=a==="backward",_=w?xte:k2,S={pages:i,pageParams:o},N=_(n,S);l=await x(S,N,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:k2(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function k2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function xte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var dg,os,Tn,Bc,ls,Bo,AF,bte=(AF=class extends y6{constructor(t){super();ht(this,ls);ht(this,dg);ht(this,os);ht(this,Tn);ht(this,Bc);Ze(this,dg,t.client),this.mutationId=t.mutationId,Ze(this,Tn,t.mutationCache),Ze(this,os,[]),this.state=t.state||wte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,os).includes(t)||(ae(this,os).push(t),this.clearGcTimeout(),ae(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ze(this,os,ae(this,os).filter(r=>r!==t)),this.scheduleGc(),ae(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,os).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Tn).remove(this))}continue(){var t;return((t=ae(this,Bc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,O;const r=()=>{vn(this,ls,Bo).call(this,{type:"continue"})},n={client:ae(this,dg),meta:this.options.meta,mutationKey:this.options.mutationKey};Ze(this,Bc,v6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(A,$)=>{vn(this,ls,Bo).call(this,{type:"failed",failureCount:A,error:$})},onPause:()=>{vn(this,ls,Bo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Tn).canRun(this)}));const a=this.state.status==="pending",i=!ae(this,Bc).canStart();try{if(a)r();else{vn(this,ls,Bo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ae(this,Tn).config).onMutate)==null?void 0:l.call(o,t,this,n));const $=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));$!==this.state.context&&vn(this,ls,Bo).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const A=await ae(this,Bc).start();return await((f=(d=ae(this,Tn).config).onSuccess)==null?void 0:f.call(d,A,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,A,t,this.state.context,n)),await((p=(g=ae(this,Tn).config).onSettled)==null?void 0:p.call(g,A,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,A,null,t,this.state.context,n)),vn(this,ls,Bo).call(this,{type:"success",data:A}),A}catch(A){try{await((w=(x=ae(this,Tn).config).onError)==null?void 0:w.call(x,A,t,this.state.context,this,n))}catch($){Promise.reject($)}try{await((S=(_=this.options).onError)==null?void 0:S.call(_,A,t,this.state.context,n))}catch($){Promise.reject($)}try{await((k=(N=ae(this,Tn).config).onSettled)==null?void 0:k.call(N,void 0,A,this.state.variables,this.state.context,this,n))}catch($){Promise.reject($)}try{await((O=(P=this.options).onSettled)==null?void 0:O.call(P,void 0,A,t,this.state.context,n))}catch($){Promise.reject($)}throw vn(this,ls,Bo).call(this,{type:"error",error:A}),A}finally{ae(this,Tn).runNext(this)}}},dg=new WeakMap,os=new WeakMap,Tn=new WeakMap,Bc=new WeakMap,ls=new WeakSet,Bo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rn.batch(()=>{ae(this,os).forEach(n=>{n.onMutationUpdate(t)}),ae(this,Tn).notify({mutation:this,type:"updated",action:t})})},AF);function wte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,Ei,fg,TF,_te=(TF=class extends M0{constructor(t={}){super();ht(this,Js);ht(this,Ei);ht(this,fg);this.config=t,Ze(this,Js,new Set),Ze(this,Ei,new Map),Ze(this,fg,0)}build(t,r,n){const a=new bte({client:t,mutationCache:this,mutationId:++Qg(this,fg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ae(this,Js).add(t);const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r);n?n.push(t):ae(this,Ei).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,Js).delete(t)){const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ae(this,Ei).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=wv(t);if(typeof r=="string"){const a=(n=ae(this,Ei).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rn.batch(()=>{ae(this,Js).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,Js).clear(),ae(this,Ei).clear()})}getAll(){return Array.from(ae(this,Js))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>b2(r,n))}findAll(t={}){return this.getAll().filter(r=>b2(t,r))}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ni))))}},Js=new WeakMap,Ei=new WeakMap,fg=new WeakMap,TF);function wv(e){var t;return(t=e.options.scope)==null?void 0:t.id}var cs,MF,jte=(MF=class extends M0{constructor(t={}){super();ht(this,cs);this.config=t,Ze(this,cs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??AE(a,r);let o=this.get(i);return o||(o=new vte({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ae(this,cs).has(t.queryHash)||(ae(this,cs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,cs).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,cs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,cs).get(t)}getAll(){return[...ae(this,cs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>x2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>x2(t,n)):r}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cs=new WeakMap,MF),pr,nl,al,Qd,Zd,il,ef,tf,$F,Ste=($F=class{constructor(e={}){ht(this,pr);ht(this,nl);ht(this,al);ht(this,Qd);ht(this,Zd);ht(this,il);ht(this,ef);ht(this,tf);Ze(this,pr,e.queryCache||new jte),Ze(this,nl,e.mutationCache||new _te),Ze(this,al,e.defaultOptions||{}),Ze(this,Qd,new Map),Ze(this,Zd,new Map),Ze(this,il,0)}mount(){Qg(this,il)._++,ae(this,il)===1&&(Ze(this,ef,p6.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,pr).onFocus())})),Ze(this,tf,vx.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,pr).onOnline())})))}unmount(){var e,t;Qg(this,il)._--,ae(this,il)===0&&((e=ae(this,ef))==null||e.call(this),Ze(this,ef,void 0),(t=ae(this,tf))==null||t.call(this),Ze(this,tf,void 0))}isFetching(e){return ae(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,nl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,pr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,pr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(AS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,pr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ae(this,pr).get(n.queryHash),i=a==null?void 0:a.state.data,o=tte(t,i);if(o!==void 0)return ae(this,pr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Rn.batch(()=>ae(this,pr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,pr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,pr);Rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,pr);return Rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Rn.batch(()=>ae(this,pr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ni).catch(Ni)}invalidateQueries(e,t={}){return Rn.batch(()=>(ae(this,pr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Rn.batch(()=>ae(this,pr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ni)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,pr).build(this,t);return r.isStaleByTime(AS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ni).catch(Ni)}fetchInfiniteQuery(e){return e.behavior=N2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ni).catch(Ni)}ensureInfiniteQueryData(e){return e.behavior=N2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vx.isOnline()?ae(this,nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,pr)}getMutationCache(){return ae(this,nl)}getDefaultOptions(){return ae(this,al)}setDefaultOptions(e){Ze(this,al,e)}setQueryDefaults(e,t){ae(this,Qd).set(op(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Qd).values()],r={};return t.forEach(n=>{lp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,Zd).set(op(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Zd).values()],r={};return t.forEach(n=>{lp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,al).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===TE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,al).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,pr).clear(),ae(this,nl).clear()}},pr=new WeakMap,nl=new WeakMap,al=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,il=new WeakMap,ef=new WeakMap,tf=new WeakMap,$F),Nte=y.createContext(void 0),kte=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Nte.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}var ll;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ll||(ll={}));const C2="popstate";function Cte(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return $S("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:yx(a)}return Pte(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ME(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ete(){return Math.random().toString(36).substr(2,8)}function E2(e,t){return{usr:e.state,key:e.key,idx:t}}function $S(e,t,r,n){return r===void 0&&(r=null),cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ch(t):t,{state:r,key:t&&t.key||n||Ete()})}function yx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ch(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Pte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ll.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ll.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function h(v,b){l=ll.Push;let x=$S(p.location,v,b);u=d()+1;let w=E2(x,u),_=p.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,b){l=ll.Replace;let x=$S(p.location,v,b);u=d();let w=E2(x,u),_=p.createHref(x);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:yx(v);return x=x.replace(/ $/,"%20"),jr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(C2,f),c=v,()=>{a.removeEventListener(C2,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var P2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(P2||(P2={}));function Ote(e,t,r){return r===void 0&&(r="/"),Ate(e,t,r)}function Ate(e,t,r,n){let a=typeof t=="string"?ch(t):t,i=$E(a.pathname||"/",r);if(i==null)return null;let o=x6(e);Tte(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Wte(i);l=Ute(o[c],u)}return l}function x6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),x6(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Fte(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of b6(i.path))a(i,o,c)}),t}function b6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=b6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Tte(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Bte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mte=/^:[\w-]+$/,$te=3,Ite=2,Rte=1,Dte=10,Lte=-2,O2=e=>e==="*";function Fte(e,t){let r=e.split("/"),n=r.length;return r.some(O2)&&(n+=Lte),t&&(n+=Ite),r.filter(a=>!O2(a)).reduce((a,i)=>a+(Mte.test(i)?$te:i===""?Rte:Dte),n)}function Bte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ute(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=zte({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:bl([i,f.pathname]),pathnameBase:Yte(bl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=bl([i,f.pathnameBase]))}return o}function zte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Vte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ME(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Wte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ME(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function $E(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Hte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qte=e=>Hte.test(e);function Gte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ch(e):e,i;if(r)if(qte(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ME(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=A2(r.substring(1),"/"):i=A2(r,t)}else i=t;return{pathname:i,search:Jte(n),hash:Xte(a)}}function A2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function K_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function IE(e,t){let r=Kte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function RE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ch(e):(a=cp({},e),jr(!a.pathname||!a.pathname.includes("?"),K_("?","pathname","search",a)),jr(!a.pathname||!a.pathname.includes("#"),K_("#","pathname","hash",a)),jr(!a.search||!a.search.includes("#"),K_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Gte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bl=e=>e.join("/").replace(/\/\/+/g,"/"),Yte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const w6=["post","put","patch","delete"];new Set(w6);const Zte=["get",...w6];new Set(Zte);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}const DE=y.createContext(null),ere=y.createContext(null),Bl=y.createContext(null),I0=y.createContext(null),Ul=y.createContext({outlet:null,matches:[],isDataRoute:!1}),_6=y.createContext(null);function tre(e,t){let{relative:r}=t===void 0?{}:t;uh()||jr(!1);let{basename:n,navigator:a}=y.useContext(Bl),{hash:i,pathname:o,search:l}=S6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:bl([n,o])),a.createHref({pathname:c,search:l,hash:i})}function uh(){return y.useContext(I0)!=null}function Ts(){return uh()||jr(!1),y.useContext(I0).location}function j6(e){y.useContext(Bl).static||y.useLayoutEffect(e)}function On(){let{isDataRoute:e}=y.useContext(Ul);return e?mre():rre()}function rre(){uh()||jr(!1);let e=y.useContext(DE),{basename:t,future:r,navigator:n}=y.useContext(Bl),{matches:a}=y.useContext(Ul),{pathname:i}=Ts(),o=JSON.stringify(IE(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return j6(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=RE(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function S6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Bl),{matches:a}=y.useContext(Ul),{pathname:i}=Ts(),o=JSON.stringify(IE(a,n.v7_relativeSplatPath));return y.useMemo(()=>RE(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function nre(e,t){return are(e,t)}function are(e,t,r,n){uh()||jr(!1);let{navigator:a}=y.useContext(Bl),{matches:i}=y.useContext(Ul),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ts(),d;if(t){var f;let v=typeof t=="string"?ch(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||jr(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Ote(e,{pathname:m}),p=cre(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:bl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:bl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?y.createElement(I0.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ll.Pop}},p):p}function ire(){let e=hre(),t=Qte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const sre=y.createElement(ire,null);class ore extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Ul.Provider,{value:this.props.routeContext},y.createElement(_6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lre(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(DE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Ul.Provider,{value:t},n)}function cre(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||sre,c&&(u<0&&h===0?(pre("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(lre,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(ore,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var N6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N6||{}),k6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(k6||{});function ure(e){let t=y.useContext(DE);return t||jr(!1),t}function dre(e){let t=y.useContext(ere);return t||jr(!1),t}function fre(e){let t=y.useContext(Ul);return t||jr(!1),t}function C6(e){let t=fre(),r=t.matches[t.matches.length-1];return r.route.id||jr(!1),r.route.id}function hre(){var e;let t=y.useContext(_6),r=dre(),n=C6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function mre(){let{router:e}=ure(N6.UseNavigateStable),t=C6(k6.UseNavigateStable),r=y.useRef(!1);return j6(()=>{r.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,up({fromRouteId:t},i)))},[e,t])}const T2={};function pre(e,t,r){T2[e]||(T2[e]=!0)}function gre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function M2(e){let{to:t,replace:r,state:n,relative:a}=e;uh()||jr(!1);let{future:i,static:o}=y.useContext(Bl),{matches:l}=y.useContext(Ul),{pathname:c}=Ts(),u=On(),d=RE(t,IE(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function pa(e){jr(!1)}function vre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ll.Pop,navigator:i,static:o=!1,future:l}=e;uh()&&jr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:up({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ch(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=$E(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(Bl.Provider,{value:u},y.createElement(I0.Provider,{children:r,value:p}))}function yre(e){let{children:t,location:r}=e;return nre(IS(t),r)}new Promise(()=>{});function IS(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,IS(n.props.children,i));return}n.type!==pa&&jr(!1),!n.props.index||!n.props.children||jr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=IS(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function RS(){return RS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RS.apply(this,arguments)}function xre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wre(e,t){return e.button===0&&(!t||t==="_self")&&!bre(e)}function DS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function _re(e,t){let r=DS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const jre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sre="6";try{window.__reactRouterVersion=Sre}catch{}const Nre="startTransition",$2=n0[Nre];function kre(e){let{basename:t,children:r,future:n,window:a}=e,i=y.useRef();i.current==null&&(i.current=Cte({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&$2?$2(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>gre(n),[n]),y.createElement(vre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Cre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ere=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vs=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=xre(t,jre),{basename:m}=y.useContext(Bl),g,p=!1;if(typeof u=="string"&&Ere.test(u)&&(g=u,Cre))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=$E(_.pathname,m);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let v=tre(u,{relative:a}),b=Pre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",RS({},h,{href:g||v,onClick:p||i?n:x,ref:r,target:c}))});var I2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(I2||(I2={}));var R2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(R2||(R2={}));function Pre(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=On(),u=Ts(),d=S6(e,{relative:o});return y.useCallback(f=>{if(wre(f,r)){f.preventDefault();let h=n!==void 0?n:yx(u)===yx(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function LE(e){let t=y.useRef(DS(e)),r=y.useRef(!1),n=Ts(),a=y.useMemo(()=>_re(n.search,r.current?null:t.current),[n.search]),i=On(),o=y.useCallback((l,c)=>{const u=DS(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var fs=function(){return fs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fs.apply(this,arguments)};function dh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Ore(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Are(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const Tre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class FE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Mre extends FE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D2 extends FE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L2 extends FE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var LS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(LS||(LS={}));class $re{constructor(t,{headers:r={},customFetch:n,region:a=LS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Tre(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ore(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:v}).catch(S=>{throw new Mre(S)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new D2(b);if(!b.ok)throw new L2(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof L2||l instanceof D2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ire=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Rre=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new Ire(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Dre=class extends Rre{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const F2=new RegExp("[,()]");var td=class extends Dre{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Lre=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new td({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new td({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new td({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new td({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new td({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Fre=class E6{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Lre(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new td({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Bre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ure="2.90.1",zre=`realtime-js/${Ure}`,P6="1.0.0",Vre="2.0.0",B2=P6,FS=1e4,Wre=1e3,Hre=100;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var Oi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Oi||(Oi={}));var BS;(function(e){e.websocket="websocket"})(BS||(BS={}));var bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bc||(bc={}));class qre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class O6{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ft||(Ft={}));const U2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Gre(o,e,t,a),i),{}):{}},Gre=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?A6(i,o):US(o)},A6=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xre(t,r)}switch(e){case Ft.bool:return Kre(t);case Ft.float4:case Ft.float8:case Ft.int2:case Ft.int4:case Ft.int8:case Ft.numeric:case Ft.oid:return Yre(t);case Ft.json:case Ft.jsonb:return Jre(t);case Ft.timestamp:return Qre(t);case Ft.abstime:case Ft.date:case Ft.daterange:case Ft.int4range:case Ft.int8range:case Ft.money:case Ft.reltime:case Ft.text:case Ft.time:case Ft.timestamptz:case Ft.timetz:case Ft.tsrange:case Ft.tstzrange:return US(t);default:return US(t)}},US=e=>e,Kre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Jre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Xre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>A6(t,l))}return e},Qre=e=>typeof e=="string"?e.replace(" ","T"):e,T6=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Y_{constructor(t,r,n={},a=FS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var z2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(z2||(z2={}));class Em{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Em.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Em.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Em.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(V2||(V2={}));var Pm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pm||(Pm={}));var Ws;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ws||(Ws={}));class wd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Y_(this,Oi.join,this.params,this.timeout),this.rejoinTimer=new O6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Em(this),this.broadcastEndpointURL=T6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Pm.PRESENCE]&&this.bindings[Pm.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ws.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ws.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Ws.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=p[x],{filter:{event:_,schema:S,table:N,filter:k}}=w,P=m&&m[x];if(P&&P.event===_&&wd.isFilterValueEqual(P.schema,S)&&wd.isFilterValueEqual(P.table,N)&&wd.isFilterValueEqual(P.filter,k))b.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(Ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Ws.SUBSCRIBED);return}}).receive("error",m=>{this.state=Dr.errored,t==null||t(Ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===Pm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Y_(this,Oi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Y_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Oi;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,b,x,w,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,k=(g=m.filter)===null||g===void 0?void 0:g.event;return N&&((p=r.ids)===null||p===void 0?void 0:p.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=m.filter)===null||b===void 0)&&b.table)||m.filter.table===((x=r.data)===null||x===void 0?void 0:x.table))}else{const N=(_=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return N==="*"||N===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&wd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Oi.close,{},t)}_onError(t){this._on(Oi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=U2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=U2(t.columns,t.old_record)),r}}const J_=()=>{},_v={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zre=[1e3,2e3,5e3,1e4],ene=1e4,tne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rne{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=FS,this.transport=null,this.heartbeatIntervalMs=_v.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=J_,this.ref=0,this.reconnectTimer=null,this.vsn=B2,this.logger=J_,this.conn=null,this.sendBuffer=[],this.serializer=new qre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${BS.websocket}`,this.httpEndpoint=T6(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return bc.Connecting;case qo.open:return bc.Open;case qo.closing:return bc.Closing;default:return bc.Closed}}isConnected(){return this.connectionState()===bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new wd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_v.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qo.open||this.conn.readyState===qo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Oi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([tne],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:zre};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Oi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new O6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_v.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:FS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:_v.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:J_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:B2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Zre[g-1]||ene,this.vsn){case P6:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case Vre:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var dp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nne(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function ane(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ine(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=nne(e.baseUrl,n,a),c=await ane(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new dp((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function jv(e){return e.join("")}var sne=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:jv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jv(e.namespace)}`}),!0}catch(t){if(t instanceof dp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof dp&&r.status===409)return;throw r}}};function Lu(e){return e.join("")}var one=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof dp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof dp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},lne=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ine({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new sne(this.client,t),this.tableOps=new one(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},R0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cne=class extends R0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zS=class extends R0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const BE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),une=()=>Response,VS=e=>{if(Array.isArray(e))return e.map(r=>VS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=VS(n)}),t},dne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fne=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function hne(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e){var t=hne(e,"string");return fp(t)=="symbol"?t:t+""}function pne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const X_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gne=async(e,t,r)=>{e instanceof await une()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new cne(X_(n),a,i))}).catch(n=>{t(new zS(X_(n),n))}):t(new zS(X_(e),e))},vne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(dne(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ve(Ve({},a),r))};async function jg(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,vne(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>gne(c,l,n))})}async function hp(e,t,r,n){return jg(e,"GET",t,r,n)}async function ki(e,t,r,n,a){return jg(e,"POST",t,n,a,r)}async function WS(e,t,r,n,a){return jg(e,"PUT",t,n,a,r)}async function yne(e,t,r,n){return jg(e,"HEAD",t,Ve(Ve({},r),{},{noResolveJson:!0}),n)}async function UE(e,t,r,n,a){return jg(e,"DELETE",t,n,a,r)}var xne=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}}};let M6;M6=Symbol.toStringTag;var bne=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[M6]="BlobDownloadBuilder",this.promise=null}asStream(){return new xne(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}}};const wne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _ne=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=BE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=Ve(Ve({},H2),n);let l=Ve(Ve({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ve(Ve({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?WS:ki)(a.fetch,`${a.url}/object/${d}`,i,Ve({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ve({upsert:H2.upsert},n),d=Ve(Ve({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await WS(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(ur(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ve({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ki(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new R0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ki(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ki(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await ki(n.fetch,`${n.url}/object/sign/${a}`,Ve({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ki(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Ve(Ve({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>hp(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new bne(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:VS(await hp(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await yne(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ur(n)&&n instanceof zS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await UE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ve(Ve(Ve({},wne),t),{},{prefix:e||""});return{data:await ki(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ve({},e);return{data:await ki(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const $6="2.90.1",I6={"X-Client-Info":`storage-js/${$6}`};var jne=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ve(Ve({},I6),t),this.fetch=BE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await hp(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await hp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ki(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await WS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ki(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await UE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Sne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},I6),t),this.fetch=BE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ki(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await hp(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await UE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!fne(e))throw new R0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new lne({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const zE={"X-Client-Info":`storage-js/${$6}`,"Content-Type":"application/json"};var R6=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ka(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Q_=class extends R6{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nne=class extends R6{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const VE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},q2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Cne=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Q_(q2(i),n,o))}).catch(()=>{const i=n+"";t(new Q_(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Q_(a.statusText||`HTTP ${n} error`,n,i))}}else t(new Nne(q2(e),e))},Ene=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(kne(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ve(Ve({},a),r)):a};async function Pne(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,Ene(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Cne(c,l,n))})}async function Ca(e,t,r,n,a){return Pne(e,"POST",t,n,a,r)}var One=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},zE),t),this.fetch=VE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ca(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ca(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ka(n))return{data:null,error:n};throw n}}},Ane=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},zE),t),this.fetch=VE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ca(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ca(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ca(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}},Tne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},zE),t),this.fetch=VE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ca(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ka(r))return{data:null,error:r};throw r}}},Mne=class extends Tne{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new $ne(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},$ne=class extends One{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Ine(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ine=class extends Ane{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Rne=class extends jne{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new _ne(this.url,this.headers,e,this.fetch)}get vectors(){return new Mne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Sne(this.url+"/iceberg",this.headers,this.fetch)}};const D6="2.90.1",rd=30*1e3,HS=3,Z_=HS*rd,Dne="http://localhost:9999",Lne="supabase.auth.token",Fne={"X-Client-Info":`gotrue-js/${D6}`},qS="X-Supabase-Api-Version",L6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Une=10*60*1e3;class mp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zne extends mp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Vne(e){return Re(e)&&e.name==="AuthApiError"}class wc extends mp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class No extends mp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ga extends No{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wne(e){return Re(e)&&e.name==="AuthSessionMissingError"}class Fu extends No{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sv extends No{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nv extends No{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hne(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class G2 extends No{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qne extends No{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class GS extends No{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ej(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class K2 extends No{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class KS extends No{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y2=` 	
\r=`.split(""),Gne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Y2.length;t+=1)e[Y2[t].charCodeAt(0)]=-2;for(let t=0;t<xx.length;t+=1)e[xx[t].charCodeAt(0)]=t;return e})();function J2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(xx[n]),t.queuedBits-=6}}function F6(e,t,r){const n=Gne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function X2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Jne(o,n,r)};for(let o=0;o<e.length;o+=1)F6(e.charCodeAt(o),a,i);return t.join("")}function Kne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Yne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Kne(n,t)}}function Jne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)F6(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Xne(e){const t=[];return Yne(e,r=>t.push(r)),new Uint8Array(t)}function Cc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>J2(a,r,n)),J2(null,r,n),t.join("")}function Qne(e){return Math.round(Date.now()/1e3)+e}function Zne(){return Symbol("auth-callback")}const cn=()=>typeof window<"u"&&typeof document<"u",nc={tested:!1,writable:!1},B6=()=>{if(!cn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nc.tested)return nc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nc.tested=!0,nc.writable=!0}catch{nc.tested=!0,nc.writable=!1}return nc.writable};function eae(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const U6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tae=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ac=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},on=async(e,t)=>{await e.removeItem(t)};class D0{constructor(){this.promise=new D0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}D0.promiseConstructor=Promise;function tj(e){const t=e.split(".");if(t.length!==3)throw new KS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Bne.test(t[n]))throw new KS("JWT not in base64url format");return{header:JSON.parse(X2(t[0])),payload:JSON.parse(X2(t[1])),signature:Fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function rae(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nae(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function aae(e){return("0"+e.toString(16)).substr(-2)}function iae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,aae).join("")}async function sae(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function oae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sae(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bu(e,t,r=!1){const n=iae();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await nd(e,`${t}-code-verifier`,a);const i=await oae(n);return[i,n===i?"plain":"s256"]}const lae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cae(e){const t=e.headers.get(qS);if(!t||!t.match(lae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uu(e){if(!fae.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rj(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hae(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Q2(e){return JSON.parse(JSON.stringify(e))}const mc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mae=[502,503,504];async function Z2(e){var t;if(!tae(e))throw new GS(mc(e),0);if(mae.includes(e.status))throw new GS(mc(e),e.status);let r;try{r=await e.json()}catch(i){throw new wc(mc(i),i)}let n;const a=cae(e);if(a&&a.getTime()>=L6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new K2(mc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ga}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new K2(mc(r),e.status,r.weak_password.reasons);throw new zne(mc(r),e.status||500,n)}const pae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ze(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[qS]||(i[qS]=L6["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gae(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gae(e,t,r,n,a,i){const o=pae(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new GS(mc(c),0)}if(l.ok||await Z2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Z2(c)}}function wi(e){var t;let r=null;xae(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Qne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eM(e){const t=wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vae(e){return{data:e,error:null}}function yae(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=dh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tM(e){return e}function xae(e){return e.access_token&&e.refresh_token&&e.expires_in}const nj=["global","local","others"];class bae{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=U6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=nj[0]){if(nj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nj.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qo})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:yae,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qo})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tM});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uu(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qo})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uu(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qo})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uu(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qo})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uu(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uu(t.userId),Uu(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:tM});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Re(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Re(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function rM(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zu={debug:!!(globalThis&&B6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class wae extends z6{}async function _ae(e,t,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new wae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function V6(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Sae(e){return parseInt(e,16)}function Nae(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function kae(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=V6(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class Pr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class bx extends Pr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Cae({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(W6(o)){if(i.rp.id!==o)return new Pr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Eae({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(W6(n)){if(r.rpId!==n)return new Pr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Pae{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Oae=new Pae;function Aae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=dh(e,["challenge","user","excludeCredentials"]),i=Fd(t).buffer,o=Object.assign(Object.assign({},r),{id:Fd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Fd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Tae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=dh(e,["challenge","allowCredentials"]),a=Fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Fd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Mae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Cc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Cc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $ae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Cc(new Uint8Array(a.authenticatorData)),clientDataJSON:Cc(new Uint8Array(a.clientDataJSON)),signature:Cc(new Uint8Array(a.signature)),userHandle:a.userHandle?Cc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function W6(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nM(){var e,t;return!!(cn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Iae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bx("Browser returned unexpected credential type",t)}:{data:null,error:new bx("Empty credential response",t)}}catch(t){return{data:null,error:Cae({error:t,options:e})}}}async function Rae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new bx("Browser returned unexpected credential type",t)}:{data:null,error:new bx("Empty credential response",t)}}catch(t){return{data:null,error:Eae({error:t,options:e})}}}const Dae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=wx(l,o):n[i]=wx(o)}else n[i]=o}return n}function Fae(e,t){return wx(Dae,e,t||{})}function Bae(e,t){return wx(Lae,e,t||{})}class Uae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??Oae.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Fae(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Iae({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Bae(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Rae(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn authentication")};try{if(!nM())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn registration")};try{if(!nM())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Re(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in register",o)}}}}jae();const zae={url:Dne,storageKey:Lne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function aM(e,t,r){return await r()}const Vu={};class pp{get jwks(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},zae),t);if(this.storageKey=i.storageKey,this.instanceID=(r=pp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&cn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=U6(i.fetch),this.lock=i.lock||aM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&cn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_ae:this.lock=aM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:B6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rM(this.memoryStorage)),cn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D6}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(cn()&&(r=eae(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),cn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Hne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?this._returnResult({error:r}):this._returnResult({error:new wc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:wi}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Bu(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:wi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:wi})}else throw new Sv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await on(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eM})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eM})}else throw new Sv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Fu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:b,options:x}=t;let w;if(cn())if(typeof v=="object")w=v;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=V6(S[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await w.request({method:"eth_chainId"});k=Sae(O)}const P={domain:_.host,address:N,statement:b,uri:_.href,version:"1",chainId:k,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=kae(P),g=await w.request({method:"personal_sign",params:[Nae(m),N]})}try{const{data:p,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:wi});if(v)throw v;if(!p||!p.session||!p.user){const b=new Fu;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(Re(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(cn())if(typeof b=="object")_=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:v,error:b}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Cc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wi});if(b)throw b;if(!v||!v.session||!v.user){const x=new Fu;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Re(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await ac(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new qne;const{data:i,error:o}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wi});if(await on(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Fu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wi}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Fu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bu(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Sv("You must provide either an email or phone number.")}catch(l){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:wi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Bu(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:vae});return!((i=u.data)===null||i===void 0)&&i.url&&cn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ga;const{error:a}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Sv("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ac(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Z_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ac(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rj()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=hae(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ga}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qo})})}catch(r){if(Re(r))return Wne(r)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ga;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Bu(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ga;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=tj(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ga;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!cn())throw new Nv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new G2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new G2("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Nv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=rd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Re(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ac(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Vne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Zne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Bu(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return cn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Re(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wi}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Fu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await on(this.storage,`${this.storageKey}-code-verifier`),Re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nae(async a=>(a>0&&await rae(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&ej(i)&&Date.now()+o-n<rd})}catch(n){if(this._debug(r,"error",n),Re(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),cn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ac(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ac(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await nd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rj()}else if(a&&!a.user&&!a.user){const o=await ac(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await on(this.storage,this.storageKey+"-user"),await nd(this.storage,this.storageKey,a)):a.user=rj()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Z_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Z_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),ej(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ga;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new D0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ga;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Re(i)){const o={data:null,error:i};return ej(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await on(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Q2(a);await nd(this.storage,this.storageKey,i)}else{const a=Q2(r);await nd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&cn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rd}ms, refresh threshold is ${HS} ticks`),a<=HS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!cn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Mae(t.webauthn.credential_response):$ae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Aae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Tae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=tj(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ga})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ga});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ga});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&cn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ga})})}catch(t){if(Re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ga})})}catch(r){if(Re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Une>a)return n;const{data:i,error:o}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=tj(n);r!=null&&r.allowExpired||uae(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=dae(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Xne(`${l}.${c}`)))throw new KS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Re(n))return this._returnResult({data:null,error:n});throw n}}}pp.nextInstanceID={};const Vae=pp,Wae="2.90.1";let dm="";typeof Deno<"u"?dm="deno":typeof document<"u"?dm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dm="react-native":dm="node";const Hae={"X-Client-Info":`supabase-js-${dm}/${Wae}`},qae={headers:Hae},Gae={schema:"public"},Kae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Yae={};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function Jae(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xae(e){var t=Jae(e,"string");return gp(t)=="symbol"?t:t+""}function Qae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iM(Object(r),!0).forEach(function(n){Qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Zae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eie=()=>Headers,tie=(e,t,r)=>{const n=Zae(r),a=eie();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,gr(gr({},o),{},{headers:u}))}};function rie(e){return e.endsWith("/")?e:e+"/"}function nie(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:gr(gr({},c),a),auth:gr(gr({},u),i),realtime:gr(gr({},d),o),storage:{},global:gr(gr(gr({},f),l),{},{headers:gr(gr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function aie(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(rie(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iie=class extends Vae{constructor(e){super(e)}},sie=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=aie(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Gae,realtime:Yae,auth:gr(gr({},Kae),{},{storageKey:o}),global:qae},c=nie(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=tie(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Fre(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Rne(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new $re(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iie({url:this.authUrl.href,headers:gr(gr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new rne(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const oie=(e,t,r)=>new sie(e,t,r);function lie(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}lie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cie="https://ihyzfrfzazrbrufzcunm.supabase.co",uie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Ee=oie(cie,uie,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),vo=Object.freeze(Object.defineProperty({__proto__:null,supabase:Ee},Symbol.toStringTag,{value:"Module"})),H6=y.createContext(void 0),$r=()=>{const e=y.useContext(H6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},die=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),m=async x=>{console.log("[AuthContext] Fetching user data for:",x);try{const{data:w,error:_}=await Ee.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",x).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),o(w));const{data:S,error:N}=await Ee.from("user_roles").select("role").eq("user_id",x).single();if(N&&console.error("[AuthContext] Role fetch error:",N),S)if(console.log("[AuthContext] Role:",S.role),c(S.role),S.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await m(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};y.useEffect(()=>{const{data:{subscription:x}}=Ee.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{m(_.user.id)},0):(o(null),c(null),h(!1)),w==="SIGNED_OUT"&&(o(null),c(null),h(!1))});return Ee.auth.getSession().then(({data:{session:w}})=>{a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&m(w.user.id),d(!1)}),()=>x.unsubscribe()},[]);const p=async(x,w,_)=>{const S=`${window.location.origin}/`,{error:N}=await Ee.auth.signUp({email:x,password:w,options:{emailRedirectTo:S,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:N}},v=async(x,w)=>{const{error:_}=await Ee.auth.signInWithPassword({email:x,password:w});return{error:_}},b=async()=>{await Ee.auth.signOut(),r(null),a(null),o(null),c(null),h(!1)};return s.jsx(H6.Provider,{value:{user:t,session:n,profile:i,role:l,isLoading:u,onboardingComplete:f,signUp:p,signIn:v,signOut:b,refreshProfile:g},children:e})},Ds=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:a}=$r(),i=Ts();if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return s.jsx(M2,{to:"/auth",state:{from:i},replace:!0});if(t&&n&&!t.includes(n)){const o={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return s.jsx(M2,{to:o[n],replace:!0})}return s.jsx(s.Fragment,{children:e})};var fie=Symbol.for("react.lazy"),_x=n0[" use ".trim().toString()];function hie(e){return typeof e=="object"&&e!==null&&"then"in e}function q6(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===fie&&"_payload"in e&&hie(e._payload)}function Sg(e){const t=mie(e),r=y.forwardRef((n,a)=>{let{children:i,...o}=n;q6(i)&&typeof _x=="function"&&(i=_x(i._payload));const l=y.Children.toArray(i),c=l.find(gie);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var G6=Sg("Slot");function mie(e){const t=y.forwardRef((r,n)=>{let{children:a,...i}=r;if(q6(a)&&typeof _x=="function"&&(a=_x(a._payload)),y.isValidElement(a)){const o=yie(a),l=vie(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pie=Symbol("radix.slottable");function gie(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pie}function vie(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function yie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const vp=_0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?G6:"button";return s.jsx(o,{className:ve(vp({variant:t,size:r,className:e})),ref:i,...a})});Q.displayName="Button";const xie=()=>{const[e,t]=y.useState(!1),{user:r,profile:n,role:a,signOut:i}=$r(),o=On(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await i(),o("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[s.jsx(Vs,{to:"/",className:"flex items-center gap-2",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),s.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>s.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsxs(Q,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(ua,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?s.jsxs(s.Fragment,{children:[s.jsx(Vs,{to:a?u(a):"/patient",children:s.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:c,children:s.jsx(Cl,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vs,{to:"/auth",children:s.jsx(Q,{variant:"outline",size:"sm",children:"Sign In"})}),s.jsx(Vs,{to:"/auth",children:s.jsx(Q,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?s.jsx(Os,{className:"w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(xg,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&s.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:s.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>s.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),s.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[s.jsx(ua,{className:"w-4 h-4"}),"0800 QUADCARE"]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Vs,{to:a?u(a):"/patient",onClick:()=>t(!1),children:s.jsxs(Q,{variant:"outline",className:"w-full gap-2 justify-start",children:[s.jsx(OX,{className:"w-4 h-4"}),"My Dashboard"]})}),s.jsxs(Q,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(Vs,{to:"/auth",onClick:()=>t(!1),children:s.jsx(Q,{variant:"outline",className:"w-full",children:"Sign In"})}),s.jsx(Vs,{to:"/auth",onClick:()=>t(!1),children:s.jsx(Q,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},bie="/assets/hero-medical-D5FvmeGo.jpg",wie=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return s.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),s.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[s.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(nn,{className:"w-4 h-4 text-success shrink-0"}),s.jsx("span",{children:t})]},t))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[s.jsx(Vs,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(Q,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[s.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Book Consultation"}),s.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),s.jsxs(Q,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[s.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"How It Works"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),s.jsx("span",{children:"HPCSA Registered"})]}),s.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),s.jsx("span",{children:"Active Patients"})]})]})]}),s.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[s.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[s.jsx("img",{src:bie,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),s.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),s.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),s.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),s.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},_ie=()=>{const e=[{icon:kt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:ni,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:kn,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:tr,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:an,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:jB,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:kX,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:bg,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:bd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return s.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>s.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[s.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-7 h-7"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},jie=()=>{const e=[{number:"01",icon:Wr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:_B,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:ni,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:tr,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:SB,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:jB,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return s.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&s.jsx("div",{className:"lg:hidden flex justify-center py-4",children:s.jsx(Fi,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},Sie=()=>{const e=[{icon:dx,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:kn,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:qt,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:CB,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return s.jsx("section",{className:"py-16 gradient-hero",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:s.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),s.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),s.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},Nie=()=>{const e=[{icon:IX,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:qt,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:an,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:tr,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:bd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:bg,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return s.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-success flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs(Q,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",s.jsx(Fi,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(Q,{variant:"outline",size:"lg",children:"View Demo"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>s.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:s.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},kie=()=>s.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[s.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),s.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(Q,{variant:"heroOutline",size:"xl",className:"group",children:[s.jsx(kt,{className:"w-5 h-5"}),"Book Your First Consultation",s.jsx(Fi,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsxs(Q,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[s.jsx(ua,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),s.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),Cie=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:EX,href:"#",label:"Facebook"},{icon:KX,href:"#",label:"Twitter"},{icon:RX,href:"#",label:"LinkedIn"},{icon:$X,href:"#",label:"Instagram"}];return s.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(Vs,{to:"/",className:"flex items-center gap-2 mb-6",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),s.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[s.jsx(ua,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),s.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[s.jsx(hs,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[s.jsx(NB,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:["Quadcare Head Office",s.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),s.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),s.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),s.jsx("ul",{className:"space-y-3",children:e.company.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),s.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),s.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),s.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>s.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:s.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},Eie=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(xie,{}),s.jsxs("main",{children:[s.jsx(wie,{}),s.jsx(_ie,{}),s.jsx(jie,{}),s.jsx(Sie,{}),s.jsx(Nie,{}),s.jsx(kie,{})]}),s.jsx(Cie,{})]});var Ng=e=>e.type==="checkbox",Ec=e=>e instanceof Date,Qn=e=>e==null;const K6=e=>typeof e=="object";var Tr=e=>!Qn(e)&&!Array.isArray(e)&&K6(e)&&!Ec(e),Y6=e=>Tr(e)&&e.target?Ng(e.target)?e.target.checked:e.target.value:e,Pie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,J6=(e,t)=>e.has(Pie(t)),Oie=e=>{const t=e.constructor&&e.constructor.prototype;return Tr(t)&&t.hasOwnProperty("isPrototypeOf")},WE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(WE&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Tr(e)&&Oie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=kr(e[a]));return n}var L0=e=>/^\w*$/.test(e),ar=e=>e===void 0,HE=e=>Array.isArray(e)?e.filter(Boolean):[],qE=e=>HE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,r)=>{if(!t||!Tr(e))return r;const n=(L0(t)?[t]:qE(t)).reduce((a,i)=>Qn(a)?a:a[i],e);return ar(n)||n===e?ar(e[t])?r:e[t]:n},ja=e=>typeof e=="boolean",Dn=e=>typeof e=="function",Et=(e,t,r)=>{let n=-1;const a=L0(t)?[t]:qE(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Tr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const jx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$i={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GE=M.createContext(null);GE.displayName="HookFormControlContext";const KE=()=>M.useContext(GE);var X6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$i.all&&(t._proxyFormState[o]=!n||$i.all),r&&(r[o]=!0),e[o]}});return a};const YE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Aie(e){const t=KE(),{control:r=t,disabled:n,name:a,exact:i}=e||{},[o,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return YE(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>X6(o,r,c.current,!1),[o,r])}var Ea=e=>typeof e=="string",YS=(e,t,r,n,a)=>Ea(e)?(n&&t.watch.add(e),_e(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),_e(r,i))):(n&&(t.watchAll=!0),r),JS=e=>Qn(e)||!K6(e);function Ii(e,t,r=new WeakSet){if(JS(e)||JS(t))return Object.is(e,t);if(Ec(e)&&Ec(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ec(o)&&Ec(l)||Tr(o)&&Tr(l)||Array.isArray(o)&&Array.isArray(l)?!Ii(o,l,r):!Object.is(o,l))return!1}}return!0}function Tie(e){const t=KE(),{control:r=t,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(a),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[m,g]=M.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),p=M.useCallback(_=>{const S=YS(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(S):S},[r._formValues,r._names,n]),v=M.useCallback(_=>{if(!i){const S=YS(n,r._names,_||r._formValues,!1,c.current);if(u.current){const N=u.current(S);Ii(N,d.current)||(g(N),d.current=N)}else g(S)}},[r._formValues,r._names,i,n]);YE(()=>((f.current!==r||!Ii(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:_=>{v(_.values)}})),[r,o,n,v]),M.useEffect(()=>r._removeUnmounted());const b=f.current!==r,x=h.current,w=M.useMemo(()=>{if(i)return null;const _=!b&&!Ii(x,n);return b||_?p():null},[i,b,n,x,p]);return w!==null?w:m}function Mie(e){const t=KE(),{name:r,disabled:n,control:a=t,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=J6(a._names.array,r),u=M.useMemo(()=>_e(a._formValues,r,_e(a._defaultValues,r,o)),[a,r,o]),d=Tie({control:a,name:r,defaultValue:u,exact:l}),f=Aie({control:a,name:r,exact:l}),h=M.useRef(e),m=M.useRef(void 0),g=M.useRef(a.register(r,{...e.rules,value:d,...ja(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!_e(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_e(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_e(f.validatingFields,r)},error:{enumerable:!0,get:()=>_e(f.errors,r)}}),[f,r]),v=M.useCallback(_=>g.current.onChange({target:{value:Y6(_),name:r},type:jx.CHANGE}),[r]),b=M.useCallback(()=>g.current.onBlur({target:{value:_e(a._formValues,r),name:r},type:jx.BLUR}),[r,a._formValues]),x=M.useCallback(_=>{const S=_e(a._fields,r);S&&S._f&&_&&(S._f.ref={focus:()=>Dn(_.focus)&&_.focus(),select:()=>Dn(_.select)&&_.select(),setCustomValidity:N=>Dn(_.setCustomValidity)&&_.setCustomValidity(N),reportValidity:()=>Dn(_.reportValidity)&&_.reportValidity()})},[a._fields,r]),w=M.useMemo(()=>({name:r,value:d,...ja(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:x}),[r,n,f.disabled,v,b,x,d]);return M.useEffect(()=>{const _=a._options.shouldUnregister||i,S=m.current;S&&S!==r&&!c&&a.unregister(S),a.register(r,{...h.current.rules,...ja(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(k,P)=>{const O=_e(a._fields,k);O&&O._f&&(O._f.mount=P)};if(N(r,!0),_){const k=kr(_e(a._options.defaultValues,r,h.current.defaultValue));Et(a._defaultValues,r,k),ar(_e(a._formValues,r))&&Et(a._formValues,r,k)}return!c&&a.register(r),m.current=r,()=>{(c?_&&!a._state.action:_)?a.unregister(r):N(r,!1)}},[r,a,c,i]),M.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),M.useMemo(()=>({field:w,formState:f,fieldState:p}),[w,f,p])}const $ie=e=>e.render(Mie(e)),JE=M.createContext(null);JE.displayName="HookFormContext";const Iie=()=>M.useContext(JE),Rie=e=>{const{children:t,watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:o,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:g,register:p,setFocus:v,subscribe:b}=e;return M.createElement(JE.Provider,{value:M.useMemo(()=>({watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:o,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:g,register:p,setFocus:v,subscribe:b}),[o,g,u,a,n,h,p,f,d,i,v,l,b,c,m,r])},M.createElement(GE.Provider,{value:g},t))};var Q6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Om=e=>Array.isArray(e)?e:[e],sM=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function Z6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Tr(a)&&i){const o=Z6(a,i);Tr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Mn=e=>Tr(e)&&!Object.keys(e).length,XE=e=>e.type==="file",Sx=e=>{if(!WE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eU=e=>e.type==="select-multiple",QE=e=>e.type==="radio",Die=e=>QE(e)||Ng(e),aj=e=>Sx(e)&&e.isConnected;function Lie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ar(e)?n++:e[t[n++]];return e}function Fie(e){for(const t in e)if(e.hasOwnProperty(t)&&!ar(e[t]))return!1;return!0}function Cr(e,t){const r=Array.isArray(t)?t:L0(t)?[t]:qE(t),n=r.length===1?e:Lie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Tr(n)&&Mn(n)||Array.isArray(n)&&Fie(n))&&Cr(e,r.slice(0,-1)),e}var Bie=e=>{for(const t in e)if(Dn(e[t]))return!0;return!1};function tU(e){return Array.isArray(e)||Tr(e)&&!Bie(e)}function XS(e,t={}){for(const r in e){const n=e[r];tU(n)?(t[r]=Array.isArray(n)?[]:{},XS(n,t[r])):ar(n)||(t[r]=!0)}return t}function ad(e,t,r){r||(r=XS(t));for(const n in e){const a=e[n];if(tU(a))ar(t)||JS(r[n])?r[n]=XS(a,Array.isArray(a)?[]:{}):ad(a,Qn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ii(a,i)}}return r}const oM={value:!1,isValid:!1},lM={value:!0,isValid:!0};var rU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ar(e[0].attributes.value)?ar(e[0].value)||e[0].value===""?lM:{value:e[0].value,isValid:!0}:lM:oM}return oM},nU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ar(e)?e:t?e===""?NaN:e&&+e:r&&Ea(e)?new Date(e):n?n(e):e;const cM={isValid:!1,value:null};var aU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cM):cM;function uM(e){const t=e.ref;return XE(t)?t.files:QE(t)?aU(e.refs).value:eU(t)?[...t.selectedOptions].map(({value:r})=>r):Ng(t)?rU(e.refs).value:nU(ar(t.value)?e.ref.value:t.value,e)}var Uie=(e,t,r,n)=>{const a={};for(const i of e){const o=_e(t,i);o&&Et(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Nx=e=>e instanceof RegExp,Wh=e=>ar(e)?e:Nx(e)?e.source:Tr(e)?Nx(e.value)?e.value.source:e.value:e,dM=e=>({isOnSubmit:!e||e===$i.onSubmit,isOnBlur:e===$i.onBlur,isOnChange:e===$i.onChange,isOnAll:e===$i.all,isOnTouch:e===$i.onTouched});const fM="AsyncFunction";var zie=e=>!!e&&!!e.validate&&!!(Dn(e.validate)&&e.validate.constructor.name===fM||Tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fM)),Vie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hM=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Am=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=_e(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Am(l,t))break}else if(Tr(l)&&Am(l,t))break}}};function mM(e,t,r){const n=_e(e,r);if(n||L0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=_e(t,i),l=_e(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Wie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Mn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||$i.all))},Hie=(e,t,r)=>!e||!t||e===t||Om(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),qie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Gie=(e,t)=>!HE(_e(e,t)).length&&Cr(e,t),Kie=(e,t,r)=>{const n=Om(_e(e,r));return Et(n,"root",t[r]),Et(e,r,n),e};function pM(e,t,r="validate"){if(Ea(e)||Array.isArray(e)&&e.every(Ea)||ja(e)&&!e)return{type:r,message:Ea(e)?e:"",ref:t}}var Wu=e=>Tr(e)&&!Nx(e)?e:{value:e,message:""},gM=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:b}=e._f,x=_e(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=T=>{a&&w.reportValidity&&(w.setCustomValidity(ja(T)?"":T||""),w.reportValidity())},S={},N=QE(o),k=Ng(o),P=N||k,O=(v||XE(o))&&ar(o.value)&&ar(x)||Sx(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,A=Q6.bind(null,p,n,S),$=(T,U,I,V=Ls.maxLength,L=Ls.minLength)=>{const z=T?U:I;S[p]={type:T?V:L,message:z,ref:o,...A(T?V:L,z)}};if(i?!Array.isArray(x)||!x.length:c&&(!P&&(O||Qn(x))||ja(x)&&!x||k&&!rU(l).isValid||N&&!aU(l).isValid)){const{value:T,message:U}=Ea(c)?{value:!!c,message:c}:Wu(c);if(T&&(S[p]={type:Ls.required,message:U,ref:w,...A(Ls.required,U)},!n))return _(U),S}if(!O&&(!Qn(f)||!Qn(h))){let T,U;const I=Wu(h),V=Wu(f);if(!Qn(x)&&!isNaN(x)){const L=o.valueAsNumber||x&&+x;Qn(I.value)||(T=L>I.value),Qn(V.value)||(U=L<V.value)}else{const L=o.valueAsDate||new Date(x),z=K=>new Date(new Date().toDateString()+" "+K),R=o.type=="time",F=o.type=="week";Ea(I.value)&&x&&(T=R?z(x)>z(I.value):F?x>I.value:L>new Date(I.value)),Ea(V.value)&&x&&(U=R?z(x)<z(V.value):F?x<V.value:L<new Date(V.value))}if((T||U)&&($(!!T,I.message,V.message,Ls.max,Ls.min),!n))return _(S[p].message),S}if((u||d)&&!O&&(Ea(x)||i&&Array.isArray(x))){const T=Wu(u),U=Wu(d),I=!Qn(T.value)&&x.length>+T.value,V=!Qn(U.value)&&x.length<+U.value;if((I||V)&&($(I,T.message,U.message),!n))return _(S[p].message),S}if(m&&!O&&Ea(x)){const{value:T,message:U}=Wu(m);if(Nx(T)&&!x.match(T)&&(S[p]={type:Ls.pattern,message:U,ref:o,...A(Ls.pattern,U)},!n))return _(U),S}if(g){if(Dn(g)){const T=await g(x,r),U=pM(T,w);if(U&&(S[p]={...U,...A(Ls.validate,U.message)},!n))return _(U.message),S}else if(Tr(g)){let T={};for(const U in g){if(!Mn(T)&&!n)break;const I=pM(await g[U](x,r),w,U);I&&(T={...I,...A(U,I.message)},_(I.message),n&&(S[p]=T))}if(!Mn(T)&&(S[p]={ref:w,...T},!n))return S}}return _(!0),S};const Yie={mode:$i.onSubmit,reValidateMode:$i.onChange,shouldFocusError:!0};function Jie(e={}){let t={...Yie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Tr(t.defaultValues)||Tr(t.values)?kr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:kr(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:sM(),state:sM()},g=t.criteriaMode===$i.all,p=H=>W=>{clearTimeout(u),u=setTimeout(H,W)},v=async H=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||H)){let W;t.resolver?(W=Mn((await P()).errors),b()):W=await A(n,!0),W!==r.isValid&&m.state.next({isValid:W})}},b=(H,W)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(J=>{J&&(W?Et(r.validatingFields,J,W):Cr(r.validatingFields,J))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Mn(r.validatingFields)}))},x=(H,W=[],J,de,ue=!0,se=!0)=>{if(de&&J&&!t.disabled){if(o.action=!0,se&&Array.isArray(_e(n,H))){const Ae=J(_e(n,H),de.argA,de.argB);ue&&Et(n,H,Ae)}if(se&&Array.isArray(_e(r.errors,H))){const Ae=J(_e(r.errors,H),de.argA,de.argB);ue&&Et(r.errors,H,Ae),Gie(r.errors,H)}if((f.touchedFields||h.touchedFields)&&se&&Array.isArray(_e(r.touchedFields,H))){const Ae=J(_e(r.touchedFields,H),de.argA,de.argB);ue&&Et(r.touchedFields,H,Ae)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ad(a,i)),m.state.next({name:H,isDirty:T(H,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(i,H,W)},w=(H,W)=>{Et(r.errors,H,W),m.state.next({errors:r.errors})},_=H=>{r.errors=H,m.state.next({errors:r.errors,isValid:!1})},S=(H,W,J,de)=>{const ue=_e(n,H);if(ue){const se=_e(i,H,ar(J)?_e(a,H):J);ar(se)||de&&de.defaultChecked||W?Et(i,H,W?se:uM(ue._f)):V(H,se),o.mount&&!o.action&&v()}},N=(H,W,J,de,ue)=>{let se=!1,Ae=!1;const lt={name:H};if(!t.disabled){if(!J||de){(f.isDirty||h.isDirty)&&(Ae=r.isDirty,r.isDirty=lt.isDirty=T(),se=Ae!==lt.isDirty);const ut=Ii(_e(a,H),W);Ae=!!_e(r.dirtyFields,H),ut?Cr(r.dirtyFields,H):Et(r.dirtyFields,H,!0),lt.dirtyFields=r.dirtyFields,se=se||(f.dirtyFields||h.dirtyFields)&&Ae!==!ut}if(J){const ut=_e(r.touchedFields,H);ut||(Et(r.touchedFields,H,J),lt.touchedFields=r.touchedFields,se=se||(f.touchedFields||h.touchedFields)&&ut!==J)}se&&ue&&m.state.next(lt)}return se?lt:{}},k=(H,W,J,de)=>{const ue=_e(r.errors,H),se=(f.isValid||h.isValid)&&ja(W)&&r.isValid!==W;if(t.delayError&&J?(c=p(()=>w(H,J)),c(t.delayError)):(clearTimeout(u),c=null,J?Et(r.errors,H,J):Cr(r.errors,H)),(J?!Ii(ue,J):ue)||!Mn(de)||se){const Ae={...de,...se&&ja(W)?{isValid:W}:{},errors:r.errors,name:H};r={...r,...Ae},m.state.next(Ae)}},P=async H=>(b(H,!0),await t.resolver(i,t.context,Uie(H||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),O=async H=>{const{errors:W}=await P(H);if(b(H),H)for(const J of H){const de=_e(W,J);de?Et(r.errors,J,de):Cr(r.errors,J)}else r.errors=W;return W},A=async(H,W,J={valid:!0})=>{for(const de in H){const ue=H[de];if(ue){const{_f:se,...Ae}=ue;if(se){const lt=l.array.has(se.name),ut=ue._f&&zie(ue._f);ut&&f.validatingFields&&b([se.name],!0);const rr=await gM(ue,l.disabled,i,g,t.shouldUseNativeValidation&&!W,lt);if(ut&&f.validatingFields&&b([se.name]),rr[se.name]&&(J.valid=!1,W||e.shouldUseNativeValidation))break;!W&&(_e(rr,se.name)?lt?Kie(r.errors,rr,se.name):Et(r.errors,se.name,rr[se.name]):Cr(r.errors,se.name))}!Mn(Ae)&&await A(Ae,W,J)}}return J.valid},$=()=>{for(const H of l.unMount){const W=_e(n,H);W&&(W._f.refs?W._f.refs.every(J=>!aj(J)):!aj(W._f.ref))&&G(H)}l.unMount=new Set},T=(H,W)=>!t.disabled&&(H&&W&&Et(i,H,W),!Ii(re(),a)),U=(H,W,J)=>YS(H,l,{...o.mount?i:ar(W)?a:Ea(H)?{[H]:W}:W},J,W),I=H=>HE(_e(o.mount?i:a,H,t.shouldUnregister?_e(a,H,[]):[])),V=(H,W,J={})=>{const de=_e(n,H);let ue=W;if(de){const se=de._f;se&&(!se.disabled&&Et(i,H,nU(W,se)),ue=Sx(se.ref)&&Qn(W)?"":W,eU(se.ref)?[...se.ref.options].forEach(Ae=>Ae.selected=ue.includes(Ae.value)):se.refs?Ng(se.ref)?se.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ue)?Ae.checked=!!ue.find(lt=>lt===Ae.value):Ae.checked=ue===Ae.value||!!ue)}):se.refs.forEach(Ae=>Ae.checked=Ae.value===ue):XE(se.ref)?se.ref.value="":(se.ref.value=ue,se.ref.type||m.state.next({name:H,values:kr(i)})))}(J.shouldDirty||J.shouldTouch)&&N(H,ue,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&K(H)},L=(H,W,J)=>{for(const de in W){if(!W.hasOwnProperty(de))return;const ue=W[de],se=H+"."+de,Ae=_e(n,se);(l.array.has(H)||Tr(ue)||Ae&&!Ae._f)&&!Ec(ue)?L(se,ue,J):V(se,ue,J)}},z=(H,W,J={})=>{const de=_e(n,H),ue=l.array.has(H),se=kr(W);Et(i,H,se),ue?(m.array.next({name:H,values:kr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&J.shouldDirty&&m.state.next({name:H,dirtyFields:ad(a,i),isDirty:T(H,se)})):de&&!de._f&&!Qn(se)?L(H,se,J):V(H,se,J),hM(H,l)?m.state.next({...r,name:H,values:kr(i)}):m.state.next({name:o.mount?H:void 0,values:kr(i)})},R=async H=>{o.mount=!0;const W=H.target;let J=W.name,de=!0;const ue=_e(n,J),se=ut=>{de=Number.isNaN(ut)||Ec(ut)&&isNaN(ut.getTime())||Ii(ut,_e(i,J,ut))},Ae=dM(t.mode),lt=dM(t.reValidateMode);if(ue){let ut,rr;const Va=W.type?uM(ue._f):Y6(H),ha=H.type===jx.BLUR||H.type===jx.FOCUS_OUT,Zl=!Vie(ue._f)&&!t.resolver&&!_e(r.errors,J)&&!ue._f.deps||qie(ha,_e(r.touchedFields,J),r.isSubmitted,lt,Ae),Wa=hM(J,l,ha);Et(i,J,Va),ha?(!W||!W.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(H),c&&c(0)):ue._f.onChange&&ue._f.onChange(H);const To=N(J,Va,ha),ts=!Mn(To)||Wa;if(!ha&&m.state.next({name:J,type:H.type,values:kr(i)}),Zl)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?ha&&v():ha||v()),ts&&m.state.next({name:J,...Wa?{}:To});if(!ha&&Wa&&m.state.next({...r}),t.resolver){const{errors:ec}=await P([J]);if(b([J]),se(Va),de){const Oh=mM(r.errors,n,J),tc=mM(ec,n,Oh.name||J);ut=tc.error,J=tc.name,rr=Mn(ec)}}else b([J],!0),ut=(await gM(ue,l.disabled,i,g,t.shouldUseNativeValidation))[J],b([J]),se(Va),de&&(ut?rr=!1:(f.isValid||h.isValid)&&(rr=await A(n,!0)));de&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&K(ue._f.deps),k(J,rr,ut,To))}},F=(H,W)=>{if(_e(r.errors,W)&&H.focus)return H.focus(),1},K=async(H,W={})=>{let J,de;const ue=Om(H);if(t.resolver){const se=await O(ar(H)?H:ue);J=Mn(se),de=H?!ue.some(Ae=>_e(se,Ae)):J}else H?(de=(await Promise.all(ue.map(async se=>{const Ae=_e(n,se);return await A(Ae&&Ae._f?{[se]:Ae}:Ae)}))).every(Boolean),!(!de&&!r.isValid)&&v()):de=J=await A(n);return m.state.next({...!Ea(H)||(f.isValid||h.isValid)&&J!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:J}:{},errors:r.errors}),W.shouldFocus&&!de&&Am(n,F,H?ue:l.mount),de},re=(H,W)=>{let J={...o.mount?i:a};return W&&(J=Z6(W.dirtyFields?r.dirtyFields:r.touchedFields,J)),ar(H)?J:Ea(H)?_e(J,H):H.map(de=>_e(J,de))},Z=(H,W)=>({invalid:!!_e((W||r).errors,H),isDirty:!!_e((W||r).dirtyFields,H),error:_e((W||r).errors,H),isValidating:!!_e(r.validatingFields,H),isTouched:!!_e((W||r).touchedFields,H)}),j=H=>{H&&Om(H).forEach(W=>Cr(r.errors,W)),m.state.next({errors:H?r.errors:{}})},C=(H,W,J)=>{const de=(_e(n,H,{_f:{}})._f||{}).ref,ue=_e(r.errors,H)||{},{ref:se,message:Ae,type:lt,...ut}=ue;Et(r.errors,H,{...ut,...W,ref:de}),m.state.next({name:H,errors:r.errors,isValid:!1}),J&&J.shouldFocus&&de&&de.focus&&de.focus()},E=(H,W)=>Dn(H)?m.state.subscribe({next:J=>"values"in J&&H(U(void 0,W),J)}):U(H,W,!0),B=H=>m.state.subscribe({next:W=>{Hie(H.name,W.name,H.exact)&&Wie(W,H.formState||f,ot,H.reRenderRoot)&&H.callback({values:{...i},...r,...W,defaultValues:a})}}).unsubscribe,D=H=>(o.mount=!0,h={...h,...H.formState},B({...H,formState:{...d,...H.formState}})),G=(H,W={})=>{for(const J of H?Om(H):l.mount)l.mount.delete(J),l.array.delete(J),W.keepValue||(Cr(n,J),Cr(i,J)),!W.keepError&&Cr(r.errors,J),!W.keepDirty&&Cr(r.dirtyFields,J),!W.keepTouched&&Cr(r.touchedFields,J),!W.keepIsValidating&&Cr(r.validatingFields,J),!t.shouldUnregister&&!W.keepDefaultValue&&Cr(a,J);m.state.next({values:kr(i)}),m.state.next({...r,...W.keepDirty?{isDirty:T()}:{}}),!W.keepIsValid&&v()},q=({disabled:H,name:W})=>{if(ja(H)&&o.mount||H||l.disabled.has(W)){const ue=l.disabled.has(W)!==!!H;H?l.disabled.add(W):l.disabled.delete(W),ue&&o.mount&&!o.action&&v()}},X=(H,W={})=>{let J=_e(n,H);const de=ja(W.disabled)||ja(t.disabled);return Et(n,H,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:H}},name:H,mount:!0,...W}}),l.mount.add(H),J?q({disabled:ja(W.disabled)?W.disabled:t.disabled,name:H}):S(H,!0,W.value),{...de?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:Wh(W.min),max:Wh(W.max),minLength:Wh(W.minLength),maxLength:Wh(W.maxLength),pattern:Wh(W.pattern)}:{},name:H,onChange:R,onBlur:R,ref:ue=>{if(ue){X(H,W),J=_e(n,H);const se=ar(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Ae=Die(se),lt=J._f.refs||[];if(Ae?lt.find(ut=>ut===se):se===J._f.ref)return;Et(n,H,{_f:{...J._f,...Ae?{refs:[...lt.filter(aj),se,...Array.isArray(_e(a,H))?[{}]:[]],ref:{type:se.type,name:H}}:{ref:se}}}),S(H,!1,void 0,se)}else J=_e(n,H,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(J6(l.array,H)&&o.action)&&l.unMount.add(H)}}},te=()=>t.shouldFocusError&&Am(n,F,l.mount),Y=H=>{ja(H)&&(m.state.next({disabled:H}),Am(n,(W,J)=>{const de=_e(n,J);de&&(W.disabled=de._f.disabled||H,Array.isArray(de._f.refs)&&de._f.refs.forEach(ue=>{ue.disabled=de._f.disabled||H}))},0,!1))},we=(H,W)=>async J=>{let de;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ue=kr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ae}=await P();b(),r.errors=se,ue=kr(Ae)}else await A(n);if(l.disabled.size)for(const se of l.disabled)Cr(ue,se);if(Cr(r.errors,"root"),Mn(r.errors)){m.state.next({errors:{}});try{await H(ue,J)}catch(se){de=se}}else W&&await W({...r.errors},J),te(),setTimeout(te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},ke=(H,W={})=>{_e(n,H)&&(ar(W.defaultValue)?z(H,kr(_e(a,H))):(z(H,W.defaultValue),Et(a,H,kr(W.defaultValue))),W.keepTouched||Cr(r.touchedFields,H),W.keepDirty||(Cr(r.dirtyFields,H),r.isDirty=W.defaultValue?T(H,kr(_e(a,H))):T()),W.keepError||(Cr(r.errors,H),f.isValid&&v()),m.state.next({...r}))},Xe=(H,W={})=>{const J=H?kr(H):a,de=kr(J),ue=Mn(H),se=ue?a:de;if(W.keepDefaultValues||(a=J),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(ad(a,i))]);for(const lt of Array.from(Ae)){const ut=_e(r.dirtyFields,lt),rr=_e(i,lt),Va=_e(se,lt);ut&&!ar(rr)?Et(se,lt,rr):!ut&&!ar(Va)&&z(lt,Va)}}else{if(WE&&ar(H))for(const Ae of l.mount){const lt=_e(n,Ae);if(lt&&lt._f){const ut=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Sx(ut)){const rr=ut.closest("form");if(rr){rr.reset();break}}}}if(W.keepFieldsRef)for(const Ae of l.mount)z(Ae,_e(se,Ae));else n={}}i=t.shouldUnregister?W.keepDefaultValues?kr(a):{}:kr(se),m.array.next({values:{...se}}),m.state.next({values:{...se}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues||!t.shouldUnregister&&!Mn(se),o.watch=!!t.shouldUnregister,o.keepIsValid=!!W.keepIsValid,o.action=!1,W.keepErrors||(r.errors={}),m.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!Ii(H,a)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:W.keepDirtyValues?W.keepDefaultValues&&i?ad(a,i):r.dirtyFields:W.keepDefaultValues&&H?ad(a,H):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},He=(H,W)=>Xe(Dn(H)?H(i):H,{...t.resetOptions,...W}),Be=(H,W={})=>{const J=_e(n,H),de=J&&J._f;if(de){const ue=de.refs?de.refs[0]:de.ref;ue.focus&&setTimeout(()=>{ue.focus(),W.shouldSelect&&Dn(ue.select)&&ue.select()})}},ot=H=>{r={...r,...H}},St={control:{register:X,unregister:G,getFieldState:Z,handleSubmit:we,setError:C,_subscribe:B,_runSchema:P,_updateIsValidating:b,_focusError:te,_getWatch:U,_getDirty:T,_setValid:v,_setFieldArray:x,_setDisabledField:q,_setErrors:_,_getFieldArray:I,_reset:Xe,_resetDefaultValues:()=>Dn(t.defaultValues)&&t.defaultValues().then(H=>{He(H,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:Y,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(H){o=H},get _defaultValues(){return a},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:D,trigger:K,register:X,handleSubmit:we,watch:E,setValue:z,getValues:re,reset:He,resetField:ke,clearErrors:j,unregister:G,setError:C,setFocus:Be,getFieldState:Z};return{...St,formControl:St}}function _d(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Dn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Dn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Jie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,YE(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!Ii(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M.useMemo(()=>X6(n,i),[i,n]),t.current}const vM=(e,t,r)=>{if(e&&"reportValidity"in e){const n=_e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},iU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?vM(n.ref,r,e):n.refs&&n.refs.forEach(a=>vM(a,r,e))}},Xie=(e,t)=>{t.shouldUseNativeValidation&&iU(e,t);const r={};for(const n in e){const a=_e(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Qie(t.names||Object.keys(e),n)){const o=Object.assign({},_e(r,n));Et(o,"root",i),Et(r,n,o)}else Et(r,n,i)}return r},Qie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Zie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Q6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},jd=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&iU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Xie(Zie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},bt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(bt||(bt={}));var yM;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(yM||(yM={}));const Te=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Go=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},xe=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof yo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}yo.create=e=>new yo(e);const QS=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,bt.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:bt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,bt.assertNever(e)}return{message:r}};let ese=QS;function tse(){return ese}const rse=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ce(e,t){const r=tse(),n=rse({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===QS?void 0:QS].filter(a=>!!a)});e.common.issues.push(n)}class La{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return nt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return La.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return nt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const nt=Object.freeze({status:"aborted"}),fm=e=>({status:"dirty",value:e}),ui=e=>({status:"valid",value:e}),xM=e=>e.status==="aborted",bM=e=>e.status==="dirty",pf=e=>e.status==="valid",kx=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Ol{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wM=(e,t)=>{if(pf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new yo(e.common.issues);return this._error=r,this._error}}};function ct(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class xt{get description(){return this._def.description}_getType(t){return Go(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Go(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new La,ctx:{common:t.parent.common,data:t.data,parsedType:Go(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(kx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)},a=this._parseSync({data:t,path:n.path,parent:n});return wM(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return pf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>pf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(kx(a)?a:Promise.resolve(a));return wM(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:xe.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new vf({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return wl.create(this,this._def)}nullable(){return yf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _s.create(this)}promise(){return Px.create(this,this._def)}or(t){return Cx.create([this,t],this._def)}and(t){return Ex.create(this,t,this._def)}transform(t){return new vf({...ct(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new tN({...ct(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new Nse({typeName:at.ZodBranded,type:this,...ct(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new rN({...ct(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return ZE.create(this,t)}readonly(){return nN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nse=/^c[^\s-]{8,}$/i,ase=/^[0-9a-z]+$/,ise=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ose=/^[a-z0-9_-]{21}$/i,lse=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,cse=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,use=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dse="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ij;const fse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yse=new RegExp(`^${sU}$`);function oU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function xse(e){return new RegExp(`^${oU(e)}$`)}function bse(e){let t=`${sU}T${oU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function wse(e,t){return!!((t==="v4"||!t)&&fse.test(e)||(t==="v6"||!t)&&mse.test(e))}function _se(e,t){if(!lse.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function jse(e,t){return!!((t==="v4"||!t)&&hse.test(e)||(t==="v6"||!t)&&pse.test(e))}class cl extends xt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Te.string,received:i.parsedType}),nt}const n=new La;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ce(a,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ce(a,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")use.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ij||(ij=new RegExp(dse,"u")),ij.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")sse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ose.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")nse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")ase.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")ise.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ce(a,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?bse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?yse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?xse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?cse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?wse(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?_se(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?jse(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?gse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?vse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):bt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:xe.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new cl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}cl.create=e=>new cl({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});function Sse(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class yp extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Te.number,received:i.parsedType}),nt}let n;const a=new La;for(const i of this._def.checks)i.kind==="int"?bt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Sse(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_finite,message:i.message}),a.dirty()):bt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new yp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new yp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&bt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yp.create=e=>new yp({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class xp extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const a=new La;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):bt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:xe.invalid_type,expected:Te.bigint,received:r.parsedType}),nt}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new xp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new xp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xp.create=e=>new xp({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});class ZS extends xt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.boolean,received:n.parsedType}),nt}return ui(t.data)}}ZS.create=e=>new ZS({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class bp extends xt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Te.date,received:i.parsedType}),nt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_date}),nt}const n=new La;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):bt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new bp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}bp.create=e=>new bp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...ct(e)});class _M extends xt{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.symbol,received:n.parsedType}),nt}return ui(t.data)}}_M.create=e=>new _M({typeName:at.ZodSymbol,...ct(e)});class jM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.undefined,received:n.parsedType}),nt}return ui(t.data)}}jM.create=e=>new jM({typeName:at.ZodUndefined,...ct(e)});class SM extends xt{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.null,received:n.parsedType}),nt}return ui(t.data)}}SM.create=e=>new SM({typeName:at.ZodNull,...ct(e)});class NM extends xt{constructor(){super(...arguments),this._any=!0}_parse(t){return ui(t.data)}}NM.create=e=>new NM({typeName:at.ZodAny,...ct(e)});class kM extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ui(t.data)}}kM.create=e=>new kM({typeName:at.ZodUnknown,...ct(e)});class Al extends xt{_parse(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:xe.invalid_type,expected:Te.never,received:r.parsedType}),nt}}Al.create=e=>new Al({typeName:at.ZodNever,...ct(e)});class CM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.void,received:n.parsedType}),nt}return ui(t.data)}}CM.create=e=>new CM({typeName:at.ZodVoid,...ct(e)});class _s extends xt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Te.array)return Ce(r,{code:xe.invalid_type,expected:Te.array,received:r.parsedType}),nt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ce(r,{code:o?xe.too_big:xe.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ce(r,{code:xe.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ce(r,{code:xe.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ol(r,o,r.path,l)))).then(o=>La.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ol(r,o,r.path,l)));return La.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new _s({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new _s({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new _s({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}_s.create=(e,t)=>new _s({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...ct(t)});function id(e){if(e instanceof Or){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=wl.create(id(n))}return new Or({...e._def,shape:()=>t})}else return e instanceof _s?new _s({...e._def,type:id(e.element)}):e instanceof wl?wl.create(id(e.unwrap())):e instanceof yf?yf.create(id(e.unwrap())):e instanceof au?au.create(e.items.map(t=>id(t))):e}class Or extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=bt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return Ce(u,{code:xe.invalid_type,expected:Te.object,received:u.parsedType}),nt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Al&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ol(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Al){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ce(a,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ol(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>La.mergeObjectSync(n,u)):La.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Or({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(t){return new Or({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Or({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Or({...this._def,catchall:t})}pick(t){const r={};for(const n of bt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}omit(t){const r={};for(const n of bt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}deepPartial(){return id(this)}partial(t){const r={};for(const n of bt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Or({...this._def,shape:()=>r})}required(t){const r={};for(const n of bt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof wl;)i=i._def.innerType;r[n]=i}return new Or({...this._def,shape:()=>r})}keyof(){return lU(bt.objectKeys(this.shape))}}Or.create=(e,t)=>new Or({shape:()=>e,unknownKeys:"strip",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});Or.strictCreate=(e,t)=>new Or({shape:()=>e,unknownKeys:"strict",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});Or.lazycreate=(e,t)=>new Or({shape:e,unknownKeys:"strip",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});class Cx extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new yo(l.ctx.common.issues));return Ce(r,{code:xe.invalid_union,unionErrors:o}),nt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new yo(c));return Ce(r,{code:xe.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}Cx.create=(e,t)=>new Cx({options:e,typeName:at.ZodUnion,...ct(t)});function eN(e,t){const r=Go(e),n=Go(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const a=bt.objectKeys(t),i=bt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=eN(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=eN(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ex extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(xM(i)||xM(o))return nt;const l=eN(i.value,o.value);return l.valid?((bM(i)||bM(o))&&r.dirty(),{status:r.value,value:l.data}):(Ce(n,{code:xe.invalid_intersection_types}),nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Ex.create=(e,t,r)=>new Ex({left:e,right:t,typeName:at.ZodIntersection,...ct(r)});class au extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return Ce(n,{code:xe.invalid_type,expected:Te.array,received:n.parsedType}),nt;if(n.data.length<this._def.items.length)return Ce(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ol(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>La.mergeArray(r,o)):La.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new au({...this._def,rest:t})}}au.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new au({items:e,typeName:at.ZodTuple,rest:null,...ct(t)})};class EM extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return Ce(n,{code:xe.invalid_type,expected:Te.map,received:n.parsedType}),nt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ol(n,l,n.path,[u,"key"])),value:i._parse(new Ol(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}EM.create=(e,t,r)=>new EM({valueType:t,keyType:e,typeName:at.ZodMap,...ct(r)});class wp extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return Ce(n,{code:xe.invalid_type,expected:Te.set,received:n.parsedType}),nt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ce(n,{code:xe.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ce(n,{code:xe.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return nt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ol(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new wp({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new wp({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}wp.create=(e,t)=>new wp({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...ct(t)});class PM extends xt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}PM.create=(e,t)=>new PM({getter:e,typeName:at.ZodLazy,...ct(t)});class OM extends xt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ce(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}OM.create=(e,t)=>new OM({value:e,typeName:at.ZodLiteral,...ct(t)});function lU(e,t){return new gf({values:e,typeName:at.ZodEnum,...ct(t)})}class gf extends xt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{expected:bt.joinValues(n),received:r.parsedType,code:xe.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{received:r.data,code:xe.invalid_enum_value,options:n}),nt}return ui(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return gf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gf.create=lU;class AM extends xt{_parse(t){const r=bt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=bt.objectValues(r);return Ce(n,{expected:bt.joinValues(a),received:n.parsedType,code:xe.invalid_type}),nt}if(this._cache||(this._cache=new Set(bt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=bt.objectValues(r);return Ce(n,{received:n.data,code:xe.invalid_enum_value,options:a}),nt}return ui(t.data)}get enum(){return this._def.values}}AM.create=(e,t)=>new AM({values:e,typeName:at.ZodNativeEnum,...ct(t)});class Px extends xt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ce(r,{code:xe.invalid_type,expected:Te.promise,received:r.parsedType}),nt;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return ui(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Px.create=(e,t)=>new Px({type:e,typeName:at.ZodPromise,...ct(t)});class vf extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ce(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?nt:c.status==="dirty"||r.value==="dirty"?fm(c.value):c});{if(r.value==="aborted")return nt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?nt:l.status==="dirty"||r.value==="dirty"?fm(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pf(o))return nt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>pf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):nt);bt.assertNever(a)}}vf.create=(e,t,r)=>new vf({schema:e,typeName:at.ZodEffects,effect:t,...ct(r)});vf.createWithPreprocess=(e,t,r)=>new vf({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...ct(r)});class wl extends xt{_parse(t){return this._getType(t)===Te.undefined?ui(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wl.create=(e,t)=>new wl({innerType:e,typeName:at.ZodOptional,...ct(t)});class yf extends xt{_parse(t){return this._getType(t)===Te.null?ui(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:at.ZodNullable,...ct(t)});class tN extends xt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}tN.create=(e,t)=>new tN({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ct(t)});class rN extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return kx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}rN.create=(e,t)=>new rN({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ct(t)});class TM extends xt{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Te.nan,received:n.parsedType}),nt}return{status:"valid",value:t.data}}}TM.create=e=>new TM({typeName:at.ZodNaN,...ct(e)});class Nse extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class ZE extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nt:i.status==="dirty"?(r.dirty(),fm(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?nt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new ZE({in:t,out:r,typeName:at.ZodPipeline})}}class nN extends xt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(pf(a)&&(a.value=Object.freeze(a.value)),a);return kx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}nN.create=(e,t)=>new nN({innerType:e,typeName:at.ZodReadonly,...ct(t)});var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const ir=cl.create,kse=ZS.create,Cse=bp.create;Al.create;_s.create;const fh=Or.create;Cx.create;Ex.create;au.create;const Ese=gf.create;Px.create;wl.create;yf.create;const Je=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Je.displayName="Input";var Pse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ose=Pse.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ase="Label",cU=y.forwardRef((e,t)=>s.jsx(Ose.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));cU.displayName=Ase;var uU=cU;const Tse=_0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=y.forwardRef(({className:e,...t},r)=>s.jsx(uU,{ref:r,className:ve(Tse(),e),...t}));fe.displayName=uU.displayName;const ie=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const me=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const be=y.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));be.displayName="CardTitle";const Se=y.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const ce=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));ce.displayName="CardContent";const Mse=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));Mse.displayName="CardFooter";function aN(e,[t,r]){return Math.min(r,Math.max(t,e))}var $se=y.createContext(void 0);function hh(e){const t=y.useContext($se);return e||t||"ltr"}var sj=0;function F0(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MM()),document.body.insertAdjacentElement("beforeend",e[1]??MM()),sj++,()=>{sj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sj--}},[])}function MM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var oj="focusScope.autoFocusOnMount",lj="focusScope.autoFocusOnUnmount",$M={bubbles:!1,cancelable:!0},Ise="FocusScope",kg=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=xr(a),d=xr(i),f=y.useRef(null),h=Ke(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Uo(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Uo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Uo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){RM.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(oj,$M);l.addEventListener(oj,u),l.dispatchEvent(b),b.defaultPrevented||(Rse(Use(dU(l)),{select:!0}),document.activeElement===p&&Uo(l))}return()=>{l.removeEventListener(oj,u),setTimeout(()=>{const b=new CustomEvent(lj,$M);l.addEventListener(lj,d),l.dispatchEvent(b),b.defaultPrevented||Uo(p??document.body,{select:!0}),l.removeEventListener(lj,d),RM.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const x=p.currentTarget,[w,_]=Dse(x);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&Uo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Uo(_,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});kg.displayName=Ise;function Rse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Uo(n,{select:t}),document.activeElement!==r)return}function Dse(e){const t=dU(e),r=IM(t,e),n=IM(t.reverse(),e);return[r,n]}function dU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function IM(e,t){for(const r of e)if(!Lse(r,{upTo:t}))return r}function Lse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Fse(e){return e instanceof HTMLInputElement&&"select"in e}function Uo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Fse(e)&&t&&e.select()}}var RM=Bse();function Bse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=DM(e,t),e.unshift(t)},remove(t){var r;e=DM(e,t),(r=e[0])==null||r.resume()}}}function DM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Use(e){return e.filter(t=>t.tagName!=="A")}function zse(e){const t=Vse(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Hse);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Vse(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Gse(a),l=qse(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wse=Symbol("radix.slottable");function Hse(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wse}function qse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Gse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function B0(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Kse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hu=new WeakMap,kv=new WeakMap,Cv={},cj=0,fU=function(e){return e&&(e.host||fU(e.parentNode))},Yse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=fU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Jse=function(e,t,r,n){var a=Yse(t,Array.isArray(e)?e:[e]);Cv[r]||(Cv[r]=new WeakMap);var i=Cv[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Hu.get(h)||0)+1,v=(i.get(h)||0)+1;Hu.set(h,p),i.set(h,v),o.push(h),p===1&&g&&kv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),cj++,function(){o.forEach(function(f){var h=Hu.get(f)-1,m=i.get(f)-1;Hu.set(f,h),i.set(f,m),h||(kv.has(f)||f.removeAttribute(n),kv.delete(f)),m||f.removeAttribute(r)}),cj--,cj||(Hu=new WeakMap,Hu=new WeakMap,kv=new WeakMap,Cv={})}},U0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Kse(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Jse(n,a,r,"aria-hidden")):function(){return null}},Cy="right-scroll-bar-position",Ey="width-before-scroll-bar",Xse="with-scroll-bars-hidden",Qse="--removed-body-scroll-bar-size";function uj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Zse(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var eoe=typeof window<"u"?y.useLayoutEffect:y.useEffect,LM=new WeakMap;function toe(e,t){var r=Zse(null,function(n){return e.forEach(function(a){return uj(a,n)})});return eoe(function(){var n=LM.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||uj(l,null)}),i.forEach(function(l){a.has(l)||uj(l,o)})}LM.set(r,e)},[e]),r}function roe(e){return e}function noe(e,t){t===void 0&&(t=roe);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function aoe(e){e===void 0&&(e={});var t=noe(null);return t.options=fs({async:!0,ssr:!1},e),t}var hU=function(e){var t=e.sideCar,r=dh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,fs({},r))};hU.isSideCarExport=!0;function ioe(e,t){return e.useMedium(t),hU}var mU=aoe(),dj=function(){},z0=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:dj,onWheelCapture:dj,onTouchMoveCapture:dj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=dh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=toe([r,t]),k=fs(fs({},_),a);return y.createElement(y.Fragment,null,d&&y.createElement(S,{sideCar:mU,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),fs(fs({},k),{ref:N})):y.createElement(x,fs({},k,{className:c,ref:N}),l))});z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z0.classNames={fullWidth:Ey,zeroRight:Cy};var soe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ooe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=soe();return t&&e.setAttribute("nonce",t),e}function loe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function coe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uoe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=ooe())&&(loe(t,r),coe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},doe=function(){var e=uoe();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},pU=function(){var e=doe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},foe={left:0,top:0,right:0,gap:0},fj=function(e){return parseInt(e||"",10)||0},hoe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[fj(r),fj(n),fj(a)]},moe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return foe;var t=hoe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},poe=pU(),Bd="data-scroll-locked",goe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ey,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ey," .").concat(Ey,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bd,`] {
    `).concat(Qse,": ").concat(l,`px;
  }
`)},FM=function(){var e=parseInt(document.body.getAttribute(Bd)||"0",10);return isFinite(e)?e:0},voe=function(){y.useEffect(function(){return document.body.setAttribute(Bd,(FM()+1).toString()),function(){var e=FM()-1;e<=0?document.body.removeAttribute(Bd):document.body.setAttribute(Bd,e.toString())}},[])},yoe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;voe();var i=y.useMemo(function(){return moe(a)},[a]);return y.createElement(poe,{styles:goe(i,!t,a,r?"":"!important")})},iN=!1;if(typeof window<"u")try{var Ev=Object.defineProperty({},"passive",{get:function(){return iN=!0,!0}});window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,Ev)}catch{iN=!1}var qu=iN?{passive:!1}:!1,xoe=function(e){return e.tagName==="TEXTAREA"},gU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xoe(e)&&r[t]==="visible")},boe=function(e){return gU(e,"overflowY")},woe=function(e){return gU(e,"overflowX")},BM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=vU(e,n);if(a){var i=yU(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_oe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},joe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},vU=function(e,t){return e==="v"?boe(t):woe(t)},yU=function(e,t){return e==="v"?_oe(t):joe(t)},Soe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Noe=function(e,t,r,n,a){var i=Soe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=yU(e,l),g=m[0],p=m[1],v=m[2],b=p-v-i*g;(g||b)&&vU(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Pv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},UM=function(e){return[e.deltaX,e.deltaY]},zM=function(e){return e&&"current"in e?e.current:e},koe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Coe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Eoe=0,Gu=[];function Poe(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(Eoe++)[0],i=y.useState(pU)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Are([e.lockRef.current],(e.shards||[]).map(zM),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Pv(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],_="deltaY"in p?p.deltaY:x[1]-b[1],S,N=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&N.type==="range")return!1;var P=window.getSelection(),O=P&&P.anchorNode,A=O?O===N||O.contains(N):!1;if(A)return!1;var $=BM(k,N);if(!$)return!0;if($?S=k:(S=k==="v"?"h":"v",$=BM(k,N)),!$)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var T=n.current||S;return Noe(T,v,p,T==="h"?w:_)},[]),c=y.useCallback(function(p){var v=p;if(!(!Gu.length||Gu[Gu.length-1]!==i)){var b="deltaY"in v?UM(v):Pv(v),x=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&koe(S.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(zM).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,b,x){var w={name:p,delta:v,target:b,should:x,shadowParent:Ooe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(p){r.current=Pv(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,UM(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Pv(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Gu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qu),document.addEventListener("touchmove",c,qu),document.addEventListener("touchstart",d,qu),function(){Gu=Gu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,qu),document.removeEventListener("touchmove",c,qu),document.removeEventListener("touchstart",d,qu)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:Coe(a)}):null,m?y.createElement(yoe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Ooe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Aoe=ioe(mU,Poe);var Cg=y.forwardRef(function(e,t){return y.createElement(z0,fs({},e,{ref:t,sideCar:Aoe}))});Cg.classNames=z0.classNames;var Toe=[" ","Enter","ArrowUp","ArrowDown"],Moe=[" ","Enter"],iu="Select",[V0,W0,$oe]=x0(iu),[mh]=gn(iu,[$oe,Fl]),H0=Fl(),[Ioe,zl]=mh(iu),[Roe,Doe]=mh(iu),xU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=H0(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(!1),N=hh(u),[k,P]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:iu}),[O,A]=Wi({prop:o,defaultProp:l,onChange:c,caller:iu}),$=y.useRef(null),T=v?g||!!v.closest("form"):!0,[U,I]=y.useState(new Set),V=Array.from(U).map(L=>L.props.value).join(";");return s.jsx(PE,{...p,children:s.jsxs(Ioe,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Bi(),value:O,onValueChange:A,open:k,onOpenChange:P,dir:N,triggerPointerDownPosRef:$,disabled:h,children:[s.jsx(V0.Provider,{scope:t,children:s.jsx(Roe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(L=>{I(z=>new Set(z).add(L))},[]),onNativeOptionRemove:y.useCallback(L=>{I(z=>{const R=new Set(z);return R.delete(L),R})},[]),children:r})}),T?s.jsxs(VU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:L=>A(L.target.value),disabled:h,form:g,children:[O===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},V):null]})})};xU.displayName=iu;var bU="SelectTrigger",wU=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=H0(r),o=zl(bU,r),l=o.disabled||n,c=Ke(t,o.onTriggerChange),u=W0(r),d=y.useRef("touch"),[f,h,m]=HU(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),x=qU(v,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(_g,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WU(o.value)?"":void 0,...a,ref:c,onClick:he(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:he(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:he(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&Toe.includes(p.key)&&(g(),p.preventDefault())})})})});wU.displayName=bU;var _U="SelectValue",jU=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=zl(_U,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ke(t,c.onValueNodeChange);return Sr(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:WU(c.value)?s.jsx(s.Fragment,{children:o}):i})});jU.displayName=_U;var Loe="SelectIcon",SU=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});SU.displayName=Loe;var Foe="SelectPortal",NU=e=>s.jsx(ah,{asChild:!0,...e});NU.displayName=Foe;var su="SelectContent",kU=y.forwardRef((e,t)=>{const r=zl(su,e.__scopeSelect),[n,a]=y.useState();if(Sr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?ju.createPortal(s.jsx(CU,{scope:e.__scopeSelect,children:s.jsx(V0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(EU,{...e,ref:t})});kU.displayName=su;var _i=10,[CU,Vl]=mh(su),Boe="SelectContentImpl",Uoe=zse("SelectContent.RemoveScroll"),EU=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...b}=e,x=zl(su,r),[w,_]=y.useState(null),[S,N]=y.useState(null),k=Ke(t,D=>_(D)),[P,O]=y.useState(null),[A,$]=y.useState(null),T=W0(r),[U,I]=y.useState(!1),V=y.useRef(!1);y.useEffect(()=>{if(w)return U0(w)},[w]),F0();const L=y.useCallback(D=>{const[G,...q]=T().map(Y=>Y.ref.current),[X]=q.slice(-1),te=document.activeElement;for(const Y of D)if(Y===te||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===G&&S&&(S.scrollTop=0),Y===X&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==te))return},[T,S]),z=y.useCallback(()=>L([P,w]),[L,P,w]);y.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:R,triggerPointerDownPosRef:F}=x;y.useEffect(()=>{if(w){let D={x:0,y:0};const G=X=>{var te,Y;D={x:Math.abs(Math.round(X.pageX)-(((te=F.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(X.pageY)-(((Y=F.current)==null?void 0:Y.y)??0))}},q=X=>{D.x<=10&&D.y<=10?X.preventDefault():w.contains(X.target)||R(!1),document.removeEventListener("pointermove",G),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,R,F]),y.useEffect(()=>{const D=()=>R(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[R]);const[K,re]=HU(D=>{const G=T().filter(te=>!te.disabled),q=G.find(te=>te.ref.current===document.activeElement),X=qU(G,D,q);X&&setTimeout(()=>X.ref.current.focus())}),Z=y.useCallback((D,G,q)=>{const X=!V.current&&!q;(x.value!==void 0&&x.value===G||X)&&(O(D),X&&(V.current=!0))},[x.value]),j=y.useCallback(()=>w==null?void 0:w.focus(),[w]),C=y.useCallback((D,G,q)=>{const X=!V.current&&!q;(x.value!==void 0&&x.value===G||X)&&$(D)},[x.value]),E=n==="popper"?sN:PU,B=E===sN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(CU,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:Z,selectedItem:P,onItemLeave:j,itemTextRefCallback:C,focusSelectedItem:z,selectedItemText:A,position:n,isPositioned:U,searchRef:K,children:s.jsx(Cg,{as:Uoe,allowPinchZoom:!0,children:s.jsx(kg,{asChild:!0,trapped:x.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:he(a,D=>{var G;(G=x.trigger)==null||G.focus({preventScroll:!0}),D.preventDefault()}),children:s.jsx(Su,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(E,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:D=>D.preventDefault(),...b,...B,onPlaced:()=>I(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:he(b.onKeyDown,D=>{const G=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!G&&D.key.length===1&&re(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let X=T().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(D.key)&&(X=X.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const te=D.target,Y=X.indexOf(te);X=X.slice(Y+1)}setTimeout(()=>L(X)),D.preventDefault()}})})})})})})});EU.displayName=Boe;var zoe="SelectItemAlignedPosition",PU=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=zl(su,r),o=Vl(su,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Ke(t,k=>d(k)),h=W0(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&b){const k=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),O=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const te=A.left-P.left,Y=O.left-te,we=k.left-Y,ke=k.width+we,Xe=Math.max(ke,P.width),He=window.innerWidth-_i,Be=aN(Y,[_i,Math.max(_i,He-Xe)]);l.style.minWidth=ke+"px",l.style.left=Be+"px"}else{const te=P.right-A.right,Y=window.innerWidth-O.right-te,we=window.innerWidth-k.right-Y,ke=k.width+we,Xe=Math.max(ke,P.width),He=window.innerWidth-_i,Be=aN(Y,[_i,Math.max(_i,He-Xe)]);l.style.minWidth=ke+"px",l.style.right=Be+"px"}const $=h(),T=window.innerHeight-_i*2,U=p.scrollHeight,I=window.getComputedStyle(u),V=parseInt(I.borderTopWidth,10),L=parseInt(I.paddingTop,10),z=parseInt(I.borderBottomWidth,10),R=parseInt(I.paddingBottom,10),F=V+L+U+R+z,K=Math.min(v.offsetHeight*5,F),re=window.getComputedStyle(p),Z=parseInt(re.paddingTop,10),j=parseInt(re.paddingBottom,10),C=k.top+k.height/2-_i,E=T-C,B=v.offsetHeight/2,D=v.offsetTop+B,G=V+L+D,q=F-G;if(G<=C){const te=$.length>0&&v===$[$.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-p.offsetTop-p.offsetHeight,we=Math.max(E,B+(te?j:0)+Y+z),ke=G+we;l.style.height=ke+"px"}else{const te=$.length>0&&v===$[0].ref.current;l.style.top="0px";const we=Math.max(C,V+p.offsetTop+(te?Z:0)+B)+q;l.style.height=we+"px",p.scrollTop=G-C+p.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=T+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,b,i.dir,n]);Sr(()=>w(),[w]);const[_,S]=y.useState();Sr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=y.useCallback(k=>{k&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return s.jsx(Woe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});PU.displayName=zoe;var Voe="SelectPopperPosition",sN=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_i,...i}=e,o=H0(r);return s.jsx(P0,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sN.displayName=Voe;var[Woe,eP]=mh(su,{}),oN="SelectViewport",OU=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Vl(oN,r),o=eP(oN,r),l=Ke(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(V0.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-_i*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<g){const x=b+m,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});OU.displayName=oN;var AU="SelectGroup",[Hoe,qoe]=mh(AU),Goe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Bi();return s.jsx(Hoe,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Goe.displayName=AU;var TU="SelectLabel",MU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qoe(TU,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});MU.displayName=TU;var Ox="SelectItem",[Koe,$U]=mh(Ox),IU=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=zl(Ox,r),c=Vl(Ox,r),u=l.value===n,[d,f]=y.useState(i??""),[h,m]=y.useState(!1),g=Ke(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),p=Bi(),v=y.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Koe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(V0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:he(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:he(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:he(o.onPointerMove,x=>{var w;v.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:he(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Moe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});IU.displayName=Ox;var hm="SelectItemText",RU=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=zl(hm,r),l=Vl(hm,r),c=$U(hm,r),u=Doe(hm,r),[d,f]=y.useState(null),h=Ke(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Sr(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ju.createPortal(i.children,o.valueNode):null]})});RU.displayName=hm;var DU="SelectItemIndicator",LU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return $U(DU,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});LU.displayName=DU;var lN="SelectScrollUpButton",FU=y.forwardRef((e,t)=>{const r=Vl(lN,e.__scopeSelect),n=eP(lN,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(UU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});FU.displayName=lN;var cN="SelectScrollDownButton",BU=y.forwardRef((e,t)=>{const r=Vl(cN,e.__scopeSelect),n=eP(cN,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(UU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});BU.displayName=cN;var UU=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Vl("SelectScrollButton",r),o=y.useRef(null),l=W0(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Sr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:he(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:he(a.onPointerLeave,()=>{c()})})}),Yoe="SelectSeparator",zU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});zU.displayName=Yoe;var uN="SelectArrow",Joe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=H0(r),i=zl(uN,r),o=Vl(uN,r);return i.open&&o.position==="popper"?s.jsx(O0,{...a,...n,ref:t}):null});Joe.displayName=uN;var Xoe="SelectBubbleInput",VU=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ke(n,a),o=B0(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...Q5,...r.style},ref:i,defaultValue:t})});VU.displayName=Xoe;function WU(e){return e===""||e===void 0}function HU(e){const t=xr(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function qU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Qoe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Qoe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Zoe=xU,GU=wU,ele=jU,tle=SU,rle=NU,KU=kU,nle=OU,YU=MU,JU=IU,ale=RU,ile=LU,XU=FU,QU=BU,ZU=zU;const or=Zoe,lr=ele,Qt=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(GU,{ref:n,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(tle,{asChild:!0,children:s.jsx(bB,{className:"h-4 w-4 opacity-50"})})]}));Qt.displayName=GU.displayName;const e8=y.forwardRef(({className:e,...t},r)=>s.jsx(XU,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(SX,{className:"h-4 w-4"})}));e8.displayName=XU.displayName;const t8=y.forwardRef(({className:e,...t},r)=>s.jsx(QU,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bB,{className:"h-4 w-4"})}));t8.displayName=QU.displayName;const Zt=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(rle,{children:s.jsxs(KU,{ref:a,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(e8,{}),s.jsx(nle,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(t8,{})]})}));Zt.displayName=KU.displayName;const sle=y.forwardRef(({className:e,...t},r)=>s.jsx(YU,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sle.displayName=YU.displayName;const Fe=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(JU,{ref:n,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ile,{children:s.jsx(j0,{className:"h-4 w-4"})})}),s.jsx(ale,{children:t})]}));Fe.displayName=JU.displayName;const ole=y.forwardRef(({className:e,...t},r)=>s.jsx(ZU,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));ole.displayName=ZU.displayName;const lle="modulepreload",cle=function(e){return"/"+e},VM={},xo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=cle(c),c in VM)return;VM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":lle,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},_l="";class Py extends Error{constructor(r,n){super(r);MA(this,"status");this.name="APIError",this.status=n}}const Tm=async()=>{const{supabase:e}=await xo(async()=>{const{supabase:r}=await Promise.resolve().then(()=>vo);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function Ie(e,t={}){const r=await Tm(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${_l}${e}`,{...t,headers:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Py(i.detail||i.message||"API request failed",a.status)}return a.json()}const ule={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Ie(`/api/prescriptions${r}`)},get:e=>Ie(`/api/prescriptions/${e}`),create:e=>Ie("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Ie(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Ie(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Ie(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Ie("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},r8={requestPasswordReset:e=>Ie("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Ie("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Ie(`/api/auth/verify-token?token=${e}`),checkAccount:e=>fetch(`${_l}/api/auth/check-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json()),sendSetupLink:e=>fetch(`${_l}/api/auth/send-setup-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json())},Kr={createConversation:e=>Ie("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Ie(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Ie("/api/chat/conversations/unassigned"),getMyChats:()=>Ie("/api/chat/conversations/my-chats"),getConversation:e=>Ie(`/api/chat/conversations/${e}`),claimConversation:e=>Ie(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Ie(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Ie(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Ie(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Ie(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,a)=>Ie(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:a})}),markAsRead:e=>Ie(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Ie("/api/chat/stats")},Ys={getFeeSchedule:()=>Ie("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Ie("/api/bookings/clinicians/available"),create:e=>Ie("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Ie(`/api/bookings/${r}`)},get:e=>Ie(`/api/bookings/${e}`),update:(e,t)=>Ie(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Ie(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Ie(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Ie(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${_l}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await Ys.getInvoicePDF(e),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Ie(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},WM={createRoom:e=>Ie("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Ie("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Ie(`/api/video/room/${e}`),checkHealth:()=>Ie("/api/video/health")},Ro={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Ie(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await Tm(),a=new URLSearchParams({period:e});t&&a.set("start_date",t),r&&a.set("end_date",r);const i=await fetch(`${_l}/api/admin/analytics/export/csv?${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Failed to export CSV");const o=await i.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},Hh={preview:async(e,t)=>{const r=await Tm(),n=new FormData;n.append("file",e),t&&n.append("password",t);const a=await fetch(`${_l}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Py(i.detail||"Preview failed",a.status)}return a.json()},importStudents:async(e,t,r,n)=>{const a=await Tm(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const o=await fetch(`${_l}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Py(l.detail||"Import failed",o.status)}return o.json()},startImport:async(e,t,r,n)=>{const a=await Tm(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const o=await fetch(`${_l}/api/admin/bulk-import/start`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Py(l.detail||"Failed to start import",o.status)}return o.json()},getJobStatus:e=>Ie(`/api/admin/bulk-import/jobs/${e}`),cancelJob:e=>Ie(`/api/admin/bulk-import/jobs/${e}/cancel`,{method:"POST"}),listJobs:()=>Ie("/api/admin/bulk-import/jobs"),getTemplate:()=>Ie("/api/admin/bulk-import/template"),getCorporateClients:()=>Ie("/api/admin/bulk-import/corporate-clients"),createCorporateClient:e=>Ie("/api/admin/bulk-import/corporate-clients",{method:"POST",body:JSON.stringify(e)}),getAnalyticsByClient:()=>Ie("/api/admin/bulk-import/analytics/by-client")},Ov={preview:e=>{const t=e?`?corporate_client_id=${e}`:"";return Ie(`/api/admin/welcome-emails/preview${t}`)},send:e=>Ie("/api/admin/welcome-emails/send",{method:"POST",body:JSON.stringify(e)}),getJobStatus:e=>Ie(`/api/admin/welcome-emails/jobs/${e}`),listJobs:()=>Ie("/api/admin/welcome-emails/jobs"),sendTest:()=>Ie("/api/admin/welcome-emails/test",{method:"POST"})},tP={upload:e=>Ie("/api/profile-photo/upload",{method:"POST",body:JSON.stringify({image_data:e})}),getUrl:e=>Ie(`/api/profile-photo/url/${e}`),delete:()=>Ie("/api/profile-photo/",{method:"DELETE"})},dle=({onBack:e})=>{const[t,r]=y.useState(""),[n,a]=y.useState(!1),[i,o]=y.useState(!1),l=async c=>{if(c.preventDefault(),!t){oe.error("Please enter your email address");return}a(!0);try{await r8.requestPasswordReset(t),o(!0),oe.success("Password reset link sent!")}catch{o(!0)}finally{a(!1)}};return i?s.jsx(ie,{className:"w-full max-w-md mx-auto",children:s.jsxs(ce,{className:"pt-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(nn,{className:"w-8 h-8 text-success"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",s.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),s.jsxs(Q,{onClick:e,variant:"outline",className:"w-full",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):s.jsxs(ie,{className:"w-full max-w-md mx-auto",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:s.jsx(hs,{className:"w-6 h-6 text-primary-foreground"})}),s.jsx(be,{children:"Reset Password"}),s.jsx(Se,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsx(ce,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email Address"}),s.jsx(Je,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),s.jsx(Q,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(hs,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),s.jsxs(Q,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},fle=fh({email:ir().email("Please enter a valid email address")}),hle=fh({password:ir().min(6,"Password must be at least 6 characters")}),mle=fh({password:ir().min(8,"Password must be at least 8 characters"),confirm_password:ir()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),ple=fh({first_name:ir().min(1,"First name is required").max(50,"First name too long"),last_name:ir().min(1,"Last name is required").max(50,"Last name too long"),email:ir().email("Please enter a valid email address"),password:ir().min(8,"Password must be at least 8 characters"),confirm_password:ir(),role:Ese(["patient","nurse","doctor","receptionist"]),hpcsa_number:ir().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),gle=()=>{var U,I;const[e,t]=y.useState("email"),[r,n]=y.useState(""),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState("patient"),{signIn:h,signUp:m,user:g,role:p}=$r(),v=On(),b=Ts(),{toast:x}=dE();(I=(U=b.state)==null?void 0:U.from)!=null&&I.pathname,y.useEffect(()=>{g&&p&&v({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[p],{replace:!0})},[g,p,v]);const w=_d({resolver:jd(fle),defaultValues:{email:""}}),_=_d({resolver:jd(hle),defaultValues:{password:""}}),S=_d({resolver:jd(mle),defaultValues:{password:"",confirm_password:""}}),N=_d({resolver:jd(ple),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),k=async V=>{u(!0);const L=V.email.toLowerCase().trim();n(L);try{const z=await r8.checkAccount(L);z!=null&&z.data?(i(z.data),z.data.exists?z.data.needs_password_setup?t("set-password"):t("password"):(x({title:"No account found",description:"Let's create your account!"}),N.setValue("email",L),t("signup"))):(N.setValue("email",L),t("signup"))}catch(z){console.error("Account check failed:",z),t("password")}u(!1)},P=async V=>{u(!0);const{error:L}=await h(r,V.password);L&&x({variant:"destructive",title:"Login failed",description:L.message==="Invalid login credentials"?"Invalid password. Please try again.":L.message}),u(!1)},O=async V=>{u(!0);try{const{error:L}=await Ee.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth?type=recovery`});if(L)throw L;x({title:"Check your email!",description:"We've sent you a link to set your password. Click it to complete setup."}),t("email"),i(null),w.reset()}catch(L){console.error("Set password failed:",L),x({variant:"destructive",title:"Failed to send password setup email",description:L.message||"Please try again."})}u(!1)},A=async V=>{u(!0);const{error:L}=await m(V.email,V.password,{first_name:V.first_name,last_name:V.last_name,role:V.role,hpcsa_number:V.hpcsa_number});L?L.message.includes("already registered")?(x({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in."}),t("email")):x({variant:"destructive",title:"Signup failed",description:L.message}):x({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting..."}),u(!1)},$=V=>{f(V),N.setValue("role",V)},T=()=>{t("email"),i(null),_.reset(),S.reset()};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto",onError:V=>{V.currentTarget.style.display="none"}})}),e==="password-reset"?s.jsx(dle,{onBack:()=>t("email")}):e==="set-password"&&a?s.jsxs(ie,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(JX,{className:"w-10 h-10 text-green-600"})})}),s.jsxs(be,{className:"text-2xl",children:["Welcome",a.first_name?`, ${a.first_name}`:"","!"]}),s.jsx(Se,{className:"mt-2",children:"Set a password to activate your account."})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx(dx,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:["Pre-registered by ",s.jsx("strong",{children:"Campus Africa"})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:r})]}),s.jsxs("form",{onSubmit:S.handleSubmit(O),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"new-password",children:"Create Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"new-password",type:o?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...S.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(z_,{className:"w-4 h-4"}):s.jsx(Sy,{className:"w-4 h-4"})})]}),S.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:S.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirm-new-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"confirm-new-password",type:"password",placeholder:"Confirm your password",className:"pl-10",...S.register("confirm_password")})]}),S.formState.errors.confirm_password&&s.jsx("p",{className:"text-sm text-destructive",children:S.formState.errors.confirm_password.message})]}),s.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending setup email..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"}),"Set Password & Activate"]})})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"We'll send you an email with a secure link to set your password."}),s.jsx("button",{type:"button",onClick:T,className:"w-full text-sm text-muted-foreground hover:text-foreground",children:" Use a different email"})]})]}):e==="password"?s.jsxs(ie,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(be,{className:"text-2xl",children:"Welcome back!"}),s.jsx(Se,{children:"Enter your password to continue"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx("button",{type:"button",onClick:T,className:"ml-auto text-primary text-xs hover:underline",children:"Change"})]}),s.jsxs("form",{onSubmit:_.handleSubmit(P),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"password",type:o?"text":"password",placeholder:"",className:"pl-10 pr-10",autoFocus:!0,..._.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(z_,{className:"w-4 h-4"}):s.jsx(Sy,{className:"w-4 h-4"})})]}),_.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.password.message})]}),s.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),s.jsx("button",{type:"button",onClick:()=>t("password-reset"),className:"w-full text-sm text-primary hover:underline",children:"Forgot your password?"})]})]}):e==="signup"?s.jsxs(ie,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(be,{className:"text-2xl",children:"Create your account"}),s.jsx(Se,{children:"Join Quadcare Telehealth for quality healthcare"})]}),s.jsxs(ce,{children:[s.jsxs("form",{onSubmit:N.handleSubmit(A),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"first_name",children:"First Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"first_name",placeholder:"John",className:"pl-10",...N.register("first_name")})]}),N.formState.errors.first_name&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.first_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"last_name",children:"Last Name"}),s.jsx(Je,{id:"last_name",placeholder:"Doe",...N.register("last_name")}),N.formState.errors.last_name&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.last_name.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"signup-email",type:"email",className:"pl-10 bg-muted/50",readOnly:!0,...N.register("email")})]}),N.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"role",children:"I am a"}),s.jsxs(or,{value:d,onValueChange:$,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your role"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"patient",children:"Patient"}),s.jsx(Fe,{value:"receptionist",children:"Receptionist"}),s.jsx(Fe,{value:"nurse",children:"Nurse"}),s.jsx(Fe,{value:"doctor",children:"Doctor"})]})]})]}),(d==="nurse"||d==="doctor")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(bg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...N.register("hpcsa_number")})]}),N.formState.errors.hpcsa_number&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.hpcsa_number.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"signup-password",type:o?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...N.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(z_,{className:"w-4 h-4"}):s.jsx(Sy,{className:"w-4 h-4"})})]}),N.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirm_password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...N.register("confirm_password")})]}),N.formState.errors.confirm_password&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.confirm_password.message})]}),s.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:T,className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to login"})})]})]}):s.jsxs(ie,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(be,{className:"text-2xl",children:"Sign in to Quadcare"}),s.jsx(Se,{children:"Enter your email to continue"})]}),s.jsxs(ce,{children:[s.jsxs("form",{onSubmit:w.handleSubmit(k),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",autoFocus:!0,...w.register("email")})]}),w.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:w.formState.errors.email.message})]}),s.jsx(Q,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:["Continue",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"New to Quadcare?"})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Enter your email above. If you don't have an account, we'll help you create one."})]}),s.jsx("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[s.jsx("strong",{children:"Campus Africa students:"})," Your account is pre-registered.",s.jsx("br",{}),"Just enter your email to get started!"]})})]})]}),s.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",s.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},n8=y.createContext(void 0),a8=()=>{const e=y.useContext(n8);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},i8=({children:e})=>{const{user:t,session:r}=$r(),[n,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(!1),[f,h]=y.useState(null),m=y.useRef(null);y.useEffect(()=>{m.current=i},[i]);const g=n.reduce((P,O)=>P+(O.unread_count||0),0),p=y.useCallback(async()=>{if(t){d(!0),h(null);try{const P=await Kr.getConversations();a(P||[])}catch(P){console.error("Error loading conversations:",P),h(P.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=y.useCallback(async()=>{try{return await Kr.getUnassignedConversations()||[]}catch(P){return console.error("Error loading unassigned conversations:",P),[]}},[]),b=y.useCallback(async()=>{try{return await Kr.getMyChats()||[]}catch(P){return console.error("Error loading my chats:",P),[]}},[]),x=y.useCallback(async P=>{d(!0),h(null);try{const O=await Kr.getConversation(P);console.log("[ChatContext] Selected conversation with names:",{id:O.id,patient_name:O.patient_name,receptionist_name:O.receptionist_name}),o(O);const A=await Kr.getMessages(P);c(A||[]),await Kr.markAsRead(P),a($=>$.map(T=>T.id===P?{...O,unread_count:0}:T))}catch(O){console.error("Error loading conversation:",O),h(O.message||"Failed to load conversation")}finally{d(!1)}},[]),w=y.useCallback(async P=>{d(!0),h(null);try{const O=await Kr.createConversation(P);a($=>$.some(T=>T.id===O.id)?$:[O,...$]),o(O);const A=await Kr.getMessages(O.id);return c(A||[]),O}catch(O){throw console.error("Error creating conversation:",O),h(O.message||"Failed to create conversation"),O}finally{d(!1)}},[]),_=y.useCallback(async(P,O="text",A,$)=>{if(!i)throw new Error("No conversation selected");try{const T=await Kr.sendMessage(i.id,P,O,A,$);c(U=>U.some(I=>I.id===T.id)?U:[...U,T]),a(U=>U.map(I=>I.id===i.id?{...I,last_message:P,last_message_at:new Date().toISOString()}:I))}catch(T){throw console.error("Error sending message:",T),T}},[i]),S=y.useCallback(async P=>{try{await Kr.claimConversation(P),await x(P),await p()}catch(O){throw console.error("Error claiming conversation:",O),O}},[x,p]),N=y.useCallback(async(P,O)=>{try{await Kr.updateConversationStatus(P,O),a(A=>A.map($=>$.id===P?{...$,status:O}:$)),(i==null?void 0:i.id)===P&&o(A=>A?{...A,status:O}:null)}catch(A){throw console.error("Error updating status:",A),A}},[i]),k=y.useCallback(async()=>{if(i)try{await Kr.markAsRead(i.id),a(P=>P.map(O=>O.id===i.id?{...O,unread_count:0}:O))}catch(P){console.error("Error marking as read:",P)}},[i]);return y.useEffect(()=>{if(!t||!r)return;const P=Ee.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},A=>{var U;const $=A.new;console.log("[ChatContext] Realtime message received:",{id:$.id,sender_name:$.sender_name,sender_role:$.sender_role,content:(U=$.content)==null?void 0:U.substring(0,50)});const T=m.current;if(T&&$.conversation_id===T.id&&$.sender_id!==t.id){let I={...$};(!I.sender_name||I.sender_name===null)&&(I.sender_role==="patient"?I.sender_name=T.patient_name||"Patient":I.sender_role==="system"?I.sender_name="System":I.sender_name=T.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",I.sender_name)),c(V=>V.some(L=>L.id===$.id)?V:[...V,I])}a(I=>I.map(V=>{var L;return V.id===$.conversation_id?{...V,last_message:(L=$.content)==null?void 0:L.substring(0,100),last_message_at:$.created_at,unread_count:V.id===(T==null?void 0:T.id)?0:(V.unread_count||0)+1}:V}))}).subscribe(),O=Ee.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},A=>{const $=A.new,T=m.current;console.log("[ChatContext] Realtime conversation update:",A.eventType,{id:$.id,status:$.status,has_patient_name:!!$.patient_name,has_receptionist_name:!!$.receptionist_name}),A.eventType==="INSERT"?(a(U=>U.some(I=>I.id===$.id)?U:[{...$,patient_name:"Loading...",receptionist_name:null},...U]),setTimeout(async()=>{try{const U=await Kr.getConversation($.id);console.log("[ChatContext] Fetched enriched new conversation:",U.patient_name),a(I=>I.map(V=>V.id===U.id?U:V))}catch(U){console.error("[ChatContext] Failed to fetch enriched conversation:",U)}},500)):A.eventType==="UPDATE"&&(a(U=>U.map(I=>I.id===$.id?{...I,...$,patient_name:I.patient_name,receptionist_name:I.receptionist_name}:I)),(T==null?void 0:T.id)===$.id&&o(U=>U?{...U,...$,patient_name:U.patient_name,receptionist_name:U.receptionist_name}:null))}).subscribe();return()=>{Ee.removeChannel(P),Ee.removeChannel(O)}},[t,r]),y.useEffect(()=>{t&&p()},[t,p]),s.jsx(n8.Provider,{value:{conversations:n,currentConversation:i,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:p,loadUnassignedConversations:v,loadMyChats:b,selectConversation:x,createConversation:w,sendMessage:_,claimConversation:S,updateConversationStatus:N,markAsRead:k},children:e})},vle=_0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:t,...r}){return s.jsx("div",{className:ve(vle({variant:t}),e),...r})}var hj="rovingFocusGroup.onEntryFocus",yle={bubbles:!1,cancelable:!0},Eg="RovingFocusGroup",[dN,s8,xle]=x0(Eg),[ble,ph]=gn(Eg,[xle]),[wle,_le]=ble(Eg),o8=y.forwardRef((e,t)=>s.jsx(dN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(dN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(jle,{...e,ref:t})})}));o8.displayName=Eg;var jle=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=Ke(t,h),g=hh(i),[p,v]=Wi({prop:o,defaultProp:l??null,onChange:c,caller:Eg}),[b,x]=y.useState(!1),w=xr(u),_=s8(r),S=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(hj,w),()=>P.removeEventListener(hj,w)},[w]),s.jsx(wle,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(P=>v(P),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>k(P=>P-1),[]),children:s.jsx(Me.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{S.current=!0}),onFocus:he(e.onFocus,P=>{const O=!S.current;if(P.target===P.currentTarget&&O&&!b){const A=new CustomEvent(hj,yle);if(P.currentTarget.dispatchEvent(A),!A.defaultPrevented){const $=_().filter(L=>L.focusable),T=$.find(L=>L.active),U=$.find(L=>L.id===p),V=[T,U,...$].filter(Boolean).map(L=>L.ref.current);u8(V,d)}}S.current=!1}),onBlur:he(e.onBlur,()=>x(!1))})})}),l8="RovingFocusGroupItem",c8=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Bi(),u=i||c,d=_le(l8,r),f=d.currentTabStopId===u,h=s8(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(dN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:he(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:he(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:he(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=kle(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?Cle(w,_+1):w.slice(_+1)}setTimeout(()=>u8(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});c8.displayName=l8;var Sle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Nle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kle(e,t,r){const n=Nle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Sle[n]}function u8(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Cle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var rP=o8,nP=c8,q0="Tabs",[Ele]=gn(q0,[ph]),d8=ph(),[Ple,aP]=Ele(q0),f8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=hh(l),[f,h]=Wi({prop:n,onChange:a,defaultProp:i??"",caller:q0});return s.jsx(Ple,{scope:r,baseId:Bi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});f8.displayName=q0;var h8="TabsList",m8=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=aP(h8,r),o=d8(r);return s.jsx(rP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});m8.displayName=h8;var p8="TabsTrigger",g8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=aP(p8,r),l=d8(r),c=x8(o.baseId,n),u=b8(o.baseId,n),d=n===o.value;return s.jsx(nP,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:he(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:he(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:he(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});g8.displayName=p8;var v8="TabsContent",y8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=aP(v8,r),c=x8(l.baseId,n),u=b8(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Hr,{present:a||d,children:({present:h})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});y8.displayName=v8;function x8(e,t){return`${e}-trigger-${t}`}function b8(e,t){return`${e}-content-${t}`}var Ole=f8,w8=m8,_8=g8,j8=y8;const Wl=Ole,ko=y.forwardRef(({className:e,...t},r)=>s.jsx(w8,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ko.displayName=w8.displayName;const Dt=y.forwardRef(({className:e,...t},r)=>s.jsx(_8,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Dt.displayName=_8.displayName;const fr=y.forwardRef(({className:e,...t},r)=>s.jsx(j8,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fr.displayName=j8.displayName;function Ale(e){const t=Tle(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find($le);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Tle(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Rle(a),l=Ile(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mle=Symbol("radix.slottable");function $le(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mle}function Ile(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Rle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var G0="Dialog",[S8,N8]=gn(G0),[Dle,Zi]=S8(G0),k8=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:G0});return s.jsx(Dle,{scope:t,triggerRef:l,contentRef:c,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};k8.displayName=G0;var C8="DialogTrigger",E8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(C8,r),i=Ke(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":oP(a.open),...n,ref:i,onClick:he(e.onClick,a.onOpenToggle)})});E8.displayName=C8;var iP="DialogPortal",[Lle,P8]=S8(iP,{forceMount:void 0}),O8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Zi(iP,t);return s.jsx(Lle,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:o})}))})};O8.displayName=iP;var Ax="DialogOverlay",A8=y.forwardRef((e,t)=>{const r=P8(Ax,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zi(Ax,e.__scopeDialog);return i.modal?s.jsx(Hr,{present:n||i.open,children:s.jsx(Ble,{...a,ref:t})}):null});A8.displayName=Ax;var Fle=Ale("DialogOverlay.RemoveScroll"),Ble=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(Ax,r);return s.jsx(Cg,{as:Fle,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":oP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ou="DialogContent",T8=y.forwardRef((e,t)=>{const r=P8(ou,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zi(ou,e.__scopeDialog);return s.jsx(Hr,{present:n||i.open,children:i.modal?s.jsx(Ule,{...a,ref:t}):s.jsx(zle,{...a,ref:t})})});T8.displayName=ou;var Ule=y.forwardRef((e,t)=>{const r=Zi(ou,e.__scopeDialog),n=y.useRef(null),a=Ke(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return U0(i)},[]),s.jsx(M8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault())})}),zle=y.forwardRef((e,t)=>{const r=Zi(ou,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(M8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),M8=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Zi(ou,r),c=y.useRef(null),u=Ke(t,c);return F0(),s.jsxs(s.Fragment,{children:[s.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Su,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":oP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Wle,{titleId:l.titleId}),s.jsx(qle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sP="DialogTitle",$8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(sP,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});$8.displayName=sP;var I8="DialogDescription",R8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(I8,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});R8.displayName=I8;var D8="DialogClose",L8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(D8,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});L8.displayName=D8;function oP(e){return e?"open":"closed"}var F8="DialogTitleWarning",[Vle,B8]=jJ(F8,{contentName:ou,titleName:sP,docsSlug:"dialog"}),Wle=({titleId:e})=>{const t=B8(F8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Hle="DialogDescriptionWarning",qle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B8(Hle).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},U8=k8,z8=E8,V8=O8,lP=A8,cP=T8,uP=$8,dP=R8,fP=L8;const $a=U8,Tx=z8,Gle=V8,W8=y.forwardRef(({className:e,...t},r)=>s.jsx(lP,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));W8.displayName=lP.displayName;const sa=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Gle,{children:[s.jsx(W8,{}),s.jsxs(cP,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(fP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Os,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sa.displayName=cP.displayName;const oa=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oa.displayName="DialogHeader";const Ud=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ud.displayName="DialogFooter";const la=y.forwardRef(({className:e,...t},r)=>s.jsx(uP,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));la.displayName=uP.displayName;const Tl=y.forwardRef(({className:e,...t},r)=>s.jsx(dP,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Tl.displayName=dP.displayName;function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function da(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qr(e,t){const r=Ge(e);return isNaN(t)?da(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ki(e,t){const r=Ge(e);if(isNaN(t))return da(e,NaN);if(!t)return r;const n=r.getDate(),a=da(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const hP=6048e5,Kle=864e5,H8=6e4,q8=36e5,Av=43200,HM=1440;let Yle={};function Nu(){return Yle}function Yi(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function lu(e){return Yi(e,{weekStartsOn:1})}function G8(e){const t=Ge(e),r=t.getFullYear(),n=da(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=lu(n),i=da(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=lu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Cs(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function xf(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ps(e,t){const r=Cs(e),n=Cs(t),a=+r-xf(r),i=+n-xf(n);return Math.round((a-i)/Kle)}function Jle(e){const t=G8(e),r=da(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),lu(r)}function _p(e,t){const r=t*7;return Qr(e,r)}function Xle(e,t){return Ki(e,t*12)}function Qle(e){let t;return e.forEach(function(r){const n=Ge(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Zle(e){let t;return e.forEach(r=>{const n=Ge(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Oy(e,t){const r=Ge(e),n=Ge(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function mP(e){return da(e,Date.now())}function Cn(e,t){const r=Cs(e),n=Cs(t);return+r==+n}function pP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ece(e){if(!pP(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function bf(e,t){const r=Ge(e),n=Ge(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function tce(e,t,r){const n=Yi(e,r),a=Yi(t,r),i=+n-xf(n),o=+a-xf(a);return Math.round((i-o)/hP)}function rce(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function nce(e,t){return+Ge(e)-+Ge(t)}function gP(e){const t=Ge(e);return t.setHours(23,59,59,999),t}function K0(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ace(e){const t=Ge(e);return+gP(t)==+K0(t)}function ice(e,t){const r=Ge(e),n=Ge(t),a=Oy(r,n),i=Math.abs(bf(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Oy(r,n)===-a;ace(Ge(e))&&i===1&&Oy(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function sce(e,t,r){const n=nce(e,t)/1e3;return rce(r==null?void 0:r.roundingMethod)(n)}function ca(e){const t=Ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function K8(e){const t=Ge(e),r=da(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Y0(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Y8(e){return Y0(e,{weekStartsOn:1})}const oce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lce=(e,t,r)=>{let n;const a=oce[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function mj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const cce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fce={date:mj({formats:cce,defaultWidth:"full"}),time:mj({formats:uce,defaultWidth:"full"}),dateTime:mj({formats:dce,defaultWidth:"full"})},hce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mce=(e,t,r,n)=>hce[e];function qh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const pce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_ce={ordinalNumber:wce,era:qh({values:pce,defaultWidth:"wide"}),quarter:qh({values:gce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qh({values:vce,defaultWidth:"wide"}),day:qh({values:yce,defaultWidth:"wide"}),dayPeriod:qh({values:xce,defaultWidth:"wide",formattingValues:bce,defaultFormattingWidth:"wide"})};function Gh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Sce(l,f=>f.test(o)):jce(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function jce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Sce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Nce(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const kce=/^(\d+)(th|st|nd|rd)?/i,Cce=/\d+/i,Ece={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Pce={any:[/^b/i,/^(a|c)/i]},Oce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ace={any:[/1/i,/2/i,/3/i,/4/i]},Tce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ice={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Dce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Lce={ordinalNumber:Nce({matchPattern:kce,parsePattern:Cce,valueCallback:e=>parseInt(e,10)}),era:Gh({matchPatterns:Ece,defaultMatchWidth:"wide",parsePatterns:Pce,defaultParseWidth:"any"}),quarter:Gh({matchPatterns:Oce,defaultMatchWidth:"wide",parsePatterns:Ace,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gh({matchPatterns:Tce,defaultMatchWidth:"wide",parsePatterns:Mce,defaultParseWidth:"any"}),day:Gh({matchPatterns:$ce,defaultMatchWidth:"wide",parsePatterns:Ice,defaultParseWidth:"any"}),dayPeriod:Gh({matchPatterns:Rce,defaultMatchWidth:"any",parsePatterns:Dce,defaultParseWidth:"any"})},vP={code:"en-US",formatDistance:lce,formatLong:fce,formatRelative:mce,localize:_ce,match:Lce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fce(e){const t=Ge(e);return ps(t,K8(t))+1}function J8(e){const t=Ge(e),r=+lu(t)-+Jle(t);return Math.round(r/hP)+1}function X8(e,t){var d,f,h,m;const r=Ge(e),n=r.getFullYear(),a=Nu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=da(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yi(o,t),c=da(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Yi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Bce(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=X8(e,t),i=da(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yi(i,t)}function Q8(e,t){const r=Ge(e),n=+Yi(r,t)-+Bce(r,t);return Math.round(n/hP)+1}function Pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Do={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Pt(r+1,2)},d(e,t){return Pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Pt(e.getHours()%12||12,t.length)},H(e,t){return Pt(e.getHours(),t.length)},m(e,t){return Pt(e.getMinutes(),t.length)},s(e,t){return Pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Pt(a,t.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Do.y(e,t)},Y:function(e,t,r,n){const a=X8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Pt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Pt(i,t.length)},R:function(e,t){const r=G8(e);return Pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Do.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Q8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Pt(a,t.length)},I:function(e,t,r){const n=J8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Do.d(e,t)},D:function(e,t,r){const n=Fce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Pt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ku.noon:n===0?a=Ku.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ku.evening:n>=12?a=Ku.afternoon:n>=4?a=Ku.morning:a=Ku.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Do.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Do.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Do.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Do.s(e,t)},S:function(e,t){return Do.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return KM(n);case"XXXX":case"XX":return pc(n);case"XXXXX":case"XXX":default:return pc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return KM(n);case"xxxx":case"xx":return pc(n);case"xxxxx":case"xxx":default:return pc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GM(n,":");case"OOOO":default:return"GMT"+pc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GM(n,":");case"zzzz":default:return"GMT"+pc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Pt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Pt(n,t.length)}};function GM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Pt(i,2)}function KM(e,t){return e%60===0?(e>0?"-":"+")+Pt(Math.abs(e)/60,2):pc(e,t)}function pc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Pt(Math.trunc(n/60),2),i=Pt(n%60,2);return r+a+t+i}const YM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Z8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Uce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return YM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",YM(n,t)).replace("{{time}}",Z8(a,t))},zce={p:Z8,P:Uce},Vce=/^D+$/,Wce=/^Y+$/,Hce=["D","DD","YY","YYYY"];function qce(e){return Vce.test(e)}function Gce(e){return Wce.test(e)}function Kce(e,t,r){const n=Yce(e,t,r);if(console.warn(n),Hce.includes(e))throw new RangeError(n)}function Yce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qce=/^'([^]*?)'?$/,Zce=/''/g,eue=/[a-zA-Z]/;function yt(e,t,r){var d,f,h,m,g,p,v,b;const n=Nu(),a=(r==null?void 0:r.locale)??n.locale??vP,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ge(e);if(!ece(l))throw new RangeError("Invalid time value");let c=t.match(Xce).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=zce[w];return _(x,a.formatLong)}return x}).join("").match(Jce).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:tue(x)};if(qM[w])return{isToken:!0,value:x};if(w.match(eue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Gce(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&qce(w))&&Kce(w,t,String(e));const _=qM[w[0]];return _(l,w,a.localize,u)}).join("")}function tue(e){const t=e.match(Qce);return t?t[1].replace(Zce,"'"):e}function rue(e,t,r){const n=Nu(),a=(r==null?void 0:r.locale)??n.locale??vP,i=2520,o=Oy(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ge(t),u=Ge(e)):(c=Ge(e),u=Ge(t));const d=sce(u,c),f=(xf(u)-xf(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<HM){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Av){const g=Math.round(h/HM);return a.formatDistance("xDays",g,l)}else if(h<Av*2)return m=Math.round(h/Av),a.formatDistance("aboutXMonths",m,l)}if(m=ice(u,c),m<12){const g=Math.round(h/Av);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function JM(e,t){return rue(e,mP(e),t)}function nue(e){const t=Ge(e),r=t.getFullYear(),n=t.getMonth(),a=da(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function aue(){return Object.assign({},Nu())}function iue(e){return Math.trunc(+Ge(e)/1e3)}function sue(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function oue(e,t){return tce(sue(e),ca(e),t)+1}function fN(e,t){const r=Ge(e),n=Ge(t);return r.getTime()>n.getTime()}function Mx(e,t){const r=Ge(e),n=Ge(t);return+r<+n}function yP(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function lue(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()}function cue(e){return Cn(e,mP(e))}function uue(e){return Cn(e,Qr(mP(e),1))}function pj(e,t){return Qr(e,-t)}function xP(e,t){const n=mue(e);let a;if(n.date){const c=pue(n.date,2);a=gue(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=vue(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=yue(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Tv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},due=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mue(e){const t={},r=e.split(Tv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Tv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Tv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function pue(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function gue(e,t){if(t===null)return new Date(NaN);const r=e.match(due);if(!r)return new Date(NaN);const n=!!r[4],a=Kh(r[1]),i=Kh(r[2])-1,o=Kh(r[3]),l=Kh(r[4]),c=Kh(r[5])-1;if(n)return jue(t,l,c)?xue(t,l,c):new Date(NaN);{const u=new Date(0);return!wue(t,i,o)||!_ue(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Kh(e){return e?parseInt(e):1}function vue(e){const t=e.match(fue);if(!t)return NaN;const r=gj(t[1]),n=gj(t[2]),a=gj(t[3]);return Sue(r,n,a)?r*q8+n*H8+a*1e3:NaN}function gj(e){return e&&parseFloat(e.replace(",","."))||0}function yue(e){if(e==="Z")return 0;const t=e.match(hue);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Nue(n,a)?r*(n*q8+a*H8):NaN}function xue(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const bue=[31,null,31,30,31,30,31,31,30,31,30,31];function ez(e){return e%400===0||e%4===0&&e%100!==0}function wue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(bue[t]||(ez(e)?29:28))}function _ue(e,t){return t>=1&&t<=(ez(e)?366:365)}function jue(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Sue(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Nue(e,t){return t>=0&&t<=59}function vj(e,t){const r=Ge(e),n=r.getFullYear(),a=r.getDate(),i=da(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=nue(i);return r.setMonth(t,Math.min(a,o)),r}function tz(e,t){const r=Ge(e);return r.setHours(t),r}function rz(e,t){const r=Ge(e);return r.setMinutes(t),r}function XM(e,t){const r=Ge(e);return isNaN(+r)?da(e,NaN):(r.setFullYear(t),r)}function QM(e,t,r){const n=aue(),a=Eue(e,r.timeZone,r.locale??n.locale);return"formatToParts"in a?kue(a,t):Cue(a,t)}function kue(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function Cue(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function Eue(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Pue(e,t){const r=$ue(t);return"formatToParts"in r?Aue(r,e):Tue(r,e)}const Oue={year:0,month:1,day:2,hour:3,minute:4,second:5};function Aue(e,t){try{const r=e.formatToParts(t),n=[];for(let a=0;a<r.length;a++){const i=Oue[r[a].type];i!==void 0&&(n[i]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function Tue(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const yj={},ZM=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Mue=ZM==="06/25/2014, 00:00:00"||ZM==="06/25/2014 00:00:00";function $ue(e){return yj[e]||(yj[e]=Mue?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),yj[e]}function nz(e,t,r,n,a,i,o){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,a,i,o),l}const e$=36e5,Iue=6e4,xj={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function bP(e,t,r){if(!e)return 0;let n=xj.timezoneZ.exec(e);if(n)return 0;let a,i;if(n=xj.timezoneHH.exec(e),n)return a=parseInt(n[1],10),t$(a)?-(a*e$):NaN;if(n=xj.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);const o=parseInt(n[3],10);return t$(a,o)?(i=Math.abs(a)*e$+o*Iue,n[1]==="+"?-i:i):NaN}if(Lue(e)){t=new Date(t||Date.now());const o=r?t:Rue(t),l=hN(o,e);return-(r?l:Due(t,l,e))}return NaN}function Rue(e){return nz(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function hN(e,t){const r=Pue(e,t),n=nz(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function Due(e,t,r){let a=e.getTime()-t;const i=hN(new Date(a),r);if(t===i)return t;a-=i-t;const o=hN(new Date(a),r);return i===o?i:Math.max(i,o)}function t$(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const r$={};function Lue(e){if(r$[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),r$[e]=!0,!0}catch{return!1}}const Fue=60*1e3,Bue={X:function(e,t,r){const n=bj(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return n$(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(e,t,r){const n=bj(r.timeZone,e);switch(t){case"x":return n$(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(e,t,r){const n=bj(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Uue(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return QM("short",e,r);case"zzzz":default:return QM("long",e,r)}}};function bj(e,t){const r=e?bP(e,t,!0)/Fue:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function $x(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function sd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=$x(Math.floor(n/60),2),i=$x(Math.floor(n%60),2);return r+a+t+i}function n$(e,t){return e%60===0?(e>0?"-":"+")+$x(Math.abs(e)/60,2):sd(e,t)}function Uue(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+$x(i,2)}function a$(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const zue=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,wj=36e5,i$=6e4,Vue=2,Ln={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:zue};function az(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?Vue:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=Wue(e),{year:a,restDateString:i}=Hue(n.date,r),o=que(i,a);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const l=o.getTime();let c=0,u;if(n.time&&(c=Gue(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=bP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=a$(new Date(l+c)),u=a$(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function Wue(e){const t={};let r=Ln.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Ln.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const a=Ln.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function Hue(e,t){if(e){const r=Ln.YYY[t],n=Ln.YYYYY[t];let a=Ln.YYYY.exec(e)||n.exec(e);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=Ln.YY.exec(e)||r.exec(e),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function que(e,t){if(t===null)return null;let r,n,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=Ln.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,o$(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=Ln.DDD.exec(e),i){r=new Date(0);const o=parseInt(i[1],10);return Jue(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(i=Ln.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return o$(t,n,o)?(r.setUTCFullYear(t,n,o),r):new Date(NaN)}if(i=Ln.Www.exec(e),i)return a=parseInt(i[1],10)-1,l$(a)?s$(t,a):new Date(NaN);if(i=Ln.WwwD.exec(e),i){a=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return l$(a,o)?s$(t,a,o):new Date(NaN)}return null}function Gue(e){let t,r,n=Ln.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),_j(t)?t%24*wj:NaN;if(n=Ln.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),_j(t,r)?t%24*wj+r*i$:NaN;if(n=Ln.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return _j(t,r,a)?t%24*wj+r*i$+a*1e3:NaN}return null}function s$(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Kue=[31,28,31,30,31,30,31,31,30,31,30,31],Yue=[31,29,31,30,31,30,31,31,30,31,30,31];function iz(e){return e%400===0||e%4===0&&e%100!==0}function o$(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=iz(e);if(n&&r>Yue[t]||!n&&r>Kue[t])return!1}return!0}function Jue(e,t){if(t<1)return!1;const r=iz(e);return!(r&&t>366||!r&&t>365)}function l$(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function _j(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const Xue=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Que(e,t,r={}){t=String(t);const n=t.match(Xue);if(n){const a=az(r.originalDate||e,r);t=n.reduce(function(i,o){if(o[0]==="'")return i;const l=i.indexOf(o),c=i[l-1]==="'",u=i.replace(o,"'"+Bue[o[0]](a,o,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return yt(e,t,r)}function Zue(e,t,r){e=az(e,r);const n=bP(t,e,!0),a=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function ede(e,t,r,n){return n={...n,timeZone:t,originalDate:e},Que(Zue(e,t,{timeZone:n.timeZone}),r,n)}const tde="Africa/Johannesburg",jp="SAST",ta=(e,t)=>{const r=typeof e=="string"?xP(e):e;return ede(r,tde,t)},rde=e=>ta(e,"MMM d, yyyy"),Ix=e=>ta(e,"EEEE, MMMM d, yyyy");function Wt({className:e,...t}){return s.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",e),...t})}const Yu={active:{label:"Active",variant:"default",icon:Nr},cancelled:{label:"Cancelled",variant:"destructive",icon:Hi},expired:{label:"Expired",variant:"secondary",icon:Ll},completed:{label:"Completed",variant:"secondary",icon:Nr}},nde=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),f=p=>{c(p),d(!0)},h=async(p,v,b)=>{b==null||b.stopPropagation(),o(p);try{const x=await ule.getPDF(p);if(x.success&&x.pdf_base64){const w=atob(x.pdf_base64),_=new Array(w.length);for(let O=0;O<w.length;O++)_[O]=w.charCodeAt(O);const S=new Uint8Array(_),N=new Blob([S],{type:"application/pdf"}),k=window.URL.createObjectURL(N),P=document.createElement("a");P.href=k,P.download=`prescription_${v.replace(/\s+/g,"_")}_${p.slice(0,8)}.pdf`,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(k),oe.success("Prescription downloaded successfully")}else throw new Error(x.error||"Failed to generate PDF")}catch(x){console.error("Error downloading prescription:",x),oe.error(x.message||"Failed to download prescription")}finally{o(null)}};y.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Ee.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const x=[...new Set(v.map(N=>N.clinician_id))],{data:w}=await Ee.from("profiles").select("id, first_name, last_name").in("id",x),_=new Map((w==null?void 0:w.map(N=>[N.id,`Dr. ${N.first_name} ${N.last_name}`]))||[]),S=v.map(N=>({id:N.id,medication_name:N.medication_name,dosage:N.dosage,frequency:N.frequency,duration:N.duration,quantity:N.quantity,refills:N.refills,instructions:N.instructions,status:N.status,prescribed_at:N.prescribed_at,clinician_name:_.get(N.clinician_id)||"Unknown"}));r(S)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{a(!1)}})()},[e]);const m=t.filter(p=>p.status==="active"),g=t.filter(p=>p.status!=="active");return n?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2].map(p=>s.jsx(Wt,{className:"h-24 w-full"},p))})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),s.jsxs(Se,{children:[t.length," prescription(s)  ",m.length," active"]})]}),s.jsx(ce,{children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No prescriptions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[m.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),s.jsx("div",{className:"space-y-3",children:m.map(p=>{const v=Yu[p.status]||Yu.active,b=v.icon;return s.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(p),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:p.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.dosage,"  ",p.frequency]})]})]}),s.jsxs(Ne,{variant:v.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:"w-3 h-3"}),v.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsx("p",{className:"font-medium",children:p.duration})]}),p.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),s.jsx("p",{className:"font-medium",children:p.quantity})]}),p.refills>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),s.jsx("p",{className:"font-medium",children:p.refills})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),s.jsx("p",{className:"font-medium",children:yt(new Date(p.prescribed_at),"MMM d, yyyy")})]})]}),p.instructions&&s.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",p.instructions]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),p.clinician_name]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:x=>h(p.id,p.medication_name,x),disabled:i===p.id,children:[i===p.id?s.jsx(it,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},p.id)})})]}),g.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),s.jsx("div",{className:"space-y-3",children:g.map(p=>{const v=Yu[p.status]||Yu.completed,b=v.icon;return s.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(p),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(Ur,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:p.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.dosage,"  ",p.frequency,"  ",p.duration]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs(Ne,{variant:v.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:"w-3 h-3"}),v.label]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ta(p.prescribed_at,"MMM d, yyyy")})]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:x=>h(p.id,p.medication_name,x),disabled:i===p.id,children:i===p.id?s.jsx(it,{className:"w-4 h-4 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4"})})]})]})},p.id)})})]})]})}),s.jsx($a,{open:u,onOpenChange:d,children:s.jsxs(sa,{className:"sm:max-w-md",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),s.jsx(Tl,{children:l&&ta(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),s.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),s.jsx("p",{className:"font-medium",children:l.frequency})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),s.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),s.jsx("p",{className:"font-medium",children:l.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),s.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const p=Yu[l.status]||Yu.active,v=p.icon;return s.jsxs(Ne,{variant:p.variant,className:"flex items-center gap-1",children:[s.jsx(v,{className:"w-3 h-3"}),p.label]})})(),s.jsxs(Q,{variant:"outline",size:"sm",onClick:p=>h(l.id,l.medication_name,p),disabled:i===l.id,children:[i===l.id?s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Fr=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Fr.displayName="Textarea";const c$={new:{label:"New",color:"bg-blue-500",icon:s.jsx(ru,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:s.jsx(qt,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:s.jsx(qt,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:s.jsx(kt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:s.jsx(Nr,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:s.jsx(Nr,{className:"w-3 h-3"})}},mN=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[s.jsx(ru,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"No conversations yet"})]}):s.jsx("div",{className:"divide-y divide-border",children:e.map(a=>{const i=c$[a.status]||c$.new,o=t===a.id;return s.jsx("div",{onClick:()=>r(a),className:ve("p-4 cursor-pointer transition-colors hover:bg-accent",o&&"bg-accent border-l-4 border-l-primary"),children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?s.jsx("span",{className:"font-medium text-sm truncate",children:a.patient_name||"Unknown Patient"}):s.jsx("span",{className:"font-medium text-sm truncate",children:a.receptionist_name||"Waiting for receptionist..."}),s.jsxs(Ne,{variant:"secondary",className:ve("text-xs text-white",i.color),children:[i.icon,s.jsx("span",{className:"ml-1",children:i.label})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.last_message||"No messages yet"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[s.jsx(qt,{className:"w-3 h-3"}),s.jsx("span",{children:a.last_message_at?JM(new Date(a.last_message_at),{addSuffix:!0}):JM(new Date(a.created_at),{addSuffix:!0})})]})]}),a.unread_count>0&&s.jsx(Ne,{variant:"destructive",className:"rounded-full px-2",children:a.unread_count})]})},a.id)})}),sz=({messages:e,currentUserId:t})=>{const r=y.useRef(null);if(y.useEffect(()=>{var a;(a=r.current)==null||a.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=a=>{switch(a.message_type){case"image":return s.jsxs("div",{className:"space-y-2",children:[a.file_url&&s.jsx("img",{src:a.file_url,alt:a.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(a.file_url,"_blank")}),a.content&&s.jsx("p",{children:a.content})]});case"file":return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5"}),s.jsx("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:a.file_name||"Download file"})]});case"system":return s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[s.jsx(_X,{className:"w-4 h-4"}),s.jsx("span",{children:a.content})]});case"booking_confirmation":return s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[s.jsx(kt,{className:"w-4 h-4"}),s.jsx("span",{children:"Booking Confirmed"})]}),s.jsx("p",{className:"text-sm",children:a.content})]});default:return s.jsx("p",{className:"whitespace-pre-wrap",children:a.content})}};return s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((a,i)=>{const o=a.sender_id===t,l=a.message_type==="system"||a.sender_role==="system",c=i===0||yt(new Date(a.created_at),"yyyy-MM-dd")!==yt(new Date(e[i-1].created_at),"yyyy-MM-dd");return s.jsxs(M.Fragment,{children:[c&&s.jsx("div",{className:"flex justify-center",children:s.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:yt(new Date(a.created_at),"MMMM d, yyyy")})}),l?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(a)})}):s.jsxs("div",{className:ve("flex gap-3",o?"flex-row-reverse":"flex-row"),children:[s.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center shrink-0",o?"bg-primary text-primary-foreground":"bg-muted"),children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsxs("div",{className:ve("max-w-[70%] space-y-1",o?"items-end":"items-start"),children:[s.jsxs("div",{className:ve("flex items-center gap-2 text-xs text-muted-foreground",o?"flex-row-reverse":"flex-row"),children:[s.jsx("span",{className:"font-medium",children:o?"You":a.sender_name||a.sender_role}),s.jsx("span",{children:yt(new Date(a.created_at),"HH:mm")})]}),s.jsx("div",{className:ve("rounded-2xl px-4 py-2",o?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(a)})]})]})]},a.id)}),s.jsx("div",{ref:r})]})},oz=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,a]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=y.useRef(null),h=async()=>{if(!(!n.trim()&&!l||i)){o(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");a(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{o(!1)}}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},p=()=>{c(null),d(null),f.current&&(f.current.value="")};return s.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&s.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?s.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:s.jsx(zX,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:p,children:s.jsx(Os,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||i,className:"shrink-0",children:s.jsx(TX,{className:"w-5 h-5"})}),s.jsx(Fr,{value:n,onChange:v=>a(v.target.value),onKeyDown:m,placeholder:r,disabled:t||i,className:"min-h-[44px] max-h-32 resize-none",rows:1}),s.jsx(Q,{onClick:h,disabled:t||i||!n.trim()&&!l,size:"icon",className:"shrink-0",children:i?s.jsx(it,{className:"w-5 h-5 animate-spin"}):s.jsx(kB,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},ade=({onStartBooking:e})=>{const{user:t}=$r(),{conversations:r,currentConversation:n,messages:a,isLoading:i,loadConversations:o,selectConversation:l,createConversation:c,sendMessage:u}=a8(),[d,f]=y.useState(!1),[h,m]=y.useState(""),[g,p]=y.useState(!1),[v,b]=y.useState("list");y.useEffect(()=>{o()},[o]);const x=async()=>{if(!(!h.trim()||g)){p(!0);try{await c(h.trim()),m(""),f(!1),b("chat")}catch(N){console.error("Error creating conversation:",N)}finally{p(!1)}}},w=async N=>{await l(N.id),b("chat")},_=()=>{b("list")},S=typeof window<"u"&&window.innerWidth<768;return d?s.jsxs(ie,{className:"h-full",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:s.jsx(rn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx(be,{children:"Start a New Conversation"}),s.jsx(Se,{children:"Tell us how we can help you today"})]})]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsx(Fr,{value:h,onChange:N=>m(N.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Q,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(Q,{onClick:x,disabled:!h.trim()||g,children:g?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ru,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):s.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[s.jsxs(ie,{className:`md:w-80 shrink-0 ${v==="chat"&&S?"hidden":""}`,children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{className:"text-lg",children:"Messages"}),s.jsxs(Q,{size:"sm",onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-1"}),"New"]})]})}),s.jsx(ce,{className:"p-0 overflow-y-auto max-h-[500px]",children:i&&r.length===0?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(it,{className:"w-6 h-6 animate-spin"})}):s.jsx(mN,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),s.jsx(ie,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&S?"hidden":""}`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"pb-2 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[S&&s.jsx(Q,{variant:"ghost",size:"icon",onClick:_,children:s.jsx(rn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(be,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),s.jsxs(Se,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),s.jsx(sz,{messages:a,currentUserId:t==null?void 0:t.id}),s.jsx(oz,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[s.jsx(ru,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),s.jsxs(Q,{onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},lz=({onCapture:e,onSkip:t,existingPhoto:r,required:n=!0,title:a="Take a Selfie",description:i="This photo will be used to verify your identity during consultations."})=>{const o=y.useRef(null),l=y.useRef(null),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=y.useState(r||null),[m,g]=y.useState(null),[p,v]=y.useState(!1),[b,x]=y.useState("user"),w=y.useCallback(async()=>{v(!0),g(null);try{c.current&&c.current.getTracks().forEach($=>$.stop());const O={video:{facingMode:b,width:{ideal:640},height:{ideal:480}},audio:!1},A=await navigator.mediaDevices.getUserMedia(O);c.current=A,o.current&&(o.current.srcObject=A,await o.current.play(),d(!0))}catch(O){console.error("Camera error:",O),O.name==="NotAllowedError"?g("Camera access denied. Please allow camera access in your browser settings."):O.name==="NotFoundError"?g("No camera found. Please connect a camera and try again."):g("Failed to access camera. Please try again.")}finally{v(!1)}},[b]),_=y.useCallback(()=>{c.current&&(c.current.getTracks().forEach(O=>O.stop()),c.current=null),o.current&&(o.current.srcObject=null),d(!1)},[]),S=y.useCallback(()=>{if(!o.current||!l.current)return;const O=o.current,A=l.current,$=A.getContext("2d");if(!$)return;A.width=O.videoWidth,A.height=O.videoHeight,$.translate(A.width,0),$.scale(-1,1),$.drawImage(O,0,0,A.width,A.height);const T=A.toDataURL("image/jpeg",.8);h(T),_()},[_]),N=y.useCallback(()=>{h(null),w()},[w]),k=y.useCallback(()=>{f&&e(f)},[f,e]),P=y.useCallback(()=>{x(O=>O==="user"?"environment":"user")},[]);return y.useEffect(()=>{u&&w()},[b]),y.useEffect(()=>()=>{_()},[_]),s.jsx(ie,{className:"w-full max-w-md mx-auto",children:s.jsxs(ce,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center justify-center gap-2",children:[s.jsx(jy,{className:"w-5 h-5"}),a]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i})]}),s.jsxs("div",{className:"relative aspect-[4/3] bg-muted rounded-lg overflow-hidden",children:[m&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4 text-center",children:[s.jsx(Ll,{className:"w-10 h-10 text-destructive mb-2"}),s.jsx("p",{className:"text-sm text-destructive",children:m}),s.jsx(Q,{variant:"outline",size:"sm",onClick:w,className:"mt-4",children:"Try Again"})]}),p&&!m&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx(it,{className:"w-8 h-8 animate-spin text-primary"})}),f&&!u&&s.jsx("img",{src:f,alt:"Captured selfie",className:"w-full h-full object-cover"}),s.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:`w-full h-full object-cover ${u?"block":"hidden"}`,style:{transform:"scaleX(-1)"}}),s.jsx("canvas",{ref:l,className:"hidden"}),!u&&!f&&!m&&!p&&s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-muted-foreground/10 flex items-center justify-center mb-4",children:s.jsx(jy,{className:"w-12 h-12 text-muted-foreground"})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click below to start camera"})]}),u&&s.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4",children:[s.jsx(Q,{variant:"outline",size:"icon",onClick:P,className:"bg-background/80 backdrop-blur-sm",title:"Switch camera",children:s.jsx(ZT,{className:"w-4 h-4"})}),s.jsx(Q,{size:"lg",onClick:S,className:"rounded-full w-16 h-16 bg-white border-4 border-primary hover:bg-gray-100",children:s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary"})}),s.jsx(Q,{variant:"outline",size:"icon",onClick:_,className:"bg-background/80 backdrop-blur-sm",title:"Cancel",children:s.jsx(Os,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-3",children:[!u&&!f&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{onClick:w,className:"flex-1",disabled:p,children:[p?s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(jy,{className:"w-4 h-4 mr-2"}),"Open Camera"]}),!n&&t&&s.jsx(Q,{variant:"outline",onClick:t,children:"Skip for Now"})]}),f&&!u&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{variant:"outline",onClick:N,className:"flex-1",children:[s.jsx(ZT,{className:"w-4 h-4 mr-2"}),"Retake"]}),s.jsxs(Q,{onClick:k,className:"flex-1",children:[s.jsx(j0,{className:"w-4 h-4 mr-2"}),"Use This Photo"]})]})]}),n&&s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:" A clear photo of your face is required for identity verification"})]})})},ide=({isOpen:e,onComplete:t,userName:r="there"})=>{const[n,a]=y.useState(!1),i=async o=>{a(!0);try{const l=await tP.upload(o);l!=null&&l.success?(oe.success("Profile photo saved! Thank you for verifying your identity."),t()):oe.error("Failed to save photo. Please try again.")}catch(l){console.error("Photo upload error:",l),oe.error(l.message||"Failed to upload photo")}finally{a(!1)}};return s.jsx($a,{open:e,onOpenChange:()=>{},children:s.jsxs(sa,{className:"sm:max-w-lg",onInteractOutside:o=>o.preventDefault(),children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"text-xl",children:["Welcome, ",r,"! "]}),s.jsx(Tl,{children:"Before you continue, please take a quick selfie. This helps us verify your identity during consultations and protects your healthcare benefits."})]}),n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(it,{className:"w-8 h-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]}):s.jsx(lz,{onCapture:i,required:!0,title:"Verification Photo",description:"Take a clear photo of your face. This will be shown to healthcare providers during your consultations."}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Your photo is stored securely and only visible to Quadcare healthcare staff."})]})})},sde=()=>{var V;const e=On(),t=Ts(),{user:r,profile:n,signOut:a,onboardingComplete:i,isLoading:o}=$r(),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[m,g]=y.useState(!1),[p,v]=y.useState("chat"),[b,x]=y.useState(null),[w,_]=y.useState(!1),[S,N]=y.useState(null),[k,P]=y.useState(!1),[O,A]=y.useState(!0),$=L=>{x(L),_(!0)},T=async(L,z)=>{z==null||z.stopPropagation(),N(L);try{await Ys.downloadInvoicePDF(L,`invoice_${L.slice(0,8)}.pdf`),oe.success("Invoice downloaded successfully")}catch(R){console.error("Failed to download invoice:",R),oe.error("Failed to download invoice")}finally{N(null)}},U=(V=t.state)==null?void 0:V.justOnboarded;y.useEffect(()=>{if(U){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!o&&!i&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[o,i,e,U]),y.useEffect(()=>{!o&&i&&(async()=>{if(!r){A(!1);return}try{const z=await tP.getUrl(r.id);if(!(z!=null&&z.photo_url)){const{data:R}=await Ee.from("profiles").select("corporate_client_id, profile_photo_path").eq("id",r.id).single();R!=null&&R.corporate_client_id&&!(R!=null&&R.profile_photo_path)&&P(!0)}}catch(z){console.error("Error checking profile photo:",z)}finally{A(!1)}})()},[r,o,i]);const I=async()=>{if(r)try{const{data:L,error:z}=await Ee.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!z&&L&&L.length>0){const R=L.map(Z=>Z.clinician_id),[F,K]=await Promise.all([Ee.from("profiles").select("id, first_name, last_name").in("id",R),Ee.from("clinician_profiles").select("id, specialization").in("id",R)]),re=L.map(Z=>{var E,B;const j=(E=F.data)==null?void 0:E.find(D=>D.id===Z.clinician_id),C=(B=K.data)==null?void 0:B.find(D=>D.id===Z.clinician_id);return{id:Z.id,scheduled_at:Z.scheduled_at,consultation_type:Z.consultation_type,status:Z.status,clinician_name:j?`${j.first_name} ${j.last_name}`:"Unknown",specialization:(C==null?void 0:C.specialization)||null}});c(re)}else c([])}catch(L){console.error("Error fetching appointments:",L)}};return y.useEffect(()=>{(async()=>{if(r)try{await I();try{const z=await Ys.getMyInvoices();d(z||[])}catch(z){console.log("No invoices or error fetching:",z)}}catch(z){console.error("Error fetching data:",z)}finally{h(!1)}})()},[r]),y.useEffect(()=>{if(!r)return;const L=Ee.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},z=>{console.log("[PatientDashboard] New appointment created:",z),I()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},z=>{console.log("[PatientDashboard] Appointment updated:",z),c(R=>R.map(F=>F.id===z.new.id?{...F,status:z.new.status}:F))}).subscribe();return()=>{Ee.removeChannel(L)}},[r]),o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(ide,{isOpen:k,onComplete:()=>P(!1),userName:(n==null?void 0:n.first_name)||"there"}),s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:a,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!m),children:m?s.jsx(Os,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]}),m&&s.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:a,className:"justify-start",children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),s.jsxs(Wl,{value:p,onValueChange:v,className:"space-y-4",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[s.jsxs(Dt,{value:"chat",className:"flex items-center gap-2",children:[s.jsx(ru,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),s.jsxs(Dt,{value:"consultations",className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),s.jsxs(Dt,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),s.jsx(fr,{value:"chat",className:"min-h-[600px]",children:s.jsx(ade,{})}),s.jsxs(fr,{value:"consultations",className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),s.jsx(Se,{children:"Your scheduled video consultations"})]}),s.jsx(ce,{children:f?s.jsx("div",{className:"space-y-4",children:[1,2].map(L=>s.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},L))}):l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No upcoming consultations"}),s.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):s.jsx("div",{className:"space-y-4",children:l.map(L=>{const z=new Date(L.scheduled_at),R=new Date,F=(z.getTime()-R.getTime())/(1e3*60),K=L.status==="in_progress"||L.status==="confirmed"&&F<=15&&F>=-60;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:s.jsx(kt,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:L.clinician_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L.specialization||"General Consultation"})]})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"font-medium",children:ta(L.scheduled_at,"MMM d, yyyy")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ta(L.scheduled_at,"h:mm a")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[K&&s.jsxs(Q,{size:"sm",onClick:()=>e(`/consultation?appointment=${L.id}`),className:L.status==="in_progress"?"animate-pulse":"",children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),L.status==="in_progress"?"Join Now":"Join"]}),s.jsx(Ne,{variant:L.status==="confirmed"?"default":L.status==="in_progress"?"destructive":"secondary",children:L.status==="in_progress"?" Live":L.status})]})]})]},L.id)})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),s.jsx(Se,{children:"Your prescription history"})]}),s.jsx(ce,{children:s.jsx(nde,{})})]})]}),s.jsxs(fr,{value:"profile",className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsx(Se,{children:"Your profile details"})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),s.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),s.jsxs(Q,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[s.jsx(Ny,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(W_,{className:"w-5 h-5 text-primary"}),"Invoices"]}),s.jsx(Se,{children:"Your billing history"})]}),s.jsx(ce,{children:u.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(W_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No invoices yet"})]}):s.jsx("div",{className:"space-y-3",children:u.map(L=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>$(L),children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:L.service_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[ta(L.consultation_date,"MMM d, yyyy"),"  ",L.clinician_name]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["R ",L.amount.toFixed(2)]}),s.jsx(Ne,{variant:L.status==="paid"?"default":"secondary",children:L.status})]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:z=>T(L.id,z),disabled:S===L.id,children:S===L.id?s.jsx(it,{className:"w-4 h-4 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4"})})]})]},L.id))})})]}),s.jsx($a,{open:w,onOpenChange:_,children:s.jsxs(sa,{className:"sm:max-w-md",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2",children:[s.jsx(W_,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),s.jsxs(Tl,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),s.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:ta(b.consultation_date,"MMMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),s.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),s.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx(Ne,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:L=>T(b.id,L),disabled:S===b.id,children:[S===b.id?s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&s.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:s.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},ode=()=>s.jsx(i8,{children:s.jsx(sde,{})});var wP="Radio",[lde,cz]=gn(wP),[cde,ude]=lde(wP),uz=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),m=Ke(t,v=>h(v)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(cde,{scope:r,checked:a,disabled:o,children:[s.jsx(Me.button,{type:"button",role:"radio","aria-checked":a,"data-state":mz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:he(e.onClick,v=>{a||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&s.jsx(hz,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});uz.displayName=wP;var dz="RadioIndicator",fz=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=ude(dz,r);return s.jsx(Hr,{present:n||i.checked,children:s.jsx(Me.span,{"data-state":mz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});fz.displayName=dz;var dde="RadioBubbleInput",hz=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=B0(r),u=E0(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hz.displayName=dde;function mz(e){return e?"checked":"unchecked"}var fde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],J0="RadioGroup",[hde]=gn(J0,[ph,cz]),pz=ph(),gz=cz(),[mde,pde]=hde(J0),vz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=pz(r),g=hh(u),[p,v]=Wi({prop:i,defaultProp:a??null,onChange:f,caller:J0});return s.jsx(mde,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:s.jsx(rP,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(Me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});vz.displayName=J0;var yz="RadioGroupItem",xz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=pde(yz,r),o=i.disabled||n,l=pz(r),c=gz(r),u=y.useRef(null),d=Ke(t,u),f=i.value===a.value,h=y.useRef(!1);return y.useEffect(()=>{const m=p=>{fde.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(nP,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(uz,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:he(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:he(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});xz.displayName=yz;var gde="RadioGroupIndicator",bz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=gz(r);return s.jsx(fz,{...a,...n,ref:t})});bz.displayName=gde;var wz=vz,_z=xz,vde=bz;const Sp=y.forwardRef(({className:e,...t},r)=>s.jsx(wz,{className:ve("grid gap-2",e),...t,ref:r}));Sp.displayName=wz.displayName;const gs=y.forwardRef(({className:e,...t},r)=>s.jsx(_z,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(vde,{className:"flex items-center justify-center",children:s.jsx(wB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gs.displayName=_z.displayName;function yde(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,xde(a,...t)]}function xde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var bde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jz=bde.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_P="Progress",jP=100,[wde]=yde(_P),[_de,jde]=wde(_P),Sz=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Sde,...o}=e;(a||a===0)&&!u$(a)&&console.error(Nde(`${a}`,"Progress"));const l=u$(a)?a:jP;n!==null&&!d$(n,l)&&console.error(kde(`${n}`,"Progress"));const c=d$(n,l)?n:null,u=Rx(c)?i(c,l):void 0;return s.jsx(_de,{scope:r,value:c,max:l,children:s.jsx(jz.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Rx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Cz(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Sz.displayName=_P;var Nz="ProgressIndicator",kz=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=jde(Nz,r);return s.jsx(jz.div,{"data-state":Cz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});kz.displayName=Nz;function Sde(e,t){return`${Math.round(e/t*100)}%`}function Cz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rx(e){return typeof e=="number"}function u$(e){return Rx(e)&&!isNaN(e)&&e>0}function d$(e,t){return Rx(e)&&!isNaN(e)&&e<=t&&e>=0}function Nde(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jP}\`.`}function kde(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ez=Sz,Cde=kz;const cu=y.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Ez,{ref:n,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Cde,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));cu.displayName=Ez.displayName;const f$="",Ede={General:HX,"Head & Neurological":uf,"Eyes, Ears, Nose, Throat":Sy,Respiratory:xd,Cardiovascular:vE,Gastrointestinal:ni,Urinary:xd,Musculoskeletal:xd,Skin:xd,"Mental Health":uf},h$={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},Pde=({onComplete:e,onBack:t})=>{const[r,n]=y.useState(1),[a,i]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState("moderate"),[h,m]=y.useState(""),[g,p]=y.useState(""),[v,b]=y.useState(null);y.useEffect(()=>{x()},[]);const x=async()=>{try{const $=await(await fetch(`${f$}/api/symptoms/common`)).json();l($.symptom_categories||[])}catch(A){console.error("Failed to fetch symptoms:",A),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=A=>{u($=>$.includes(A)?$.filter(T=>T!==A):[...$,A])},_=async()=>{if(c.length===0){oe.error("Please select at least one symptom");return}i(!0);try{const{supabase:A}=await xo(async()=>{const{supabase:I}=await Promise.resolve().then(()=>vo);return{supabase:I}},void 0),{data:{session:$}}=await A.auth.getSession(),T=await fetch(`${f$}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...($==null?void 0:$.access_token)&&{Authorization:`Bearer ${$.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!T.ok)throw new Error("Assessment failed");const U=await T.json();b(U),n(4)}catch(A){console.error("Assessment error:",A),oe.error("Failed to complete AI assessment. Proceeding with basic booking."),S()}finally{i(!1)}},S=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},N=()=>{if(!v)return;const A={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?A[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},P=r/4*100,O=v?h$[v.urgency]||h$.routine:null;return s.jsxs("div",{className:"space-y-6",children:[r<4&&s.jsxs("div",{className:"mb-6",children:[s.jsx(cu,{value:P,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),s.jsx(Se,{children:"Select all that apply. Our AI will help assess your needs."})]}),s.jsxs(ce,{className:"space-y-6",children:[o.map(A=>{const $=Ede[A.category]||xd;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[s.jsx($,{className:"w-4 h-4 text-muted-foreground"}),A.category]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:A.symptoms.map(T=>s.jsx(Ne,{variant:c.includes(T)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(T),children:T},T))})]},A.category)}),c.length>0&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(A=>s.jsx(Ne,{variant:"secondary",className:"text-xs",children:A},A))})]})]})]}),r===2&&s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(xd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs(Sp,{value:d,onValueChange:A=>f(A),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"mild",id:"mild"}),s.jsxs(fe,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Mild"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),s.jsx(Ne,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"moderate",id:"moderate"}),s.jsxs(fe,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Moderate"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),s.jsx(Ne,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"severe",id:"severe"}),s.jsxs(fe,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Severe"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),s.jsx(Ne,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"How long have you had these symptoms?"}),s.jsx(Sp,{value:g,onValueChange:p,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(A=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:A,id:A}),s.jsx(fe,{htmlFor:A,className:"text-sm cursor-pointer",children:A})]},A))})]})]})]}),r===3&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),s.jsx(Se,{children:"Any additional details help our AI provide a better assessment"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Describe your symptoms in your own words"}),s.jsx(Fr,{value:h,onChange:A=>m(A.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),s.jsx("br",{}),s.jsx("strong",{children:"Severity:"})," ",d,s.jsx("br",{}),s.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&s.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&s.jsx(ie,{className:"border-red-500 bg-red-50",children:s.jsx(ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:s.jsx(ua,{className:"w-8 h-8 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),s.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),O&&s.jsx(Ne,{className:`${O.bgColor} ${O.color}`,children:O.label})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(cu,{value:v.urgency_score*10,className:"h-3 flex-1"}),s.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),s.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((A,$)=>s.jsxs("li",{children:[" ",A]},$))})]}),v.self_care_advice&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),s.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(Q,{variant:"outline",onClick:()=>r===1?t():n(A=>A-1),children:[s.jsx(gE,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&s.jsxs(Q,{onClick:()=>n(2),disabled:c.length===0,children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}),r===2&&s.jsxs(Q,{onClick:()=>n(3),children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}),r===3&&s.jsx(Q,{onClick:_,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(uf,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&s.jsxs(Q,{onClick:N,children:["Continue to Select Clinician",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};function Ode(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Ade(a,...t)]}function Ade(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Tde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SP=Tde.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Pz={exports:{}},Oz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=y;function Mde(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $de=typeof Object.is=="function"?Object.is:Mde,Ide=wf.useState,Rde=wf.useEffect,Dde=wf.useLayoutEffect,Lde=wf.useDebugValue;function Fde(e,t){var r=t(),n=Ide({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Dde(function(){a.value=r,a.getSnapshot=t,jj(a)&&i({inst:a})},[e,r,t]),Rde(function(){return jj(a)&&i({inst:a}),e(function(){jj(a)&&i({inst:a})})},[e]),Lde(r),r}function jj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$de(e,r)}catch{return!0}}function Bde(e,t){return t()}var Ude=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bde:Fde;Oz.useSyncExternalStore=wf.useSyncExternalStore!==void 0?wf.useSyncExternalStore:Ude;Pz.exports=Oz;var zde=Pz.exports;function Vde(){return zde.useSyncExternalStore(Wde,()=>!0,()=>!1)}function Wde(){return()=>{}}var NP="Avatar",[Hde]=Ode(NP),[qde,Az]=Hde(NP),Tz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return s.jsx(qde,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(SP.span,{...n,ref:t})})});Tz.displayName=NP;var Mz="AvatarImage",$z=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Az(Mz,r),l=Gde(n,i),c=xr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(SP.img,{...i,ref:t,src:n}):null});$z.displayName=Mz;var Iz="AvatarFallback",Rz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Az(Iz,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(SP.span,{...a,ref:t}):null});Rz.displayName=Iz;function m$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Gde(e,{referrerPolicy:t,crossOrigin:r}){const n=Vde(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>m$(i,e));return Sr(()=>{l(m$(i,e))},[i,e]),Sr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Dz=Tz,Lz=$z,Fz=Rz;const X0=y.forwardRef(({className:e,...t},r)=>s.jsx(Dz,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));X0.displayName=Dz.displayName;const Bz=y.forwardRef(({className:e,...t},r)=>s.jsx(Lz,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));Bz.displayName=Lz.displayName;const Q0=y.forwardRef(({className:e,...t},r)=>s.jsx(Fz,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Q0.displayName=Fz.displayName;const Kde=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Ee.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const m=f.map(b=>b.id),{data:g,error:p}=await Ee.from("profiles").select("id, first_name, last_name, avatar_url").in("id",m);if(p)throw p;const v=f.map(b=>{const x=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(x==null?void 0:x.first_name)||"Unknown",last_name:(x==null?void 0:x.last_name)||"",avatar_url:(x==null?void 0:x.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});a(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{o(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return i?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsx(ie,{children:s.jsxs(ce,{className:"flex items-center gap-4 p-6",children:[s.jsx(Wt,{className:"w-16 h-16 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Wt,{className:"h-4 w-32"}),s.jsx(Wt,{className:"h-3 w-48"})]})]})},d))}):n.length===0?s.jsx(ie,{children:s.jsxs(ce,{className:"text-center py-12",children:[s.jsx(Wr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),s.jsx(Q,{variant:"outline",onClick:r,children:"Go Back"})]})}):s.jsxs("div",{className:"space-y-6",children:[e&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx(ni,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",s.jsx("strong",{children:e})," specialist."]})]}),s.jsx("div",{className:"space-y-4",children:n.map(d=>s.jsx(ie,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:s.jsxs(ce,{className:"flex items-start gap-4 p-6",children:[s.jsxs(X0,{className:"w-16 h-16",children:[s.jsx(Bz,{src:d.avatar_url||void 0}),s.jsxs(Q0,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),s.jsx(Ne,{variant:"secondary",children:d.specialization||"General Practice"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-4 h-4"}),d.years_experience," years exp."]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(CB,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&s.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Q,{variant:"outline",onClick:r,children:"Back"}),s.jsxs(Q,{onClick:u,disabled:!l,children:["Continue to Select Time",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};var qe=function(){return qe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qe.apply(this,arguments)};function Yde(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Uz(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Pg(e){return e.mode==="multiple"}function Og(e){return e.mode==="range"}function Z0(e){return e.mode==="single"}var Jde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Xde(e,t){return yt(e,"LLLL y",t)}function Qde(e,t){return yt(e,"d",t)}function Zde(e,t){return yt(e,"LLLL",t)}function efe(e){return"".concat(e)}function tfe(e,t){return yt(e,"cccccc",t)}function rfe(e,t){return yt(e,"yyyy",t)}var nfe=Object.freeze({__proto__:null,formatCaption:Xde,formatDay:Qde,formatMonthCaption:Zde,formatWeekNumber:efe,formatWeekdayName:tfe,formatYearCaption:rfe}),afe=function(e,t,r){return yt(e,"do MMMM (EEEE)",r)},ife=function(){return"Month: "},sfe=function(){return"Go to next month"},ofe=function(){return"Go to previous month"},lfe=function(e,t){return yt(e,"cccc",t)},cfe=function(e){return"Week n. ".concat(e)},ufe=function(){return"Year: "},dfe=Object.freeze({__proto__:null,labelDay:afe,labelMonthDropdown:ife,labelNext:sfe,labelPrevious:ofe,labelWeekNumber:cfe,labelWeekday:lfe,labelYearDropdown:ufe});function ffe(){var e="buttons",t=Jde,r=vP,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:nfe,labels:dfe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function hfe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=ca(n):t&&(i=new Date(t,0,1)),a?o=K0(a):r&&(o=new Date(r,11,31)),{fromDate:i?Cs(i):void 0,toDate:o?Cs(o):void 0}}var zz=y.createContext(void 0);function mfe(e){var t,r=e.initialProps,n=ffe(),a=hfe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Z0(r)||Pg(r)||Og(r))&&(c=r.onSelect);var u=qe(qe(qe({},n),r),{captionLayout:l,classNames:qe(qe({},n.classNames),r.classNames),components:qe({},r.components),formatters:qe(qe({},n.formatters),r.formatters),fromDate:i,labels:qe(qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qe(qe({},n.modifiers),r.modifiers),modifiersClassNames:qe(qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:qe(qe({},n.styles),r.styles),toDate:o});return s.jsx(zz.Provider,{value:u,children:e.children})}function Gt(){var e=y.useContext(zz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Vz(e){var t=Gt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function pfe(e){return s.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Wz(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Gt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:pfe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function gfe(e){var t,r=Gt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(lue(n,a))for(var h=ca(n),m=n.getMonth();m<=a.getMonth();m++)f.push(vj(h,m));else for(var h=ca(new Date),m=0;m<=11;m++)f.push(vj(h,m));var g=function(v){var b=Number(v.target.value),x=vj(ca(e.displayMonth),b);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Wz;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function vfe(e){var t,r=e.displayMonth,n=Gt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)h.push(XM(K8(new Date),p));var v=function(x){var w=XM(ca(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Wz;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function yfe(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function xfe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&bf(i,a)<0){var u=-1*(c-1);a=Ki(i,u)}return o&&bf(a,o)<0&&(a=o),ca(a)}function bfe(){var e=Gt(),t=xfe(e),r=yfe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=ca(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function wfe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=ca(e),i=ca(Ki(a,n)),o=bf(i,a),l=[],c=0;c<o;c++){var u=Ki(a,c);l.push(u)}return r&&(l=l.reverse()),l}function _fe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=ca(e);if(!r)return Ki(l,o);var c=bf(r,e);if(!(c<i))return Ki(l,o)}}function jfe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=ca(e);if(!r)return Ki(l,-o);var c=bf(l,r);if(!(c<=0))return Ki(l,-o)}}var Hz=y.createContext(void 0);function Sfe(e){var t=Gt(),r=bfe(),n=r[0],a=r[1],i=wfe(n,t),o=_fe(n,t),l=jfe(n,t),c=function(f){return i.some(function(h){return yP(f,h)})},u=function(f,h){c(f)||(h&&Mx(f,h)?a(Ki(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Hz.Provider,{value:d,children:e.children})}function Ag(){var e=y.useContext(Hz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function p$(e){var t,r=Gt(),n=r.classNames,a=r.styles,i=r.components,o=Ag().goToMonth,l=function(d){o(Ki(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Vz,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(gfe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(vfe,{onChange:l,displayMonth:e.displayMonth})]})}function Nfe(e){return s.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kfe(e){return s.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Dx=y.forwardRef(function(e,t){var r=Gt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=qe(qe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",qe({},e,{ref:t,type:"button",className:o,style:l}))});function Cfe(e){var t,r,n=Gt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:kfe,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Nfe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Dx,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Dx,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function g$(e){var t=Gt().numberOfMonths,r=Ag(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return yP(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(Cfe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function Efe(e){var t,r=Gt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Vz,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(p$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(p$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(g$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(g$,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function Pfe(e){var t=Gt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Ofe(e,t,r){for(var n=r?lu(new Date):Yi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Qr(n,i);a.push(o)}return a}function Afe(){var e=Gt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Ofe(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Tfe(){var e,t=Gt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:Afe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Mfe(e){var t=Gt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var kP=y.createContext(void 0);function $fe(e){if(!Pg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(kP.Provider,{value:t,children:e.children})}return s.jsx(Ife,{initialProps:e.initialProps,children:e.children})}function Ife(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var v=n?Uz([],n):[];if(d.selected){var b=v.findIndex(function(x){return Cn(u,x)});v.splice(b,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Cn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(kP.Provider,{value:c,children:r})}function CP(){var e=y.useContext(kP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Rfe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Cn(a,e)&&Cn(n,e)?void 0:Cn(a,e)?{from:a,to:void 0}:Cn(n,e)?void 0:fN(n,e)?{from:e,to:a}:{from:n,to:e}:a?fN(e,a)?{from:a,to:e}:{from:e,to:a}:n?Mx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var EP=y.createContext(void 0);function Dfe(e){if(!Og(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(EP.Provider,{value:t,children:e.children})}return s.jsx(Lfe,{initialProps:e.initialProps,children:e.children})}function Lfe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var x=Rfe(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Cn(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:pj(i,l-1),before:Qr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Qr(i,l-1)}),!i&&o&&d.disabled.push({after:pj(o,l-1),before:Qr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Qr(i,-c+1)}),d.disabled.push({after:Qr(i,c-1)})),i&&o){var f=ps(o,i)+1,h=c-f;d.disabled.push({before:pj(i,h)}),d.disabled.push({after:Qr(o,h)})}!i&&o&&(d.disabled.push({before:Qr(o,-c+1)}),d.disabled.push({after:Qr(o,c-1)}))}return s.jsx(EP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function PP(){var e=y.useContext(EP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Ay(e){return Array.isArray(e)?Uz([],e):e!==void 0?[e]:[]}function Ffe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Ay(a)}),t}var Ji;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ji||(Ji={}));var Bfe=Ji.Selected,Fs=Ji.Disabled,Ufe=Ji.Hidden,zfe=Ji.Today,Sj=Ji.RangeEnd,Nj=Ji.RangeMiddle,kj=Ji.RangeStart,Vfe=Ji.Outside;function Wfe(e,t,r){var n,a=(n={},n[Bfe]=Ay(e.selected),n[Fs]=Ay(e.disabled),n[Ufe]=Ay(e.hidden),n[zfe]=[e.today],n[Sj]=[],n[Nj]=[],n[kj]=[],n[Vfe]=[],n);return e.fromDate&&a[Fs].push({before:e.fromDate}),e.toDate&&a[Fs].push({after:e.toDate}),Pg(e)?a[Fs]=a[Fs].concat(t.modifiers[Fs]):Og(e)&&(a[Fs]=a[Fs].concat(r.modifiers[Fs]),a[kj]=r.modifiers[kj],a[Nj]=r.modifiers[Nj],a[Sj]=r.modifiers[Sj]),a}var qz=y.createContext(void 0);function Hfe(e){var t=Gt(),r=CP(),n=PP(),a=Wfe(t,r,n),i=Ffe(t.modifiers),o=qe(qe({},a),i);return s.jsx(qz.Provider,{value:o,children:e.children})}function Gz(){var e=y.useContext(qz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function qfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Gfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Kfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Yfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Jfe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Xfe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ps(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ps(e,n)>=0&&ps(a,e)>=0;return o}return a?Cn(a,e):n?Cn(n,e):!1}function Qfe(e){return pP(e)}function Zfe(e){return Array.isArray(e)&&e.every(pP)}function ehe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Qfe(r))return Cn(e,r);if(Zfe(r))return r.includes(e);if(Gfe(r))return Xfe(e,r);if(Jfe(r))return r.dayOfWeek.includes(e.getDay());if(qfe(r)){var n=ps(r.before,e),a=ps(r.after,e),i=n>0,o=a<0,l=fN(r.before,r.after);return l?o&&i:i||o}return Kfe(r)?ps(e,r.after)>0:Yfe(r)?ps(r.before,e)>0:typeof r=="function"?r(e):!1})}function OP(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return ehe(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!yP(e,r)&&(a.outside=!0),a}function the(e,t){for(var r=ca(e[0]),n=K0(e[e.length-1]),a,i,o=r;o<=n;){var l=OP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Qr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Qr(o,1)}return i||a}var rhe=365;function Kz(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Qr,week:_p,month:Ki,year:Xle,startOfWeek:function(v){return a.ISOWeek?lu(v):Yi(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?Y8(v):Y0(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Qle([u,m]):n==="after"&&d&&(m=Zle([d,m]));var g=!0;if(i){var p=OP(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>rhe?l.lastFocused:Kz(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:qe(qe({},l),{count:l.count+1})})}var Yz=y.createContext(void 0);function nhe(e){var t=Ag(),r=Gz(),n=y.useState(),a=n[0],i=n[1],o=y.useState(),l=o[0],c=o[1],u=the(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},m=Gt(),g=function(v,b){if(a){var x=Kz(a,{moveBy:v,direction:b,context:m,modifiers:r});Cn(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(Yz.Provider,{value:p,children:e.children})}function AP(){var e=y.useContext(Yz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function ahe(e,t){var r=Gz(),n=OP(e,r,t);return n}var TP=y.createContext(void 0);function ihe(e){if(!Z0(e.initialProps)){var t={selected:void 0};return s.jsx(TP.Provider,{value:t,children:e.children})}return s.jsx(she,{initialProps:e.initialProps,children:e.children})}function she(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(TP.Provider,{value:a,children:r})}function Jz(){var e=y.useContext(TP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function ohe(e,t){var r=Gt(),n=Jz(),a=CP(),i=PP(),o=AP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(z){var R,F,K,re;Z0(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,z):Pg(r)?(F=a.onDayClick)===null||F===void 0||F.call(a,e,t,z):Og(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,z):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,z)},_=function(z){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,z)},S=function(z){var R;f(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,z)},N=function(z){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,z)},k=function(z){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,z)},P=function(z){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,z)},O=function(z){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,z)},A=function(z){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,z)},$=function(z){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,z)},T=function(z){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,z)},U=function(z){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,z)},I=function(z){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,z)},V=function(z){var R;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?p():m();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"Home":z.preventDefault(),z.stopPropagation(),b();break;case"End":z.preventDefault(),z.stopPropagation(),x();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,z)},L={onClick:w,onFocus:_,onBlur:S,onKeyDown:V,onKeyUp:I,onMouseEnter:N,onMouseLeave:k,onPointerEnter:P,onPointerLeave:O,onTouchCancel:A,onTouchEnd:$,onTouchMove:T,onTouchStart:U};return L}function lhe(){var e=Gt(),t=Jz(),r=CP(),n=PP(),a=Z0(e)?t.selected:Pg(e)?r.selected:Og(e)?n.selected:void 0;return a}function che(e){return Object.values(Ji).includes(e)}function uhe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(che(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function dhe(e,t){var r=qe({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=qe(qe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function fhe(e,t,r){var n,a,i,o=Gt(),l=AP(),c=ahe(e,t),u=ohe(e,c),d=lhe(),f=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Cn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=uhe(o,c).join(" "),m=dhe(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Mfe,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Cn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Cn(l.focusedDay,e),_=qe(qe(qe({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function hhe(e){var t=y.useRef(null),r=fhe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Dx,qe({name:"day",ref:t},r.buttonProps)):s.jsx("div",qe({},r.divProps))}function mhe(e){var t=e.number,r=e.dates,n=Gt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Dx,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function phe(e){var t,r,n=Gt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:hhe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:mhe,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},iue(f))})]})}function v$(e,t,r){for(var n=r!=null&&r.ISOWeek?Y8(t):Y0(t,r),a=r!=null&&r.ISOWeek?lu(e):Yi(e,r),i=ps(n,a),o=[],l=0;l<=i;l++)o.push(Qr(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?J8(d):Q8(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function ghe(e,t){var r=v$(ca(e),K0(e),t);if(t!=null&&t.useFixedWeeks){var n=oue(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=_p(i,6-n),l=v$(_p(i,1),o,t);r.push.apply(r,l)}}return r}function vhe(e){var t,r,n,a=Gt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=ghe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Tfe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:phe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Pfe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return s.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function yhe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var xhe=yhe()?y.useLayoutEffect:y.useEffect,Cj=!1,bhe=0;function y$(){return"react-day-picker-".concat(++bhe)}function whe(e){var t,r=e??(Cj?y$():null),n=y.useState(r),a=n[0],i=n[1];return xhe(function(){a===null&&i(y$())},[]),y.useEffect(function(){Cj===!1&&(Cj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function _he(e){var t,r,n=Gt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Ag().displayMonths,u=whe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(i.caption_start),h=qe(qe({},h),o.caption_start)),g&&(f.push(i.caption_end),h=qe(qe({},h),o.caption_end)),p&&(f.push(i.caption_between),h=qe(qe({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:Efe;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(vhe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function jhe(e){var t=Gt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function She(e){var t,r,n=e.initialProps,a=Gt(),i=AP(),o=Ag(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=qe(qe({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return qe(qe({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:jhe;return s.jsx("div",qe({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(_he,{displayIndex:p,displayMonth:g},p)})})}))}function Nhe(e){var t=e.children,r=Yde(e,["children"]);return s.jsx(mfe,{initialProps:r,children:s.jsx(Sfe,{children:s.jsx(ihe,{initialProps:r,children:s.jsx($fe,{initialProps:r,children:s.jsx(Dfe,{initialProps:r,children:s.jsx(Hfe,{children:s.jsx(nhe,{children:t})})})})})})})}function khe(e){return s.jsx(Nhe,qe({},e,{children:s.jsx(She,{initialProps:e})}))}function MP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(khe,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(vp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(vp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(gE,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(df,{className:"h-4 w-4"})},...n})}MP.displayName="Calendar";const x$=[{value:"video",label:"Video Call",icon:tr,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:ua,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:ih,description:"Visit the clinic"}],Che=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},Ehe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var x;const[a,i]=y.useState(Qr(new Date,1)),[o,l]=y.useState(null),[c,u]=y.useState("video"),[d,f]=y.useState([]),[h,m]=y.useState(!1),g=Che();y.useEffect(()=>{(async()=>{if(a){m(!0);try{const _=Cs(a),S=Qr(_,1),{data:N,error:k}=await Ee.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",S.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const P=(N||[]).map(O=>{const A=new Date(O.scheduled_at);return ta(A,"HH:mm")});f(P)}catch(_){console.error("Error fetching booked slots:",_)}finally{m(!1)}}})()},[a,e]);const p=()=>{a&&o&&r({date:a,time:o,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(a){const[_,S]=w.split(":").map(Number),N=rz(tz(a,_),S);if(Mx(N,new Date))return!1}return!0},b=a&&o&&c;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(be,{children:"Consultation Type"}),s.jsxs(Se,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),s.jsx(ce,{children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:x$.map(w=>{const _=w.icon;return s.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[s.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),s.jsx("span",{className:"font-medium",children:w.label}),s.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(be,{children:"Select Date"}),s.jsx(Se,{children:"Choose your preferred consultation date"})]}),s.jsx(ce,{children:s.jsx(MP,{mode:"single",selected:a,onSelect:i,disabled:w=>Mx(w,Cs(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Select Time",s.jsx(Ne,{variant:"outline",className:"ml-2 text-xs",children:jp})]}),s.jsx(Se,{children:a?Ix(a):"Select a date first"})]}),s.jsx(ce,{children:h?s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>s.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):s.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return s.jsx(Q,{variant:o===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),a&&o&&s.jsx(ie,{className:"bg-primary/5 border-primary/20",children:s.jsxs(ce,{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Ix(a)," at ",o," ",jp]})]}),s.jsx(Ne,{variant:"secondary",children:(x=x$.find(w=>w.value===c))==null?void 0:x.label})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Q,{variant:"outline",onClick:n,children:"Back"}),s.jsxs(Q,{onClick:p,disabled:!b,children:["Review & Confirm",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};var Phe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ohe=Phe.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ahe="Separator",b$="horizontal",The=["horizontal","vertical"],Xz=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=b$,...a}=e,i=Mhe(n)?n:b$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ohe.div,{"data-orientation":i,...l,...a,ref:t})});Xz.displayName=Ahe;function Mhe(e){return The.includes(e)}var Qz=Xz;const Lx=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Qz,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Lx.displayName=Qz.displayName;const $he={video:tr,phone:ua,in_person:ih},Ihe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},Rhe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=$r(),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=$he[e.consultationType],u=async()=>{if(!n){oe.error("You must be logged in to book an appointment");return}i(!0);try{const{data:d,error:f}=await Ee.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,m]=e.time.split(":").map(Number),g=rz(tz(e.date,h),m),{error:p}=await Ee.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(p)throw p;l(!0),oe.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),oe.error(d.message||"Failed to book appointment")}finally{i(!1)}};return o?s.jsx(ie,{className:"text-center",children:s.jsxs(ce,{className:"py-12",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:s.jsx(nn,{className:"w-10 h-10 text-success"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[s.jsx("p",{className:"font-medium",children:Ix(e.date)}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",jp]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),s.jsx(Q,{onClick:t,children:"Return to Dashboard"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(be,{children:"Review Your Booking"}),s.jsx(Se,{children:"Please review the details before confirming your appointment."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Wr,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),s.jsx(Lx,{}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:rde(e.date)})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(qt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",jp,")"]}),s.jsx("p",{className:"font-medium",children:e.time})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx("p",{className:"font-medium",children:Ihe[e.consultationType]})]})]})]}),s.jsx(Lx,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>s.jsx(Ne,{variant:"secondary",children:d},f))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),s.jsx(Ne,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&s.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),s.jsx(ie,{className:"border-primary/20 bg-primary/5",children:s.jsx(ce,{className:"p-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Q,{variant:"outline",onClick:r,disabled:a,children:"Back"}),s.jsx(Q,{onClick:u,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},Zz="",Dhe=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],Lhe=({onBack:e,onComplete:t})=>{On();const[r,n]=y.useState(!1),[a,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState("moderate"),[d,f]=y.useState(""),h=g=>{l(p=>p.includes(g)?p.filter(v=>v!==g):[...p,g])},m=async()=>{if(!a.trim()){oe.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await xo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>vo);return{supabase:x}},void 0),{data:{session:p}}=await g.auth.getSession();if(!(p!=null&&p.access_token)){oe.error("Please sign in to continue");return}const v=await fetch(`${Zz}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:o,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const x=await v.json();throw new Error(x.detail||"Failed to create walk-in booking")}const b=await v.json();oe.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),oe.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qt,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(be,{children:"Walk-In Booking"}),s.jsx(Se,{children:"No appointment? Join the queue now"})]})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",s.jsx("strong",{children:"~30 minutes"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"complaint",children:"What brings you in today? *"}),s.jsx(Fr,{id:"complaint",value:a,onChange:g=>i(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Any of these symptoms?"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Dhe.map(g=>s.jsx(Ne,{variant:o.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"How severe are your symptoms?"}),s.jsxs(Sp,{value:c,onValueChange:u,className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"mild",id:"mild"}),s.jsx(fe,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"moderate",id:"moderate"}),s.jsx(fe,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"severe",id:"severe"}),s.jsx(fe,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"notes",children:"Additional notes (optional)"}),s.jsx(Fr,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(Q,{variant:"outline",onClick:e,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Q,{onClick:m,disabled:r||!a.trim(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},Fhe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],Bhe=({onBack:e,onComplete:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState(!1),d=h=>{l(m=>m.includes(h)?m.filter(g=>g!==h):[...m,h])},f=async()=>{if(!a.trim()){oe.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await xo(async()=>{const{supabase:p}=await Promise.resolve().then(()=>vo);return{supabase:p}},void 0),{data:{session:m}}=await h.auth.getSession();if(!(m!=null&&m.access_token)){oe.error("Please sign in to continue");return}const g=await fetch(`${Zz}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:o,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const p=await g.json();throw new Error(p.detail||"Failed to create emergency booking")}oe.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),oe.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return s.jsxs(ie,{className:"border-red-500",children:[s.jsx(me,{className:"bg-red-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:s.jsx(Wn,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-red-700",children:"Emergency Booking"}),s.jsx(Se,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),s.jsxs(ce,{className:"space-y-6 pt-6",children:[s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ua,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),s.jsxs("p",{className:"text-sm text-red-600",children:["Call ",s.jsx("strong",{children:"10177"})," (ambulance) or ",s.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),s.jsx(Fr,{id:"emergency-complaint",value:a,onChange:h=>i(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Select any matching symptoms:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Fhe.map(h=>s.jsx(Ne,{variant:o.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[s.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),s.jsx(fe,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(Q,{variant:"outline",onClick:e,children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Q,{variant:"destructive",onClick:f,disabled:r||!a.trim(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},w$=[{id:"symptoms",label:"Symptoms",icon:uf},{id:"clinician",label:"Clinician",icon:Wr},{id:"time",label:"Schedule",icon:qt},{id:"confirm",label:"Confirm",icon:Nr}],Uhe=()=>{const e=On(),{profile:t,signOut:r}=$r(),[n,a]=y.useState("intro"),[i,o]=y.useState("scheduled"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),m=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=x=>{c(x),a("clinician")},p=x=>{d(x),a("time")},v=x=>{h(x),a("confirm")},b=()=>{e("/patient")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[s.jsx(rn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&s.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:s.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:w$.map((x,w)=>{const _=x.icon,S=m()===w,N=m()>w;return s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${N?"bg-success text-success-foreground":S?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:N?s.jsx(Nr,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${S?"text-primary font-medium":"text-muted-foreground"}`,children:x.label})]}),w<w$.length-1&&s.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${N?"bg-success":"bg-muted"}`})]},x.id)})})}),n==="intro"&&s.jsxs(ie,{className:"text-center",children:[s.jsxs(me,{children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(kt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),s.jsx(be,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),s.jsx(Se,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[s.jsx(ie,{className:`cursor-pointer transition-all hover:border-primary ${i==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>o("scheduled"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(kt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Schedule"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),s.jsx(ie,{className:`cursor-pointer transition-all hover:border-orange-500 ${i==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>o("walk-in"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(kn,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Walk-In"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),s.jsx(ie,{className:`cursor-pointer transition-all hover:border-red-500 ${i==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>o("emergency"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(Wn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Emergency"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),i==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(uf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),s.jsx(e2,{className:"w-4 h-4 text-yellow-500"})]}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsx(Wr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsx(qt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(e2,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),s.jsxs(Q,{size:"lg",onClick:()=>a("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]}),i==="walk-in"&&s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[s.jsx(kn,{className:"w-4 h-4"}),"Walk-In Queue"]}),s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),s.jsxs(Q,{size:"lg",onClick:()=>a("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]}),i==="emergency"&&s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Emergency Care"]}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),s.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),s.jsxs(Q,{size:"lg",variant:"destructive",onClick:()=>a("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&s.jsx(Lhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&s.jsx(Bhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&s.jsx(Pde,{onComplete:g,onBack:()=>a("intro")}),n==="clinician"&&l&&s.jsx(Kde,{recommendedSpecialization:l.recommendedSpecialization,onSelect:p,onBack:()=>a("symptoms")}),n==="time"&&u&&s.jsx(Ehe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>a("clinician")}),n==="confirm"&&l&&u&&f&&s.jsx(Rhe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>a("time")})]})]})},zhe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:kn,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:ni,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:_B,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:kt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,a)=>{const i=n.icon;return s.jsx(ie,{children:s.jsx(ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),s.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),s.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:s.jsx(i,{className:`w-6 h-6 ${n.iconColor}`})})]})})},a)})})};var ew="Switch",[Vhe]=gn(ew),[Whe,Hhe]=Vhe(ew),eV=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=Ke(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=Wi({prop:a,defaultProp:i??!1,onChange:u,caller:ew});return s.jsxs(Whe,{scope:r,checked:b,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":aV(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:he(e.onClick,w=>{x(_=>!_),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(nV,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});eV.displayName=ew;var tV="SwitchThumb",rV=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Hhe(tV,r);return s.jsx(Me.span,{"data-state":aV(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});rV.displayName=tV;var qhe="SwitchBubbleInput",nV=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=B0(r),u=E0(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});nV.displayName=qhe;function aV(e){return e?"checked":"unchecked"}var iV=eV,Ghe=rV;const tw=y.forwardRef(({className:e,...t},r)=>s.jsx(iV,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(Ghe,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));tw.displayName=iV.displayName;function Khe(e){const t=Yhe(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Xhe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Yhe(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Zhe(a),l=Qhe(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jhe=Symbol("radix.slottable");function Xhe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jhe}function Qhe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Zhe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rw="Popover",[sV]=gn(rw,[Fl]),Tg=Fl(),[eme,Hl]=sV(rw),oV=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Tg(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:rw});return s.jsx(PE,{...l,children:s.jsx(eme,{scope:t,contentId:Bi(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};oV.displayName=rw;var lV="PopoverAnchor",tme=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(lV,r),i=Tg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(_g,{...i,...n,ref:t})});tme.displayName=lV;var cV="PopoverTrigger",uV=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(cV,r),i=Tg(r),o=Ke(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pV(a.open),...n,ref:o,onClick:he(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(_g,{asChild:!0,...i,children:l})});uV.displayName=cV;var $P="PopoverPortal",[rme,nme]=sV($P,{forceMount:void 0}),dV=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Hl($P,t);return s.jsx(rme,{scope:t,forceMount:r,children:s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:n})})})};dV.displayName=$P;var _f="PopoverContent",fV=y.forwardRef((e,t)=>{const r=nme(_f,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Hl(_f,e.__scopePopover);return s.jsx(Hr,{present:n||i.open,children:i.modal?s.jsx(ime,{...a,ref:t}):s.jsx(sme,{...a,ref:t})})});fV.displayName=_f;var ame=Khe("PopoverContent.RemoveScroll"),ime=y.forwardRef((e,t)=>{const r=Hl(_f,e.__scopePopover),n=y.useRef(null),a=Ke(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return U0(o)},[]),s.jsx(Cg,{as:ame,allowPinchZoom:!0,children:s.jsx(hV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),sme=y.forwardRef((e,t)=>{const r=Hl(_f,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(hV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),hV=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Hl(_f,r),m=Tg(r);return F0(),s.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Su,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(P0,{"data-state":pV(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),mV="PopoverClose",ome=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(mV,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});ome.displayName=mV;var lme="PopoverArrow",cme=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tg(r);return s.jsx(O0,{...a,...n,ref:t})});cme.displayName=lme;function pV(e){return e?"open":"closed"}var ume=oV,dme=uV,fme=dV,gV=fV;const hme=ume,mme=dme,vV=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(fme,{children:s.jsx(gV,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));vV.displayName=gV.displayName;const yV=Rie,xV=y.createContext({}),wn=({...e})=>s.jsx(xV.Provider,{value:{name:e.name},children:s.jsx($ie,{...e})}),nw=()=>{const e=y.useContext(xV),t=y.useContext(bV),{getFieldState:r,formState:n}=Iie(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},bV=y.createContext({}),fn=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return s.jsx(bV.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});fn.displayName="FormItem";const Yr=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=nw();return s.jsx(fe,{ref:r,className:ve(n&&"text-destructive",e),htmlFor:a,...t})});Yr.displayName="FormLabel";const hn=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=nw();return s.jsx(G6,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});hn.displayName="FormControl";const pN=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=nw();return s.jsx("p",{ref:r,id:n,className:ve("text-sm text-muted-foreground",e),...t})});pN.displayName="FormDescription";const _n=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=nw(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ve("text-sm font-medium text-destructive",e),...r,children:o}):null});_n.displayName="FormMessage";function pme(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var IP="ScrollArea",[wV]=gn(IP),[gme,di]=wV(IP),_V=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[S,N]=y.useState(!1),[k,P]=y.useState(!1),O=Ke(t,$=>c($)),A=hh(a);return s.jsx(gme,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Me.div,{dir:A,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});_V.displayName=IP;var jV="ScrollAreaViewport",SV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=di(jV,r),l=y.useRef(null),c=Ke(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});SV.displayName=jV;var Ms="ScrollAreaScrollbar",RP=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(vme,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(yme,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(NV,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(DP,{...n,ref:t}):null});RP.displayName=Ms;var vme=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ms,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Hr,{present:r||i,children:s.jsx(NV,{"data-state":i?"visible":"hidden",...n,ref:t})})}),yme=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ms,e.__scopeScrollArea),i=e.orientation==="horizontal",o=iw(()=>c("SCROLL_END"),100),[l,c]=pme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Hr,{present:r||l!=="hidden",children:s.jsx(DP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:he(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:he(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NV=y.forwardRef((e,t)=>{const r=di(Ms,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=iw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return jf(r.viewport,c),jf(r.content,c),s.jsx(Hr,{present:n||i,children:s.jsx(DP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),DP=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=di(Ms,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=OV(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return Sme(h,o.current,l,m)}return r==="horizontal"?s.jsx(xme,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=_$(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(bme,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=_$(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),xme=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=di(Ms,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(CV,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),TV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Bx(o.paddingLeft),paddingEnd:Bx(o.paddingRight)}})}})}),bme=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=di(Ms,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(CV,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),TV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Bx(o.paddingTop),paddingEnd:Bx(o.paddingBottom)}})}})}),[wme,kV]=wV(Ms),CV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=di(Ms,r),[g,p]=y.useState(null),v=Ke(t,O=>p(O)),b=y.useRef(null),x=y.useRef(""),w=m.viewport,_=n.content-n.viewport,S=xr(d),N=xr(c),k=iw(f,10);function P(O){if(b.current){const A=O.clientX-b.current.left,$=O.clientY-b.current.top;u({x:A,y:$})}}return y.useEffect(()=>{const O=A=>{const $=A.target;(g==null?void 0:g.contains($))&&S(A,_)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,g,_,S]),y.useEffect(N,[n,N]),jf(g,k),jf(m.content,k),s.jsx(wme,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:xr(i),onThumbPointerUp:xr(o),onThumbPositionChange:N,onThumbPointerDown:xr(l),children:s.jsx(Me.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:he(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:he(e.onPointerMove,P),onPointerUp:he(e.onPointerUp,O=>{const A=O.target;A.hasPointerCapture(O.pointerId)&&A.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Fx="ScrollAreaThumb",EV=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=kV(Fx,e.__scopeScrollArea);return s.jsx(Hr,{present:r||a.hasThumb,children:s.jsx(_me,{ref:t,...n})})}),_me=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=di(Fx,r),o=kV(Fx,r),{onThumbPositionChange:l}=o,c=Ke(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=iw(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=Nme(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:he(e.onPointerUp,o.onThumbPointerUp)})});EV.displayName=Fx;var LP="ScrollAreaCorner",PV=y.forwardRef((e,t)=>{const r=di(LP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(jme,{...e,ref:t}):null});PV.displayName=LP;var jme=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=di(LP,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return jf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),jf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Bx(e){return e?parseInt(e,10):0}function OV(e,t){const r=e/t;return isNaN(r)?0:r}function aw(e){const t=OV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Sme(e,t,r,n="ltr"){const a=aw(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return AV([c,u],f)(e)}function _$(e,t,r="ltr"){const n=aw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=aN(e,c);return AV([0,o],[0,l])(u)}function AV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function TV(e,t){return e>0&&e<t}var Nme=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function iw(e,t){const r=xr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function jf(e,t){const r=xr(t);Sr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var MV=_V,kme=SV,Cme=PV;const FP=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(MV,{ref:n,className:ve("relative overflow-hidden",e),...r,children:[s.jsx(kme,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx($V,{}),s.jsx(Cme,{})]}));FP.displayName=MV.displayName;const $V=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(RP,{ref:n,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(EV,{className:"relative flex-1 rounded-full bg-border"})}));$V.displayName=RP.displayName;const j$=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],Eme=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=y.useState(""),[a,i]=y.useState(!1),o=j$.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=y.useCallback(u=>{t([...e,u]),n(""),i(!1)},[e,t]),c=y.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(jS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Je,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),i(!0)},onFocus:()=>i(!0),className:"pl-10"}),a&&r&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:s.jsx(FP,{className:"max-h-48",children:o.length>0?o.slice(0,10).map(u=>s.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),s.jsx(ff,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:j$.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>s.jsx(Q,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),s.jsx("div",{className:"space-y-1",children:e.map(u=>s.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[s.jsxs("div",{children:[s.jsx(Ne,{variant:"secondary",className:"font-mono mr-2",children:u.code}),s.jsx("span",{className:"text-sm",children:u.description})]}),s.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(Os,{className:"w-4 h-4"})})]},u.code))})]})]})},Pme=fh({chief_complaint:ir().min(1,"Chief complaint is required").max(500),history_of_present_illness:ir().max(2e3).optional(),examination_findings:ir().max(2e3).optional(),treatment_plan:ir().max(2e3).optional(),follow_up_instructions:ir().max(1e3).optional(),follow_up_date:Cse().optional().nullable(),referral_required:kse().default(!1),referral_details:ir().max(500).optional()}),Ome=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:a})=>{const{user:i}=$r(),[o,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(a||null),[h,m]=y.useState("draft"),g=_d({resolver:jd(Pme),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});y.useEffect(()=>{(async()=>{if(!a)return;const{data:w,error:_}=await Ee.from("clinical_notes").select("*").eq("id",a).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),m(w.status),f(w.id))})()},[a,g]);const p=async x=>{if(i){u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:o.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(o)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"draft"};if(d){const{error:_}=await Ee.from("clinical_notes").update(w).eq("id",d);if(_)throw _;oe.success("Draft saved")}else{const{data:_,error:S}=await Ee.from("clinical_notes").insert(w).select().single();if(S)throw S;f(_.id),oe.success("Draft created")}}catch(w){console.error("Error saving draft:",w),oe.error("Failed to save draft")}finally{u(!1)}}},v=async x=>{if(i){if(o.length===0){oe.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:o.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(o)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Ee.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Ee.from("clinical_notes").insert(w);if(_)throw _}oe.success("Clinical note completed and signed"),m("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),oe.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return s.jsxs(ie,{className:"w-full",children:[s.jsx(me,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",s.jsx("span",{className:"font-medium",children:r})]})]}),s.jsx(Ne,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),s.jsx(ce,{children:s.jsx(yV,{...g,children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs(Wl,{defaultValue:"clinical",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3",children:[s.jsxs(Dt,{value:"clinical",className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-4 h-4"}),"Clinical"]}),s.jsxs(Dt,{value:"diagnosis",className:"flex items-center gap-2",children:[s.jsx(Ll,{className:"w-4 h-4"}),"Diagnosis"]}),s.jsxs(Dt,{value:"treatment",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Treatment"]})]}),s.jsxs(fr,{value:"clinical",className:"space-y-4 mt-4",children:[s.jsx(wn,{control:g.control,name:"chief_complaint",render:({field:x})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Chief Complaint *"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"history_of_present_illness",render:({field:x})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"History of Present Illness"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"examination_findings",render:({field:x})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Examination Findings"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(pN,{children:"Document any observable findings from the video consultation"}),s.jsx(_n,{})]})})]}),s.jsx(fr,{value:"diagnosis",className:"space-y-4 mt-4",children:s.jsxs("div",{children:[s.jsx(Yr,{children:"ICD-10 Diagnosis Codes *"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),s.jsx(Eme,{selectedCodes:o,onCodesChange:b?()=>{}:l})]})}),s.jsxs(fr,{value:"treatment",className:"space-y-4 mt-4",children:[s.jsx(wn,{control:g.control,name:"treatment_plan",render:({field:x})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Treatment Plan"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"follow_up_instructions",render:({field:x})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Follow-up Instructions"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"follow_up_date",render:({field:x})=>s.jsxs(fn,{className:"flex flex-col",children:[s.jsx(Yr,{children:"Follow-up Date"}),s.jsxs(hme,{children:[s.jsx(mme,{asChild:!0,children:s.jsx(hn,{children:s.jsxs(Q,{variant:"outline",disabled:b,className:ve("w-full pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?yt(x.value,"PPP"):s.jsx("span",{children:"Select date"}),s.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(vV,{className:"w-auto p-0",align:"start",children:s.jsx(MP,{mode:"single",selected:x.value||void 0,onSelect:x.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(wn,{control:g.control,name:"referral_required",render:({field:x})=>s.jsxs(fn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Yr,{className:"text-base",children:"Referral Required"}),s.jsx(pN,{children:"Does this patient need to be referred to a specialist?"})]}),s.jsx(hn,{children:s.jsx(tw,{checked:x.value,onCheckedChange:x.onChange,disabled:b})})]})}),g.watch("referral_required")&&s.jsx(wn,{control:g.control,name:"referral_details",render:({field:x})=>s.jsxs(fn,{className:"mt-4",children:[s.jsx(Yr,{children:"Referral Details"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...x})}),s.jsx(_n,{})]})})]})]})]}),!b&&s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsxs(Q,{type:"button",variant:"outline",onClick:g.handleSubmit(p),disabled:c,children:[s.jsx(WX,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),s.jsxs(Q,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[s.jsx(SB,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},BP=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:o})=>{const l=()=>{o==null||o(),t(!1)};return s.jsx($a,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(oa,{children:s.jsx(la,{children:"Document Consultation"})}),s.jsx(Ome,{appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:l})]})})},IV=()=>{const{user:e,role:t}=$r(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=y.useCallback(async()=>{if(e){i(!0),l(null);try{const{data:m,error:g}=await Ee.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const p=[...new Set((m==null?void 0:m.map(_=>_.patient_id))||[])],v=[...new Set((m==null?void 0:m.map(_=>_.clinician_id))||[])],{data:b}=await Ee.from("profiles").select("id, first_name, last_name").in("id",[...p,...v]),x=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(m==null?void 0:m.map(_=>({..._,patient_name:x.get(_.patient_id)||"Unknown",clinician_name:x.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(m){l(m.message)}finally{i(!1)}}},[e]),u=async m=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:p}=await Ee.from("prescriptions").insert({...m,clinician_id:e.id}).select().single();if(p)throw p;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(m,g)=>{try{const{error:p}=await Ee.from("prescriptions").update({status:g}).eq("id",m);if(p)throw p;return await c(),{success:!0}}catch(p){return{success:!1,error:p.message}}},f=async m=>{try{const{data:g,error:p}=await Ee.from("prescriptions").select("*").eq("patient_id",m).order("prescribed_at",{ascending:!1});if(p)throw p;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async m=>{try{const{data:g,error:p}=await Ee.from("prescriptions").select("*").eq("appointment_id",m).order("prescribed_at",{ascending:!1});if(p)throw p;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return y.useEffect(()=>{c()},[c]),{prescriptions:r,loading:a,error:o,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},Ame=fh({medication_name:ir().min(1,"Medication name is required"),dosage:ir().min(1,"Dosage is required"),frequency:ir().min(1,"Frequency is required"),duration:ir().min(1,"Duration is required"),quantity:ir().optional(),refills:ir().optional(),instructions:ir().optional(),pharmacy_notes:ir().optional()}),Tme=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],Mme=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],$me=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:a,onCancel:i})=>{const{createPrescription:o}=IV(),[l,c]=y.useState(!1),u=_d({resolver:jd(Ame),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},m=await o(h);c(!1),m.success?(oe.success("Prescription created successfully"),u.reset(),a==null||a()):oe.error(m.error||"Failed to create prescription")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"New Prescription"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),s.jsx(yV,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[s.jsx(wn,{control:u.control,name:"medication_name",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Medication Name *"}),s.jsx(hn,{children:s.jsx(Je,{placeholder:"e.g., Amoxicillin 500mg",...f})}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(wn,{control:u.control,name:"dosage",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Dosage *"}),s.jsx(hn,{children:s.jsx(Je,{placeholder:"e.g., 1 tablet",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"frequency",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Frequency *"}),s.jsxs(or,{onValueChange:f.onChange,value:f.value,children:[s.jsx(hn,{children:s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select frequency"})})}),s.jsx(Zt,{children:Tme.map(h=>s.jsx(Fe,{value:h,children:h},h))})]}),s.jsx(_n,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(wn,{control:u.control,name:"duration",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Duration *"}),s.jsxs(or,{onValueChange:f.onChange,value:f.value,children:[s.jsx(hn,{children:s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select duration"})})}),s.jsx(Zt,{children:Mme.map(h=>s.jsx(Fe,{value:h,children:h},h))})]}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"quantity",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Quantity"}),s.jsx(hn,{children:s.jsx(Je,{type:"number",placeholder:"e.g., 30",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"refills",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Refills"}),s.jsx(hn,{children:s.jsx(Je,{type:"number",min:"0",max:"12",...f})}),s.jsx(_n,{})]})})]}),s.jsx(wn,{control:u.control,name:"instructions",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Patient Instructions"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>s.jsxs(fn,{children:[s.jsx(Yr,{children:"Pharmacy Notes"}),s.jsx(hn,{children:s.jsx(Fr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i&&s.jsx(Q,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsx(Q,{type:"submit",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},RV=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i})=>s.jsx($a,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(oa,{children:s.jsx(la,{children:"Create E-Prescription"})}),s.jsx($me,{patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),Ime=e=>{const[t,r]=y.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,a]=y.useState(!1),[i,o]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){a(!0),o(null);try{const{data:c,error:u}=await Ee.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Ee.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:m}=await Ee.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(m)throw m;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:p}=await Ee.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((p==null?void 0:p.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],x=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:x,prescriptions:w})}catch(c){o(c.message)}finally{a(!1)}}})()},[e]),{history:t,loading:n,error:i}},Rme={video:tr,phone:ua,in_person:ih},S$={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},Dme=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:a,loading:i,error:o}=Ime(e?r:null);return s.jsx($a,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"max-w-4xl max-h-[85vh]",children:[s.jsx(oa,{children:s.jsxs(la,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Wt,{className:"h-10 w-full"}),s.jsx(Wt,{className:"h-48 w-full"}),s.jsx(Wt,{className:"h-48 w-full"})]}):o?s.jsxs("div",{className:"text-center py-8 text-destructive",children:[s.jsx(Ll,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{children:"Error loading patient history"})]}):s.jsxs(Wl,{defaultValue:"appointments",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"appointments",className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4"}),"Visits (",a.appointments.length,")"]}),s.jsxs(Dt,{value:"notes",className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4"}),"Clinical Notes (",a.clinicalNotes.length,")"]}),s.jsxs(Dt,{value:"prescriptions",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Prescriptions (",a.prescriptions.length,")"]})]}),s.jsxs(FP,{className:"h-[500px] pr-4",children:[s.jsx(fr,{value:"appointments",className:"space-y-3 mt-0",children:a.appointments.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No past appointments"})]}):a.appointments.map(l=>{const c=Rme[l.consultation_type]||tr;return s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium",children:yt(new Date(l.scheduled_at),"MMMM d, yyyy")}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",yt(new Date(l.scheduled_at),"h:mm a")]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&s.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),s.jsx(Ne,{className:S$[l.status]||"",children:l.status})]})})},l.id)})}),s.jsx(fr,{value:"notes",className:"space-y-3 mt-0",children:a.clinicalNotes.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(an,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No clinical notes available"})]}):a.clinicalNotes.map(l=>s.jsx(ie,{children:s.jsxs(ce,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-4 h-4 text-primary"}),s.jsx("p",{className:"font-medium",children:yt(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&s.jsxs(Ne,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3"}),"Signed"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),s.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>s.jsx(Ne,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),s.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),s.jsx(fr,{value:"prescriptions",className:"space-y-3 mt-0",children:a.prescriptions.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No prescriptions on record"})]}):a.prescriptions.map(l=>s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(Ur,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",yt(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),s.jsx(Ne,{className:S$[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},Lme={video:tr,phone:ua,in_person:ih},Fme={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},Bme={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},Ej=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const a=On(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=Lme[e.consultation_type],h=Fme[e.status],m=Bme[e.severity],g=e.status==="pending"||e.status==="confirmed",p=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{a(`/consultation?appointment=${e.id}`)};return s.jsxs(ie,{className:`transition-all ${p?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(X0,{className:"w-12 h-12",children:s.jsx(Q0,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(x=>x[0]).join("")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),s.jsx(Ne,{variant:h.variant,children:h.label})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[s.jsxs(Ne,{variant:"outline",className:m.color,children:[e.severity==="severe"&&s.jsx(Wn,{className:"w-3 h-3 mr-1"}),m.label]}),e.symptoms.slice(0,3).map((x,w)=>s.jsx(Ne,{variant:"outline",className:"text-xs",children:x},w)),e.symptoms.length>3&&s.jsxs(Ne,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),s.jsxs("div",{className:"flex gap-2",children:[g&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{size:"sm",onClick:()=>t(e),disabled:n,children:[s.jsx(yE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(V_,{className:"w-4 h-4 mr-1"}),"History"]})]}),p&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{size:"sm",variant:"default",onClick:b,children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),s.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>o(!0),children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"Notes"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(V_,{className:"w-4 h-4 mr-1"}),"History"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>o(!0),children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"View Notes"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(V_,{className:"w-4 h-4 mr-1"}),"History"]}),s.jsxs(Ne,{variant:"secondary",className:"ml-2",children:[s.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),s.jsx(BP,{open:i,onOpenChange:o,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),s.jsx(RV,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),s.jsx(Dme,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},DV=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState({waiting:0,inProgress:0,completed:0,total:0}),[i,o]=y.useState(!0),[l,c]=y.useState(null),u=y.useCallback(async()=>{if(e)try{const f=new Date,h=Cs(f).toISOString(),m=gP(f).toISOString(),{data:g,error:p}=await Ee.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",m).order("scheduled_at",{ascending:!0});if(p)throw p;if(!g||g.length===0){r([]),a({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:x}=await Ee.from("profiles").select("id, first_name, last_name").in("id",v);if(x)throw x;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:P}=await Ee.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(P)throw P;_=k||[]}const S=g.map(k=>{const P=b==null?void 0:b.find(A=>A.id===k.patient_id),O=_.find(A=>A.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:P?`${P.first_name} ${P.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(O==null?void 0:O.symptoms)||[],severity:(O==null?void 0:O.severity)||"mild",symptom_description:(O==null?void 0:O.description)||null,created_at:k.created_at}});r(S);const N={waiting:S.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:S.filter(k=>k.status==="in_progress").length,completed:S.filter(k=>k.status==="completed").length,total:S.length};a(N)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{o(!1)}},[e]),d=async(f,h)=>{try{const{error:m}=await Ee.from("appointments").update({status:h}).eq("id",f);if(m)throw m;return r(g=>g.map(p=>p.id===f?{...p,status:h}:p)),a(g=>{const p=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:p.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:p.filter(v=>v.status==="in_progress").length,completed:p.filter(v=>v.status==="completed").length,total:p.length}}),{success:!0}}catch(m){return console.error("Error updating appointment:",m),{success:!1,error:m.message}}};return y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(!e)return;const f=Ee.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Ee.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:i,error:l,refetch:u,updateAppointmentStatus:d}},Ume=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=DV(),[a,i]=y.useState(null),o=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((m,g)=>{const p={severe:0,moderate:1,mild:2};return p[m.severity]!==p[g.severity]?p[m.severity]-p[g.severity]:new Date(m.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{i(h.id);const m=await n(h.id,"in_progress");i(null),m.success?oe.success(`Started consultation with ${h.patient_name}`):oe.error("Failed to start consultation")},f=async h=>{i(h.id);const m=await n(h.id,"completed");i(null),m.success?oe.success(`Completed consultation with ${h.patient_name}`):oe.error("Failed to complete consultation")};return r?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2,3].map(h=>s.jsx(Wt,{className:"h-32 w-full"},h))})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),s.jsxs(Se,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),s.jsx(ce,{children:s.jsxs(Wl,{defaultValue:"waiting",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"waiting",className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),s.jsxs(Dt,{value:"in_progress",className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),s.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),s.jsx(fr,{value:"waiting",className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No patients waiting"})]}):u(o).map(h=>s.jsx(Ej,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),s.jsx(fr,{value:"in_progress",className:"space-y-4",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(qt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>s.jsx(Ej,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),s.jsx(fr,{value:"completed",className:"space-y-4",children:c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>s.jsx(Ej,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))})]})})]})},zme={video:tr,phone:ua,in_person:ih},Vme=({todayAppointments:e})=>{const t=e.filter(i=>{const o=new Date(i.scheduled_at).getHours();return o>=8&&o<12}),r=e.filter(i=>{const o=new Date(i.scheduled_at).getHours();return o>=12&&o<17}),n=e.filter(i=>new Date(i.scheduled_at).getHours()>=17),a=({title:i,appointments:o})=>s.jsxs("div",{className:"mb-4 last:mb-0",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:i}),o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):s.jsx("div",{className:"space-y-2",children:o.map(l=>{const c=zme[l.consultation_type];return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:ta(new Date(l.scheduled_at),"h:mm")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ta(new Date(l.scheduled_at),"a")})]}),s.jsx("div",{className:"w-px h-8 bg-border"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(c,{className:"w-3 h-3"}),s.jsx("span",{children:l.consultation_type})]})]})]}),s.jsx(Ne,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",s.jsx(Ne,{variant:"outline",className:"ml-2 text-xs",children:jp})]}),s.jsx(Se,{children:Ix(new Date)})]}),s.jsx(ce,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No appointments scheduled for today"})]}):s.jsxs(s.Fragment,{children:[s.jsx(a,{title:"Morning (8am - 12pm)",appointments:t}),s.jsx(a,{title:"Afternoon (12pm - 5pm)",appointments:r}),s.jsx(a,{title:"Evening (5pm+)",appointments:n})]})})]})},Wme=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Hme=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(!1),l=y.useCallback(async()=>{if(e){a(!0);try{const{data:m,error:g}=await Ee.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(m||[])}catch(m){console.error("Error fetching availability:",m),oe.error("Failed to load availability")}finally{a(!1)}}},[e]),c=y.useCallback(async m=>{if(e){o(!0);try{const{data:g,error:p}=await Ee.from("clinician_availability").insert({clinician_id:e.id,day_of_week:m.day_of_week,start_time:m.start_time,end_time:m.end_time,is_active:m.is_active}).select().single();if(p)throw p;return r(v=>[...v,g]),oe.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),oe.error("Failed to add availability slot"),null}finally{o(!1)}}},[e]),u=y.useCallback(async(m,g)=>{if(e){o(!0);try{const{error:p}=await Ee.from("clinician_availability").update(g).eq("id",m).eq("clinician_id",e.id);if(p)throw p;r(v=>v.map(b=>b.id===m?{...b,...g}:b)),oe.success("Availability updated")}catch(p){console.error("Error updating slot:",p),oe.error("Failed to update availability")}finally{o(!1)}}},[e]),d=y.useCallback(async m=>{if(e){o(!0);try{const{error:g}=await Ee.from("clinician_availability").delete().eq("id",m).eq("clinician_id",e.id);if(g)throw g;r(p=>p.filter(v=>v.id!==m)),oe.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),oe.error("Failed to remove slot")}finally{o(!1)}}},[e]),f=y.useCallback(async(m,g)=>{await u(m,{is_active:g})},[u]),h=y.useCallback(m=>t.filter(g=>g.day_of_week===m),[t]);return y.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:i,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:Wme}},N$=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),qme=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,a]=y.useState(1),[i,o]=y.useState("09:00"),[l,c]=y.useState("17:00"),[u,d]=y.useState(!0),f=async()=>{if(i>=l)return;await e({day_of_week:n,start_time:i,end_time:l,is_active:u})&&(o("09:00"),c("17:00"))};return s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Day"}),s.jsxs(or,{value:n.toString(),onValueChange:h=>a(parseInt(h)),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:r.map((h,m)=>s.jsx(Fe,{value:m.toString(),children:h},m))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Start Time"}),s.jsxs(or,{value:i,onValueChange:o,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:N$.map(h=>s.jsx(Fe,{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"End Time"}),s.jsxs(or,{value:l,onValueChange:c,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:N$.filter(h=>h>i).map(h=>s.jsx(Fe,{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Active"}),s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx(tw,{checked:u,onCheckedChange:d}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),s.jsxs(Q,{onClick:f,disabled:t||i>=l,children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},k$=e=>{const[t,r]=e.split(":"),n=parseInt(t),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},Gme=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:a,saving:i})=>{const o=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return s.jsxs(ie,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(be,{className:"text-base flex items-center gap-2",children:[e,c&&s.jsx(UX,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&s.jsxs(Ne,{variant:o.length>0?"default":"secondary",children:[o.length," active"]})]})}),s.jsx(ce,{children:l?s.jsx("div",{className:"space-y-2",children:r.map(u=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm font-medium",children:[k$(u.start_time)," - ",k$(u.end_time)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tw,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:i}),s.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&a(u.id),disabled:i,children:s.jsx(qX,{className:"w-4 h-4"})})]})]},u.id))}):s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},Kme=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:a,deleteSlot:i,getSlotsByDay:o,refetch:l,DAY_NAMES:c}=Hme(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,m]=f.start_time.split(":").map(Number),[g,p]=f.end_time.split(":").map(Number),v=g-h+(p-m)/60;return d+v},0);return t?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-48"}),s.jsx(Wt,{className:"h-4 w-64"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsx(Wt,{className:"h-32 w-full"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>s.jsx(Wt,{className:"h-24"},f))})]})]}):s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),s.jsx(Se,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),s.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[s.jsx(qt,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[s.jsx(mo,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx(qme,{onAddSlot:n,saving:r,dayNames:c}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>s.jsx(Gme,{dayName:d,dayIndex:f,slots:o(f),onToggleActive:a,onDeleteSlot:i,saving:r},f))})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Patients can only book during your active time slots"}),s.jsx("li",{children:" Each appointment is 30 minutes by default"}),s.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),s.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},Yme=({open:e,onOpenChange:t})=>s.jsx($a,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(oa,{children:s.jsx(la,{children:"Manage Availability"})}),s.jsx(Kme,{})]})}),Jme=e=>{const{user:t}=$r(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=y.useCallback(async()=>{if(t){i(!0),l(null);try{let h=Ee.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",Cs(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",gP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:m,error:g}=await h;if(g)throw g;const p=[...new Set((m==null?void 0:m.map(w=>w.patient_id))||[])],{data:v}=await Ee.from("profiles").select("id, first_name, last_name, phone").in("id",p),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),x=(m||[]).map(w=>{const _=b.get(w.patient_id),S=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(S==null?void 0:S.symptoms)||[],severity:(S==null?void 0:S.severity)||"mild",symptom_description:(S==null?void 0:S.description)||null,notes:w.notes,created_at:w.created_at}});n(x)}catch(h){console.error("Error fetching appointments:",h),l(h.message),oe.error("Failed to load appointments")}finally{i(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=y.useCallback(async(h,m)=>{try{const{error:g}=await Ee.from("appointments").update({status:m}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,status:m}:v)),oe.success(`Appointment ${m}`),!0}catch(g){return console.error("Error updating appointment:",g),oe.error("Failed to update appointment"),!1}},[]),d=y.useCallback(async(h,m)=>{try{const{error:g}=await Ee.from("appointments").update({notes:m}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,notes:m}:v)),oe.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),oe.error("Failed to save notes"),!1}},[]),f=y.useCallback(async(h,m)=>{try{const{error:g}=await Ee.from("appointments").update({scheduled_at:m.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,scheduled_at:m.toISOString(),status:"pending"}:v)),oe.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),oe.error("Failed to reschedule appointment"),!1}},[]);return y.useEffect(()=>{if(!t)return;const h=Ee.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Ee.removeChannel(h)}},[t,c]),y.useEffect(()=>{c()},[c]),{appointments:r,loading:a,error:o,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function Xme(e){const t=Qme(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(epe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Qme(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=rpe(a),l=tpe(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zme=Symbol("radix.slottable");function epe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zme}function tpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function rpe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var gN=["Enter"," "],npe=["ArrowDown","PageUp","Home"],LV=["ArrowUp","PageDown","End"],ape=[...npe,...LV],ipe={ltr:[...gN,"ArrowRight"],rtl:[...gN,"ArrowLeft"]},spe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mg="Menu",[Np,ope,lpe]=x0(Mg),[ku,FV]=gn(Mg,[lpe,Fl,ph]),sw=Fl(),BV=ph(),[cpe,Cu]=ku(Mg),[upe,$g]=ku(Mg),UV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=sw(t),[c,u]=y.useState(null),d=y.useRef(!1),f=xr(i),h=hh(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(PE,{...l,children:s.jsx(cpe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(upe,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};UV.displayName=Mg;var dpe="MenuAnchor",UP=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=sw(r);return s.jsx(_g,{...a,...n,ref:t})});UP.displayName=dpe;var zP="MenuPortal",[fpe,zV]=ku(zP,{forceMount:void 0}),VV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Cu(zP,t);return s.jsx(fpe,{scope:t,forceMount:r,children:s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:n})})})};VV.displayName=zP;var ai="MenuContent",[hpe,VP]=ku(ai),WV=y.forwardRef((e,t)=>{const r=zV(ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Cu(ai,e.__scopeMenu),o=$g(ai,e.__scopeMenu);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(Hr,{present:n||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(mpe,{...a,ref:t}):s.jsx(ppe,{...a,ref:t})})})})}),mpe=y.forwardRef((e,t)=>{const r=Cu(ai,e.__scopeMenu),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return U0(i)},[]),s.jsx(WP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ppe=y.forwardRef((e,t)=>{const r=Cu(ai,e.__scopeMenu);return s.jsx(WP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),gpe=Xme("MenuContent.ScrollLock"),WP=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Cu(ai,r),b=$g(ai,r),x=sw(r),w=BV(r),_=ope(r),[S,N]=y.useState(null),k=y.useRef(null),P=Ke(t,k,v.onContentChange),O=y.useRef(0),A=y.useRef(""),$=y.useRef(0),T=y.useRef(null),U=y.useRef("right"),I=y.useRef(0),V=g?Cg:y.Fragment,L=g?{as:gpe,allowPinchZoom:!0}:void 0,z=F=>{var D,G;const K=A.current+F,re=_().filter(q=>!q.disabled),Z=document.activeElement,j=(D=re.find(q=>q.ref.current===Z))==null?void 0:D.textValue,C=re.map(q=>q.textValue),E=Epe(C,K,j),B=(G=re.find(q=>q.textValue===E))==null?void 0:G.ref.current;(function q(X){A.current=X,window.clearTimeout(O.current),X!==""&&(O.current=window.setTimeout(()=>q(""),1e3))})(K),B&&setTimeout(()=>B.focus())};y.useEffect(()=>()=>window.clearTimeout(O.current),[]),F0();const R=y.useCallback(F=>{var re,Z;return U.current===((re=T.current)==null?void 0:re.side)&&Ope(F,(Z=T.current)==null?void 0:Z.area)},[]);return s.jsx(hpe,{scope:r,searchRef:A,onItemEnter:y.useCallback(F=>{R(F)&&F.preventDefault()},[R]),onItemLeave:y.useCallback(F=>{var K;R(F)||((K=k.current)==null||K.focus(),N(null))},[R]),onTriggerLeave:y.useCallback(F=>{R(F)&&F.preventDefault()},[R]),pointerGraceTimerRef:$,onPointerGraceIntentChange:y.useCallback(F=>{T.current=F},[]),children:s.jsx(V,{...L,children:s.jsx(kg,{asChild:!0,trapped:a,onMountAutoFocus:he(i,F=>{var K;F.preventDefault(),(K=k.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Su,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(rP,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:he(c,F=>{b.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(P0,{role:"menu","aria-orientation":"vertical","data-state":sW(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:he(p.onKeyDown,F=>{const re=F.target.closest("[data-radix-menu-content]")===F.currentTarget,Z=F.ctrlKey||F.altKey||F.metaKey,j=F.key.length===1;re&&(F.key==="Tab"&&F.preventDefault(),!Z&&j&&z(F.key));const C=k.current;if(F.target!==C||!ape.includes(F.key))return;F.preventDefault();const B=_().filter(D=>!D.disabled).map(D=>D.ref.current);LV.includes(F.key)&&B.reverse(),kpe(B)}),onBlur:he(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(O.current),A.current="")}),onPointerMove:he(e.onPointerMove,kp(F=>{const K=F.target,re=I.current!==F.clientX;if(F.currentTarget.contains(K)&&re){const Z=F.clientX>I.current?"right":"left";U.current=Z,I.current=F.clientX}}))})})})})})})});WV.displayName=ai;var vpe="MenuGroup",HP=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});HP.displayName=vpe;var ype="MenuLabel",HV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});HV.displayName=ype;var Ux="MenuItem",C$="menu.itemSelect",ow=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),o=$g(Ux,e.__scopeMenu),l=VP(Ux,e.__scopeMenu),c=Ke(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(C$,{bubbles:!0,cancelable:!0});f.addEventListener(C$,m=>n==null?void 0:n(m),{once:!0}),fE(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(qV,{...a,ref:c,disabled:r,onClick:he(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:he(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:he(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||gN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ow.displayName=Ux;var qV=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=VP(Ux,r),l=BV(r),c=y.useRef(null),u=Ke(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(Np.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(nP,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:he(e.onPointerMove,kp(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,kp(g=>o.onItemLeave(g))),onFocus:he(e.onFocus,()=>f(!0)),onBlur:he(e.onBlur,()=>f(!1))})})})}),xpe="MenuCheckboxItem",GV=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(QV,{scope:e.__scopeMenu,checked:r,children:s.jsx(ow,{role:"menuitemcheckbox","aria-checked":zx(r)?"mixed":r,...a,ref:t,"data-state":GP(r),onSelect:he(a.onSelect,()=>n==null?void 0:n(zx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});GV.displayName=xpe;var KV="MenuRadioGroup",[bpe,wpe]=ku(KV,{value:void 0,onValueChange:()=>{}}),YV=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=xr(n);return s.jsx(bpe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(HP,{...a,ref:t})})});YV.displayName=KV;var JV="MenuRadioItem",XV=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=wpe(JV,e.__scopeMenu),i=r===a.value;return s.jsx(QV,{scope:e.__scopeMenu,checked:i,children:s.jsx(ow,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":GP(i),onSelect:he(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});XV.displayName=JV;var qP="MenuItemIndicator",[QV,_pe]=ku(qP,{checked:!1}),ZV=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=_pe(qP,r);return s.jsx(Hr,{present:n||zx(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":GP(i.checked)})})});ZV.displayName=qP;var jpe="MenuSeparator",eW=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});eW.displayName=jpe;var Spe="MenuArrow",tW=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=sw(r);return s.jsx(O0,{...a,...n,ref:t})});tW.displayName=Spe;var Npe="MenuSub",[j8e,rW]=ku(Npe),mm="MenuSubTrigger",nW=y.forwardRef((e,t)=>{const r=Cu(mm,e.__scopeMenu),n=$g(mm,e.__scopeMenu),a=rW(mm,e.__scopeMenu),i=VP(mm,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(UP,{asChild:!0,...u,children:s.jsx(qV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":sW(r.open),...e,ref:Ps(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,kp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:he(e.onPointerLeave,kp(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||ipe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});nW.displayName=mm;var aW="MenuSubContent",iW=y.forwardRef((e,t)=>{const r=zV(ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Cu(ai,e.__scopeMenu),o=$g(ai,e.__scopeMenu),l=rW(aW,e.__scopeMenu),c=y.useRef(null),u=Ke(t,c);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(Hr,{present:n||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:s.jsx(WP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:he(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=spe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});iW.displayName=aW;function sW(e){return e?"open":"closed"}function zx(e){return e==="indeterminate"}function GP(e){return zx(e)?"indeterminate":e?"checked":"unchecked"}function kpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Cpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Epe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Cpe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Ppe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Ope(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Ppe(r,t)}function kp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Ape=UV,Tpe=UP,Mpe=VV,$pe=WV,Ipe=HP,Rpe=HV,Dpe=ow,Lpe=GV,Fpe=YV,Bpe=XV,Upe=ZV,zpe=eW,Vpe=tW,Wpe=nW,Hpe=iW,lw="DropdownMenu",[qpe]=gn(lw,[FV]),Gn=FV(),[Gpe,oW]=qpe(lw),lW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Gn(t),u=y.useRef(null),[d,f]=Wi({prop:a,defaultProp:i??!1,onChange:o,caller:lw});return s.jsx(Gpe,{scope:t,triggerId:Bi(),triggerRef:u,contentId:Bi(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(Ape,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};lW.displayName=lw;var cW="DropdownMenuTrigger",uW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=oW(cW,r),o=Gn(r);return s.jsx(Tpe,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ps(t,i.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});uW.displayName=cW;var Kpe="DropdownMenuPortal",dW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gn(t);return s.jsx(Mpe,{...n,...r})};dW.displayName=Kpe;var fW="DropdownMenuContent",hW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=oW(fW,r),i=Gn(r),o=y.useRef(!1);return s.jsx($pe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});hW.displayName=fW;var Ype="DropdownMenuGroup",Jpe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Ipe,{...a,...n,ref:t})});Jpe.displayName=Ype;var Xpe="DropdownMenuLabel",mW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Rpe,{...a,...n,ref:t})});mW.displayName=Xpe;var Qpe="DropdownMenuItem",pW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Dpe,{...a,...n,ref:t})});pW.displayName=Qpe;var Zpe="DropdownMenuCheckboxItem",gW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Lpe,{...a,...n,ref:t})});gW.displayName=Zpe;var ege="DropdownMenuRadioGroup",tge=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Fpe,{...a,...n,ref:t})});tge.displayName=ege;var rge="DropdownMenuRadioItem",vW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Bpe,{...a,...n,ref:t})});vW.displayName=rge;var nge="DropdownMenuItemIndicator",yW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Upe,{...a,...n,ref:t})});yW.displayName=nge;var age="DropdownMenuSeparator",xW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(zpe,{...a,...n,ref:t})});xW.displayName=age;var ige="DropdownMenuArrow",sge=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Vpe,{...a,...n,ref:t})});sge.displayName=ige;var oge="DropdownMenuSubTrigger",bW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Wpe,{...a,...n,ref:t})});bW.displayName=oge;var lge="DropdownMenuSubContent",wW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Hpe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wW.displayName=lge;var cge=lW,uge=uW,dge=dW,_W=hW,jW=mW,SW=pW,NW=gW,kW=vW,CW=yW,EW=xW,PW=bW,OW=wW;const fge=cge,hge=uge,mge=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(PW,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(df,{className:"ml-auto h-4 w-4"})]}));mge.displayName=PW.displayName;const pge=y.forwardRef(({className:e,...t},r)=>s.jsx(OW,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));pge.displayName=OW.displayName;const AW=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(dge,{children:s.jsx(_W,{ref:n,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));AW.displayName=_W.displayName;const Ty=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(SW,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ty.displayName=SW.displayName;const gge=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(NW,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CW,{children:s.jsx(j0,{className:"h-4 w-4"})})}),t]}));gge.displayName=NW.displayName;const vge=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(kW,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(CW,{children:s.jsx(wB,{className:"h-2 w-2 fill-current"})})}),t]}));vge.displayName=kW.displayName;const yge=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(jW,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));yge.displayName=jW.displayName;const TW=y.forwardRef(({className:e,...t},r)=>s.jsx(EW,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));TW.displayName=EW.displayName;var xge=Symbol("radix.slottable");function bge(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=xge,t}var MW="AlertDialog",[wge]=gn(MW,[N8]),Co=N8(),$W=e=>{const{__scopeAlertDialog:t,...r}=e,n=Co(t);return s.jsx(U8,{...n,...r,modal:!0})};$W.displayName=MW;var _ge="AlertDialogTrigger",jge=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(z8,{...a,...n,ref:t})});jge.displayName=_ge;var Sge="AlertDialogPortal",IW=e=>{const{__scopeAlertDialog:t,...r}=e,n=Co(t);return s.jsx(V8,{...n,...r})};IW.displayName=Sge;var Nge="AlertDialogOverlay",RW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(lP,{...a,...n,ref:t})});RW.displayName=Nge;var zd="AlertDialogContent",[kge,Cge]=wge(zd),Ege=bge("AlertDialogContent"),DW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Co(r),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return s.jsx(Vle,{contentName:zd,titleName:LW,docsSlug:"alert-dialog",children:s.jsx(kge,{scope:r,cancelRef:c,children:s.jsxs(cP,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:he(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(Ege,{children:n}),s.jsx(Oge,{contentRef:o})]})})})});DW.displayName=zd;var LW="AlertDialogTitle",FW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(uP,{...a,...n,ref:t})});FW.displayName=LW;var BW="AlertDialogDescription",UW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(dP,{...a,...n,ref:t})});UW.displayName=BW;var Pge="AlertDialogAction",zW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(fP,{...a,...n,ref:t})});zW.displayName=Pge;var VW="AlertDialogCancel",WW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Cge(VW,r),i=Co(r),o=Ke(t,a);return s.jsx(fP,{...i,...n,ref:o})});WW.displayName=VW;var Oge=({contentRef:e})=>{const t=`\`${zd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zd}\` by passing a \`${BW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Age=$W,Tge=IW,HW=RW,qW=DW,GW=zW,KW=WW,YW=FW,JW=UW;const Mge=Age,$ge=Tge,XW=y.forwardRef(({className:e,...t},r)=>s.jsx(HW,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));XW.displayName=HW.displayName;const QW=y.forwardRef(({className:e,...t},r)=>s.jsxs($ge,{children:[s.jsx(XW,{}),s.jsx(qW,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));QW.displayName=qW.displayName;const ZW=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});ZW.displayName="AlertDialogHeader";const e9=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});e9.displayName="AlertDialogFooter";const t9=y.forwardRef(({className:e,...t},r)=>s.jsx(YW,{ref:r,className:ve("text-lg font-semibold",e),...t}));t9.displayName=YW.displayName;const r9=y.forwardRef(({className:e,...t},r)=>s.jsx(JW,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));r9.displayName=JW.displayName;const n9=y.forwardRef(({className:e,...t},r)=>s.jsx(GW,{ref:r,className:ve(vp(),e),...t}));n9.displayName=GW.displayName;const a9=y.forwardRef(({className:e,...t},r)=>s.jsx(KW,{ref:r,className:ve(vp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));a9.displayName=KW.displayName;const Ige={video:tr,phone:ua,in_person:ih},Rge={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},Dge={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},Lge=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:a,compact:i=!1})=>{const o=On(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),m=Ige[e.consultation_type],g=Rge[e.status],p=Dge[e.severity],v=e.status==="pending",b=e.status==="confirmed",x=e.status==="in_progress",w=v||b||x,_=async N=>{h(!0),await N(),h(!1)},S=()=>{o(`/consultation?appointment=${e.id}`)};return i?s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:s.jsx(m,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:yt(new Date(e.scheduled_at),"h:mm a")})]})]}),s.jsx(Ne,{variant:g.variant,className:"text-xs",children:g.label})]}):s.jsxs(s.Fragment,{children:[s.jsx(ie,{className:`transition-all ${x?"ring-2 ring-success/50":""}`,children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:s.jsx(m,{className:"w-5 h-5"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:e.patient_name}),s.jsx(Ne,{variant:g.variant,children:g.label})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),s.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("span",{className:`text-xs font-medium ${p.color}`,children:[e.severity==="severe"&&s.jsx(Wn,{className:"w-3 h-3 inline mr-1"}),p.label]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Confirm"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[s.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&s.jsxs(Q,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[s.jsx(yE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),x&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{size:"sm",onClick:S,children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),s.jsxs(Q,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[s.jsx(an,{className:"w-4 h-4 mr-1"}),"Notes"]}),s.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>_(()=>a(e.id)),disabled:f,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&s.jsxs(fge,{children:[s.jsx(hge,{asChild:!0,children:s.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(CX,{className:"w-4 h-4"})})}),s.jsxs(AW,{align:"end",children:[s.jsxs(Ty,{onClick:()=>d(!0),children:[s.jsx(an,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&s.jsx(Ty,{asChild:!0,children:s.jsxs("a",{href:`tel:${e.patient_phone}`,children:[s.jsx(ua,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),s.jsx(TW,{}),s.jsxs(Ty,{className:"text-destructive",onClick:()=>c(!0),children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),s.jsx(Mge,{open:l,onOpenChange:c,children:s.jsxs(QW,{children:[s.jsxs(ZW,{children:[s.jsx(t9,{children:"Cancel Appointment"}),s.jsxs(r9,{children:["Are you sure you want to cancel this appointment with"," ",s.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),s.jsxs(e9,{children:[s.jsx(a9,{children:"Keep Appointment"}),s.jsx(n9,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),s.jsx(BP,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},Fge=()=>{const[e,t]=y.useState({start:Yi(new Date,{weekStartsOn:1}),end:Y0(new Date,{weekStartsOn:1})}),[r,n]=y.useState(new Date),[a,i]=y.useState("all"),o=a==="all"?void 0:a==="active"?["pending","confirmed","in_progress"]:[a],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=Jme({startDate:e.start,endDate:e.end,status:o}),f=l.reduce((p,v)=>{const b=yt(new Date(v.scheduled_at),"yyyy-MM-dd");return p[b]||(p[b]=[]),p[b].push(v),p},{}),h={total:l.length,pending:l.filter(p=>p.status==="pending").length,confirmed:l.filter(p=>p.status==="confirmed").length,inProgress:l.filter(p=>p.status==="in_progress").length,completed:l.filter(p=>p.status==="completed").length},m=p=>{const v=p==="next"?1:-1;t({start:_p(e.start,v),end:_p(e.end,v)})},g=p=>{const v=new Date(p);return cue(v)?"Today":uue(v)?"Tomorrow":yt(v,"EEEE, MMM d")};return c?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-48"}),s.jsx(Wt,{className:"h-4 w-64"})]}),s.jsx(ce,{className:"space-y-4",children:Array.from({length:3}).map((p,v)=>s.jsx(Wt,{className:"h-32 w-full"},v))})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),s.jsxs(Se,{children:[yt(e.start,"MMM d")," - ",yt(e.end,"MMM d, yyyy")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>m("prev"),children:" Prev"}),s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>m("next"),children:"Next "}),s.jsx(Q,{variant:"outline",size:"sm",onClick:u,children:s.jsx(mo,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[s.jsxs(Ne,{variant:"outline",className:"px-3 py-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),s.jsxs(Ne,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[s.jsx(Nr,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),s.jsxs(Ne,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[s.jsx(Ll,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),s.jsxs(Ne,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),s.jsxs(ce,{children:[s.jsx(Wl,{value:a,onValueChange:i,className:"mb-6",children:s.jsxs(ko,{children:[s.jsxs(Dt,{value:"all",children:["All (",h.total,")"]}),s.jsxs(Dt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),s.jsxs(Dt,{value:"pending",children:["Pending (",h.pending,")"]}),s.jsxs(Dt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),s.jsx("p",{className:"text-sm",children:a!=="all"?`No ${a} appointments for this week`:"No appointments scheduled for this week"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([p],[v])=>p.localeCompare(v)).map(([p,v])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4"}),g(p),s.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),s.jsx("div",{className:"space-y-3",children:v.map(b=>s.jsx(Lge,{appointment:b,onConfirm:x=>d(x,"confirmed"),onCancel:x=>d(x,"cancelled"),onStart:x=>d(x,"in_progress"),onComplete:x=>d(x,"completed")},b.id))})]},p))})]})]})},Bge=({open:e,onOpenChange:t})=>s.jsx($a,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(oa,{children:s.jsx(la,{children:"Manage Appointments"})}),s.jsx(Fge,{})]})}),Uge="",zge=()=>{const[e,t]=y.useState(!1),r=async()=>{const{data:{session:o}}=await Ee.auth.getSession();return(o==null?void 0:o.access_token)||null},n=async o=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${Uge}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(o)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),oe.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(o,l)=>{const c=await n(o);if(c){const u=atob(c),d=new Array(u.length);for(let p=0;p<u.length;p++)d[p]=u.charCodeAt(p);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),m=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=m,g.download=l||`prescription_${o.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(m),oe.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async o=>{const l=await n(o);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${o.medication_name}`),!0}return!1}}},E$={active:{label:"Active",variant:"default",icon:Nr,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:Hi,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:Ll,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:Nr,color:"text-muted-foreground"}},Pj=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:a,clinicianHPCSA:i,patientDOB:o,patientIDNumber:l})=>{const c=E$[e.status]||E$.active,u=c.icon,{loading:d,downloadPDF:f}=zge(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:o,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:a,clinician_hpcsa:i,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return s.jsx(ie,{className:"hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:s.jsx(Ur,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-4 h-4 text-primary"})}),s.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),s.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),s.jsxs(Ne,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[s.jsx(u,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),s.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),s.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),s.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),s.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&s.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:s.jsxs("p",{className:"text-xs sm:text-sm",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),yt(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(mo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[s.jsxs(Q,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?s.jsx(it,{className:"w-4 h-4 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),s.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[s.jsx(Hi,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},Vge=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:a=!1})=>{const{prescriptions:i,loading:o,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=IV(),[d,f]=y.useState(!1),[h,m]=y.useState([]),[g,p]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r){p(!0);const N=await u(r);m(N.prescriptions||[]),p(!1)}else if(e){p(!0);const N=await c(e);m(N.prescriptions||[]),p(!1)}else m(i)})()},[e,r,i,c,u]);const v=async S=>{(await l(S,"cancelled")).success?oe.success("Prescription cancelled"):oe.error("Failed to cancel prescription")},b=h.filter(S=>S.status==="active"),x=h.filter(S=>S.status==="completed"),w=h.filter(S=>S.status==="cancelled"||S.status==="expired");return o||g?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2].map(S=>s.jsx(Wt,{className:"h-32 w-full"},S))})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),s.jsx(be,{children:"Prescriptions"})]}),n&&e&&t&&s.jsxs(Q,{size:"sm",onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),s.jsxs(Se,{children:[h.length," prescription(s)  ",b.length," active"]})]}),s.jsx(ce,{children:s.jsxs(Wl,{defaultValue:"active",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"active",className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Active (",b.length,")"]}),s.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Completed (",x.length,")"]}),s.jsxs(Dt,{value:"cancelled",className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),s.jsx(fr,{value:"active",className:"space-y-4",children:b.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No active prescriptions"})]}):b.map(S=>s.jsx(Pj,{prescription:S,onCancel:v,showPatient:a},S.id))}),s.jsx(fr,{value:"completed",className:"space-y-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No completed prescriptions"})]}):x.map(S=>s.jsx(Pj,{prescription:S,showPatient:a},S.id))}),s.jsx(fr,{value:"cancelled",className:"space-y-4",children:w.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Hi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(S=>s.jsx(Pj,{prescription:S,showPatient:a},S.id))})]})}),e&&t&&s.jsx(RV,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},Wge=()=>{const e=On(),[t,r]=LE(),{profile:n,role:a,signOut:i}=$r(),{queue:o,stats:l,loading:c,refetch:u}=DV(),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[g,p]=y.useState(!1),[v,b]=y.useState(!1),[x,w]=y.useState(!1),[_,S]=y.useState(null);y.useEffect(()=>{const A=t.get("notes");A&&(async()=>{try{const{data:T,error:U}=await Ee.from("appointments").select("id, patient_id").eq("id",A).single();if(U||!T){oe.error("Could not find appointment");return}const{data:I}=await Ee.from("profiles").select("first_name, last_name").eq("id",T.patient_id).single(),V=I?`${I.first_name} ${I.last_name}`.trim():"Patient";S({id:T.id,patientId:T.patient_id,patientName:V}),w(!0),r({})}catch(T){console.error("Error fetching appointment for notes:",T)}})()},[t,r]);const N=()=>{const A=o.find(T=>T.status==="in_progress");if(A){e(`/consultation?appointment=${A.id}`);return}if(o.find(T=>T.status==="confirmed")){oe.info("Select a patient from the queue below to start their consultation");return}oe.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{oe.info("Select a patient from the queue below to access their clinical notes")},P=a==="doctor"?"Doctor":"Nurse",O=a==="doctor"?"bg-primary":"bg-success";return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[s.jsx(mo,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),s.jsx(Ne,{className:`${O} text-white`,children:P}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:i,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:s.jsx(mo,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),s.jsx(Ne,{className:`${O} text-white text-xs`,children:P}),s.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?s.jsx(Os,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})]}),v&&s.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx(zhe,{stats:l,pendingNotes:0})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>m(!0),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:s.jsx(jX,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Appointments"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),a==="nurse"&&s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:s.jsx(ni,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Triage"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:N,children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:s.jsx(tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Start Call"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:s.jsx(an,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Notes"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:s.jsx(NX,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Demo"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),s.jsx(ie,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>p(!g),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:s.jsx(Ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Rx"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:s.jsx(kt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-sm sm:text-lg",children:"Availability"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&s.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:s.jsx(Vge,{showPatient:!0})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[s.jsx("div",{className:"lg:col-span-2 order-1",children:s.jsx(Ume,{})}),s.jsx("div",{className:"order-2",children:s.jsx(Vme,{todayAppointments:o})})]}),s.jsx(Yme,{open:d,onOpenChange:f}),s.jsx(Bge,{open:h,onOpenChange:m}),_&&s.jsx(BP,{open:x,onOpenChange:A=>{w(A),A||S(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{oe.success("Clinical notes saved successfully"),u()}})]})]})},My=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));My.displayName="Table";const $y=y.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));$y.displayName="TableHeader";const Iy=y.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));Iy.displayName="TableBody";const Hge=y.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Hge.displayName="TableFooter";const gc=y.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));gc.displayName="TableRow";const va=y.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));va.displayName="TableHead";const ya=y.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ya.displayName="TableCell";const qge=y.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));qge.displayName="TableCaption";const Gge="",Kge=(e=30)=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{a(!0),o(null);try{const{data:{session:c}}=await Ee.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${Gge}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),o(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{data:t,loading:n,error:i,refetch:l}},Yge=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:kn,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:kt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:tr,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Ur,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:Wc,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:qt,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>s.jsx(ie,{className:"hover:shadow-md transition-shadow",children:s.jsxs(ce,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:s.jsx(r.icon,{className:"w-4 h-4"})})}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),s.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var Jge=Array.isArray,fa=Jge,Xge=typeof Zg=="object"&&Zg&&Zg.Object===Object&&Zg,i9=Xge,Qge=i9,Zge=typeof self=="object"&&self&&self.Object===Object&&self,eve=Qge||Zge||Function("return this")(),$s=eve,tve=$s,rve=tve.Symbol,Ig=rve,P$=Ig,s9=Object.prototype,nve=s9.hasOwnProperty,ave=s9.toString,Yh=P$?P$.toStringTag:void 0;function ive(e){var t=nve.call(e,Yh),r=e[Yh];try{e[Yh]=void 0;var n=!0}catch{}var a=ave.call(e);return n&&(t?e[Yh]=r:delete e[Yh]),a}var sve=ive,ove=Object.prototype,lve=ove.toString;function cve(e){return lve.call(e)}var uve=cve,O$=Ig,dve=sve,fve=uve,hve="[object Null]",mve="[object Undefined]",A$=O$?O$.toStringTag:void 0;function pve(e){return e==null?e===void 0?mve:hve:A$&&A$ in Object(e)?dve(e):fve(e)}var Eo=pve;function gve(e){return e!=null&&typeof e=="object"}var Po=gve,vve=Eo,yve=Po,xve="[object Symbol]";function bve(e){return typeof e=="symbol"||yve(e)&&vve(e)==xve}var gh=bve,wve=fa,_ve=gh,jve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sve=/^\w*$/;function Nve(e,t){if(wve(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||_ve(e)?!0:Sve.test(e)||!jve.test(e)||t!=null&&e in Object(t)}var KP=Nve;function kve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ql=kve;const vh=Ct(ql);var Cve=Eo,Eve=ql,Pve="[object AsyncFunction]",Ove="[object Function]",Ave="[object GeneratorFunction]",Tve="[object Proxy]";function Mve(e){if(!Eve(e))return!1;var t=Cve(e);return t==Ove||t==Ave||t==Pve||t==Tve}var YP=Mve;const We=Ct(YP);var $ve=$s,Ive=$ve["__core-js_shared__"],Rve=Ive,Oj=Rve,T$=function(){var e=/[^.]+$/.exec(Oj&&Oj.keys&&Oj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Dve(e){return!!T$&&T$ in e}var Lve=Dve,Fve=Function.prototype,Bve=Fve.toString;function Uve(e){if(e!=null){try{return Bve.call(e)}catch{}try{return e+""}catch{}}return""}var o9=Uve,zve=YP,Vve=Lve,Wve=ql,Hve=o9,qve=/[\\^$.*+?()[\]{}|]/g,Gve=/^\[object .+?Constructor\]$/,Kve=Function.prototype,Yve=Object.prototype,Jve=Kve.toString,Xve=Yve.hasOwnProperty,Qve=RegExp("^"+Jve.call(Xve).replace(qve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zve(e){if(!Wve(e)||Vve(e))return!1;var t=zve(e)?Qve:Gve;return t.test(Hve(e))}var eye=Zve;function tye(e,t){return e==null?void 0:e[t]}var rye=tye,nye=eye,aye=rye;function iye(e,t){var r=aye(e,t);return nye(r)?r:void 0}var Eu=iye,sye=Eu,oye=sye(Object,"create"),cw=oye,M$=cw;function lye(){this.__data__=M$?M$(null):{},this.size=0}var cye=lye;function uye(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dye=uye,fye=cw,hye="__lodash_hash_undefined__",mye=Object.prototype,pye=mye.hasOwnProperty;function gye(e){var t=this.__data__;if(fye){var r=t[e];return r===hye?void 0:r}return pye.call(t,e)?t[e]:void 0}var vye=gye,yye=cw,xye=Object.prototype,bye=xye.hasOwnProperty;function wye(e){var t=this.__data__;return yye?t[e]!==void 0:bye.call(t,e)}var _ye=wye,jye=cw,Sye="__lodash_hash_undefined__";function Nye(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=jye&&t===void 0?Sye:t,this}var kye=Nye,Cye=cye,Eye=dye,Pye=vye,Oye=_ye,Aye=kye;function yh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yh.prototype.clear=Cye;yh.prototype.delete=Eye;yh.prototype.get=Pye;yh.prototype.has=Oye;yh.prototype.set=Aye;var Tye=yh;function Mye(){this.__data__=[],this.size=0}var $ye=Mye;function Iye(e,t){return e===t||e!==e&&t!==t}var JP=Iye,Rye=JP;function Dye(e,t){for(var r=e.length;r--;)if(Rye(e[r][0],t))return r;return-1}var uw=Dye,Lye=uw,Fye=Array.prototype,Bye=Fye.splice;function Uye(e){var t=this.__data__,r=Lye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Bye.call(t,r,1),--this.size,!0}var zye=Uye,Vye=uw;function Wye(e){var t=this.__data__,r=Vye(t,e);return r<0?void 0:t[r][1]}var Hye=Wye,qye=uw;function Gye(e){return qye(this.__data__,e)>-1}var Kye=Gye,Yye=uw;function Jye(e,t){var r=this.__data__,n=Yye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Xye=Jye,Qye=$ye,Zye=zye,exe=Hye,txe=Kye,rxe=Xye;function xh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xh.prototype.clear=Qye;xh.prototype.delete=Zye;xh.prototype.get=exe;xh.prototype.has=txe;xh.prototype.set=rxe;var dw=xh,nxe=Eu,axe=$s,ixe=nxe(axe,"Map"),XP=ixe,$$=Tye,sxe=dw,oxe=XP;function lxe(){this.size=0,this.__data__={hash:new $$,map:new(oxe||sxe),string:new $$}}var cxe=lxe;function uxe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dxe=uxe,fxe=dxe;function hxe(e,t){var r=e.__data__;return fxe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var fw=hxe,mxe=fw;function pxe(e){var t=mxe(this,e).delete(e);return this.size-=t?1:0,t}var gxe=pxe,vxe=fw;function yxe(e){return vxe(this,e).get(e)}var xxe=yxe,bxe=fw;function wxe(e){return bxe(this,e).has(e)}var _xe=wxe,jxe=fw;function Sxe(e,t){var r=jxe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Nxe=Sxe,kxe=cxe,Cxe=gxe,Exe=xxe,Pxe=_xe,Oxe=Nxe;function bh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bh.prototype.clear=kxe;bh.prototype.delete=Cxe;bh.prototype.get=Exe;bh.prototype.has=Pxe;bh.prototype.set=Oxe;var QP=bh,l9=QP,Axe="Expected a function";function ZP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Axe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(ZP.Cache||l9),r}ZP.Cache=l9;var c9=ZP;const Txe=Ct(c9);var Mxe=c9,$xe=500;function Ixe(e){var t=Mxe(e,function(n){return r.size===$xe&&r.clear(),n}),r=t.cache;return t}var Rxe=Ixe,Dxe=Rxe,Lxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fxe=/\\(\\)?/g,Bxe=Dxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Lxe,function(r,n,a,i){t.push(a?i.replace(Fxe,"$1"):n||r)}),t}),Uxe=Bxe;function zxe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var eO=zxe,I$=Ig,Vxe=eO,Wxe=fa,Hxe=gh,R$=I$?I$.prototype:void 0,D$=R$?R$.toString:void 0;function u9(e){if(typeof e=="string")return e;if(Wxe(e))return Vxe(e,u9)+"";if(Hxe(e))return D$?D$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qxe=u9,Gxe=qxe;function Kxe(e){return e==null?"":Gxe(e)}var d9=Kxe,Yxe=fa,Jxe=KP,Xxe=Uxe,Qxe=d9;function Zxe(e,t){return Yxe(e)?e:Jxe(e,t)?[e]:Xxe(Qxe(e))}var f9=Zxe,ebe=gh;function tbe(e){if(typeof e=="string"||ebe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var hw=tbe,rbe=f9,nbe=hw;function abe(e,t){t=rbe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nbe(t[r++])];return r&&r==n?e:void 0}var tO=abe,ibe=tO;function sbe(e,t,r){var n=e==null?void 0:ibe(e,t);return n===void 0?r:n}var h9=sbe;const Ia=Ct(h9);function obe(e){return e==null}var lbe=obe;const et=Ct(lbe);var cbe=Eo,ube=fa,dbe=Po,fbe="[object String]";function hbe(e){return typeof e=="string"||!ube(e)&&dbe(e)&&cbe(e)==fbe}var mbe=hbe;const uu=Ct(mbe);var m9={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO=Symbol.for("react.element"),nO=Symbol.for("react.portal"),mw=Symbol.for("react.fragment"),pw=Symbol.for("react.strict_mode"),gw=Symbol.for("react.profiler"),vw=Symbol.for("react.provider"),yw=Symbol.for("react.context"),pbe=Symbol.for("react.server_context"),xw=Symbol.for("react.forward_ref"),bw=Symbol.for("react.suspense"),ww=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),jw=Symbol.for("react.lazy"),gbe=Symbol.for("react.offscreen"),p9;p9=Symbol.for("react.module.reference");function fi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rO:switch(e=e.type,e){case mw:case gw:case pw:case bw:case ww:return e;default:switch(e=e&&e.$$typeof,e){case pbe:case yw:case xw:case jw:case _w:case vw:return e;default:return t}}case nO:return t}}}At.ContextConsumer=yw;At.ContextProvider=vw;At.Element=rO;At.ForwardRef=xw;At.Fragment=mw;At.Lazy=jw;At.Memo=_w;At.Portal=nO;At.Profiler=gw;At.StrictMode=pw;At.Suspense=bw;At.SuspenseList=ww;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(e){return fi(e)===yw};At.isContextProvider=function(e){return fi(e)===vw};At.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rO};At.isForwardRef=function(e){return fi(e)===xw};At.isFragment=function(e){return fi(e)===mw};At.isLazy=function(e){return fi(e)===jw};At.isMemo=function(e){return fi(e)===_w};At.isPortal=function(e){return fi(e)===nO};At.isProfiler=function(e){return fi(e)===gw};At.isStrictMode=function(e){return fi(e)===pw};At.isSuspense=function(e){return fi(e)===bw};At.isSuspenseList=function(e){return fi(e)===ww};At.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===mw||e===gw||e===pw||e===bw||e===ww||e===gbe||typeof e=="object"&&e!==null&&(e.$$typeof===jw||e.$$typeof===_w||e.$$typeof===vw||e.$$typeof===yw||e.$$typeof===xw||e.$$typeof===p9||e.getModuleId!==void 0)};At.typeOf=fi;m9.exports=At;var vbe=m9.exports,ybe=Eo,xbe=Po,bbe="[object Number]";function wbe(e){return typeof e=="number"||xbe(e)&&ybe(e)==bbe}var g9=wbe;const _be=Ct(g9);var jbe=g9;function Sbe(e){return jbe(e)&&e!=+e}var Nbe=Sbe;const wh=Ct(Nbe);var Bn=function(t){return t===0?0:t>0?1:-1},Pc=function(t){return uu(t)&&t.indexOf("%")===t.length-1},pe=function(t){return _be(t)&&!wh(t)},kbe=function(t){return et(t)},Vr=function(t){return pe(t)||uu(t)},Cbe=0,Pu=function(t){var r=++Cbe;return"".concat(t||"").concat(r)},Un=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!uu(t))return n;var i;if(Pc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wh(i)&&(i=n),a&&i>r&&(i=r),i},Zo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Ebe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Br=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Vx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ia(n,t))===r})}var Pbe=function(t,r){return pe(t)&&pe(r)?t-r:uu(t)&&uu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Vd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function vN(e){"@babel/helpers - typeof";return vN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vN(e)}var Obe=["viewBox","children"],Abe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],L$=["points","pathLength"],Aj={svg:Obe,polygon:L$,polyline:L$},aO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Wx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!vh(n))return null;var a={};return Object.keys(n).forEach(function(i){aO.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Tbe=function(t,r,n){return function(a){return t(r,n,a),null}},du=function(t,r,n){if(!vh(t)||vN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];aO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Tbe(o,r,n))}),a},Mbe=["children"],$be=["children"];function F$(e,t){if(e==null)return{};var r=Ibe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ibe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yN(e){"@babel/helpers - typeof";return yN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yN(e)}var B$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},io=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},U$=null,Tj=null,iO=function e(t){if(t===U$&&Array.isArray(Tj))return Tj;var r=[];return y.Children.forEach(t,function(n){et(n)||(vbe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Tj=r,U$=t,r};function Ra(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return io(a)}):n=[io(t)],iO(e).forEach(function(a){var i=Ia(a,"type.displayName")||Ia(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function _a(e,t){var r=Ra(e,t);return r&&r[0]}var z$=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},Rbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Dbe=function(t){return t&&t.type&&uu(t.type)&&Rbe.indexOf(t.type)>=0},v9=function(t){return t&&yN(t)==="object"&&"clipDot"in t},Lbe=function(t,r,n,a){var i,o=(i=Aj==null?void 0:Aj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(a&&o.includes(r)||Abe.includes(r))||n&&aO.includes(r)},De=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!vh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Lbe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},xN=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return V$(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!V$(i,o))return!1}return!0},V$=function(t,r){if(et(t)&&et(r))return!0;if(!et(t)&&!et(r)){var n=t.props||{},a=n.children,i=F$(n,Mbe),o=r.props||{},l=o.children,c=F$(o,$be);return a&&l?Vd(i,c)&&xN(a,l):!a&&!l?Vd(i,c):!1}return!1},W$=function(t,r){var n=[],a={};return iO(t).forEach(function(i,o){if(Dbe(i))n.push(i);else if(i){var l=io(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},Fbe=function(t){var r=t&&t.type;return r&&B$[r]?B$[r]:null},Bbe=function(t,r){return iO(r).indexOf(t)},Ube=["children","width","height","viewBox","className","style","title","desc"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function zbe(e,t){if(e==null)return{};var r=Vbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=zbe(e,Ube),d=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",i);return M.createElement("svg",bN({},De(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var Wbe=["children","className"];function _N(){return _N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_N.apply(this,arguments)}function Hbe(e,t){if(e==null)return{};var r=qbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=Hbe(e,Wbe),i=tt("recharts-layer",n);return M.createElement("g",_N({className:i},De(a,!0),{ref:t}),r)}),Ui=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Gbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Kbe=Gbe,Ybe=Kbe;function Jbe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ybe(e,t,r)}var Xbe=Jbe,Qbe="\\ud800-\\udfff",Zbe="\\u0300-\\u036f",e0e="\\ufe20-\\ufe2f",t0e="\\u20d0-\\u20ff",r0e=Zbe+e0e+t0e,n0e="\\ufe0e\\ufe0f",a0e="\\u200d",i0e=RegExp("["+a0e+Qbe+r0e+n0e+"]");function s0e(e){return i0e.test(e)}var y9=s0e;function o0e(e){return e.split("")}var l0e=o0e,x9="\\ud800-\\udfff",c0e="\\u0300-\\u036f",u0e="\\ufe20-\\ufe2f",d0e="\\u20d0-\\u20ff",f0e=c0e+u0e+d0e,h0e="\\ufe0e\\ufe0f",m0e="["+x9+"]",jN="["+f0e+"]",SN="\\ud83c[\\udffb-\\udfff]",p0e="(?:"+jN+"|"+SN+")",b9="[^"+x9+"]",w9="(?:\\ud83c[\\udde6-\\uddff]){2}",_9="[\\ud800-\\udbff][\\udc00-\\udfff]",g0e="\\u200d",j9=p0e+"?",S9="["+h0e+"]?",v0e="(?:"+g0e+"(?:"+[b9,w9,_9].join("|")+")"+S9+j9+")*",y0e=S9+j9+v0e,x0e="(?:"+[b9+jN+"?",jN,w9,_9,m0e].join("|")+")",b0e=RegExp(SN+"(?="+SN+")|"+x0e+y0e,"g");function w0e(e){return e.match(b0e)||[]}var _0e=w0e,j0e=l0e,S0e=y9,N0e=_0e;function k0e(e){return S0e(e)?N0e(e):j0e(e)}var C0e=k0e,E0e=Xbe,P0e=y9,O0e=C0e,A0e=d9;function T0e(e){return function(t){t=A0e(t);var r=P0e(t)?O0e(t):void 0,n=r?r[0]:t.charAt(0),a=r?E0e(r,1).join(""):t.slice(1);return n[e]()+a}}var M0e=T0e,$0e=M0e,I0e=$0e("toUpperCase"),R0e=I0e;const Sw=Ct(R0e);function zt(e){return function(){return e}}const N9=Math.cos,Hx=Math.sin,es=Math.sqrt,qx=Math.PI,Nw=2*qx,NN=Math.PI,kN=2*NN,vc=1e-6,D0e=kN-vc;function k9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function L0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class F0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k9:L0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vc)if(!(Math.abs(f*c-u*d)>vc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=i*Math.tan((NN-Math.acos((p+h-v)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>vc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>vc||Math.abs(this._y1-d)>vc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%kN+kN),h>D0e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>vc&&this._append`A${n},${n},0,${+(h>=NN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function sO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new F0e(t)}function oO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C9(e){this._context=e}C9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function kw(e){return new C9(e)}function E9(e){return e[0]}function P9(e){return e[1]}function O9(e,t){var r=zt(!0),n=null,a=kw,i=null,o=sO(l);e=typeof e=="function"?e:e===void 0?E9:zt(e),t=typeof t=="function"?t:t===void 0?P9:zt(t);function l(c){var u,d=(c=oO(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Mv(e,t,r){var n=null,a=zt(!0),i=null,o=kw,l=null,c=sO(u);e=typeof e=="function"?e:e===void 0?E9:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P9:zt(+r);function u(f){var h,m,g,p=(f=oO(f)).length,v,b=!1,x,w=new Array(p),_=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return O9().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:zt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class A9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function B0e(e){return new A9(e,!0)}function U0e(e){return new A9(e,!1)}const lO={draw(e,t){const r=es(t/qx);e.moveTo(r,0),e.arc(0,0,r,0,Nw)}},z0e={draw(e,t){const r=es(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},T9=es(1/3),V0e=T9*2,W0e={draw(e,t){const r=es(t/V0e),n=r*T9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},H0e={draw(e,t){const r=es(t),n=-r/2;e.rect(n,n,r,r)}},q0e=.8908130915292852,M9=Hx(qx/10)/Hx(7*qx/10),G0e=Hx(Nw/10)*M9,K0e=-N9(Nw/10)*M9,Y0e={draw(e,t){const r=es(t*q0e),n=G0e*r,a=K0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Nw*i/5,l=N9(o),c=Hx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Mj=es(3),J0e={draw(e,t){const r=-es(t/(Mj*3));e.moveTo(0,r*2),e.lineTo(-Mj*r,-r),e.lineTo(Mj*r,-r),e.closePath()}},Ha=-.5,qa=es(3)/2,CN=1/es(12),X0e=(CN/2+1)*3,Q0e={draw(e,t){const r=es(t/X0e),n=r/2,a=r*CN,i=n,o=r*CN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ha*n-qa*a,qa*n+Ha*a),e.lineTo(Ha*i-qa*o,qa*i+Ha*o),e.lineTo(Ha*l-qa*c,qa*l+Ha*c),e.lineTo(Ha*n+qa*a,Ha*a-qa*n),e.lineTo(Ha*i+qa*o,Ha*o-qa*i),e.lineTo(Ha*l+qa*c,Ha*c-qa*l),e.closePath()}};function Z0e(e,t){let r=null,n=sO(a);e=typeof e=="function"?e:zt(e||lO),t=typeof t=="function"?t:zt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Gx(){}function Kx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $9(e){this._context=e}$9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ewe(e){return new $9(e)}function I9(e){this._context=e}I9.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function twe(e){return new I9(e)}function R9(e){this._context=e}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rwe(e){return new R9(e)}function D9(e){this._context=e}D9.prototype={areaStart:Gx,areaEnd:Gx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nwe(e){return new D9(e)}function H$(e){return e<0?-1:1}function q$(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(H$(i)+H$(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function G$(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $j(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Yx(e){this._context=e}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$j(this,this._t0,G$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$j(this,G$(this,r=q$(this,e,t)),r);break;default:$j(this,this._t0,r=q$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L9(e){this._context=new F9(e)}(L9.prototype=Object.create(Yx.prototype)).point=function(e,t){Yx.prototype.point.call(this,t,e)};function F9(e){this._context=e}F9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function awe(e){return new Yx(e)}function iwe(e){return new L9(e)}function B9(e){this._context=e}B9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=K$(e),a=K$(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function K$(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function swe(e){return new B9(e)}function Cw(e,t){this._context=e,this._t=t}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function owe(e){return new Cw(e,.5)}function lwe(e){return new Cw(e,0)}function cwe(e){return new Cw(e,1)}function Sf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function EN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uwe(e,t){return e[t]}function dwe(e){const t=[];return t.key=e,t}function fwe(){var e=zt([]),t=EN,r=Sf,n=uwe;function a(i){var o=Array.from(e.apply(this,arguments),dwe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=oO(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?EN:typeof i=="function"?i:zt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Sf,a):r},a}function hwe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Sf(e,t)}}function mwe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sf(e,t)}}function pwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Sf(e,t)}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}var gwe=["type","size","sizeType"];function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(this,arguments)}function Y$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y$(Object(r),!0).forEach(function(n){vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vwe(e,t,r){return t=ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ywe(e){var t=xwe(e,"string");return Cp(t)=="symbol"?t:t+""}function xwe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwe(e,t){if(e==null)return{};var r=wwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var U9={symbolCircle:lO,symbolCross:z0e,symbolDiamond:W0e,symbolSquare:H0e,symbolStar:Y0e,symbolTriangle:J0e,symbolWye:Q0e},_we=Math.PI/180,jwe=function(t){var r="symbol".concat(Sw(t));return U9[r]||lO},Swe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*_we;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Nwe=function(t,r){U9["symbol".concat(Sw(t))]=r},cO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=bwe(t,gwe),u=J$(J$({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=jwe(n),b=Z0e().type(v).size(Swe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=De(u,!0);return h===+h&&m===+m&&i===+i?M.createElement("path",PN({},g,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};cO.registerSymbol=Nwe;function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(this,arguments)}function X$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kwe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X$(Object(r),!0).forEach(function(n){Ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V9(n.key),n)}}function Pwe(e,t,r){return t&&Ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Owe(e,t,r){return t=Jx(t),Awe(e,z9()?Reflect.construct(t,r||[],Jx(e).constructor):t.apply(e,r))}function Awe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twe(e)}function Twe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!e})()}function Jx(e){return Jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jx(e)}function Mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AN(e,t)}function AN(e,t){return AN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},AN(e,t)}function Ep(e,t,r){return t=V9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=$we(e,"string");return Nf(t)=="symbol"?t:t+""}function $we(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ga=32,uO=function(e){function t(){return Cwe(this,t),Owe(this,t,arguments)}return Mwe(t,e),Pwe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ga/2,o=Ga/6,l=Ga/3,c=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ga,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=kwe({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(cO,{fill:c,cx:i,cy:i,size:Ga,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ga,height:Ga},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=tt(Ep(Ep({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=We(m.value)?null:m.value;Ui(!We(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return M.createElement("li",ON({className:v,style:f,key:"legend-item-".concat(g)},du(n.props,m,g)),M.createElement(wN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Ep(uO,"displayName","Legend");Ep(uO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Iwe=dw;function Rwe(){this.__data__=new Iwe,this.size=0}var Dwe=Rwe;function Lwe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Fwe=Lwe;function Bwe(e){return this.__data__.get(e)}var Uwe=Bwe;function zwe(e){return this.__data__.has(e)}var Vwe=zwe,Wwe=dw,Hwe=XP,qwe=QP,Gwe=200;function Kwe(e,t){var r=this.__data__;if(r instanceof Wwe){var n=r.__data__;if(!Hwe||n.length<Gwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qwe(n)}return r.set(e,t),this.size=r.size,this}var Ywe=Kwe,Jwe=dw,Xwe=Dwe,Qwe=Fwe,Zwe=Uwe,e_e=Vwe,t_e=Ywe;function _h(e){var t=this.__data__=new Jwe(e);this.size=t.size}_h.prototype.clear=Xwe;_h.prototype.delete=Qwe;_h.prototype.get=Zwe;_h.prototype.has=e_e;_h.prototype.set=t_e;var W9=_h,r_e="__lodash_hash_undefined__";function n_e(e){return this.__data__.set(e,r_e),this}var a_e=n_e;function i_e(e){return this.__data__.has(e)}var s_e=i_e,o_e=QP,l_e=a_e,c_e=s_e;function Xx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new o_e;++t<r;)this.add(e[t])}Xx.prototype.add=Xx.prototype.push=l_e;Xx.prototype.has=c_e;var H9=Xx;function u_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var q9=u_e;function d_e(e,t){return e.has(t)}var G9=d_e,f_e=H9,h_e=q9,m_e=G9,p_e=1,g_e=2;function v_e(e,t,r,n,a,i){var o=r&p_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&g_e?new f_e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!h_e(t,function(b,x){if(!m_e(m,x)&&(g===b||a(g,b,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var K9=v_e,y_e=$s,x_e=y_e.Uint8Array,b_e=x_e;function w_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var __e=w_e;function j_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var dO=j_e,Q$=Ig,Z$=b_e,S_e=JP,N_e=K9,k_e=__e,C_e=dO,E_e=1,P_e=2,O_e="[object Boolean]",A_e="[object Date]",T_e="[object Error]",M_e="[object Map]",$_e="[object Number]",I_e="[object RegExp]",R_e="[object Set]",D_e="[object String]",L_e="[object Symbol]",F_e="[object ArrayBuffer]",B_e="[object DataView]",eI=Q$?Q$.prototype:void 0,Ij=eI?eI.valueOf:void 0;function U_e(e,t,r,n,a,i,o){switch(r){case B_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F_e:return!(e.byteLength!=t.byteLength||!i(new Z$(e),new Z$(t)));case O_e:case A_e:case $_e:return S_e(+e,+t);case T_e:return e.name==t.name&&e.message==t.message;case I_e:case D_e:return e==t+"";case M_e:var l=k_e;case R_e:var c=n&E_e;if(l||(l=C_e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=P_e,o.set(e,t);var d=N_e(l(e),l(t),n,a,i,o);return o.delete(e),d;case L_e:if(Ij)return Ij.call(e)==Ij.call(t)}return!1}var z_e=U_e;function V_e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Y9=V_e,W_e=Y9,H_e=fa;function q_e(e,t,r){var n=t(e);return H_e(e)?n:W_e(n,r(e))}var G_e=q_e;function K_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Y_e=K_e;function J_e(){return[]}var X_e=J_e,Q_e=Y_e,Z_e=X_e,eje=Object.prototype,tje=eje.propertyIsEnumerable,tI=Object.getOwnPropertySymbols,rje=tI?function(e){return e==null?[]:(e=Object(e),Q_e(tI(e),function(t){return tje.call(e,t)}))}:Z_e,nje=rje;function aje(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ije=aje,sje=Eo,oje=Po,lje="[object Arguments]";function cje(e){return oje(e)&&sje(e)==lje}var uje=cje,rI=uje,dje=Po,J9=Object.prototype,fje=J9.hasOwnProperty,hje=J9.propertyIsEnumerable,mje=rI(function(){return arguments}())?rI:function(e){return dje(e)&&fje.call(e,"callee")&&!hje.call(e,"callee")},fO=mje,Qx={exports:{}};function pje(){return!1}var gje=pje;Qx.exports;(function(e,t){var r=$s,n=gje,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Qx,Qx.exports);var X9=Qx.exports,vje=9007199254740991,yje=/^(?:0|[1-9]\d*)$/;function xje(e,t){var r=typeof e;return t=t??vje,!!t&&(r=="number"||r!="symbol"&&yje.test(e))&&e>-1&&e%1==0&&e<t}var hO=xje,bje=9007199254740991;function wje(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bje}var mO=wje,_je=Eo,jje=mO,Sje=Po,Nje="[object Arguments]",kje="[object Array]",Cje="[object Boolean]",Eje="[object Date]",Pje="[object Error]",Oje="[object Function]",Aje="[object Map]",Tje="[object Number]",Mje="[object Object]",$je="[object RegExp]",Ije="[object Set]",Rje="[object String]",Dje="[object WeakMap]",Lje="[object ArrayBuffer]",Fje="[object DataView]",Bje="[object Float32Array]",Uje="[object Float64Array]",zje="[object Int8Array]",Vje="[object Int16Array]",Wje="[object Int32Array]",Hje="[object Uint8Array]",qje="[object Uint8ClampedArray]",Gje="[object Uint16Array]",Kje="[object Uint32Array]",Jt={};Jt[Bje]=Jt[Uje]=Jt[zje]=Jt[Vje]=Jt[Wje]=Jt[Hje]=Jt[qje]=Jt[Gje]=Jt[Kje]=!0;Jt[Nje]=Jt[kje]=Jt[Lje]=Jt[Cje]=Jt[Fje]=Jt[Eje]=Jt[Pje]=Jt[Oje]=Jt[Aje]=Jt[Tje]=Jt[Mje]=Jt[$je]=Jt[Ije]=Jt[Rje]=Jt[Dje]=!1;function Yje(e){return Sje(e)&&jje(e.length)&&!!Jt[_je(e)]}var Jje=Yje;function Xje(e){return function(t){return e(t)}}var Q9=Xje,Zx={exports:{}};Zx.exports;(function(e,t){var r=i9,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Zx,Zx.exports);var Qje=Zx.exports,Zje=Jje,e1e=Q9,nI=Qje,aI=nI&&nI.isTypedArray,t1e=aI?e1e(aI):Zje,Z9=t1e,r1e=ije,n1e=fO,a1e=fa,i1e=X9,s1e=hO,o1e=Z9,l1e=Object.prototype,c1e=l1e.hasOwnProperty;function u1e(e,t){var r=a1e(e),n=!r&&n1e(e),a=!r&&!n&&i1e(e),i=!r&&!n&&!a&&o1e(e),o=r||n||a||i,l=o?r1e(e.length,String):[],c=l.length;for(var u in e)(t||c1e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||s1e(u,c)))&&l.push(u);return l}var d1e=u1e,f1e=Object.prototype;function h1e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||f1e;return e===r}var m1e=h1e;function p1e(e,t){return function(r){return e(t(r))}}var eH=p1e,g1e=eH,v1e=g1e(Object.keys,Object),y1e=v1e,x1e=m1e,b1e=y1e,w1e=Object.prototype,_1e=w1e.hasOwnProperty;function j1e(e){if(!x1e(e))return b1e(e);var t=[];for(var r in Object(e))_1e.call(e,r)&&r!="constructor"&&t.push(r);return t}var S1e=j1e,N1e=YP,k1e=mO;function C1e(e){return e!=null&&k1e(e.length)&&!N1e(e)}var Rg=C1e,E1e=d1e,P1e=S1e,O1e=Rg;function A1e(e){return O1e(e)?E1e(e):P1e(e)}var Ew=A1e,T1e=G_e,M1e=nje,$1e=Ew;function I1e(e){return T1e(e,$1e,M1e)}var R1e=I1e,iI=R1e,D1e=1,L1e=Object.prototype,F1e=L1e.hasOwnProperty;function B1e(e,t,r,n,a,i){var o=r&D1e,l=iI(e),c=l.length,u=iI(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:F1e.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var U1e=B1e,z1e=Eu,V1e=$s,W1e=z1e(V1e,"DataView"),H1e=W1e,q1e=Eu,G1e=$s,K1e=q1e(G1e,"Promise"),Y1e=K1e,J1e=Eu,X1e=$s,Q1e=J1e(X1e,"Set"),tH=Q1e,Z1e=Eu,eSe=$s,tSe=Z1e(eSe,"WeakMap"),rSe=tSe,TN=H1e,MN=XP,$N=Y1e,IN=tH,RN=rSe,rH=Eo,jh=o9,sI="[object Map]",nSe="[object Object]",oI="[object Promise]",lI="[object Set]",cI="[object WeakMap]",uI="[object DataView]",aSe=jh(TN),iSe=jh(MN),sSe=jh($N),oSe=jh(IN),lSe=jh(RN),yc=rH;(TN&&yc(new TN(new ArrayBuffer(1)))!=uI||MN&&yc(new MN)!=sI||$N&&yc($N.resolve())!=oI||IN&&yc(new IN)!=lI||RN&&yc(new RN)!=cI)&&(yc=function(e){var t=rH(e),r=t==nSe?e.constructor:void 0,n=r?jh(r):"";if(n)switch(n){case aSe:return uI;case iSe:return sI;case sSe:return oI;case oSe:return lI;case lSe:return cI}return t});var cSe=yc,Rj=W9,uSe=K9,dSe=z_e,fSe=U1e,dI=cSe,fI=fa,hI=X9,hSe=Z9,mSe=1,mI="[object Arguments]",pI="[object Array]",$v="[object Object]",pSe=Object.prototype,gI=pSe.hasOwnProperty;function gSe(e,t,r,n,a,i){var o=fI(e),l=fI(t),c=o?pI:dI(e),u=l?pI:dI(t);c=c==mI?$v:c,u=u==mI?$v:u;var d=c==$v,f=u==$v,h=c==u;if(h&&hI(e)){if(!hI(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Rj),o||hSe(e)?uSe(e,t,r,n,a,i):dSe(e,t,c,r,n,a,i);if(!(r&mSe)){var m=d&&gI.call(e,"__wrapped__"),g=f&&gI.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new Rj),a(p,v,r,n,i)}}return h?(i||(i=new Rj),fSe(e,t,r,n,a,i)):!1}var vSe=gSe,ySe=vSe,vI=Po;function nH(e,t,r,n,a){return e===t?!0:e==null||t==null||!vI(e)&&!vI(t)?e!==e&&t!==t:ySe(e,t,r,n,nH,a)}var pO=nH,xSe=W9,bSe=pO,wSe=1,_Se=2;function jSe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new xSe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?bSe(d,u,wSe|_Se,n,f):h))return!1}}return!0}var SSe=jSe,NSe=ql;function kSe(e){return e===e&&!NSe(e)}var aH=kSe,CSe=aH,ESe=Ew;function PSe(e){for(var t=ESe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,CSe(a)]}return t}var OSe=PSe;function ASe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var iH=ASe,TSe=SSe,MSe=OSe,$Se=iH;function ISe(e){var t=MSe(e);return t.length==1&&t[0][2]?$Se(t[0][0],t[0][1]):function(r){return r===e||TSe(r,e,t)}}var RSe=ISe;function DSe(e,t){return e!=null&&t in Object(e)}var LSe=DSe,FSe=f9,BSe=fO,USe=fa,zSe=hO,VSe=mO,WSe=hw;function HSe(e,t,r){t=FSe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=WSe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&VSe(a)&&zSe(o,a)&&(USe(e)||BSe(e)))}var qSe=HSe,GSe=LSe,KSe=qSe;function YSe(e,t){return e!=null&&KSe(e,t,GSe)}var JSe=YSe,XSe=pO,QSe=h9,ZSe=JSe,eNe=KP,tNe=aH,rNe=iH,nNe=hw,aNe=1,iNe=2;function sNe(e,t){return eNe(e)&&tNe(t)?rNe(nNe(e),t):function(r){var n=QSe(r,e);return n===void 0&&n===t?ZSe(r,e):XSe(t,n,aNe|iNe)}}var oNe=sNe;function lNe(e){return e}var Sh=lNe;function cNe(e){return function(t){return t==null?void 0:t[e]}}var uNe=cNe,dNe=tO;function fNe(e){return function(t){return dNe(t,e)}}var hNe=fNe,mNe=uNe,pNe=hNe,gNe=KP,vNe=hw;function yNe(e){return gNe(e)?mNe(vNe(e)):pNe(e)}var xNe=yNe,bNe=RSe,wNe=oNe,_Ne=Sh,jNe=fa,SNe=xNe;function NNe(e){return typeof e=="function"?e:e==null?_Ne:typeof e=="object"?jNe(e)?wNe(e[0],e[1]):bNe(e):SNe(e)}var Is=NNe;function kNe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var sH=kNe;function CNe(e){return e!==e}var ENe=CNe;function PNe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var ONe=PNe,ANe=sH,TNe=ENe,MNe=ONe;function $Ne(e,t,r){return t===t?MNe(e,t,r):ANe(e,TNe,r)}var INe=$Ne,RNe=INe;function DNe(e,t){var r=e==null?0:e.length;return!!r&&RNe(e,t,0)>-1}var LNe=DNe;function FNe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var BNe=FNe;function UNe(){}var zNe=UNe,Dj=tH,VNe=zNe,WNe=dO,HNe=1/0,qNe=Dj&&1/WNe(new Dj([,-0]))[1]==HNe?function(e){return new Dj(e)}:VNe,GNe=qNe,KNe=H9,YNe=LNe,JNe=BNe,XNe=G9,QNe=GNe,ZNe=dO,eke=200;function tke(e,t,r){var n=-1,a=YNe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=JNe;else if(i>=eke){var u=t?null:QNe(e);if(u)return ZNe(u);o=!1,a=XNe,c=new KNe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var rke=tke,nke=Is,ake=rke;function ike(e,t){return e&&e.length?ake(e,nke(t)):[]}var ske=ike;const yI=Ct(ske);function oH(e,t,r){return t===!0?yI(e,r):We(t)?yI(e,t):e}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}var oke=["ref"];function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){Pw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cH(n.key),n)}}function cke(e,t,r){return t&&bI(e.prototype,t),r&&bI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uke(e,t,r){return t=eb(t),dke(e,lH()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function dke(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fke(e)}function fke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lH=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function hke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DN(e,t)}function Pw(e,t,r){return t=cH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cH(e){var t=mke(e,"string");return kf(t)=="symbol"?t:t+""}function mke(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pke(e,t){if(e==null)return{};var r=gke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vke(e){return e.value}function yke(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=pke(t,oke);return M.createElement(uO,r)}var wI=1,so=function(e){function t(){var r;lke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uke(this,t,[].concat(a)),Pw(r,"lastBoundingBox",{width:-1,height:-1}),r}return hke(t,e),cke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>wI||Math.abs(a.height-this.lastBoundingBox.height)>wI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bs(Bs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Bs(Bs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},yke(i,Bs(Bs({},this.props),{},{payload:oH(d,u,vke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Bs(Bs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);Pw(so,"displayName","Legend");Pw(so,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _I=Ig,xke=fO,bke=fa,jI=_I?_I.isConcatSpreadable:void 0;function wke(e){return bke(e)||xke(e)||!!(jI&&e&&e[jI])}var _ke=wke,jke=Y9,Ske=_ke;function uH(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=Ske),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?uH(l,t-1,r,n,a):jke(a,l):n||(a[a.length]=l)}return a}var dH=uH;function Nke(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var kke=Nke,Cke=kke,Eke=Cke(),Pke=Eke,Oke=Pke,Ake=Ew;function Tke(e,t){return e&&Oke(e,t,Ake)}var fH=Tke,Mke=Rg;function $ke(e,t){return function(r,n){if(r==null)return r;if(!Mke(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Ike=$ke,Rke=fH,Dke=Ike,Lke=Dke(Rke),gO=Lke,Fke=gO,Bke=Rg;function Uke(e,t){var r=-1,n=Bke(e)?Array(e.length):[];return Fke(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var hH=Uke;function zke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Vke=zke,SI=gh;function Wke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=SI(e),o=t!==void 0,l=t===null,c=t===t,u=SI(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Hke=Wke,qke=Hke;function Gke(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=qke(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Kke=Gke,Lj=eO,Yke=tO,Jke=Is,Xke=hH,Qke=Vke,Zke=Q9,eCe=Kke,tCe=Sh,rCe=fa;function nCe(e,t,r){t.length?t=Lj(t,function(i){return rCe(i)?function(o){return Yke(o,i.length===1?i[0]:i)}:i}):t=[tCe];var n=-1;t=Lj(t,Zke(Jke));var a=Xke(e,function(i,o,l){var c=Lj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Qke(a,function(i,o){return eCe(i,o,r)})}var aCe=nCe;function iCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var sCe=iCe,oCe=sCe,NI=Math.max;function lCe(e,t,r){return t=NI(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=NI(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),oCe(e,this,l)}}var cCe=lCe;function uCe(e){return function(){return e}}var dCe=uCe,fCe=Eu,hCe=function(){try{var e=fCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mH=hCe,mCe=dCe,kI=mH,pCe=Sh,gCe=kI?function(e,t){return kI(e,"toString",{configurable:!0,enumerable:!1,value:mCe(t),writable:!0})}:pCe,vCe=gCe,yCe=800,xCe=16,bCe=Date.now;function wCe(e){var t=0,r=0;return function(){var n=bCe(),a=xCe-(n-r);if(r=n,a>0){if(++t>=yCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _Ce=wCe,jCe=vCe,SCe=_Ce,NCe=SCe(jCe),kCe=NCe,CCe=Sh,ECe=cCe,PCe=kCe;function OCe(e,t){return PCe(ECe(e,t,CCe),e+"")}var ACe=OCe,TCe=JP,MCe=Rg,$Ce=hO,ICe=ql;function RCe(e,t,r){if(!ICe(r))return!1;var n=typeof t;return(n=="number"?MCe(r)&&$Ce(t,r.length):n=="string"&&t in r)?TCe(r[t],e):!1}var Ow=RCe,DCe=dH,LCe=aCe,FCe=ACe,CI=Ow,BCe=FCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&CI(e,t[0],t[1])?t=[]:r>2&&CI(t[0],t[1],t[2])&&(t=[t[0]]),LCe(e,DCe(t,1),[])}),UCe=BCe;const vO=Ct(UCe);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(this,arguments)}function zCe(e,t){return qCe(e)||HCe(e,t)||WCe(e,t)||VCe()}function VCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WCe(e,t){if(e){if(typeof e=="string")return EI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EI(e,t)}}function EI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qCe(e){if(Array.isArray(e))return e}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){GCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t,r){return t=KCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KCe(e){var t=YCe(e,"string");return Pp(t)=="symbol"?t:t+""}function YCe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JCe(e){return Array.isArray(e)&&Vr(e[0])&&Vr(e[1])?e.join(" ~ "):e}var XCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var T={padding:0,margin:0},U=(h?vO(d,h):d).map(function(I,V){if(I.type==="none")return null;var L=Fj({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},l),z=I.formatter||f||JCe,R=I.value,F=I.name,K=R,re=F;if(z&&K!=null&&re!=null){var Z=z(R,F,I,V,d);if(Array.isArray(Z)){var j=zCe(Z,2);K=j[0],re=j[1]}else K=Z}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:L},Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},K),M.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:T},U)}return null},_=Fj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=Fj({margin:0},u),N=!et(p),k=N?p:"",P=tt("recharts-default-tooltip",m),O=tt("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(k=v(p,d));var A=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",LN({className:P,style:_},A),M.createElement("p",{className:O,style:S},M.isValidElement(k)?k:"".concat(k)),w())};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Iv(e,t,r){return t=QCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QCe(e){var t=ZCe(e,"string");return Op(t)=="symbol"?t:t+""}function ZCe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh="recharts-tooltip-wrapper",eEe={visibility:"hidden"};function tEe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(Jh,Iv(Iv(Iv(Iv({},"".concat(Jh,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Jh,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Jh,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Jh,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function OI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function rEe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function nEe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=OI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=OI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=rEe({translateX:d,translateY:f,useTranslate3d:l})):u=eEe,{cssProperties:u,cssClasses:tEe({translateX:d,translateY:f,coordinate:r})}}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){BN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function sEe(e,t,r){return t&&iEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oEe(e,t,r){return t=tb(t),lEe(e,pH()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function lEe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(e)}function cEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function uEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FN(e,t)}function BN(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=dEe(e,"string");return Cf(t)=="symbol"?t:t+""}function dEe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MI=1,fEe=function(e){function t(){var r;aEe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=oEe(this,t,[].concat(a)),BN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),BN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return uEe(t,e),sEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>MI||Math.abs(n.height-this.state.lastBoundingBox.height)>MI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=nEe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,S=w.cssProperties,N=TI(TI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(y.PureComponent),hEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gl={isSsr:hEe()};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function $I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function II(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(r),!0).forEach(function(n){yO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yH(n.key),n)}}function gEe(e,t,r){return t&&pEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vEe(e,t,r){return t=rb(t),yEe(e,vH()?Reflect.construct(t,r||[],rb(e).constructor):t.apply(e,r))}function yEe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xEe(e)}function xEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!e})()}function rb(e){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rb(e)}function bEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(e,t)}function yO(e,t,r){return t=yH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yH(e){var t=wEe(e,"string");return Ef(t)=="symbol"?t:t+""}function wEe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Ee(e){return e.dataKey}function jEe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(XCe,t)}var Sa=function(e){function t(){return mEe(this,t),vEe(this,t,arguments)}return bEe(t,e),gEe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=oH(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,_Ee));var N=S.length>0;return M.createElement(fEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},jEe(u,II(II({},this.props),{},{payload:S})))}}])}(y.PureComponent);yO(Sa,"displayName","Tooltip");yO(Sa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var SEe=$s,NEe=function(){return SEe.Date.now()},kEe=NEe,CEe=/\s/;function EEe(e){for(var t=e.length;t--&&CEe.test(e.charAt(t)););return t}var PEe=EEe,OEe=PEe,AEe=/^\s+/;function TEe(e){return e&&e.slice(0,OEe(e)+1).replace(AEe,"")}var MEe=TEe,$Ee=MEe,RI=ql,IEe=gh,DI=NaN,REe=/^[-+]0x[0-9a-f]+$/i,DEe=/^0b[01]+$/i,LEe=/^0o[0-7]+$/i,FEe=parseInt;function BEe(e){if(typeof e=="number")return e;if(IEe(e))return DI;if(RI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=RI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$Ee(e);var r=DEe.test(e);return r||LEe.test(e)?FEe(e.slice(2),r?2:8):REe.test(e)?DI:+e}var xH=BEe,UEe=ql,Bj=kEe,LI=xH,zEe="Expected a function",VEe=Math.max,WEe=Math.min;function HEe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(zEe);t=LI(t)||0,UEe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?VEe(LI(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var k=n,P=a;return n=a=void 0,u=N,o=e.apply(P,k),o}function g(N){return u=N,l=setTimeout(b,t),d?m(N):o}function p(N){var k=N-c,P=N-u,O=t-k;return f?WEe(O,i-P):O}function v(N){var k=N-c,P=N-u;return c===void 0||k>=t||k<0||f&&P>=i}function b(){var N=Bj();if(v(N))return x(N);l=setTimeout(b,p(N))}function x(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(Bj())}function S(){var N=Bj(),k=v(N);if(n=arguments,a=this,c=N,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return S.cancel=w,S.flush=_,S}var qEe=HEe,GEe=qEe,KEe=ql,YEe="Expected a function";function JEe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(YEe);return KEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),GEe(e,t,{leading:n,maxWait:t,trailing:a})}var XEe=JEe;const bH=Ct(XEe);function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function FI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(r),!0).forEach(function(n){QEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QEe(e,t,r){return t=ZEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZEe(e){var t=ePe(e,"string");return Ap(t)=="symbol"?t:t+""}function ePe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tPe(e,t){return iPe(e)||aPe(e,t)||nPe(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return BI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(e,t)}}function BI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function iPe(e){if(Array.isArray(e))return e}var Aw=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,S=y.useRef(null),N=y.useRef();N.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=y.useState({containerWidth:a.width,containerHeight:a.height}),P=tPe(k,2),O=P[0],A=P[1],$=y.useCallback(function(U,I){A(function(V){var L=Math.round(U),z=Math.round(I);return V.containerWidth===L&&V.containerHeight===z?V:{containerWidth:L,containerHeight:z}})},[]);y.useEffect(function(){var U=function(F){var K,re=F[0].contentRect,Z=re.width,j=re.height;$(Z,j),(K=N.current)===null||K===void 0||K.call(N,Z,j)};p>0&&(U=bH(U,p,{trailing:!0,leading:!1}));var I=new ResizeObserver(U),V=S.current.getBoundingClientRect(),L=V.width,z=V.height;return $(L,z),I.observe(S.current),function(){I.disconnect()}},[$,p]);var T=y.useMemo(function(){var U=O.containerWidth,I=O.containerHeight;if(U<0||I<0)return null;Ui(Pc(o)||Pc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ui(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Pc(o)?U:o,L=Pc(c)?I:c;r&&r>0&&(V?L=V/r:L&&(V=L*r),h&&L>h&&(L=h)),Ui(V>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,L,o,c,d,f,r);var z=!Array.isArray(m)&&io(m.type).endsWith("Chart");return M.Children.map(m,function(R){return M.isValidElement(R)?y.cloneElement(R,Rv({width:V,height:L},z?{style:Rv({height:"100%",width:"100%",maxHeight:L,maxWidth:V},R.props.style)}:{})):R})},[r,m,c,h,f,d,O,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:tt("recharts-responsive-container",b),style:Rv(Rv({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},T)}),Dg=function(t){return null};Dg.displayName="Cell";function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function UI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(r),!0).forEach(function(n){sPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sPe(e,t,r){return t=oPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oPe(e){var t=lPe(e,"string");return Tp(t)=="symbol"?t:t+""}function lPe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ju={widthCache:{},cacheCount:0},cPe=2e3,uPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zI="recharts_measurement_span";function dPe(e){var t=zN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Gl.isSsr)return{width:0,height:0};var n=dPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Ju.widthCache[a])return Ju.widthCache[a];try{var i=document.getElementById(zI);i||(i=document.createElement("span"),i.setAttribute("id",zI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=zN(zN({},uPe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ju.widthCache[a]=c,++Ju.cacheCount>cPe&&(Ju.cacheCount=0,Ju.widthCache={}),c}catch{return{width:0,height:0}}},fPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function nb(e,t){return gPe(e)||pPe(e,t)||mPe(e,t)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(e,t){if(e){if(typeof e=="string")return VI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VI(e,t)}}function VI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function gPe(e){if(Array.isArray(e))return e}function vPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xPe(n.key),n)}}function yPe(e,t,r){return t&&WI(e.prototype,t),r&&WI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xPe(e){var t=bPe(e,"string");return Mp(t)=="symbol"?t:t+""}function bPe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_Pe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jPe=Object.keys(wH),Sd="NaN";function SPe(e,t){return e*wH[t]}var Dv=function(){function e(t,r){vPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!wPe.test(r)&&(this.num=NaN,this.unit=""),jPe.includes(r)&&(this.num=SPe(t,r),this.unit="px")}return yPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_Pe.exec(r))!==null&&n!==void 0?n:[],i=nb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function _H(e){if(e.includes(Sd))return Sd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=HI.exec(t))!==null&&r!==void 0?r:[],a=nb(n,4),i=a[1],o=a[2],l=a[3],c=Dv.parse(i??""),u=Dv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sd;t=t.replace(HI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=qI.exec(t))!==null&&f!==void 0?f:[],m=nb(h,4),g=m[1],p=m[2],v=m[3],b=Dv.parse(g??""),x=Dv.parse(v??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return Sd;t=t.replace(qI,w.toString())}return t}var GI=/\(([^()]*)\)/;function NPe(e){for(var t=e;t.includes("(");){var r=GI.exec(t),n=nb(r,2),a=n[1];t=t.replace(GI,_H(a))}return t}function kPe(e){var t=e.replace(/\s+/g,"");return t=NPe(t),t=_H(t),t}function CPe(e){try{return kPe(e)}catch{return Sd}}function Uj(e){var t=CPe(e.slice(5,-1));return t===Sd?"":t}var EPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PPe=["dx","dy","angle","className","breakAll"];function VN(){return VN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VN.apply(this,arguments)}function KI(e,t){if(e==null)return{};var r=OPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YI(e,t){return $Pe(e)||MPe(e,t)||TPe(e,t)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(e,t){if(e){if(typeof e=="string")return JI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JI(e,t)}}function JI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $Pe(e){if(Array.isArray(e))return e}var jH=/[ \f\n\r\t\v\u2028\u2029]+/,SH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];et(r)||(n?i=r.toString().split(""):i=r.toString().split(jH));var o=i.map(function(c){return{word:c,width:Mm(c,a).width}}),l=n?0:Mm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},IPe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(L,z){var R=z.word,F=z.width,K=L[L.length-1];if(K&&(a==null||i||K.width+F+n<Number(a)))K.words.push(R),K.width+=F+n;else{var re={words:[R],width:F};L.push(re)}return L},[])},m=h(r),g=function(V){return V.reduce(function(L,z){return L.width>z.width?L:z})};if(!d)return m;for(var p="",v=function(V){var L=f.slice(0,V),z=SH({breakAll:u,style:c,children:L+p}).wordsWithComputedWidth,R=h(z),F=R.length>o||g(R).width>Number(a);return[F,R]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var S=Math.floor((b+x)/2),N=S-1,k=v(N),P=YI(k,2),O=P[0],A=P[1],$=v(S),T=YI($,1),U=T[0];if(!O&&!U&&(b=S+1),O&&U&&(x=S-1),!O&&U){_=A;break}w++}return _||m},XI=function(t){var r=et(t)?[]:t.toString().split(jH);return[{words:r}]},RPe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Gl.isSsr){var c,u,d=SH({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return XI(a);return IPe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return XI(a)},QI="#808080",fu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?QI:v,x=KI(t,EPe),w=y.useMemo(function(){return RPe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,S=x.dy,N=x.angle,k=x.className,P=x.breakAll,O=KI(x,PPe);if(!Vr(n)||!Vr(i))return null;var A=n+(pe(_)?_:0),$=i+(pe(S)?S:0),T;switch(p){case"start":T=Uj("calc(".concat(u,")"));break;case"middle":T=Uj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:T=Uj("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var I=w[0].width,V=x.width;U.push("scale(".concat((pe(V)?V/I:1)/I,")"))}return N&&U.push("rotate(".concat(N,", ").concat(A,", ").concat($,")")),U.length&&(O.transform=U.join(" ")),M.createElement("text",VN({},De(O,!0),{x:A,y:$,className:tt("recharts-text",k),textAnchor:m,fill:b.includes("url")?QI:b}),w.map(function(L,z){var R=L.words.join(P?"":" ");return M.createElement("tspan",{x:A,dy:z===0?T:l,key:"".concat(R,"-").concat(z)},R)}))};function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xO(e){let t,r,n;e.length!==2?(t=jl,r=(l,c)=>jl(e(l),c),n=(l,c)=>e(l)-c):(t=e===jl||e===DPe?e:LPe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function LPe(){return 0}function NH(e){return e===null?NaN:+e}function*FPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const BPe=xO(jl),Lg=BPe.right;xO(NH).center;class ZI extends Map{constructor(t,r=VPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(eR(this,t))}has(t){return super.has(eR(this,t))}set(t,r){return super.set(UPe(this,t),r)}delete(t){return super.delete(zPe(this,t))}}function eR({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function UPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function WPe(e=jl){if(e===jl)return kH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const HPe=Math.sqrt(50),qPe=Math.sqrt(10),GPe=Math.sqrt(2);function ab(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=HPe?10:i>=qPe?5:i>=GPe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ab(e,t,r*2):[l,c,u]}function WN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ab(t,e,r):ab(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function HN(e,t,r){return t=+t,e=+e,r=+r,ab(e,t,r)[2]}function qN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?HN(t,e,r):HN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function tR(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function rR(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function CH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?kH:WPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));CH(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Xh(e,r,t),a(e[n],i)>0&&Xh(e,r,n);o<l;){for(Xh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Xh(e,r,l):(++l,Xh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function KPe(e,t,r){if(e=Float64Array.from(FPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return rR(e);if(t>=1)return tR(e);var n,a=(n-1)*t,i=Math.floor(a),o=tR(CH(e,i).subarray(0,i+1)),l=rR(e.subarray(i+1));return o+(l-o)*(a-i)}}function YPe(e,t,r=NH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function JPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const GN=Symbol("implicit");function bO(){var e=new ZI,t=[],r=[],n=GN;function a(i){let o=e.get(i);if(o===void 0){if(n!==GN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ZI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bO(t,r).unknown(n)},hi.apply(a,arguments),a}function $p(){var e=bO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=JPe(h).map(function(b){return g+i*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $p(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},hi.apply(f(),arguments)}function EH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EH(t())},e}function $m(){return EH($p.apply(null,arguments).paddingInner(1))}function wO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fg(){}var Ip=.7,ib=1/Ip,Wd="\\s*([+-]?\\d+)\\s*",Rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XPe=/^#([0-9a-f]{3,8})$/,QPe=new RegExp(`^rgb\\(${Wd},${Wd},${Wd}\\)$`),ZPe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),eOe=new RegExp(`^rgba\\(${Wd},${Wd},${Wd},${Rp}\\)$`),tOe=new RegExp(`^rgba\\(${js},${js},${js},${Rp}\\)$`),rOe=new RegExp(`^hsl\\(${Rp},${js},${js}\\)$`),nOe=new RegExp(`^hsla\\(${Rp},${js},${js},${Rp}\\)$`),nR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wO(Fg,Dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:aR,formatHex:aR,formatHex8:aOe,formatHsl:iOe,formatRgb:iR,toString:iR});function aR(){return this.rgb().formatHex()}function aOe(){return this.rgb().formatHex8()}function iOe(){return OH(this).formatHsl()}function iR(){return this.rgb().formatRgb()}function Dp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=XPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?sR(t):r===3?new ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QPe.exec(e))?new ra(t[1],t[2],t[3],1):(t=ZPe.exec(e))?new ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eOe.exec(e))?Lv(t[1],t[2],t[3],t[4]):(t=tOe.exec(e))?Lv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rOe.exec(e))?cR(t[1],t[2]/100,t[3]/100,1):(t=nOe.exec(e))?cR(t[1],t[2]/100,t[3]/100,t[4]):nR.hasOwnProperty(e)?sR(nR[e]):e==="transparent"?new ra(NaN,NaN,NaN,0):null}function sR(e){return new ra(e>>16&255,e>>8&255,e&255,1)}function Lv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ra(e,t,r,n)}function sOe(e){return e instanceof Fg||(e=Dp(e)),e?(e=e.rgb(),new ra(e.r,e.g,e.b,e.opacity)):new ra}function KN(e,t,r,n){return arguments.length===1?sOe(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}wO(ra,KN,PH(Fg,{brighter(e){return e=e==null?ib:Math.pow(ib,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ip:Math.pow(Ip,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ra(Hc(this.r),Hc(this.g),Hc(this.b),sb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oR,formatHex:oR,formatHex8:oOe,formatRgb:lR,toString:lR}));function oR(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}`}function oOe(){return`#${Oc(this.r)}${Oc(this.g)}${Oc(this.b)}${Oc((isNaN(this.opacity)?1:this.opacity)*255)}`}function lR(){const e=sb(this.opacity);return`${e===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${e===1?")":`, ${e})`}`}function sb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oc(e){return e=Hc(e),(e<16?"0":"")+e.toString(16)}function cR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ri(e,t,r,n)}function OH(e){if(e instanceof Ri)return new Ri(e.h,e.s,e.l,e.opacity);if(e instanceof Fg||(e=Dp(e)),!e)return new Ri;if(e instanceof Ri)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ri(o,l,c,e.opacity)}function lOe(e,t,r,n){return arguments.length===1?OH(e):new Ri(e,t,r,n??1)}function Ri(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}wO(Ri,lOe,PH(Fg,{brighter(e){return e=e==null?ib:Math.pow(ib,e),new Ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ip:Math.pow(Ip,e),new Ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ra(zj(e>=240?e-240:e+120,a,n),zj(e,a,n),zj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ri(uR(this.h),Fv(this.s),Fv(this.l),sb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sb(this.opacity);return`${e===1?"hsl(":"hsla("}${uR(this.h)}, ${Fv(this.s)*100}%, ${Fv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uR(e){return e=(e||0)%360,e<0?e+360:e}function Fv(e){return Math.max(0,Math.min(1,e||0))}function zj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const _O=e=>()=>e;function cOe(e,t){return function(r){return e+r*t}}function uOe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dOe(e){return(e=+e)==1?AH:function(t,r){return r-t?uOe(t,r,e):_O(isNaN(t)?r:t)}}function AH(e,t){var r=t-e;return r?cOe(e,r):_O(isNaN(e)?t:e)}const dR=function e(t){var r=dOe(t);function n(a,i){var o=r((a=KN(a)).r,(i=KN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=AH(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function fOe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function hOe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mOe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Nh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function pOe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ob(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function gOe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var YN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vj=new RegExp(YN.source,"g");function vOe(e){return function(){return e}}function yOe(e){return function(t){return e(t)+""}}function xOe(e,t){var r=YN.lastIndex=Vj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=YN.exec(e))&&(a=Vj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ob(n,a)})),r=Vj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?yOe(c[0].x):vOe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nh(e,t){var r=typeof t,n;return t==null||r==="boolean"?_O(t):(r==="number"?ob:r==="string"?(n=Dp(t))?(t=n,dR):xOe:t instanceof Dp?dR:t instanceof Date?pOe:hOe(t)?fOe:Array.isArray(t)?mOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gOe:ob)(e,t)}function jO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function bOe(e,t){t===void 0&&(t=e,e=Nh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function wOe(e){return function(){return e}}function lb(e){return+e}var fR=[0,1];function zn(e){return e}function JN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:wOe(isNaN(t)?NaN:.5)}function _Oe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jOe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=JN(a,n),i=r(o,i)):(n=JN(n,a),i=r(i,o)),function(l){return i(n(l))}}function SOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=JN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Lg(e,l,1,n)-1;return i[c](a[c](l))}}function Bg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Tw(){var e=fR,t=fR,r=Nh,n,a,i,o=zn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zn&&(o=_Oe(e[0],e[h-1])),l=h>2?SOe:jOe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),ob)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,lb),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jO,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zn,d()):o!==zn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function SO(){return Tw()(zn,zn)}function NOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pf(e){return e=cb(Math.abs(e)),e?e[1]:NaN}function kOe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function COe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var EOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(e){if(!(t=EOe.exec(e)))throw new Error("invalid format: "+e);var t;return new NO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lp.prototype=NO.prototype;function NO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}NO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function POe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ub;function OOe(e,t){var r=cb(e,t);if(!r)return ub=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(ub=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cb(e,Math.max(0,t+i-1))[0]}function hR(e,t){var r=cb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>hR(e*100,t),r:hR,s:OOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pR(e){return e}var gR=Array.prototype.map,vR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function AOe(e){var t=e.grouping===void 0||e.thousands===void 0?pR:kOe(gR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?pR:COe(gR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Lp(f);var m=f.fill,g=f.align,p=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,S=f.trim,N=f.type;N==="n"?(w=!0,N="g"):mR[N]||(_===void 0&&(_=12),S=!0,N="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(v==="$"?n:/[%p]/.test(N)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),O=mR[N],A=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function $(T){var U=k,I=P,V,L,z;if(N==="c")I=O(T)+I,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),_),S&&(T=POe(T)),R&&+T==0&&p!=="+"&&(R=!1),U=(R?p==="("?p:l:p==="-"||p==="("?"":p)+U,I=(N==="s"&&!isNaN(T)&&ub!==void 0?vR[8+ub/3]:"")+I+(R&&p==="("?")":""),A){for(V=-1,L=T.length;++V<L;)if(z=T.charCodeAt(V),48>z||z>57){I=(z===46?a+T.slice(V+1):T.slice(V))+I,T=T.slice(0,V);break}}}w&&!b&&(T=t(T,1/0));var F=U.length+T.length+I.length,K=F<x?new Array(x-F+1).join(m):"";switch(w&&b&&(T=t(K+T,K.length?x-I.length:1/0),K=""),g){case"<":T=U+T+I+K;break;case"=":T=U+K+T+I;break;case"^":T=K.slice(0,F=K.length>>1)+U+T+I+K.slice(F);break;default:T=K+U+T+I;break}return i(T)}return $.toString=function(){return f+""},$}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Pf(h)/3)))*3,g=Math.pow(10,-m),p=u((f=Lp(f),f.type="f",f),{suffix:vR[8+m/3]});return function(v){return p(g*v)}}return{format:u,formatPrefix:d}}var Bv,kO,TH;TOe({thousands:",",grouping:[3],currency:["$",""]});function TOe(e){return Bv=AOe(e),kO=Bv.format,TH=Bv.formatPrefix,Bv}function MOe(e){return Math.max(0,-Pf(Math.abs(e)))}function $Oe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pf(t)/3)))*3-Pf(Math.abs(e)))}function IOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pf(t)-Pf(e))+1}function MH(e,t,r,n){var a=qN(e,t,r),i;switch(n=Lp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=$Oe(a,o))&&(n.precision=i),TH(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=IOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=MOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return kO(n)}function Kl(e){var t=e.domain;return e.ticks=function(r){var n=t();return WN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return MH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=HN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function db(){var e=SO();return e.copy=function(){return Bg(e,db())},hi.apply(e,arguments),Kl(e)}function $H(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $H(e).unknown(t)},e=arguments.length?Array.from(e,lb):[0,1],Kl(r)}function IH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function yR(e){return Math.log(e)}function xR(e){return Math.exp(e)}function ROe(e){return-Math.log(-e)}function DOe(e){return-Math.exp(-e)}function LOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function FOe(e){return e===10?LOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bR(e){return(t,r)=>-e(-t,r)}function CO(e){const t=e(yR,xR),r=t.domain;let n=10,a,i;function o(){return a=BOe(n),i=FOe(n),r()[0]<0?(a=bR(a),i=bR(i),e(ROe,DOe)):e(yR,xR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=WN(u,d,v))}else b=WN(h,m,Math.min(m-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lp(c)).precision==null&&(c.trim=!0),c=kO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(IH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function RH(){const e=CO(Tw()).domain([1,10]);return e.copy=()=>Bg(e,RH()).base(e.base()),hi.apply(e,arguments),e}function wR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _R(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EO(e){var t=1,r=e(wR(t),_R(t));return r.constant=function(n){return arguments.length?e(wR(t=+n),_R(t)):t},Kl(r)}function DH(){var e=EO(Tw());return e.copy=function(){return Bg(e,DH()).constant(e.constant())},hi.apply(e,arguments)}function jR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function UOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zOe(e){return e<0?-e*e:e*e}function PO(e){var t=e(zn,zn),r=1;function n(){return r===1?e(zn,zn):r===.5?e(UOe,zOe):e(jR(r),jR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Kl(t)}function OO(){var e=PO(Tw());return e.copy=function(){return Bg(e,OO()).exponent(e.exponent())},hi.apply(e,arguments),e}function VOe(){return OO.apply(null,arguments).exponent(.5)}function SR(e){return Math.sign(e)*e*e}function WOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LH(){var e=SO(),t=[0,1],r=!1,n;function a(i){var o=WOe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(SR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,lb)).map(SR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return LH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},hi.apply(a,arguments),Kl(a)}function FH(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=YPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return FH().domain(e).range(t).unknown(n)},hi.apply(i,arguments)}function BH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Lg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BH().domain([e,t]).range(a).unknown(i)},hi.apply(Kl(o),arguments)}function UH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return UH().domain(e).range(t).unknown(r)},hi.apply(a,arguments)}const Wj=new Date,Hj=new Date;function qr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>qr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Wj.setTime(+i),Hj.setTime(+o),e(Wj),e(Hj),Math.floor(r(Wj,Hj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const fb=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fb);fb.range;const Zs=1e3,ei=Zs*60,eo=ei*60,bo=eo*24,AO=bo*7,NR=bo*30,qj=bo*365,Ac=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCSeconds());Ac.range;const TO=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getMinutes());TO.range;const MO=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ei)},(e,t)=>(t-e)/ei,e=>e.getUTCMinutes());MO.range;const $O=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Zs-e.getMinutes()*ei)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getHours());$O.range;const IO=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*eo)},(e,t)=>(t-e)/eo,e=>e.getUTCHours());IO.range;const Ug=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ei)/bo,e=>e.getDate()-1);Ug.range;const Mw=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>e.getUTCDate()-1);Mw.range;const zH=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bo,e=>Math.floor(e/bo));zH.range;function Ou(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ei)/AO)}const $w=Ou(0),hb=Ou(1),HOe=Ou(2),qOe=Ou(3),Of=Ou(4),GOe=Ou(5),KOe=Ou(6);$w.range;hb.range;HOe.range;qOe.range;Of.range;GOe.range;KOe.range;function Au(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/AO)}const Iw=Au(0),mb=Au(1),YOe=Au(2),JOe=Au(3),Af=Au(4),XOe=Au(5),QOe=Au(6);Iw.range;mb.range;YOe.range;JOe.range;Af.range;XOe.range;QOe.range;const RO=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());RO.range;const DO=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());DO.range;const wo=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wo.range;const _o=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_o.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_o.range;function VH(e,t,r,n,a,i){const o=[[Ac,1,Zs],[Ac,5,5*Zs],[Ac,15,15*Zs],[Ac,30,30*Zs],[i,1,ei],[i,5,5*ei],[i,15,15*ei],[i,30,30*ei],[a,1,eo],[a,3,3*eo],[a,6,6*eo],[a,12,12*eo],[n,1,bo],[n,2,2*bo],[r,1,AO],[t,1,NR],[t,3,3*NR],[e,1,qj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=xO(([,,v])=>v).right(o,h);if(m===o.length)return e.every(qN(u/qj,d/qj,f));if(m===0)return fb.every(Math.max(qN(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[ZOe,eAe]=VH(_o,DO,Iw,zH,IO,MO),[tAe,rAe]=VH(wo,RO,$w,Ug,$O,TO);function Gj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function nAe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zh(a),d=em(a),f=Zh(i),h=em(i),m=Zh(o),g=em(o),p=Zh(l),v=em(l),b=Zh(c),x=em(c),w={a:z,A:R,b:F,B:K,c:null,d:AR,e:AR,f:kAe,g:RAe,G:LAe,H:jAe,I:SAe,j:NAe,L:WH,m:CAe,M:EAe,p:re,q:Z,Q:$R,s:IR,S:PAe,u:OAe,U:AAe,V:TAe,w:MAe,W:$Ae,x:null,X:null,y:IAe,Y:DAe,Z:FAe,"%":MR},_={a:j,A:C,b:E,B,c:null,d:TR,e:TR,f:VAe,g:ZAe,G:tTe,H:BAe,I:UAe,j:zAe,L:qH,m:WAe,M:HAe,p:D,q:G,Q:$R,s:IR,S:qAe,u:GAe,U:KAe,V:YAe,w:JAe,W:XAe,x:null,X:null,y:QAe,Y:eTe,Z:rTe,"%":MR},S={a:A,A:$,b:T,B:U,c:I,d:PR,e:PR,f:xAe,g:ER,G:CR,H:OR,I:OR,j:pAe,L:yAe,m:mAe,M:gAe,p:O,q:hAe,Q:wAe,s:_Ae,S:vAe,u:lAe,U:cAe,V:uAe,w:oAe,W:dAe,x:V,X:L,y:ER,Y:CR,Z:fAe,"%":bAe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(q,X){return function(te){var Y=[],we=-1,ke=0,Xe=q.length,He,Be,ot;for(te instanceof Date||(te=new Date(+te));++we<Xe;)q.charCodeAt(we)===37&&(Y.push(q.slice(ke,we)),(Be=kR[He=q.charAt(++we)])!=null?He=q.charAt(++we):Be=He==="e"?" ":"0",(ot=X[He])&&(He=ot(te,Be)),Y.push(He),ke=we+1);return Y.push(q.slice(ke,we)),Y.join("")}}function k(q,X){return function(te){var Y=Qh(1900,void 0,1),we=P(Y,q,te+="",0),ke,Xe;if(we!=te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(X&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ke=Kj(Qh(Y.y,0,1)),Xe=ke.getUTCDay(),ke=Xe>4||Xe===0?mb.ceil(ke):mb(ke),ke=Mw.offset(ke,(Y.V-1)*7),Y.y=ke.getUTCFullYear(),Y.m=ke.getUTCMonth(),Y.d=ke.getUTCDate()+(Y.w+6)%7):(ke=Gj(Qh(Y.y,0,1)),Xe=ke.getDay(),ke=Xe>4||Xe===0?hb.ceil(ke):hb(ke),ke=Ug.offset(ke,(Y.V-1)*7),Y.y=ke.getFullYear(),Y.m=ke.getMonth(),Y.d=ke.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Xe="Z"in Y?Kj(Qh(Y.y,0,1)).getUTCDay():Gj(Qh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Xe+5)%7:Y.w+Y.U*7-(Xe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Kj(Y)):Gj(Y)}}function P(q,X,te,Y){for(var we=0,ke=X.length,Xe=te.length,He,Be;we<ke;){if(Y>=Xe)return-1;if(He=X.charCodeAt(we++),He===37){if(He=X.charAt(we++),Be=S[He in kR?X.charAt(we++):He],!Be||(Y=Be(q,te,Y))<0)return-1}else if(He!=te.charCodeAt(Y++))return-1}return Y}function O(q,X,te){var Y=u.exec(X.slice(te));return Y?(q.p=d.get(Y[0].toLowerCase()),te+Y[0].length):-1}function A(q,X,te){var Y=m.exec(X.slice(te));return Y?(q.w=g.get(Y[0].toLowerCase()),te+Y[0].length):-1}function $(q,X,te){var Y=f.exec(X.slice(te));return Y?(q.w=h.get(Y[0].toLowerCase()),te+Y[0].length):-1}function T(q,X,te){var Y=b.exec(X.slice(te));return Y?(q.m=x.get(Y[0].toLowerCase()),te+Y[0].length):-1}function U(q,X,te){var Y=p.exec(X.slice(te));return Y?(q.m=v.get(Y[0].toLowerCase()),te+Y[0].length):-1}function I(q,X,te){return P(q,t,X,te)}function V(q,X,te){return P(q,r,X,te)}function L(q,X,te){return P(q,n,X,te)}function z(q){return o[q.getDay()]}function R(q){return i[q.getDay()]}function F(q){return c[q.getMonth()]}function K(q){return l[q.getMonth()]}function re(q){return a[+(q.getHours()>=12)]}function Z(q){return 1+~~(q.getMonth()/3)}function j(q){return o[q.getUTCDay()]}function C(q){return i[q.getUTCDay()]}function E(q){return c[q.getUTCMonth()]}function B(q){return l[q.getUTCMonth()]}function D(q){return a[+(q.getUTCHours()>=12)]}function G(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var X=N(q+="",w);return X.toString=function(){return q},X},parse:function(q){var X=k(q+="",!1);return X.toString=function(){return q},X},utcFormat:function(q){var X=N(q+="",_);return X.toString=function(){return q},X},utcParse:function(q){var X=k(q+="",!0);return X.toString=function(){return q},X}}}var kR={"-":"",_:" ",0:"0"},sn=/^\s*\d+/,aAe=/^%/,iAe=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function sAe(e){return e.replace(iAe,"\\$&")}function Zh(e){return new RegExp("^(?:"+e.map(sAe).join("|")+")","i")}function em(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function oAe(e,t,r){var n=sn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function lAe(e,t,r){var n=sn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function cAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function uAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function CR(e,t,r){var n=sn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ER(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function hAe(e,t,r){var n=sn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function mAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function PR(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function pAe(e,t,r){var n=sn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OR(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function gAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vAe(e,t,r){var n=sn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function yAe(e,t,r){var n=sn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xAe(e,t,r){var n=sn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function bAe(e,t,r){var n=aAe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function wAe(e,t,r){var n=sn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _Ae(e,t,r){var n=sn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function AR(e,t){return wt(e.getDate(),t,2)}function jAe(e,t){return wt(e.getHours(),t,2)}function SAe(e,t){return wt(e.getHours()%12||12,t,2)}function NAe(e,t){return wt(1+Ug.count(wo(e),e),t,3)}function WH(e,t){return wt(e.getMilliseconds(),t,3)}function kAe(e,t){return WH(e,t)+"000"}function CAe(e,t){return wt(e.getMonth()+1,t,2)}function EAe(e,t){return wt(e.getMinutes(),t,2)}function PAe(e,t){return wt(e.getSeconds(),t,2)}function OAe(e){var t=e.getDay();return t===0?7:t}function AAe(e,t){return wt($w.count(wo(e)-1,e),t,2)}function HH(e){var t=e.getDay();return t>=4||t===0?Of(e):Of.ceil(e)}function TAe(e,t){return e=HH(e),wt(Of.count(wo(e),e)+(wo(e).getDay()===4),t,2)}function MAe(e){return e.getDay()}function $Ae(e,t){return wt(hb.count(wo(e)-1,e),t,2)}function IAe(e,t){return wt(e.getFullYear()%100,t,2)}function RAe(e,t){return e=HH(e),wt(e.getFullYear()%100,t,2)}function DAe(e,t){return wt(e.getFullYear()%1e4,t,4)}function LAe(e,t){var r=e.getDay();return e=r>=4||r===0?Of(e):Of.ceil(e),wt(e.getFullYear()%1e4,t,4)}function FAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function TR(e,t){return wt(e.getUTCDate(),t,2)}function BAe(e,t){return wt(e.getUTCHours(),t,2)}function UAe(e,t){return wt(e.getUTCHours()%12||12,t,2)}function zAe(e,t){return wt(1+Mw.count(_o(e),e),t,3)}function qH(e,t){return wt(e.getUTCMilliseconds(),t,3)}function VAe(e,t){return qH(e,t)+"000"}function WAe(e,t){return wt(e.getUTCMonth()+1,t,2)}function HAe(e,t){return wt(e.getUTCMinutes(),t,2)}function qAe(e,t){return wt(e.getUTCSeconds(),t,2)}function GAe(e){var t=e.getUTCDay();return t===0?7:t}function KAe(e,t){return wt(Iw.count(_o(e)-1,e),t,2)}function GH(e){var t=e.getUTCDay();return t>=4||t===0?Af(e):Af.ceil(e)}function YAe(e,t){return e=GH(e),wt(Af.count(_o(e),e)+(_o(e).getUTCDay()===4),t,2)}function JAe(e){return e.getUTCDay()}function XAe(e,t){return wt(mb.count(_o(e)-1,e),t,2)}function QAe(e,t){return wt(e.getUTCFullYear()%100,t,2)}function ZAe(e,t){return e=GH(e),wt(e.getUTCFullYear()%100,t,2)}function eTe(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function tTe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Af(e):Af.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function rTe(){return"+0000"}function MR(){return"%"}function $R(e){return+e}function IR(e){return Math.floor(+e/1e3)}var Xu,KH,YH;nTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nTe(e){return Xu=nAe(e),KH=Xu.format,Xu.parse,YH=Xu.utcFormat,Xu.utcParse,Xu}function aTe(e){return new Date(e)}function iTe(e){return e instanceof Date?+e:+new Date(+e)}function LO(e,t,r,n,a,i,o,l,c,u){var d=SO(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?v:n(N)<N?a(N)<N?b:x:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,iTe)):h().map(aTe)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?S:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(IH(k,N)):d},d.copy=function(){return Bg(d,LO(e,t,r,n,a,i,o,l,c,u))},d}function sTe(){return hi.apply(LO(tAe,rAe,wo,RO,$w,Ug,$O,TO,Ac,KH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oTe(){return hi.apply(LO(ZOe,eAe,_o,DO,Iw,Mw,IO,MO,Ac,YH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rw(){var e=0,t=1,r,n,a,i,o=zn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Nh),u.rangeRound=d(jO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JH(){var e=Kl(Rw()(zn));return e.copy=function(){return Yl(e,JH())},Oo.apply(e,arguments)}function XH(){var e=CO(Rw()).domain([1,10]);return e.copy=function(){return Yl(e,XH()).base(e.base())},Oo.apply(e,arguments)}function QH(){var e=EO(Rw());return e.copy=function(){return Yl(e,QH()).constant(e.constant())},Oo.apply(e,arguments)}function FO(){var e=PO(Rw());return e.copy=function(){return Yl(e,FO()).exponent(e.exponent())},Oo.apply(e,arguments)}function lTe(){return FO.apply(null,arguments).exponent(.5)}function ZH(){var e=[],t=zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>KPe(e,i/n))},r.copy=function(){return ZH(t).domain(e)},Oo.apply(r,arguments)}function Dw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=zn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=bOe(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Nh),m.rangeRound=g(jO),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function eq(){var e=Kl(Dw()(zn));return e.copy=function(){return Yl(e,eq())},Oo.apply(e,arguments)}function tq(){var e=CO(Dw()).domain([.1,1,10]);return e.copy=function(){return Yl(e,tq()).base(e.base())},Oo.apply(e,arguments)}function rq(){var e=EO(Dw());return e.copy=function(){return Yl(e,rq()).constant(e.constant())},Oo.apply(e,arguments)}function BO(){var e=PO(Dw());return e.copy=function(){return Yl(e,BO()).exponent(e.exponent())},Oo.apply(e,arguments)}function cTe(){return BO.apply(null,arguments).exponent(.5)}const RR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$p,scaleDiverging:eq,scaleDivergingLog:tq,scaleDivergingPow:BO,scaleDivergingSqrt:cTe,scaleDivergingSymlog:rq,scaleIdentity:$H,scaleImplicit:GN,scaleLinear:db,scaleLog:RH,scaleOrdinal:bO,scalePoint:$m,scalePow:OO,scaleQuantile:FH,scaleQuantize:BH,scaleRadial:LH,scaleSequential:JH,scaleSequentialLog:XH,scaleSequentialPow:FO,scaleSequentialQuantile:ZH,scaleSequentialSqrt:lTe,scaleSequentialSymlog:QH,scaleSqrt:VOe,scaleSymlog:DH,scaleThreshold:UH,scaleTime:sTe,scaleUtc:oTe,tickFormat:MH},Symbol.toStringTag,{value:"Module"}));var uTe=gh;function dTe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!uTe(o):r(o,l)))var l=o,c=i}return c}var Lw=dTe;function fTe(e,t){return e>t}var nq=fTe,hTe=Lw,mTe=nq,pTe=Sh;function gTe(e){return e&&e.length?hTe(e,pTe,mTe):void 0}var vTe=gTe;const ul=Ct(vTe);function yTe(e,t){return e<t}var aq=yTe,xTe=Lw,bTe=aq,wTe=Sh;function _Te(e){return e&&e.length?xTe(e,wTe,bTe):void 0}var jTe=_Te;const Fw=Ct(jTe);var STe=eO,NTe=Is,kTe=hH,CTe=fa;function ETe(e,t){var r=CTe(e)?STe:kTe;return r(e,NTe(t))}var PTe=ETe,OTe=dH,ATe=PTe;function TTe(e,t){return OTe(ATe(e,t),1)}var MTe=TTe;const $Te=Ct(MTe);var ITe=pO;function RTe(e,t){return ITe(e,t)}var DTe=RTe;const hu=Ct(DTe);var kh=1e9,LTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zO,cr=!0,li="[DecimalError] ",qc=li+"Invalid argument: ",UO=li+"Exponent out of range: ",Ch=Math.floor,xc=Math.pow,FTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pa,Jr=1e7,Xt=7,iq=9007199254740991,pb=Ch(iq/Xt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return oo(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Lt(oo(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Mr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Pa))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(Pa)?new n(0):(cr=!1,t=oo(Fp(r,i),Fp(e,i),i),cr=!0,Lt(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lq(t,e):sq(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(cr=!1,t=oo(r,e,0,1).times(e),cr=!0,r.minus(t)):Lt(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return oq(this)};Oe.naturalLogarithm=Oe.ln=function(){return Fp(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sq(t,e):lq(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(qc+e);if(t=Mr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(li+"NaN")}for(e=Mr(l),cr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=vs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ch((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(oo(l,i,o+2)).times(.5),vs(i.d).slice(0,o)===(t=vs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Lt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cr=!0,Lt(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Jr|0,t=l/Jr|0;i[a]=(i[a]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cr?Lt(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Es(e,0,kh),t===void 0?t=n.rounding:Es(t,0,8),Lt(r,e+Mr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=mu(n,!0):(Es(e,0,kh),t===void 0?t=a.rounding:Es(t,0,8),n=Lt(new a(n),e+1,t),r=mu(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?mu(a):(Es(e,0,kh),t===void 0?t=i.rounding:Es(t,0,8),n=Lt(new i(a),e+Mr(a)+1,t),r=mu(n.abs(),!1,e+Mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Lt(new t(e),Mr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Pa);if(l=new c(l),!l.s){if(e.s<1)throw Error(li+"Infinity");return l}if(l.eq(Pa))return l;if(n=c.precision,e.eq(Pa))return Lt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=iq){for(a=new c(Pa),t=Math.ceil(n/Xt+4),cr=!1;r%2&&(a=a.times(l),LR(a.d,t)),r=Ch(r/2),r!==0;)l=l.times(l),LR(l.d,t);return cr=!0,e.s<0?new c(Pa).div(a):Lt(a,n)}}else if(i<0)throw Error(li+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cr=!1,a=e.times(Fp(l,n+u)),cr=!0,a=oq(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Mr(a),n=mu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Es(e,1,kh),t===void 0?t=i.rounding:Es(t,0,8),a=Lt(new i(a),e,t),r=Mr(a),n=mu(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Es(e,1,kh),t===void 0?t=n.rounding:Es(t,0,8)),Lt(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mr(e),r=e.constructor;return mu(e,t<=r.toExpNeg||t>=r.toExpPos)};function sq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?Lt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Xt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jr|0,c[i]%=Jr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cr?Lt(t,f):t}function Es(e,t,r){if(e!==~~e||e<t||e>r)throw Error(qc+e)}function vs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=Ko(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=Ko(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var oo=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Jr|0,o=i/Jr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Jr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,O=n.constructor,A=n.s==a.s?1:-1,$=n.d,T=a.d;if(!n.s)return new O(n);if(!a.s)throw Error(li+"Division by zero");for(c=n.e-a.e,k=T.length,S=$.length,m=new O(A),g=m.d=[],u=0;T[u]==($[u]||0);)++u;if(T[u]>($[u]||0)&&--c,i==null?x=i=O.precision:o?x=i+(Mr(n)-Mr(a))+1:x=i,x<0)return new O(0);if(x=x/Xt+2|0,u=0,k==1)for(d=0,T=T[0],x++;(u<S||d)&&x--;u++)w=d*Jr+($[u]||0),g[u]=w/T|0,d=w%T|0;else{for(d=Jr/(T[0]+1)|0,d>1&&(T=e(T,d),$=e($,d),k=T.length,S=$.length),_=k,p=$.slice(0,k),v=p.length;v<k;)p[v++]=0;P=T.slice(),P.unshift(0),N=T[0],T[1]>=Jr/2&&++N;do d=0,l=t(T,p,k,v),l<0?(b=p[0],k!=v&&(b=b*Jr+(p[1]||0)),d=b/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(T,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,k<h?P:T,h))):(d==0&&(l=d=1),f=T.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(T,p,k,v),l<1&&(d++,r(p,k<v?P:T,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=$[_]||0:(p=[$[_]],v=1);while((_++<S||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Lt(m,o?i+Mr(m)+1:i)}}();function oq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Mr(e)>16)throw Error(UO+Mr(e));if(!e.s)return new d(Pa);for(cr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(xc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Pa),d.precision=l;;){if(a=Lt(a.times(e),l),r=r.times(++c),o=i.plus(oo(a,r,l)),vs(o.d).slice(0,l)===vs(i.d).slice(0,l)){for(;u--;)i=Lt(i.times(i),l);return d.precision=f,t==null?(cr=!0,Lt(i,f)):i}i=o}}function Mr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Yj(e,t,r){if(t>e.LN10.sd())throw cr=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return Lt(new e(e.LN10),t)}function Ko(e){for(var t="";e--;)t+="0";return t}function Fp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(li+(m.s?"NaN":"-Infinity"));if(m.eq(Pa))return new p(0);if(t==null?(cr=!1,u=v):u=t,m.eq(10))return t==null&&(cr=!0),Yj(p,u);if(u+=h,p.precision=u,r=vs(g),n=r.charAt(0),i=Mr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vs(m.d),n=r.charAt(0),f++;i=Mr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=Yj(p,u+2,v).times(i+""),m=Fp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(cr=!0,Lt(m,v)):m;for(l=o=m=oo(m.minus(Pa),m.plus(Pa),u),d=Lt(m.times(m),u),a=3;;){if(o=Lt(o.times(d),u),c=l.plus(oo(o,new p(a),u)),vs(c.d).slice(0,u)===vs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Yj(p,u+2,v).times(i+""))),l=oo(l,new p(f),u),p.precision=v,t==null?(cr=!0,Lt(l,v)):l;l=c,a+=2}}function DR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ch(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),cr&&(e.e>pb||e.e<-pb))throw Error(UO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,a=n-Xt+o}if(r!==void 0&&(i=xc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/xc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Mr(e),f.length=1,t=t-i-1,f[0]=xc(10,(Xt-t%Xt)%Xt),e.e=Ch(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=xc(10,Xt-n),f[d]=a>0?(u/xc(10,o-a)%xc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cr&&(e.e>pb||e.e<-pb))throw Error(UO+Mr(e));return e}function lq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?Lt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Xt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[a]+=Jr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cr?Lt(t,m):t):new h(0)}function mu(e,t,r){var n,a=Mr(e),i=vs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ko(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ko(-a-1)+i,r&&(n=r-o)>0&&(i+=Ko(n))):a>=o?(i+=Ko(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ko(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ko(n))),e.s<0?"-"+i:i}function LR(e,t){if(e.length>t)return e.length=t,!0}function cq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DR(o,i.toString())}else if(typeof i!="string")throw Error(qc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,FTe.test(i))DR(o,i);else throw Error(qc+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=cq,a.config=a.set=BTe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function BTe(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,a=["precision",1,kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ch(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(qc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(qc+r+": "+n);return this}var zO=cq(LTe);Pa=new zO(1);const Tt=zO;function UTe(e){return HTe(e)||WTe(e)||VTe(e)||zTe()}function zTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VTe(e,t){if(e){if(typeof e=="string")return XN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XN(e,t)}}function WTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function HTe(e){if(Array.isArray(e))return XN(e)}function XN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qTe=function(t){return t},uq={},dq=function(t){return t===uq},FR=function(t){return function r(){return arguments.length===0||arguments.length===1&&dq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},GTe=function e(t,r){return t===1?r:FR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==uq}).length;return o>=t?r.apply(void 0,a):e(t-o,FR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return dq(f)?c.shift():f});return r.apply(void 0,UTe(d).concat(c))}))})},Bw=function(t){return GTe(t.length,t)},QN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},KTe=Bw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),YTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qTe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},ZN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},fq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function JTe(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function XTe(e,t,r){for(var n=new Tt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var QTe=Bw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),ZTe=Bw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),e2e=Bw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Uw={rangeStep:XTe,getDigitCount:JTe,interpolateNumber:QTe,uninterpolateNumber:ZTe,uninterpolateTruncation:e2e};function ek(e){return n2e(e)||r2e(e)||hq(e)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r2e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function n2e(e){if(Array.isArray(e))return tk(e)}function Bp(e,t){return s2e(e)||i2e(e,t)||hq(e,t)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(e,t){if(e){if(typeof e=="string")return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function s2e(e){if(Array.isArray(e))return e}function mq(e){var t=Bp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function pq(e,t,r){if(e.lte(0))return new Tt(0);var n=Uw.getDigitCount(e.toNumber()),a=new Tt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Tt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Tt(Math.ceil(c))}function o2e(e,t,r){var n=1,a=new Tt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Tt(10).pow(Uw.getDigitCount(e)-1),a=new Tt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Tt(Math.floor(e)))}else e===0?a=new Tt(Math.floor((t-1)/2)):r||(a=new Tt(Math.floor(e)));var o=Math.floor((t-1)/2),l=YTe(KTe(function(c){return a.add(new Tt(c-o).mul(n)).toNumber()}),QN);return l(0,t)}function gq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var i=pq(new Tt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Tt(0):(o=new Tt(e).add(t).div(2),o=o.sub(new Tt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Tt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?gq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Tt(l).mul(i)),tickMax:o.add(new Tt(c).mul(i))})}function l2e(e){var t=Bp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=mq([r,n]),c=Bp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(ek(QN(0,a-1).map(function(){return 1/0}))):[].concat(ek(QN(0,a-1).map(function(){return-1/0})),[d]);return r>n?ZN(f):f}if(u===d)return o2e(u,a,i);var h=gq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,v=Uw.rangeStep(g,p.add(new Tt(.1).mul(m)),m);return r>n?ZN(v):v}function c2e(e,t){var r=Bp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mq([n,a]),l=Bp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=pq(new Tt(u).sub(c).div(d-1),i,0),h=[].concat(ek(Uw.rangeStep(new Tt(c),new Tt(u).sub(new Tt(.99).mul(f)),f)),[u]);return n>a?ZN(h):h}var u2e=fq(l2e),d2e=fq(c2e),f2e="Invariant failed";function pu(e,t){throw new Error(f2e)}var h2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function m2e(e,t){return y2e(e)||v2e(e,t)||g2e(e,t)||p2e()}function p2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g2e(e,t){if(e){if(typeof e=="string")return BR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BR(e,t)}}function BR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function y2e(e){if(Array.isArray(e))return e}function x2e(e,t){if(e==null)return{};var r=b2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function b2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xq(n.key),n)}}function j2e(e,t,r){return t&&_2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S2e(e,t,r){return t=vb(t),N2e(e,vq()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function N2e(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k2e(e)}function k2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vq=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function C2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rk(e,t)}function rk(e,t){return rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rk(e,t)}function yq(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=E2e(e,"string");return Tf(t)=="symbol"?t:t+""}function E2e(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zg=function(e){function t(){return w2e(this,t),S2e(this,t,arguments)}return C2e(t,e),j2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=x2e(n,h2e),m=De(h,!1);this.props.direction==="x"&&d.type!=="number"&&pu();var g=c.map(function(p){var v=u(p,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],N,k;if(Array.isArray(_)){var P=m2e(_,2);N=P[0],k=P[1]}else N=k=_;if(i==="vertical"){var O=d.scale,A=x+a,$=A+o,T=A-o,U=O(w-N),I=O(w+k);S.push({x1:I,y1:$,x2:I,y2:T}),S.push({x1:U,y1:A,x2:I,y2:A}),S.push({x1:U,y1:$,x2:U,y2:T})}else if(i==="horizontal"){var V=f.scale,L=b+a,z=L-o,R=L+o,F=V(w-N),K=V(w+k);S.push({x1:z,y1:K,x2:R,y2:K}),S.push({x1:L,y1:F,x2:L,y2:K}),S.push({x1:z,y1:F,x2:R,y2:F})}return M.createElement(dt,gb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),S.map(function(re){return M.createElement("line",gb({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return M.createElement(dt,{className:"recharts-errorBars"},g)}}])}(M.Component);yq(zg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yq(zg,"displayName","ErrorBar");function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function UR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(r),!0).forEach(function(n){P2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P2e(e,t,r){return t=O2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O2e(e){var t=A2e(e,"string");return Up(t)=="symbol"?t:t+""}function A2e(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=_a(r,so);if(!o)return null;var l=so.defaultProps,c=l!==void 0?ic(ic({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?ic(ic({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:VO(f),value:p||g,payload:m}}),ic(ic(ic({},c),so.getWithHeight(o,a)),{},{payload:u,item:o})};function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function zR(e){return I2e(e)||$2e(e)||M2e(e)||T2e()}function T2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function $2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I2e(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){Hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hd(e,t,r){return t=R2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2e(e){var t=D2e(e,"string");return zp(t)=="symbol"?t:t+""}function D2e(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return et(e)||et(t)?r:Vr(t)?Ia(e,t,r):We(t)?t(e):r}function Im(e,t,r,n){var a=$Te(e,function(l){return _r(l,t)});if(r==="number"){var i=a.filter(function(l){return pe(l)||parseFloat(l)});return i.length?[Fw(i),ul(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!et(l)}):a;return o.map(function(l){return Vr(l)||l instanceof Date?l:""})}var L2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Bn(f-d)!==Bn(h-f)){var g=[];if(Bn(h-f)===Bn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},VO=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},F2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(k){return io(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?yr(yr({},x),b[0].props):b[0].props,_=w.barSize,S=w[v];o[S]||(o[S]=[]);var N=et(_)?r:_;o[S].push({item:b[0],stackList:b.slice(1),barSize:et(N)?void 0:Un(N,n,0)})}}return o},B2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Un(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(_,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},k=[].concat(zR(_),[N]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){k.push({item:P,position:v})}),k},f)}else{var b=Un(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(_,S,N){var k=[].concat(zR(_),[{item:S.item,position:{offset:b+(x+u)*N+(x-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){k.push({item:P,position:k[k.length-1].position})}),k},f)}return d},U2e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=bq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&pe(t[m]))return yr(yr({},t),{},Hd({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&pe(t[g]))return yr(yr({},t),{},Hd({},g,t[g]+(h||0)))}return t},z2e=function(t,r,n){return et(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wq=function(t,r,n,a,i){var o=r.props.children,l=Ra(o,zg).filter(function(u){return z2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_r(d,n);if(et(f))return u;var h=Array.isArray(f)?[Fw(f),ul(f)]:[f,f],m=c.reduce(function(g,p){var v=_r(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},V2e=function(t,r,n,a,i){var o=r.map(function(l){return wq(t,l,n,i,a)}).filter(function(l){return!et(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},_q=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&wq(t,c,u,a)||Im(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},jq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Sq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},to=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!wh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Jj=new WeakMap,Uv=function(t,r){if(typeof r!="function")return t;Jj.has(t)||Jj.set(t,new WeakMap);var n=Jj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Nq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$p(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:db(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:$m(),realScaleType:"point"}:i==="category"?{scale:$p(),realScaleType:"band"}:{scale:db(),realScaleType:"linear"};if(uu(a)){var c="scale".concat(Sw(a));return{scale:(RR[c]||$m)(),realScaleType:RR[c]?c:"point"}}return We(a)?{scale:a}:{scale:$m(),realScaleType:"point"}},WR=1e-4,kq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-WR,o=Math.max(a[0],a[1])+WR,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},W2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},H2e=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},q2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=wh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},G2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=wh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},K2e={sign:q2e,expand:hwe,none:Sf,silhouette:mwe,wiggle:pwe,positive:G2e},Y2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=K2e[n],o=fwe().keys(a).value(function(l,c){return+_r(l,c,0)}).order(EN).offset(i);return o(t)},J2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yr(yr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(Vr(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[Pu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yr(yr({},f),{},Hd({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return yr(yr({},p),{},Hd({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:Y2e(t,b.items,i)}))},g)}return yr(yr({},f),{},Hd({},h,m))},d)},Cq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=u2e(u,i,l);return t.domain([Fw(d),ul(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=d2e(f,i,l);return{niceTicks:h}}return null};function yb(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(a[t.dataKey])){var l=Vx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_r(a,et(o)?t.dataKey:o);return et(c)?null:t.scale(c)}var HR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_r(o,r.dataKey,r.domain[l]);return et(c)?null:r.scale(c)-i/2+a},X2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Q2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Vr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Z2e=function(t){return t.reduce(function(r,n){return[Fw(n.concat([r[0]]).filter(pe)),ul(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},Eq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Z2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},qR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ak=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(qR.test(t[0])){var i=+qR.exec(t[0])[1];a[0]=r[0]-i}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(GR.test(t[1])){var o=+GR.exec(t[1])[1];a[1]=r[1]+o}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=vO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},KR=function(t,r,n){return!t||!t.length||hu(t,Ia(n,"type.defaultProps.domain"))?r:t},Pq=function(t,r){var n=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yr(yr({},De(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:VO(t),value:_r(r,a),type:c,payload:r,chartType:u,hide:d})};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return t=eMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eMe(e){var t=tMe(e,"string");return Vp(t)=="symbol"?t:t+""}function tMe(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rMe(e,t){return sMe(e)||iMe(e,t)||aMe(e,t)||nMe()}function nMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aMe(e,t){if(e){if(typeof e=="string")return JR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JR(e,t)}}function JR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sMe(e){if(Array.isArray(e))return e}var bb=Math.PI/180,oMe=function(t){return t*180/Math.PI},Ht=function(t,r,n,a){return{x:t+Math.cos(-bb*a)*n,y:r+Math.sin(-bb*a)*n}},Aq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},lMe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Un(t.cx,o,o/2),f=Un(t.cy,l,l/2),h=Aq(o,l,n),m=Un(t.innerRadius,h,0),g=Un(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,S;if(et(x.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),_&&(S=[S[1],S[0]]);else{S=x.range;var N=S,k=rMe(N,2);c=k[0],u=k[1]}var P=Nq(x,i),O=P.realScaleType,A=P.scale;A.domain(w).range(S),kq(A);var $=Cq(A,Hs(Hs({},x),{},{realScaleType:O})),T=Hs(Hs(Hs({},x),$),{},{range:S,radius:g,realScaleType:O,scale:A,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Hs(Hs({},v),{},Oq({},b,T))},{})},cMe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},uMe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=cMe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:oMe(u),angleInRadian:u}},dMe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},fMe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},XR=function(t,r){var n=t.x,a=t.y,i=uMe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=dMe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Hs(Hs({},r),{},{radius:o,angle:fMe(m,r)}):null},Tq=function(t){return!y.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}var hMe=["offset"];function mMe(e){return yMe(e)||vMe(e)||gMe(e)||pMe()}function pMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gMe(e,t){if(e){if(typeof e=="string")return ik(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ik(e,t)}}function vMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yMe(e){if(Array.isArray(e))return ik(e)}function ik(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xMe(e,t){if(e==null)return{};var r=bMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){wMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wMe(e,t,r){return t=_Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Me(e){var t=jMe(e,"string");return Wp(t)=="symbol"?t:t+""}function jMe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}var SMe=function(t){var r=t.value,n=t.formatter,a=et(t.children)?r:t.children;return We(n)?n(a):a},NMe=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},kMe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,b=NMe(m,g),x=b>=0?1:-1,w,_;a==="insideStart"?(w=m+x*o,_=p):a==="insideEnd"?(w=g-x*o,_=!p):a==="end"&&(w=g+x*o,_=p),_=b<=0?_:!_;var S=Ht(u,d,v,w),N=Ht(u,d,v,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),P=et(t.id)?Pu("recharts-radial-line-"):t.id;return M.createElement("text",Hp({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:P,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},CMe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Ht(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Ht(o,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},EMe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Rr(Rr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Rr(Rr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?Rr({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?Rr({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Rr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Rr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},k):i==="insideTopLeft"?Rr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},k):i==="insideTopRight"?Rr({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideBottomLeft"?Rr({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},k):i==="insideBottomRight"?Rr({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},k):vh(i)&&(pe(i.x)||Pc(i.x))&&(pe(i.y)||Pc(i.y))?Rr({x:l+Un(i.x,u),y:c+Un(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):Rr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},PMe=function(t){return"cx"in t&&pe(t.cx)};function en(e){var t=e.offset,r=t===void 0?5:t,n=xMe(e,hMe),a=Rr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||et(l)&&et(c)&&!y.isValidElement(u)&&!We(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(We(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=SMe(a);var g=PMe(i),p=De(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return kMe(a,m,p);var v=g?CMe(a):EMe(a);return M.createElement(fu,Hp({className:tt("recharts-label",f)},p,v,{breakAll:h}),m)}en.displayName="Label";var Mq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(pe(p)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:p,height:v};if(pe(m)&&pe(g))return{x:m,y:g,width:p,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},OMe=function(t,r){return t?t===!0?M.createElement(en,{key:"label-implicit",viewBox:r}):Vr(t)?M.createElement(en,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===en?y.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):We(t)?M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):vh(t)?M.createElement(en,Hp({viewBox:r},t,{key:"label-implicit"})):null:null},AMe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Mq(t),o=Ra(a,en).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=OMe(t.label,r||i);return[l].concat(mMe(o))};en.parseViewBox=Mq;en.renderCallByParent=AMe;function TMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var MMe=TMe;const $Me=Ct(MMe);function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}var IMe=["valueAccessor"],RMe=["data","dataKey","clockWise","id","textBreakAll"];function DMe(e){return UMe(e)||BMe(e)||FMe(e)||LMe()}function LMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FMe(e,t){if(e){if(typeof e=="string")return sk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sk(e,t)}}function BMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UMe(e){if(Array.isArray(e))return sk(e)}function sk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wb(){return wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wb.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){zMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zMe(e,t,r){return t=VMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VMe(e){var t=WMe(e,"string");return qp(t)=="symbol"?t:t+""}function WMe(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tD(e,t){if(e==null)return{};var r=HMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qMe=function(t){return Array.isArray(t.value)?$Me(t.value):t.value};function Ss(e){var t=e.valueAccessor,r=t===void 0?qMe:t,n=tD(e,IMe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=tD(n,RMe);return!a||!a.length?null:M.createElement(dt,{className:"recharts-label-list"},a.map(function(d,f){var h=et(i)?r(d,f):_r(d&&d.payload,i),m=et(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(en,wb({},De(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:en.parseViewBox(et(o)?d:eD(eD({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ss.displayName="LabelList";function GMe(e,t){return e?e===!0?M.createElement(Ss,{key:"labelList-implicit",data:t}):M.isValidElement(e)||We(e)?M.createElement(Ss,{key:"labelList-implicit",data:t,content:e}):vh(e)?M.createElement(Ss,wb({data:t},e,{key:"labelList-implicit"})):null:null}function KMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ra(n,Ss).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=GMe(e.label,t);return[i].concat(DMe(a))}Ss.renderCallByParent=KMe;function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ok.apply(this,arguments)}function rD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rD(Object(r),!0).forEach(function(n){YMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YMe(e,t,r){return t=JMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JMe(e){var t=XMe(e,"string");return Gp(t)=="symbol"?t:t+""}function XMe(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QMe=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},zv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/bb,h=u?i:i+o*f,m=Ht(r,n,d,h),g=Ht(r,n,a,h),p=u?i-o*f:i,v=Ht(r,n,d*Math.cos(f*bb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},$q=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=QMe(o,l),u=o+c,d=Ht(r,n,i,o),f=Ht(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ht(r,n,a,o),g=Ht(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},ZMe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bn(d-u),h=zv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=zv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):$q({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=zv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,P=N.lineTangency,O=N.theta,A=zv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=A.circleTangency,T=A.lineTangency,U=A.theta,I=c?Math.abs(u-d):Math.abs(u-d)-O-U;if(I<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat($.x,",").concat($.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},e$e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Iq=function(t){var r=nD(nD({},e$e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=tt("recharts-sector",h),g=o-i,p=Un(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=ZMe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=$q({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",ok({},De(r,!0),{className:m,d:v,role:"img"}))};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){t$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$e(e,t,r){return t=r$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r$e(e){var t=n$e(e,"string");return Kp(t)=="symbol"?t:t+""}function n$e(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sD={curveBasisClosed:twe,curveBasisOpen:rwe,curveBasis:ewe,curveBumpX:B0e,curveBumpY:U0e,curveLinearClosed:nwe,curveLinear:kw,curveMonotoneX:awe,curveMonotoneY:iwe,curveNatural:swe,curveStep:owe,curveStepAfter:cwe,curveStepBefore:lwe},Vv=function(t){return t.x===+t.x&&t.y===+t.y},tm=function(t){return t.x},rm=function(t){return t.y},a$e=function(t,r){if(We(t))return t;var n="curve".concat(Sw(t));return(n==="curveMonotone"||n==="curveBump")&&r?sD["".concat(n).concat(r==="vertical"?"Y":"X")]:sD[n]||kw},i$e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=a$e(n,l),f=u?i.filter(function(p){return Vv(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Vv(p)}):o,g=f.map(function(p,v){return iD(iD({},p),{},{base:m[v]})});return l==="vertical"?h=Mv().y(rm).x1(tm).x0(function(p){return p.base.x}):h=Mv().x(tm).y1(rm).y0(function(p){return p.base.y}),h.defined(Vv).curve(d),h(g)}return l==="vertical"&&pe(o)?h=Mv().y(rm).x1(tm).x0(o):pe(o)?h=Mv().x(tm).y1(rm).y0(o):h=O9().x(tm).y(rm),h.defined(Vv).curve(d),h(f)},Gc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?i$e(t):a;return y.createElement("path",lk({},De(t,!1),Wx(t),{className:tt("recharts-curve",r),d:o,ref:i}))},Rq={exports:{}},s$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o$e=s$e,l$e=o$e;function Dq(){}function Lq(){}Lq.resetWarningCache=Dq;var c$e=function(){function e(n,a,i,o,l,c){if(c!==l$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Lq,resetWarningCache:Dq};return r.PropTypes=r,r};Rq.exports=c$e();var u$e=Rq.exports;const Nt=Ct(u$e),{getOwnPropertyNames:d$e,getOwnPropertySymbols:f$e}=Object,{hasOwnProperty:h$e}=Object.prototype;function Xj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Wv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function m$e(e){return e!=null?e[Symbol.toStringTag]:void 0}function oD(e){return d$e(e).concat(f$e(e))}const p$e=Object.hasOwn||((e,t)=>h$e.call(e,t));function Tu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const g$e="__v",v$e="__o",y$e="_owner",{getOwnPropertyDescriptor:lD,keys:cD}=Object;function x$e(e,t){return e.byteLength===t.byteLength&&_b(new Uint8Array(e),new Uint8Array(t))}function b$e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function w$e(e,t){return e.byteLength===t.byteLength&&_b(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function _$e(e,t){return Tu(e.getTime(),t.getTime())}function j$e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function S$e(e,t){return e===t}function uD(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const N$e=Tu;function k$e(e,t,r){const n=cD(e);let a=n.length;if(cD(t).length!==a)return!1;for(;a-- >0;)if(!Fq(e,t,r,n[a]))return!1;return!0}function nm(e,t,r){const n=oD(e);let a=n.length;if(oD(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!Fq(e,t,r,i)||(o=lD(e,i),l=lD(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function C$e(e,t){return Tu(e.valueOf(),t.valueOf())}function E$e(e,t){return e.source===t.source&&e.flags===t.flags}function dD(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function _b(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function P$e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Fq(e,t,r,n){return(n===y$e||n===v$e||n===g$e)&&(e.$$typeof||t.$$typeof)?!0:p$e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const O$e="[object ArrayBuffer]",A$e="[object Arguments]",T$e="[object Boolean]",M$e="[object DataView]",$$e="[object Date]",I$e="[object Error]",R$e="[object Map]",D$e="[object Number]",L$e="[object Object]",F$e="[object RegExp]",B$e="[object Set]",U$e="[object String]",z$e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},V$e="[object URL]",W$e=Object.prototype.toString;function H$e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,x):w==="function"?i(v,b,x):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,x);if(Array.isArray(v))return t(v,b,x);if(_===Date)return n(v,b,x);if(_===RegExp)return d(v,b,x);if(_===Map)return o(v,b,x);if(_===Set)return f(v,b,x);const S=W$e.call(v);if(S===$$e)return n(v,b,x);if(S===F$e)return d(v,b,x);if(S===R$e)return o(v,b,x);if(S===B$e)return f(v,b,x);if(S===L$e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,x);if(S===V$e)return m(v,b,x);if(S===I$e)return a(v,b,x);if(S===A$e)return c(v,b,x);if(z$e[S])return h(v,b,x);if(S===O$e)return e(v,b,x);if(S===M$e)return r(v,b,x);if(S===T$e||S===D$e||S===U$e)return u(v,b,x);if(g){let N=g[S];if(!N){const k=m$e(v);k&&(N=g[k])}if(N)return N(v,b,x)}return!1}}function q$e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:x$e,areArraysEqual:r?nm:b$e,areDataViewsEqual:w$e,areDatesEqual:_$e,areErrorsEqual:j$e,areFunctionsEqual:S$e,areMapsEqual:r?Xj(uD,nm):uD,areNumbersEqual:N$e,areObjectsEqual:r?nm:k$e,arePrimitiveWrappersEqual:C$e,areRegExpsEqual:E$e,areSetsEqual:r?Xj(dD,nm):dD,areTypedArraysEqual:r?Xj(_b,nm):_b,areUrlsEqual:P$e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Wv(n.areArraysEqual),i=Wv(n.areMapsEqual),o=Wv(n.areObjectsEqual),l=Wv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function G$e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function K$e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const Y$e=Jl();Jl({strict:!0});Jl({circular:!0});Jl({circular:!0,strict:!0});Jl({createInternalComparator:()=>Tu});Jl({strict:!0,createInternalComparator:()=>Tu});Jl({circular:!0,createInternalComparator:()=>Tu});Jl({circular:!0,createInternalComparator:()=>Tu,strict:!0});function Jl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=q$e(e),o=H$e(i),l=r?r(o):G$e(o);return K$e({circular:t,comparator:o,createState:n,equals:l,strict:a})}function J$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function fD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):J$e(a)};requestAnimationFrame(n)}function ck(e){"@babel/helpers - typeof";return ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ck(e)}function X$e(e){return tIe(e)||eIe(e)||Z$e(e)||Q$e()}function Q$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z$e(e,t){if(e){if(typeof e=="string")return hD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hD(e,t)}}function hD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tIe(e){if(Array.isArray(e))return e}function rIe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=X$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){fD(a.bind(null,u),c);return}a(c),fD(a.bind(null,u));return}ck(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){Bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bq(e,t,r){return t=nIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nIe(e){var t=aIe(e,"string");return Yp(t)==="symbol"?t:String(t)}function aIe(e,t){if(Yp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},sIe=function(t){return t},oIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rm=function(t,r){return Object.keys(r).reduce(function(n,a){return pD(pD({},n),{},Bq({},a,t(a,r[a])))},{})},gD=function(t,r,n){return t.map(function(a){return"".concat(oIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function lIe(e,t){return dIe(e)||uIe(e,t)||Uq(e,t)||cIe()}function cIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dIe(e){if(Array.isArray(e))return e}function fIe(e){return pIe(e)||mIe(e)||Uq(e)||hIe()}function hIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uq(e,t){if(e){if(typeof e=="string")return uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(e,t)}}function mIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pIe(e){if(Array.isArray(e))return uk(e)}function uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jb=1e-4,zq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Vq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},vD=function(t,r){return function(n){var a=zq(t,r);return Vq(a,n)}},gIe=function(t,r){return function(n){var a=zq(t,r),i=[].concat(fIe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Vq(i,n)}},yD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=lIe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=vD(a,o),h=vD(i,l),m=gIe(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var S=f(w)-x,N=m(w);if(Math.abs(S-x)<jb||N<jb)return h(w);w=g(w-S/N)}return h(w)};return p.isStepper=!1,p},vIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<jb&&Math.abs(p)<jb?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},yIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return yD(a);case"spring":return vIe();default:if(a.split("(")[0]==="cubic-bezier")return yD(a)}return typeof a=="function"?a:null};function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function xD(e){return wIe(e)||bIe(e)||Wq(e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wIe(e){if(Array.isArray(e))return fk(e)}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){dk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dk(e,t,r){return t=_Ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ie(e){var t=jIe(e,"string");return Jp(t)==="symbol"?t:String(t)}function jIe(e,t){if(Jp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SIe(e,t){return CIe(e)||kIe(e,t)||Wq(e,t)||NIe()}function NIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wq(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function CIe(e){if(Array.isArray(e))return e}var Sb=function(t,r,n){return t+(r-t)*n},hk=function(t){var r=t.from,n=t.to;return r!==n},EIe=function e(t,r,n){var a=Rm(function(i,o){if(hk(o)){var l=t(o.from,o.to,o.velocity),c=SIe(l,2),u=c[0],d=c[1];return un(un({},o),{},{from:u,velocity:d})}return o},r);return n<1?Rm(function(i,o){return hk(o)?un(un({},o),{},{velocity:Sb(o.velocity,a[i].velocity,n),from:Sb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const PIe=function(e,t,r,n,a){var i=iIe(e,t),o=i.reduce(function(v,b){return un(un({},v),{},dk({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return un(un({},v),{},dk({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Rm(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(hk).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=EIe(r,l,w),a(un(un(un({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=Rm(function(S,N){return Sb.apply(void 0,xD(N).concat([r(x)]))},o);if(a(un(un(un({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=Rm(function(S,N){return Sb.apply(void 0,xD(N).concat([r(1)]))},o);a(un(un(un({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}var OIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function AIe(e,t){if(e==null)return{};var r=TIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Qj(e){return RIe(e)||IIe(e)||$Ie(e)||MIe()}function MIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ie(e,t){if(e){if(typeof e=="string")return mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mk(e,t)}}function IIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RIe(e){if(Array.isArray(e))return mk(e)}function mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function FIe(e,t,r){return t&&LIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e){var t=BIe(e,"string");return Mf(t)==="symbol"?t:String(t)}function BIe(e,t){if(Mf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pk(e,t)}function pk(e,t){return pk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pk(e,t)}function zIe(e){var t=VIe();return function(){var n=Nb(e),a;if(t){var i=Nb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return gk(this,a)}}function gk(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vk(e)}function vk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}var Xi=function(e){UIe(r,e);var t=zIe(r);function r(n,a){var i;DIe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(vk(i)),i.changeStyle=i.changeStyle.bind(vk(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),gk(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},gk(i);i.state={style:c?pm({},c,u):u}}else i.state={style:{}};return i}return FIe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?pm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Y$e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?pm({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(xi(xi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=PIe(o,l,yIe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,N=v.properties,k=v.onAnimationEnd,P=b>0?o[b-1]:v,O=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Qj(p),[i.runJSAnimation.bind(i,{from:P.style,to:S,duration:x,easing:_}),x]);var A=gD(O,x,_),$=xi(xi(xi({},P.style),S),{},{transition:A});return[].concat(Qj(p),[$,x,k]).filter(sIe)};return this.manager.start([c].concat(Qj(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=rIe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?pm({},l,c):c,v=gD(Object.keys(p),o,u);g.start([d,i,xi(xi({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=AIe(a,OIe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,x=y.cloneElement(m,xi(xi({},c),{},{style:xi(xi({},v),d),className:b}));return x};return u===1?f(y.Children.only(i)):M.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);Xi.displayName="Animate";Xi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xi.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function kb(){return kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kb.apply(this,arguments)}function WIe(e,t){return KIe(e)||GIe(e,t)||qIe(e,t)||HIe()}function HIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qIe(e,t){if(e){if(typeof e=="string")return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}}function _D(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function KIe(e){if(Array.isArray(e))return e}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){YIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YIe(e,t,r){return t=JIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JIe(e){var t=XIe(e,"string");return Xp(t)=="symbol"?t:t+""}function XIe(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ND=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},QIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},ZIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WO=function(t){var r=SD(SD({},ZIe),t),n=y.useRef(),a=y.useState(-1),i=WIe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=tt("recharts-rectangle",m);return x?M.createElement(Xi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(_){var S=_.width,N=_.height,k=_.x,P=_.y;return M.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},M.createElement("path",kb({},De(r,!0),{className:w,d:ND(k,P,S,N,h),ref:n})))}):M.createElement("path",kb({},De(r,!0),{className:w,d:ND(c,u,d,f,h)}))},eRe=["points","className","baseLinePoints","connectNulls"];function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function tRe(e,t){if(e==null)return{};var r=rRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kD(e){return sRe(e)||iRe(e)||aRe(e)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aRe(e,t){if(e){if(typeof e=="string")return yk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yk(e,t)}}function iRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sRe(e){if(Array.isArray(e))return yk(e)}function yk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var CD=function(t){return t&&t.x===+t.x&&t.y===+t.y},oRe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){CD(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),CD(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Dm=function(t,r){var n=oRe(t);r&&(n=[n.reduce(function(i,o){return[].concat(kD(i),kD(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},lRe=function(t,r,n){var a=Dm(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Dm(r.reverse(),n).slice(1))},cRe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=tRe(t,eRe);if(!r||!r.length)return null;var l=tt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=lRe(r,a,i);return M.createElement("g",{className:l},M.createElement("path",Nd({},De(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",Nd({},De(o,!0),{fill:"none",d:Dm(r,i)})):null,c?M.createElement("path",Nd({},De(o,!0),{fill:"none",d:Dm(a,i)})):null)}var d=Dm(r,i);return M.createElement("path",Nd({},De(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function xk(){return xk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xk.apply(this,arguments)}var Vg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",xk({},De(t,!1),Wx(t),{className:o,cx:r,cy:n,r:a})):null};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}var uRe=["x","y","top","left","width","height","className"];function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(n){fRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fRe(e,t,r){return t=hRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hRe(e){var t=mRe(e,"string");return Qp(t)=="symbol"?t:t+""}function mRe(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pRe(e,t){if(e==null)return{};var r=gRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var vRe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},yRe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=pRe(t,uRe),v=dRe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!pe(n)||!pe(i)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:M.createElement("path",bk({},De(v,!0),{className:tt("recharts-cross",g),d:vRe(n,i,f,m,l,u)}))},xRe=Lw,bRe=nq,wRe=Is;function _Re(e,t){return e&&e.length?xRe(e,wRe(t),bRe):void 0}var jRe=_Re;const SRe=Ct(jRe);var NRe=Lw,kRe=Is,CRe=aq;function ERe(e,t){return e&&e.length?NRe(e,kRe(t),CRe):void 0}var PRe=ERe;const ORe=Ct(PRe);var ARe=["cx","cy","angle","ticks","axisLine"],TRe=["ticks","tick","angle","tickFormatter","stroke"];function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OD(e,t){if(e==null)return{};var r=MRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gq(n.key),n)}}function IRe(e,t,r){return t&&AD(e.prototype,t),r&&AD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RRe(e,t,r){return t=Cb(t),DRe(e,qq()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function DRe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LRe(e)}function LRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function FRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function zw(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=BRe(e,"string");return $f(t)=="symbol"?t:t+""}function BRe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vw=function(e){function t(){return $Re(this,t),RRe(this,t,arguments)}return FRe(t,e),IRe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ht(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=SRe(l,function(d){return d.coordinate||0}),u=ORe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=OD(n,ARe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Ht(a,i,d[0],o),h=Ht(a,i,d[1],o),m=sc(sc(sc({},De(u,!1)),{},{fill:"none"},De(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Lm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=OD(a,TRe),f=this.getTickTextAnchor(),h=De(d,!1),m=De(o,!1),g=i.map(function(p,v){var b=n.getTickValueCoord(p),x=sc(sc(sc(sc({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},b),{},{payload:p});return M.createElement(dt,Lm({className:tt("recharts-polar-radius-axis-tick",Tq(o)),key:"tick-".concat(p.coordinate)},du(n.props,p,v)),t.renderTickItem(o,x,c?c(p.value,v):p.value))});return M.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:M.createElement(dt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),en.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=M.createElement(fu,Lm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);zw(Vw,"displayName","PolarRadiusAxis");zw(Vw,"axisType","radiusAxis");zw(Vw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function _c(){return _c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_c.apply(this,arguments)}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){Ww(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function URe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function zRe(e,t,r){return t&&MD(e.prototype,t),r&&MD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VRe(e,t,r){return t=Eb(t),WRe(e,Kq()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function WRe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(e)}function HRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function qRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function Ww(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=GRe(e,"string");return If(t)=="symbol"?t:t+""}function GRe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KRe=Math.PI/180,$D=1e-5,Hw=function(e){function t(){return URe(this,t),VRe(this,t,arguments)}return qRe(t,e),zRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ht(i,o,l,n.coordinate),h=Ht(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*KRe),o;return i>$D?o=a==="outer"?"start":"end":i<-$D?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=oc(oc({},De(this.props,!1)),{},{fill:"none"},De(l,!1));if(c==="circle")return M.createElement(Vg,_c({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ht(a,i,o,h.coordinate)});return M.createElement(cRe,_c({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=De(this.props,!1),f=De(o,!1),h=oc(oc({},d),{},{fill:"none"},De(l,!1)),m=i.map(function(g,p){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=oc(oc(oc({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return M.createElement(dt,_c({className:tt("recharts-polar-angle-axis-tick",Tq(o)),key:"tick-".concat(g.coordinate)},du(n.props,g,p)),l&&M.createElement("line",_c({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,c?c(g.value,p):g.value))});return M.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:M.createElement(dt,{className:tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=M.createElement(fu,_c({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);Ww(Hw,"displayName","PolarAngleAxis");Ww(Hw,"axisType","angleAxis");Ww(Hw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var YRe=eH,JRe=YRe(Object.getPrototypeOf,Object),XRe=JRe,QRe=Eo,ZRe=XRe,eDe=Po,tDe="[object Object]",rDe=Function.prototype,nDe=Object.prototype,Jq=rDe.toString,aDe=nDe.hasOwnProperty,iDe=Jq.call(Object);function sDe(e){if(!eDe(e)||QRe(e)!=tDe)return!1;var t=ZRe(e);if(t===null)return!0;var r=aDe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Jq.call(r)==iDe}var oDe=sDe;const lDe=Ct(oDe);var cDe=Eo,uDe=Po,dDe="[object Boolean]";function fDe(e){return e===!0||e===!1||uDe(e)&&cDe(e)==dDe}var hDe=fDe;const mDe=Ct(hDe);function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(this,arguments)}function pDe(e,t){return xDe(e)||yDe(e,t)||vDe(e,t)||gDe()}function gDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vDe(e,t){if(e){if(typeof e=="string")return ID(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ID(e,t)}}function ID(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function xDe(e){if(Array.isArray(e))return e}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){bDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bDe(e,t,r){return t=wDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wDe(e){var t=_De(e,"string");return Zp(t)=="symbol"?t:t+""}function _De(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LD=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},jDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SDe=function(t){var r=DD(DD({},jDe),t),n=y.useRef(),a=y.useState(-1),i=pDe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=tt("recharts-trapezoid",m);return b?M.createElement(Xi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,N=w.height,k=w.x,P=w.y;return M.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},M.createElement("path",Pb({},De(r,!0),{className:x,d:LD(k,P,_,S,N),ref:n})))}):M.createElement("g",null,M.createElement("path",Pb({},De(r,!0),{className:x,d:LD(c,u,d,f,h)})))},NDe=["option","shapeType","propTransformer","activeClassName","isActive"];function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function kDe(e,t){if(e==null)return{};var r=CDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){EDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EDe(e,t,r){return t=PDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PDe(e){var t=ODe(e,"string");return eg(t)=="symbol"?t:t+""}function ODe(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ADe(e,t){return Ob(Ob({},t),e)}function TDe(e,t){return e==="symbols"}function BD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(WO,r);case"trapezoid":return M.createElement(SDe,r);case"sector":return M.createElement(Iq,r);case"symbols":if(TDe(t))return M.createElement(cO,r);break;default:return null}}function MDe(e){return y.isValidElement(e)?e.props:e}function Xq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?ADe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=kDe(e,NDe),u;if(y.isValidElement(t))u=y.cloneElement(t,Ob(Ob({},c),MDe(t)));else if(We(t))u=t(c);else if(lDe(t)&&!mDe(t)){var d=a(t,c);u=M.createElement(BD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(BD,{shapeType:r,elementProps:f})}return l?M.createElement(dt,{className:o},u):u}function qw(e,t){return t!=null&&"trapezoids"in e.props}function Gw(e,t){return t!=null&&"sectors"in e.props}function tg(e,t){return t!=null&&"points"in e.props}function $De(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function IDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function RDe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function DDe(e,t){var r;return qw(e,t)?r=$De:Gw(e,t)?r=IDe:tg(e,t)&&(r=RDe),r}function LDe(e,t){var r;return qw(e,t)?r="trapezoids":Gw(e,t)?r="sectors":tg(e,t)&&(r="points"),r}function FDe(e,t){if(qw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Gw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return tg(e,t)?t.payload:{}}function BDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=LDe(r,t),i=FDe(r,t),o=n.filter(function(c,u){var d=hu(i,c),f=r.props[a].filter(function(g){var p=DDe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Ry;function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function zDe(e,t,r){return t&&zD(e.prototype,t),r&&zD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VDe(e,t,r){return t=Ab(t),WDe(e,Qq()?Reflect.construct(t,r||[],Ab(e).constructor):t.apply(e,r))}function WDe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HDe(e)}function HDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ab(e)}function qDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jk(e,t)}function jk(e,t){return jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jk(e,t)}function Qa(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=GDe(e,"string");return Rf(t)=="symbol"?t:t+""}function GDe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=function(e){function t(r){var n;return UDe(this,t),n=VDe(this,t,[r]),Qa(n,"pieRef",null),Qa(n,"sectorRefs",[]),Qa(n,"id",Pu("recharts-pie-")),Qa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),Qa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return qDe(t,e),zDe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=De(this.props,!1),f=De(o,!1),h=De(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var b=(p.startAngle+p.endAngle)/2,x=Ht(p.cx,p.cy,p.outerRadius+m,b),w=Bt(Bt(Bt(Bt({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),_=Bt(Bt(Bt(Bt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Ht(p.cx,p.cy,p.outerRadius,b),x]}),S=c;return et(c)&&et(u)?S="value":et(c)&&(S=u),M.createElement(dt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,_r(p,S)))});return M.createElement(dt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=Bt(Bt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(dt,kd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},du(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(Xq,kd({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return M.createElement(Xi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(w,_){var S=h&&h[_],N=_>0?Ia(w,"paddingAngle",0):0;if(S){var k=Br(S.endAngle-S.startAngle,w.endAngle-w.startAngle),P=Bt(Bt({},w),{},{startAngle:x+N,endAngle:x+k(p)+N});v.push(P),x=P.endAngle}else{var O=w.endAngle,A=w.startAngle,$=Br(0,O-A),T=$(p),U=Bt(Bt({},w),{},{startAngle:x+N,endAngle:x+T+N});v.push(U),x=U.endAngle}}),M.createElement(dt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!hu(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var p=tt("recharts-pie",l);return M.createElement(dt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),en.renderCallByParent(this.props,null,!1),(!m||g)&&Ss.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);if(We(n))return n(a);var o=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Gc,kd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);var o=i;if(We(n)&&(o=n(a),M.isValidElement(o)))return o;var l=tt("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return M.createElement(fu,kd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);Ry=Ao;Qa(Ao,"displayName","Pie");Qa(Ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Qa(Ao,"parseDeltaAngle",function(e,t){var r=Bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Qa(Ao,"getRealPieData",function(e){var t=e.data,r=e.children,n=De(e,!1),a=Ra(r,Dg);return t&&t.length?t.map(function(i,o){return Bt(Bt(Bt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Bt(Bt({},n),i.props)}):[]});Qa(Ao,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Aq(a,i),l=n+Un(e.cx,a,a/2),c=r+Un(e.cy,i,i/2),u=Un(e.innerRadius,o,0),d=Un(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Qa(Ao,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Bt(Bt({},t.type.defaultProps),t.props):t.props,a=Ry.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Ry.parseCoordinateOfPie(n,r),p=Ry.parseDeltaAngle(o,l),v=Math.abs(p),b=u;et(u)&&et(f)?(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):et(u)&&(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=a.filter(function(P){return _r(P,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*m-w,S=a.reduce(function(P,O){var A=_r(O,b,0);return P+(pe(A)?A:0)},0),N;if(S>0){var k;N=a.map(function(P,O){var A=_r(P,b,0),$=_r(P,d,O),T=(pe(A)?A:0)/S,U;O?U=k.endAngle+Bn(p)*c*(A!==0?1:0):U=o;var I=U+Bn(p)*((A!==0?m:0)+T*_),V=(U+I)/2,L=(g.innerRadius+g.outerRadius)/2,z=[{name:$,value:A,payload:P,dataKey:b,type:h}],R=Ht(g.cx,g.cy,L,V);return k=Bt(Bt(Bt({percent:T,cornerRadius:i,name:$,tooltipPayload:z,midAngle:V,middleRadius:L,tooltipPosition:R},P),g),{},{value:_r(P,b),startAngle:U,endAngle:I,payload:P,paddingAngle:Bn(p)*c}),k})}return Bt(Bt({},g),{},{sectors:N,data:a})});var KDe=Math.ceil,YDe=Math.max;function JDe(e,t,r,n){for(var a=-1,i=YDe(KDe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var XDe=JDe,QDe=xH,VD=1/0,ZDe=17976931348623157e292;function e4e(e){if(!e)return e===0?e:0;if(e=QDe(e),e===VD||e===-VD){var t=e<0?-1:1;return t*ZDe}return e===e?e:0}var e7=e4e,t4e=XDe,r4e=Ow,Zj=e7;function n4e(e){return function(t,r,n){return n&&typeof n!="number"&&r4e(t,r,n)&&(r=n=void 0),t=Zj(t),r===void 0?(r=t,t=0):r=Zj(r),n=n===void 0?t<r?1:-1:Zj(n),t4e(t,r,n,e)}}var a4e=n4e,i4e=a4e,s4e=i4e(),o4e=s4e;const Tb=Ct(o4e);function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){t7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t7(e,t,r){return t=l4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4e(e){var t=c4e(e,"string");return rg(t)=="symbol"?t:t+""}function c4e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u4e=["Webkit","Moz","O","ms"],d4e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=u4e.reduce(function(i,o){return HD(HD({},i),{},t7({},o+n,r))},{});return a[t]=r,a};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n7(n.key),n)}}function h4e(e,t,r){return t&&GD(e.prototype,t),r&&GD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m4e(e,t,r){return t=$b(t),p4e(e,r7()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function p4e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g4e(e)}function g4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function v4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function ba(e,t,r){return t=n7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=y4e(e,"string");return Df(t)=="symbol"?t:t+""}function y4e(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x4e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=$m().domain(Tb(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},KD=function(t){return t.changedTouches&&!!t.changedTouches.length},Lf=function(e){function t(r){var n;return f4e(this,t),n=m4e(this,t,[r]),ba(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ba(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ba(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ba(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ba(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ba(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ba(n,"handleSlideDragStart",function(a){var i=KD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v4e(t,e),h4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=_r(i[n],l,n);return We(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=KD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,N=function(){var P=v.length-1;return o==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===P||o==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===P};this.setState(ba(ba({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(ba({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=e1(e1({},De(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return M.createElement(dt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(dt,{className:"recharts-brush-texts"},M.createElement(fu,Mb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),M.createElement(fu,Mb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var w=tt("recharts-brush",i),_=M.Children.count(o)===1,S=d4e("userSelect","none");return M.createElement(dt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,a):We(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return e1({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?x4e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);ba(Lf,"displayName","Brush");ba(Lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var b4e=gO;function w4e(e,t){var r;return b4e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var _4e=w4e,j4e=q9,S4e=Is,N4e=_4e,k4e=fa,C4e=Ow;function E4e(e,t,r){var n=k4e(e)?j4e:N4e;return r&&C4e(e,t,r)&&(t=void 0),n(e,S4e(t))}var P4e=E4e;const O4e=Ct(P4e);var Ns=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},YD=mH;function A4e(e,t,r){t=="__proto__"&&YD?YD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var T4e=A4e,M4e=T4e,$4e=fH,I4e=Is;function R4e(e,t){var r={};return t=I4e(t),$4e(e,function(n,a,i){M4e(r,a,t(n,a,i))}),r}var D4e=R4e;const L4e=Ct(D4e);function F4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var B4e=F4e,U4e=gO;function z4e(e,t){var r=!0;return U4e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var V4e=z4e,W4e=B4e,H4e=V4e,q4e=Is,G4e=fa,K4e=Ow;function Y4e(e,t,r){var n=G4e(e)?W4e:H4e;return r&&K4e(e,t,r)&&(t=void 0),n(e,q4e(t))}var J4e=Y4e;const a7=Ct(J4e);var X4e=["x","y"];function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function Nk(){return Nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nk.apply(this,arguments)}function JD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(r),!0).forEach(function(n){Q4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q4e(e,t,r){return t=Z4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e){var t=eLe(e,"string");return ng(t)=="symbol"?t:t+""}function eLe(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tLe(e,t){if(e==null)return{};var r=rLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nLe(e,t){var r=e.x,n=e.y,a=tLe(e,X4e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return am(am(am(am(am({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function XD(e){return M.createElement(Xq,Nk({shapeType:"rectangle",propTransformer:nLe,activeClassName:"recharts-active-bar"},e))}var aLe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=pe(n)||kbe(n);return i?t(n,a):(i||pu(),r)}},iLe=["value","background"],i7;function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function sLe(e,t){if(e==null)return{};var r=oLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(this,arguments)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o7(n.key),n)}}function cLe(e,t,r){return t&&ZD(e.prototype,t),r&&ZD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uLe(e,t,r){return t=Rb(t),dLe(e,s7()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function dLe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fLe(e)}function fLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function hLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function dl(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=mLe(e,"string");return Ff(t)=="symbol"?t:t+""}function mLe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mu=function(e){function t(){var r;lLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uLe(this,t,[].concat(a)),dl(r,"state",{isAnimationFinished:!1}),dl(r,"id",Pu("recharts-bar-")),dl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),dl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return hLe(t,e),cLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=De(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Er(Er(Er({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(dt,Ib({className:"recharts-bar-rectangle"},du(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(XD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(Xi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,b){var x=h&&h[b];if(x){var w=Br(x.x,v.x),_=Br(x.y,v.y),S=Br(x.width,v.width),N=Br(x.height,v.height);return Er(Er({},v),{},{x:w(g),y:_(g),width:S(g),height:N(g)})}if(o==="horizontal"){var k=Br(0,v.height),P=k(g);return Er(Er({},v),{},{y:v.y+v.height-P,height:P})}var O=Br(0,v.width),A=O(g);return Er(Er({},v),{},{width:A})});return M.createElement(dt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!hu(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=De(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=sLe(u,iLe);if(!f)return null;var m=Er(Er(Er(Er(Er({},h),{},{fill:"#eee"},f),c),du(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(XD,Ib({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ra(d,zg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:_r(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,g,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=tt("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,S=et(p)?this.id:p;return M.createElement(dt,{className:b},x||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,M.createElement(dt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&Ss.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);i7=Mu;dl(Mu,"displayName","Bar");dl(Mu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dl(Mu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=W2e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Er(Er({},p),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?o:i,S=u?_.scale.domain():null,N=X2e({numericAxis:_}),k=Ra(x,Dg),P=f.map(function(O,A){var $,T,U,I,V,L;u?$=H2e(u[d+A],S):($=_r(O,b),Array.isArray($)||($=[N,$]));var z=aLe(w,i7.defaultProps.minPointSize)($[1],A);if(g==="horizontal"){var R,F=[o.scale($[0]),o.scale($[1])],K=F[0],re=F[1];T=HR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:O,index:A}),U=(R=re??K)!==null&&R!==void 0?R:void 0,I=m.size;var Z=K-re;if(V=Number.isNaN(Z)?0:Z,L={x:T,y:o.y,width:I,height:o.height},Math.abs(z)>0&&Math.abs(V)<Math.abs(z)){var j=Bn(V||z)*(Math.abs(z)-Math.abs(V));U-=j,V+=j}}else{var C=[i.scale($[0]),i.scale($[1])],E=C[0],B=C[1];if(T=E,U=HR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:O,index:A}),I=B-E,V=m.size,L={x:i.x,y:U,width:i.width,height:V},Math.abs(z)>0&&Math.abs(I)<Math.abs(z)){var D=Bn(I||z)*(Math.abs(z)-Math.abs(I));I+=D}}return Er(Er(Er({},O),{},{x:T,y:U,width:I,height:V,value:u?$:$[1],payload:O,background:L},k&&k[A]&&k[A].props),{},{tooltipPayload:[Pq(r,O)],tooltipPosition:{x:T+I/2,y:U+V/2}})});return Er({data:P,layout:g},h)});function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function pLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l7(n.key),n)}}function gLe(e,t,r){return t&&e4(e.prototype,t),r&&e4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){Kw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kw(e,t,r){return t=l7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7(e){var t=vLe(e,"string");return ag(t)=="symbol"?t:t+""}function vLe(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HO=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!_a(u,Mu);return d.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,_=p.mirror,S=p.reversed,N="".concat(v).concat(_?"Mirror":""),k,P,O,A,$;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var T=b[1]-b[0],U=1/0,I=p.categoricalDomain.sort(Pbe);if(I.forEach(function(C,E){E>0&&(U=Math.min((C||0)-(I[E-1]||0),U))}),Number.isFinite(U)){var V=U/T,L=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=V*L/2),p.padding==="no-gap"){var z=Un(t.barCategoryGap,V*L),R=V*L/2;k=R-z-(R-z)/L*z}}}a==="xAxis"?P=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:P=p.range,S&&(P=[P[1],P[0]]);var F=Nq(p,i,h),K=F.scale,re=F.realScaleType;K.domain(b).range(P),kq(K);var Z=Cq(K,Ai(Ai({},p),{},{realScaleType:re}));a==="xAxis"?($=v==="top"&&!_||v==="bottom"&&_,O=n.left,A=f[N]-$*p.height):a==="yAxis"&&($=v==="left"&&!_||v==="right"&&_,O=f[N]-$*p.width,A=n.top);var j=Ai(Ai(Ai({},p),Z),{},{realScaleType:re,x:O,y:A,scale:K,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return j.bandSize=xb(j,Z),!p.hide&&a==="xAxis"?f[N]+=($?-1:1)*j.height:p.hide||(f[N]+=($?-1:1)*j.width),Ai(Ai({},m),{},Kw({},g,j))},{})},c7=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},yLe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return c7({x:r,y:n},{x:a,y:i})},u7=function(){function e(t){pLe(this,e),this.scale=t}return gLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Kw(u7,"EPS",1e-4);var qO=function(t){var r=Object.keys(t).reduce(function(n,a){return Ai(Ai({},n),{},Kw({},a,u7.create(t[a])))},{});return Ai(Ai({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return L4e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return a7(a,function(i,o){return r[o].isInRange(i)})}})};function xLe(e){return(e%180+180)%180}var bLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=xLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},wLe=Is,_Le=Rg,jLe=Ew;function SLe(e){return function(t,r,n){var a=Object(t);if(!_Le(t)){var i=wLe(r);t=jLe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var NLe=SLe,kLe=e7;function CLe(e){var t=kLe(e),r=t%1;return t===t?r?t-r:t:0}var ELe=CLe,PLe=sH,OLe=Is,ALe=ELe,TLe=Math.max;function MLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:ALe(r);return a<0&&(a=TLe(n+a,0)),PLe(e,OLe(t),a)}var $Le=MLe,ILe=NLe,RLe=$Le,DLe=ILe(RLe),LLe=DLe;const FLe=Ct(LLe);var BLe=Txe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GO=y.createContext(void 0),KO=y.createContext(void 0),d7=y.createContext(void 0),f7=y.createContext({}),h7=y.createContext(void 0),m7=y.createContext(0),p7=y.createContext(0),r4=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=BLe(i);return M.createElement(GO.Provider,{value:n},M.createElement(KO.Provider,{value:a},M.createElement(f7.Provider,{value:i},M.createElement(d7.Provider,{value:d},M.createElement(h7.Provider,{value:o},M.createElement(m7.Provider,{value:u},M.createElement(p7.Provider,{value:c},l)))))))},ULe=function(){return y.useContext(h7)},g7=function(t){var r=y.useContext(GO);r==null&&pu();var n=r[t];return n==null&&pu(),n},zLe=function(){var t=y.useContext(GO);return Zo(t)},VLe=function(){var t=y.useContext(KO),r=FLe(t,function(n){return a7(n.domain,Number.isFinite)});return r||Zo(t)},v7=function(t){var r=y.useContext(KO);r==null&&pu();var n=r[t];return n==null&&pu(),n},WLe=function(){var t=y.useContext(d7);return t},HLe=function(){return y.useContext(f7)},YO=function(){return y.useContext(p7)},JO=function(){return y.useContext(m7)};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function qLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x7(n.key),n)}}function KLe(e,t,r){return t&&GLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YLe(e,t,r){return t=Db(t),JLe(e,y7()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function JLe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XLe(e)}function XLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y7=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function QLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ck(e,t)}function Ck(e,t){return Ck=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ck(e,t)}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){XO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XO(e,t,r){return t=x7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=ZLe(e,"string");return Bf(t)=="symbol"?t:t+""}function ZLe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eFe(e,t){return aFe(e)||nFe(e,t)||rFe(e,t)||tFe()}function tFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rFe(e,t){if(e){if(typeof e=="string")return i4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i4(e,t)}}function i4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function aFe(e){if(Array.isArray(e))return e}function Ek(){return Ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ek.apply(this,arguments)}var iFe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):We(t)?n=t(r):n=M.createElement("line",Ek({},r,{className:"recharts-reference-line-line"})),n},sFe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ns(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(Ns(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:o})});return Ns(u,"discard")&&O4e(S,function(N){return!t.isInRange(N)})?null:S}return null};function oFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=ULe(),d=g7(a),f=v7(i),h=WLe();if(!u||!h)return null;Ui(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=qO({x:d.scale,y:f.scale}),g=Vr(t),p=Vr(r),v=n&&n.length===2,b=sFe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=eFe(b,2),w=x[0],_=w.x,S=w.y,N=x[1],k=N.x,P=N.y,O=Ns(e,"hidden")?"url(#".concat(u,")"):void 0,A=a4(a4({clipPath:O},De(e,!0)),{},{x1:_,y1:S,x2:k,y2:P});return M.createElement(dt,{className:tt("recharts-reference-line",l)},iFe(o,A),en.renderCallByParent(e,yLe({x1:_,y1:S,x2:k,y2:P})))}var QO=function(e){function t(){return qLe(this,t),YLe(this,t,arguments)}return QLe(t,e),KLe(t,[{key:"render",value:function(){return M.createElement(oFe,this.props)}}])}(M.Component);XO(QO,"displayName","ReferenceLine");XO(QO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function s4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s4(Object(r),!0).forEach(function(n){Yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w7(n.key),n)}}function uFe(e,t,r){return t&&cFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dFe(e,t,r){return t=Lb(t),fFe(e,b7()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function fFe(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hFe(e)}function hFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b7=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function mFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function Yw(e,t,r){return t=w7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w7(e){var t=pFe(e,"string");return Uf(t)=="symbol"?t:t+""}function pFe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gFe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=qO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ns(t,"discard")&&!o.isInRange(l)?null:l},Jw=function(e){function t(){return lFe(this,t),dFe(this,t,arguments)}return mFe(t,e),uFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Vr(a),d=Vr(i);if(Ui(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=gFe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,b=Ns(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=o4(o4({clipPath:b},De(this.props,!0)),{},{cx:h,cy:m});return M.createElement(dt,{className:tt("recharts-reference-dot",v)},t.renderDot(p,x),en.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Yw(Jw,"displayName","ReferenceDot");Yw(Jw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yw(Jw,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(Vg,Pk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ak(){return Ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ak.apply(this,arguments)}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){Xw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j7(n.key),n)}}function xFe(e,t,r){return t&&yFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bFe(e,t,r){return t=Fb(t),wFe(e,_7()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function wFe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Fe(e)}function _Fe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function jFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function Xw(e,t,r){return t=j7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j7(e){var t=SFe(e,"string");return zf(t)=="symbol"?t:t+""}function SFe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NFe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=qO({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ns(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:c7(m,g)},Qw=function(e){function t(){return vFe(this,t),bFe(this,t,arguments)}return jFe(t,e),xFe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ui(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Vr(a),h=Vr(i),m=Vr(o),g=Vr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=NFe(f,h,m,g,this.props);if(!v&&!p)return null;var b=Ns(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(dt,{className:tt("recharts-reference-area",c)},t.renderRect(p,c4(c4({clipPath:b},De(this.props,!0)),v)),en.renderCallByParent(this.props,v))}}])}(M.Component);Xw(Qw,"displayName","ReferenceArea");Xw(Qw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xw(Qw,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(WO,Ak({},t,{className:"recharts-reference-area-rect"})),r});function S7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function kFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return bLe(n,r)}function CFe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Bb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function EFe(e,t){return S7(e,t+1)}function PFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:S7(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,w=c===0||Bb(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){OFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OFe(e,t,r){return t=AFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AFe(e){var t=TFe(e,"string");return ig(t)=="symbol"?t:t+""}function TFe(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=bn(bn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=bn(bn({},m),{},{tickCoord:m.coordinate});var b=Bb(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=bn(bn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function $Fe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=bn(bn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Bb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=bn(bn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(x){var w=o[x],_,S=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var N=e*(w.coordinate-e*S()/2-c);o[x]=w=bn(bn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[x]=w=bn(bn({},w),{},{tickCoord:w.coordinate});var k=Bb(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+a),o[x]=bn(bn({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function ZO(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(pe(c)||Gl.isSsr)return EFe(a,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Mm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var S=We(u)?u(w.value,_):w.value;return m==="width"?kFe(Mm(S,{fontSize:t,letterSpacing:r}),g,f):Mm(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Bn(a[1].coordinate-a[0].coordinate):1,b=CFe(i,v,m);return c==="equidistantPreserveStart"?PFe(v,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=$Fe(v,b,p,a,o,c==="preserveStartEnd"):h=MFe(v,b,p,a,o),h.filter(function(x){return x.isShow}))}var IFe=["viewBox"],RFe=["viewBox"],DFe=["ticks"];function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){eA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t1(e,t){if(e==null)return{};var r=LFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k7(n.key),n)}}function BFe(e,t,r){return t&&f4(e.prototype,t),r&&f4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function UFe(e,t,r){return t=Ub(t),zFe(e,N7()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function zFe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VFe(e)}function VFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function WFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mk(e,t)}function eA(e,t,r){return t=k7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=HFe(e,"string");return Vf(t)=="symbol"?t:t+""}function HFe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eh=function(e){function t(r){var n;return FFe(this,t),n=UFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return WFe(t,e),BFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=t1(n,IFe),l=this.props,c=l.viewBox,u=t1(l,RFe);return!Vd(i,c)||!Vd(o,u)||!Vd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,b,x,w=f?-1:1,_=n.tickSize||d,S=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*_,x=p-w*h,b=S;break;case"left":p=v=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,x=S;break;case"right":p=v=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,x=S;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*_,x=p+w*h,b=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ir(Ir(Ir({},De(this.props,!1)),De(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ir(Ir({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ir(Ir({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return M.createElement("line",Cd({},f,{className:tt("recharts-cartesian-axis-line",Ia(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=ZO(Ir(Ir({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=De(this.props,!1),b=De(d,!1),x=Ir(Ir({},v),{},{fill:"none"},De(c,!1)),w=m.map(function(_,S){var N=o.getTickLineCoord(_),k=N.line,P=N.tick,O=Ir(Ir(Ir(Ir({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),P),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(dt,Cd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},du(o.props,_,S)),c&&M.createElement("line",Cd({},x,k,{className:tt("recharts-cartesian-axis-tick-line",Ia(c,"className"))})),d&&t.renderTickItem(d,O,"".concat(We(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=t1(f,DFe),g=h;return We(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:M.createElement(dt,{className:tt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),en.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=tt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Ir(Ir({},a),{},{className:l})):We(n)?o=n(Ir(Ir({},a),{},{className:l})):o=M.createElement(fu,Cd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);eA(Eh,"displayName","CartesianAxis");eA(Eh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qFe=["x1","y1","x2","y2","key"],GFe=["offset"];function gu(e){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gu(e)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){KFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t,r){return t=YFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YFe(e){var t=JFe(e,"string");return gu(t)=="symbol"?t:t+""}function JFe(e,t){if(gu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tc.apply(this,arguments)}function m4(e,t){if(e==null)return{};var r=XFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function C7(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=m4(t,qFe),u=De(c,!1);u.offset;var d=m4(u,GFe);r=M.createElement("line",Tc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function ZFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Sn(Sn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return C7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function e3e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Sn(Sn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return C7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function t3e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function r3e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var n3e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return Sq(ZO(Sn(Sn(Sn({},Eh.defaultProps),n),{},{ticks:to(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},a3e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return Sq(ZO(Sn(Sn(Sn({},Eh.defaultProps),n),{},{ticks:to(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Qu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zw(e){var t,r,n,a,i,o,l=YO(),c=JO(),u=HLe(),d=Sn(Sn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Qu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Qu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qu.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=zLe(),w=VLe();if(!pe(m)||m<=0||!pe(g)||g<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||n3e,S=d.horizontalCoordinatesGenerator||a3e,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&We(S)){var P=v&&v.length,O=S({yAxis:w?Sn(Sn({},w),{},{ticks:P?v:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Ui(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(gu(O),"]")),Array.isArray(O)&&(N=O)}if((!k||!k.length)&&We(_)){var A=b&&b.length,$=_({xAxis:x?Sn(Sn({},x),{},{ticks:A?b:x.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Ui(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(gu($),"]")),Array.isArray($)&&(k=$)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(QFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(ZFe,Tc({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:w})),M.createElement(e3e,Tc({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),M.createElement(t3e,Tc({},d,{horizontalPoints:N})),M.createElement(r3e,Tc({},d,{verticalPoints:k})))}Zw.displayName="CartesianGrid";var i3e=["type","layout","connectNulls","ref"],s3e=["key"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function p4(e,t){if(e==null)return{};var r=o3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e){return d3e(e)||u3e(e)||c3e(e)||l3e()}function l3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3e(e,t){if(e){if(typeof e=="string")return $k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $k(e,t)}}function u3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d3e(e){if(Array.isArray(e))return $k(e)}function $k(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P7(n.key),n)}}function h3e(e,t,r){return t&&v4(e.prototype,t),r&&v4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function m3e(e,t,r){return t=zb(t),p3e(e,E7()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function p3e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g3e(e)}function g3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function v3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(e,t)}function Ti(e,t,r){return t=P7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=y3e(e,"string");return Wf(t)=="symbol"?t:t+""}function y3e(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wg=function(e){function t(){var r;f3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=m3e(this,t,[].concat(a)),Ti(r,"state",{isAnimationFinished:!0,totalLength:0}),Ti(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ti(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Zu(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Zu(t.repeat(c,d)),Zu(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ti(r,"id",Pu("recharts-line-")),Ti(r,"pathRef",function(o){r.mainCurve=o}),Ti(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ti(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return v3e(t,e),h3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ra(d,zg);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:_r(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,m,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=De(this.props,!1),h=De(c,!0),m=u.map(function(p,v){var b=xa(xa(xa({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(dt,Fm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=p4(l,i3e),h=xa(xa(xa({},De(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return M.createElement(Gc,Fm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return M.createElement(Xi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(x){var N=x.length/l.length,k=l.map(function(T,U){var I=Math.floor(U*N);if(x[I]){var V=x[I],L=Br(V.x,T.x),z=Br(V.y,T.y);return xa(xa({},T),{},{x:L(S),y:z(S)})}if(g){var R=Br(p*2,T.x),F=Br(v/2,T.y);return xa(xa({},T),{},{x:R(S),y:F(S)})}return xa(xa({},T),{},{x:T.x,y:T.y})});return i.renderCurveStatically(k,n,a)}var P=Br(0,w),O=P(S),A;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(T){return parseFloat(T)});A=i.getStrokeDasharray(O,w,$)}else A=i.generateSimpleStrokeDasharray(w,O);return i.renderCurveStatically(l,n,a,{strokeDasharray:A})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!hu(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=tt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,k=et(v)?this.id:v,P=(n=De(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,A=O===void 0?3:O,$=P.strokeWidth,T=$===void 0?2:$,U=v9(o)?o:{},I=U.clipDot,V=I===void 0?!0:I,L=A*2+T;return M.createElement(dt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?h:h-m/2,y:S?f:f-g/2,width:_?m:m*2,height:S?g:g*2})),!V&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-L/2,y:f-L/2,width:m+L,height:g+L}))):null,!x&&this.renderCurve(N,k),this.renderErrorBar(N,k),(x||o)&&this.renderDots(N,V,k),(!p||b)&&Ss.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Zu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Zu(o),Zu(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(M.isValidElement(n))i=M.cloneElement(n,a);else if(We(n))i=n(a);else{var o=a.key,l=p4(a,s3e),c=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=M.createElement(Vg,Fm({key:o},l,{className:c}))}return i}}])}(y.PureComponent);Ti(Wg,"displayName","Line");Ti(Wg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ti(Wg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=_r(h,o);return d==="horizontal"?{x:yb({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:et(g)?null:n.scale(g),value:g,payload:h}:{x:et(g)?null:r.scale(g),y:yb({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:g,payload:h}});return xa({points:f,layout:d},u)});var x3e=["layout","type","stroke","connectNulls","isRange","ref"],b3e=["key"],O7;function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function A7(e,t){if(e==null)return{};var r=w3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(this,arguments)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,M7(n.key),n)}}function j3e(e,t,r){return t&&x4(e.prototype,t),r&&x4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S3e(e,t,r){return t=Vb(t),N3e(e,T7()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function N3e(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k3e(e)}function k3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T7=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function C3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rk(e,t)}function Rk(e,t){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Rk(e,t)}function ys(e,t,r){return t=M7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M7(e){var t=E3e(e,"string");return Hf(t)=="symbol"?t:t+""}function E3e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var jo=function(e){function t(){var r;_3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=S3e(this,t,[].concat(a)),ys(r,"state",{isAnimationFinished:!0}),ys(r,"id",Pu("recharts-area-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return C3e(t,e),j3e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=De(this.props,!1),m=De(u,!0),g=d.map(function(v,b){var x=zo(zo(zo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(dt,Mc({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ul(o.map(function(h){return h.y||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ul(i.map(function(h){return h.y||0})),f)),pe(f)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ul(o.map(function(h){return h.x||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ul(i.map(function(h){return h.x||0})),f)),pe(f)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=A7(l,x3e);return M.createElement(dt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},M.createElement(Gc,Mc({},De(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Gc,Mc({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Gc,Mc({},De(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return M.createElement(Xi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(p){var w=p.length/l.length,_=l.map(function(P,O){var A=Math.floor(O*w);if(p[A]){var $=p[A],T=Br($.x,P.x),U=Br($.y,P.y);return zo(zo({},P),{},{x:T(x),y:U(x)})}return P}),S;if(pe(c)&&typeof c=="number"){var N=Br(v,c);S=N(x)}else if(et(c)||wh(c)){var k=Br(v,0);S=k(x)}else S=c.map(function(P,O){var A=Math.floor(O*w);if(v[A]){var $=v[A],T=Br($.x,P.x),U=Br($.y,P.y);return zo(zo({},P),{},{x:T(x),y:U(x)})}return P});return i.renderAreaStatically(_,S,n,a)}return M.createElement(dt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),M.createElement(dt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!hu(d,o)||!hu(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=tt("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,N=_||S,k=et(v)?this.id:v,P=(n=De(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},O=P.r,A=O===void 0?3:O,$=P.strokeWidth,T=$===void 0?2:$,U=v9(o)?o:{},I=U.clipDot,V=I===void 0?!0:I,L=A*2+T;return M.createElement(dt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?d:d-m/2,y:S?u:u-g/2,width:_?m:m*2,height:S?g:g*2})),!V&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:d-L/2,y:u-L/2,width:m+L,height:g+L}))):null,x?null:this.renderArea(N,k),(o||x)&&this.renderDots(N,V,k),(!p||b)&&Ss.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);O7=jo;ys(jo,"displayName","Area");ys(jo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ys(jo,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(pe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ys(jo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=O7.getBaseValue(t,r,n,a),v=m==="horizontal",b=!1,x=f.map(function(_,S){var N;g?N=u[d+S]:(N=_r(_,c),Array.isArray(N)?b=!0:N=[p,N]);var k=N[1]==null||g&&_r(_,c)==null;return v?{x:yb({axis:n,ticks:i,bandSize:l,entry:_,index:S}),y:k?null:a.scale(N[1]),value:N,payload:_}:{x:k?null:n.scale(N[1]),y:yb({axis:a,ticks:o,bandSize:l,entry:_,index:S}),value:N,payload:_}}),w;return g||b?w=x.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=v?a.scale(p):n.scale(p),zo({points:x,baseLine:w,layout:m,isRange:b},h)});ys(jo,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=A7(t,b3e);r=M.createElement(Vg,Mc({},i,{key:a,className:n}))}return r});function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function P3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R7(n.key),n)}}function A3e(e,t,r){return t&&O3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T3e(e,t,r){return t=Wb(t),M3e(e,$7()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function M3e(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $3e(e)}function $3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($7=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function I3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(e,t)}function I7(e,t,r){return t=R7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R7(e){var t=R3e(e,"string");return qf(t)=="symbol"?t:t+""}function R3e(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}function D3e(e){var t=e.xAxisId,r=YO(),n=JO(),a=g7(t);return a==null?null:y.createElement(Eh,Lk({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return to(o,!0)}}))}var Xl=function(e){function t(){return P3e(this,t),T3e(this,t,arguments)}return I3e(t,e),A3e(t,[{key:"render",value:function(){return y.createElement(D3e,this.props)}}])}(y.Component);I7(Xl,"displayName","XAxis");I7(Xl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function L3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F7(n.key),n)}}function B3e(e,t,r){return t&&F3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function U3e(e,t,r){return t=Hb(t),z3e(e,D7()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function z3e(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V3e(e)}function V3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D7=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function W3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fk(e,t)}function Fk(e,t){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Fk(e,t)}function L7(e,t,r){return t=F7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=H3e(e,"string");return Gf(t)=="symbol"?t:t+""}function H3e(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bk.apply(this,arguments)}var q3e=function(t){var r=t.yAxisId,n=YO(),a=JO(),i=v7(r);return i==null?null:y.createElement(Eh,Bk({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return to(l,!0)}}))},Ql=function(e){function t(){return L3e(this,t),U3e(this,t,arguments)}return W3e(t,e),B3e(t,[{key:"render",value:function(){return y.createElement(q3e,this.props)}}])}(y.Component);L7(Ql,"displayName","YAxis");L7(Ql,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function b4(e){return J3e(e)||Y3e(e)||K3e(e)||G3e()}function G3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(e,t){if(e){if(typeof e=="string")return Uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uk(e,t)}}function Y3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J3e(e){if(Array.isArray(e))return Uk(e)}function Uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zk=function(t,r,n,a,i){var o=Ra(t,QO),l=Ra(t,Jw),c=[].concat(b4(o),b4(l)),u=Ra(t,Qw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Ns(v.props,"extendDomain")&&pe(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Ns(v.props,"extendDomain")&&pe(v.props[m])&&pe(v.props[g])){var b=v.props[m],x=v.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return pe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},B7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(B7);var X3e=B7.exports;const Q3e=Ct(X3e);var r1=new Q3e,n1="recharts.syncMouseEvents";function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function Z3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U7(n.key),n)}}function t5e(e,t,r){return t&&e5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a1(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=r5e(e,"string");return sg(t)=="symbol"?t:t+""}function r5e(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var n5e=function(){function e(){Z3e(this,e),a1(this,"activeIndex",0),a1(this,"coordinateList",[]),a1(this,"layout","horizontal")}return t5e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function a5e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function i5e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function z7(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ht(t,r,n,a),l=Ht(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function s5e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ht(l,c,u,f),m=Ht(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return z7(t);return[{x:n,y:a},{x:i,y:o}]}function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){o5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o5e(e,t,r){return t=l5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l5e(e){var t=c5e(e,"string");return og(t)=="symbol"?t:t+""}function c5e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u5e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Gc;if(h==="ScatterChart")g=o,p=yRe;else if(h==="BarChart")g=i5e(f,o,c,d),p=WO;else if(f==="radial"){var v=z7(o),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},p=Iq}else g={points:s5e(f,o,c)},p=Gc;var N=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},c),g),De(m,!1)),{},{payload:l,payloadIndex:u,className:tt("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(p,N)}var d5e=["item"],f5e=["children","className","width","height","style","compact","title","desc"];function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function _4(e,t){return p5e(e)||m5e(e,t)||W7(e,t)||h5e()}function h5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function p5e(e){if(Array.isArray(e))return e}function j4(e,t){if(e==null)return{};var r=g5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function v5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H7(n.key),n)}}function x5e(e,t,r){return t&&y5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function b5e(e,t,r){return t=qb(t),w5e(e,V7()?Reflect.construct(t,r||[],qb(e).constructor):t.apply(e,r))}function w5e(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _5e(e)}function _5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!e})()}function qb(e){return qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qb(e)}function j5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vk(e,t)}function Vk(e,t){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vk(e,t)}function Yf(e){return k5e(e)||N5e(e)||W7(e)||S5e()}function S5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W7(e,t){if(e){if(typeof e=="string")return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}}function N5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k5e(e){if(Array.isArray(e))return Wk(e)}function Wk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=H7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H7(e){var t=C5e(e,"string");return Kf(t)=="symbol"?t:t+""}function C5e(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E5e={xAxis:["bottom","top"],yAxis:["left","right"]},P5e={width:"100%",height:"100%"},q7={x:0,y:0};function qv(e){return e}var O5e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},A5e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ne(ne(ne({},a),Ht(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ne(ne(ne({},a),Ht(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return q7},e_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yf(l),Yf(u)):l},[]);return o.length>0?o:t&&t.length&&pe(a)&&pe(i)?t.slice(a,i+1):[]};function G7(e){return e==="number"?[0,"auto"]:void 0}var Hk=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=e_(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Vx(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Yf(c),[Pq(u,h)]):c},[])},N4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=O5e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=L2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Hk(t,r,d,f),m=A5e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},T5e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=jq(d,i);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?ne(ne({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,P=b.includeHidden,O=b[o];if(g[O])return g;var A=e_(t.data,{graphicalItems:a.filter(function(Z){var j,C=o in Z.props?Z.props[o]:(j=Z.type.defaultProps)===null||j===void 0?void 0:j[o];return C===O}),dataStartIndex:c,dataEndIndex:u}),$=A.length,T,U,I;a5e(b.domain,_,x)&&(T=ak(b.domain,null,_),m&&(x==="number"||N!=="auto")&&(I=Im(A,w,"category")));var V=G7(x);if(!T||T.length===0){var L,z=(L=b.domain)!==null&&L!==void 0?L:V;if(w){if(T=Im(A,w,x),x==="category"&&m){var R=Ebe(T);S&&R?(U=T,T=Tb(0,$)):S||(T=KR(z,T,p).reduce(function(Z,j){return Z.indexOf(j)>=0?Z:[].concat(Yf(Z),[j])},[]))}else if(x==="category")S?T=T.filter(function(Z){return Z!==""&&!et(Z)}):T=KR(z,T,p).reduce(function(Z,j){return Z.indexOf(j)>=0||j===""||et(j)?Z:[].concat(Yf(Z),[j])},[]);else if(x==="number"){var F=V2e(A,a.filter(function(Z){var j,C,E=o in Z.props?Z.props[o]:(j=Z.type.defaultProps)===null||j===void 0?void 0:j[o],B="hide"in Z.props?Z.props.hide:(C=Z.type.defaultProps)===null||C===void 0?void 0:C.hide;return E===O&&(P||!B)}),w,i,d);F&&(T=F)}m&&(x==="number"||N!=="auto")&&(I=Im(A,w,"category"))}else m?T=Tb(0,$):l&&l[O]&&l[O].hasStack&&x==="number"?T=h==="expand"?[0,1]:Eq(l[O].stackGroups,c,u):T=_q(A,a.filter(function(Z){var j=o in Z.props?Z.props[o]:Z.type.defaultProps[o],C="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return j===O&&(P||!C)}),x,d,!0);if(x==="number")T=zk(f,T,O,i,k),z&&(T=ak(z,T,_));else if(x==="category"&&z){var K=z,re=T.every(function(Z){return K.indexOf(Z)>=0});re&&(T=K)}}return ne(ne({},g),{},Ue({},O,ne(ne({},b),{},{axisType:i,domain:T,categoricalDomain:I,duplicateDomain:U,originalDomain:(v=b.domain)!==null&&v!==void 0?v:V,isCategorical:m,layout:d})))},{})},M5e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=e_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=jq(d,i),p=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=x[o],_=G7("number");if(!v[w]){p++;var S;return g?S=Tb(0,m):l&&l[w]&&l[w].hasStack?(S=Eq(l[w].stackGroups,c,u),S=zk(f,S,w,i)):(S=ak(_,_q(h,n.filter(function(N){var k,P,O=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],A="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return O===w&&!A}),"number",d),a.defaultProps.allowDataOverflow),S=zk(f,S,w,i)),ne(ne({},v),{},Ue({},w,ne(ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ia(E5e,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},$5e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Ra(d,i),m={};return h&&h.length?m=T5e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=M5e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},I5e=function(t){var r=Zo(t),n=to(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xb(r,n)}},k4=function(t){var r=t.children,n=t.defaultShowTooltip,a=_a(r,Lf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},R5e=function(t){return!t||!t.length?!1:t.some(function(r){var n=io(r&&r.type);return n&&n.indexOf("Bar")>=0})},C4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},D5e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=_a(f,Lf),g=_a(f,so),p=Object.keys(c).reduce(function(S,N){var k=c[N],P=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},P,S[P]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,N){var k=o[N],P=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},P,Ia(S,"".concat(P))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},v),p),x=b.bottom;m&&(b.bottom+=m.props.height||Lf.defaultProps.height),g&&r&&(b=U2e(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ne(ne({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},L5e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},t_=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,S=x.offset,N=x.updateId,k=x.dataStartIndex,P=x.dataEndIndex,O=b.barSize,A=b.layout,$=b.barGap,T=b.barCategoryGap,U=b.maxBarSize,I=C4(A),V=I.numericAxisName,L=I.cateAxisName,z=R5e(w),R=[];return w.forEach(function(F,K){var re=e_(b.data,{graphicalItems:[F],dataStartIndex:k,dataEndIndex:P}),Z=F.type.defaultProps!==void 0?ne(ne({},F.type.defaultProps),F.props):F.props,j=Z.dataKey,C=Z.maxBarSize,E=Z["".concat(V,"Id")],B=Z["".concat(L,"Id")],D={},G=c.reduce(function(H,W){var J=x["".concat(W.axisType,"Map")],de=Z["".concat(W.axisType,"Id")];J&&J[de]||W.axisType==="zAxis"||pu();var ue=J[de];return ne(ne({},H),{},Ue(Ue({},W.axisType,ue),"".concat(W.axisType,"Ticks"),to(ue)))},D),q=G[L],X=G["".concat(L,"Ticks")],te=_&&_[E]&&_[E].hasStack&&Q2e(F,_[E].stackGroups),Y=io(F.type).indexOf("Bar")>=0,we=xb(q,X),ke=[],Xe=z&&F2e({barSize:O,stackGroups:_,totalSize:L5e(G,L)});if(Y){var He,Be,ot=et(C)?U:C,Mt=(He=(Be=xb(q,X,!0))!==null&&Be!==void 0?Be:ot)!==null&&He!==void 0?He:0;ke=B2e({barGap:$,barCategoryGap:T,bandSize:Mt!==we?Mt:we,sizeList:Xe[B],maxBarSize:ot}),Mt!==we&&(ke=ke.map(function(H){return ne(ne({},H),{},{position:ne(ne({},H.position),{},{offset:H.position.offset-Mt/2})})}))}var St=F&&F.type&&F.type.getComposedData;St&&R.push({props:ne(ne({},St(ne(ne({},G),{},{displayedData:re,props:b,dataKey:j,item:F,bandSize:we,barPosition:ke,offset:S,stackedData:te,layout:A,dataStartIndex:k,dataEndIndex:P}))),{},Ue(Ue(Ue({key:F.key||"item-".concat(K)},V,G[V]),L,G[L]),"animationId",N)),childIndex:Bbe(F,b.children),item:F})}),R},m=function(b,x){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!z$({props:w}))return null;var k=w.children,P=w.layout,O=w.stackOffset,A=w.data,$=w.reverseStackOrder,T=C4(P),U=T.numericAxisName,I=T.cateAxisName,V=Ra(k,n),L=J2e(A,V,"".concat(U,"Id"),"".concat(I,"Id"),O,$),z=c.reduce(function(Z,j){var C="".concat(j.axisType,"Map");return ne(ne({},Z),{},Ue({},C,$5e(w,ne(ne({},j),{},{graphicalItems:V,stackGroups:j.axisType===U&&L,dataStartIndex:_,dataEndIndex:S}))))},{}),R=D5e(ne(ne({},z),{},{props:w,graphicalItems:V}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(Z){z[Z]=d(w,z[Z],R,Z.replace("Map",""),r)});var F=z["".concat(I,"Map")],K=I5e(F),re=h(w,ne(ne({},z),{},{dataStartIndex:_,dataEndIndex:S,updateId:N,graphicalItems:V,stackGroups:L,offset:R}));return ne(ne({formattedGraphicalItems:re,graphicalItems:V,offset:R,stackGroups:L},K),z)},g=function(v){function b(x){var w,_,S;return v5e(this,b),S=b5e(this,b,[x]),Ue(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(S,"accessibilityManager",new n5e),Ue(S,"handleLegendBBoxUpdate",function(N){if(N){var k=S.state,P=k.dataStartIndex,O=k.dataEndIndex,A=k.updateId;S.setState(ne({legendBBox:N},m({props:S.props,dataStartIndex:P,dataEndIndex:O,updateId:A},ne(ne({},S.state),{},{legendBBox:N}))))}}),Ue(S,"handleReceiveSyncEvent",function(N,k,P){if(S.props.syncId===N){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Ue(S,"handleBrushChange",function(N){var k=N.startIndex,P=N.endIndex;if(k!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var O=S.state.updateId;S.setState(function(){return ne({dataStartIndex:k,dataEndIndex:P},m({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:O},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:P})}}),Ue(S,"handleMouseEnter",function(N){var k=S.getMouseInfo(N);if(k){var P=ne(ne({},k),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var O=S.props.onMouseEnter;We(O)&&O(P,N)}}),Ue(S,"triggeredAfterMouseMove",function(N){var k=S.getMouseInfo(N),P=k?ne(ne({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var O=S.props.onMouseMove;We(O)&&O(P,N)}),Ue(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ue(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ue(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Ue(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseLeave;We(P)&&P(k,N)}),Ue(S,"handleOuterEvent",function(N){var k=Fbe(N),P=Ia(S.props,"".concat(k));if(k&&We(P)){var O,A;/.*touch.*/i.test(k)?A=S.getMouseInfo(N.changedTouches[0]):A=S.getMouseInfo(N),P((O=A)!==null&&O!==void 0?O:{},N)}}),Ue(S,"handleClick",function(N){var k=S.getMouseInfo(N);if(k){var P=ne(ne({},k),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var O=S.props.onClick;We(O)&&O(P,N)}}),Ue(S,"handleMouseDown",function(N){var k=S.props.onMouseDown;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleMouseUp",function(N){var k=S.props.onMouseUp;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ue(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Ue(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Ue(S,"handleDoubleClick",function(N){var k=S.props.onDoubleClick;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleContextMenu",function(N){var k=S.props.onContextMenu;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&r1.emit(n1,S.props.syncId,N,S.eventEmitterSymbol)}),Ue(S,"applySyncEvent",function(N){var k=S.props,P=k.layout,O=k.syncMethod,A=S.state.updateId,$=N.dataStartIndex,T=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ne({dataStartIndex:$,dataEndIndex:T},m({props:S.props,dataStartIndex:$,dataEndIndex:T,updateId:A},S.state)));else if(N.activeTooltipIndex!==void 0){var U=N.chartX,I=N.chartY,V=N.activeTooltipIndex,L=S.state,z=L.offset,R=L.tooltipTicks;if(!z)return;if(typeof O=="function")V=O(R,N);else if(O==="value"){V=-1;for(var F=0;F<R.length;F++)if(R[F].value===N.activeLabel){V=F;break}}var K=ne(ne({},z),{},{x:z.left,y:z.top}),re=Math.min(U,K.x+K.width),Z=Math.min(I,K.y+K.height),j=R[V]&&R[V].value,C=Hk(S.state,S.props.data,V),E=R[V]?{x:P==="horizontal"?R[V].coordinate:re,y:P==="horizontal"?Z:R[V].coordinate}:q7;S.setState(ne(ne({},N),{},{activeLabel:j,activeCoordinate:E,activePayload:C,activeTooltipIndex:V}))}else S.setState(N)}),Ue(S,"renderCursor",function(N){var k,P=S.state,O=P.isTooltipActive,A=P.activeCoordinate,$=P.activePayload,T=P.offset,U=P.activeTooltipIndex,I=P.tooltipAxisBandSize,V=S.getTooltipEventType(),L=(k=N.props.active)!==null&&k!==void 0?k:O,z=S.props.layout,R=N.key||"_recharts-cursor";return M.createElement(u5e,{key:R,activeCoordinate:A,activePayload:$,activeTooltipIndex:U,chartName:r,element:N,isActive:L,layout:z,offset:T,tooltipAxisBandSize:I,tooltipEventType:V})}),Ue(S,"renderPolarAxis",function(N,k,P){var O=Ia(N,"type.axisType"),A=Ia(S.state,"".concat(O,"Map")),$=N.type.defaultProps,T=$!==void 0?ne(ne({},$),N.props):N.props,U=A&&A[T["".concat(O,"Id")]];return y.cloneElement(N,ne(ne({},U),{},{className:tt(O,U.className),key:N.key||"".concat(k,"-").concat(P),ticks:to(U,!0)}))}),Ue(S,"renderPolarGrid",function(N){var k=N.props,P=k.radialLines,O=k.polarAngles,A=k.polarRadius,$=S.state,T=$.radiusAxisMap,U=$.angleAxisMap,I=Zo(T),V=Zo(U),L=V.cx,z=V.cy,R=V.innerRadius,F=V.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(O)?O:to(V,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(A)?A:to(I,!0).map(function(K){return K.coordinate}),cx:L,cy:z,innerRadius:R,outerRadius:F,key:N.key||"polar-grid",radialLines:P})}),Ue(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,k=S.props,P=k.children,O=k.width,A=k.height,$=S.props.margin||{},T=O-($.left||0)-($.right||0),U=bq({children:P,formattedGraphicalItems:N,legendWidth:T,legendContent:u});if(!U)return null;var I=U.item,V=j4(U,d5e);return y.cloneElement(I,ne(ne({},V),{},{chartWidth:O,chartHeight:A,margin:$,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ue(S,"renderTooltip",function(){var N,k=S.props,P=k.children,O=k.accessibilityLayer,A=_a(P,Sa);if(!A)return null;var $=S.state,T=$.isTooltipActive,U=$.activeCoordinate,I=$.activePayload,V=$.activeLabel,L=$.offset,z=(N=A.props.active)!==null&&N!==void 0?N:T;return y.cloneElement(A,{viewBox:ne(ne({},L),{},{x:L.left,y:L.top}),active:z,label:V,payload:z?I:[],coordinate:U,accessibilityLayer:O})}),Ue(S,"renderBrush",function(N){var k=S.props,P=k.margin,O=k.data,A=S.state,$=A.offset,T=A.dataStartIndex,U=A.dataEndIndex,I=A.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Uv(S.handleBrushChange,N.props.onChange),data:O,x:pe(N.props.x)?N.props.x:$.left,y:pe(N.props.y)?N.props.y:$.top+$.height+$.brushBottom-(P.bottom||0),width:pe(N.props.width)?N.props.width:$.width,startIndex:T,endIndex:U,updateId:"brush-".concat(I)})}),Ue(S,"renderReferenceElement",function(N,k,P){if(!N)return null;var O=S,A=O.clipPathId,$=S.state,T=$.xAxisMap,U=$.yAxisMap,I=$.offset,V=N.type.defaultProps||{},L=N.props,z=L.xAxisId,R=z===void 0?V.xAxisId:z,F=L.yAxisId,K=F===void 0?V.yAxisId:F;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(P),xAxis:T[R],yAxis:U[K],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:A})}),Ue(S,"renderActivePoints",function(N){var k=N.item,P=N.activePoint,O=N.basePoint,A=N.childIndex,$=N.isRange,T=[],U=k.props.key,I=k.item.type.defaultProps!==void 0?ne(ne({},k.item.type.defaultProps),k.item.props):k.item.props,V=I.activeDot,L=I.dataKey,z=ne(ne({index:A,dataKey:L,cx:P.x,cy:P.y,r:4,fill:VO(k.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},De(V,!1)),Wx(V));return T.push(b.renderActiveDot(V,z,"".concat(U,"-activePoint-").concat(A))),O?T.push(b.renderActiveDot(V,ne(ne({},z),{},{cx:O.x,cy:O.y}),"".concat(U,"-basePoint-").concat(A))):$&&T.push(null),T}),Ue(S,"renderGraphicChild",function(N,k,P){var O=S.filterFormatItem(N,k,P);if(!O)return null;var A=S.getTooltipEventType(),$=S.state,T=$.isTooltipActive,U=$.tooltipAxis,I=$.activeTooltipIndex,V=$.activeLabel,L=S.props.children,z=_a(L,Sa),R=O.props,F=R.points,K=R.isRange,re=R.baseLine,Z=O.item.type.defaultProps!==void 0?ne(ne({},O.item.type.defaultProps),O.item.props):O.item.props,j=Z.activeDot,C=Z.hide,E=Z.activeBar,B=Z.activeShape,D=!!(!C&&T&&z&&(j||E||B)),G={};A!=="axis"&&z&&z.props.trigger==="click"?G={onClick:Uv(S.handleItemMouseEnter,N.props.onClick)}:A!=="axis"&&(G={onMouseLeave:Uv(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Uv(S.handleItemMouseEnter,N.props.onMouseEnter)});var q=y.cloneElement(N,ne(ne({},O.props),G));function X(W){return typeof U.dataKey=="function"?U.dataKey(W.payload):null}if(D)if(I>=0){var te,Y;if(U.dataKey&&!U.allowDuplicatedCategory){var we=typeof U.dataKey=="function"?X:"payload.".concat(U.dataKey.toString());te=Vx(F,we,V),Y=K&&re&&Vx(re,we,V)}else te=F==null?void 0:F[I],Y=K&&re&&re[I];if(B||E){var ke=N.props.activeIndex!==void 0?N.props.activeIndex:I;return[y.cloneElement(N,ne(ne(ne({},O.props),G),{},{activeIndex:ke})),null,null]}if(!et(te))return[q].concat(Yf(S.renderActivePoints({item:O,activePoint:te,basePoint:Y,childIndex:I,isRange:K})))}else{var Xe,He=(Xe=S.getItemByXY(S.state.activeCoordinate))!==null&&Xe!==void 0?Xe:{graphicalItem:q},Be=He.graphicalItem,ot=Be.item,Mt=ot===void 0?N:ot,St=Be.childIndex,H=ne(ne(ne({},O.props),G),{},{activeIndex:St});return[y.cloneElement(Mt,H),null,null]}return K?[q,null,null]:[q,null]}),Ue(S,"renderCustomized",function(N,k,P){return y.cloneElement(N,ne(ne({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ue(S,"renderMap",{CartesianGrid:{handler:qv,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:qv},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:qv},YAxis:{handler:qv},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Pu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=bH(S.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return j5e(b,v),x5e(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,N=w.height,k=w.layout,P=_a(_,Sa);if(P){var O=P.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,$=Hk(this.state,S,O,A),T=this.state.tooltipTicks[O].coordinate,U=(this.state.offset.top+N)/2,I=k==="horizontal",V=I?{x:T,y:U}:{y:T,x:U},L=this.state.formattedGraphicalItems.find(function(R){var F=R.item;return F.type.name==="Scatter"});L&&(V=ne(ne({},V),L.props.points[O].tooltipPosition),$=L.props.points[O].tooltipPayload);var z={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:A,activePayload:$,activeCoordinate:V};this.setState(z),this.renderCursor(P),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){xN([_a(w.children,Sa)],[_a(this.props.children,Sa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=_a(this.props.children,Sa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),N=fPe(S),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},P=S.width/_.offsetWidth||1,O=this.inRange(k.chartX,k.chartY,P);if(!O)return null;var A=this.state,$=A.xAxisMap,T=A.yAxisMap,U=this.getTooltipEventType(),I=N4(this.state,this.props.data,this.props.layout,O);if(U!=="axis"&&$&&T){var V=Zo($).scale,L=Zo(T).scale,z=V&&V.invert?V.invert(k.chartX):null,R=L&&L.invert?L.invert(k.chartY):null;return ne(ne({},k),{},{xValue:z,yValue:R},I)}return I?ne(ne({},k),I):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/S,P=_/S;if(N==="horizontal"||N==="vertical"){var O=this.state.offset,A=k>=O.left&&k<=O.left+O.width&&P>=O.top&&P<=O.top+O.height;return A?{x:k,y:P}:null}var $=this.state,T=$.angleAxisMap,U=$.radiusAxisMap;if(T&&U){var I=Zo(T);return XR({x:k,y:P},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=_a(w,Sa),N={};S&&_==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Wx(this.props,this.handleOuterEvent);return ne(ne({},k),N)}},{key:"addListener",value:function(){r1.on(n1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){r1.removeListener(n1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var N=this.state.formattedGraphicalItems,k=0,P=N.length;k<P;k++){var O=N[k];if(O.item===w||O.props.key===w.key||_===io(O.item.type)&&S===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,N=_.top,k=_.height,P=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:N,height:k,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=_4(S,2),k=N[0],P=N[1];return ne(ne({},_),{},Ue({},k,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=_4(S,2),k=N[0],P=N[1];return ne(ne({},_),{},Ue({},k,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,N=_.activeItem;if(S&&S.length)for(var k=0,P=S.length;k<P;k++){var O=S[k],A=O.props,$=O.item,T=$.type.defaultProps!==void 0?ne(ne({},$.type.defaultProps),$.props):$.props,U=io($.type);if(U==="Bar"){var I=(A.data||[]).find(function(R){return QIe(w,R)});if(I)return{graphicalItem:O,payload:I}}else if(U==="RadialBar"){var V=(A.data||[]).find(function(R){return XR(w,R)});if(V)return{graphicalItem:O,payload:V}}else if(qw(O,N)||Gw(O,N)||tg(O,N)){var L=BDe({graphicalItem:O,activeTooltipItem:N,itemData:T.data}),z=T.activeIndex===void 0?L:T.activeIndex;return{graphicalItem:ne(ne({},O),{},{childIndex:z}),payload:tg(O,N)?T.data[L]:O.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!z$(this))return null;var _=this.props,S=_.children,N=_.className,k=_.width,P=_.height,O=_.style,A=_.compact,$=_.title,T=_.desc,U=j4(_,f5e),I=De(U,!1);if(A)return M.createElement(r4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(wN,Ed({},I,{width:k,height:P,title:$,desc:T}),this.renderClipPath(),W$(S,this.renderMap)));if(this.props.accessibilityLayer){var V,L;I.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,I.role=(L=this.props.role)!==null&&L!==void 0?L:"application",I.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},I.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(r4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ed({className:tt("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:k,height:P},O)},z,{ref:function(F){w.container=F}}),M.createElement(wN,Ed({},I,{width:k,height:P,title:$,desc:T,style:P5e}),this.renderClipPath(),W$(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ue(g,"displayName",r),Ue(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,S=v.width,N=v.height,k=v.layout,P=v.stackOffset,O=v.margin,A=b.dataStartIndex,$=b.dataEndIndex;if(b.updateId===void 0){var T=k4(v);return ne(ne(ne({},T),{},{updateId:0},m(ne(ne({props:v},T),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:O,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||P!==b.prevStackOffset||!Vd(O,b.prevMargin)){var U=k4(v),I={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=ne(ne({},N4(b,w,k)),{},{updateId:b.updateId+1}),L=ne(ne(ne({},U),I),V);return ne(ne(ne({},L),m(ne({props:v},L),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:O,prevChildren:_})}if(!xN(_,b.prevChildren)){var z,R,F,K,re=_a(_,Lf),Z=re&&(z=(R=re.props)===null||R===void 0?void 0:R.startIndex)!==null&&z!==void 0?z:A,j=re&&(F=(K=re.props)===null||K===void 0?void 0:K.endIndex)!==null&&F!==void 0?F:$,C=Z!==A||j!==$,E=!et(w),B=E&&!C?b.updateId:b.updateId+1;return ne(ne({updateId:B},m(ne(ne({props:v},b),{},{updateId:B,dataStartIndex:Z,dataEndIndex:j}),b)),{},{prevChildren:_,dataStartIndex:Z,dataEndIndex:j})}return null}),Ue(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):We(v)?w=v(b):w=M.createElement(Vg,b),M.createElement(dt,{className:"recharts-active-dot",key:x},w)});var p=y.forwardRef(function(b,x){return M.createElement(g,Ed({},b,{ref:x}))});return p.displayName=g.displayName,p},F5e=t_({chartName:"LineChart",GraphicalChild:Wg,axisComponents:[{axisType:"xAxis",AxisComp:Xl},{axisType:"yAxis",AxisComp:Ql}],formatAxisMap:HO}),B5e=t_({chartName:"BarChart",GraphicalChild:Mu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Xl},{axisType:"yAxis",AxisComp:Ql}],formatAxisMap:HO}),U5e=t_({chartName:"PieChart",GraphicalChild:Ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Hw},{axisType:"radiusAxis",AxisComp:Vw}],formatAxisMap:lMe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),z5e=t_({chartName:"AreaChart",GraphicalChild:jo,axisComponents:[{axisType:"xAxis",AxisComp:Xl},{axisType:"yAxis",AxisComp:Ql}],formatAxisMap:HO});const V5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(xP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return s.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Appointment Trends"})]}),s.jsx(Se,{children:"Daily appointment volume over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Aw,{width:"100%",height:"100%",children:s.jsxs(z5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),s.jsx(Zw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),s.jsx(Xl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Ql,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Sa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(so,{wrapperStyle:{fontSize:"12px"}}),s.jsx(jo,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),s.jsx(jo,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},E4=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],W5e=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,a)=>n+a.value,0);return r===0?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Consultation Types"})]}),s.jsx(Se,{children:"Distribution by type"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Consultation Types"})]}),s.jsx(Se,{children:"Distribution by type"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Aw,{width:"100%",height:"100%",children:s.jsxs(U5e,{children:[s.jsx(Ao,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,a)=>s.jsx(Dg,{fill:E4[a%E4.length]},`cell-${a}`))}),s.jsx(Sa,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(so,{formatter:n=>s.jsx("span",{className:"text-sm",children:n})})]})})})})]})},H5e={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},q5e=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:H5e[r]||"hsl(215, 15%, 45%)"}));return t.length===0?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XT,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Status Distribution"})]}),s.jsx(Se,{children:"Appointment status breakdown"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(XT,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Status Distribution"})]}),s.jsx(Se,{children:"Appointment status breakdown"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Aw,{width:"100%",height:"100%",children:s.jsxs(B5e,{data:t,layout:"vertical",margin:{left:20,right:20},children:[s.jsx(Zw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),s.jsx(Xl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Ql,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),s.jsx(Sa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(Mu,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>s.jsx(Dg,{fill:r.color},`cell-${n}`))})]})})})})]})},G5e=({data:e})=>e.length===0?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t2,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Clinician Performance"})]}),s.jsx(Se,{children:"Top performing clinicians"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):s.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t2,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Clinician Performance"})]}),s.jsx(Se,{children:"Top performing clinicians by appointments"})]}),s.jsx(ce,{children:s.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&s.jsx(Ne,{variant:"default",className:"text-xs",children:"Top Performer"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[s.jsxs("span",{children:[t.total_appointments," appointments"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),s.jsx("div",{className:"w-24",children:s.jsx(cu,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?s.jsx(Wc,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?s.jsx(Wc,{className:"w-4 h-4 text-warning"}):s.jsx(GX,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),K5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(xP(r.date),"MMM d")}));return e.length===0?s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fx,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Patient Growth"})]}),s.jsx(Se,{children:"New patient registrations over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):s.jsxs(ie,{className:"col-span-full lg:col-span-1",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fx,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Patient Growth"})]}),s.jsx(Se,{children:"Total patients over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Aw,{width:"100%",height:"100%",children:s.jsxs(F5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Zw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),s.jsx(Xl,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Ql,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Sa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(so,{wrapperStyle:{fontSize:"11px"}}),s.jsx(Wg,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},Y5e=()=>{var Ru,mi,Jg,Qe,_t,$t,Kn,Yn,pi,rs,Jn,gi,vA,yA,xA,bA,wA,_A,jA,SA,NA,kA,CA,EA;const{profile:e,signOut:t}=$r(),[r,n]=y.useState(30),{data:a,loading:i,error:o,refetch:l}=Kge(r),[c,u]=y.useState("month"),[d,f]=y.useState(null),[h,m]=y.useState(null),[g,p]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(null),[N,k]=y.useState(null),[P,O]=y.useState(!1),[A,$]=y.useState(!1),[T,U]=y.useState(!1),[I,V]=y.useState(null),[L,z]=y.useState(""),[R,F]=y.useState(null),[K,re]=y.useState(!1),[Z,j]=y.useState(null),[C,E]=y.useState("upload"),[B,D]=y.useState([]),[G,q]=y.useState("Campus Africa"),[X,te]=y.useState("university"),[Y,we]=y.useState(""),[ke,Xe]=y.useState(null),[He,Be]=y.useState(null),[ot,Mt]=y.useState(!1),[St,H]=y.useState(null),[W,J]=y.useState(!1),[de,ue]=y.useState(null),[se,Ae]=y.useState(null),[lt,ut]=y.useState("preview"),[rr,Va]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const je=await Hh.getCorporateClients();je!=null&&je.clients&&D(je.clients)}catch(je){console.error("Failed to fetch corporate clients:",je)}})()},[]),y.useEffect(()=>{if(!ke||C!=="importing")return;const ee=setInterval(async()=>{try{const je=await Hh.getJobStatus(ke);je!=null&&je.job&&(Be(je.job),(je.job.status==="completed"||je.job.status==="failed")&&(clearInterval(ee),j({summary:{imported:je.job.imported,duplicates:je.job.duplicates,errors:je.job.errors,skipped:je.job.skipped,total_processed:je.job.processed},details:je.job.details}),E("complete"),je.job.status==="completed"?oe.success(`Import complete! ${je.job.imported} patients imported.`):oe.error(`Import failed: ${je.job.error_message||"Unknown error"}`)))}catch(je){console.error("Error polling job status:",je)}},2e3);return()=>clearInterval(ee)},[ke,C]),y.useEffect(()=>{if(!de||lt!=="sending")return;const ee=setInterval(async()=>{try{const je=await Ov.getJobStatus(de);je!=null&&je.job&&(Ae(je.job),je.job.status==="completed"&&(clearInterval(ee),ut("complete"),oe.success(`Emails sent! ${je.job.sent} delivered, ${je.job.failed} failed.`)))}catch(je){console.error("Error polling email job status:",je)}},2e3);return()=>clearInterval(ee)},[de,lt]),y.useEffect(()=>{(async()=>{O(!0);try{const[je,nr,rc,Ah,Th,d_,Xg]=await Promise.all([Ro.getSummary(c),Ro.getPeakTimes(c),Ro.getCancellationStats(c),Ro.getConversionFunnel(c),Ro.getNoShowRates(c),Ro.getReceptionistWorkload(c),Ro.getTimestampTrends(c)]);f(je),m(nr),p(rc),b(Ah),w(Th),S(d_),k(Xg)}catch(je){console.error("Failed to fetch report data:",je)}finally{O(!1)}})()},[c]);const ha=async()=>{$(!0);try{await Ro.exportCSV(c),oe.success("Report exported successfully")}catch(ee){console.error("Export failed:",ee),oe.error("Failed to export report")}finally{$(!1)}},Zl=ee=>{var nr;const je=(nr=ee.target.files)==null?void 0:nr[0];je&&(V(je),F(null),j(null),E("upload"))},Wa=async()=>{var ee,je;if(I){re(!0);try{const nr=await Hh.preview(I,L||void 0);F(nr),E("preview"),oe.success(`File parsed successfully. ${nr.total_rows} rows found.`)}catch(nr){console.error("Preview failed:",nr),(ee=nr.message)!=null&&ee.includes("password protected")?oe.error("File is password protected. Please enter the password."):(je=nr.message)!=null&&je.includes("Invalid password")?oe.error("Invalid password. Please try again."):oe.error(nr.message||"Failed to preview file")}finally{re(!1)}}},To=async()=>{if(!I)return;const ee=G==="__new__"?Y:G;if(!ee){oe.error("Please select or enter a corporate client name");return}re(!0),E("importing"),Be(null);try{const je=await Hh.startImport(I,L||void 0,ee,X);if(je!=null&&je.job_id)Xe(je.job_id),oe.success(`Import started for ${je.total_rows} rows. Processing in background...`);else throw new Error("Failed to start import job")}catch(je){console.error("Import failed:",je),oe.error(je.message||"Failed to start import"),E("preview"),re(!1)}},ts=async()=>{if(ke)try{await Hh.cancelJob(ke),oe.success("Import cancelled"),E("preview"),re(!1)}catch{oe.error("Could not cancel import")}},ec=()=>{V(null),z(""),F(null),j(null),E("upload"),q("Campus Africa"),te("university"),we(""),Xe(null),Be(null),re(!1)},Oh=async()=>{J(!0);try{const ee=await Ov.preview();H(ee),ut("preview")}catch(ee){console.error("Failed to preview emails:",ee),oe.error("Failed to load email recipients")}finally{J(!1)}},tc=async()=>{J(!0),ut("sending"),Ae(null);try{const ee=await Ov.send({test_mode:rr});if(ee!=null&&ee.job_id)ue(ee.job_id),oe.success(`Sending emails to ${ee.total_recipients} students...`);else throw new Error("Failed to start email job")}catch(ee){console.error("Email send failed:",ee),oe.error(ee.message||"Failed to send emails"),ut("preview")}finally{J(!1)}},Kg=async()=>{J(!0);try{const ee=await Ov.sendTest();ee!=null&&ee.success&&oe.success(ee.message||"Test email sent to your email!")}catch(ee){oe.error(ee.message||"Failed to send test email")}finally{J(!1)}},Yg=()=>{H(null),Ae(null),ut("preview"),ue(null),Va(!1)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:i,className:"hidden sm:flex",children:[s.jsx(mo,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),s.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:i,className:"sm:hidden",children:s.jsx(mo,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),s.jsx(Ne,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),s.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:t,children:[s.jsx(Cl,{className:"w-4 h-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs(or,{value:r.toString(),onValueChange:ee=>n(parseInt(ee)),children:[s.jsx(Qt,{className:"w-[140px] sm:w-[180px]",children:s.jsx(lr,{placeholder:"Select period"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"7",children:"Last 7 days"}),s.jsx(Fe,{value:"14",children:"Last 14 days"}),s.jsx(Fe,{value:"30",children:"Last 30 days"}),s.jsx(Fe,{value:"60",children:"Last 60 days"}),s.jsx(Fe,{value:"90",children:"Last 90 days"})]})]})})]}),s.jsxs(Wl,{defaultValue:"analytics",className:"space-y-6",children:[s.jsxs(ko,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[s.jsxs(Dt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(bd,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),s.jsxs(Dt,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(an,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),s.jsxs(Dt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(kn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),s.jsxs(Dt,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(Ny,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),s.jsx(fr,{value:"analytics",className:"space-y-6",children:i?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(ee=>s.jsx(Wt,{className:"h-28"},ee))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(Wt,{className:"h-80 lg:col-span-2"}),s.jsx(Wt,{className:"h-80"})]})]}):a?s.jsxs(s.Fragment,{children:[s.jsx(Yge,{overview:a.overview}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(V5e,{data:a.appointment_trends}),s.jsx(W5e,{data:a.consultation_types})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(G5e,{data:a.clinician_performance}),s.jsx(K5e,{data:a.patient_growth})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(q5e,{data:a.status_distribution}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"w-5 h-5 text-primary"}),s.jsx(be,{className:"text-lg",children:"Quick Insights"})]}),s.jsx(Se,{children:"Key performance indicators"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),s.jsxs("span",{className:"font-semibold",children:[a.overview.average_consultation_duration.toFixed(1)," min"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),s.jsxs("span",{className:"font-semibold text-success",children:[a.overview.completion_rate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),s.jsx("span",{className:"font-semibold",children:a.overview.appointments_this_week})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),s.jsx("span",{className:"font-semibold",children:a.overview.total_prescriptions})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(bd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Failed to load analytics data"}),o&&s.jsx("p",{className:"text-sm mt-2 text-destructive",children:o}),s.jsx(Q,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),s.jsxs(fr,{value:"reports",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(or,{value:c,onValueChange:u,children:[s.jsx(Qt,{className:"w-[150px]",children:s.jsx(lr,{placeholder:"Select period"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"today",children:"Today"}),s.jsx(Fe,{value:"week",children:"Last 7 days"}),s.jsx(Fe,{value:"month",children:"Last 30 days"}),s.jsx(Fe,{value:"quarter",children:"Last 90 days"}),s.jsx(Fe,{value:"year",children:"Last year"})]})]}),s.jsxs(Q,{variant:"outline",onClick:ha,disabled:A,children:[A?s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Vc,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),P?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(ee=>s.jsx(Wt,{className:"h-32"},ee))}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(ie,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsx(Se,{children:"Total Bookings"}),s.jsx(be,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3 text-green-500"}),"Completed"]}),s.jsx(be,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(Hi,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),s.jsx(be,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),s.jsx(be,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),s.jsx(ce,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),s.jsx(Se,{children:"When are consultations most requested?"})]}),s.jsx(ce,{className:"space-y-4",children:h!=null&&h.insights?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(Ru=h.by_day_of_week)==null?void 0:Ru.map(ee=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ee.day}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?ee.count/h.insights.peak_day.bookings*100:0}%`}})}),s.jsx("span",{className:"w-8 text-xs text-right",children:ee.count})]},ee.day))]})]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),s.jsx(Se,{children:"Distribution of consultation types"})]}),s.jsx(ce,{className:"space-y-3",children:((mi=d.service_breakdown)==null?void 0:mi.length)>0?d.service_breakdown.map(ee=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:ee.service_type}),s.jsxs("span",{className:"font-medium",children:[ee.count," (",ee.percentage,"%)"]})]}),s.jsx("div",{className:"bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${ee.percentage}%`}})})]},ee.service_type)):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),N&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),s.jsxs(Se,{children:["When do students book consultations? Busiest time: ",(Qe=(Jg=N.summary)==null?void 0:Jg.busiest_time_slot)==null?void 0:Qe.description]})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:($t=(_t=N.summary)==null?void 0:_t.peak_hour)==null?void 0:$t.time}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),s.jsxs("p",{className:"text-sm text-blue-600",children:[(Yn=(Kn=N.summary)==null?void 0:Kn.peak_hour)==null?void 0:Yn.count," bookings"]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:(rs=(pi=N.summary)==null?void 0:pi.peak_day)==null?void 0:rs.day}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),s.jsxs("p",{className:"text-sm text-green-600",children:[(gi=(Jn=N.summary)==null?void 0:Jn.peak_day)==null?void 0:gi.count," bookings"]})]}),s.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(vA=N.summary)==null?void 0:vA.total_appointments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),s.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),s.jsx("div",{className:"flex items-end gap-1 h-32",children:(yA=N.hourly_distribution)==null?void 0:yA.map(ee=>{var nr;const je=((nr=N.scaling)==null?void 0:nr.max_hourly)>0?ee.count/N.scaling.max_hourly*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsx("div",{className:`w-full rounded-t transition-all ${ee.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(je,2)}%`},title:`${ee.hour}: ${ee.count} bookings`}),s.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:ee.hour_numeric%3===0?ee.hour.slice(0,2):""})]},ee.hour)})}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:"00:00"}),s.jsx("span",{children:"06:00"}),s.jsx("span",{children:"12:00"}),s.jsx("span",{children:"18:00"}),s.jsx("span",{children:"23:00"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:(xA=N.daily_distribution)==null?void 0:xA.map(ee=>{var nr;const je=((nr=N.scaling)==null?void 0:nr.max_daily)>0?ee.count/N.scaling.max_daily:0;return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${ee.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(je,.2)},children:ee.count}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:ee.day_short})]},ee.day)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-[600px]",children:[s.jsxs("div",{className:"flex mb-1",children:[s.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(ee=>s.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${ee}:00`},ee))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((ee,je)=>s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:ee.slice(0,3)}),s.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(nr,rc)=>{var Xg,PA,OA;const Ah=(PA=(Xg=N.heatmap)==null?void 0:Xg.data)==null?void 0:PA.find(AA=>AA.day_index===je&&AA.hour_index===rc),Th=(Ah==null?void 0:Ah.count)||0,d_=((OA=N.scaling)==null?void 0:OA.max_heatmap)>0?Th/N.scaling.max_heatmap:0;return s.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:Th>0?`rgba(59, 130, 246, ${Math.max(d_,.1)})`:"rgba(0,0,0,0.05)"},title:`${ee} ${rc}:00 - ${Th} bookings`},rc)})})]},ee)),s.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),s.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((ee,je)=>s.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${ee})`}},je))}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((bA=N.daily_trend)==null?void 0:bA.length)>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:N.daily_trend.map(ee=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"w-24 text-muted-foreground",children:ee.date}),s.jsx("div",{className:"flex-1 flex items-center gap-1",children:s.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(ee.total/Math.max(...N.daily_trend.map(je=>je.total||1))*100,5)}%`}})}),s.jsxs("span",{className:"w-20 text-right",children:[s.jsx("span",{className:"font-medium",children:ee.total}),ee.completed>0&&s.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",ee.completed,")"]})]})]},ee.date))})]})]})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),s.jsx(Se,{children:"Top clinicians by appointment volume"})]}),s.jsx(ce,{children:((wA=d.top_clinicians)==null?void 0:wA.length)>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),s.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),s.jsx("tbody",{children:d.top_clinicians.map(ee=>s.jsxs("tr",{className:"border-b last:border-0",children:[s.jsx("td",{className:"py-2",children:ee.clinician_name}),s.jsx("td",{className:"text-center py-2",children:ee.total_appointments}),s.jsx("td",{className:"text-center py-2 text-green-600",children:ee.completed}),s.jsx("td",{className:"text-center py-2 text-red-600",children:ee.cancelled}),s.jsxs("td",{className:"text-right py-2",children:[ee.total_appointments>0?Math.round(ee.completed/ee.total_appointments*100):0,"%"]})]},ee.clinician_name))})]})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wc,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),s.jsx(Se,{children:"Patient journey from chat to completed consultation"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((ee,je)=>{const nr=v.funnel.chats_initiated||1,rc=Math.max(ee.value/nr*100,5);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-40 text-sm text-right",children:ee.label}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:s.jsx("div",{className:`${ee.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${rc}%`},children:s.jsx("span",{className:"text-white text-sm font-medium",children:ee.value})})})]},ee.label)})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),s.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),s.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),s.jsx(Se,{children:"Appointments missed without cancellation"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.summary.no_shows}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.summary.no_show_rate,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(_A=x.by_day_of_week)==null?void 0:_A.map(ee=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:ee.day}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${x.summary.no_shows>0?ee.no_shows/x.summary.no_shows*100:0}%`}})}),s.jsx("span",{className:"w-8 text-xs text-right",children:ee.no_shows})]},ee.day))]})]})]}),_&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),s.jsx(Se,{children:"Chat and booking distribution"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((jA=_.by_receptionist)==null?void 0:jA.length)>0?s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(ee=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:ee.receptionist_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[ee.chats_handled," chats  ",ee.bookings_created," bookings"]})]}),s.jsxs(Ne,{variant:ee.conversion_rate>=50?"default":"secondary",children:[ee.conversion_rate,"% conversion"]})]},ee.receptionist_id))]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(an,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No report data available"})]})]}),s.jsxs(fr,{value:"management",className:"space-y-6",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:s.jsx(kn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:"User Management"}),s.jsx(Se,{children:"Manage all users"})]})]})}),s.jsxs($a,{open:T,onOpenChange:ee=>{U(ee),ee||ec()},children:[s.jsx(Tx,{asChild:!0,children:s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:s.jsx(YX,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:"Bulk Import"}),s.jsx(Se,{children:"Import students from Excel"})]})]})})}),s.jsxs(sa,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2",children:[s.jsx(QT,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),s.jsx(Tl,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),C==="upload"&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[s.jsx(QT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsxs(fe,{htmlFor:"excel-upload",className:"cursor-pointer",children:[s.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),s.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),s.jsx(Je,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:Zl,className:"hidden"}),I&&s.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),I.name," (",(I.size/1024).toFixed(1)," KB)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"password",children:"File Password (if protected)"}),s.jsx(Je,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:L,onChange:ee=>z(ee.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"corporate-client",children:"Corporate Client"}),s.jsxs(or,{value:G,onValueChange:q,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select corporate client"})}),s.jsxs(Zt,{children:[B.map(ee=>s.jsxs(Fe,{value:ee.name,children:[ee.name," (",ee.code||ee.type,")"]},ee.id)),s.jsx(Fe,{value:"__new__",children:"+ Add New Client"})]})]})]}),G==="__new__"&&s.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-primary",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"new-client-name",children:"New Client Name"}),s.jsx(Je,{id:"new-client-name",placeholder:"e.g., Company XYZ",value:Y,onChange:ee=>we(ee.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"client-type",children:"Client Type"}),s.jsxs(or,{value:X,onValueChange:te,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"corporate",children:"Corporate"}),s.jsx(Fe,{value:"university",children:"University / College"}),s.jsx(Fe,{value:"government",children:"Government"}),s.jsx(Fe,{value:"ngo",children:"NGO / Non-Profit"})]})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Expected Columns:"}),s.jsx("p",{className:"text-muted-foreground",children:"Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All patients will be linked to: ",s.jsx("strong",{children:G==="__new__"?Y||"(enter name above)":G}),s.jsx("br",{})," Rows with invalid/missing email will be skipped",s.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",s.jsx("br",{}),' Patients can use "Forgot Password" to set their login password']})]})]}),C==="preview"&&R&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg flex items-center gap-2 mb-4",children:[s.jsx(dx,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{className:"font-medium",children:["Importing to: ",G==="__new__"?Y:G]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.summary.to_import}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.summary.duplicates||0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.summary.errors}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",R.total_rows," total rows:"]}),s.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:s.jsxs(My,{children:[s.jsx($y,{children:s.jsxs(gc,{children:[s.jsx(va,{className:"w-12",children:"#"}),s.jsx(va,{children:"Name"}),s.jsx(va,{children:"Email"}),s.jsx(va,{children:"Phone"}),s.jsx(va,{children:"CA Status"}),s.jsx(va,{children:"Action"})]})}),s.jsx(Iy,{children:R.preview_rows.map(ee=>{var je,nr;return s.jsxs(gc,{children:[s.jsx(ya,{className:"font-mono text-xs",children:ee.row_number}),s.jsxs(ya,{children:[ee.first_name," ",ee.last_name]}),s.jsx(ya,{className:"text-xs",children:ee.email}),s.jsx(ya,{className:"text-xs",children:ee.phone}),s.jsx(ya,{children:s.jsx(Ne,{variant:(je=ee.status)!=null&&je.includes("existing")?"secondary":"outline",children:ee.status||"New"})}),s.jsxs(ya,{children:[ee.import_action==="import"?s.jsxs(Ne,{variant:"default",className:"bg-green-600",children:[s.jsx(nn,{className:"w-3 h-3 mr-1"}),"Import"]}):ee.import_action==="duplicate"?s.jsx(Ne,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):s.jsxs(Ne,{variant:"destructive",children:[s.jsx(Ll,{className:"w-3 h-3 mr-1"}),"Error"]}),((nr=ee.validation_errors)==null?void 0:nr.length)>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ee.validation_errors.join(", ")})]})]},ee.row_number)})})]})})]}),C==="importing"&&s.jsxs("div",{className:"space-y-4 py-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(it,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),s.jsx("p",{className:"text-lg font-medium mt-4",children:"Importing patients..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing in the background. You can close this dialog - the import will continue."})]}),He&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Progress: ",He.processed||0," / ",He.total_rows||0]}),s.jsxs("span",{children:[He.progress_percent||0,"%"]})]}),s.jsx(cu,{value:He.progress_percent||0,className:"w-full"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[s.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-green-600",children:He.imported||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),s.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-yellow-600",children:He.skipped||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Skipped"})]}),s.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-blue-600",children:He.duplicates||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates"})]}),s.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:He.errors||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),s.jsx(Q,{variant:"outline",onClick:ts,className:"w-full",children:"Cancel Import"})]})]}),C==="complete"&&Z&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"text-center py-4",children:[s.jsx(nn,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),s.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:Z.summary.imported}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Z.summary.skipped}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Z.summary.duplicates}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:Z.summary.errors}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((SA=Z.details)==null?void 0:SA.length)>0&&s.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:s.jsxs(My,{children:[s.jsx($y,{children:s.jsxs(gc,{children:[s.jsx(va,{className:"w-12",children:"#"}),s.jsx(va,{children:"Email"}),s.jsx(va,{children:"Status"}),s.jsx(va,{children:"Details"})]})}),s.jsx(Iy,{children:Z.details.slice(0,20).map((ee,je)=>s.jsxs(gc,{children:[s.jsx(ya,{className:"font-mono text-xs",children:ee.row}),s.jsx(ya,{className:"text-xs",children:ee.email}),s.jsx(ya,{children:s.jsx(Ne,{variant:ee.status==="imported"?"default":ee.status==="skipped"?"secondary":ee.status==="duplicate"?"outline":"destructive",className:ee.status==="imported"?"bg-green-600":"",children:ee.status})}),s.jsx(ya,{className:"text-xs text-muted-foreground",children:ee.reason})]},je))})]})}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),s.jsxs(Ud,{children:[C==="upload"&&s.jsx(Q,{onClick:Wa,disabled:!I||K,children:K?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsx(s.Fragment,{children:"Preview File"})}),C==="preview"&&s.jsxs(s.Fragment,{children:[s.jsx(Q,{variant:"outline",onClick:()=>E("upload"),children:"Back"}),s.jsx(Q,{onClick:To,disabled:K||((NA=R==null?void 0:R.summary)==null?void 0:NA.to_import)===0,children:K?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(fx,{className:"w-4 h-4 mr-2"}),"Import ",(kA=R==null?void 0:R.summary)==null?void 0:kA.to_import," Students"]})})]}),C==="complete"&&s.jsx(Q,{onClick:()=>{U(!1),ec()},children:"Done"})]})]})]}),s.jsxs($a,{open:ot,onOpenChange:ee=>{Mt(ee),ee||Yg(),ee&&Oh()},children:[s.jsx(Tx,{asChild:!0,children:s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-blue-500/20 hover:border-blue-500 bg-blue-50/50 dark:bg-blue-900/10",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:s.jsx(hs,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:"Welcome Emails"}),s.jsx(Se,{children:"Send to Campus Africa students"})]})]})})}),s.jsxs(sa,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5"}),"Send Welcome Emails"]}),s.jsx(Tl,{children:"Send personalized welcome emails to Campus Africa students who haven't logged in yet."})]}),lt==="preview"&&s.jsx("div",{className:"space-y-4 py-4",children:W?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(it,{className:"w-6 h-6 animate-spin mr-2"}),"Loading recipients..."]}):St?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(kn,{className:"w-5 h-5 text-blue-600"}),s.jsxs("span",{className:"font-semibold text-lg",children:[St.total_eligible," students eligible"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Students who were bulk-imported but haven't logged in yet"})]}),((CA=St.preview)==null?void 0:CA.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Preview (first 20):"}),s.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto",children:s.jsxs(My,{children:[s.jsx($y,{children:s.jsxs(gc,{children:[s.jsx(va,{children:"Name"}),s.jsx(va,{children:"Email"})]})}),s.jsx(Iy,{children:St.preview.map((ee,je)=>s.jsxs(gc,{children:[s.jsxs(ya,{children:[ee.first_name," ",ee.last_name]}),s.jsx(ya,{className:"text-sm text-muted-foreground",children:ee.email})]},je))})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx("input",{type:"checkbox",id:"test-mode",checked:rr,onChange:ee=>Va(ee.target.checked),className:"rounded"}),s.jsx(fe,{htmlFor:"test-mode",className:"text-sm cursor-pointer",children:"Test mode (send to first 5 students only)"})]})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data loaded"})}),lt==="sending"&&se&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[s.jsx(it,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Sending emails..."})]}),s.jsx(cu,{value:se.progress_percent,className:"h-3"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:se.sent}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:se.failed}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:se.total}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[se.processed," of ",se.total," processed (",se.progress_percent,"%)"]})]}),lt==="complete"&&se&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Nr,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Emails Sent!"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:se.sent}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Successfully Sent"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:se.failed}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]}),((EA=se.errors)==null?void 0:EA.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-red-600",children:"Failed emails:"}),s.jsx("div",{className:"border border-red-200 rounded-lg max-h-32 overflow-y-auto p-2",children:se.errors.map((ee,je)=>s.jsxs("div",{className:"text-sm text-red-600",children:[ee.email,": ",ee.error]},je))})]})]}),s.jsxs(Ud,{className:"gap-2",children:[lt==="preview"&&s.jsxs(s.Fragment,{children:[s.jsxs(Q,{variant:"outline",onClick:Kg,disabled:W,children:[s.jsx(kB,{className:"w-4 h-4 mr-2"}),"Send Test to Me"]}),s.jsxs(Q,{onClick:tc,disabled:W||!(St!=null&&St.total_eligible),children:[W?s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(hs,{className:"w-4 h-4 mr-2"}),"Send ",rr?"5 Test":(St==null?void 0:St.total_eligible)||0," Emails"]})]}),lt==="complete"&&s.jsx(Q,{onClick:()=>{Mt(!1),Yg()},children:"Done"})]})]})]}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:s.jsx(dx,{className:"w-6 h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:"Clinics"}),s.jsx(Se,{children:"Manage clinic locations"})]})]})}),s.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:s.jsx(kt,{className:"w-6 h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:"Appointments"}),s.jsx(Se,{children:"View all bookings"})]})]})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(bd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),s.jsx(Se,{children:"Recent system events and logs"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(bd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Activity logging coming soon"}),s.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),s.jsx(fr,{value:"settings",className:"space-y-6",children:s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Ny,{className:"w-5 h-5 text-primary"}),"System Settings"]}),s.jsx(Se,{children:"Configure system parameters"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ny,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Settings panel coming soon"}),s.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},J5e=()=>{const e=On(),{toast:t}=dE(),{user:r,profile:n,signOut:a,role:i}=$r(),{currentConversation:o,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=a8(),[m,g]=y.useState("unassigned"),[p,v]=y.useState([]),[b,x]=y.useState([]),[w,_]=y.useState([]),[S,N]=y.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,P]=y.useState(!1),[O,A]=y.useState(!1),[$,T]=y.useState("chat"),[U,I]=y.useState([]),[V,L]=y.useState(!1),[z,R]=y.useState(!1),[F,K]=y.useState([]),[re,Z]=y.useState([]),[j,C]=y.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),[E,B]=y.useState(!1),[D,G]=y.useState(!1),[q,X]=y.useState(!1),[te,Y]=y.useState(null),[we,ke]=y.useState(null);y.useEffect(()=>{(async()=>{if(o!=null&&o.booking_id)try{const de=(await Ys.list()).find(ue=>ue.id===o.booking_id);Y(de||null)}catch(J){console.error("Error fetching booking:",J),Y(null)}else Y(null)})()},[o==null?void 0:o.booking_id]);const Xe=y.useCallback(async()=>{L(!0);try{const J=(await Ys.list()||[]).sort((de,ue)=>new Date(de.scheduled_at).getTime()-new Date(ue.scheduled_at).getTime());I(J)}catch(W){console.error("Error loading bookings:",W)}finally{L(!1)}},[]);y.useEffect(()=>{$==="bookings"&&Xe()},[$,Xe]);const He=async W=>{ke(W),G(!0)},Be=async()=>{const W=we||(o!=null&&o.booking_id?{id:o.booking_id}:null);if(W!=null&&W.id){X(!0);try{await Ys.cancel(W.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),G(!1),ke(null),Y(null),ot(),$==="bookings"&&Xe()}catch(J){t({title:"Error cancelling booking",description:J.message,variant:"destructive"})}finally{X(!1)}}},ot=y.useCallback(async()=>{A(!0);try{const[W,J,de,ue]=await Promise.all([Kr.getUnassignedConversations(),Kr.getMyChats(),Kr.getConversations(),Kr.getStats()]);v(W||[]),x(J||[]),_(de||[]),N(ue||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(W){console.error("Error loading data:",W)}finally{A(!1)}},[]);y.useEffect(()=>{ot();const W=setInterval(ot,3e4);return()=>clearInterval(W)},[ot]),y.useEffect(()=>{(async()=>{try{const[J,de]=await Promise.all([Ys.getFeeSchedule(),Ys.getAvailableClinicians()]);K(J||[]),Z(de||[]),console.log("Loaded clinicians:",de)}catch(J){console.error("Error loading booking data:",J)}})()},[]);const Mt=async W=>{try{await f(W),t({title:"Chat claimed",description:"You are now handling this conversation"}),await ot(),g("my-chats")}catch(J){t({title:"Error",description:J.message,variant:"destructive"})}},St=async W=>{await u(W.id)},H=async()=>{if(!o||!j.clinician_id||!j.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}B(!0);try{await Ys.create({patient_id:o.patient_id,clinician_id:j.clinician_id,conversation_id:o.id,scheduled_at:new Date(j.scheduled_at).toISOString(),service_type:j.service_type,billing_type:j.billing_type,notes:j.notes||void 0,authorization_number:j.billing_type==="medical_aid"?j.authorization_number:void 0}),t({title:"Booking created",description:"The patient has been notified"}),R(!1),C({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:"",authorization_number:""}),await u(o.id),await ot()}catch(W){t({title:"Error creating booking",description:W.message,variant:"destructive"})}finally{B(!1)}};return i!=="admin"&&i!=="nurse"&&i!=="doctor"&&i!=="receptionist"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs(ie,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),s.jsx(Q,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[s.jsxs(Q,{variant:$==="chat"?"default":"ghost",size:"sm",onClick:()=>T("chat"),children:[s.jsx(ru,{className:"w-4 h-4 mr-2"}),"Chats"]}),s.jsxs(Q,{variant:$==="bookings"?"default":"ghost",size:"sm",onClick:()=>T("bookings"),children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Ne,{variant:"secondary",className:"gap-1",children:[s.jsx(MX,{className:"w-3 h-3"}),S.unassigned_count," Unassigned"]}),s.jsxs(Ne,{variant:"default",className:"gap-1",children:[s.jsx(ru,{className:"w-3 h-3"}),S.my_chats_count," My Chats"]})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:a,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>P(!k),children:k?s.jsx(Os,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})}),s.jsx("main",{className:"container mx-auto px-4 py-4",children:$==="chat"?s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[s.jsxs(ie,{className:"w-80 shrink-0 flex flex-col",children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(be,{className:"text-lg",children:"Chat Queue"}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:ot,disabled:O,children:O?s.jsx(it,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),s.jsx(ce,{className:"flex-1 p-0 overflow-hidden",children:s.jsxs(Wl,{value:m,onValueChange:g,className:"h-full flex flex-col",children:[s.jsxs(ko,{className:"grid grid-cols-3 mx-4",children:[s.jsxs(Dt,{value:"unassigned",className:"text-xs",children:["Unassigned",S.unassigned_count>0&&s.jsx(Ne,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:S.unassigned_count})]}),s.jsx(Dt,{value:"my-chats",className:"text-xs",children:"My Chats"}),s.jsx(Dt,{value:"all",className:"text-xs",children:"All"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsx(fr,{value:"unassigned",className:"m-0 h-full",children:p.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"No unassigned chats"})]}):s.jsx("div",{className:"divide-y",children:p.map(W=>s.jsxs("div",{className:"p-4 hover:bg-accent",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:W.patient_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:W.last_message})]}),s.jsx(Ne,{variant:"secondary",className:"text-xs",children:"New"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:W.last_message_at&&yt(new Date(W.last_message_at),"HH:mm")}),s.jsxs(Q,{size:"sm",onClick:()=>Mt(W.id),children:[s.jsx(fx,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},W.id))})}),s.jsx(fr,{value:"my-chats",className:"m-0 h-full",children:s.jsx(mN,{conversations:b,selectedId:o==null?void 0:o.id,onSelect:St,showPatientName:!0})}),s.jsx(fr,{value:"all",className:"m-0 h-full",children:s.jsx(mN,{conversations:w,selectedId:o==null?void 0:o.id,onSelect:St,showPatientName:!0})})]})]})})]}),s.jsx(ie,{className:"flex-1 flex flex-col",children:o?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"pb-2 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(be,{className:"text-lg",children:o.patient_name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ne,{variant:"outline",children:o.status.replace("_"," ")}),o.patient_type&&s.jsx(Ne,{variant:"secondary",children:o.patient_type.replace("_"," ")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(or,{value:o.patient_type||"",onValueChange:async W=>{await Kr.updatePatientType(o.id,W),await u(o.id)},children:[s.jsx(Qt,{className:"w-[150px]",children:s.jsx(lr,{placeholder:"Patient Type"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"medical_aid",children:"Medical Aid"}),s.jsx(Fe,{value:"campus_africa",children:"Campus Africa"}),s.jsx(Fe,{value:"university_student",children:"University Student"}),s.jsx(Fe,{value:"cash",children:"Cash / Self-Pay"})]})]}),s.jsxs($a,{open:z,onOpenChange:R,children:[s.jsx(Tx,{asChild:!0,children:s.jsxs(Q,{disabled:o.status==="booked"||!!te,children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),s.jsxs(sa,{className:"max-w-md",children:[s.jsx(oa,{children:s.jsxs(la,{children:["Create Booking for ",o.patient_name]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Clinical Associate *"}),s.jsxs(or,{value:j.clinician_id,onValueChange:W=>C(J=>({...J,clinician_id:W})),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select clinician"})}),s.jsx(Zt,{children:re.length===0?s.jsx(Fe,{value:"",disabled:!0,children:"No clinicians available"}):re.map(W=>s.jsxs(Fe,{value:W.id,children:[W.name," (",W.specialization||W.role,")"]},W.id))})]}),re.length===0&&s.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Date & Time *"}),s.jsx(Je,{type:"datetime-local",value:j.scheduled_at,onChange:W=>C(J=>({...J,scheduled_at:W.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Service Type"}),s.jsxs(or,{value:j.service_type,onValueChange:W=>C(J=>({...J,service_type:W})),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:F.map(W=>s.jsxs(Fe,{value:W.service_type,children:[W.name," - R",W.price]},W.service_type))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Billing Type"}),s.jsxs(or,{value:j.billing_type,onValueChange:W=>C(J=>({...J,billing_type:W,authorization_number:""})),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"medical_aid",children:"Medical Aid"}),s.jsx(Fe,{value:"campus_africa",children:"Campus Africa"}),s.jsx(Fe,{value:"university_student",children:"University Student"}),s.jsx(Fe,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),j.billing_type==="medical_aid"&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{children:["Authorization Number ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Je,{value:j.authorization_number,onChange:W=>C(J=>({...J,authorization_number:W.target.value})),placeholder:"Enter medical aid authorization number",className:j.authorization_number?"":"border-destructive"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for medical aid billing. Obtain from HealthBridge system."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Notes (optional)"}),s.jsx(Fr,{value:j.notes,onChange:W=>C(J=>({...J,notes:W.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),j.billing_type==="cash"&&s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),s.jsxs(Ud,{children:[s.jsx(Q,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),s.jsx(Q,{onClick:H,disabled:E||!j.clinician_id||j.billing_type==="medical_aid"&&!j.authorization_number.trim(),children:E?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),te&&s.jsxs($a,{open:D,onOpenChange:G,children:[s.jsx(Tx,{asChild:!0,children:s.jsxs(Q,{variant:"destructive",size:"sm",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),s.jsxs(sa,{className:"max-w-md",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),s.jsx(Tl,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),s.jsx("span",{className:"font-medium",children:o.patient_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),s.jsx("span",{className:"font-medium",children:te.scheduled_at?ta(te.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),s.jsx("span",{className:"font-medium",children:te.service_type})]}),te.clinician_name&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),s.jsx("span",{className:"font-medium",children:te.clinician_name})]})]})}),s.jsxs(Ud,{children:[s.jsx(Q,{variant:"outline",onClick:()=>G(!1),children:"Keep Booking"}),s.jsx(Q,{variant:"destructive",onClick:Be,disabled:q,children:q?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),s.jsx(sz,{messages:l,currentUserId:r==null?void 0:r.id}),s.jsx(oz,{onSend:d,disabled:o.status==="closed"})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[s.jsx(kn,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):s.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[s.jsxs(ie,{className:"h-full flex flex-col",children:[s.jsx(me,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),s.jsx(Se,{children:"Manage upcoming and past consultations"})]}),s.jsx(Q,{variant:"outline",size:"sm",onClick:Xe,disabled:V,children:V?s.jsx(it,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),s.jsx(ce,{className:"flex-1 overflow-y-auto",children:V?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(it,{className:"w-8 h-8 animate-spin text-primary"})}):U.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-16 h-16 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),s.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):s.jsx("div",{className:"space-y-3",children:U.map(W=>{var se;const J=new Date(W.scheduled_at)<new Date,de=W.status==="cancelled",ue=W.status==="completed";return s.jsx("div",{className:`p-4 rounded-lg border ${de?"border-red-200 bg-red-50 dark:bg-red-900/10":ue?"border-green-200 bg-green-50 dark:bg-green-900/10":J?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold",children:W.patient_name||"Patient"}),s.jsx(Ne,{variant:de?"destructive":ue||W.status==="confirmed"?"default":"secondary",children:W.status})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[ta(W.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service: ",s.jsx("span",{className:"text-foreground",children:W.service_type})]}),W.clinician_name&&s.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",s.jsx("span",{className:"text-foreground",children:W.clinician_name})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Type: ",s.jsx("span",{className:"text-foreground capitalize",children:(se=W.billing_type)==null?void 0:se.replace("_"," ")})]})]})]}),!de&&!ue&&!J&&s.jsxs(Q,{variant:"destructive",size:"sm",onClick:()=>He(W),children:[s.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},W.id)})})})]}),s.jsx($a,{open:D&&!!we,onOpenChange:W=>{W||(G(!1),ke(null))},children:s.jsxs(sa,{className:"max-w-md",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),s.jsx(Tl,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),we&&s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),s.jsx("span",{className:"font-medium",children:we.patient_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),s.jsx("span",{className:"font-medium",children:ta(we.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),s.jsx("span",{className:"font-medium",children:we.service_type})]})]})}),s.jsxs(Ud,{children:[s.jsx(Q,{variant:"outline",onClick:()=>{G(!1),ke(null)},children:"Keep Booking"}),s.jsx(Q,{variant:"destructive",onClick:Be,disabled:q,children:q?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},X5e=()=>s.jsx(i8,{children:s.jsx(J5e,{})});function P4(e,t){if(e==null)return{};var r,n,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ua(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function K7(e){var t=function(r,n){if(gt(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n);if(gt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return gt(t)=="symbol"?t:t+""}function O4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K7(n.key),n)}}function za(e,t,r){return t&&O4(e.prototype,t),r&&O4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r_(e,t){if(t&&(gt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qi(e)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lg(e,t)}function n_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function us(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A4(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ye(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(c){A4(i,n,a,o,l,"next",c)}function l(c){A4(i,n,a,o,l,"throw",c)}o(void 0)})}}function T4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function En(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,f=!1;try{if(l=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(h){f=!0,o=h}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return T4(r,n);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?T4(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Q5e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var M4,Gv={exports:{}},qk=function(){if(M4)return Gv.exports;M4=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(p,v,b){return Function.prototype.apply.call(p,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var n=Number.isNaN||function(p){return p!=p};function a(){a.init.call(this)}Gv.exports=a,Gv.exports.once=function(p,v){return new Promise(function(b,x){function w(S){p.removeListener(v,_),x(S)}function _(){typeof p.removeListener=="function"&&p.removeListener("error",w),b([].slice.call(arguments))}g(p,v,_,{once:!0}),v!=="error"&&function(S,N,k){typeof S.on=="function"&&g(S,"error",N,k)}(p,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function l(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}function c(p,v,b,x){var w,_,S,N;if(o(b),(_=p._events)===void 0?(_=p._events=Object.create(null),p._eventsCount=0):(_.newListener!==void 0&&(p.emit("newListener",v,b.listener?b.listener:b),_=p._events),S=_[v]),S===void 0)S=_[v]=b,++p._eventsCount;else if(typeof S=="function"?S=_[v]=x?[b,S]:[S,b]:x?S.unshift(b):S.push(b),(w=l(p))>0&&S.length>w&&!S.warned){S.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=p,k.type=v,k.count=S.length,N=k,console&&console.warn&&console.warn(N)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,v,b){var x={fired:!1,wrapFn:void 0,target:p,type:v,listener:b},w=u.bind(x);return w.listener=b,x.wrapFn=w,w}function f(p,v,b){var x=p._events;if(x===void 0)return[];var w=x[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var S=new Array(_.length),N=0;N<S.length;++N)S[N]=_[N].listener||_[N];return S}(w):m(w,w.length)}function h(p){var v=this._events;if(v!==void 0){var b=v[p];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function m(p,v){for(var b=new Array(v),x=0;x<v;++x)b[x]=p[x];return b}function g(p,v,b,x){if(typeof p.on=="function")x.once?p.once(v,b):p.on(v,b);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(v,function w(_){x.once&&p.removeEventListener(v,w),b(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(p){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var x=p==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var N=w[p];if(N===void 0)return!1;if(typeof N=="function")r(N,this,v);else{var k=N.length,P=m(N,k);for(b=0;b<k;++b)r(P[b],this,v)}return!0},a.prototype.addListener=function(p,v){return c(this,p,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(p,v){return c(this,p,v,!0)},a.prototype.once=function(p,v){return o(v),this.on(p,d(this,p,v)),this},a.prototype.prependOnceListener=function(p,v){return o(v),this.prependListener(p,d(this,p,v)),this},a.prototype.removeListener=function(p,v){var b,x,w,_,S;if(o(v),(x=this._events)===void 0)return this;if((b=x[p])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete x[p],x.removeListener&&this.emit("removeListener",p,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){S=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(N,k){for(;k+1<N.length;k++)N[k]=N[k+1];N.pop()}(b,w),b.length===1&&(x[p]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",p,S||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(p){var v,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[p]),this;if(arguments.length===0){var w,_=Object.keys(b);for(x=0;x<_.length;++x)(w=_[x])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[p])=="function")this.removeListener(p,v);else if(v!==void 0)for(x=v.length-1;x>=0;x--)this.removeListener(p,v[x]);return this},a.prototype.listeners=function(p){return f(this,p,!0)},a.prototype.rawListeners=function(p){return f(this,p,!1)},a.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):h.call(p,v)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Gv.exports}(),Kv=Q5e(qk),$4=Object.prototype.hasOwnProperty;function I4(e,t,r){for(r of e.keys())if(In(r,t))return r}function In(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&In(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((a=n)&&typeof a=="object"&&!(a=I4(t,a))||!t.has(a))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((a=n[0])&&typeof a=="object"&&!(a=I4(t,a))||!In(n[1],t.get(a)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if($4.call(e,r)&&++n&&!$4.call(t,r)||!(r in t)||!In(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const Z5e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Y7={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},br={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},An={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Vo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class le{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const a=le.getVersionPrecision(t),i=le.getVersionPrecision(r);let o=Math.max(a,i),l=0;const c=le.map([t,r],u=>{const d=o-le.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return le.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,r){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)n.push(r(t[a]));return n}static find(t,r){let n,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,a=t.length;n<a;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let a,i;if(Object.assign)return Object.assign(t,...r);for(a=0,i=r.length;a<i;a+=1){const o=r[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{n[l]=o[l]})}return t}static getBrowserAlias(t){return Z5e[t]}static getBrowserTypeByAlias(t){return Y7[t]||""}}const It=/version\/(\d+(\.?_?\d+)+)/i,eBe=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=le.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=le.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=le.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=le.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=le.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=le.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=le.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=le.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=le.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=le.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=le.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=le.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=le.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=le.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=le.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=le.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=le.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=le.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=le.getFirstMatch(It,e)||le.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=le.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=le.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=le.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=le.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=le.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=le.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=le.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=le.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=le.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=le.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:le.getFirstMatch(t,e),version:le.getSecondMatch(t,e)}}}];var tBe=[{test:[/Roku\/DVP/],describe(e){const t=le.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:An.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=le.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:An.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=le.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=le.getWindowsVersionName(t);return{name:An.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:An.iOS},r=le.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=le.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=le.getMacOSVersionName(t),n={name:An.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=le.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:An.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=le.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=le.getAndroidVersionName(t),n={name:An.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=le.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:An.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=le.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||le.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||le.getFirstMatch(/\bbb(\d+)/i,e);return{name:An.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=le.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:An.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=le.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:An.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:An.Linux})},{test:[/CrOS/],describe:()=>({name:An.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=le.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:An.PlayStation4,version:t}}}],rBe=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=le.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:br.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:br.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:br.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:br.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:br.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=le.getFirstMatch(/(ipod|iphone)/i,e);return{type:br.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:br.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:br.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:br.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:br.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:br.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:br.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:br.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:br.tv})}],nBe=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Vo.Blink};const t=le.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Vo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Vo.Trident},r=le.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Vo.Presto},r=le.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Vo.Gecko},r=le.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Vo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Vo.WebKit},r=le.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class R4{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=le.find(eBe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=le.find(tBe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=le.find(rBe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=le.find(nBe,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return le.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(r[o]=l,n+=1)}),n>0){const o=Object.keys(r),l=le.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=le.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=le.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=le.getBrowserTypeByAlias(a);return r&&i&&(a=i.toLowerCase()),a===n}compareVersion(t){let r=[0],n=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(a=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(a=!0,n=t.substr(1)),r.indexOf(le.compareVersions(i,n,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class aBe{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new R4(t,r)}static parse(t){return new R4(t).getResult()}static get BROWSER_MAP(){return Y7}static get ENGINE_MAP(){return Vo}static get OS_MAP(){return An}static get PLATFORMS_MAP(){return br}}function a_(){return Date.now()+Math.random().toString()}function im(){throw new Error("Method must be implemented in subclass")}function J7(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Gb(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:J7("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Kb(e){try{new URL(e)}catch{return!1}return!0}const Ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kc="8.55.0",jt=globalThis;function Yb(e,t,r){const n=jt,a=n.__SENTRY__=n.__SENTRY__||{},i=a[Kc]=a[Kc]||{};return i[e]||(i[e]=t())}const $u=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Gk=["debug","info","warn","error","log","assert","trace"],Jb={};function Hg(e){if(!("console"in jt))return e();const t=jt.console,r={},n=Object.keys(Jb);n.forEach(a=>{const i=Jb[a];r[a]=t[a],t[a]=i});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}const rt=Yb("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return $u?Gk.forEach(r=>{t[r]=(...n)=>{e&&Hg(()=>{jt.console[r](`Sentry Logger [${r}]:`,...n)})}}):Gk.forEach(r=>{t[r]=()=>{}}),t}),$c="?",D4=/\(error: (.*)\)/,L4=/captureMessage|captureException/;function Yv(e){return e[e.length-1]||{}}const F4="<anonymous>";function Ml(e){try{return e&&typeof e=="function"&&e.name||F4}catch{return F4}}function B4(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Dy={},U4={};function Yc(e,t){Dy[e]=Dy[e]||[],Dy[e].push(t)}function Jc(e,t){if(!U4[e]){U4[e]=!0;try{t()}catch(r){$u&&rt.error(`Error while instrumenting ${e}`,r)}}}function zi(e,t){const r=e&&Dy[e];if(r)for(const n of r)try{n(t)}catch(a){$u&&rt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ml(n)}
Error:`,a)}}let i1=null;function iBe(){i1=jt.onerror,jt.onerror=function(e,t,r,n,a){return zi("error",{column:n,error:a,line:r,msg:e,url:t}),!!i1&&i1.apply(this,arguments)},jt.onerror.__SENTRY_INSTRUMENTED__=!0}let s1=null;function sBe(){s1=jt.onunhandledrejection,jt.onunhandledrejection=function(e){return zi("unhandledrejection",e),!s1||s1.apply(this,arguments)},jt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function i_(){return tA(jt),jt}function tA(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Kc,t[Kc]=t[Kc]||{}}const X7=Object.prototype.toString;function rA(e){switch(X7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return vu(e,Error)}}function Ph(e,t){return X7.call(e)===`[object ${t}]`}function Q7(e){return Ph(e,"ErrorEvent")}function z4(e){return Ph(e,"DOMError")}function ro(e){return Ph(e,"String")}function nA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Kk(e){return e===null||nA(e)||typeof e!="object"&&typeof e!="function"}function Jf(e){return Ph(e,"Object")}function s_(e){return typeof Event<"u"&&vu(e,Event)}function o_(e){return!!(e&&e.then&&typeof e.then=="function")}function vu(e,t){try{return e instanceof t}catch{return!1}}function Z7(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const aA=jt;function eG(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=oBe(r,d),!(u==="html"||i>1&&o+a.length*c+u.length>=f));)a.push(u),o+=u.length,r=r.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function oBe(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(aA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>r.getAttribute(o)).map(o=>[o,r.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{n.push(`[${o[0]}="${o[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const o=r.className;if(o&&ro(o)){const l=o.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=r.getAttribute(o);l&&n.push(`[${o}="${l}"]`)}return n.join("")}function qd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function V4(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{Z7(a)?r.push("[VueViewModel]"):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function lBe(e,t,r=!1){return!!ro(e)&&(Ph(t,"RegExp")?t.test(e):!!ro(t)&&(r?e===t:e.includes(t)))}function Jv(e,t=[],r=!1){return t.some(n=>lBe(e,n,r))}function Aa(e,t,r){if(!(t in e))return;const n=e[t],a=r(n);typeof a=="function"&&tG(a,n);try{e[t]=a}catch{$u&&rt.log(`Failed to replace method "${t}" in object`,e)}}function yu(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{$u&&rt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function tG(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,yu(e,"__sentry_original__",t)}catch{}}function iA(e){return e.__sentry_original__}function rG(e){if(rA(e))return{message:e.message,name:e.name,stack:e.stack,...H4(e)};if(s_(e)){const t={type:e.type,target:W4(e.target),currentTarget:W4(e.currentTarget),...H4(e)};return typeof CustomEvent<"u"&&vu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function W4(e){try{return t=e,typeof Element<"u"&&vu(t,Element)?eG(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function H4(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function ti(e){return Yk(e,new Map)}function Yk(e,t){if(function(r){if(!Jf(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(n[a]=Yk(e[a],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(a=>{n.push(Yk(a,t))}),n}return e}function qg(){return Date.now()/1e3}const lo=function(){const{performance:e}=jt;if(!e||!e.now)return qg;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function ii(){const e=jt,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function nG(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Yo(e){const{message:t,event_id:r}=e;if(t)return t;const n=nG(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Jk(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Xf(e,t){const r=nG(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const a={...n&&n.data,...t.data};r.mechanism.data=a}}function q4(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{yu(e,"__sentry_captured__",!0)}catch{}return!1}var qs;function xu(e){return new Xa(t=>{t(e)})}function Xb(e){return new Xa((t,r)=>{r(e)})}(()=>{const{performance:e}=jt;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(qs||(qs={}));class Xa{constructor(t){Xa.prototype.__init.call(this),Xa.prototype.__init2.call(this),Xa.prototype.__init3.call(this),Xa.prototype.__init4.call(this),this._state=qs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Xa((n,a)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(o){a(o)}else n(i)},i=>{if(r)try{n(r(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Xa((r,n)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?n(a):r(a)})})}__init(){this._resolve=t=>{this._setResult(qs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(qs.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===qs.PENDING&&(o_(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===qs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===qs.RESOLVED&&r[1](this._value),this._state===qs.REJECTED&&r[2](this._value),r[0]=!0)})}}}function cBe(e){const t=lo(),r={sid:ii(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return ti({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Qf(r,e),r}function Qf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||lo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ii()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function G4(){return ii()}function Xk(){return ii().substring(16)}function l_(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=l_(n[a],t[a],r-1));return n}const Qk="_sentrySpan";function K4(e,t){t?yu(e,Qk,t):delete e[Qk]}function Y4(e){return e[Qk]}class sA{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:G4(),spanId:Xk()}}clone(){const t=new sA;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,K4(t,Y4(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Qf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,a]=r instanceof $l?[r.getScopeData(),r.getRequestSession()]:Jf(r)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,K4(this,void 0),this._attachments=[],this.setPropagationContext({traceId:G4()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const a={timestamp:qg(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Y4(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=l_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Xk(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:ii();if(!this._client)return rt.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=n&&n.event_id?n.event_id:ii();if(!this._client)return rt.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureEvent(t,r){const n=r&&r.event_id?r.event_id:ii();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(rt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const $l=sA;class uBe{constructor(t,r){let n,a;n=t||new $l,a=r||new $l,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return o_(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Zf(){const e=tA(i_());return e.stack=e.stack||new uBe(Yb("defaultCurrentScope",()=>new $l),Yb("defaultIsolationScope",()=>new $l))}function dBe(e){return Zf().withScope(e)}function fBe(e,t){const r=Zf();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function J4(e){return Zf().withScope(()=>e(Zf().getIsolationScope()))}function oA(e){const t=tA(e);return t.acs?t.acs:{withIsolationScope:J4,withScope:dBe,withSetScope:fBe,withSetIsolationScope:(r,n)=>J4(n),getCurrentScope:()=>Zf().getScope(),getIsolationScope:()=>Zf().getIsolationScope()}}function Iu(){return oA(i_()).getCurrentScope()}function Gg(){return oA(i_()).getIsolationScope()}function Nn(){return Iu().getClient()}function hBe(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:a}=t;return ti({trace_id:r,span_id:n,parent_span_id:a})}function mBe(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,a]]of t)(r[n]||(r[n]=[])).push(ti(a));return r}const pBe=/^sentry-/;function gBe(e){const t=function(n){if(!(!n||!ro(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((a,i)=>{const o=X4(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):X4(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,i])=>(a.match(pBe)&&(n[a.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function X4(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let Q4=!1;function vBe(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return ti({parent_span_id:n?t:lA(e).parent_span_id,span_id:n?Xk():t,trace_id:r})}function Z4(e){return typeof e=="number"?eL(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?eL(e.getTime()):lo()}function eL(e){return e>9999999999?e/1e3:e}function lA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const a=n;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:n,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return ti({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:Z4(a),timestamp:Z4(o)||void 0,status:yBe(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:mBe(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function yBe(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function aG(e){return e._sentryRootSpan||e}function xBe(){Q4||(Hg(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Q4=!0)}const cA="production";function iG(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a=ti({environment:r.environment||cA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",a),a}function bBe(e){const t=Nn();if(!t)return{};const r=aG(e),n=r._frozenDsc;if(n)return n;const a=r.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&gBe(i);if(o)return o;const l=iG(e.spanContext().traceId,t),c=lA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Nn(),p=g&&g.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(l.sampled=String(function(m){const{traceFlags:g}=m.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const wBe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Qb(e,t=!1){const{host:r,path:n,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${o}`}function tL(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function _Be(e){const t=typeof e=="string"?function(r){const n=wBe.exec(r);if(!n)return void Hg(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[a,i,o="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const m=f.match(/^\d+/);m&&(f=m[0])}return tL({host:l,pass:o,path:d,projectId:f,port:c,protocol:a,publicKey:i})}(e):tL(e);if(t&&function(r){if(!$u)return!0;const{port:n,projectId:a,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(o=>!r[o]&&(rt.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?n&&isNaN(parseInt(n,10))&&(rt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(rt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(rt.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function Gs(e,t=100,r=1/0){try{return Zk("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function sG(e,t=3,r=102400){const n=Gs(e,t);return a=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>r?sG(e,t-1,r):n;var a}function Zk(e,t,r=1/0,n=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,g){try{if(m==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(Z7(g))return"[VueViewModel]";if(Jf(p=g)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${Ml(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const x=Object.getPrototypeOf(b);return x?x.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var p}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return Zk("",u.toJSON(),c-1,n,a)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=rG(t);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(f>=n){d[m]="[MaxProperties ~]";break}const g=h[m];d[m]=Zk(m,g,c-1,n,a),f++}return o(t),d}function cg(e,t=[]){return[e,t]}function jBe(e,t){const[r,n]=e;return[r,[...n,t]]}function rL(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function eC(e){return jt.__SENTRY__&&jt.__SENTRY__.encodePolyfill?jt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function SBe(e){const[t,r]=e;let n=JSON.stringify(t);function a(i){typeof n=="string"?n=typeof i=="string"?n+i:[eC(n),i]:n.push(typeof i=="string"?eC(i):i)}for(const i of r){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Gs(l))}a(c)}}return typeof n=="string"?n:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function NBe(e){const t=typeof e.data=="string"?eC(e.data):e.data;return[ti({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const kBe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function nL(e){return kBe[e]}function oG(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function CBe(e,t,r,n){const a=oG(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const o=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Qb(d)},...f&&{trace:ti({...f})}}}(e,a,n,t);return delete e.sdkProcessingMetadata,cg(o,[[{type:i},e]])}function tC(e,t,r,n=0){return new Xa((a,i)=>{const o=e[n];if(t===null||typeof o!="function")a(t);else{const l=o({...t},r);Ut&&o.id&&l===null&&rt.log(`Event processor "${o.id}" dropped event`),o_(l)?l.then(c=>tC(e,c,r,n+1).then(a)).then(null,i):tC(e,l,r,n+1).then(a).then(null,i)}})}let Xv,aL,o1;function EBe(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:m}=l,g=ti(c);g&&Object.keys(g).length&&(o.extra={...g,...o.extra});const p=ti(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const v=ti(d);v&&Object.keys(v).length&&(o.user={...v,...o.user});const b=ti(f);b&&Object.keys(b).length&&(o.contexts={...b,...o.contexts}),h&&(o.level=h),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),n&&function(o,l){o.contexts={trace:vBe(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:bBe(l),...o.sdkProcessingMetadata};const c=aG(l),u=lA(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,n),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,r),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function iL(e,t){const{extra:r,tags:n,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:m,span:g}=t;Qv(e,"extra",r),Qv(e,"tags",n),Qv(e,"user",a),Qv(e,"contexts",i),e.sdkProcessingMetadata=l_(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Qv(e,t,r){e[t]=l_(e[t],r,1)}function PBe(e,t,r,n,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||ii(),timestamp:t.timestamp||qg()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,p){const{environment:v,release:b,dist:x,maxValueLength:w=250}=p;g.environment=g.environment||v||cA,!g.release&&b&&(g.release=b),!g.dist&&x&&(g.dist=x),g.message&&(g.message=qd(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=qd(_.value,w));const S=g.request;S&&S.url&&(S.url=qd(S.url,w))})(c,e),function(g,p){p.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...p])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,p){const v=function(b){const x=jt._sentryDebugIds;if(!x)return{};const w=Object.keys(x);return o1&&w.length===aL||(aL=w.length,o1=w.reduce((_,S)=>{Xv||(Xv={});const N=Xv[S];if(N)_[N[0]]=N[1];else{const k=b(S);for(let P=k.length-1;P>=0;P--){const O=k[P],A=O&&O.filename,$=x[S];if(A&&$){_[A]=$,Xv[S]=[A,$];break}}}return _},{})),o1}(p);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(x=>{v&&x.filename&&(x.debug_id=v[x.filename])})})}catch{}}(c,e.stackParser);const d=function(g,p){if(!p)return g;const v=g?g.clone():new $l;return v.update(p),v}(n,r.captureContext);r.mechanism&&Xf(c,r.mechanism);const f=a?a.getEventProcessors():[],h=Yb("globalScope",()=>new $l).getScopeData();i&&iL(h,i.getScopeData()),d&&iL(h,d.getScopeData());const m=[...r.attachments||[],...h.attachments];return m.length&&(r.attachments=m),EBe(c,h),tC([...f,...h.eventProcessors],c,r).then(g=>(g&&function(p){const v={};try{p.exception.values.forEach(x=>{x.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const b=p.debug_meta.images;Object.entries(v).forEach(([x,w])=>{b.push({type:"sourcemap",code_file:x,debug_id:w})})}(g),typeof o=="number"&&o>0?function(p,v,b){if(!p)return null;const x={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(w=>({...w,...w.data&&{data:Gs(w.data,v,b)}}))},...p.user&&{user:Gs(p.user,v,b)},...p.contexts&&{contexts:Gs(p.contexts,v,b)},...p.extra&&{extra:Gs(p.extra,v,b)}};return p.contexts&&p.contexts.trace&&x.contexts&&(x.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(x.contexts.trace.data=Gs(p.contexts.trace.data,v,b))),p.spans&&(x.spans=p.spans.map(w=>({...w,...w.data&&{data:Gs(w.data,v,b)}}))),p.contexts&&p.contexts.flags&&x.contexts&&(x.contexts.flags=Gs(p.contexts.flags,3,b)),x}(g,o,l):g))}function sL(e,t){return Iu().captureEvent(e,t)}function oL(e){const t=Nn(),r=Gg(),n=Iu(),{release:a,environment:i=cA}=t&&t.getOptions()||{},{userAgent:o}=jt.navigator||{},l=cBe({release:a,environment:i,user:n.getUser()||r.getUser(),...o&&{userAgent:o},...e}),c=r.getSession();return c&&c.status==="ok"&&Qf(c,{status:"exited"}),lG(),r.setSession(l),n.setSession(l),l}function lG(){const e=Gg(),t=Iu(),r=t.getSession()||e.getSession();r&&function(n,a){let i={};n.status==="ok"&&(i={status:"exited"}),Qf(n,i)}(r),cG(),e.setSession(),t.setSession()}function cG(){const e=Gg(),t=Iu(),r=Nn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function lL(e=!1){e?lG():cG()}function OBe(e,t,r){return t||`${function(n){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,a){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,r)}`}const cL=[];function uL(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function dL(e,t,r){if(r[t.name])Ut&&rt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,cL.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),cL.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>n(a,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((i,o)=>n(i,o,e),{id:t.name});e.addEventProcessor(a)}Ut&&rt.log(`Integration installed: ${t.name}`)}}class ji extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const fL="Not capturing exception because it's already been captured.";class ABe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=_Be(t.dsn):Ut&&rt.warn("No DSN provided, client will not send events."),this._dsn){const n=OBe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&Hg(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const a=ii();if(q4(t))return Ut&&rt.log(fL),a;const i={event_id:a,...r};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,n))),i.event_id}captureMessage(t,r,n,a){const i={event_id:ii(),...n},o=nA(t)?t:String(t),l=Kk(t)?this.eventFromMessage(o,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,r,n){const a=ii();if(r&&r.originalException&&q4(r.originalException))return Ut&&rt.log(fL),a;const i={event_id:a,...r},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||n)),i.event_id}captureSession(t){typeof t.release!="string"?Ut&&rt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Qf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(a=>n&&a))):xu(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];dL(this,t,this._integrations),r||uL(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=CBe(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=jBe(n,NBe(i));const a=this.sendEnvelope(n);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,a,i,o){const l=oG(i);return cg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:Qb(a)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const a=typeof n=="number"?n:1,i=`${t}:${r}`;Ut&&rt.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const a=n.indexOf(r);a>-1&&n.splice(a,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Ut&&rt.error("Error while sending envelope:",r),r)):(Ut&&rt.error("Transport disabled"),xu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const a={};return n.forEach(i=>{i&&dL(r,i,a)}),a}(this,t),uL(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",a=!1;const i=r.exception&&r.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&n)&&(Qf(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Xa(r=>{let n=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=1,t&&n>=t&&(clearInterval(a),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=Iu(),a=Gg()){const i=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),PBe(i,t,r,n,this,a).then(l=>{if(l===null)return l;l.contexts={trace:hBe(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||iG(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(a=>a.event_id,a=>{Ut&&(a instanceof ji&&a.logLevel==="log"?rt.log(a.message):rt.warn(a))})}_processEvent(t,r,n){const a=this.getOptions(),{sampleRate:i}=a,o=mL(t),l=hL(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const g=typeof m=="string"?parseFloat(m):m;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Ut&&rt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Xb(new ji(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f,t),new ji("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return m;const g=function(p,v,b,x){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:S}=v;if(hL(b)&&w)return w(b,x);if(mL(b)){if(b.spans&&S){const N=[];for(const k of b.spans){const P=S(k);P?N.push(P):(xBe(),p.recordDroppedEvent("before_send","span"))}b.spans=N}if(_){if(b.spans){const N=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return _(b,x)}}return b}(this,a,m,r);return function(p,v){const b=`${v} must return \`null\` or a valid event.`;if(o_(p))return p.then(x=>{if(!Jf(x)&&x!==null)throw new ji(b);return x},x=>{throw new ji(`${v} rejected with ${x}`)});if(!Jf(p)&&p!==null)throw new ji(b);return p}(g,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",f,t),o){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new ji(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!o&&g&&this._updateSessionFromEvent(g,m),o){const v=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const v="custom";m.transaction_info={...p,source:v}}return this.sendEvent(m,r),m}).then(null,m=>{throw m instanceof ji?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new ji(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,i]=r.split(":");return{reason:a,category:i,quantity:n}})}_flushOutcomes(){Ut&&rt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Ut&&rt.log("No outcomes to send"));if(!this._dsn)return void(Ut&&rt.log("No dsn provided, will not send outcomes"));Ut&&rt.log("Sending outcomes:",t);const r=(n=t,cg((a=this._options.tunnel&&Qb(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||qg(),discarded_events:n}]]));var n,a,i;this.sendEnvelope(r)}}function hL(e){return e.type===void 0}function mL(e){return e.type==="transaction"}function TBe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Xb(new ji("Not adding Promise because buffer limit was reached."));const a=n();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a},drain:function(n){return new Xa((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{n&&n>0&&a(!1)},n);t.forEach(c=>{xu(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function MBe(e,{statusCode:t,headers:r},n=Date.now()){const a={...e},i=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=n+h);else a.all=n+h}else o?a.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,n):t===429&&(a.all=n+6e4);return a}function $Be(e,t,r=TBe(e.bufferSize||64)){let n={};return{send:function(a){const i=[];if(rL(a,(c,u)=>{const d=nL(u);if(function(f,h,m=Date.now()){return function(g,p){return g[p]||g.all||0}(f,h)>m}(n,d)){const f=pL(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(c)}),i.length===0)return xu({});const o=cg(a[0],i),l=c=>{rL(o,(u,d)=>{const f=pL(u,d);e.recordDroppedEvent(c,nL(d),f)})};return r.add(()=>t({body:SBe(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Ut&&rt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=MBe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof ji)return Ut&&rt.error("Skipped sending event because buffer is full."),l("queue_overflow"),xu({});throw c})},flush:a=>r.drain(a)}}function pL(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const IBe=100;function lc(e,t){const r=Nn(),n=Gg();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=IBe}=r.getOptions();if(i<=0)return;const o={timestamp:qg(),...e},l=a?Hg(()=>a(o,t)):o;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let gL;const vL=new WeakMap,RBe=()=>({name:"FunctionToString",setupOnce(){gL=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=iA(this),r=vL.has(Nn())&&t!==void 0?t:this;return gL.apply(r,e)}}catch{}},setup(e){vL.set(e,!0)}}),DBe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],LBe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const a=n.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:DBe],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Ut&&rt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Yo(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>Jv(d,u))}(o,l.ignoreErrors)?(Ut&&rt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Yo(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(Ut&&rt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Yo(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Jv(d,u)}(o,l.ignoreTransactions)?(Ut&&rt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Yo(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Zv(c);return!!d&&Jv(d,u)}(o,l.denyUrls)?(Ut&&rt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Yo(o)}.
Url: ${Zv(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Zv(c);return!d||Jv(d,u)}(o,l.allowUrls)?!1:(Ut&&rt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Yo(o)}.
Url: ${Zv(o)}`),!0)}(t,i)?null:t}});function Zv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const a=r[n];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return Ut&&rt.error(`Cannot extract url for event ${Yo(e)}`),null}}function FBe(e,t,r=250,n,a,i,o){if(!(i.exception&&i.exception.values&&o&&vu(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=rC(e,t,a,o.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=qd(d.value,u)),d))))}function rC(e,t,r,n,a,i,o,l){if(i.length>=r+1)return i;let c=[...i];if(vu(n[a],Error)){yL(o,l);const u=e(t,n[a]),d=c.length;xL(u,a,d,l),c=rC(e,t,r,n[a],a,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(vu(u,Error)){yL(o,l);const f=e(t,u),h=c.length;xL(f,`errors[${d}]`,h,l),c=rC(e,t,r,u,a,[f,...c],f,h)}}),c}function yL(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function xL(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function l1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function BBe(){"console"in jt&&Gk.forEach(function(e){e in jt.console&&Aa(jt.console,e,function(t){return Jb[e]=t,function(...r){zi("console",{args:r,level:e});const n=Jb[e];n&&n.apply(jt.console,r)}})})}function UBe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const zBe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!wL(a,i)||!bL(a,i))}(r,n)||function(a,i){const o=_L(i),l=_L(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!wL(a,i)||!bL(a,i))}(r,n)):!1}(t,e))return Ut&&rt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function bL(e,t){let r=B4(e),n=B4(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let a=0;a<n.length;a++){const i=n[a],o=r[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function wL(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function _L(e){return e.exception&&e.exception.values&&e.exception.values[0]}function jL(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const c1=jt;function nC(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function VBe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in c1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(nC(c1.fetch))return!0;let e=!1;const t=c1.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=nC(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){$u&&rt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function WBe(e,t){const r="fetch";Yc(r,e),Jc(r,()=>function(n,a=!1){a&&!VBe()||Aa(jt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[m,g]=f;return{url:SL(m),method:aC(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:SL(h),method:aC(h,"method")?String(h.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*lo(),virtualError:l};return n||zi("fetch",{...d}),i.apply(jt,o).then(async f=>(n?n(f):zi("fetch",{...d,endTimestamp:1e3*lo(),response:f}),f),f=>{throw zi("fetch",{...d,endTimestamp:1e3*lo(),error:f}),rA(f)&&f.stack===void 0&&(f.stack=l.stack,yu(f,"framesToPop",1)),f})}})}(void 0,t))}function aC(e,t){return!!e&&typeof e=="object"&&!!e[t]}function SL(e){return typeof e=="string"?e:e?aC(e,"url")?e.url:e.toString?e.toString():"":""}const ey=jt,Zr=jt;let iC=0;function NL(){return iC>0}function eh(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(iA(e))return e}catch{return e}const r=function(...n){try{const a=n.map(i=>eh(i,t));return e.apply(this,a)}catch(a){throw iC++,setTimeout(()=>{iC--}),function(...i){const o=oA(i_());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(Jk(l,void 0),Xf(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),o=a,Iu().captureException(o,void 0)}),a}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}tG(r,e),yu(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const c_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function uA(e,t){const r=dA(e,t),n={type:GBe(t),value:KBe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function HBe(e,t,r,n){const a=Nn(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:sG(t,i)};if(o)return{exception:{values:[uA(e,o)]},extra:l};const c={exception:{values:[{type:s_(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:YBe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=dA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function u1(e,t){return{exception:{values:[uA(e,t)]}}}function dA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&qBe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,a)}catch{}return[]}const qBe=/Minified React error #\d+;/i;function uG(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function GBe(e){const t=e&&e.name;return!t&&uG(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function KBe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:uG(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function sC(e,t,r,n,a){let i;if(Q7(t)&&t.error)return u1(e,t.error);if(z4(t)||Ph(t,"DOMException")){const o=t;if("stack"in t)i=u1(e,t);else{const l=o.name||(z4(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=oC(e,c,r,n),Jk(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return rA(t)?u1(e,t):Jf(t)||s_(t)?(i=HBe(e,t,r,a),Xf(i,{synthetic:!0}),i):(i=oC(e,t,r,n),Jk(i,`${t}`),Xf(i,{synthetic:!0}),i)}function oC(e,t,r,n){const a={};if(n&&r){const i=dA(e,r);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Xf(a,{synthetic:!0})}if(nA(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function YBe(e,{isUnhandledRejection:t}){const r=function(a,i=40){const o=Object.keys(rG(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return qd(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:qd(u,i)}return""}(e),n=t?"promise rejection":"exception";return Q7(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:s_(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class JBe extends ABe{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,a,i=[a],o="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:Kc})),version:Kc}),n._metadata=l})(r,"browser",["browser"],Zr.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Zr.document&&Zr.document.addEventListener("visibilitychange",()=>{Zr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,a,i,o){const l=sC(n,a,i&&i.syntheticException||void 0,o);return Xf(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),xu(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(a,i,o="info",l,c){const u=oC(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),xu(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(c_&&rt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:a,tunnel:i,dsn:o}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:Qb(o)}};return cg(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const XBe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fn=jt;let kL,d1,f1,ty;function QBe(){if(!Fn.document)return;const e=zi.bind(null,"dom"),t=CL(e,!0);Fn.document.addEventListener("click",t,!1),Fn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Fn[r],a=n&&n.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Aa(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const f=CL(e);d.handler=f,i.call(this,o,f,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),Aa(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function CL(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(r.type,n))return;yu(r,"_sentryCaptured",!0),n&&!n._sentryId&&yu(n,"_sentryId",ii());const a=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==d1)return!1;try{if(!i.target||i.target._sentryId!==f1)return!1}catch{}return!0})(r)||(e({event:r,name:a,global:t}),d1=r.type,f1=n?n._sentryId:void 0),clearTimeout(kL),kL=Fn.setTimeout(()=>{f1=void 0,d1=void 0},1e3)}}function dG(e){const t="history";Yc(t,e),Jc(t,ZBe)}function ZBe(){if(!function(){const r=ey.chrome,n=r&&r.app&&r.app.runtime,a="history"in ey&&!!ey.history.pushState&&!!ey.history.replaceState;return!n&&a}())return;const e=Fn.onpopstate;function t(r){return function(...n){const a=n.length>2?n[2]:void 0;if(a){const i=ty,o=String(a);ty=o,zi("history",{from:i,to:o})}return r.apply(this,n)}}Fn.onpopstate=function(...r){const n=Fn.location.href,a=ty;if(ty=n,zi("history",{from:a,to:n}),e)try{return e.apply(this,r)}catch{}},Aa(Fn.history,"pushState",t),Aa(Fn.history,"replaceState",t)}const Ly={};function EL(e){Ly[e]=void 0}const gm="__sentry_xhr_v3__";function e6e(){if(!Fn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,i=1e3*lo(),o=ro(n[0])?n[0].toUpperCase():void 0,l=function(u){if(ro(u))return u;try{return u.toString()}catch{}}(n[1]);if(!o||!l)return t.apply(r,n);r[gm]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[gm];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}zi("xhr",{endTimestamp:1e3*lo(),startTimestamp:i,xhr:r,virtualError:a})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,m]=f,g=d[gm];return g&&ro(h)&&ro(m)&&(g.request_headers[h.toLowerCase()]=m),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[gm];return a?(n[0]!==void 0&&(a.body=n[0]),zi("xhr",{startTimestamp:1e3*lo(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function t6e(e,t=function(r){const n=Ly[r];if(n)return n;let a=Fn[r];if(nC(a))return Ly[r]=a.bind(Fn);const i=Fn.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[r]&&(a=l[r]),i.head.removeChild(o)}catch(o){XBe&&rt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,o)}return a&&(Ly[r]=a.bind(Fn))}("fetch")){let r=0,n=0;return $Be(e,function(a){const i=a.body.length;r+=i,n++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return EL("fetch"),Xb("No fetch implementation available");try{return t(e.url,o).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return EL("fetch"),r-=i,n--,Xb(l)}})}function h1(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?$c:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const r6e=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,n6e=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a6e=/\((\S*)(?::(\d+))(?::(\d+))\)/,i6e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,s6e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,o6e=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const i=[],o=r.split(`
`);for(let l=n;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=D4.test(c)?c.replace(D4,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Yv(c).function||"")&&c.pop(),c.reverse(),L4.test(Yv(c).function||"")&&(c.pop(),L4.test(Yv(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Yv(c).filename,function:u.function||$c}))}(i.slice(a))}}([30,e=>{const t=r6e.exec(e);if(t){const[,n,a,i]=t;return h1(n,$c,+a,+i)}const r=n6e.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=a6e.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,a]=PL(r[1]||$c,r[2]);return h1(a,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=i6e.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=s6e.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],n=t[1]||$c;return[n,r]=PL(n,r),h1(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),PL=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:$c,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},OL=1024,l6e=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(a){const i="console";Yc(i,a),Jc(i,BBe)}(function(a){return function(i){if(Nn()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:UBe(i.level),message:V4(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${V4(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}lc(o,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(a,i){return function(o){if(Nn()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>OL&&(c_&&rt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=OL),typeof u=="string"&&(u=[u]);try{const h=o.event,m=function(g){return!!g&&!!g.target}(h)?h.target:h;l=eG(m,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!aA.HTMLElement)return null;let p=g;for(let v=0;v<5;v++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${o.name}`,message:l};c&&(f.data={"ui.component_name":c}),lc(f,{event:o.event,name:o.name,global:o.global})}}(r,t.dom),Yc("dom",n),Jc("dom",QBe)),t.xhr&&function(a){Yc("xhr",a),Jc("xhr",e6e)}(function(a){return function(i){if(Nn()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[gm];if(!o||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,m={method:u,url:d,status_code:f},g={xhr:i.xhr,input:h,startTimestamp:o,endTimestamp:l};lc({category:"xhr",data:m,type:"http",level:jL(f)},g)}}(r)),t.fetch&&WBe(function(a){return function(i){if(Nn()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)lc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};lc({category:"fetch",data:u,type:"http",level:jL(u.status_code)},d)}}}(r)),t.history&&dG(function(a){return function(i){if(Nn()!==a)return;let o=i.from,l=i.to;const c=l1(Zr.location.href);let u=o?l1(o):void 0;const d=l1(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),lc({category:"navigation",data:{from:o,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(a){return function(i){Nn()===a&&lc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Yo(i)},{event:i})}}(r))}}},c6e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],u6e=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Aa(Zr,"setTimeout",AL),t.setInterval&&Aa(Zr,"setInterval",AL),t.requestAnimationFrame&&Aa(Zr,"requestAnimationFrame",d6e),t.XMLHttpRequest&&"XMLHttpRequest"in Zr&&Aa(XMLHttpRequest.prototype,"send",f6e);const r=t.eventTarget;r&&(Array.isArray(r)?r:c6e).forEach(h6e)}}};function AL(e){return function(...t){const r=t[0];return t[0]=eh(r,{mechanism:{data:{function:Ml(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function d6e(e){return function(t){return e.apply(this,[eh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ml(e)},handled:!1,type:"instrument"}})])}}function f6e(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Aa(r,n,function(a){const i={mechanism:{data:{function:n,handler:Ml(a)},handled:!1,type:"instrument"}},o=iA(a);return o&&(i.mechanism.data.handler=Ml(o)),eh(a,i)})}),e.apply(this,t)}}function h6e(e){const t=Zr[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Aa(r,"addEventListener",function(n){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=eh(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ml(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[a,eh(i,{mechanism:{data:{function:"addEventListener",handler:Ml(i),target:e},handled:!1,type:"instrument"}}),o])}}),Aa(r,"removeEventListener",function(n){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&n.call(this,a,l,o)}catch{}return n.call(this,a,i,o)}}))}const m6e=()=>({name:"BrowserSession",setupOnce(){Zr.document!==void 0?(oL({ignoreDuration:!0}),lL(),dG(({from:e,to:t})=>{e!==void 0&&e!==t&&(oL({ignoreDuration:!0}),lL())})):c_&&rt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),p6e=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(a){const i="error";Yc(i,a),Jc(i,iBe)})(a=>{const{stackParser:i,attachStacktrace:o}=ML();if(Nn()!==n||NL())return;const{msg:l,url:c,line:u,column:d,error:f}=a,h=function(m,g,p,v){const b=m.exception=m.exception||{},x=b.values=b.values||[],w=x[0]=x[0]||{},_=w.stacktrace=w.stacktrace||{},S=_.frames=_.frames||[],N=v,k=p,P=ro(g)&&g.length>0?g:function(){try{return aA.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:P,function:$c,in_app:!0,lineno:k}),m}(sC(i,f||l,void 0,o,!1),c,u,d);h.level="error",sL(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),TL("onerror")),t.onunhandledrejection&&(function(n){(function(a){const i="unhandledrejection";Yc(i,a),Jc(i,sBe)})(a=>{const{stackParser:i,attachStacktrace:o}=ML();if(Nn()!==n||NL())return;const l=function(u){if(Kk(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=Kk(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:sC(i,l,void 0,o,!0);c.level="error",sL(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),TL("onunhandledrejection"))}}};function TL(e){c_&&rt.log(`Global Handler attached: ${e}`)}function ML(){const e=Nn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const g6e=()=>({name:"HttpContext",preprocessEvent(e){if(!Zr.navigator&&!Zr.location&&!Zr.document)return;const t=e.request&&e.request.url||Zr.location&&Zr.location.href,{referrer:r}=Zr.document||{},{userAgent:n}=Zr.navigator||{},a={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),v6e=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,a,i){const o=i.getOptions();FBe(uA,o.stackParser,o.maxValueLength,r,t,n,a)}}};var $L="new",IL="loading",RL="loaded",lC="joining-meeting",jc="joined-meeting",cc="left-meeting",Lo="error",y6e="playable",m1="unknown",x6e="full",b6e="base",DL="no-room",w6e="end-of-life",_6e="connection-error",j6e="iframe-ready-for-launch-config",S6e="iframe-launch-config",N6e="theme-updated",k6e="loading",C6e="load-attempt-failed",LL="loaded",E6e="started-camera",P6e="camera-error",O6e="joining-meeting",A6e="joined-meeting",T6e="left-meeting",M6e="participant-joined",$6e="participant-updated",I6e="participant-left",R6e="participant-counts-updated",D6e="access-state-updated",L6e="meeting-session-summary-updated",F6e="meeting-session-state-updated",B6e="waiting-participant-added",U6e="waiting-participant-updated",z6e="waiting-participant-removed",V6e="track-started",W6e="track-stopped",H6e="transcription-started",q6e="transcription-stopped",G6e="transcription-error",FL="recording-started",BL="recording-stopped",K6e="recording-stats",Y6e="recording-error",J6e="recording-upload-completed",X6e="recording-data",Q6e="app-message",Z6e="transcription-message",eUe="remote-media-player-started",tUe="remote-media-player-updated",rUe="remote-media-player-stopped",nUe="local-screen-share-started",aUe="local-screen-share-stopped",iUe="local-screen-share-canceled",sUe="active-speaker-change",oUe="active-speaker-mode-change",lUe="network-quality-change",cUe="network-connection",uUe="cpu-load-change",dUe="face-counts-updated",ry="fullscreen",ny="exited-fullscreen",fUe="live-streaming-started",hUe="live-streaming-updated",mUe="live-streaming-stopped",pUe="live-streaming-error",gUe="lang-updated",vUe="receive-settings-updated",UL="input-settings-updated",zL="nonfatal-error",VL="error",p1=4096,WL=102400,g1="iframe-call-message",HL="local-screen-start",qL="daily-method-update-live-streaming-endpoints",ay="transmit-log",no="daily-custom-track",Fy={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},fG={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},cC={PLAY:"play",PAUSE:"pause"},v1=["jpg","png","jpeg"],yUe="add-endpoints",xUe="remove-endpoints",GL="sip-call-transfer";function ci(){return!pt()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function pt(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function hG(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function bUe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(bu(),Zb())||pt())}function KL(){if(pt()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var uC="none",wUe="software",_Ue="hardware",jUe=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?wUe:_Ue:uC}catch{return uC}}();function mG(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!pt()&&jUe!==uC&&(e?function(){return YL()?!1:["Chrome","Firefox"].includes(bu())}():function(){if(YL())return!1;var t=bu();if(t==="Safari"){var r=hA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?fA().major>=77:t==="Firefox"?mA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function pG(){if(pt()||gG()||typeof AudioWorkletNode>"u")return!1;switch(bu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Zb();return e.major>17||e.major===17&&e.minor>=4}return!1}function y1(){return hG()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=bu();if(!ci())return!0;switch(t){case"Chrome":return(e=fA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=mA()).major<91;case"Safari":return(e=hA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function gG(){return ci().match(/Linux; Android/)}function YL(){var e,t=ci(),r=t.match(/Mac/)&&(!pt()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!ci().match(/DailyAnd\//)||void 0}function bu(){if(typeof window<"u"){var e=ci();return vG()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||yG()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Zb(){switch(bu()){case"Chrome":return fA();case"Safari":return hA();case"Firefox":return mA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=ci().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function fA(){var e=0,t=0,r=0,n=0,a=!1;if(typeof window<"u"){var i=ci(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),r=parseInt(o[3]),n=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:a}}function vG(){return!!ci().match(/iPad|iPhone|iPod/i)&&hG()}function yG(){return ci().indexOf("AppleWebKit/605.1.15")>-1}function hA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=ci().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(vG()||yG())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function mA(){var e=0,t=0;if(typeof window<"u"){var r=ci().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var xG=function(){return za(function e(){Ua(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){im()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){im()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){im()}},{key:"sendMessageToDailyJs",value:function(e,t){im()}},{key:"removeListener",value:function(e){im()}}])}();function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!e})()}var SUe=function(){function e(){var t,r,n,a;return Ua(this,e),r=this,n=Qi(n=e),(t=r_(r,bG()?Reflect.construct(n,[],Qi(r).constructor):n.apply(r,a)))._wrappedListeners={},t._messageCallbacks={},t}return n_(e,xG),za(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===r)&&(!o.data.from||o.data.from!=="module")){var l=x1({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(n,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var a=function(i){var o;if(!(!i.data||i.data.what!==g1||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,r,n,a){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=x1({},t);if(i.what=g1,i.from="module",i.callClientId=n,r){var o=a_();this._messageCallbacks[o]=r,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=g1,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var a=x1({},t);a.callClientId=n;var i=r?r.contentWindow:window,o=this._callMachineTargetOrigin(r);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}var NUe=function(){function e(){var t,r,n,a;return Ua(this,e),r=this,n=Qi(n=e),t=r_(r,wG()?Reflect.construct(n,[],Qi(r).constructor):n.apply(r,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new qk.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new qk.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return n_(e,xG),za(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,a,i){var o=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?XL(Object(d),!0).forEach(function(f){us(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):XL(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(o.callClientId=n,a){var l=a_();this._messageCallbacks[l]=a,o.callbackStamp=l}r.emit("message",o)}}])}(),dC="replace",fC="shallow-merge",QL=[dC,fC],kUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,a=n===void 0?dC:n;Ua(this,e),e._validateMergeStrategy(a),e._validateData(r,a),this.mergeStrategy=a,this.data=r}return za(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===fC}},{key:"_validateMergeStrategy",value:function(t){if(!QL.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(QL,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||gt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===dC){var a=JSON.parse(n);In(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(r===fC){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));In(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>WL)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(WL,"."))}}])}();function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function hC(e){var t=typeof Map=="function"?new Map:void 0;return hC=function(r){if(r===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(a,i,o){if(_G())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&lg(c,o.prototype),c}(r,arguments,Qi(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lg(n,r)},hC(e)}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function ZL(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var CUe=function(){return za(function e(t){Ua(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new EUe(r,function(){n(!1)},function(i,o){o||ZL(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),ZL(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),EUe=function(){return za(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Ua(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new eF(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new eF(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),b1=function(){function e(){return Ua(this,e),t=this,n=arguments,r=Qi(r=e),r_(t,jG()?Reflect.construct(r,n||[],Qi(t).constructor):r.apply(t,n));var t,r,n}return n_(e,hC(Error)),za(e)}(),e0=2e4,eF=function(){return za(function t(r,n,a){Ua(this,t),this._loadAttemptImpl=pt()||!r.avoidEval?new PUe(r,n,a):new OUe(r,n,a)},[{key:"start",value:(e=Ye(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),PUe=function(){return za(function a(i,o,l){Ua(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(n=Ye(function*(){var a=Gb(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Ye(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Ye(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(e0," ms) when loading call object bundle ").concat(a),type:"timeout"})},e0);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new b1;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new b1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof b1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Ye(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),OUe=function(){return za(function e(t,r,n){Ua(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=a_(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Gb(this._dailyConfig);(typeof document>"u"?"undefined":gt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(e0," ms) when loading call object bundle ").concat(e),type:"timeout"})},e0);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),iy=function(e,t,r){return TUe(e.local,t,r)===!0},AUe=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},Pd=function(e,t,r,n){var a=MUe(e,t,r,n);return a&&a.pendingTrack},TUe=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?n(a[t].custom):n(a[t].custom[r]):n(a[t][r]):!a||n(a.ALL)},MUe=function(e,t,r,n){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},$Ue=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function tF(e,t){for(var r=t.getState(),n=0,a=["cam","screen"];n<a.length;n++)for(var i=a[n],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?AUe(r,i,c):Pd(r,e.session_id,i,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function rF(e,t){try{var r=t.getState();for(var n in e.tracks)if(!IUe(n)){var a=e.tracks[n].kind;if(a){var i=e.tracks[n];if(i){var o=e.local?$Ue(r,n):Pd(r,e.session_id,n,a);i.state==="playable"&&(e.tracks[n].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function IUe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function nF(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&iy(n,e.session_id,"cam-audio")){var o=Pd(n,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&iy(n,e.session_id,"cam-video")){var l=Pd(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&iy(n,e.session_id,"screen-audio")){var c=Pd(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&iy(n,e.session_id,"screen-video")){var u=Pd(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function RUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return aF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?aF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var is=new Map,Gd=null;function DUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return iF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?iF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function iF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ss=new Map,Bm=null;function LUe(e){SG()?function(t){is.has(t)||(is.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){is.has(t)&&(is.get(t).lastDevicesString=JSON.stringify(r),Gd||(Gd=function(){var n=Ye(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=RUe(is.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==is.get(l).lastDevicesString&&(is.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Gd)))}).catch(function(){}))}(e):function(t){ss.has(t)||(ss.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ss.has(t)&&(ss.get(t).lastDevicesString=JSON.stringify(r),Bm||(Bm=setInterval(Ye(function*(){var n,a=yield navigator.mediaDevices.enumerateDevices(),i=DUe(ss.keys());try{for(i.s();!(n=i.n()).done;){var o=n.value,l=JSON.stringify(a);l!==ss.get(o).lastDevicesString&&(ss.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function FUe(e){SG()?function(t){is.has(t)&&(is.delete(t),is.size===0&&Gd&&(navigator.mediaDevices.removeEventListener("devicechange",Gd),Gd=null))}(e):function(t){ss.has(t)&&(ss.delete(t),ss.size===0&&Bm&&(clearInterval(Bm),Bm=null))}(e)}function SG(){var e;return pt()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var BUe=new Set;function UUe(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!BUe.has(r.id)}(e)}function sF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sF(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var vm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),zUe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Um=Object.values(vm),oF=["v","a","sv","sa","cv","ca"];Object.freeze(Um.reduce(function(e,t,r){return e[t]=oF[r],e},{})),Object.freeze(oF.reduce(function(e,t,r){return e[t]=Um[r],e},{}));var VUe=[vm.VIDEO,vm.AUDIO,vm.SCREEN_VIDEO,vm.SCREEN_AUDIO],lF=Object.values(zUe),cF=["p","s","t"];Object.freeze(lF.reduce(function(e,t,r){return e[t]=cF[r],e},{})),Object.freeze(cF.reduce(function(e,t,r){return e[t]=lF[r],e},{}));var NG=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,a=t.byParticipantId;Ua(this,e),this.base=r,this.byUserId=n,this.byParticipantId=a}return za(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof ln?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof ln?n.clone():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof ln?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof ln&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof ln?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof ln?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof ln&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof ln?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof ln?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,a;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:ln.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var o=t.byUserId[i];n[i]=typeof o=="boolean"?o:ln.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:ln.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,a;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:ln.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var o=t.u[i];n[i]=typeof o=="boolean"?o:ln.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:ln.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(gt(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var o=En(ln.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(gt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var f=d[u],h=En(ln.validateJSONObject(f),2),m=h[0],g=h[1];if(!m)return[!1,g]}}}return[!0]}}])}(),ln=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;Ua(this,e),this.video=r,this.audio=n,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return za(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Fo({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Fo({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Fo({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Fo({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Fo({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(gt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!Um.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(VUe.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(gt(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(r&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return r&&n.length!==Um.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Um.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),WUe=["result"],HUe=["preserveIframe"];function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kG=function(){return!!e})()}function dF(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return fF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?fF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function fF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var uc={},hF="video",qUe="voice",mF=pt()?{data:{}}:{data:{},topology:"none"},pF={present:0,hidden:0},CG={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},w1=Object.keys(CG),gF=["state","volume","simulcastEncodings"],vF={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},t0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},mC={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},dc={customIntegrations:{validate:IG,help:MG()},customTrayButtons:{validate:$G,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(t0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return RG(e,vF)},help:"reactNativeConfig should look like ".concat(JSON.stringify(vF),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return EG(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:no};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:no};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var a=0,i=Object.keys(n);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(n[o],'"')),!1}return!0};return gt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return PG(e,{allowAllParticipantsKey:!1})},help:TG({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!OG(e)&&(t._inputSettings||(t._inputSettings={}),AG(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:pC()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},sy={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!pt()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(pt()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=dF(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=En(NG.validateJSONObject(i),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,g=["participants","streaming","transcription"],p=dF(i);try{for(p.s();!(m=p.n()).done;){var v=m.value;if(!g.includes(v))return!1}}catch(b){p.e(b)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Ye(function*(t){return new Promise(function(r,n){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){r(o)}).catch(function(o){a.push(o),a.length===t.length&&n(a)})})})});return function(t){return e.apply(this,arguments)}}());var yF=function(){function e(j){var C,E,B,D,G,q,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ua(this,e),B=this,D=Qi(D=e),us(E=r_(B,kG()?Reflect.construct(D,[],Qi(B).constructor):D.apply(B,G)),"startListeningForDeviceChanges",function(){LUe(E.handleDeviceChange)}),us(E,"stopListeningForDeviceChanges",function(){FUe(E.handleDeviceChange)}),us(E,"handleDeviceChange",function(Y){Y=Y.map(function(we){return JSON.parse(JSON.stringify(we))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),us(E,"handleNativeAppStateChange",function(){var Y=Ye(function*(we){if(we==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var ke=we==="active";E.disableReactNativeAutoDeviceManagement("video")||(ke?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(we){return Y.apply(this,arguments)}}()),us(E,"handleNativeAudioFocusChange",function(Y){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=Y,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),us(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!y1()&&!pt())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=X.strictMode===void 0||X.strictMode,E.allowMultipleCallInstances=(C=X.allowMultipleCallInstances)!==null&&C!==void 0&&C,Object.keys(uc).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=a_(),uc[(q=E).callClientId]=q,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,X.dailyJsVersion=e.version(),E._iframe=j,E._callObjectMode=X.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},X.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!X.showLocalVideo:E._showLocalVideo=!0,X.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!X.showParticipantsBar:E._showParticipantsBar=!0,X.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=X.customIntegrations:E._customIntegrations={},X.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=X.customTrayButtons:E._customTrayButtons={},X.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!X.activeSpeakerMode:E._activeSpeakerMode=!1,X.receiveSettings?E._callObjectMode?E._receiveSettings=X.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(X),E.properties=Le({},X),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new CUe(E.callClientId):null,E._callState=$L,E._isPreparingToJoin=!1,E._accessState={access:m1},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=S1(mF,E._callObjectMode),E._nativeInCallAudioMode=hF,E._participants={},E._isScreenSharing=!1,E._participantCounts=pF,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=p1,E._messageChannel=pt()?new NUe:new SUe,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:ry}),E.sendMessageToCallMachine({action:ry})):(E.emitDailyJSEvent({action:ny}),E.sendMessageToCallMachine({action:ny}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:ry}),E.sendMessageToCallMachine({action:ry})):(E.emitDailyJSEvent({action:ny}),E.sendMessageToCallMachine({action:ny}))})),pt()){var te=E.nativeUtils();te.addAudioFocusChangeListener&&te.removeAudioFocusChangeListener&&te.addAppStateChangeListener&&te.removeAppStateChangeListener&&te.addSystemScreenCaptureStopListener&&te.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,te.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),te.addAppStateChangeListener(E.handleNativeAppStateChange),te.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return n_(e,Kv),za(e,[{key:"destroy",value:(Z=Ye(function*(){var j;try{yield this.leave()}catch{}var C=this._iframe;if(C){var E=C.parentElement;E&&E.removeChild(C)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),pt()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete uc[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Z.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var C=j.bodyClass,E=j.cssFile,B=j.cssText;return mt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:C,cssText:B}),this}},{key:"iframe",value:function(){return mt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return bi(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return bi(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,C){for(var E in C){if(!sy[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(sy[E].validate&&!sy[E].validate(C[E],this,this._participants[j]))throw new Error(sy[E].help)}}},{key:"updateParticipant",value:function(j,C){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&C&&(this.validateParticipantProperties(j,C),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:C})),this}},{key:"updateParticipants",value:function(j){var C=this._participants.local&&this._participants.local.session_id;for(var E in j)E===C&&(E="local"),E&&j[E]&&this.validateParticipantProperties(E,j[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(re=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bi(this._callObjectMode,"updateWaitingParticipant()"),Rt(this._callState,"updateWaitingParticipant()"),typeof C!="string"||gt(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,D){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:C,updates:E},function(G){G.error&&D(G.error),G.id||D(new Error("unknown error in updateWaitingParticipant()")),B({id:G.id})})})}),function(){return re.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"updateWaitingParticipants()"),Rt(this._callState,"updateWaitingParticipants()"),gt(C)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:C},function(D){D.error&&B(D.error),D.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:D.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(F=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=C.access,B=E===void 0?{level:x6e}:E,D=C.name,G=D===void 0?"":D;return bi(this._callObjectMode,"requestAccess()"),Rt(this._callState,"requestAccess()"),new Promise(function(q,X){j.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:G},function(te){te.error&&X(te.error),te.access||X(new Error("unknown error in requestAccess()")),q({access:te.access,granted:te.granted})})})}),function(){return F.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in C&&(pt()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),C={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),C={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:C}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(R=Ye(function*(j){var C=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(bi(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(gt(j)){case"string":return new Promise(function(D){C.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:B},function(G){D(G.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(z=Ye(function*(j){var C=this;if(bi(this._callObjectMode,"updateReceiveSettings()"),!PG(j,{allowAllParticipantsKey:!0}))throw new Error(TG({allowAllParticipantsKey:!0}));return Rt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){C.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(B){E({receiveSettings:B.receiveSettings})})})}),function(j){return z.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,C){if(j){var E={};if(j.audio){var B,D,G;j.audio.settings&&(!Object.keys(j.audio.settings).length&&C||(E.audio={settings:Le({},j.audio.settings)})),C&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var q=((D=j.audio.processor)===null||D===void 0?void 0:D.type)==="none"&&((G=j.audio.processor)===null||G===void 0?void 0:G._isDefaultWhenNone);if(j.audio.processor&&!q){var X=Le({},j.audio.processor);delete X._isDefaultWhenNone,E.audio=Le(Le({},E.audio),{},{processor:X})}}if(j.video){var te,Y,we;j.video.settings&&(!Object.keys(j.video.settings).length&&C||(E.video={settings:Le({},j.video.settings)})),C&&(te=E.video)!==null&&te!==void 0&&(te=te.settings)!==null&&te!==void 0&&te.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var ke=((Y=j.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((we=j.video.processor)===null||we===void 0?void 0:we._isDefaultWhenNone);if(j.video.processor&&!ke){var Xe=Le({},j.video.processor);delete Xe._isDefaultWhenNone,E.video=Le(Le({},E.video),{},{processor:Xe})}}return E}}},{key:"getInputSettings",value:function(){var j=this;return mt(),new Promise(function(C){C(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,C,E,B,D,G,q={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||q,C=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||q):(j=((D=this._preloadCache)===null||D===void 0||(D=D.inputSettings)===null||D===void 0?void 0:D.video)||q,C=((G=this._preloadCache)===null||G===void 0||(G=G.inputSettings)===null||G===void 0?void 0:G.audio)||q);var X={audio:C,video:j};return this._prepInputSettingsForSharing(X,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,C){var E=this._inputSettings||{},B={};if(j.video){var D,G,q;B.video={},j.video.settings?(B.video.settings={},C||j.video.settings.customTrack||(q=E.video)===null||q===void 0||!q.settings?B.video.settings=j.video.settings:B.video.settings=Le(Le({},E.video.settings),j.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(D=E.video)!==null&&D!==void 0&&D.settings&&(B.video.settings=E.video.settings),j.video.processor?B.video.processor=j.video.processor:(G=E.video)!==null&&G!==void 0&&G.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(j.audio){var X,te,Y;B.audio={},j.audio.settings?(B.audio.settings={},C||j.audio.settings.customTrack||(Y=E.audio)===null||Y===void 0||!Y.settings?B.audio.settings=j.audio.settings:B.audio.settings=Le(Le({},E.audio.settings),j.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(X=E.audio)!==null&&X!==void 0&&X.settings&&(B.audio.settings=E.audio.settings),j.audio.processor?B.audio.processor=j.audio.processor:(te=E.audio)!==null&&te!==void 0&&te.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(j){var C,E,B=(j==null||(C=j.video)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,D=(j==null||(E=j.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,G=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:D?{deviceId:D}:{},speaker:G?{deviceId:G}:{}}}},{key:"updateInputSettings",value:(L=Ye(function*(j){var C=this;return mt(),OG(j)?j.video||j.audio?(AG(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(D){if(D.error)B(D.error);else{if(D.returnPreloadCache)return C._updatePreloadCacheInputSettings(j,!0),void E(C._getInputSettings());C._maybeUpdateInputSettings(D.inputSettings),E(C._prepInputSettingsForSharing(D.inputSettings,!0))}})})):this._getInputSettings():(console.error(pC()),Promise.reject(pC()))}),function(j){return L.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var C=j.kbs,E=j.trackConstraints;if(mt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:C,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var j=this;if(mt(),this._callMachineInitialized)return new Promise(function(C){j.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}},{key:"setDailyLang",value:function(j){return mt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[cc,Lo].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(V=Ye(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Rt(this._callState,"getMeetingSession()"),new Promise(function(C){j.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,C(E)})})}),function(){return V.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Rt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";bi(this._callObjectMode,"setMeetingSessionData()"),Rt(this._callState,"setMeetingSessionData");try{(function(E,B){new kUe({data:E,mergeStrategy:B})})(j,C)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:C})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(j,C){var E=this;return this.properties.userName=j,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:pt()||!!C&&!!C.thisMeetingOnly},function(D){delete D.action,delete D.callbackStamp,B(D)})})}},{key:"setUserData",value:(I=Ye(function*(j){var C=this;try{EG(j)}catch(E){throw console.error(E),E}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(E){try{C.sendMessageToCallMachine({action:"set-user-data",userData:j},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(j){return I.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var C=this;if(typeof AudioWorkletNode>"u"&&!pt())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(D){C._isLocalAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var C=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){C.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(D){C._isRemoteParticipantsAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(U=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"startCamera()"),_1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(C)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(C),this.properties=Le(Le({},this.properties),C)}return new Promise(function(E){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:ed(j.properties,j.callClientId),preloadCache:ed(j._preloadCache,j.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return U.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,C,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(C&&C!=="music"&&C!=="speech"&&!(C instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return mt(),Rt(this._callState,"startCustomTrack()"),this.validateCustomTrack(C.track,C.mode,C.trackName),new Promise(function(E,B){j._sharedTracks.customTrack=C.track,C.track=no,j.sendMessageToCallMachine({action:"start-custom-track",properties:C},function(D){D.error?B({error:D.error}):E(D.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var C=this;return mt(),Rt(this._callState,"stopCustomTrack()"),new Promise(function(E){C.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(j){var C=this;return sm(),oy(this._callMachineInitialized,"setCamera()"),new Promise(function(E){C.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(T=Ye(function*(j){return sm(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return T.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){j.sendMessageToCallMachine({action:"cycle-camera",properties:C},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var j=this;return mt(),new Promise(function(C){j.sendMessageToCallMachine({action:"cycle-mic"},function(E){C({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return sm(),new Promise(function(C){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){C(E.facingMode)})})}},{key:"setInputDevicesAsync",value:($=Ye(function*(j){var C=this,E=j.audioDeviceId,B=j.videoDeviceId,D=j.audioSource,G=j.videoSource;if(mt(),D!==void 0&&(E=D),G!==void 0&&(B=G),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var q={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=no,q.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,q.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=no,q.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,q.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(q,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(X){C.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(te){if(delete te.action,delete te.callbackStamp,te.returnPreloadCache)return C._updatePreloadCacheInputSettings(q,!1),void X(C._devicesFromInputSettings(C._inputSettings));X(te)})})}),function(j){return $.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(A=Ye(function*(j){var C=this,E=j.outputDeviceId;if(mt(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,D){C.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(G){if(delete G.action,delete G.callbackStamp,G.error){var q=new Error(G.error.message);return q.type=G.error.type,void D(q)}G.returnPreloadCache?B(C._devicesFromInputSettings(C._inputSettings)):B(G)})})}),function(j){return A.apply(this,arguments)})},{key:"getInputDevices",value:(O=Ye(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(C){j.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?C(j._devicesFromInputSettings(j._inputSettings)):C({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return O.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return sm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(sm(),[hF,qUe].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&By(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(P=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"preAuth()"),_1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(C)),!C.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(C),this.properties=Le(Le({},this.properties),C),new Promise(function(E,B){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:ed(j.properties,j.callClientId),preloadCache:ed(j._preloadCache,j.callClientId)},function(D){return D.error?B(D.error):D.access?(j._didPreAuth=!0,void E({access:D.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return P.apply(this,arguments)})},{key:"load",value:(k=Ye(function*(j){var C=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=Le(Le({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(IL),this.emitDailyJSEvent({action:k6e}),this._callObjectMode?new Promise(function(E,B){C._callObjectLoader.cancel();var D=Date.now();C._callObjectLoader.load(C.properties.dailyConfig,function(G){C._bundleLoadTime=G?"no-op":Date.now()-D,C._updateCallState(RL),G&&C.emitDailyJSEvent({action:LL}),E()},function(G,q){if(C.emitDailyJSEvent({action:C6e}),!q){C._updateCallState(Lo),C.resetMeetingDependentVars();var X={action:VL,errorMsg:G.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:G,bundleUrl:Gb(C.properties.dailyConfig)}}};C._maybeSendToSentry(X),C.emitDailyJSEvent(X),B(G.msg)}})}):(this._iframe.src=J7(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){C._loadedCallback=function(D){C._callState!==Lo?(C._updateCallState(RL),(C.properties.cssFile||C.properties.cssText)&&C.loadCss(C.properties),E()):B(D)}}))}}),function(j){return k.apply(this,arguments)})},{key:"join",value:(N=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(C)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(C.token&&C.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(C.url&&!this._callObjectMode&&C.url&&C.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(C.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(C),this.properties=Le(Le({},this.properties),C)}return C.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!C.showLocalVideo),C.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!C.showParticipantsBar),this._callState===jc||this._callState===lC?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(lC,!1),this.emitDailyJSEvent({action:O6e}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:ed(this.properties,this.callClientId),preloadCache:ed(this._preloadCache,this.callClientId)}),new Promise(function(B,D){j._joinedCallback=function(G,q){if(j._callState!==Lo){if(j._updateCallState(jc),G)for(var X in G){if(j._callObjectMode){var te=j._callMachine().store;tF(G[X],te),rF(G[X],te),nF(G[X],j._participants[X],te)}j._participants[X]=Le({},G[X]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&j.loadCss(j.properties),B(G)}else D(q)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=Ye(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(C){j._callState===cc||j._callState===Lo?C():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(cc),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:cc}),C()):(j._resolveLeave=C,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=Ye(function*(){var j=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(oy(this._callMachineInitialized,"startScreenShare()"),C.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",C.screenVideoSendSettings),C.mediaStream&&(this._sharedTracks.screenMediaStream=C.mediaStream,C.mediaStream=no),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:zL,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:HL,captureOptions:C})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:HL,captureOptions:C})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){oy(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=j.type;if(C&&C!=="cloud"&&C!=="raw-tracks"&&C!=="local")throw new Error("invalid type: ".concat(C,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(Le({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var C=j.layout,E=C===void 0?{preset:"default"}:C,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Le({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Le({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var C=j.layout,E=C===void 0?{preset:"default"}:C,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(j){var C=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:qL,endpointsOp:yUe,endpoints:C,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(j){var C=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:qL,endpointsOp:xUe,endpoints:C,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(Le({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),gG()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!jF(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<j.length;B++){var D=j[B];for(var G in this._validateEncodingLayerHasValidProperties(D),D)if(w1.includes(G)){if(typeof D[G]!="number")throw new Error("".concat(G," must be a number"));if(C){var q=C[G],X=q.min,te=q.max;if(!jF(D[G],X,te))throw new Error("".concat(G," value not in range. valid range: ").concat(X," to ").concat(te))}}else if(!["active","scalabilityMode"].includes(G))throw new Error("Invalid key ".concat(G,", valid keys are:")+Object.values(w1));if(E&&!D.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=Ye(function*(j){var C=this,E=j.url,B=j.settings,D=B===void 0?{state:cC.PLAY}:B;try{(function(G){if(typeof G!="string")throw new Error('url parameter must be "string" type')})(E),_F(D),function(G){for(var q in G)if(!gF.includes(q))throw new Error("Invalid key ".concat(q,", valid keys are: ").concat(gF));G.simulcastEncodings&&this.validateSimulcastEncodings(G.simulcastEncodings,CG,!0)}(D)}catch(G){throw console.error("invalid argument Error: ".concat(G)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),G}return new Promise(function(G,q){C.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:D},function(X){X.error?q({error:X.error,errorMsg:X.errorMsg}):G({session_id:X.session_id,remoteMediaPlayerState:{state:X.state,settings:X.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=Ye(function*(j){var C=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){C.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(D){D.error?B({error:D.error,errorMsg:D.errorMsg}):E()})})}),function(j){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=Ye(function*(j){var C=this,E=j.session_id,B=j.settings;try{_F(B)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),D}return new Promise(function(D,G){C.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(q){q.error?G({error:q.error,errorMsg:q.errorMsg}):D({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(j){return b.apply(this,arguments)})},{key:"startTranscription",value:function(j){Rt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(Le({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(Rt(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(gt(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(Le({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(Rt(this._callState,"stopTranscription()"),j&&gt(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(Le({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=Ye(function*(j){var C=this;Rt(this._callState,"startDialOut()");var E=function(q){if(q){if(!Array.isArray(q))throw new Error("Error starting dial out: audio codec must be an array");if(q.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");q.forEach(function(X){if(typeof X!="string")throw new Error("Error starting dial out: audio codec must be a string");if(X!=="OPUS"&&X!=="PCMU"&&X!=="PCMA"&&X!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(q){if(q&&(E(q.audio),q.video)){if(!Array.isArray(q.video))throw new Error("Error starting dial out: video codec must be an array");if(q.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");q.video.forEach(function(X){if(typeof X!="string")throw new Error("Error starting dial out: video codec must be a string");if(X!=="H264"&&X!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&E(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(xF(j),j.permissions&&j.permissions.canReceive){var B=En(NG.validateJSONObject(j.permissions.canReceive),2),D=B[0],G=B[1];if(!D)throw new Error(G)}if(j.provider){if(j.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(j.provider));if(j.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(q,X){C.sendMessageToCallMachine(Le({action:"dialout-start"},j),function(te){te.error?X(te.error):q(te)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var C=this;return Rt(this._callState,"stopDialOut()"),new Promise(function(E,B){C.sendMessageToCallMachine(Le({action:"dialout-stop"},j),function(D){D.error?B(D.error):E(D)})})}},{key:"sipCallTransfer",value:(p=Ye(function*(j){var C=this;if(Rt(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,wF(j,"sipCallTransfer"),xF(j),new Promise(function(E,B){C.sendMessageToCallMachine(Le({action:GL},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return p.apply(this,arguments)})},{key:"sipRefer",value:(g=Ye(function*(j){var C=this;if(Rt(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,wF(j,"sipRefer"),new Promise(function(E,B){C.sendMessageToCallMachine(Le({action:GL},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return g.apply(this,arguments)})},{key:"sendDTMF",value:(m=Ye(function*(j){var C=this;return Rt(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,D=E.tones;if(!B||!D)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof D!="string")throw new Error("sessionId and tones should be of string type");if(D.length>20)throw new Error("tones string must be upto 20 characters");var G=/[^0-9A-D*#]/g,q=D.match(G);if(q&&q[0])throw new Error("".concat(q[0]," is not valid DTMF tone"))}(j),new Promise(function(E,B){C.sendMessageToCallMachine(Le({action:"send-dtmf"},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==jc?Promise.resolve(Le({stats:{latest:{}}},this._network)):new Promise(function(C){j.sendMessageToCallMachine({action:"get-calc-stats"},function(E){C(Le(Le({},j._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=Ye(function*(){var j=this;if(j1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}return new Promise(function(C,E){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):C(B.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!UUe(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=Ye(function*(){var j=this;mt(),bi(this._callObjectMode,"testCallQuality()"),oy(this._callMachineInitialized,"testCallQuality()",null,!0),_1(this._callState,this._isPreparingToJoin,"testCallQuality()");var C=this._testCallAlreadyInProgress,E=function(D){C||(j._testCallInProgress=D)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(D){return E(!1),Promise.reject(D)}return new Promise(function(D){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(G){var q=G.results,X=q.result,te=P4(q,WUe);if(X==="failed"){var Y,we=Le({},te);(Y=te.error)!==null&&Y!==void 0&&Y.details?(te.error.details=JSON.parse(te.error.details),we.error=Le(Le({},we.error),{},{details:Le({},we.error.details)}),we.error.details.duringTest="testCallQuality"):(we.error=we.error?Le({},we.error):{},we.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(we)}E(!1),D(Le({result:X},te))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Ye(function*(j){var C;pt()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),C=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),C=yield this.testCallQuality());var E={result:C.result,secondsElapsed:C.secondsElapsed};return C.data&&(E.data={maxRTT:C.data.maxRoundTripTime,packetLoss:C.data.avgRecvPacketLoss}),E}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Ye(function*(j){var C=this;if(j1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(D){return Promise.reject(D)}var E=j.videoTrack,B=j.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(D,G){C.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(q){q.error?G(q.error):D(q.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){pt()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Ye(function*(j){var C=this;if(j1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(E,B){C.sendMessageToCallMachine({action:"test-network-connectivity"},function(D){D.error?B(D.error):E(D.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(C){j._callState===jc?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){C(E.cpuStats)}):C({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var C;if(!(((C=Object.keys(j))===null||C===void 0?void 0:C.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(w1))}},{key:"_validateVideoSendSettings",value:function(j,C){var E=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof C=="string"){if(!E.includes(C))throw new Error(B)}else{if(gt(C)!=="object")throw new Error(B);if(!C.maxQuality&&!C.encodings&&C.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(C.maxQuality&&["low","medium","high"].indexOf(C.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(C.encodings){var D=!1;switch(Object.keys(C.encodings).length){case 1:D=!C.encodings.low;break;case 2:D=!C.encodings.low||!C.encodings.medium;break;case 3:D=!C.encodings.low||!C.encodings.medium||!C.encodings.high;break;default:D=!0}if(D)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");C.encodings.low&&this._validateEncodingLayerHasValidProperties(C.encodings.low),C.encodings.medium&&this._validateEncodingLayerHasValidProperties(C.encodings.medium),C.encodings.high&&this._validateEncodingLayerHasValidProperties(C.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var C=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(E){var B=En(E,2),D=B[0],G=B[1];C._validateVideoSendSettings(D,G)})}},{key:"updateSendSettings",value:function(j){var C=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){C.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(D){D.error?B(D.error):E(D.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return mt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return mt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return mt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return Rt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(l=Ye(function*(){var j=this;if(this._callObjectMode){var C=yield navigator.mediaDevices.enumerateDevices();return bu()==="Firefox"&&Zb().major>115&&Zb().major<123&&(C=C.filter(function(E){return E.kind!=="audiooutput"})),{devices:C.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!pt()&&E.kind==="videoinput"&&E.getCapabilities){var D,G=E.getCapabilities();B.facing=(G==null||(D=G.facingMode)===null||D===void 0?void 0:D.length)>=1?G.facingMode[0]:void 0}return B})}}return new Promise(function(E){j.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Rt(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:C}),this}},{key:"addFakeParticipant",value:function(j){return mt(),Rt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(Le({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return ma(this._callObjectMode,"setShowNamesMode()"),mt(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ma(this._callObjectMode,"setShowLocalVideo()"),mt(),Rt(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return ma(this._callObjectMode,"showLocalVideo()"),mt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return ma(this._callObjectMode,"setShowParticipantsBar()"),mt(),Rt(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return ma(this._callObjectMode,"showParticipantsBar()"),mt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return mt(),ma(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return mt(),ma(this._callObjectMode,"setCustomIntegrations()"),Rt(this._callState,"setCustomIntegrations()"),IG(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var C=this;if(mt(),ma(this._callObjectMode,"startCustomIntegrations()"),Rt(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,B=E.filter(function(D){return!(D in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(j){var C=this;if(mt(),ma(this._callObjectMode,"stopCustomIntegrations()"),Rt(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,B=E.filter(function(D){return!(D in C._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return ma(this._callObjectMode,"customTrayButtons()"),mt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return ma(this._callObjectMode,"updateCustomTrayButtons()"),mt(),Rt(this._callState,"updateCustomTrayButtons()"),$G(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(t0))),this)}},{key:"theme",value:function(){return ma(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var C=this;return ma(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{C.validateProperties({theme:j}),C.properties.theme=Le({},j),C.sendMessageToCallMachine({action:"set-theme",theme:C.properties.theme});try{C.emitDailyJSEvent({action:N6e,theme:C.properties.theme})}catch(D){console.log("could not emit 'theme-updated'",D)}E(C.properties.theme)}catch(D){B(D)}})}},{key:"requestFullscreen",value:(o=Ye(function*(){if(mt(),this._iframe&&!document.fullscreenElement&&KL())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){mt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Ye(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(C){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){C(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(a=Ye(function*(){var j=this,C=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=C===void 0||C;return this._accessState.access===m1||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(D){delete D.action,delete D.callbackStamp,B(D)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(n=Ye(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(C){return console.error("geo lookup failed",C),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Ye(function*(j){var C=this;return mt(),Rt(this._callState,"setNetworkTopology()"),new Promise(function(E,B){C.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(D){D.error?B({error:D.error}):E({workerId:D.workerId})})})}),function(j){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Ye(function*(){var j=this;return new Promise(function(C,E){j.needsLoad()&&C({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):C({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(mt(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,C){return Kv.prototype.on.call(this,j,C)}},{key:"once",value:function(j,C){return Kv.prototype.once.call(this,j,C)}},{key:"off",value:function(j,C){return Kv.prototype.off.call(this,j,C)}},{key:"validateProperties",value:function(j){var C,E;if(j!=null&&(C=j.dailyConfig)!==null&&C!==void 0&&C.userMediaAudioConstraints){var B,D;pt()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var G=j.inputSettings||{};G.audio=((B=j.inputSettings)===null||B===void 0?void 0:B.audio)||{},G.audio.settings=((D=j.inputSettings)===null||D===void 0||(D=D.audio)===null||D===void 0?void 0:D.settings)||{},G.audio.settings=Le(Le({},G.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=G,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(E=j.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var q,X;pt()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var te=j.inputSettings||{};te.video=((q=j.inputSettings)===null||q===void 0?void 0:q.video)||{},te.video.settings=((X=j.inputSettings)===null||X===void 0||(X=X.video)===null||X===void 0?void 0:X.settings)||{},te.video.settings=Le(Le({},te.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=te,delete j.dailyConfig.userMediaVideoConstraints}for(var Y in j)if(dc[Y]){if(dc[Y].validate&&!dc[Y].validate(j[Y],this))throw new Error("property '".concat(Y,"': ").concat(dc[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete j[Y]}},{key:"assembleMeetingUrl",value:function(){var j,C,E=Le(Le({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((C=this.properties.dailyConfig)===null||C===void 0?void 0:C.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys(dc).filter(function(D){return dc[D].queryString&&E[D]!==void 0}).map(function(D){return"".concat(dc[D].queryString,"=").concat(E[D])}).join("&")}},{key:"needsLoad",value:function(){return[$L,IL,cc,Lo].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,C){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,C,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case j6e:this.sendMessageToCallMachine(Le({action:S6e},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var C={action:ay,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Gb(this.properties.dailyConfig)}};this.sendMessageToCallMachine(C),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case LL:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case A6e:var E,B=Le({},j);delete B.internal,this._maxAppMessageSize=((E=j.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||p1,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case M6e:case $6e:if(this._callState===cc)return;if(j.participant&&j.participant.session_id){var D=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var G=this._callMachine().store;tF(j.participant,G),rF(j.participant,G),nF(j.participant,this._participants[D],G)}try{this.maybeParticipantTracksStopped(this._participants[D],j.participant),this.maybeParticipantTracksStarted(this._participants[D],j.participant),this.maybeEventRecordingStopped(this._participants[D],j.participant),this.maybeEventRecordingStarted(this._participants[D],j.participant)}catch(se){console.error("track events error",se)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[D])||(this._participants[D]=Le({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case I6e:if(j.participant&&j.participant.session_id){var q=this._participants[j.participant.session_id];q&&this.maybeParticipantTracksStopped(q,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case R6e:In(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case D6e:var X={access:j.access};j.awaitingAccess&&(X.awaitingAccess=j.awaitingAccess),In(this._accessState,X)||(this._accessState=X,this.emitDailyJSEvent(j));break;case L6e:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var te=Le(Le({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(te)}break;case VL:var Y;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(Lo),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var we=P4(j,HUe);we!=null&&(Y=we.error)!==null&&Y!==void 0&&Y.details&&(we.error.details=JSON.parse(we.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,we),this._joinedCallback=null),this.emitDailyJSEvent(we);break;case T6e:this._callState!==Lo&&this._updateCallState(cc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case lUe:var ke=j.state,Xe=j.threshold,He=j.quality,Be=ke.state,ot=ke.reasons;Be===this._network.networkState&&In(ot,this._network.networkStateReasons)&&Xe===this._network.threshold&&He===this._network.quality||(this._network.networkState=Be,this._network.networkStateReasons=ot,this._network.quality=He,this._network.threshold=Xe,j.networkState=Be,ot.length&&(j.networkStateReasons=ot),delete j.state,this.emitDailyJSEvent(j));break;case uUe:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case dUe:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case sUe:var Mt=j.activeSpeaker;this._activeSpeaker.peerId!==Mt.peerId&&(this._activeSpeaker.peerId=Mt.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var St=j.show;this._showLocalVideo=St,this.emitDailyJSEvent({action:j.action,show:St});break;case oUe:var H=j.enabled;this._activeSpeakerMode!==H&&(this._activeSpeakerMode=H,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case B6e:case U6e:case z6e:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case vUe:In(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case UL:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":In(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case eUe:var W=j.session_id;this._rmpPlayerState[W]=j.playerState,this.emitDailyJSEvent(j);break;case rUe:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case tUe:var J=j.session_id,de=this._rmpPlayerState[J];de&&this.compareEqualForRMPUpdateEvent(de,j.remoteMediaPlayerState)||(this._rmpPlayerState[J]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case F6e:var ue=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=S1(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||ue)&&this.emitDailyJSEvent(j);break;case nUe:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case aUe:case iUe:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case FL:case BL:case K6e:case Y6e:case J6e:case H6e:case q6e:case G6e:case E6e:case P6e:case Q6e:case Z6e:case"test-completed":case cUe:case X6e:case fUe:case hUe:case mUe:case pUe:case zL:case gUe:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,C){var E="record";j&&(C.local||C[E]!==!1||j[E]===C[E]||this.emitDailyJSEvent({action:BL}))}},{key:"maybeEventRecordingStarted",value:function(j,C){var E="record";j&&(C.local||C[E]!==!0||j[E]===C[E]||this.emitDailyJSEvent({action:FL}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==y6e)}},{key:"_trackChanged",value:function(j,C){return(j==null?void 0:j.id)!==(C==null?void 0:C.id)}},{key:"maybeEventTrackStopped",value:function(j,C,E){var B,D,G=(B=C==null?void 0:C.tracks[j])!==null&&B!==void 0?B:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,X=G==null?void 0:G.track;if(X){var te=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),we=this._trackChanged(X,q==null?void 0:q.track);te&&(Y&&!we||this.emitDailyJSEvent({action:W6e,track:X,participant:E??C,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,C,E){var B,D,G=(B=C==null?void 0:C.tracks[j])!==null&&B!==void 0?B:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,X=q==null?void 0:q.track;if(X){var te=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),we=this._trackChanged(G==null?void 0:G.track,X);Y&&(te&&!we||this.emitDailyJSEvent({action:V6e,track:X,participant:E,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,C){if(j)for(var E in j.tracks)this.maybeEventTrackStopped(E,j,C)}},{key:"maybeParticipantTracksStarted",value:function(j,C){if(C)for(var E in C.tracks)this.maybeEventTrackStarted(E,j,C)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,C){var E,B;return j.state===C.state&&((E=j.settings)===null||E===void 0?void 0:E.volume)===((B=C.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(C){console.log("could not emit",j,C)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,C){return!!In(j,C)&&(!j.videoTrack||!C.videoTrack||j.videoTrack.id===C.videoTrack.id&&j.videoTrack.muted===C.videoTrack.muted&&j.videoTrack.enabled===C.videoTrack.enabled)&&(!j.audioTrack||!C.audioTrack||j.audioTrack.id===C.audioTrack.id&&j.audioTrack.muted===C.audioTrack.muted&&j.audioTrack.enabled===C.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return pt()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||C!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=C;var D=this._callState===jc;this.updateShowAndroidOngoingMeetingNotification(D);var G=By(E,B),q=By(this._callState,this._isPreparingToJoin);G!==q&&(this.updateKeepDeviceAwake(q),this.updateDeviceAudioMode(q),this.updateNoOpRecordingEnsuringBackgroundContinuity(q))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=pF,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:m1},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=S1(mF,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=p1,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){pt()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(pt()&&!this.disableReactNativeAutoDeviceManagement("audio")){var C=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(C)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(pt()&&this.nativeUtils().setShowOngoingMeetingNotification){var C,E,B,D;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var G=this.properties.reactNativeConfig.androidInCallNotification;C=G.title,E=G.subtitle,B=G.iconName,D=G.disableForCustomOverride}D&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,C,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){pt()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(pt()){var C=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var E in C==null?void 0:C.streams){var B=C.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var C=document.createElement("a");return C.href=j,C.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(uc)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var C={action:ay,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(C)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:ay,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,C=Object.values(uc);j<C.length;j++){var E=C[j];E._callMachineInitialized?(E.sendMessageToCallMachine({action:ay,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var C,E,B,D;if(!((C=j.error)!==null&&C!==void 0&&C.type&&(![_6e,w6e,DL].includes(j.error.type)||j.error.type===DL&&j.error.msg.includes("deleted")))){var G=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,q="production";G&&G.host.includes(".staging.daily")&&(q="staging");var X,te,Y,we,ke,Xe=function(W){const J=[LBe(),RBe(),u6e(),l6e(),p6e(),v6e(),zBe(),g6e()];return W.autoSessionTracking!==!1&&J.push(m6e()),J}({}).filter(function(W){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(W.name)}),He=new JBe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:t6e,stackParser:o6e,integrations:Xe,environment:q}),Be=new $l;if(Be.setClient(He),He.init(),this.session_id&&Be.setExtra("sessionId",this.session_id),this.properties){var ot=Le({},this.properties);ot.userName=ot.userName?"[Filtered]":void 0,ot.userData=ot.userData?"[Filtered]":void 0,ot.token=ot.token?"[Filtered]":void 0,Be.setExtra("properties",ot)}if(G){var Mt=G.searchParams.get("domain");if(!Mt){var St=G.host.match(/(.*?)\./);Mt=St&&St[1]||""}Mt&&Be.setTag("domain",Mt)}j.error&&(Be.setTag("fatalErrorType",j.error.type),Be.setExtra("errorDetails",j.error.details),!((X=j.error.details)===null||X===void 0)&&X.uri&&Be.setTag("serverAddress",j.error.details.uri),!((te=j.error.details)===null||te===void 0)&&te.workerGroup&&Be.setTag("workerGroup",j.error.details.workerGroup),!((Y=j.error.details)===null||Y===void 0)&&Y.geoGroup&&Be.setTag("geoGroup",j.error.details.geoGroup),!((we=j.error.details)===null||we===void 0)&&we.on&&Be.setTag("connectionAttempt",j.error.details.on),(ke=j.error.details)!==null&&ke!==void 0&&ke.bundleUrl&&(Be.setTag("bundleUrl",j.error.details.bundleUrl),Be.setTag("bundleError",j.error.details.sourceError.type))),Be.setTags({callMode:this._callObjectMode?pt()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var H=((D=j.error)===null||D===void 0?void 0:D.msg)||j.errorMsg;Be.captureException(new Error(H))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!In(this._inputSettings,j)){var C=this._getInputSettings();this._inputSettings=j;var E=this._getInputSettings();In(C,E)||this.emitDailyJSEvent({action:UL,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(pt())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=aBe.getParser(ci());return{supported:!!y1(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!KL(),supportsScreenShare:!!bUe(),supportsSfu:!!y1(),supportsVideoProcessing:mG(),supportsAudioProcessing:pG()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mt(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return C.layout||(C.customLayout?C.layout="custom-v1":C.layout="browser"),new e(j,C)}},{key:"createFrame",value:function(j,C){var E,B;mt(),j&&C?(E=j,B=C):j&&j.append?(E=j,B={}):(E=document.body,B=j||{});var D=B.iframeStyle;D||(D=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var G=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?G.allow="microphone, camera":G.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",G.style.visibility="hidden",E.appendChild(G),G.style.visibility=null,Object.keys(D).forEach(function(q){return G.style[q]=D[q]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(G,B)}catch(q){throw E.removeChild(G),q}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mt();var C=document.createElement("iframe");return C.allow="microphone; camera; autoplay",C.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(C),j.layout||(j.layout="custom-v1"),e.wrap(C,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?uc[j]:Object.values(uc)[0]}}]);var t,r,n,a,i,o,l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,O,A,$,T,U,I,V,L,z,R,F,K,re,Z}();function xF(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function ed(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=no;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function Rt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==jc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function By(e,t){return[lC,jc].includes(e)||t}function _1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(By(e,t)){var a="".concat(r," not supported after joining a meeting.");throw n&&(a+=" ".concat(n)),console.error(a),new Error(a)}}function oy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function j1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function bi(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ma(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function mt(){if(pt())throw new Error("This daily-js method is not currently supported in React Native")}function sm(){if(!pt())throw new Error("This daily-js method is only supported in React Native")}function EG(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),In(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function PG(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},a=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!a(f.video))&&!(f.screenVideo&&!a(f.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function OG(e){if(gt(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"video":if(gt(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!KUe(d))return!1;break;case"settings":if(!bF(d))return!1;break;default:return!1}}break;case"audio":if(gt(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var m=En(h[f],2),g=m[0],p=m[1];switch(g){case"processor":if(!GUe(p))return!1;break;case"settings":if(!bF(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function AG(e,t,r){var n,a=[];e.video&&e.video.processor&&(mG((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(pG()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:no}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:no}):delete r.videoTrack)}function GUe(e){if(pt())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&gt(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(fG).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function KUe(e){if(pt())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||gt(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Fy).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(gt(e.config)!=="object"||!function(r,n){var a=Object.keys(n);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Fy.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Fy.BGIMAGE:return!(n.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Kb(o.source))return o.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return v1.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var m=f.split(".").at(-1).toLowerCase().trim();return v1.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(v1.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function bF(e){return gt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function pC(){var e=Object.values(Fy).join(" | "),t=Object.values(fG).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function TG(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(b6e).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function MG(){return"customIntegrations should be an object of type ".concat(JSON.stringify(mC),".")}function $G(e){if(e&&gt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(t0),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=En(r[t],1)[0],a=0,i=Object.entries(e[n]);a<i.length;a++){var o=En(i[a],2),l=o[0],c=o[1],u=t0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Kb(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(gt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function IG(e){if(!e||e&&gt(e)!=="object"||Array.isArray(e))return console.error(MG()),!1;for(var t=function(f){return"".concat(f," should be ").concat(mC.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,a=Object.entries(e);n<a.length;n++){var i=En(a[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Kb(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Kb(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!mC.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function RG(e,t){if(t===void 0)return!1;switch(gt(t)){case"string":return gt(e)===t;case"object":if(gt(e)!=="object")return!1;for(var r in e)if(!RG(e[r],t[r]))return!1;return!0;default:return!1}}function wF(e,t){var r=e.sessionId,n=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function _F(e){if(gt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(cC).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(cC));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function jF(e,t,r){return!(typeof e!="number"||e<t||e>r)}function S1(e,t){return e&&!t&&delete e.data,e}const YUe=()=>{const[e]=LE(),t=On(),{user:r,profile:n,role:a}=$r(),i=e.get("appointment"),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[g,p]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,S]=y.useState(!1),N=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{(async()=>{if(!i||!r){f("No appointment specified"),l(!1);return}try{const{data:U,error:I}=await Ee.from("appointments").select("*").eq("id",i).single();if(I||!U){f("Appointment not found"),l(!1);return}const V=U.patient_id===r.id,L=U.clinician_id===r.id,z=a&&["admin","receptionist"].includes(a);if(!V&&!L&&!z){f("You are not authorized to join this consultation"),l(!1);return}const[R,F]=await Promise.all([Ee.from("profiles").select("first_name, last_name").eq("id",U.patient_id).single(),Ee.from("profiles").select("first_name, last_name").eq("id",U.clinician_id).single()]);m({...U,patient_name:R.data?`${R.data.first_name} ${R.data.last_name}`.trim():"Patient",clinician_name:F.data?`${F.data.first_name} ${F.data.last_name}`.trim():"Clinician"});const K=await WM.createRoom(i),re=n?`${n.first_name} ${n.last_name}`.trim():a==="patient"?"Patient":"Clinician",Z=await WM.createToken(K.room_name,re,a!=="patient");p(Z.room_url),b(Z.token),U.status!=="in_progress"&&await Ee.from("appointments").update({status:"in_progress"}).eq("id",i)}catch(U){console.error("Error setting up video call:",U),f(U.message||"Failed to set up video consultation")}finally{l(!1)}})()},[i,r,n,a]),y.useEffect(()=>()=>{k.current&&(k.current.destroy(),k.current=null)},[]);const P=y.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(T=>setTimeout(T,100)),!N.current){f("Video container not ready"),u(!1);return}try{const T=yF.getCallInstance();T&&await T.destroy();const U=yF.createFrame(N.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});k.current=U,U.on("joined-meeting",()=>{console.log("Joined Daily meeting"),oe.success("Connected to consultation"),w(!0)}),U.on("left-meeting",()=>{console.log("Left Daily meeting"),O()}),U.on("error",I=>{console.error("Daily error:",I),oe.error("Video call error occurred"),f("Video call error: "+((I==null?void 0:I.errorMsg)||"Unknown error")),w(!1),u(!1)}),U.on("participant-joined",I=>{var V,L;console.log("Participant joined:",(V=I==null?void 0:I.participant)==null?void 0:V.user_name),(L=I==null?void 0:I.participant)!=null&&L.user_name&&oe.info(`${I.participant.user_name} joined the call`)}),U.on("participant-left",I=>{var V,L,z;console.log("Participant left:",(V=I==null?void 0:I.participant)==null?void 0:V.user_name),(L=I==null?void 0:I.participant)!=null&&L.user_name&&!((z=I==null?void 0:I.participant)!=null&&z.local)&&oe.info(`${I.participant.user_name} left the call`)}),await U.join({url:g,token:v}),u(!1)}catch(T){console.error("Failed to join Daily call:",T),f("Failed to join video call: "+(T.message||"Unknown error")),oe.error("Failed to join video call"),u(!1)}}},[g,v]),O=async()=>{if(k.current){try{await k.current.destroy()}catch(T){console.error("Error destroying call frame:",T)}k.current=null}w(!1),S(!0),h&&await Ee.from("appointments").update({status:"completed"}).eq("id",h.id)},A=async()=>{if(k.current)try{await k.current.leave()}catch(T){console.error("Error leaving call:",T)}u(!1),O()},$=()=>{t(a==="patient"?"/patient":a==="nurse"||a==="doctor"?"/clinician":"/")};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(it,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(ie,{className:"max-w-md w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(Ll,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),s.jsx(be,{children:"Unable to Join"}),s.jsx(Se,{children:d})]}),s.jsx(ce,{children:s.jsxs(Q,{onClick:$,className:"w-full",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(ie,{className:"max-w-md w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(tr,{className:"w-12 h-12 text-primary mx-auto mb-2"}),s.jsx(be,{children:"Consultation Ended"}),s.jsx(Se,{children:"Your video consultation has ended successfully."})]}),s.jsxs(ce,{className:"space-y-4",children:[a!=="patient"&&s.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>t(`/clinician?notes=${i}`),children:"Complete Clinical Notes"}),s.jsxs(Q,{onClick:$,className:"w-full",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):x||c?s.jsxs("div",{className:"fixed inset-0 bg-black",children:[s.jsx("div",{ref:N,className:"w-full h-full",style:{position:"relative"}}),s.jsxs(Q,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:A,children:[s.jsx(xE,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:s.jsxs(ie,{className:"max-w-lg w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(tr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx(be,{className:"text-2xl",children:"Ready to Join?"}),s.jsx(Se,{children:a==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),s.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:a==="patient"?"Clinician":"Patient"}),s.jsx("p",{className:"font-medium",children:a==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Before joining, please ensure:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"You're in a quiet, private location"}),s.jsx("li",{children:"Your camera and microphone are working"}),s.jsx("li",{children:"You have a stable internet connection"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Ne,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(Q,{size:"lg",onClick:P,className:"w-full",children:[s.jsx(tr,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),s.jsxs(Q,{variant:"outline",onClick:$,className:"w-full",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},JUe=()=>s.jsx(YUe,{}),XUe=()=>{const[e,t]=y.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=y.useRef(null),n=y.useRef(null),a=y.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),i=y.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),m=document.createElement("video");m.srcObject=d,m.muted=!0,m.play(),r.current=m;const g=()=>{h&&m.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(m,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const p=f.captureStream(30),v=d.getAudioTracks()[0];return v&&p.addTrack(v.clone()),p},[]),o=y.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=i(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[i]),l=y.useCallback(async()=>{a(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[a]),c=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return y.useEffect(()=>()=>{a()},[a]),{...e,startCall:o,endCall:l,toggleMute:c,toggleVideo:u}},N1=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:a="Participant",className:i=""})=>{const o=y.useRef(null);y.useEffect(()=>{o.current&&e&&(o.current.srcObject=e)},[e]);const l=a.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?s.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${i}`,children:[s.jsxs("div",{className:"text-center",children:[s.jsx(X0,{className:"w-24 h-24 mx-auto mb-4",children:s.jsx(Q0,{className:"bg-primary/20 text-primary text-2xl",children:l||s.jsx(Wr,{className:"w-12 h-12"})})}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(xE,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):s.jsxs("div",{className:`relative bg-black ${i}`,children:[s.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&a&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:a})]})},QUe=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:a,isConnected:i})=>s.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[s.jsx(Q,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?s.jsx(LX,{className:"w-6 h-6"}):s.jsx(FX,{className:"w-6 h-6"})}),s.jsx(Q,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?s.jsx(xE,{className:"w-6 h-6"}):s.jsx(tr,{className:"w-6 h-6"})}),s.jsx(Q,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:a,title:"End call",children:s.jsx(VX,{className:"w-6 h-6"})})]}),ZUe=()=>{const e=On(),[t,r]=y.useState(0),[n,a]=y.useState(!1),[i,o]=y.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:m,startCall:g,endCall:p,toggleMute:v,toggleVideo:b}=XUe();y.useEffect(()=>{let N;return u&&(N=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(N)},[u]);const x=N=>{const k=Math.floor(N/60),P=N%60;return`${k.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},w=async()=>{await g(),m||(o(!1),oe.success("Demo consultation started!"))},_=async()=>{await p(),oe.info("Demo ended"),e(-1)},S=()=>{document.fullscreenElement?(document.exitFullscreen(),a(!1)):(document.documentElement.requestFullscreen(),a(!0))};return i&&!u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(ie,{className:"w-full max-w-2xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:s.jsxs(Ne,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[s.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),s.jsx(be,{className:"text-2xl",children:"Video Consultation Demo"}),s.jsx(Se,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?s.jsx(N1,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(tr,{className:"w-12 h-12 mb-2 opacity-50"}),s.jsx("p",{children:"Camera preview will appear here"})]})}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Camera and microphone access"}),s.jsx("li",{children:" Video/audio mute controls"}),s.jsx("li",{children:" Picture-in-picture layout"}),s.jsx("li",{children:" Fullscreen mode"}),s.jsx("li",{children:" Call duration timer"})]})]}),m&&s.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:m}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Q,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Q,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(yE,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):s.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ne,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[s.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo"]}),s.jsxs(Ne,{variant:"secondary",className:"bg-white/20 text-white",children:[s.jsx(qt,{className:"w-3 h-3 mr-1"}),x(t)]}),s.jsx(Q,{variant:"ghost",size:"sm",onClick:S,className:"text-white",children:n?s.jsx(BX,{className:"w-4 h-4"}):s.jsx(DX,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(N1,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),s.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:s.jsx(N1,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:s.jsx(QUe,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},e8e=()=>s.jsx(ZUe,{});var u_="Checkbox",[t8e]=gn(u_),[r8e,pA]=t8e(u_);function n8e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Wi({prop:r,defaultProp:a??!1,onChange:c,caller:u_}),[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!o||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Sl(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return s.jsx(r8e,{scope:t,..._,children:a8e(f)?f(_):n})}var DG="CheckboxTrigger",LG=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=pA(DG,e),p=Ke(a,d),v=y.useRef(c);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Sl(c)?"mixed":c,"aria-required":u,"data-state":VG(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:he(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:he(r,b=>{f(x=>Sl(x)?!0:!x),g&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});LG.displayName=DG;var gA=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(n8e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(LG,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(zG,{__scopeCheckbox:r})]})})});gA.displayName=u_;var FG="CheckboxIndicator",BG=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=pA(FG,r);return s.jsx(Hr,{present:n||Sl(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":VG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});BG.displayName=FG;var UG="CheckboxBubbleInput",zG=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=pA(UG,e),g=Ke(r,m),p=B0(i),v=E0(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&S){const k=new Event("click",{bubbles:N});x.indeterminate=Sl(i),S.call(x,Sl(i)?!1:i),x.dispatchEvent(k)}},[h,p,i,a]);const b=y.useRef(Sl(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});zG.displayName=UG;function a8e(e){return typeof e=="function"}function Sl(e){return e==="indeterminate"}function VG(e){return Sl(e)?"indeterminate":e?"checked":"unchecked"}const Od=y.forwardRef(({className:e,...t},r)=>s.jsx(gA,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(BG,{className:ve("flex items-center justify-center text-current"),children:s.jsx(j0,{className:"h-4 w-4"})})}));Od.displayName=gA.displayName;const k1="",i8e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],s8e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],o8e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],l8e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],c8e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:a,prefilledData:i})=>{const[o,l]=y.useState(1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,m]=y.useState(i||null),[g,p]=y.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:a||"",date_of_birth:(i==null?void 0:i.date_of_birth)||"",gender:(i==null?void 0:i.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});y.useEffect(()=>{p(N=>({...N,id_type:t,id_number:r||N.id_number,passport_number:n||N.passport_number,passport_country:a||N.passport_country,date_of_birth:(i==null?void 0:i.date_of_birth)||N.date_of_birth,gender:(i==null?void 0:i.gender)||N.gender})),i&&m(i)},[t,r,n,a,i]),y.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${k1}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(N){console.error("Failed to fetch schemes:",N)}},b=async N=>{if(N.length===13)try{const P=await(await fetch(`${k1}/api/patient/validate-id?id_number=${N}`,{method:"POST"})).json();m(P),P.valid?(p(O=>({...O,date_of_birth:P.date_of_birth,gender:P.gender})),oe.success("ID number validated successfully")):oe.error(P.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},x=async()=>{u(!0);try{const{supabase:N}=await xo(async()=>{const{supabase:A}=await Promise.resolve().then(()=>vo);return{supabase:A}},void 0),{data:{session:k}}=await N.auth.getSession();if(!(k!=null&&k.access_token)){oe.error("Please sign in to continue");return}const P={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(A=>({name:A,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},O=await fetch(`${k1}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(P)});if(!O.ok){const A=await O.json();throw new Error(A.detail||"Onboarding failed")}oe.success("Profile completed successfully!"),e==null||e()}catch(N){oe.error(N.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=o/w*100,S=d.find(N=>N.code===g.medical_aid_scheme);return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(cu,{value:_,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",o," of ",w]})]}),o===1&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsx(Se,{children:"Tell us about yourself"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Je,{id:"first_name",value:g.first_name,onChange:N=>p({...g,first_name:N.target.value}),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(Je,{id:"last_name",value:g.last_name,onChange:N=>p({...g,last_name:N.target.value}),placeholder:"Enter last name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{htmlFor:"id_number",className:"flex items-center gap-2",children:[s.jsx(AX,{className:"w-4 h-4"}),"South African ID Number *"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Je,{id:"id_number",value:g.id_number,onChange:N=>{const k=N.target.value.replace(/\D/g,"").slice(0,13);p({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&s.jsxs(Ne,{className:"bg-success shrink-0",children:[s.jsx(nn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email *"}),s.jsx(Je,{id:"email",type:"email",value:g.email,onChange:N=>p({...g,email:N.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Phone Number *"}),s.jsx(Je,{id:"phone",value:g.phone,onChange:N=>p({...g,phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),o===2&&s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(NB,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Address Line 1"}),s.jsx(Je,{value:g.address_line_1,onChange:N=>p({...g,address_line_1:N.target.value}),placeholder:"Street address"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"City"}),s.jsx(Je,{value:g.city,onChange:N=>p({...g,city:N.target.value}),placeholder:"City"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Province"}),s.jsxs(or,{value:g.province,onValueChange:N=>p({...g,province:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select province"})}),s.jsx(Zt,{children:i8e.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]})]}),s.jsx(Lx,{className:"my-4"}),s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(ua,{className:"w-4 h-4"}),"Emergency Contact"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Contact Name"}),s.jsx(Je,{value:g.emergency_contact_name,onChange:N=>p({...g,emergency_contact_name:N.target.value}),placeholder:"Full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Relationship"}),s.jsx(Je,{value:g.emergency_contact_relationship,onChange:N=>p({...g,emergency_contact_relationship:N.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Contact Phone"}),s.jsx(Je,{value:g.emergency_contact_phone,onChange:N=>p({...g,emergency_contact_phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),o===3&&s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Od,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:N=>p({...g,has_medical_aid:!!N})}),s.jsx(fe,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Medical Aid Scheme *"}),s.jsxs(or,{value:g.medical_aid_scheme,onValueChange:N=>p({...g,medical_aid_scheme:N,medical_aid_plan:""}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your medical aid"})}),s.jsx(Zt,{children:d.map(N=>s.jsx(Fe,{value:N.code,children:N.name},N.code))})]})]}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Plan"}),s.jsxs(or,{value:g.medical_aid_plan,onValueChange:N=>p({...g,medical_aid_plan:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your plan"})}),s.jsx(Zt,{children:S.plans.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Membership Number *"}),s.jsx(Je,{value:g.medical_aid_number,onChange:N=>p({...g,medical_aid_number:N.target.value}),placeholder:"Your member number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Dependent Code"}),s.jsx(Je,{value:g.medical_aid_dependent_code,onChange:N=>p({...g,medical_aid_dependent_code:N.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&s.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),o===4&&s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(vE,{className:"w-5 h-5 text-primary"}),"Medical History"]}),s.jsx(Se,{children:"This information helps us provide better care"})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4 text-warning"}),"Allergies"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o8e.map(N=>s.jsx(Ne,{variant:g.allergies.some(k=>k.allergen===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(P=>P.allergen===N);p(k?{...g,allergies:g.allergies.filter(P=>P.allergen!==N)}:{...g,allergies:[...g.allergies,{allergen:N,reaction:"",severity:"mild"}]})},children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Chronic Conditions"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:l8e.map(N=>s.jsx(Ne,{variant:g.chronic_conditions.some(k=>k.condition===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(P=>P.condition===N);p(k?{...g,chronic_conditions:g.chronic_conditions.filter(P=>P.condition!==N)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:N}]})},children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Blood Type"}),s.jsxs(or,{value:g.blood_type,onValueChange:N=>p({...g,blood_type:N}),children:[s.jsx(Qt,{className:"w-[200px]",children:s.jsx(lr,{})}),s.jsx(Zt,{children:s8e.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Smoking Status"}),s.jsxs(or,{value:g.smoking_status,onValueChange:N=>p({...g,smoking_status:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"never",children:"Never smoked"}),s.jsx(Fe,{value:"former",children:"Former smoker"}),s.jsx(Fe,{value:"current",children:"Current smoker"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Alcohol Use"}),s.jsxs(or,{value:g.alcohol_use,onValueChange:N=>p({...g,alcohol_use:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"none",children:"None"}),s.jsx(Fe,{value:"occasional",children:"Occasional"}),s.jsx(Fe,{value:"moderate",children:"Moderate"}),s.jsx(Fe,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),o===5&&s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:N=>p({...g,consent_telehealth:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:N=>p({...g,consent_data_processing:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:N=>p({...g,consent_marketing:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsxs(Q,{variant:"outline",onClick:()=>l(N=>N-1),disabled:o===1,children:[s.jsx(gE,{className:"w-4 h-4 mr-2"}),"Back"]}),o<w?s.jsxs(Q,{onClick:()=>l(N=>N+1),children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}):s.jsx(Q,{onClick:x,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},ly="",u8e=()=>{var z,R;const e=On(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:a}=$r(),[i,o]=y.useState("check"),[l,c]=y.useState("sa_id"),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(""),[b,x]=y.useState(!1),[w,_]=y.useState(null),[S,N]=y.useState(null),[k,P]=y.useState([]),[O,A]=y.useState(null),[$,T]=y.useState(!1);y.useEffect(()=>{U()},[]),y.useEffect(()=>{!a&&r&&e("/patient")},[a,r,e]);const U=async()=>{try{const K=await(await fetch(`${ly}/api/patient/countries`)).json();P(K.countries||[])}catch(F){console.error("Failed to fetch countries:",F),P([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},I=async()=>{x(!0);try{let F=`${ly}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){oe.error("Please enter a valid 13-digit SA ID number"),x(!1);return}F+=`&id_number=${u}`}else{if(!f||f.length<5){oe.error("Please enter a valid passport number"),x(!1);return}if(!m){oe.error("Please select your country of citizenship"),x(!1);return}if(!p){oe.error("Please enter your date of birth"),x(!1);return}F+=`&passport_number=${f}&country_code=${m}&date_of_birth=${p}`}const re=await(await fetch(F,{method:"POST"})).json();if(!re.valid){oe.error(re.error||"Invalid identification"),x(!1);return}if(N(re),l==="sa_id"){const{supabase:Z}=await xo(async()=>{const{supabase:C}=await Promise.resolve().then(()=>vo);return{supabase:C}},void 0),{data:{session:j}}=await Z.auth.getSession();if(j!=null&&j.access_token)try{const C=await fetch(`${ly}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${j.access_token}`}});if(C.ok){const E=await C.json();if(_(E),E.found){oe.success("We found your existing records! Let's take a quick photo first."),o("photo");return}}}catch{console.log("EHR lookup not available")}}oe.info("Let's take a quick photo for identity verification."),o("photo")}catch(F){console.error("Validation failed:",F),oe.error("Could not validate identification. Please try again.")}finally{x(!1)}},V=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),oe.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},L=async()=>{x(!0);try{const{supabase:F}=await xo(async()=>{const{supabase:j}=await Promise.resolve().then(()=>vo);return{supabase:j}},void 0),{data:{session:K}}=await F.auth.getSession();if(!(K!=null&&K.access_token)){oe.error("Please sign in to continue");return}const re={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(S==null?void 0:S.date_of_birth),gender:(w==null?void 0:w.gender)||(S==null?void 0:S.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(j=>({allergen:j,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(j=>({condition:j})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${ly}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K.access_token}`},body:JSON.stringify(re)})).ok)throw new Error("Failed to save profile");await n(),oe.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(F){console.error("Confirmation failed:",F),oe.error("Failed to confirm profile. Please try again.")}finally{x(!1)}};if(a)return s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(i==="check")return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:s.jsxs(ie,{children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(jS,{className:"w-8 h-8 text-primary"})}),s.jsxs(be,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),s.jsx(Se,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{children:"Type of Identification"}),s.jsxs(Sp,{value:l,onValueChange:F=>c(F),className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"sa_id",id:"sa_id"}),s.jsxs(fe,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(an,{className:"w-4 h-4"}),"SA ID"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"passport",id:"passport"}),s.jsxs(fe,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(PX,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"id_number",children:"South African ID Number"}),s.jsx(Je,{id:"id_number",value:u,onChange:F=>d(F.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"passport_country",children:"Country of Citizenship"}),s.jsxs(or,{value:m,onValueChange:g,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your country"})}),s.jsx(Zt,{children:k.filter(F=>F.code!=="ZA").map(F=>s.jsx(Fe,{value:F.code,children:F.name},F.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"passport_number",children:"Passport Number"}),s.jsx(Je,{id:"passport_number",value:f,onChange:F=>h(F.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(Je,{id:"date_of_birth",type:"date",value:p,onChange:F=>v(F.target.value),max:new Date().toISOString().split("T")[0]})]})]}),s.jsx(Q,{className:"w-full",size:"lg",onClick:I,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!m||!p),children:b?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(jS,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]});if(i==="photo"){const F=async K=>{A(K),T(!0);try{const re=await tP.upload(K);re!=null&&re.success?(oe.success("Photo saved successfully!"),w!=null&&w.found?o("confirm"):o("onboarding")):oe.error("Failed to save photo. Please try again.")}catch(re){console.error("Photo upload error:",re),oe.error(re.message||"Failed to upload photo")}finally{T(!1)}};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>o("check"),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:$?s.jsx(ie,{children:s.jsx(ce,{className:"py-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center",children:[s.jsx(it,{className:"w-8 h-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Saving your photo..."})]})})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(jy,{className:"w-8 h-8 text-primary"})}),s.jsx("h2",{className:"text-xl font-bold",children:"Identity Verification Photo"}),s.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:"This photo helps us verify your identity during consultations and protects your healthcare benefits."})]}),s.jsx(lz,{onCapture:F,required:!0,title:"Take a Selfie",description:"Position your face clearly in the frame and ensure good lighting."}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"Your photo is stored securely and only visible to Quadcare healthcare staff for identity verification."})]})})]})}return i==="confirm"&&(w!=null&&w.found)?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>o("check"),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:s.jsxs(ie,{children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(nn,{className:"w-8 h-8 text-success"})}),s.jsx(be,{className:"text-xl sm:text-2xl",children:"Records Found!"}),s.jsx(Se,{children:"We found your existing records. Please confirm your details."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),s.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Gender"}),s.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),s.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),s.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((z=w.allergies)==null?void 0:z.length)||((R=w.chronic_conditions)==null?void 0:R.length))&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),s.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),s.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Q,{className:"w-full",size:"lg",onClick:L,disabled:b,children:b?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),s.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>o("onboarding"),children:"Update My Information"})]})]})]})})]}):i==="onboarding"?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>o("check"),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),S&&s.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:s.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",S.date_of_birth&&`  DOB: ${S.date_of_birth}`,S.gender&&`  ${S.gender}`,S.age&&`  Age ${S.age}`]})})]}),s.jsx(c8e,{onComplete:V,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?m:void 0,prefilledData:S})]})]}):null},d8e="",SF=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],f8e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],h8e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=y.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,p)=>{const v=p?parseFloat(p):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){oe.error("Chief complaint is required");return}o(!0);try{const{supabase:g}=await xo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>vo);return{supabase:x}},void 0),{data:{session:p}}=await g.auth.getSession();if(!(p!=null&&p.access_token)){oe.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${d8e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify(v)});if(!b.ok){const x=await b.json();throw new Error(x.detail||"Triage submission failed")}oe.success("Triage assessment saved successfully"),a==null||a()}catch(g){oe.error(g.message||"Failed to save triage")}finally{o(!1)}},m=SF.find(g=>g.value===u.triage_priority);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(ie,{children:s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&s.jsxs(Ne,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(vE,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Blood Pressure (mmHg)"}),s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx(Je,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),s.jsx("span",{children:"/"}),s.jsx(Je,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Heart Rate (bpm)"}),s.jsx(Je,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Temperature (C)"}),s.jsx(Je,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"SpO2 (%)"}),s.jsx(Je,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Respiratory Rate"}),s.jsx(Je,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Weight (kg)"}),s.jsx(Je,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Height (cm)"}),s.jsx(Je,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Pain Score (0-10)"}),s.jsx(Je,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(an,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"What is the main reason for this visit? *"}),s.jsx(Fr,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Duration of Symptoms"}),s.jsx(Je,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Onset"}),s.jsxs(or,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"sudden",children:"Sudden"}),s.jsx(Fe,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs(or,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:SF.map(g=>s.jsx(Fe,{value:g.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${m.color} bg-opacity-10`,children:[s.jsx("p",{className:"text-sm font-medium",children:m.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),s.jsx(ce,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Od,{id:g.key,checked:u[g.key],onCheckedChange:p=>d({...u,[g.key]:!!p})}),s.jsx(fe,{htmlFor:g.key,children:g.label})]},g.key))})]}),s.jsxs(ie,{children:[s.jsx(me,{children:s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(ni,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Nurse Assessment Notes"}),s.jsx(Fr,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Recommended Action"}),s.jsxs(or,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:f8e.map(g=>s.jsx(Fe,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Notes for Doctor (optional)"}),s.jsx(Fr,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Q,{variant:"outline",children:"Cancel"}),s.jsx(Q,{onClick:h,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},m8e="",NF={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},p8e=()=>{const e=On(),[t]=LE(),{profile:r,role:n,signOut:a}=$r(),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(!1),m=t.get("appointment");y.useEffect(()=>{g()},[]),y.useEffect(()=>{if(m&&i.length>0){const v=i.find(b=>b.appointment.id===m);v&&d(v)}},[m,i]);const g=async()=>{c(!0);try{const{supabase:v}=await xo(async()=>{const{supabase:_}=await Promise.resolve().then(()=>vo);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){oe.error("Please sign in to continue");return}const x=await fetch(`${m8e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!x.ok)throw new Error("Failed to fetch triage queue");const w=await x.json();o(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),oe.error("Failed to load triage queue")}finally{c(!1)}},p=()=>{d(null),g(),oe.success("Triage completed successfully")};return u?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:s.jsx(h8e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:p})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Q,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[s.jsx(mo,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),s.jsx(Ne,{className:"bg-success text-white",children:"Nurse"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[s.jsx(Q,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:s.jsx(mo,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),s.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?s.jsx(Os,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})]}),f&&s.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),s.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(ni,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(kn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:s.jsx(Wn,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>{var b,x;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((x=v.latest_symptom_assessment)==null?void 0:x.urgency)==="emergency"}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(ni,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>v.latest_symptom_assessment).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),s.jsx(ie,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(qt,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"~15"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),s.jsxs(ie,{children:[s.jsxs(me,{children:[s.jsxs(be,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),s.jsx(Se,{children:"Patients waiting for nurse triage assessment"})]}),s.jsx(ce,{children:l?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>s.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):i.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ni,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No patients waiting for triage"}),s.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):s.jsx("div",{className:"space-y-3",children:i.map(v=>{var x;const b=v.latest_symptom_assessment?NF[v.latest_symptom_assessment.urgency]||NF.routine:null;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium",children:v.patient_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[yt(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&s.jsxs(Ne,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((x=v.patient_profile)==null?void 0:x.has_medical_aid)&&s.jsx(Ne,{variant:"outline",className:"text-xs",children:"Medical Aid"}),s.jsx(Q,{size:"sm",variant:"ghost",children:s.jsx(df,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},g8e=()=>{const e=Ts();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},v8e=new Ste,y8e=()=>s.jsx(kte,{client:v8e,children:s.jsx(die,{children:s.jsxs(Jee,{children:[s.jsx(TQ,{}),s.jsx(uZ,{}),s.jsx(kre,{children:s.jsxs(yre,{children:[s.jsx(pa,{path:"/",element:s.jsx(Eie,{})}),s.jsx(pa,{path:"/auth",element:s.jsx(gle,{})}),s.jsx(pa,{path:"/patient/*",element:s.jsx(Ds,{allowedRoles:["patient"],children:s.jsx(ode,{})})}),s.jsx(pa,{path:"/book-appointment",element:s.jsx(Ds,{allowedRoles:["patient"],children:s.jsx(Uhe,{})})}),s.jsx(pa,{path:"/onboarding",element:s.jsx(Ds,{allowedRoles:["patient"],children:s.jsx(u8e,{})})}),s.jsx(pa,{path:"/clinician/*",element:s.jsx(Ds,{allowedRoles:["nurse","doctor"],children:s.jsx(Wge,{})})}),s.jsx(pa,{path:"/nurse-triage",element:s.jsx(Ds,{allowedRoles:["nurse","doctor"],children:s.jsx(p8e,{})})}),s.jsx(pa,{path:"/admin/*",element:s.jsx(Ds,{allowedRoles:["admin"],children:s.jsx(Y5e,{})})}),s.jsx(pa,{path:"/receptionist/*",element:s.jsx(Ds,{allowedRoles:["admin","nurse","doctor","receptionist"],children:s.jsx(X5e,{})})}),s.jsx(pa,{path:"/consultation",element:s.jsx(Ds,{allowedRoles:["patient","nurse","doctor"],children:s.jsx(JUe,{})})}),s.jsx(pa,{path:"/demo-consultation",element:s.jsx(Ds,{allowedRoles:["patient","nurse","doctor"],children:s.jsx(e8e,{})})}),s.jsx(pa,{path:"*",element:s.jsx(g8e,{})})]})})]})})});K5(document.getElementById("root")).render(s.jsx(y8e,{}));
