var yG=Object.defineProperty;var cA=e=>{throw TypeError(e)};var xG=(e,t,r)=>t in e?yG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var uA=(e,t,r)=>xG(e,typeof t!="symbol"?t+"":t,r),Kw=(e,t,r)=>t.has(e)||cA("Cannot "+r);var ae=(e,t,r)=>(Kw(e,t,"read from private field"),r?r.call(e):t.get(e)),dt=(e,t,r)=>t.has(e)?cA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Qe=(e,t,r,n)=>(Kw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),gn=(e,t,r)=>(Kw(e,t,"access private method"),r);var Ug=(e,t,r,n)=>({set _(a){Qe(e,t,a,r)},get _(){return ae(e,t,n)}});function bG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fF={exports:{}},Fb={},hF={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=Symbol.for("react.element"),wG=Symbol.for("react.portal"),_G=Symbol.for("react.fragment"),jG=Symbol.for("react.strict_mode"),SG=Symbol.for("react.profiler"),NG=Symbol.for("react.provider"),kG=Symbol.for("react.context"),CG=Symbol.for("react.forward_ref"),EG=Symbol.for("react.suspense"),PG=Symbol.for("react.memo"),OG=Symbol.for("react.lazy"),dA=Symbol.iterator;function AG(e){return e===null||typeof e!="object"?null:(e=dA&&e[dA]||e["@@iterator"],typeof e=="function"?e:null)}var pF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mF=Object.assign,gF={};function Kf(e,t,r){this.props=e,this.context=t,this.refs=gF,this.updater=r||pF}Kf.prototype.isReactComponent={};Kf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vF(){}vF.prototype=Kf.prototype;function sC(e,t,r){this.props=e,this.context=t,this.refs=gF,this.updater=r||pF}var oC=sC.prototype=new vF;oC.constructor=sC;mF(oC,Kf.prototype);oC.isPureReactComponent=!0;var fA=Array.isArray,yF=Object.prototype.hasOwnProperty,lC={current:null},xF={key:!0,ref:!0,__self:!0,__source:!0};function bF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)yF.call(t,n)&&!xF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:ag,type:e,key:i,ref:s,props:a,_owner:lC.current}}function TG(e,t){return{$$typeof:ag,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cC(e){return typeof e=="object"&&e!==null&&e.$$typeof===ag}function MG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hA=/\/+/g;function Yw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?MG(""+e.key):t.toString(36)}function Xv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ag:case wG:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+Yw(s,0):n,fA(a)?(r="",e!=null&&(r=e.replace(hA,"$&/")+"/"),Xv(a,t,r,"",function(u){return u})):a!=null&&(cC(a)&&(a=TG(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(hA,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",fA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Yw(i,l);s+=Xv(i,t,r,c,a)}else if(c=AG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Yw(i,l++),s+=Xv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Vg(e,t,r){if(e==null)return e;var n=[],a=0;return Xv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function $G(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},Qv={transition:null},IG={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Qv,ReactCurrentOwner:lC};function wF(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Vg,forEach:function(e,t,r){Vg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vg(e,function(){t++}),t},toArray:function(e){return Vg(e,function(t){return t})||[]},only:function(e){if(!cC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ct.Component=Kf;ct.Fragment=_G;ct.Profiler=SG;ct.PureComponent=sC;ct.StrictMode=jG;ct.Suspense=EG;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IG;ct.act=wF;ct.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=mF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=lC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)yF.call(t,c)&&!xF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ag,type:e.type,key:a,ref:i,props:n,_owner:s}};ct.createContext=function(e){return e={$$typeof:kG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NG,_context:e},e.Consumer=e};ct.createElement=bF;ct.createFactory=function(e){var t=bF.bind(null,e);return t.type=e,t};ct.createRef=function(){return{current:null}};ct.forwardRef=function(e){return{$$typeof:CG,render:e}};ct.isValidElement=cC;ct.lazy=function(e){return{$$typeof:OG,_payload:{_status:-1,_result:e},_init:$G}};ct.memo=function(e,t){return{$$typeof:PG,type:e,compare:t===void 0?null:t}};ct.startTransition=function(e){var t=Qv.transition;Qv.transition={};try{e()}finally{Qv.transition=t}};ct.unstable_act=wF;ct.useCallback=function(e,t){return Hn.current.useCallback(e,t)};ct.useContext=function(e){return Hn.current.useContext(e)};ct.useDebugValue=function(){};ct.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};ct.useEffect=function(e,t){return Hn.current.useEffect(e,t)};ct.useId=function(){return Hn.current.useId()};ct.useImperativeHandle=function(e,t,r){return Hn.current.useImperativeHandle(e,t,r)};ct.useInsertionEffect=function(e,t){return Hn.current.useInsertionEffect(e,t)};ct.useLayoutEffect=function(e,t){return Hn.current.useLayoutEffect(e,t)};ct.useMemo=function(e,t){return Hn.current.useMemo(e,t)};ct.useReducer=function(e,t,r){return Hn.current.useReducer(e,t,r)};ct.useRef=function(e){return Hn.current.useRef(e)};ct.useState=function(e){return Hn.current.useState(e)};ct.useSyncExternalStore=function(e,t,r){return Hn.current.useSyncExternalStore(e,t,r)};ct.useTransition=function(){return Hn.current.useTransition()};ct.version="18.3.1";hF.exports=ct;var y=hF.exports;const M=kt(y),Bb=bG({__proto__:null,default:M},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RG=y,DG=Symbol.for("react.element"),LG=Symbol.for("react.fragment"),FG=Object.prototype.hasOwnProperty,BG=RG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UG={key:!0,ref:!0,__self:!0,__source:!0};function _F(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)FG.call(t,n)&&!UG.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:DG,type:e,key:i,ref:s,props:a,_owner:BG.current}}Fb.Fragment=LG;Fb.jsx=_F;Fb.jsxs=_F;fF.exports=Fb;var o=fF.exports,jF={exports:{}},$a={},SF={exports:{}},NF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var K=R.length;R.push(U);e:for(;0<K;){var re=K-1>>>1,Q=R[re];if(0<a(Q,U))R[re]=U,R[K]=Q,K=re;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],K=R.pop();if(K!==U){R[0]=K;e:for(var re=0,Q=R.length,j=Q>>>1;re<j;){var P=2*(re+1)-1,E=R[P],B=P+1,D=R[B];if(0>a(E,K))B<Q&&0>a(D,E)?(R[re]=D,R[B]=K,re=B):(R[re]=E,R[P]=K,re=P);else if(B<Q&&0>a(D,K))R[re]=D,R[B]=K,re=B;else break e}}return U}function a(R,U){var K=R.sortIndex-U.sortIndex;return K!==0?K:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function _(R){if(m=!1,w(R),!g)if(r(c)!==null)g=!0,V(S);else{var U=r(u);U!==null&&z(_,U.startTime-R)}}function S(R,U){g=!1,m&&(m=!1,b(C),C=-1),p=!0;var K=h;try{for(w(U),f=r(c);f!==null&&(!(f.expirationTime>U)||R&&!I());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var Q=re(f.expirationTime<=U);U=e.unstable_now(),typeof Q=="function"?f.callback=Q:f===r(c)&&n(c),w(U)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var P=r(u);P!==null&&z(_,P.startTime-U),j=!1}return j}finally{f=null,h=K,p=!1}}var N=!1,k=null,C=-1,A=5,T=-1;function I(){return!(e.unstable_now()-T<A)}function O(){if(k!==null){var R=e.unstable_now();T=R;var U=!0;try{U=k(!0,R)}finally{U?L():(N=!1,k=null)}}else N=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=O,L=function(){F.postMessage(null)}}else L=function(){v(O,0)};function V(R){k=R,N||(N=!0,L())}function z(R,U){C=v(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,V(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var K=h;h=U;try{return R()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=h;h=R;try{return U()}finally{h=K}},e.unstable_scheduleCallback=function(R,U,K){var re=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,R){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=K+Q,R={id:d++,callback:U,priorityLevel:R,startTime:K,expirationTime:Q,sortIndex:-1},K>re?(R.sortIndex=K,t(u,R),r(c)===null&&R===r(u)&&(m?(b(C),C=-1):m=!0,z(_,K-re))):(R.sortIndex=Q,t(c,R),g||p||(g=!0,V(S))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var U=h;return function(){var K=h;h=U;try{return R.apply(this,arguments)}finally{h=K}}}})(NF);SF.exports=NF;var zG=SF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VG=y,Ta=zG;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kF=new Set,Mp={};function fu(e,t){Gd(e,t),Gd(e+"Capture",t)}function Gd(e,t){for(Mp[e]=t,e=0;e<t.length;e++)kF.add(t[e])}var io=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c1=Object.prototype.hasOwnProperty,WG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pA={},mA={};function HG(e){return c1.call(mA,e)?!0:c1.call(pA,e)?!1:WG.test(e)?mA[e]=!0:(pA[e]=!0,!1)}function qG(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function GG(e,t,r,n){if(t===null||typeof t>"u"||qG(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qn(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var uC=/[\-:]([a-z])/g;function dC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(uC,dC);pn[t]=new qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(uC,dC);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(uC,dC);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function fC(e,t,r,n){var a=pn.hasOwnProperty(t)?pn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(GG(t,r,a,n)&&(r=null),n||a===null?HG(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bo=VG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wg=Symbol.for("react.element"),ed=Symbol.for("react.portal"),td=Symbol.for("react.fragment"),hC=Symbol.for("react.strict_mode"),u1=Symbol.for("react.profiler"),CF=Symbol.for("react.provider"),EF=Symbol.for("react.context"),pC=Symbol.for("react.forward_ref"),d1=Symbol.for("react.suspense"),f1=Symbol.for("react.suspense_list"),mC=Symbol.for("react.memo"),zo=Symbol.for("react.lazy"),PF=Symbol.for("react.offscreen"),gA=Symbol.iterator;function jh(e){return e===null||typeof e!="object"?null:(e=gA&&e[gA]||e["@@iterator"],typeof e=="function"?e:null)}var ur=Object.assign,Jw;function Jh(e){if(Jw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Jw=t&&t[1]||""}return`
`+Jw+e}var Xw=!1;function Qw(e,t){if(!e||Xw)return"";Xw=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,l=i.length-1;1<=s&&0<=l&&a[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(a[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||a[s]!==i[l]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=l);break}}}finally{Xw=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jh(e):""}function KG(e){switch(e.tag){case 5:return Jh(e.type);case 16:return Jh("Lazy");case 13:return Jh("Suspense");case 19:return Jh("SuspenseList");case 0:case 2:case 15:return e=Qw(e.type,!1),e;case 11:return e=Qw(e.type.render,!1),e;case 1:return e=Qw(e.type,!0),e;default:return""}}function h1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case td:return"Fragment";case ed:return"Portal";case u1:return"Profiler";case hC:return"StrictMode";case d1:return"Suspense";case f1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case EF:return(e.displayName||"Context")+".Consumer";case CF:return(e._context.displayName||"Context")+".Provider";case pC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mC:return t=e.displayName||null,t!==null?t:h1(e.type)||"Memo";case zo:t=e._payload,e=e._init;try{return h1(e(t))}catch{}}return null}function YG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h1(t);case 8:return t===hC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function JG(e){var t=OF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hg(e){e._valueTracker||(e._valueTracker=JG(e))}function AF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=OF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Sy(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function p1(e,t){var r=t.checked;return ur({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TF(e,t){t=t.checked,t!=null&&fC(e,"checked",t,!1)}function m1(e,t){TF(e,t);var r=jl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?g1(e,t.type,r):t.hasOwnProperty("defaultValue")&&g1(e,t.type,jl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function g1(e,t,r){(t!=="number"||Sy(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xh=Array.isArray;function _d(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function v1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return ur({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(Xh(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jl(r)}}function MF(e,t){var r=jl(t.value),n=jl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function $F(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?$F(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qg,IF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qg=qg||document.createElement("div"),qg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $p(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XG=["Webkit","ms","Moz","O"];Object.keys(lp).forEach(function(e){XG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lp[t]=lp[e]})});function RF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lp.hasOwnProperty(e)&&lp[e]?(""+t).trim():t+"px"}function DF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=RF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QG=ur({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x1(e,t){if(t){if(QG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function b1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var w1=null;function gC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _1=null,jd=null,Sd=null;function wA(e){if(e=og(e)){if(typeof _1!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=Hb(t),_1(e.stateNode,e.type,t))}}function LF(e){jd?Sd?Sd.push(e):Sd=[e]:jd=e}function FF(){if(jd){var e=jd,t=Sd;if(Sd=jd=null,wA(e),t)for(e=0;e<t.length;e++)wA(t[e])}}function BF(e,t){return e(t)}function UF(){}var Zw=!1;function zF(e,t,r){if(Zw)return e(t,r);Zw=!0;try{return BF(e,t,r)}finally{Zw=!1,(jd!==null||Sd!==null)&&(UF(),FF())}}function Ip(e,t){var r=e.stateNode;if(r===null)return null;var n=Hb(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var j1=!1;if(io)try{var Sh={};Object.defineProperty(Sh,"passive",{get:function(){j1=!0}}),window.addEventListener("test",Sh,Sh),window.removeEventListener("test",Sh,Sh)}catch{j1=!1}function ZG(e,t,r,n,a,i,s,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var cp=!1,Ny=null,ky=!1,S1=null,eK={onError:function(e){cp=!0,Ny=e}};function tK(e,t,r,n,a,i,s,l,c){cp=!1,Ny=null,ZG.apply(eK,arguments)}function rK(e,t,r,n,a,i,s,l,c){if(tK.apply(this,arguments),cp){if(cp){var u=Ny;cp=!1,Ny=null}else throw Error(pe(198));ky||(ky=!0,S1=u)}}function hu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function VF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _A(e){if(hu(e)!==e)throw Error(pe(188))}function nK(e){var t=e.alternate;if(!t){if(t=hu(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return _A(a),e;if(i===n)return _A(a),t;i=i.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function WF(e){return e=nK(e),e!==null?HF(e):null}function HF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=HF(e);if(t!==null)return t;e=e.sibling}return null}var qF=Ta.unstable_scheduleCallback,jA=Ta.unstable_cancelCallback,aK=Ta.unstable_shouldYield,iK=Ta.unstable_requestPaint,xr=Ta.unstable_now,sK=Ta.unstable_getCurrentPriorityLevel,vC=Ta.unstable_ImmediatePriority,GF=Ta.unstable_UserBlockingPriority,Cy=Ta.unstable_NormalPriority,oK=Ta.unstable_LowPriority,KF=Ta.unstable_IdlePriority,Ub=null,ps=null;function lK(e){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(Ub,e,void 0,(e.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:dK,cK=Math.log,uK=Math.LN2;function dK(e){return e>>>=0,e===0?32:31-(cK(e)/uK|0)|0}var Gg=64,Kg=4194304;function Qh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ey(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~a;l!==0?n=Qh(l):(i&=s,i!==0&&(n=Qh(i)))}else s=r&~a,s!==0?n=Qh(s):i!==0&&(n=Qh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ii(t),a=1<<r,n|=e[r],t&=~a;return n}function fK(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ii(i),l=1<<s,c=a[s];c===-1?(!(l&r)||l&n)&&(a[s]=fK(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function N1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function YF(){var e=Gg;return Gg<<=1,!(Gg&4194240)&&(Gg=64),e}function e_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ig(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ii(t),e[t]=r}function pK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ii(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function yC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ii(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pt=0;function JF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XF,xC,QF,ZF,e3,k1=!1,Yg=[],ul=null,dl=null,fl=null,Rp=new Map,Dp=new Map,Ko=[],mK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SA(e,t){switch(e){case"focusin":case"focusout":ul=null;break;case"dragenter":case"dragleave":dl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":Rp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dp.delete(t.pointerId)}}function Nh(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=og(t),t!==null&&xC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gK(e,t,r,n,a){switch(t){case"focusin":return ul=Nh(ul,e,t,r,n,a),!0;case"dragenter":return dl=Nh(dl,e,t,r,n,a),!0;case"mouseover":return fl=Nh(fl,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Rp.set(i,Nh(Rp.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Dp.set(i,Nh(Dp.get(i)||null,e,t,r,n,a)),!0}return!1}function t3(e){var t=gc(e.target);if(t!==null){var r=hu(t);if(r!==null){if(t=r.tag,t===13){if(t=VF(r),t!==null){e.blockedOn=t,e3(e.priority,function(){QF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);w1=n,r.target.dispatchEvent(n),w1=null}else return t=og(r),t!==null&&xC(t),e.blockedOn=r,!1;t.shift()}return!0}function NA(e,t,r){Zv(e)&&r.delete(t)}function vK(){k1=!1,ul!==null&&Zv(ul)&&(ul=null),dl!==null&&Zv(dl)&&(dl=null),fl!==null&&Zv(fl)&&(fl=null),Rp.forEach(NA),Dp.forEach(NA)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,k1||(k1=!0,Ta.unstable_scheduleCallback(Ta.unstable_NormalPriority,vK)))}function Lp(e){function t(a){return kh(a,e)}if(0<Yg.length){kh(Yg[0],e);for(var r=1;r<Yg.length;r++){var n=Yg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ul!==null&&kh(ul,e),dl!==null&&kh(dl,e),fl!==null&&kh(fl,e),Rp.forEach(t),Dp.forEach(t),r=0;r<Ko.length;r++)n=Ko[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ko.length&&(r=Ko[0],r.blockedOn===null);)t3(r),r.blockedOn===null&&Ko.shift()}var Nd=bo.ReactCurrentBatchConfig,Py=!0;function yK(e,t,r,n){var a=Pt,i=Nd.transition;Nd.transition=null;try{Pt=1,bC(e,t,r,n)}finally{Pt=a,Nd.transition=i}}function xK(e,t,r,n){var a=Pt,i=Nd.transition;Nd.transition=null;try{Pt=4,bC(e,t,r,n)}finally{Pt=a,Nd.transition=i}}function bC(e,t,r,n){if(Py){var a=C1(e,t,r,n);if(a===null)u_(e,t,n,Oy,r),SA(e,n);else if(gK(a,e,t,r,n))n.stopPropagation();else if(SA(e,n),t&4&&-1<mK.indexOf(e)){for(;a!==null;){var i=og(a);if(i!==null&&XF(i),i=C1(e,t,r,n),i===null&&u_(e,t,n,Oy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else u_(e,t,n,null,r)}}var Oy=null;function C1(e,t,r,n){if(Oy=null,e=gC(n),e=gc(e),e!==null)if(t=hu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=VF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oy=e,null}function r3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sK()){case vC:return 1;case GF:return 4;case Cy:case oK:return 16;case KF:return 536870912;default:return 16}default:return 16}}var al=null,wC=null,ey=null;function n3(){if(ey)return ey;var e,t=wC,r=t.length,n,a="value"in al?al.value:al.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return ey=a.slice(e,1<n?1-n:void 0)}function ty(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Jg(){return!0}function kA(){return!1}function Ia(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jg:kA,this.isPropagationStopped=kA,this}return ur(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jg)},persist:function(){},isPersistent:Jg}),t}var Yf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_C=Ia(Yf),sg=ur({},Yf,{view:0,detail:0}),bK=Ia(sg),t_,r_,Ch,zb=ur({},sg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ch&&(Ch&&e.type==="mousemove"?(t_=e.screenX-Ch.screenX,r_=e.screenY-Ch.screenY):r_=t_=0,Ch=e),t_)},movementY:function(e){return"movementY"in e?e.movementY:r_}}),CA=Ia(zb),wK=ur({},zb,{dataTransfer:0}),_K=Ia(wK),jK=ur({},sg,{relatedTarget:0}),n_=Ia(jK),SK=ur({},Yf,{animationName:0,elapsedTime:0,pseudoElement:0}),NK=Ia(SK),kK=ur({},Yf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CK=Ia(kK),EK=ur({},Yf,{data:0}),EA=Ia(EK),PK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TK(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AK[e])?!!t[e]:!1}function jC(){return TK}var MK=ur({},sg,{key:function(e){if(e.key){var t=PK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ty(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jC,charCode:function(e){return e.type==="keypress"?ty(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ty(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$K=Ia(MK),IK=ur({},zb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PA=Ia(IK),RK=ur({},sg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jC}),DK=Ia(RK),LK=ur({},Yf,{propertyName:0,elapsedTime:0,pseudoElement:0}),FK=Ia(LK),BK=ur({},zb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UK=Ia(BK),zK=[9,13,27,32],SC=io&&"CompositionEvent"in window,up=null;io&&"documentMode"in document&&(up=document.documentMode);var VK=io&&"TextEvent"in window&&!up,a3=io&&(!SC||up&&8<up&&11>=up),OA=" ",AA=!1;function i3(e,t){switch(e){case"keyup":return zK.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rd=!1;function WK(e,t){switch(e){case"compositionend":return s3(t);case"keypress":return t.which!==32?null:(AA=!0,OA);case"textInput":return e=t.data,e===OA&&AA?null:e;default:return null}}function HK(e,t){if(rd)return e==="compositionend"||!SC&&i3(e,t)?(e=n3(),ey=wC=al=null,rd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return a3&&t.locale!=="ko"?null:t.data;default:return null}}var qK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qK[e.type]:t==="textarea"}function o3(e,t,r,n){LF(n),t=Ay(t,"onChange"),0<t.length&&(r=new _C("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dp=null,Fp=null;function GK(e){y3(e,0)}function Vb(e){var t=id(e);if(AF(t))return e}function KK(e,t){if(e==="change")return t}var l3=!1;if(io){var a_;if(io){var i_="oninput"in document;if(!i_){var MA=document.createElement("div");MA.setAttribute("oninput","return;"),i_=typeof MA.oninput=="function"}a_=i_}else a_=!1;l3=a_&&(!document.documentMode||9<document.documentMode)}function $A(){dp&&(dp.detachEvent("onpropertychange",c3),Fp=dp=null)}function c3(e){if(e.propertyName==="value"&&Vb(Fp)){var t=[];o3(t,Fp,e,gC(e)),zF(GK,t)}}function YK(e,t,r){e==="focusin"?($A(),dp=t,Fp=r,dp.attachEvent("onpropertychange",c3)):e==="focusout"&&$A()}function JK(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vb(Fp)}function XK(e,t){if(e==="click")return Vb(t)}function QK(e,t){if(e==="input"||e==="change")return Vb(t)}function ZK(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ui=typeof Object.is=="function"?Object.is:ZK;function Bp(e,t){if(Ui(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!c1.call(t,a)||!Ui(e[a],t[a]))return!1}return!0}function IA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RA(e,t){var r=IA(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IA(r)}}function u3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d3(){for(var e=window,t=Sy();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Sy(e.document)}return t}function NC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function eY(e){var t=d3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&u3(r.ownerDocument.documentElement,r)){if(n!==null&&NC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=RA(r,i);var s=RA(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tY=io&&"documentMode"in document&&11>=document.documentMode,nd=null,E1=null,fp=null,P1=!1;function DA(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;P1||nd==null||nd!==Sy(n)||(n=nd,"selectionStart"in n&&NC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fp&&Bp(fp,n)||(fp=n,n=Ay(E1,"onSelect"),0<n.length&&(t=new _C("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nd)))}function Xg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ad={animationend:Xg("Animation","AnimationEnd"),animationiteration:Xg("Animation","AnimationIteration"),animationstart:Xg("Animation","AnimationStart"),transitionend:Xg("Transition","TransitionEnd")},s_={},f3={};io&&(f3=document.createElement("div").style,"AnimationEvent"in window||(delete ad.animationend.animation,delete ad.animationiteration.animation,delete ad.animationstart.animation),"TransitionEvent"in window||delete ad.transitionend.transition);function Wb(e){if(s_[e])return s_[e];if(!ad[e])return e;var t=ad[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in f3)return s_[e]=t[r];return e}var h3=Wb("animationend"),p3=Wb("animationiteration"),m3=Wb("animationstart"),g3=Wb("transitionend"),v3=new Map,LA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tl(e,t){v3.set(e,t),fu(t,[e])}for(var o_=0;o_<LA.length;o_++){var l_=LA[o_],rY=l_.toLowerCase(),nY=l_[0].toUpperCase()+l_.slice(1);Tl(rY,"on"+nY)}Tl(h3,"onAnimationEnd");Tl(p3,"onAnimationIteration");Tl(m3,"onAnimationStart");Tl("dblclick","onDoubleClick");Tl("focusin","onFocus");Tl("focusout","onBlur");Tl(g3,"onTransitionEnd");Gd("onMouseEnter",["mouseout","mouseover"]);Gd("onMouseLeave",["mouseout","mouseover"]);Gd("onPointerEnter",["pointerout","pointerover"]);Gd("onPointerLeave",["pointerout","pointerover"]);fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aY=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zh));function FA(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,rK(n,t,void 0,e),e.currentTarget=null}function y3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;FA(a,l,u),i=c}else for(s=0;s<n.length;s++){if(l=n[s],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;FA(a,l,u),i=c}}}if(ky)throw e=S1,ky=!1,S1=null,e}function Gt(e,t){var r=t[$1];r===void 0&&(r=t[$1]=new Set);var n=e+"__bubble";r.has(n)||(x3(t,e,2,!1),r.add(n))}function c_(e,t,r){var n=0;t&&(n|=4),x3(r,e,n,t)}var Qg="_reactListening"+Math.random().toString(36).slice(2);function Up(e){if(!e[Qg]){e[Qg]=!0,kF.forEach(function(r){r!=="selectionchange"&&(aY.has(r)||c_(r,!1,e),c_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qg]||(t[Qg]=!0,c_("selectionchange",!1,t))}}function x3(e,t,r,n){switch(r3(t)){case 1:var a=yK;break;case 4:a=xK;break;default:a=bC}r=a.bind(null,t,r,e),a=void 0,!j1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function u_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;l!==null;){if(s=gc(l),s===null)return;if(c=s.tag,c===5||c===6){n=i=s;continue e}l=l.parentNode}}n=n.return}zF(function(){var u=i,d=gC(r),f=[];e:{var h=v3.get(e);if(h!==void 0){var p=_C,g=e;switch(e){case"keypress":if(ty(r)===0)break e;case"keydown":case"keyup":p=$K;break;case"focusin":g="focus",p=n_;break;case"focusout":g="blur",p=n_;break;case"beforeblur":case"afterblur":p=n_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_K;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DK;break;case h3:case p3:case m3:p=NK;break;case g3:p=FK;break;case"scroll":p=bK;break;case"wheel":p=UK;break;case"copy":case"cut":case"paste":p=CK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=PA}var m=(t&4)!==0,v=!m&&e==="scroll",b=m?h!==null?h+"Capture":null:h;m=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Ip(x,b),_!=null&&m.push(zp(x,_,w)))),v)break;x=x.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==w1&&(g=r.relatedTarget||r.fromElement)&&(gc(g)||g[so]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?gc(g):null,g!==null&&(v=hu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=CA,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(m=PA,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=p==null?h:id(p),w=g==null?h:id(g),h=new m(_,x+"leave",p,r,d),h.target=v,h.relatedTarget=w,_=null,gc(d)===u&&(m=new m(b,x+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,b=g,x=0,w=m;w;w=Ou(w))x++;for(w=0,_=b;_;_=Ou(_))w++;for(;0<x-w;)m=Ou(m),x--;for(;0<w-x;)b=Ou(b),w--;for(;x--;){if(m===b||b!==null&&m===b.alternate)break t;m=Ou(m),b=Ou(b)}m=null}else m=null;p!==null&&BA(f,h,p,m,!1),g!==null&&v!==null&&BA(f,v,g,m,!0)}}e:{if(h=u?id(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=KK;else if(TA(h))if(l3)S=QK;else{S=JK;var N=YK}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=XK);if(S&&(S=S(e,u))){o3(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&g1(h,"number",h.value)}switch(N=u?id(u):window,e){case"focusin":(TA(N)||N.contentEditable==="true")&&(nd=N,E1=u,fp=null);break;case"focusout":fp=E1=nd=null;break;case"mousedown":P1=!0;break;case"contextmenu":case"mouseup":case"dragend":P1=!1,DA(f,r,d);break;case"selectionchange":if(tY)break;case"keydown":case"keyup":DA(f,r,d)}var k;if(SC)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else rd?i3(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(a3&&r.locale!=="ko"&&(rd||C!=="onCompositionStart"?C==="onCompositionEnd"&&rd&&(k=n3()):(al=d,wC="value"in al?al.value:al.textContent,rd=!0)),N=Ay(u,C),0<N.length&&(C=new EA(C,e,null,r,d),f.push({event:C,listeners:N}),k?C.data=k:(k=s3(r),k!==null&&(C.data=k)))),(k=VK?WK(e,r):HK(e,r))&&(u=Ay(u,"onBeforeInput"),0<u.length&&(d=new EA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}y3(f,t)})}function zp(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ay(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Ip(e,r),i!=null&&n.unshift(zp(e,i,a)),i=Ip(e,t),i!=null&&n.push(zp(e,i,a))),e=e.return}return n}function Ou(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function BA(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Ip(r,i),c!=null&&s.unshift(zp(r,c,l))):a||(c=Ip(r,i),c!=null&&s.push(zp(r,c,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var iY=/\r\n?/g,sY=/\u0000|\uFFFD/g;function UA(e){return(typeof e=="string"?e:""+e).replace(iY,`
`).replace(sY,"")}function Zg(e,t,r){if(t=UA(t),UA(e)!==t&&r)throw Error(pe(425))}function Ty(){}var O1=null,A1=null;function T1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M1=typeof setTimeout=="function"?setTimeout:void 0,oY=typeof clearTimeout=="function"?clearTimeout:void 0,zA=typeof Promise=="function"?Promise:void 0,lY=typeof queueMicrotask=="function"?queueMicrotask:typeof zA<"u"?function(e){return zA.resolve(null).then(e).catch(cY)}:M1;function cY(e){setTimeout(function(){throw e})}function d_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Lp(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Lp(t)}function hl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function VA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Jf=Math.random().toString(36).slice(2),os="__reactFiber$"+Jf,Vp="__reactProps$"+Jf,so="__reactContainer$"+Jf,$1="__reactEvents$"+Jf,uY="__reactListeners$"+Jf,dY="__reactHandles$"+Jf;function gc(e){var t=e[os];if(t)return t;for(var r=e.parentNode;r;){if(t=r[so]||r[os]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=VA(e);e!==null;){if(r=e[os])return r;e=VA(e)}return t}e=r,r=e.parentNode}return null}function og(e){return e=e[os]||e[so],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function id(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function Hb(e){return e[Vp]||null}var I1=[],sd=-1;function Ml(e){return{current:e}}function Qt(e){0>sd||(e.current=I1[sd],I1[sd]=null,sd--)}function Ut(e,t){sd++,I1[sd]=e.current,e.current=t}var Sl={},Cn=Ml(Sl),ra=Ml(!1),Vc=Sl;function Kd(e,t){var r=e.type.contextTypes;if(!r)return Sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function na(e){return e=e.childContextTypes,e!=null}function My(){Qt(ra),Qt(Cn)}function WA(e,t,r){if(Cn.current!==Sl)throw Error(pe(168));Ut(Cn,t),Ut(ra,r)}function b3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pe(108,YG(e)||"Unknown",a));return ur({},r,n)}function $y(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sl,Vc=Cn.current,Ut(Cn,e),Ut(ra,ra.current),!0}function HA(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=b3(e,t,Vc),n.__reactInternalMemoizedMergedChildContext=e,Qt(ra),Qt(Cn),Ut(Cn,e)):Qt(ra),Ut(ra,r)}var Ws=null,qb=!1,f_=!1;function w3(e){Ws===null?Ws=[e]:Ws.push(e)}function fY(e){qb=!0,w3(e)}function $l(){if(!f_&&Ws!==null){f_=!0;var e=0,t=Pt;try{var r=Ws;for(Pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ws=null,qb=!1}catch(a){throw Ws!==null&&(Ws=Ws.slice(e+1)),qF(vC,$l),a}finally{Pt=t,f_=!1}}return null}var od=[],ld=0,Iy=null,Ry=0,Va=[],Wa=0,Wc=null,Gs=1,Ks="";function ic(e,t){od[ld++]=Ry,od[ld++]=Iy,Iy=e,Ry=t}function _3(e,t,r){Va[Wa++]=Gs,Va[Wa++]=Ks,Va[Wa++]=Wc,Wc=e;var n=Gs;e=Ks;var a=32-Ii(n)-1;n&=~(1<<a),r+=1;var i=32-Ii(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gs=1<<32-Ii(t)+a|r<<a|n,Ks=i+e}else Gs=1<<i|r<<a|n,Ks=e}function kC(e){e.return!==null&&(ic(e,1),_3(e,1,0))}function CC(e){for(;e===Iy;)Iy=od[--ld],od[ld]=null,Ry=od[--ld],od[ld]=null;for(;e===Wc;)Wc=Va[--Wa],Va[Wa]=null,Ks=Va[--Wa],Va[Wa]=null,Gs=Va[--Wa],Va[Wa]=null}var Ea=null,ka=null,tr=!1,Ai=null;function j3(e,t){var r=Ga(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qA(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ea=e,ka=hl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ea=e,ka=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wc!==null?{id:Gs,overflow:Ks}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ga(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ea=e,ka=null,!0):!1;default:return!1}}function R1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D1(e){if(tr){var t=ka;if(t){var r=t;if(!qA(e,t)){if(R1(e))throw Error(pe(418));t=hl(r.nextSibling);var n=Ea;t&&qA(e,t)?j3(n,r):(e.flags=e.flags&-4097|2,tr=!1,Ea=e)}}else{if(R1(e))throw Error(pe(418));e.flags=e.flags&-4097|2,tr=!1,Ea=e}}}function GA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ea=e}function ev(e){if(e!==Ea)return!1;if(!tr)return GA(e),tr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!T1(e.type,e.memoizedProps)),t&&(t=ka)){if(R1(e))throw S3(),Error(pe(418));for(;t;)j3(e,t),t=hl(t.nextSibling)}if(GA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ka=hl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ka=null}}else ka=Ea?hl(e.stateNode.nextSibling):null;return!0}function S3(){for(var e=ka;e;)e=hl(e.nextSibling)}function Yd(){ka=Ea=null,tr=!1}function EC(e){Ai===null?Ai=[e]:Ai.push(e)}var hY=bo.ReactCurrentBatchConfig;function Eh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=a.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function tv(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function KA(e){var t=e._init;return t(e._payload)}function N3(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=vl(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=x_(w,b.mode,_),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,_){var S=w.type;return S===td?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zo&&KA(S)===x.type)?(_=a(x,w.props),_.ref=Eh(b,x,w),_.return=b,_):(_=ly(w.type,w.key,w.props,null,b.mode,_),_.ref=Eh(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=b_(w,b.mode,_),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,S){return x===null||x.tag!==7?(x=$c(w,b.mode,_,S),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=x_(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wg:return w=ly(x.type,x.key,x.props,null,b.mode,w),w.ref=Eh(b,null,x),w.return=b,w;case ed:return x=b_(x,b.mode,w),x.return=b,x;case zo:var _=x._init;return f(b,_(x._payload),w)}if(Xh(x)||jh(x))return x=$c(x,b.mode,w,null),x.return=b,x;tv(b,x)}return null}function h(b,x,w,_){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wg:return w.key===S?c(b,x,w,_):null;case ed:return w.key===S?u(b,x,w,_):null;case zo:return S=w._init,h(b,x,S(w._payload),_)}if(Xh(w)||jh(w))return S!==null?null:d(b,x,w,_,null);tv(b,w)}return null}function p(b,x,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wg:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,S);case ed:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,S);case zo:var N=_._init;return p(b,x,w,N(_._payload),S)}if(Xh(_)||jh(_))return b=b.get(w)||null,d(x,b,_,S,null);tv(x,_)}return null}function g(b,x,w,_){for(var S=null,N=null,k=x,C=x=0,A=null;k!==null&&C<w.length;C++){k.index>C?(A=k,k=null):A=k.sibling;var T=h(b,k,w[C],_);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(b,k),x=i(T,x,C),N===null?S=T:N.sibling=T,N=T,k=A}if(C===w.length)return r(b,k),tr&&ic(b,C),S;if(k===null){for(;C<w.length;C++)k=f(b,w[C],_),k!==null&&(x=i(k,x,C),N===null?S=k:N.sibling=k,N=k);return tr&&ic(b,C),S}for(k=n(b,k);C<w.length;C++)A=p(k,b,C,w[C],_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?C:A.key),x=i(A,x,C),N===null?S=A:N.sibling=A,N=A);return e&&k.forEach(function(I){return t(b,I)}),tr&&ic(b,C),S}function m(b,x,w,_){var S=jh(w);if(typeof S!="function")throw Error(pe(150));if(w=S.call(w),w==null)throw Error(pe(151));for(var N=S=null,k=x,C=x=0,A=null,T=w.next();k!==null&&!T.done;C++,T=w.next()){k.index>C?(A=k,k=null):A=k.sibling;var I=h(b,k,T.value,_);if(I===null){k===null&&(k=A);break}e&&k&&I.alternate===null&&t(b,k),x=i(I,x,C),N===null?S=I:N.sibling=I,N=I,k=A}if(T.done)return r(b,k),tr&&ic(b,C),S;if(k===null){for(;!T.done;C++,T=w.next())T=f(b,T.value,_),T!==null&&(x=i(T,x,C),N===null?S=T:N.sibling=T,N=T);return tr&&ic(b,C),S}for(k=n(b,k);!T.done;C++,T=w.next())T=p(k,b,C,T.value,_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?C:T.key),x=i(T,x,C),N===null?S=T:N.sibling=T,N=T);return e&&k.forEach(function(O){return t(b,O)}),tr&&ic(b,C),S}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===td&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wg:e:{for(var S=w.key,N=x;N!==null;){if(N.key===S){if(S=w.type,S===td){if(N.tag===7){r(b,N.sibling),x=a(N,w.props.children),x.return=b,b=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===zo&&KA(S)===N.type){r(b,N.sibling),x=a(N,w.props),x.ref=Eh(b,N,w),x.return=b,b=x;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===td?(x=$c(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=ly(w.type,w.key,w.props,null,b.mode,_),_.ref=Eh(b,x,w),_.return=b,b=_)}return s(b);case ed:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=b_(w,b.mode,_),x.return=b,b=x}return s(b);case zo:return N=w._init,v(b,x,N(w._payload),_)}if(Xh(w))return g(b,x,w,_);if(jh(w))return m(b,x,w,_);tv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=x_(w,b.mode,_),x.return=b,b=x),s(b)):r(b,x)}return v}var Jd=N3(!0),k3=N3(!1),Dy=Ml(null),Ly=null,cd=null,PC=null;function OC(){PC=cd=Ly=null}function AC(e){var t=Dy.current;Qt(Dy),e._currentValue=t}function L1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function kd(e,t){Ly=e,PC=cd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zn=!0),e.firstContext=null)}function ni(e){var t=e._currentValue;if(PC!==e)if(e={context:e,memoizedValue:t,next:null},cd===null){if(Ly===null)throw Error(pe(308));cd=e,Ly.dependencies={lanes:0,firstContext:e}}else cd=cd.next=e;return t}var vc=null;function TC(e){vc===null?vc=[e]:vc.push(e)}function C3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,TC(t)):(r.next=a.next,a.next=r),t.interleaved=r,oo(e,n)}function oo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vo=!1;function MC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oo(e,r)}return a=n.interleaved,a===null?(t.next=t,TC(n)):(t.next=a.next,a.next=t),n.interleaved=t,oo(e,r)}function ry(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yC(e,r)}}function YA(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fy(e,t,r,n){var a=e.updateQueue;Vo=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;s=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=ur({},f,h);break e;case 2:Vo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,s|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);qc|=s,e.lanes=s,e.memoizedState=f}}function JA(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var lg={},ms=Ml(lg),Wp=Ml(lg),Hp=Ml(lg);function yc(e){if(e===lg)throw Error(pe(174));return e}function $C(e,t){switch(Ut(Hp,t),Ut(Wp,e),Ut(ms,lg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:y1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=y1(t,e)}Qt(ms),Ut(ms,t)}function Xd(){Qt(ms),Qt(Wp),Qt(Hp)}function P3(e){yc(Hp.current);var t=yc(ms.current),r=y1(t,e.type);t!==r&&(Ut(Wp,e),Ut(ms,r))}function IC(e){Wp.current===e&&(Qt(ms),Qt(Wp))}var or=Ml(0);function By(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var h_=[];function RC(){for(var e=0;e<h_.length;e++)h_[e]._workInProgressVersionPrimary=null;h_.length=0}var ny=bo.ReactCurrentDispatcher,p_=bo.ReactCurrentBatchConfig,Hc=0,cr=null,Dr=null,Jr=null,Uy=!1,hp=!1,qp=0,pY=0;function vn(){throw Error(pe(321))}function DC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ui(e[r],t[r]))return!1;return!0}function LC(e,t,r,n,a,i){if(Hc=i,cr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ny.current=e===null||e.memoizedState===null?yY:xY,e=r(n,a),hp){i=0;do{if(hp=!1,qp=0,25<=i)throw Error(pe(301));i+=1,Jr=Dr=null,t.updateQueue=null,ny.current=bY,e=r(n,a)}while(hp)}if(ny.current=zy,t=Dr!==null&&Dr.next!==null,Hc=0,Jr=Dr=cr=null,Uy=!1,t)throw Error(pe(300));return e}function FC(){var e=qp!==0;return qp=0,e}function es(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?cr.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function ai(){if(Dr===null){var e=cr.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Jr===null?cr.memoizedState:Jr.next;if(t!==null)Jr=t,Dr=e;else{if(e===null)throw Error(pe(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Jr===null?cr.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function Gp(e,t){return typeof t=="function"?t(e):t}function m_(e){var t=ai(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=Dr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=s=null,c=null,u=i;do{var d=u.lane;if((Hc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,s=n):c=c.next=f,cr.lanes|=d,qc|=d}u=u.next}while(u!==null&&u!==i);c===null?s=n:c.next=l,Ui(n,t.memoizedState)||(Zn=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,cr.lanes|=i,qc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function g_(e){var t=ai(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Ui(i,t.memoizedState)||(Zn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function O3(){}function A3(e,t){var r=cr,n=ai(),a=t(),i=!Ui(n.memoizedState,a);if(i&&(n.memoizedState=a,Zn=!0),n=n.queue,BC($3.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Jr!==null&&Jr.memoizedState.tag&1){if(r.flags|=2048,Kp(9,M3.bind(null,r,n,a,t),void 0,null),en===null)throw Error(pe(349));Hc&30||T3(r,t,a)}return a}function T3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function M3(e,t,r,n){t.value=r,t.getSnapshot=n,I3(t)&&R3(e)}function $3(e,t,r){return r(function(){I3(t)&&R3(e)})}function I3(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ui(e,r)}catch{return!0}}function R3(e){var t=oo(e,1);t!==null&&Ri(t,e,1,-1)}function XA(e){var t=es();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:e},t.queue=e,e=e.dispatch=vY.bind(null,cr,e),[t.memoizedState,e]}function Kp(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=cr.updateQueue,t===null?(t={lastEffect:null,stores:null},cr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function D3(){return ai().memoizedState}function ay(e,t,r,n){var a=es();cr.flags|=e,a.memoizedState=Kp(1|t,r,void 0,n===void 0?null:n)}function Gb(e,t,r,n){var a=ai();n=n===void 0?null:n;var i=void 0;if(Dr!==null){var s=Dr.memoizedState;if(i=s.destroy,n!==null&&DC(n,s.deps)){a.memoizedState=Kp(t,r,i,n);return}}cr.flags|=e,a.memoizedState=Kp(1|t,r,i,n)}function QA(e,t){return ay(8390656,8,e,t)}function BC(e,t){return Gb(2048,8,e,t)}function L3(e,t){return Gb(4,2,e,t)}function F3(e,t){return Gb(4,4,e,t)}function B3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function U3(e,t,r){return r=r!=null?r.concat([e]):null,Gb(4,4,B3.bind(null,t,e),r)}function UC(){}function z3(e,t){var r=ai();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function V3(e,t){var r=ai();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&DC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function W3(e,t,r){return Hc&21?(Ui(r,t)||(r=YF(),cr.lanes|=r,qc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zn=!0),e.memoizedState=r)}function mY(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var n=p_.transition;p_.transition={};try{e(!1),t()}finally{Pt=r,p_.transition=n}}function H3(){return ai().memoizedState}function gY(e,t,r){var n=gl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q3(e))G3(t,r);else if(r=C3(e,t,r,n),r!==null){var a=Vn();Ri(r,e,n,a),K3(r,t,n)}}function vY(e,t,r){var n=gl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q3(e))G3(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(a.hasEagerState=!0,a.eagerState=l,Ui(l,s)){var c=t.interleaved;c===null?(a.next=a,TC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=C3(e,t,a,n),r!==null&&(a=Vn(),Ri(r,e,n,a),K3(r,t,n))}}function q3(e){var t=e.alternate;return e===cr||t!==null&&t===cr}function G3(e,t){hp=Uy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function K3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yC(e,r)}}var zy={readContext:ni,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},yY={readContext:ni,useCallback:function(e,t){return es().memoizedState=[e,t===void 0?null:t],e},useContext:ni,useEffect:QA,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ay(4194308,4,B3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ay(4194308,4,e,t)},useInsertionEffect:function(e,t){return ay(4,2,e,t)},useMemo:function(e,t){var r=es();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=es();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=gY.bind(null,cr,e),[n.memoizedState,e]},useRef:function(e){var t=es();return e={current:e},t.memoizedState=e},useState:XA,useDebugValue:UC,useDeferredValue:function(e){return es().memoizedState=e},useTransition:function(){var e=XA(!1),t=e[0];return e=mY.bind(null,e[1]),es().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=cr,a=es();if(tr){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),en===null)throw Error(pe(349));Hc&30||T3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,QA($3.bind(null,n,i,e),[e]),n.flags|=2048,Kp(9,M3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=es(),t=en.identifierPrefix;if(tr){var r=Ks,n=Gs;r=(n&~(1<<32-Ii(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=pY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xY={readContext:ni,useCallback:z3,useContext:ni,useEffect:BC,useImperativeHandle:U3,useInsertionEffect:L3,useLayoutEffect:F3,useMemo:V3,useReducer:m_,useRef:D3,useState:function(){return m_(Gp)},useDebugValue:UC,useDeferredValue:function(e){var t=ai();return W3(t,Dr.memoizedState,e)},useTransition:function(){var e=m_(Gp)[0],t=ai().memoizedState;return[e,t]},useMutableSource:O3,useSyncExternalStore:A3,useId:H3,unstable_isNewReconciler:!1},bY={readContext:ni,useCallback:z3,useContext:ni,useEffect:BC,useImperativeHandle:U3,useInsertionEffect:L3,useLayoutEffect:F3,useMemo:V3,useReducer:g_,useRef:D3,useState:function(){return g_(Gp)},useDebugValue:UC,useDeferredValue:function(e){var t=ai();return Dr===null?t.memoizedState=e:W3(t,Dr.memoizedState,e)},useTransition:function(){var e=g_(Gp)[0],t=ai().memoizedState;return[e,t]},useMutableSource:O3,useSyncExternalStore:A3,useId:H3,unstable_isNewReconciler:!1};function _i(e,t){if(e&&e.defaultProps){t=ur({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function F1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ur({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kb={isMounted:function(e){return(e=e._reactInternals)?hu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=gl(e),i=eo(n,a);i.payload=t,r!=null&&(i.callback=r),t=pl(e,i,a),t!==null&&(Ri(t,e,a,n),ry(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=gl(e),i=eo(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=pl(e,i,a),t!==null&&(Ri(t,e,a,n),ry(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vn(),n=gl(e),a=eo(r,n);a.tag=2,t!=null&&(a.callback=t),t=pl(e,a,n),t!==null&&(Ri(t,e,n,r),ry(t,e,n))}};function ZA(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Bp(r,n)||!Bp(a,i):!0}function Y3(e,t,r){var n=!1,a=Sl,i=t.contextType;return typeof i=="object"&&i!==null?i=ni(i):(a=na(t)?Vc:Cn.current,n=t.contextTypes,i=(n=n!=null)?Kd(e,a):Sl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kb,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function eT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kb.enqueueReplaceState(t,t.state,null)}function B1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},MC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ni(i):(i=na(t)?Vc:Cn.current,a.context=Kd(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(F1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Kb.enqueueReplaceState(a,a.state,null),Fy(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Qd(e,t){try{var r="",n=t;do r+=KG(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function v_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function U1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var wY=typeof WeakMap=="function"?WeakMap:Map;function J3(e,t,r){r=eo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wy||(Wy=!0,X1=n),U1(e,t)},r}function X3(e,t,r){r=eo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){U1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){U1(e,t),typeof n!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function tT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new wY;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=IY.bind(null,e,t,r),t.then(e,e))}function rT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=eo(-1,1),t.tag=2,pl(r,t,1))),r.lanes|=1),e)}var _Y=bo.ReactCurrentOwner,Zn=!1;function Mn(e,t,r,n){t.child=e===null?k3(t,null,r,n):Jd(t,e.child,r,n)}function aT(e,t,r,n,a){r=r.render;var i=t.ref;return kd(t,a),n=LC(e,t,r,n,i,a),r=FC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lo(e,t,a)):(tr&&r&&kC(t),t.flags|=1,Mn(e,t,n,a),t.child)}function iT(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!YC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Q3(e,t,i,n,a)):(e=ly(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Bp,r(s,n)&&e.ref===t.ref)return lo(e,t,a)}return t.flags|=1,e=vl(i,n),e.ref=t.ref,e.return=t,t.child=e}function Q3(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Bp(i,n)&&e.ref===t.ref)if(Zn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Zn=!0);else return t.lanes=e.lanes,lo(e,t,a)}return z1(e,t,r,n,a)}function Z3(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ut(dd,va),va|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ut(dd,va),va|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Ut(dd,va),va|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Ut(dd,va),va|=n;return Mn(e,t,a,r),t.child}function e5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function z1(e,t,r,n,a){var i=na(r)?Vc:Cn.current;return i=Kd(t,i),kd(t,a),r=LC(e,t,r,n,i,a),n=FC(),e!==null&&!Zn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lo(e,t,a)):(tr&&n&&kC(t),t.flags|=1,Mn(e,t,r,a),t.child)}function sT(e,t,r,n,a){if(na(r)){var i=!0;$y(t)}else i=!1;if(kd(t,a),t.stateNode===null)iy(e,t),Y3(t,r,n),B1(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var c=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=na(r)?Vc:Cn.current,u=Kd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||c!==u)&&eT(t,s,n,u),Vo=!1;var h=t.memoizedState;s.state=h,Fy(t,n,s,a),c=t.memoizedState,l!==n||h!==c||ra.current||Vo?(typeof d=="function"&&(F1(t,r,d,n),c=t.memoizedState),(l=Vo||ZA(t,r,l,n,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,E3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:_i(t.type,l),s.props=u,f=t.pendingProps,h=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=ni(c):(c=na(r)?Vc:Cn.current,c=Kd(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||h!==c)&&eT(t,s,n,c),Vo=!1,h=t.memoizedState,s.state=h,Fy(t,n,s,a);var g=t.memoizedState;l!==f||h!==g||ra.current||Vo?(typeof p=="function"&&(F1(t,r,p,n),g=t.memoizedState),(u=Vo||ZA(t,r,u,n,h,g,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=c,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return V1(e,t,r,n,i,a)}function V1(e,t,r,n,a,i){e5(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&HA(t,r,!1),lo(e,t,i);n=t.stateNode,_Y.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Jd(t,e.child,null,i),t.child=Jd(t,null,l,i)):Mn(e,t,l,i),t.memoizedState=n.state,a&&HA(t,r,!0),t.child}function t5(e){var t=e.stateNode;t.pendingContext?WA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&WA(e,t.context,!1),$C(e,t.containerInfo)}function oT(e,t,r,n,a){return Yd(),EC(a),t.flags|=256,Mn(e,t,r,n),t.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function H1(e){return{baseLanes:e,cachePool:null,transitions:null}}function r5(e,t,r){var n=t.pendingProps,a=or.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ut(or,a&1),e===null)return D1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Xb(s,n,0,null),e=$c(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=H1(r),t.memoizedState=W1,e):zC(t,s));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return jY(e,t,s,n,l,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=vl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=vl(l,i):(i=$c(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?H1(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=W1,n}return i=e.child,e=i.sibling,n=vl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function zC(e,t){return t=Xb({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rv(e,t,r,n){return n!==null&&EC(n),Jd(t,e.child,null,r),e=zC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jY(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=v_(Error(pe(422))),rv(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Xb({mode:"visible",children:n.children},a,0,null),i=$c(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Jd(t,e.child,null,s),t.child.memoizedState=H1(s),t.memoizedState=W1,i);if(!(t.mode&1))return rv(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(pe(419)),n=v_(i,n,void 0),rv(e,t,s,n)}if(l=(s&e.childLanes)!==0,Zn||l){if(n=en,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,oo(e,a),Ri(n,e,a,-1))}return KC(),n=v_(Error(pe(421))),rv(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=RY.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ka=hl(a.nextSibling),Ea=t,tr=!0,Ai=null,e!==null&&(Va[Wa++]=Gs,Va[Wa++]=Ks,Va[Wa++]=Wc,Gs=e.id,Ks=e.overflow,Wc=t),t=zC(t,n.children),t.flags|=4096,t)}function lT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),L1(e.return,t,r)}function y_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function n5(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mn(e,t,n.children,r),n=or.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lT(e,r,t);else if(e.tag===19)lT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ut(or,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&By(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),y_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&By(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}y_(t,!0,r,null,i);break;case"together":y_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=vl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=vl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function SY(e,t,r){switch(t.tag){case 3:t5(t),Yd();break;case 5:P3(t);break;case 1:na(t.type)&&$y(t);break;case 4:$C(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Ut(Dy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ut(or,or.current&1),t.flags|=128,null):r&t.child.childLanes?r5(e,t,r):(Ut(or,or.current&1),e=lo(e,t,r),e!==null?e.sibling:null);Ut(or,or.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return n5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ut(or,or.current),n)break;return null;case 22:case 23:return t.lanes=0,Z3(e,t,r)}return lo(e,t,r)}var a5,q1,i5,s5;a5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};q1=function(){};i5=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yc(ms.current);var i=null;switch(r){case"input":a=p1(e,a),n=p1(e,n),i=[];break;case"select":a=ur({},a,{value:void 0}),n=ur({},n,{value:void 0}),i=[];break;case"textarea":a=v1(e,a),n=v1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ty)}x1(r,n);var s;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mp.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mp.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};s5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ph(e,t){if(!tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NY(e,t,r){var n=t.pendingProps;switch(CC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(t),null;case 1:return na(t.type)&&My(),yn(t),null;case 3:return n=t.stateNode,Xd(),Qt(ra),Qt(Cn),RC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ev(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ai!==null&&(eS(Ai),Ai=null))),q1(e,t),yn(t),null;case 5:IC(t);var a=yc(Hp.current);if(r=t.type,e!==null&&t.stateNode!=null)i5(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return yn(t),null}if(e=yc(ms.current),ev(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[os]=t,n[Vp]=i,e=(t.mode&1)!==0,r){case"dialog":Gt("cancel",n),Gt("close",n);break;case"iframe":case"object":case"embed":Gt("load",n);break;case"video":case"audio":for(a=0;a<Zh.length;a++)Gt(Zh[a],n);break;case"source":Gt("error",n);break;case"img":case"image":case"link":Gt("error",n),Gt("load",n);break;case"details":Gt("toggle",n);break;case"input":vA(n,i),Gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Gt("invalid",n);break;case"textarea":xA(n,i),Gt("invalid",n)}x1(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Zg(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Zg(n.textContent,l,e),a=["children",""+l]):Mp.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Gt("scroll",n)}switch(r){case"input":Hg(n),yA(n,i,!0);break;case"textarea":Hg(n),bA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ty)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=$F(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[os]=t,e[Vp]=n,a5(e,t,!1,!1),t.stateNode=e;e:{switch(s=b1(r,n),r){case"dialog":Gt("cancel",e),Gt("close",e),a=n;break;case"iframe":case"object":case"embed":Gt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Zh.length;a++)Gt(Zh[a],e);a=n;break;case"source":Gt("error",e),a=n;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),a=n;break;case"details":Gt("toggle",e),a=n;break;case"input":vA(e,n),a=p1(e,n),Gt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ur({},n,{value:void 0}),Gt("invalid",e);break;case"textarea":xA(e,n),a=v1(e,n),Gt("invalid",e);break;default:a=n}x1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?DF(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&IF(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$p(e,c):typeof c=="number"&&$p(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mp.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Gt("scroll",e):c!=null&&fC(e,i,c,s))}switch(r){case"input":Hg(e),yA(e,n,!1);break;case"textarea":Hg(e),bA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?_d(e,!!n.multiple,i,!1):n.defaultValue!=null&&_d(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ty)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yn(t),null;case 6:if(e&&t.stateNode!=null)s5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=yc(Hp.current),yc(ms.current),ev(t)){if(n=t.stateNode,r=t.memoizedProps,n[os]=t,(i=n.nodeValue!==r)&&(e=Ea,e!==null))switch(e.tag){case 3:Zg(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zg(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[os]=t,t.stateNode=n}return yn(t),null;case 13:if(Qt(or),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tr&&ka!==null&&t.mode&1&&!(t.flags&128))S3(),Yd(),t.flags|=98560,i=!1;else if(i=ev(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(pe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(pe(317));i[os]=t}else Yd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yn(t),i=!1}else Ai!==null&&(eS(Ai),Ai=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||or.current&1?Ur===0&&(Ur=3):KC())),t.updateQueue!==null&&(t.flags|=4),yn(t),null);case 4:return Xd(),q1(e,t),e===null&&Up(t.stateNode.containerInfo),yn(t),null;case 10:return AC(t.type._context),yn(t),null;case 17:return na(t.type)&&My(),yn(t),null;case 19:if(Qt(or),i=t.memoizedState,i===null)return yn(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Ph(i,!1);else{if(Ur!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=By(e),s!==null){for(t.flags|=128,Ph(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ut(or,or.current&1|2),t.child}e=e.sibling}i.tail!==null&&xr()>Zd&&(t.flags|=128,n=!0,Ph(i,!1),t.lanes=4194304)}else{if(!n)if(e=By(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ph(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!tr)return yn(t),null}else 2*xr()-i.renderingStartTime>Zd&&r!==1073741824&&(t.flags|=128,n=!0,Ph(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xr(),t.sibling=null,r=or.current,Ut(or,n?r&1|2:r&1),t):(yn(t),null);case 22:case 23:return GC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?va&1073741824&&(yn(t),t.subtreeFlags&6&&(t.flags|=8192)):yn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function kY(e,t){switch(CC(t),t.tag){case 1:return na(t.type)&&My(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xd(),Qt(ra),Qt(Cn),RC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return IC(t),null;case 13:if(Qt(or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Yd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qt(or),null;case 4:return Xd(),null;case 10:return AC(t.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var nv=!1,_n=!1,CY=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ud(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hr(e,t,n)}else r.current=null}function G1(e,t,r){try{r()}catch(n){hr(e,t,n)}}var cT=!1;function EY(e,t){if(O1=Py,e=d3(),NC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=s+a),f!==i||n!==0&&f.nodeType!==3||(c=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=s),h===i&&++d===n&&(c=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(A1={focusedElem:e,selectionRange:r},Py=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:_i(t.type,m),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(_){hr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=cT,cT=!1,g}function pp(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&G1(t,r,i)}a=a.next}while(a!==n)}}function Yb(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function K1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o5(e){var t=e.alternate;t!==null&&(e.alternate=null,o5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[os],delete t[Vp],delete t[$1],delete t[uY],delete t[dY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l5(e){return e.tag===5||e.tag===3||e.tag===4}function uT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Y1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ty));else if(n!==4&&(e=e.child,e!==null))for(Y1(e,t,r),e=e.sibling;e!==null;)Y1(e,t,r),e=e.sibling}function J1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(J1(e,t,r),e=e.sibling;e!==null;)J1(e,t,r),e=e.sibling}var ln=null,Ci=!1;function Ao(e,t,r){for(r=r.child;r!==null;)c5(e,t,r),r=r.sibling}function c5(e,t,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(Ub,r)}catch{}switch(r.tag){case 5:_n||ud(r,t);case 6:var n=ln,a=Ci;ln=null,Ao(e,t,r),ln=n,Ci=a,ln!==null&&(Ci?(e=ln,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ln.removeChild(r.stateNode));break;case 18:ln!==null&&(Ci?(e=ln,r=r.stateNode,e.nodeType===8?d_(e.parentNode,r):e.nodeType===1&&d_(e,r),Lp(e)):d_(ln,r.stateNode));break;case 4:n=ln,a=Ci,ln=r.stateNode.containerInfo,Ci=!0,Ao(e,t,r),ln=n,Ci=a;break;case 0:case 11:case 14:case 15:if(!_n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&G1(r,t,s),a=a.next}while(a!==n)}Ao(e,t,r);break;case 1:if(!_n&&(ud(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){hr(r,t,l)}Ao(e,t,r);break;case 21:Ao(e,t,r);break;case 22:r.mode&1?(_n=(n=_n)||r.memoizedState!==null,Ao(e,t,r),_n=n):Ao(e,t,r);break;default:Ao(e,t,r)}}function dT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new CY),t.forEach(function(n){var a=DY.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function hi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ln=l.stateNode,Ci=!1;break e;case 3:ln=l.stateNode.containerInfo,Ci=!0;break e;case 4:ln=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(ln===null)throw Error(pe(160));c5(i,s,a),ln=null,Ci=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){hr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u5(t,e),t=t.sibling}function u5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hi(t,e),Zi(e),n&4){try{pp(3,e,e.return),Yb(3,e)}catch(m){hr(e,e.return,m)}try{pp(5,e,e.return)}catch(m){hr(e,e.return,m)}}break;case 1:hi(t,e),Zi(e),n&512&&r!==null&&ud(r,r.return);break;case 5:if(hi(t,e),Zi(e),n&512&&r!==null&&ud(r,r.return),e.flags&32){var a=e.stateNode;try{$p(a,"")}catch(m){hr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&TF(a,i),b1(l,s);var u=b1(l,i);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?DF(a,f):d==="dangerouslySetInnerHTML"?IF(a,f):d==="children"?$p(a,f):fC(a,d,f,u)}switch(l){case"input":m1(a,i);break;case"textarea":MF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?_d(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?_d(a,!!i.multiple,i.defaultValue,!0):_d(a,!!i.multiple,i.multiple?[]:"",!1))}a[Vp]=i}catch(m){hr(e,e.return,m)}}break;case 6:if(hi(t,e),Zi(e),n&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){hr(e,e.return,m)}}break;case 3:if(hi(t,e),Zi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lp(t.containerInfo)}catch(m){hr(e,e.return,m)}break;case 4:hi(t,e),Zi(e);break;case 13:hi(t,e),Zi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(HC=xr())),n&4&&dT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(_n=(u=_n)||d,hi(t,e),_n=u):hi(t,e),Zi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(h=Ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:pp(4,h,h.return);break;case 1:ud(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){hr(n,r,m)}}break;case 5:ud(h,h.return);break;case 22:if(h.memoizedState!==null){hT(f);continue}}p!==null?(p.return=h,Ee=p):hT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=RF("display",s))}catch(m){hr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){hr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hi(t,e),Zi(e),n&4&&dT(e);break;case 21:break;default:hi(t,e),Zi(e)}}function Zi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(l5(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($p(a,""),n.flags&=-33);var i=uT(e);J1(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,l=uT(e);Y1(e,l,s);break;default:throw Error(pe(161))}}catch(c){hr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PY(e,t,r){Ee=e,d5(e)}function d5(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||nv;if(!s){var l=a.alternate,c=l!==null&&l.memoizedState!==null||_n;l=nv;var u=_n;if(nv=s,(_n=c)&&!u)for(Ee=a;Ee!==null;)s=Ee,c=s.child,s.tag===22&&s.memoizedState!==null?pT(a):c!==null?(c.return=s,Ee=c):pT(a);for(;i!==null;)Ee=i,d5(i),i=i.sibling;Ee=a,nv=l,_n=u}fT(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ee=i):fT(e)}}function fT(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_n||Yb(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_n)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:_i(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&JA(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}JA(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}_n||t.flags&512&&K1(t)}catch(h){hr(t,t.return,h)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function hT(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function pT(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Yb(4,t)}catch(c){hr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){hr(t,a,c)}}var i=t.return;try{K1(t)}catch(c){hr(t,i,c)}break;case 5:var s=t.return;try{K1(t)}catch(c){hr(t,s,c)}}}catch(c){hr(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var OY=Math.ceil,Vy=bo.ReactCurrentDispatcher,VC=bo.ReactCurrentOwner,Ja=bo.ReactCurrentBatchConfig,vt=0,en=null,Er=null,dn=0,va=0,dd=Ml(0),Ur=0,Yp=null,qc=0,Jb=0,WC=0,mp=null,Qn=null,HC=0,Zd=1/0,Ls=null,Wy=!1,X1=null,ml=null,av=!1,il=null,Hy=0,gp=0,Q1=null,sy=-1,oy=0;function Vn(){return vt&6?xr():sy!==-1?sy:sy=xr()}function gl(e){return e.mode&1?vt&2&&dn!==0?dn&-dn:hY.transition!==null?(oy===0&&(oy=YF()),oy):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:r3(e.type)),e):1}function Ri(e,t,r,n){if(50<gp)throw gp=0,Q1=null,Error(pe(185));ig(e,r,n),(!(vt&2)||e!==en)&&(e===en&&(!(vt&2)&&(Jb|=r),Ur===4&&Yo(e,dn)),aa(e,n),r===1&&vt===0&&!(t.mode&1)&&(Zd=xr()+500,qb&&$l()))}function aa(e,t){var r=e.callbackNode;hK(e,t);var n=Ey(e,e===en?dn:0);if(n===0)r!==null&&jA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jA(r),t===1)e.tag===0?fY(mT.bind(null,e)):w3(mT.bind(null,e)),lY(function(){!(vt&6)&&$l()}),r=null;else{switch(JF(n)){case 1:r=vC;break;case 4:r=GF;break;case 16:r=Cy;break;case 536870912:r=KF;break;default:r=Cy}r=x5(r,f5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function f5(e,t){if(sy=-1,oy=0,vt&6)throw Error(pe(327));var r=e.callbackNode;if(Cd()&&e.callbackNode!==r)return null;var n=Ey(e,e===en?dn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=qy(e,n);else{t=n;var a=vt;vt|=2;var i=p5();(en!==e||dn!==t)&&(Ls=null,Zd=xr()+500,Mc(e,t));do try{MY();break}catch(l){h5(e,l)}while(!0);OC(),Vy.current=i,vt=a,Er!==null?t=0:(en=null,dn=0,t=Ur)}if(t!==0){if(t===2&&(a=N1(e),a!==0&&(n=a,t=Z1(e,a))),t===1)throw r=Yp,Mc(e,0),Yo(e,n),aa(e,xr()),r;if(t===6)Yo(e,n);else{if(a=e.current.alternate,!(n&30)&&!AY(a)&&(t=qy(e,n),t===2&&(i=N1(e),i!==0&&(n=i,t=Z1(e,i))),t===1))throw r=Yp,Mc(e,0),Yo(e,n),aa(e,xr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:sc(e,Qn,Ls);break;case 3:if(Yo(e,n),(n&130023424)===n&&(t=HC+500-xr(),10<t)){if(Ey(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=M1(sc.bind(null,e,Qn,Ls),t);break}sc(e,Qn,Ls);break;case 4:if(Yo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Ii(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OY(n/1960))-n,10<n){e.timeoutHandle=M1(sc.bind(null,e,Qn,Ls),n);break}sc(e,Qn,Ls);break;case 5:sc(e,Qn,Ls);break;default:throw Error(pe(329))}}}return aa(e,xr()),e.callbackNode===r?f5.bind(null,e):null}function Z1(e,t){var r=mp;return e.current.memoizedState.isDehydrated&&(Mc(e,t).flags|=256),e=qy(e,t),e!==2&&(t=Qn,Qn=r,t!==null&&eS(t)),e}function eS(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function AY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Ui(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yo(e,t){for(t&=~WC,t&=~Jb,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ii(t),n=1<<r;e[r]=-1,t&=~n}}function mT(e){if(vt&6)throw Error(pe(327));Cd();var t=Ey(e,0);if(!(t&1))return aa(e,xr()),null;var r=qy(e,t);if(e.tag!==0&&r===2){var n=N1(e);n!==0&&(t=n,r=Z1(e,n))}if(r===1)throw r=Yp,Mc(e,0),Yo(e,t),aa(e,xr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sc(e,Qn,Ls),aa(e,xr()),null}function qC(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(Zd=xr()+500,qb&&$l())}}function Gc(e){il!==null&&il.tag===0&&!(vt&6)&&Cd();var t=vt;vt|=1;var r=Ja.transition,n=Pt;try{if(Ja.transition=null,Pt=1,e)return e()}finally{Pt=n,Ja.transition=r,vt=t,!(vt&6)&&$l()}}function GC(){va=dd.current,Qt(dd)}function Mc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,oY(r)),Er!==null)for(r=Er.return;r!==null;){var n=r;switch(CC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&My();break;case 3:Xd(),Qt(ra),Qt(Cn),RC();break;case 5:IC(n);break;case 4:Xd();break;case 13:Qt(or);break;case 19:Qt(or);break;case 10:AC(n.type._context);break;case 22:case 23:GC()}r=r.return}if(en=e,Er=e=vl(e.current,null),dn=va=t,Ur=0,Yp=null,WC=Jb=qc=0,Qn=mp=null,vc!==null){for(t=0;t<vc.length;t++)if(r=vc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}vc=null}return e}function h5(e,t){do{var r=Er;try{if(OC(),ny.current=zy,Uy){for(var n=cr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Uy=!1}if(Hc=0,Jr=Dr=cr=null,hp=!1,qp=0,VC.current=null,r===null||r.return===null){Ur=1,Yp=t,Er=null;break}e:{var i=e,s=r.return,l=r,c=t;if(t=dn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=rT(s);if(p!==null){p.flags&=-257,nT(p,s,l,i,t),p.mode&1&&tT(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){tT(i,u,t),KC();break e}c=Error(pe(426))}}else if(tr&&l.mode&1){var v=rT(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),nT(v,s,l,i,t),EC(Qd(c,l));break e}}i=c=Qd(c,l),Ur!==4&&(Ur=2),mp===null?mp=[i]:mp.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=J3(i,c,t);YA(i,b);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ml===null||!ml.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=X3(i,l,t);YA(i,_);break e}}i=i.return}while(i!==null)}g5(r)}catch(S){t=S,Er===r&&r!==null&&(Er=r=r.return);continue}break}while(!0)}function p5(){var e=Vy.current;return Vy.current=zy,e===null?zy:e}function KC(){(Ur===0||Ur===3||Ur===2)&&(Ur=4),en===null||!(qc&268435455)&&!(Jb&268435455)||Yo(en,dn)}function qy(e,t){var r=vt;vt|=2;var n=p5();(en!==e||dn!==t)&&(Ls=null,Mc(e,t));do try{TY();break}catch(a){h5(e,a)}while(!0);if(OC(),vt=r,Vy.current=n,Er!==null)throw Error(pe(261));return en=null,dn=0,Ur}function TY(){for(;Er!==null;)m5(Er)}function MY(){for(;Er!==null&&!aK();)m5(Er)}function m5(e){var t=y5(e.alternate,e,va);e.memoizedProps=e.pendingProps,t===null?g5(e):Er=t,VC.current=null}function g5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kY(r,t),r!==null){r.flags&=32767,Er=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ur=6,Er=null;return}}else if(r=NY(r,t,va),r!==null){Er=r;return}if(t=t.sibling,t!==null){Er=t;return}Er=t=e}while(t!==null);Ur===0&&(Ur=5)}function sc(e,t,r){var n=Pt,a=Ja.transition;try{Ja.transition=null,Pt=1,$Y(e,t,r,n)}finally{Ja.transition=a,Pt=n}return null}function $Y(e,t,r,n){do Cd();while(il!==null);if(vt&6)throw Error(pe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(pK(e,i),e===en&&(Er=en=null,dn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||av||(av=!0,x5(Cy,function(){return Cd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ja.transition,Ja.transition=null;var s=Pt;Pt=1;var l=vt;vt|=4,VC.current=null,EY(e,r),u5(r,e),eY(A1),Py=!!O1,A1=O1=null,e.current=r,PY(r),iK(),vt=l,Pt=s,Ja.transition=i}else e.current=r;if(av&&(av=!1,il=e,Hy=a),i=e.pendingLanes,i===0&&(ml=null),lK(r.stateNode),aa(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wy)throw Wy=!1,e=X1,X1=null,e;return Hy&1&&e.tag!==0&&Cd(),i=e.pendingLanes,i&1?e===Q1?gp++:(gp=0,Q1=e):gp=0,$l(),null}function Cd(){if(il!==null){var e=JF(Hy),t=Ja.transition,r=Pt;try{if(Ja.transition=null,Pt=16>e?16:e,il===null)var n=!1;else{if(e=il,il=null,Hy=0,vt&6)throw Error(pe(331));var a=vt;for(vt|=4,Ee=e.current;Ee!==null;){var i=Ee,s=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:pp(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var h=d.sibling,p=d.return;if(o5(d),d===u){Ee=null;break}if(h!==null){h.return=p,Ee=h;break}Ee=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ee=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ee=s;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pp(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ee=b;break e}Ee=i.return}}var x=e.current;for(Ee=x;Ee!==null;){s=Ee;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Ee=w;else e:for(s=x;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Yb(9,l)}}catch(S){hr(l,l.return,S)}if(l===s){Ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ee=_;break e}Ee=l.return}}if(vt=a,$l(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(Ub,e)}catch{}n=!0}return n}finally{Pt=r,Ja.transition=t}}return!1}function gT(e,t,r){t=Qd(r,t),t=J3(e,t,1),e=pl(e,t,1),t=Vn(),e!==null&&(ig(e,1,t),aa(e,t))}function hr(e,t,r){if(e.tag===3)gT(e,e,r);else for(;t!==null;){if(t.tag===3){gT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ml===null||!ml.has(n))){e=Qd(r,e),e=X3(t,e,1),t=pl(t,e,1),e=Vn(),t!==null&&(ig(t,1,e),aa(t,e));break}}t=t.return}}function IY(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vn(),e.pingedLanes|=e.suspendedLanes&r,en===e&&(dn&r)===r&&(Ur===4||Ur===3&&(dn&130023424)===dn&&500>xr()-HC?Mc(e,0):WC|=r),aa(e,t)}function v5(e,t){t===0&&(e.mode&1?(t=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):t=1);var r=Vn();e=oo(e,t),e!==null&&(ig(e,t,r),aa(e,r))}function RY(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),v5(e,r)}function DY(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),v5(e,r)}var y5;y5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ra.current)Zn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zn=!1,SY(e,t,r);Zn=!!(e.flags&131072)}else Zn=!1,tr&&t.flags&1048576&&_3(t,Ry,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;iy(e,t),e=t.pendingProps;var a=Kd(t,Cn.current);kd(t,r),a=LC(null,t,n,e,a,r);var i=FC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,na(n)?(i=!0,$y(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,MC(t),a.updater=Kb,t.stateNode=a,a._reactInternals=t,B1(t,n,e,r),t=V1(null,t,n,!0,i,r)):(t.tag=0,tr&&i&&kC(t),Mn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(iy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FY(n),e=_i(n,e),a){case 0:t=z1(null,t,n,e,r);break e;case 1:t=sT(null,t,n,e,r);break e;case 11:t=aT(null,t,n,e,r);break e;case 14:t=iT(null,t,n,_i(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_i(n,a),z1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_i(n,a),sT(e,t,n,a,r);case 3:e:{if(t5(t),e===null)throw Error(pe(387));n=t.pendingProps,i=t.memoizedState,a=i.element,E3(e,t),Fy(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Qd(Error(pe(423)),t),t=oT(e,t,n,r,a);break e}else if(n!==a){a=Qd(Error(pe(424)),t),t=oT(e,t,n,r,a);break e}else for(ka=hl(t.stateNode.containerInfo.firstChild),Ea=t,tr=!0,Ai=null,r=k3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yd(),n===a){t=lo(e,t,r);break e}Mn(e,t,n,r)}t=t.child}return t;case 5:return P3(t),e===null&&D1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,T1(n,a)?s=null:i!==null&&T1(n,i)&&(t.flags|=32),e5(e,t),Mn(e,t,s,r),t.child;case 6:return e===null&&D1(t),null;case 13:return r5(e,t,r);case 4:return $C(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Jd(t,null,n,r):Mn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_i(n,a),aT(e,t,n,a,r);case 7:return Mn(e,t,t.pendingProps,r),t.child;case 8:return Mn(e,t,t.pendingProps.children,r),t.child;case 12:return Mn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Ut(Dy,n._currentValue),n._currentValue=s,i!==null)if(Ui(i.value,s)){if(i.children===a.children&&!ra.current){t=lo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=eo(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),L1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(pe(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),L1(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,kd(t,r),a=ni(a),n=n(a),t.flags|=1,Mn(e,t,n,r),t.child;case 14:return n=t.type,a=_i(n,t.pendingProps),a=_i(n.type,a),iT(e,t,n,a,r);case 15:return Q3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:_i(n,a),iy(e,t),t.tag=1,na(n)?(e=!0,$y(t)):e=!1,kd(t,r),Y3(t,n,a),B1(t,n,a,r),V1(null,t,n,!0,e,r);case 19:return n5(e,t,r);case 22:return Z3(e,t,r)}throw Error(pe(156,t.tag))};function x5(e,t){return qF(e,t)}function LY(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(e,t,r,n){return new LY(e,t,r,n)}function YC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FY(e){if(typeof e=="function")return YC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pC)return 11;if(e===mC)return 14}return 2}function vl(e,t){var r=e.alternate;return r===null?(r=Ga(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ly(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")YC(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case td:return $c(r.children,a,i,t);case hC:s=8,a|=8;break;case u1:return e=Ga(12,r,t,a|2),e.elementType=u1,e.lanes=i,e;case d1:return e=Ga(13,r,t,a),e.elementType=d1,e.lanes=i,e;case f1:return e=Ga(19,r,t,a),e.elementType=f1,e.lanes=i,e;case PF:return Xb(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CF:s=10;break e;case EF:s=9;break e;case pC:s=11;break e;case mC:s=14;break e;case zo:s=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=Ga(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function $c(e,t,r,n){return e=Ga(7,e,n,t),e.lanes=r,e}function Xb(e,t,r,n){return e=Ga(22,e,n,t),e.elementType=PF,e.lanes=r,e.stateNode={isHidden:!1},e}function x_(e,t,r){return e=Ga(6,e,null,t),e.lanes=r,e}function b_(e,t,r){return t=Ga(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function BY(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e_(0),this.expirationTimes=e_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function JC(e,t,r,n,a,i,s,l,c){return e=new BY(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ga(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},MC(i),e}function UY(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ed,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function b5(e){if(!e)return Sl;e=e._reactInternals;e:{if(hu(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(na(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(na(r))return b3(e,r,t)}return t}function w5(e,t,r,n,a,i,s,l,c){return e=JC(r,n,!0,e,a,i,s,l,c),e.context=b5(null),r=e.current,n=Vn(),a=gl(r),i=eo(n,a),i.callback=t??null,pl(r,i,a),e.current.lanes=a,ig(e,a,n),aa(e,n),e}function Qb(e,t,r,n){var a=t.current,i=Vn(),s=gl(a);return r=b5(r),t.context===null?t.context=r:t.pendingContext=r,t=eo(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pl(a,t,s),e!==null&&(Ri(e,a,s,i),ry(e,a,s)),s}function Gy(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function XC(e,t){vT(e,t),(e=e.alternate)&&vT(e,t)}function zY(){return null}var _5=typeof reportError=="function"?reportError:function(e){console.error(e)};function QC(e){this._internalRoot=e}Zb.prototype.render=QC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Qb(e,t,null,null)};Zb.prototype.unmount=QC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gc(function(){Qb(null,e,null,null)}),t[so]=null}};function Zb(e){this._internalRoot=e}Zb.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ko.length&&t!==0&&t<Ko[r].priority;r++);Ko.splice(r,0,e),r===0&&t3(e)}};function ZC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function e0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yT(){}function VY(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Gy(s);i.call(u)}}var s=w5(t,n,e,0,null,!1,!1,"",yT);return e._reactRootContainer=s,e[so]=s.current,Up(e.nodeType===8?e.parentNode:e),Gc(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Gy(c);l.call(u)}}var c=JC(e,0,!1,null,null,!1,!1,"",yT);return e._reactRootContainer=c,e[so]=c.current,Up(e.nodeType===8?e.parentNode:e),Gc(function(){Qb(t,c,r,n)}),c}function t0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var l=a;a=function(){var c=Gy(s);l.call(c)}}Qb(t,s,e,a)}else s=VY(r,t,e,a,n);return Gy(s)}XF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Qh(t.pendingLanes);r!==0&&(yC(t,r|1),aa(t,xr()),!(vt&6)&&(Zd=xr()+500,$l()))}break;case 13:Gc(function(){var n=oo(e,1);if(n!==null){var a=Vn();Ri(n,e,1,a)}}),XC(e,1)}};xC=function(e){if(e.tag===13){var t=oo(e,134217728);if(t!==null){var r=Vn();Ri(t,e,134217728,r)}XC(e,134217728)}};QF=function(e){if(e.tag===13){var t=gl(e),r=oo(e,t);if(r!==null){var n=Vn();Ri(r,e,t,n)}XC(e,t)}};ZF=function(){return Pt};e3=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};_1=function(e,t,r){switch(t){case"input":if(m1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Hb(n);if(!a)throw Error(pe(90));AF(n),m1(n,a)}}}break;case"textarea":MF(e,r);break;case"select":t=r.value,t!=null&&_d(e,!!r.multiple,t,!1)}};BF=qC;UF=Gc;var WY={usingClientEntryPoint:!1,Events:[og,id,Hb,LF,FF,qC]},Oh={findFiberByHostInstance:gc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HY={bundleType:Oh.bundleType,version:Oh.version,rendererPackageName:Oh.rendererPackageName,rendererConfig:Oh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=WF(e),e===null?null:e.stateNode},findFiberByHostInstance:Oh.findFiberByHostInstance||zY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iv.isDisabled&&iv.supportsFiber)try{Ub=iv.inject(HY),ps=iv}catch{}}$a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WY;$a.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ZC(t))throw Error(pe(200));return UY(e,t,null,r)};$a.createRoot=function(e,t){if(!ZC(e))throw Error(pe(299));var r=!1,n="",a=_5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=JC(e,1,!1,null,null,r,!1,n,a),e[so]=t.current,Up(e.nodeType===8?e.parentNode:e),new QC(t)};$a.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=WF(t),e=e===null?null:e.stateNode,e};$a.flushSync=function(e){return Gc(e)};$a.hydrate=function(e,t,r){if(!e0(t))throw Error(pe(200));return t0(null,e,t,!0,r)};$a.hydrateRoot=function(e,t,r){if(!ZC(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=_5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=w5(t,null,e,1,r??null,a,!1,i,s),e[so]=t.current,Up(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Zb(t)};$a.render=function(e,t,r){if(!e0(t))throw Error(pe(200));return t0(null,e,t,!1,r)};$a.unmountComponentAtNode=function(e){if(!e0(e))throw Error(pe(40));return e._reactRootContainer?(Gc(function(){t0(null,null,e,!1,function(){e._reactRootContainer=null,e[so]=null})}),!0):!1};$a.unstable_batchedUpdates=qC;$a.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!e0(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return t0(e,t,r,!1,n)};$a.version="18.3.1-next-f1338f8080-20240426";function j5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j5)}catch(e){console.error(e)}}j5(),jF.exports=$a;var pu=jF.exports;const S5=kt(pu);var N5,xT=pu;N5=xT.createRoot,xT.hydrateRoot;const qY=1,GY=1e6;let w_=0;function KY(){return w_=(w_+1)%Number.MAX_SAFE_INTEGER,w_.toString()}const __=new Map,bT=e=>{if(__.has(e))return;const t=setTimeout(()=>{__.delete(e),vp({type:"REMOVE_TOAST",toastId:e})},GY);__.set(e,t)},YY=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,qY)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?bT(r):e.toasts.forEach(n=>{bT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cy=[];let uy={toasts:[]};function vp(e){uy=YY(uy,e),cy.forEach(t=>{t(uy)})}function JY({...e}){const t=KY(),r=a=>vp({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>vp({type:"DISMISS_TOAST",toastId:t});return vp({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function eE(){const[e,t]=y.useState(uy);return y.useEffect(()=>(cy.push(t),()=>{const r=cy.indexOf(t);r>-1&&cy.splice(r,1)}),[e]),{...e,toast:JY,dismiss:r=>vp({type:"DISMISS_TOAST",toastId:r})}}function fe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function wT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ns(...e){return t=>{let r=!1;const n=e.map(a=>{const i=wT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():wT(e[a],null)}}}}function Ke(...e){return y.useCallback(Ns(...e),e)}function XY(e,t){const r=y.createContext(t),n=i=>{const{children:s,...l}=i,c=y.useMemo(()=>l,Object.values(l));return o.jsx(r.Provider,{value:c,children:s})};n.displayName=e+"Provider";function a(i){const s=y.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function mn(e,t=[]){let r=[];function n(i,s){const l=y.createContext(s),c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,QY(a,...t)]}function QY(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}function _T(e){const t=ZY(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(tJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ZY(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=nJ(a),l=rJ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eJ=Symbol("radix.slottable");function tJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eJ}function rJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function r0(e){const t=e+"CollectionProvider",[r,n]=mn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=m=>{const{scope:v,children:b}=m,x=M.useRef(null),w=M.useRef(new Map).current;return o.jsx(a,{scope:v,itemMap:w,collectionRef:x,children:b})};s.displayName=t;const l=e+"CollectionSlot",c=_T(l),u=M.forwardRef((m,v)=>{const{scope:b,children:x}=m,w=i(l,b),_=Ke(v,w.collectionRef);return o.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=_T(d),p=M.forwardRef((m,v)=>{const{scope:b,children:x,...w}=m,_=M.useRef(null),S=Ke(v,_),N=i(d,b);return M.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),o.jsx(h,{[f]:"",ref:S,children:x})});p.displayName=d;function g(m){const v=i(e+"CollectionConsumer",m);return M.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:u,ItemSlot:p},g,n]}function aJ(e){const t=iJ(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(oJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function iJ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=cJ(a),l=lJ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sJ=Symbol("radix.slottable");function oJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sJ}function lJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=uJ.reduce((e,t)=>{const r=aJ(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tE(e,t){e&&pu.flushSync(()=>e.dispatchEvent(t))}function gr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dJ(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fJ="DismissableLayer",tS="dismissableLayer.update",hJ="dismissableLayer.pointerDownOutside",pJ="dismissableLayer.focusOutside",jT,k5=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mu=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:l,...c}=e,u=y.useContext(k5),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=y.useState({}),g=Ke(t,k=>f(k)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=m.indexOf(v),x=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,S=gJ(k=>{const C=k.target,A=[...u.branches].some(T=>T.contains(C));!_||A||(a==null||a(k),s==null||s(k),k.defaultPrevented||l==null||l())},h),N=vJ(k=>{const C=k.target;[...u.branches].some(T=>T.contains(C))||(i==null||i(k),s==null||s(k),k.defaultPrevented||l==null||l())},h);return dJ(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(jT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),ST(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=jT)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),ST())},[d,u]),y.useEffect(()=>{const k=()=>p({});return document.addEventListener(tS,k),()=>document.removeEventListener(tS,k)},[]),o.jsx(Me.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,N.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,S.onPointerDownCapture)})});mu.displayName=fJ;var mJ="DismissableLayerBranch",C5=y.forwardRef((e,t)=>{const r=y.useContext(k5),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(Me.div,{...e,ref:a})});C5.displayName=mJ;function gJ(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){E5(hJ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function vJ(e,t=globalThis==null?void 0:globalThis.document){const r=gr(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&E5(pJ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function ST(){const e=new CustomEvent(tS);document.dispatchEvent(e)}function E5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?tE(a,i):a.dispatchEvent(i)}var yJ=mu,xJ=C5,_r=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},bJ="Portal",Xf=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);_r(()=>i(!0),[]);const s=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return s?S5.createPortal(o.jsx(Me.div,{...n,ref:t}),s):null});Xf.displayName=bJ;function wJ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Wr=e=>{const{present:t,children:r}=e,n=_J(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ke(n.ref,jJ(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Wr.displayName="Presence";function _J(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),s=e?"mounted":"unmounted",[l,c]=wJ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=sv(n.current);i.current=l==="mounted"?u:"none"},[l]),_r(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=sv(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),_r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=sv(n.current).includes(CSS.escape(p.animationName));if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=p=>{p.target===t&&(i.current=sv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sv(e){return(e==null?void 0:e.animationName)||"none"}function jJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SJ=Bb[" useInsertionEffect ".trim().toString()]||_r;function zi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=NJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=kJ(d)?d(e):d;h!==e&&((f=s.current)==null||f.call(s,h))}else i(d)},[l,e,i,s]);return[c,u]}function NJ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return SJ(()=>{i.current=t},[t]),y.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function kJ(e){return typeof e=="function"}var P5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),CJ="VisuallyHidden",n0=y.forwardRef((e,t)=>o.jsx(Me.span,{...e,ref:t,style:{...P5,...e.style}}));n0.displayName=CJ;var EJ=n0,rE="ToastProvider",[nE,PJ,OJ]=r0("Toast"),[O5]=mn("Toast",[OJ]),[AJ,a0]=O5(rE),A5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:s}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${rE}\`. Expected non-empty \`string\`.`),o.jsx(nE.Provider,{scope:t,children:o.jsx(AJ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(p=>p+1),[]),onToastRemove:y.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:s})})};A5.displayName=rE;var T5="ToastViewport",TJ=["F8"],rS="toast.viewportPause",nS="toast.viewportResume",M5=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=TJ,label:a="Notifications ({hotkey})",...i}=e,s=a0(T5,r),l=PJ(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=Ke(t,f,s.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=s.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!s.isClosePausedRef.current){const N=new CustomEvent(rS);b.dispatchEvent(N),s.isClosePausedRef.current=!0}},w=()=>{if(s.isClosePausedRef.current){const N=new CustomEvent(nS);b.dispatchEvent(N),s.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,s.isClosePausedRef]);const m=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,S=[_,...HJ(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var S,N,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const C=document.activeElement,A=x.shiftKey;if(x.target===v&&A){(S=u.current)==null||S.focus();return}const O=m({tabbingDirection:A?"backwards":"forwards"}),L=O.findIndex($=>$===C);j_(O.slice(L+1))?x.preventDefault():A?(N=u.current)==null||N.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,m]),o.jsxs(xJ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(aS,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});j_(v)}}),o.jsx(nE.Slot,{scope:r,children:o.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),g&&o.jsx(aS,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});j_(v)}})]})});M5.displayName=T5;var $5="ToastFocusProxy",aS=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=a0($5,r);return o.jsx(n0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const l=s.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});aS.displayName=$5;var cg="Toast",MJ="toast.swipeStart",$J="toast.swipeMove",IJ="toast.swipeCancel",RJ="toast.swipeEnd",I5=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...s}=e,[l,c]=zi({prop:n,defaultProp:a??!0,onChange:i,caller:cg});return o.jsx(Wr,{present:r||l,children:o.jsx(FJ,{open:l,...s,ref:t,onClose:()=>c(!1),onPause:gr(e.onPause),onResume:gr(e.onResume),onSwipeStart:fe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:fe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});I5.displayName=cg;var[DJ,LJ]=O5(cg,{onClose(){}}),FJ=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:s,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...g}=e,m=a0(cg,r),[v,b]=y.useState(null),x=Ke(t,$=>b($)),w=y.useRef(null),_=y.useRef(null),S=a||m.duration,N=y.useRef(0),k=y.useRef(S),C=y.useRef(0),{onToastAdd:A,onToastRemove:T}=m,I=gr(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=m.viewport)==null||F.focus()),s()}),O=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(C.current),N.current=new Date().getTime(),C.current=window.setTimeout(I,$))},[I]);y.useEffect(()=>{const $=m.viewport;if($){const F=()=>{O(k.current),u==null||u()},V=()=>{const z=new Date().getTime()-N.current;k.current=k.current-z,window.clearTimeout(C.current),c==null||c()};return $.addEventListener(rS,V),$.addEventListener(nS,F),()=>{$.removeEventListener(rS,V),$.removeEventListener(nS,F)}}},[m.viewport,S,c,u,O]),y.useEffect(()=>{i&&!m.isClosePausedRef.current&&O(S)},[i,S,m.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>T()),[A,T]);const L=y.useMemo(()=>v?z5(v):null,[v]);return m.viewport?o.jsxs(o.Fragment,{children:[L&&o.jsx(BJ,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),o.jsx(DJ,{scope:r,onClose:I,children:pu.createPortal(o.jsx(nE.ItemSlot,{scope:r,children:o.jsx(yJ,{asChild:!0,onEscapeKeyDown:fe(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||I(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:fe(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:fe(e.onPointerMove,$=>{if(!w.current)return;const F=$.clientX-w.current.x,V=$.clientY-w.current.y,z=!!_.current,R=["left","right"].includes(m.swipeDirection),U=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=R?U(0,F):0,re=R?0:U(0,V),Q=$.pointerType==="touch"?10:2,j={x:K,y:re},P={originalEvent:$,delta:j};z?(_.current=j,ov($J,f,P,{discrete:!1})):NT(j,m.swipeDirection,Q)?(_.current=j,ov(MJ,d,P,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>Q||Math.abs(V)>Q)&&(w.current=null)}),onPointerUp:fe(e.onPointerUp,$=>{const F=_.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),_.current=null,w.current=null,F){const z=$.currentTarget,R={originalEvent:$,delta:F};NT(F,m.swipeDirection,m.swipeThreshold)?ov(RJ,p,R,{discrete:!0}):ov(IJ,h,R,{discrete:!0}),z.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),BJ=e=>{const{__scopeToast:t,children:r,...n}=e,a=a0(cg,t),[i,s]=y.useState(!1),[l,c]=y.useState(!1);return VJ(()=>s(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Xf,{asChild:!0,children:o.jsx(n0,{...n,children:i&&o.jsxs(o.Fragment,{children:[a.label," ",r]})})})},UJ="ToastTitle",R5=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Me.div,{...n,ref:t})});R5.displayName=UJ;var zJ="ToastDescription",D5=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return o.jsx(Me.div,{...n,ref:t})});D5.displayName=zJ;var L5="ToastAction",F5=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?o.jsx(U5,{altText:r,asChild:!0,children:o.jsx(aE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${L5}\`. Expected non-empty \`string\`.`),null)});F5.displayName=L5;var B5="ToastClose",aE=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=LJ(B5,r);return o.jsx(U5,{asChild:!0,children:o.jsx(Me.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,a.onClose)})})});aE.displayName=B5;var U5=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return o.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function z5(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),WJ(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const s=n.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...z5(n))}}),t}function ov(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?tE(a,i):a.dispatchEvent(i)}var NT=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function VJ(e=()=>{}){const t=gr(e);_r(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function WJ(e){return e.nodeType===e.ELEMENT_NODE}function HJ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function j_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var qJ=A5,V5=M5,W5=I5,H5=R5,q5=D5,G5=F5,K5=aE;function Y5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Y5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Y5(e))&&(n&&(n+=" "),n+=t);return n}const kT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,CT=et,i0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return CT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=kT(d)||kT(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...i,...l}[m]):{...i,...l}[m]===v})?[...u,f,h]:u},[]);return CT(e,s,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J5=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>y.createElement("svg",{ref:c,...KJ,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:J5("lucide",a),...l},[...s.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(YJ,{ref:i,iconNode:t,className:J5(`lucide-${GJ(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=be("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=be("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=be("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=be("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=be("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=be("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eX=be("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tX=be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=be("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=be("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rX=be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=be("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=be("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nX=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=be("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aX=be("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iX=be("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sX=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oX=be("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lX=be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cX=be("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=be("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=be("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=be("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=be("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=be("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=be("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=be("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=be("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=be("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=be("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=be("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=be("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uE="-",kX=e=>{const t=EX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const l=s.split(uE);return l[0]===""&&l.length!==1&&l.shift(),aB(l,t)||CX(s)},getConflictingClassGroupIds:(s,l)=>{const c=r[s]||[];return l&&n[s]?[...c,...n[s]]:c}}},aB=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?aB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(uE);return(s=t.validators.find(({validator:l})=>l(i)))==null?void 0:s.classGroupId},MT=/^\[(.+)\]$/,CX=e=>{if(MT.test(e)){const t=MT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},EX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return OX(Object.entries(e.classGroups),r).forEach(([i,s])=>{lS(s,n,i,t)}),n},lS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:$T(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(PX(a)){lS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{lS(s,$T(t,i),r,n)})})},$T=(e,t)=>{let r=e;return t.split(uE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},PX=e=>e.isThemeGetter,OX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,l])=>[t+s,l])):i);return[r,a]}):e,AX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},iB="!",TX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,s=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(iB),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:s}):s},MX=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},$X=e=>({cache:AX(e.cacheSize),parseClassName:TX(e),...kX(e)}),IX=/\s+/,RX=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],s=e.trim().split(IX);let l="";for(let c=s.length-1;c>=0;c-=1){const u=s[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=MX(d).join(":"),b=f?v+iB:v,x=b+m;if(i.includes(x))continue;i.push(x);const w=a(m,g);for(let _=0;_<w.length;++_){const S=w[_];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function DX(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=sB(t))&&(n&&(n+=" "),n+=r);return n}const sB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=sB(e[n]))&&(r&&(r+=" "),r+=t);return r};function LX(e,...t){let r,n,a,i=s;function s(c){const u=t.reduce((d,f)=>f(d),e());return r=$X(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=RX(c,r);return a(c,d),d}return function(){return i(DX.apply(null,arguments))}}const qt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},oB=/^\[(?:([a-z-]+):)?(.+)\]$/i,FX=/^\d+\/\d+$/,BX=new Set(["px","full","screen"]),UX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ts=e=>Pd(e)||BX.has(e)||FX.test(e),To=e=>Zf(e,"length",ZX),Pd=e=>!!e&&!Number.isNaN(Number(e)),C_=e=>Zf(e,"number",Pd),Ah=e=>!!e&&Number.isInteger(Number(e)),qX=e=>e.endsWith("%")&&Pd(e.slice(0,-1)),it=e=>oB.test(e),Mo=e=>UX.test(e),GX=new Set(["length","size","percentage"]),KX=e=>Zf(e,GX,lB),YX=e=>Zf(e,"position",lB),JX=new Set(["image","url"]),XX=e=>Zf(e,JX,tQ),QX=e=>Zf(e,"",eQ),Th=()=>!0,Zf=(e,t,r)=>{const n=oB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},ZX=e=>zX.test(e)&&!VX.test(e),lB=()=>!1,eQ=e=>WX.test(e),tQ=e=>HX.test(e),rQ=()=>{const e=qt("colors"),t=qt("spacing"),r=qt("blur"),n=qt("brightness"),a=qt("borderColor"),i=qt("borderRadius"),s=qt("borderSpacing"),l=qt("borderWidth"),c=qt("contrast"),u=qt("grayscale"),d=qt("hueRotate"),f=qt("invert"),h=qt("gap"),p=qt("gradientColorStops"),g=qt("gradientColorStopPositions"),m=qt("inset"),v=qt("margin"),b=qt("opacity"),x=qt("padding"),w=qt("saturate"),_=qt("scale"),S=qt("sepia"),N=qt("skew"),k=qt("space"),C=qt("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",it,t],O=()=>[it,t],L=()=>["",Ts,To],$=()=>["auto",Pd,it],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",it],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Pd,it];return{cacheSize:500,separator:":",theme:{colors:[Th],spacing:[Ts,To],blur:["none","",Mo,it],brightness:re(),borderColor:[e],borderRadius:["none","","full",Mo,it],borderSpacing:O(),borderWidth:L(),contrast:re(),grayscale:U(),hueRotate:re(),invert:U(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[qX,To],inset:I(),margin:I(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:U(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[Mo]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),it]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ah,it]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ah,it]}],"grid-cols":[{"grid-cols":[Th]}],"col-start-end":[{col:["auto",{span:["full",Ah,it]},it]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Th]}],"row-start-end":[{row:["auto",{span:[Ah,it]},it]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,t]}],"min-w":[{"min-w":[it,t,"min","max","fit"]}],"max-w":[{"max-w":[it,t,"none","full","min","max","fit","prose",{screen:[Mo]},Mo]}],h:[{h:[it,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Mo,To]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",C_]}],"font-family":[{font:[Th]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Pd,C_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ts,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ts,To]}],"underline-offset":[{"underline-offset":["auto",Ts,it]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),YX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XX]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:V()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ts,it]}],"outline-w":[{outline:[Ts,To]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Ts,To]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mo,QX]}],"shadow-color":[{shadow:[Th]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Mo,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Ah,it]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ts,To,C_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},nQ=LX(rQ);function ve(...e){return nQ(et(e))}const aQ=qJ,cB=y.forwardRef(({className:e,...t},r)=>o.jsx(V5,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));cB.displayName=V5.displayName;const iQ=i0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uB=y.forwardRef(({className:e,variant:t,...r},n)=>o.jsx(W5,{ref:n,className:ve(iQ({variant:t}),e),...r}));uB.displayName=W5.displayName;const sQ=y.forwardRef(({className:e,...t},r)=>o.jsx(G5,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));sQ.displayName=G5.displayName;const dB=y.forwardRef(({className:e,...t},r)=>o.jsx(K5,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(wo,{className:"h-4 w-4"})}));dB.displayName=K5.displayName;const fB=y.forwardRef(({className:e,...t},r)=>o.jsx(H5,{ref:r,className:ve("text-sm font-semibold",e),...t}));fB.displayName=H5.displayName;const hB=y.forwardRef(({className:e,...t},r)=>o.jsx(q5,{ref:r,className:ve("text-sm opacity-90",e),...t}));hB.displayName=q5.displayName;function oQ(){const{toasts:e}=eE();return o.jsxs(aQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return o.jsxs(uB,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[r&&o.jsx(fB,{children:r}),n&&o.jsx(hB,{children:n})]}),a,o.jsx(dB,{})]},t)}),o.jsx(cB,{})]})}var IT=["light","dark"],lQ="(prefers-color-scheme: dark)",cQ=y.createContext(void 0),uQ={setTheme:e=>{},themes:[]},dQ=()=>{var e;return(e=y.useContext(cQ))!=null?e:uQ};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:s,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?IT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,m=!1,v=!0)=>{let b=s?s[g]:g,x=m?g+"|| ''":`'${b}'`,w="";return a&&v&&!m&&IT.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},p=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${lQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${s?`var x=${JSON.stringify(s)};`:""}${h(s?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var fQ=e=>{switch(e){case"success":return mQ;case"info":return vQ;case"warning":return gQ;case"error":return yQ;default:return null}},hQ=Array(12).fill(0),pQ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},hQ.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),mQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bQ=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},cS=1,wQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:cS++,s=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,s,l=a.then(async u=>{if(s=["resolve",u],M.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(jQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(s=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>s[0]==="reject"?d(s[1]):u(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||cS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Jn=new wQ,_Q=(e,t)=>{let r=(t==null?void 0:t.id)||cS++;return Jn.addToast({title:e,...t,id:r}),r},jQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",SQ=_Q,NQ=()=>Jn.toasts,kQ=()=>Jn.getActiveToasts(),ue=Object.assign(SQ,{success:Jn.success,info:Jn.info,warning:Jn.warning,error:Jn.error,custom:Jn.custom,message:Jn.message,promise:Jn.promise,dismiss:Jn.dismiss,loading:Jn.loading},{getHistory:NQ,getToasts:kQ});function CQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}CQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function lv(e){return e.label!==void 0}var EQ=3,PQ="32px",OQ="16px",RT=4e3,AQ=356,TQ=14,MQ=20,$Q=200;function pi(...e){return e.filter(Boolean).join(" ")}function IQ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var RQ=e=>{var t,r,n,a,i,s,l,c,u,d,f;let{invert:h,toast:p,unstyled:g,interacting:m,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:S,removeToast:N,defaultRichColors:k,closeButton:C,style:A,cancelButtonStyle:T,actionButtonStyle:I,className:O="",descriptionClassName:L="",duration:$,position:F,gap:V,loadingIcon:z,expandByDefault:R,classNames:U,icons:K,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:Q}=e,[j,P]=M.useState(null),[E,B]=M.useState(null),[D,G]=M.useState(!1),[q,J]=M.useState(!1),[ee,Y]=M.useState(!1),[xe,Ne]=M.useState(!1),[Je,He]=M.useState(!1),[Be,st]=M.useState(0),[Rt,vr]=M.useState(0),H=M.useRef(p.duration||$||RT),W=M.useRef(null),X=M.useRef(null),de=w===0,le=w+1<=b,oe=p.type,Ae=p.dismissible!==!1,pt=p.className||"",mt=p.descriptionClassName||"",ir=M.useMemo(()=>x.findIndex(Xe=>Xe.toastId===p.id)||0,[x,p.id]),La=M.useMemo(()=>{var Xe;return(Xe=p.closeButton)!=null?Xe:C},[p.closeButton,C]),Kn=M.useMemo(()=>p.duration||$||RT,[p.duration,$]),Po=M.useRef(0),ca=M.useRef(0),As=M.useRef(0),di=M.useRef(null),[Yl,Eu]=F.split("-"),Oo=M.useMemo(()=>x.reduce((Xe,te,_e)=>_e>=ir?Xe:Xe+te.height,0),[x,ir]),_h=bQ(),Fg=p.invert||h,Pu=oe==="loading";ca.current=M.useMemo(()=>ir*V+Oo,[ir,Oo]),M.useEffect(()=>{H.current=Kn},[Kn]),M.useEffect(()=>{G(!0)},[]),M.useEffect(()=>{let Xe=X.current;if(Xe){let te=Xe.getBoundingClientRect().height;return vr(te),v(_e=>[{toastId:p.id,height:te,position:p.position},..._e]),()=>v(_e=>_e.filter(ut=>ut.toastId!==p.id))}},[v,p.id]),M.useLayoutEffect(()=>{if(!D)return;let Xe=X.current,te=Xe.style.height;Xe.style.height="auto";let _e=Xe.getBoundingClientRect().height;Xe.style.height=te,vr(_e),v(ut=>ut.find(Mr=>Mr.toastId===p.id)?ut.map(Mr=>Mr.toastId===p.id?{...Mr,height:_e}:Mr):[{toastId:p.id,height:_e,position:p.position},...ut])},[D,p.title,p.description,v,p.id]);let fi=M.useCallback(()=>{J(!0),st(ca.current),v(Xe=>Xe.filter(te=>te.toastId!==p.id)),setTimeout(()=>{N(p)},$Q)},[p,N,v,ca]);M.useEffect(()=>{if(p.promise&&oe==="loading"||p.duration===1/0||p.type==="loading")return;let Xe;return S||m||Q&&_h?(()=>{if(As.current<Po.current){let te=new Date().getTime()-Po.current;H.current=H.current-te}As.current=new Date().getTime()})():H.current!==1/0&&(Po.current=new Date().getTime(),Xe=setTimeout(()=>{var te;(te=p.onAutoClose)==null||te.call(p,p),fi()},H.current)),()=>clearTimeout(Xe)},[S,m,p,oe,Q,_h,fi]),M.useEffect(()=>{p.delete&&fi()},[fi,p.delete]);function Bg(){var Xe,te,_e;return K!=null&&K.loading?M.createElement("div",{className:pi(U==null?void 0:U.loader,(Xe=p==null?void 0:p.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":oe==="loading"},K.loading):z?M.createElement("div",{className:pi(U==null?void 0:U.loader,(te=p==null?void 0:p.classNames)==null?void 0:te.loader,"sonner-loader"),"data-visible":oe==="loading"},z):M.createElement(pQ,{className:pi(U==null?void 0:U.loader,(_e=p==null?void 0:p.classNames)==null?void 0:_e.loader),visible:oe==="loading"})}return M.createElement("li",{tabIndex:0,ref:X,className:pi(O,pt,U==null?void 0:U.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[oe],(r=p==null?void 0:p.classNames)==null?void 0:r[oe]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:k,"data-styled":!(p.jsx||p.unstyled||g),"data-mounted":D,"data-promise":!!p.promise,"data-swiped":Je,"data-removed":q,"data-visible":le,"data-y-position":Yl,"data-x-position":Eu,"data-index":w,"data-front":de,"data-swiping":ee,"data-dismissible":Ae,"data-type":oe,"data-invert":Fg,"data-swipe-out":xe,"data-swipe-direction":E,"data-expanded":!!(S||R&&D),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${q?Be:ca.current}px`,"--initial-height":R?"auto":`${Rt}px`,...A,...p.style},onDragEnd:()=>{Y(!1),P(null),di.current=null},onPointerDown:Xe=>{Pu||!Ae||(W.current=new Date,st(ca.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Y(!0),di.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,te,_e,ut;if(xe||!Ae)return;di.current=null;let Mr=Number(((Xe=X.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number(((te=X.current)==null?void 0:te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ua=new Date().getTime()-((_e=W.current)==null?void 0:_e.getTime()),Pn=j==="x"?Mr:Yn,da=Math.abs(Pn)/ua;if(Math.abs(Pn)>=MQ||da>.11){st(ca.current),(ut=p.onDismiss)==null||ut.call(p,p),B(j==="x"?Mr>0?"right":"left":Yn>0?"down":"up"),fi(),Ne(!0),He(!1);return}Y(!1),P(null)},onPointerMove:Xe=>{var te,_e,ut,Mr;if(!di.current||!Ae||((te=window.getSelection())==null?void 0:te.toString().length)>0)return;let Yn=Xe.clientY-di.current.y,ua=Xe.clientX-di.current.x,Pn=(_e=e.swipeDirections)!=null?_e:IQ(F);!j&&(Math.abs(ua)>1||Math.abs(Yn)>1)&&P(Math.abs(ua)>Math.abs(Yn)?"x":"y");let da={x:0,y:0};j==="y"?(Pn.includes("top")||Pn.includes("bottom"))&&(Pn.includes("top")&&Yn<0||Pn.includes("bottom")&&Yn>0)&&(da.y=Yn):j==="x"&&(Pn.includes("left")||Pn.includes("right"))&&(Pn.includes("left")&&ua<0||Pn.includes("right")&&ua>0)&&(da.x=ua),(Math.abs(da.x)>0||Math.abs(da.y)>0)&&He(!0),(ut=X.current)==null||ut.style.setProperty("--swipe-amount-x",`${da.x}px`),(Mr=X.current)==null||Mr.style.setProperty("--swipe-amount-y",`${da.y}px`)}},La&&!p.jsx?M.createElement("button",{"aria-label":re,"data-disabled":Pu,"data-close-button":!0,onClick:Pu||!Ae?()=>{}:()=>{var Xe;fi(),(Xe=p.onDismiss)==null||Xe.call(p,p)},className:pi(U==null?void 0:U.closeButton,(a=p==null?void 0:p.classNames)==null?void 0:a.closeButton)},(i=K==null?void 0:K.close)!=null?i:xQ):null,p.jsx||y.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:M.createElement(M.Fragment,null,oe||p.icon||p.promise?M.createElement("div",{"data-icon":"",className:pi(U==null?void 0:U.icon,(s=p==null?void 0:p.classNames)==null?void 0:s.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Bg():null,p.type!=="loading"?p.icon||(K==null?void 0:K[oe])||fQ(oe):null):null,M.createElement("div",{"data-content":"",className:pi(U==null?void 0:U.content,(l=p==null?void 0:p.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:pi(U==null?void 0:U.title,(c=p==null?void 0:p.classNames)==null?void 0:c.title)},typeof p.title=="function"?p.title():p.title),p.description?M.createElement("div",{"data-description":"",className:pi(L,mt,U==null?void 0:U.description,(u=p==null?void 0:p.classNames)==null?void 0:u.description)},typeof p.description=="function"?p.description():p.description):null),y.isValidElement(p.cancel)?p.cancel:p.cancel&&lv(p.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||T,onClick:Xe=>{var te,_e;lv(p.cancel)&&Ae&&((_e=(te=p.cancel).onClick)==null||_e.call(te,Xe),fi())},className:pi(U==null?void 0:U.cancelButton,(d=p==null?void 0:p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,y.isValidElement(p.action)?p.action:p.action&&lv(p.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||I,onClick:Xe=>{var te,_e;lv(p.action)&&((_e=(te=p.action).onClick)==null||_e.call(te,Xe),!Xe.defaultPrevented&&fi())},className:pi(U==null?void 0:U.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function DT(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function DQ(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,s=i?"--mobile-offset":"--offset",l=i?OQ:PQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${s}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${s}-${u}`]=l:r[`${s}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var LQ=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:p,visibleToasts:g=EQ,toastOptions:m,dir:v=DT(),gap:b=TQ,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,k]=M.useState([]),C=M.useMemo(()=>Array.from(new Set([n].concat(N.filter(Q=>Q.position).map(Q=>Q.position)))),[N,n]),[A,T]=M.useState([]),[I,O]=M.useState(!1),[L,$]=M.useState(!1),[F,V]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=M.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=M.useRef(null),K=M.useRef(!1),re=M.useCallback(Q=>{k(j=>{var P;return(P=j.find(E=>E.id===Q.id))!=null&&P.delete||Jn.dismiss(Q.id),j.filter(({id:E})=>E!==Q.id)})},[]);return M.useEffect(()=>Jn.subscribe(Q=>{if(Q.dismiss){k(j=>j.map(P=>P.id===Q.id?{...P,delete:!0}:P));return}setTimeout(()=>{S5.flushSync(()=>{k(j=>{let P=j.findIndex(E=>E.id===Q.id);return P!==-1?[...j.slice(0,P),{...j[P],...Q},...j.slice(P+1)]:[Q,...j]})})})}),[]),M.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let Q=window.matchMedia("(prefers-color-scheme: dark)");try{Q.addEventListener("change",({matches:j})=>{V(j?"dark":"light")})}catch{Q.addListener(({matches:P})=>{try{V(P?"dark":"light")}catch(E){console.error(E)}})}},[d]),M.useEffect(()=>{N.length<=1&&O(!1)},[N]),M.useEffect(()=>{let Q=j=>{var P,E;a.every(B=>j[B]||j.code===B)&&(O(!0),(P=z.current)==null||P.focus()),j.code==="Escape"&&(document.activeElement===z.current||(E=z.current)!=null&&E.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Q),()=>document.removeEventListener("keydown",Q)},[a]),M.useEffect(()=>{if(z.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[z.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((Q,j)=>{var P;let[E,B]=Q.split("-");return N.length?M.createElement("ol",{key:Q,dir:v==="auto"?DT():v,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":E,"data-lifted":I&&N.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((P=A[0])==null?void 0:P.height)||0}px`,"--width":`${AQ}px`,"--gap":`${b}px`,...p,...DQ(c,u)},onBlur:D=>{K.current&&!D.currentTarget.contains(D.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=D.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(D=>!D.position&&j===0||D.position===Q).map((D,G)=>{var q,J;return M.createElement(RQ,{key:D.id,icons:w,index:G,toast:D,defaultRichColors:f,duration:(q=m==null?void 0:m.duration)!=null?q:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:r,visibleToasts:g,closeButton:(J=m==null?void 0:m.closeButton)!=null?J:s,interacting:L,position:Q,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:re,toasts:N.filter(ee=>ee.position==D.position),heights:A.filter(ee=>ee.position==D.position),setHeights:T,expandByDefault:i,gap:b,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const FQ=({...e})=>{const{theme:t="system"}=dQ();return o.jsx(LQ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var BQ=Bb[" useId ".trim().toString()]||(()=>{}),UQ=0;function Di(e){const[t,r]=y.useState(BQ());return _r(()=>{r(n=>n??String(UQ++))},[e]),t?`radix-${t}`:""}const zQ=["top","right","bottom","left"],kl=Math.min,wa=Math.max,Yy=Math.round,cv=Math.floor,vs=e=>({x:e,y:e}),VQ={left:"right",right:"left",bottom:"top",top:"bottom"},WQ={start:"end",end:"start"};function uS(e,t,r){return wa(e,kl(t,r))}function uo(e,t){return typeof e=="function"?e(t):e}function fo(e){return e.split("-")[0]}function eh(e){return e.split("-")[1]}function dE(e){return e==="x"?"y":"x"}function fE(e){return e==="y"?"height":"width"}const HQ=new Set(["top","bottom"]);function cs(e){return HQ.has(fo(e))?"y":"x"}function hE(e){return dE(cs(e))}function qQ(e,t,r){r===void 0&&(r=!1);const n=eh(e),a=hE(e),i=fE(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Jy(s)),[s,Jy(s)]}function GQ(e){const t=Jy(e);return[dS(e),t,dS(t)]}function dS(e){return e.replace(/start|end/g,t=>WQ[t])}const LT=["left","right"],FT=["right","left"],KQ=["top","bottom"],YQ=["bottom","top"];function JQ(e,t,r){switch(e){case"top":case"bottom":return r?t?FT:LT:t?LT:FT;case"left":case"right":return t?KQ:YQ;default:return[]}}function XQ(e,t,r,n){const a=eh(e);let i=JQ(fo(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(dS)))),i}function Jy(e){return e.replace(/left|right|bottom|top/g,t=>VQ[t])}function QQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function pB(e){return typeof e!="number"?QQ(e):{top:e,right:e,bottom:e,left:e}}function Xy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function BT(e,t,r){let{reference:n,floating:a}=e;const i=cs(t),s=hE(t),l=fE(s),c=fo(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(eh(t)){case"start":p[s]-=h*(r&&u?-1:1);break;case"end":p[s]+=h*(r&&u?-1:1);break}return p}const ZQ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,l=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=BT(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:v,fn:b}=l[m],{x,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:s,elements:{reference:e,floating:t}});d=x??d,f=w??f,p={...p,[v]:{...p[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=BT(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Jp(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=uo(t,e),g=pB(p),v=l[h?f==="floating"?"reference":"floating":f],b=Xy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Xy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-S.top+g.top)/_.y,bottom:(S.bottom-b.bottom+g.bottom)/_.y,left:(b.left-S.left+g.left)/_.x,right:(S.right-b.right+g.right)/_.x}}const eZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=uo(e,t)||{};if(u==null)return{};const f=pB(d),h={x:r,y:n},p=hE(a),g=fE(p),m=await s.getDimensions(u),v=p==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[p]-h[p]-i.floating[g],S=h[p]-i.reference[p],N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=N?N[w]:0;(!k||!await(s.isElement==null?void 0:s.isElement(N)))&&(k=l.floating[w]||i.floating[g]);const C=_/2-S/2,A=k/2-m[g]/2-1,T=kl(f[b],A),I=kl(f[x],A),O=T,L=k-m[g]-I,$=k/2-m[g]/2+C,F=uS(O,$,L),V=!c.arrow&&eh(a)!=null&&$!==F&&i.reference[g]/2-($<O?T:I)-m[g]/2<0,z=V?$<O?$-O:$-L:0;return{[p]:h[p]+z,data:{[p]:F,centerOffset:$-F-z,...V&&{alignmentOffset:z}},reset:V}}}),tZ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=uo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=fo(a),x=cs(l),w=fo(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!m?[Jy(l)]:GQ(l)),N=g!=="none";!h&&N&&S.push(...XQ(l,m,g,_));const k=[l,...S],C=await Jp(t,v),A=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[b]),f){const $=qQ(a,s,_);A.push(C[$[0]],C[$[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every($=>$<=0)){var I,O;const $=(((I=i.flip)==null?void 0:I.index)||0)+1,F=k[$];if(F&&(!(f==="alignment"?x!==cs(F):!1)||T.every(R=>cs(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:$,overflows:T},reset:{placement:F}};let V=(O=T.filter(z=>z.overflows[0]<=0).sort((z,R)=>z.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!V)switch(p){case"bestFit":{var L;const z=(L=T.filter(R=>{if(N){const U=cs(R.placement);return U===x||U==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((R,U)=>R[1]-U[1])[0])==null?void 0:L[0];z&&(V=z);break}case"initialPlacement":V=l;break}if(a!==V)return{reset:{placement:V}}}return{}}}};function UT(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zT(e){return zQ.some(t=>e[t]>=0)}const rZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=uo(e,t);switch(n){case"referenceHidden":{const i=await Jp(t,{...a,elementContext:"reference"}),s=UT(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:zT(s)}}}case"escaped":{const i=await Jp(t,{...a,altBoundary:!0}),s=UT(i,r.floating);return{data:{escapedOffsets:s,escaped:zT(s)}}}default:return{}}}}},mB=new Set(["left","top"]);async function nZ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=fo(r),l=eh(r),c=cs(r)==="y",u=mB.has(s)?-1:1,d=i&&c?-1:1,f=uo(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const aZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:l}=t,c=await nZ(t,e);return s===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:s}}}}},iZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=uo(e,t),u={x:r,y:n},d=await Jp(t,c),f=cs(fo(a)),h=dE(f);let p=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=p+d[v],w=p-d[b];p=uS(x,p,w)}if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=uS(x,g,w)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:s}}}}}},sZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uo(e,t),d={x:r,y:n},f=cs(a),h=dE(f);let p=d[h],g=d[f];const m=uo(l,t),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;p<_?p=_:p>S&&(p=S)}if(u){var b,x;const w=h==="y"?"width":"height",_=mB.has(fo(a)),S=i.reference[f]-i.floating[w]+(_&&((b=s.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((x=s.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:p,[f]:g}}}},oZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:l}=t,{apply:c=()=>{},...u}=uo(e,t),d=await Jp(t,u),f=fo(a),h=eh(a),p=cs(a)==="y",{width:g,height:m}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(s.isRTL==null?void 0:s.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=m-d.top-d.bottom,w=g-d.left-d.right,_=kl(m-d[v],x),S=kl(g-d[b],w),N=!t.middlewareData.shift;let k=_,C=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),N&&!h){const T=wa(d.left,0),I=wa(d.right,0),O=wa(d.top,0),L=wa(d.bottom,0);p?C=g-2*(T!==0||I!==0?T+I:wa(d.left,d.right)):k=m-2*(O!==0||L!==0?O+L:wa(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:k});const A=await s.getDimensions(l.floating);return g!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function s0(){return typeof window<"u"}function th(e){return gB(e)?(e.nodeName||"").toLowerCase():"#document"}function Pa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(gB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gB(e){return s0()?e instanceof Node||e instanceof Pa(e).Node:!1}function Wi(e){return s0()?e instanceof Element||e instanceof Pa(e).Element:!1}function _s(e){return s0()?e instanceof HTMLElement||e instanceof Pa(e).HTMLElement:!1}function VT(e){return!s0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pa(e).ShadowRoot}const lZ=new Set(["inline","contents"]);function fg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Hi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!lZ.has(a)}const cZ=new Set(["table","td","th"]);function uZ(e){return cZ.has(th(e))}const dZ=[":popover-open",":modal"];function o0(e){return dZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const fZ=["transform","translate","scale","rotate","perspective"],hZ=["transform","translate","scale","rotate","perspective","filter"],pZ=["paint","layout","strict","content"];function pE(e){const t=mE(),r=Wi(e)?Hi(e):e;return fZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||hZ.some(n=>(r.willChange||"").includes(n))||pZ.some(n=>(r.contain||"").includes(n))}function mZ(e){let t=Cl(e);for(;_s(t)&&!nf(t);){if(pE(t))return t;if(o0(t))return null;t=Cl(t)}return null}function mE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const gZ=new Set(["html","body","#document"]);function nf(e){return gZ.has(th(e))}function Hi(e){return Pa(e).getComputedStyle(e)}function l0(e){return Wi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Cl(e){if(th(e)==="html")return e;const t=e.assignedSlot||e.parentNode||VT(e)&&e.host||ks(e);return VT(t)?t.host:t}function vB(e){const t=Cl(e);return nf(t)?e.ownerDocument?e.ownerDocument.body:e.body:_s(t)&&fg(t)?t:vB(t)}function Xp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=vB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=Pa(a);if(i){const l=fS(s);return t.concat(s,s.visualViewport||[],fg(a)?a:[],l&&r?Xp(l):[])}return t.concat(a,Xp(a,[],r))}function fS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yB(e){const t=Hi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=_s(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,l=Yy(r)!==i||Yy(n)!==s;return l&&(r=i,n=s),{width:r,height:n,$:l}}function gE(e){return Wi(e)?e:e.contextElement}function Od(e){const t=gE(e);if(!_s(t))return vs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=yB(t);let s=(i?Yy(r.width):r.width)/n,l=(i?Yy(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!l||!Number.isFinite(l))&&(l=1),{x:s,y:l}}const vZ=vs(0);function xB(e){const t=Pa(e);return!mE()||!t.visualViewport?vZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Pa(e)?!1:t}function Yc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=gE(e);let s=vs(1);t&&(n?Wi(n)&&(s=Od(n)):s=Od(e));const l=yZ(i,r,n)?xB(i):vs(0);let c=(a.left+l.x)/s.x,u=(a.top+l.y)/s.y,d=a.width/s.x,f=a.height/s.y;if(i){const h=Pa(i),p=n&&Wi(n)?Pa(n):n;let g=h,m=fS(g);for(;m&&n&&p!==g;){const v=Od(m),b=m.getBoundingClientRect(),x=Hi(m),w=b.left+(m.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(m.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Pa(m),m=fS(g)}}return Xy({width:d,height:f,x:c,y:u})}function c0(e,t){const r=l0(e).scrollLeft;return t?t.left+r:Yc(ks(e)).left+r}function bB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-c0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function xZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=ks(n),l=t?o0(t.floating):!1;if(n===s||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=vs(1);const d=vs(0),f=_s(n);if((f||!f&&!i)&&((th(n)!=="body"||fg(s))&&(c=l0(n)),_s(n))){const p=Yc(n);u=Od(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=s&&!f&&!i?bB(s,c):vs(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function bZ(e){return Array.from(e.getClientRects())}function wZ(e){const t=ks(e),r=l0(e),n=e.ownerDocument.body,a=wa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=wa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+c0(e);const l=-r.scrollTop;return Hi(n).direction==="rtl"&&(s+=wa(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:l}}const WT=25;function _Z(e,t){const r=Pa(e),n=ks(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,l=0,c=0;if(a){i=a.width,s=a.height;const d=mE();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=c0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-p);g<=WT&&(i-=g)}else u<=WT&&(i+=u);return{width:i,height:s,x:l,y:c}}const jZ=new Set(["absolute","fixed"]);function SZ(e,t){const r=Yc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=_s(e)?Od(e):vs(1),s=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:s,height:l,x:c,y:u}}function HT(e,t,r){let n;if(t==="viewport")n=_Z(e,r);else if(t==="document")n=wZ(ks(e));else if(Wi(t))n=SZ(t,r);else{const a=xB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xy(n)}function wB(e,t){const r=Cl(e);return r===t||!Wi(r)||nf(r)?!1:Hi(r).position==="fixed"||wB(r,t)}function NZ(e,t){const r=t.get(e);if(r)return r;let n=Xp(e,[],!1).filter(l=>Wi(l)&&th(l)!=="body"),a=null;const i=Hi(e).position==="fixed";let s=i?Cl(e):e;for(;Wi(s)&&!nf(s);){const l=Hi(s),c=pE(s);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&jZ.has(a.position)||fg(s)&&!c&&wB(e,s))?n=n.filter(d=>d!==s):a=l,s=Cl(s)}return t.set(e,n),n}function kZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?o0(t)?[]:NZ(t,this._c):[].concat(r),n],l=s[0],c=s.reduce((u,d)=>{const f=HT(t,d,a);return u.top=wa(f.top,u.top),u.right=kl(f.right,u.right),u.bottom=kl(f.bottom,u.bottom),u.left=wa(f.left,u.left),u},HT(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function CZ(e){const{width:t,height:r}=yB(e);return{width:t,height:r}}function EZ(e,t,r){const n=_s(t),a=ks(t),i=r==="fixed",s=Yc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=vs(0);function u(){c.x=c0(a)}if(n||!n&&!i)if((th(t)!=="body"||fg(a))&&(l=l0(t)),n){const p=Yc(t,!0,i,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?bB(a,l):vs(0),f=s.left+l.scrollLeft-c.x-d.x,h=s.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:s.width,height:s.height}}function E_(e){return Hi(e).position==="static"}function qT(e,t){if(!_s(e)||Hi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ks(e)===r&&(r=r.ownerDocument.body),r}function _B(e,t){const r=Pa(e);if(o0(e))return r;if(!_s(e)){let a=Cl(e);for(;a&&!nf(a);){if(Wi(a)&&!E_(a))return a;a=Cl(a)}return r}let n=qT(e,t);for(;n&&uZ(n)&&E_(n);)n=qT(n,t);return n&&nf(n)&&E_(n)&&!pE(n)?r:n||mZ(e)||r}const PZ=async function(e){const t=this.getOffsetParent||_B,r=this.getDimensions,n=await r(e.floating);return{reference:EZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function OZ(e){return Hi(e).direction==="rtl"}const AZ={convertOffsetParentRelativeRectToViewportRelativeRect:xZ,getDocumentElement:ks,getClippingRect:kZ,getOffsetParent:_B,getElementRects:PZ,getClientRects:bZ,getDimensions:CZ,getScale:Od,isElement:Wi,isRTL:OZ};function jB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function TZ(e,t){let r=null,n;const a=ks(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function s(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=cv(f),m=cv(a.clientWidth-(d+h)),v=cv(a.clientHeight-(f+p)),b=cv(d),w={rootMargin:-g+"px "+-m+"px "+-v+"px "+-b+"px",threshold:wa(0,kl(1,c))||1};let _=!0;function S(N){const k=N[0].intersectionRatio;if(k!==c){if(!_)return s();k?s(!1,k):n=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!jB(u,e.getBoundingClientRect())&&s(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return s(!0),i}function MZ(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=gE(e),d=a||i?[...u?Xp(u):[],...Xp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?TZ(u,r):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Yc(e):null;c&&v();function v(){const b=Yc(e);m&&!jB(m,b)&&r(),m=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const $Z=aZ,IZ=iZ,RZ=tZ,DZ=oZ,LZ=rZ,GT=eZ,FZ=sZ,BZ=(e,t,r)=>{const n=new Map,a={platform:AZ,...r},i={...a.platform,_c:n};return ZQ(e,t,{...a,platform:i})};var UZ=typeof document<"u",zZ=function(){},fy=UZ?y.useLayoutEffect:zZ;function Qy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Qy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Qy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KT(e,t){const r=SB(e);return Math.round(t*r)/r}function P_(e){const t=y.useRef(e);return fy(()=>{t.current=e}),t}function VZ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=y.useState(n);Qy(h,n)||p(n);const[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(R=>{R!==N.current&&(N.current=R,m(R))},[]),w=y.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=i||g,S=s||v,N=y.useRef(null),k=y.useRef(null),C=y.useRef(d),A=c!=null,T=P_(c),I=P_(a),O=P_(u),L=y.useCallback(()=>{if(!N.current||!k.current)return;const R={placement:t,strategy:r,middleware:h};I.current&&(R.platform=I.current),BZ(N.current,k.current,R).then(U=>{const K={...U,isPositioned:O.current!==!1};$.current&&!Qy(C.current,K)&&(C.current=K,pu.flushSync(()=>{f(K)}))})},[h,t,r,I,O]);fy(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const $=y.useRef(!1);fy(()=>($.current=!0,()=>{$.current=!1}),[]),fy(()=>{if(_&&(N.current=_),S&&(k.current=S),_&&S){if(T.current)return T.current(_,S,L);L()}},[_,S,L,T,A]);const F=y.useMemo(()=>({reference:N,floating:k,setReference:x,setFloating:w}),[x,w]),V=y.useMemo(()=>({reference:_,floating:S}),[_,S]),z=y.useMemo(()=>{const R={position:r,left:0,top:0};if(!V.floating)return R;const U=KT(V.floating,d.x),K=KT(V.floating,d.y);return l?{...R,transform:"translate("+U+"px, "+K+"px)",...SB(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:K}},[r,l,V.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:L,refs:F,elements:V,floatingStyles:z}),[d,L,F,V,z])}const WZ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?GT({element:n.current,padding:a}).fn(r):{}:n?GT({element:n,padding:a}).fn(r):{}}}},HZ=(e,t)=>({...$Z(e),options:[e,t]}),qZ=(e,t)=>({...IZ(e),options:[e,t]}),GZ=(e,t)=>({...FZ(e),options:[e,t]}),KZ=(e,t)=>({...RZ(e),options:[e,t]}),YZ=(e,t)=>({...DZ(e),options:[e,t]}),JZ=(e,t)=>({...LZ(e),options:[e,t]}),XZ=(e,t)=>({...WZ(e),options:[e,t]});var QZ="Arrow",NB=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});NB.displayName=QZ;var ZZ=NB;function u0(e){const[t,r]=y.useState(void 0);return _r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,l=u.blockSize}else s=e.offsetWidth,l=e.offsetHeight;r({width:s,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var vE="Popper",[kB,Il]=mn(vE),[eee,CB]=kB(vE),EB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return o.jsx(eee,{scope:t,anchor:n,onAnchorChange:a,children:r})};EB.displayName=vE;var PB="PopperAnchor",OB=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=CB(PB,r),s=y.useRef(null),l=Ke(t,s),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:o.jsx(Me.div,{...a,ref:l})});OB.displayName=PB;var yE="PopperContent",[tee,ree]=kB(yE),AB=y.forwardRef((e,t)=>{var D,G,q,J,ee,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,v=CB(yE,r),[b,x]=y.useState(null),w=Ke(t,xe=>x(xe)),[_,S]=y.useState(null),N=u0(_),k=(N==null?void 0:N.width)??0,C=(N==null?void 0:N.height)??0,A=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,L={padding:T,boundary:I.filter(aee),altBoundary:O},{refs:$,floatingStyles:F,placement:V,isPositioned:z,middlewareData:R}=VZ({strategy:"fixed",placement:A,whileElementsMounted:(...xe)=>MZ(...xe,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[HZ({mainAxis:a+C,alignmentAxis:s}),c&&qZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?GZ():void 0,...L}),c&&KZ({...L}),YZ({...L,apply:({elements:xe,rects:Ne,availableWidth:Je,availableHeight:He})=>{const{width:Be,height:st}=Ne.reference,Rt=xe.floating.style;Rt.setProperty("--radix-popper-available-width",`${Je}px`),Rt.setProperty("--radix-popper-available-height",`${He}px`),Rt.setProperty("--radix-popper-anchor-width",`${Be}px`),Rt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),_&&XZ({element:_,padding:l}),iee({arrowWidth:k,arrowHeight:C}),h&&JZ({strategy:"referenceHidden",...L})]}),[U,K]=$B(V),re=gr(g);_r(()=>{z&&(re==null||re())},[z,re]);const Q=(D=R.arrow)==null?void 0:D.x,j=(G=R.arrow)==null?void 0:G.y,P=((q=R.arrow)==null?void 0:q.centerOffset)!==0,[E,B]=y.useState();return _r(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:z?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:E,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(ee=R.transformOrigin)==null?void 0:ee.y].join(" "),...((Y=R.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(tee,{scope:r,placedSide:U,onArrowChange:S,arrowX:Q,arrowY:j,shouldHideArrow:P,children:o.jsx(Me.div,{"data-side":U,"data-align":K,...m,ref:w,style:{...m.style,animation:z?void 0:"none"}})})})});AB.displayName=yE;var TB="PopperArrow",nee={top:"bottom",right:"left",bottom:"top",left:"right"},MB=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=ree(TB,n),s=nee[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(ZZ,{...a,ref:r,style:{...a.style,display:"block"}})})});MB.displayName=TB;function aee(e){return e!==null}var iee=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:a}=t,s=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,d]=$B(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=s?f:`${h}px`,m=`${-c}px`):u==="top"?(g=s?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=s?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=s?f:`${p}px`),{data:{x:g,y:m}}}});function $B(e){const[t,r="center"]=e.split("-");return[t,r]}var xE=EB,hg=OB,d0=AB,f0=MB,see=Symbol("radix.slottable");function oee(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=see,t}var[h0]=mn("Tooltip",[Il]),bE=Il(),IB="TooltipProvider",lee=700,YT="tooltip.open",[cee,RB]=h0(IB),DB=e=>{const{__scopeTooltip:t,delayDuration:r=lee,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,s=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),o.jsx(cee,{scope:t,isOpenDelayedRef:s,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};DB.displayName=IB;var LB="Tooltip",[G6e,p0]=h0(LB),hS="TooltipTrigger",uee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=p0(hS,r),i=RB(hS,r),s=bE(r),l=y.useRef(null),c=Ke(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),o.jsx(hg,{asChild:!0,...s,children:o.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:fe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:fe(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:fe(e.onBlur,a.onClose),onClick:fe(e.onClick,a.onClose)})})});uee.displayName=hS;var dee="TooltipPortal",[K6e,fee]=h0(dee,{forceMount:void 0}),af="TooltipContent",FB=y.forwardRef((e,t)=>{const r=fee(af,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,s=p0(af,e.__scopeTooltip);return o.jsx(Wr,{present:n||s.open,children:s.disableHoverableContent?o.jsx(BB,{side:a,...i,ref:t}):o.jsx(hee,{side:a,...i,ref:t})})}),hee=y.forwardRef((e,t)=>{const r=p0(af,e.__scopeTooltip),n=RB(af,e.__scopeTooltip),a=y.useRef(null),i=Ke(t,a),[s,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),p=y.useCallback((g,m)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=yee(b,v.getBoundingClientRect()),w=xee(b,x),_=bee(m.getBoundingClientRect()),S=_ee([...w,..._]);l(S),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>p(v,d),m=v=>p(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),y.useEffect(()=>{if(s){const g=m=>{const v=m.target,b={x:m.clientX,y:m.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!wee(b,s);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,s,u,h]),o.jsx(BB,{...e,ref:i})}),[pee,mee]=h0(LB,{isInside:!1}),gee=oee("TooltipContent"),BB=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:s,...l}=e,c=p0(af,r),u=bE(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(YT,d),()=>document.removeEventListener(YT,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:o.jsxs(d0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(gee,{children:n}),o.jsx(pee,{scope:r,isInside:!0,children:o.jsx(EJ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});FB.displayName=af;var UB="TooltipArrow",vee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=bE(r);return mee(UB,r).isInside?null:o.jsx(f0,{...a,...n,ref:t})});vee.displayName=UB;function yee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function xee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function wee(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function _ee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),jee(t)}function jee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],s=r[r.length-2];if((i.x-s.x)*(a.y-s.y)>=(i.y-s.y)*(a.x-s.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var See=DB,zB=FB;const Nee=See,kee=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(zB,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));kee.displayName=zB.displayName;var m0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Cee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Qo,iC,nF,Eee=(nF=class{constructor(){dt(this,Qo,Cee);dt(this,iC,!1)}setTimeoutProvider(e){Qe(this,Qo,e)}setTimeout(e,t){return ae(this,Qo).setTimeout(e,t)}clearTimeout(e){ae(this,Qo).clearTimeout(e)}setInterval(e,t){return ae(this,Qo).setInterval(e,t)}clearInterval(e){ae(this,Qo).clearInterval(e)}},Qo=new WeakMap,iC=new WeakMap,nF),pS=new Eee;function Pee(e){setTimeout(e,0)}var g0=typeof window>"u"||"Deno"in globalThis;function ji(){}function Oee(e,t){return typeof e=="function"?e(t):e}function Aee(e){return typeof e=="number"&&e>=0&&e!==1/0}function Tee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function mS(e,t){return typeof e=="function"?e(t):e}function Mee(e,t){return typeof e=="function"?e(t):e}function JT(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:s,stale:l}=e;if(s){if(n){if(t.queryHash!==wE(s,t.options))return!1}else if(!Zp(t.queryKey,s))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function XT(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Qp(t.options.mutationKey)!==Qp(i))return!1}else if(!Zp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function wE(e,t){return((t==null?void 0:t.queryKeyHashFn)||Qp)(e)}function Qp(e){return JSON.stringify(e,(t,r)=>gS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Zp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Zp(e[r],t[r])):!1}var $ee=Object.prototype.hasOwnProperty;function VB(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=QT(e)&&QT(t);if(!n&&!(gS(e)&&gS(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),l=s.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:s[d],h=e[f],p=t[f];if(h===p){c[f]=h,(n?d<i:$ee.call(e,f))&&u++;continue}if(h===null||p===null||typeof h!="object"||typeof p!="object"){c[f]=p;continue}const g=VB(h,p,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function QT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gS(e){if(!ZT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ZT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ZT(e){return Object.prototype.toString.call(e)==="[object Object]"}function Iee(e){return new Promise(t=>{pS.setTimeout(t,e)})}function Ree(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?VB(e,t):t}function Dee(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Lee(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var _E=Symbol();function WB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===_E?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Fee(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Cc,Zo,Fd,aF,Bee=(aF=class extends m0{constructor(){super();dt(this,Cc);dt(this,Zo);dt(this,Fd);Qe(this,Fd,t=>{if(!g0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,Zo)||this.setEventListener(ae(this,Fd))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,Zo))==null||t.call(this),Qe(this,Zo,void 0))}setEventListener(t){var r;Qe(this,Fd,t),(r=ae(this,Zo))==null||r.call(this),Qe(this,Zo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,Cc)!==t&&(Qe(this,Cc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,Cc)=="boolean"?ae(this,Cc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Cc=new WeakMap,Zo=new WeakMap,Fd=new WeakMap,aF),HB=new Bee;function Uee(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var zee=Pee;function Vee(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=zee;const i=l=>{t?e.push(l):a(()=>{r(l)})},s=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var In=Vee(),Bd,el,Ud,iF,Wee=(iF=class extends m0{constructor(){super();dt(this,Bd,!0);dt(this,el);dt(this,Ud);Qe(this,Ud,t=>{if(!g0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,el)||this.setEventListener(ae(this,Ud))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,el))==null||t.call(this),Qe(this,el,void 0))}setEventListener(t){var r;Qe(this,Ud,t),(r=ae(this,el))==null||r.call(this),Qe(this,el,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Bd)!==t&&(Qe(this,Bd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Bd)}},Bd=new WeakMap,el=new WeakMap,Ud=new WeakMap,iF),Zy=new Wee;function Hee(e){return Math.min(1e3*2**e,3e4)}function qB(e){return(e??"online")==="online"?Zy.isOnline():!0}var vS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function GB(e){let t=!1,r=0,n;const a=Uee(),i=()=>a.status!=="pending",s=m=>{var v;if(!i()){const b=new vS(m);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>HB.isFocused()&&(e.networkMode==="always"||Zy.isOnline())&&e.canRun(),d=()=>qB(e.networkMode)&&e.canRun(),f=m=>{i()||(n==null||n(),a.resolve(m))},h=m=>{i()||(n==null||n(),a.reject(m))},p=()=>new Promise(m=>{var v;n=b=>{(i()||u())&&m(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(i())return;let m;const v=r===0?e.initialPromise:void 0;try{m=v??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{var N;if(i())return;const x=e.retry??(g0?0:3),w=e.retryDelay??Hee,_=typeof w=="function"?w(r,b):w,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!S){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),Iee(_).then(()=>u()?void 0:p()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:s,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),a)}}var Ec,sF,KB=(sF=class{constructor(){dt(this,Ec)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Aee(this.gcTime)&&Qe(this,Ec,pS.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(g0?1/0:5*60*1e3))}clearGcTimeout(){ae(this,Ec)&&(pS.clearTimeout(ae(this,Ec)),Qe(this,Ec,void 0))}},Ec=new WeakMap,sF),Pc,zd,za,Oc,qr,tg,Ac,Ni,Ds,oF,qee=(oF=class extends KB{constructor(t){super();dt(this,Ni);dt(this,Pc);dt(this,zd);dt(this,za);dt(this,Oc);dt(this,qr);dt(this,tg);dt(this,Ac);Qe(this,Ac,!1),Qe(this,tg,t.defaultOptions),this.setOptions(t.options),this.observers=[],Qe(this,Oc,t.client),Qe(this,za,ae(this,Oc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Qe(this,Pc,t2(this.options)),this.state=t.state??ae(this,Pc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,qr))==null?void 0:t.promise}setOptions(t){if(this.options={...ae(this,tg),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=t2(this.options);r.data!==void 0&&(this.setState(e2(r.data,r.dataUpdatedAt)),Qe(this,Pc,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,za).remove(this)}setData(t,r){const n=Ree(this.state.data,t,this.options);return gn(this,Ni,Ds).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){gn(this,Ni,Ds).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ae(this,qr))==null?void 0:n.promise;return(a=ae(this,qr))==null||a.cancel(t),r?r.then(ji).catch(ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Pc))}isActive(){return this.observers.some(t=>Mee(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_E||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>mS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Tee(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,qr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,qr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,za).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,qr)&&(ae(this,Ac)?ae(this,qr).cancel({revert:!0}):ae(this,qr).cancelRetry()),this.scheduleGc()),ae(this,za).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||gn(this,Ni,Ds).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,p,g,m,v,b,x,w;if(this.state.fetchStatus!=="idle"&&((c=ae(this,qr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,qr))return ae(this,qr).continueRetry(),ae(this,qr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Qe(this,Ac,!0),n.signal)})},i=()=>{const _=WB(this.options,r),N=(()=>{const k={client:ae(this,Oc),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Qe(this,Ac,!1),this.options.persister?this.options.persister(_,N,this):_(N)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,Oc),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Qe(this,zd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&gn(this,Ni,Ds).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Qe(this,qr,GB({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof vS&&_.revert&&this.setState({...ae(this,zd),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{gn(this,Ni,Ds).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{gn(this,Ni,Ds).call(this,{type:"pause"})},onContinue:()=>{gn(this,Ni,Ds).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ae(this,qr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(p=(h=ae(this,za).config).onSuccess)==null||p.call(h,_,this),(m=(g=ae(this,za).config).onSettled)==null||m.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof vS){if(_.silent)return ae(this,qr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw gn(this,Ni,Ds).call(this,{type:"error",error:_}),(b=(v=ae(this,za).config).onError)==null||b.call(v,_,this),(w=(x=ae(this,za).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},Pc=new WeakMap,zd=new WeakMap,za=new WeakMap,Oc=new WeakMap,qr=new WeakMap,tg=new WeakMap,Ac=new WeakMap,Ni=new WeakSet,Ds=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Gee(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...e2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Qe(this,zd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),In.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,za).notify({query:this,type:"updated",action:t})})},oF);function Gee(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:qB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function e2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function t2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function r2(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],s=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const v=w=>{Fee(w,()=>t.signal,()=>m=!0)},b=WB(t.options,t.fetchOptions),x=async(w,_,S)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(I),I})(),C=await b(k),{maxPages:A}=t.options,T=S?Lee:Dee;return{pages:T(w.pages,C,A),pageParams:T(w.pageParams,_,A)}};if(a&&i.length){const w=a==="backward",_=w?Kee:n2,S={pages:i,pageParams:s},N=_(n,S);l=await x(S,N,w)}else{const w=e??i.length;do{const _=c===0?s[0]??n.initialPageParam:n2(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var m,v;return(v=(m=t.options).persister)==null?void 0:v.call(m,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function n2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Kee(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var rg,ns,An,Tc,as,Lo,lF,Yee=(lF=class extends KB{constructor(t){super();dt(this,as);dt(this,rg);dt(this,ns);dt(this,An);dt(this,Tc);Qe(this,rg,t.client),this.mutationId=t.mutationId,Qe(this,An,t.mutationCache),Qe(this,ns,[]),this.state=t.state||Jee(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,ns).includes(t)||(ae(this,ns).push(t),this.clearGcTimeout(),ae(this,An).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Qe(this,ns,ae(this,ns).filter(r=>r!==t)),this.scheduleGc(),ae(this,An).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,ns).length||(this.state.status==="pending"?this.scheduleGc():ae(this,An).remove(this))}continue(){var t;return((t=ae(this,Tc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,l,c,u,d,f,h,p,g,m,v,b,x,w,_,S,N,k,C,A;const r=()=>{gn(this,as,Lo).call(this,{type:"continue"})},n={client:ae(this,rg),meta:this.options.meta,mutationKey:this.options.mutationKey};Qe(this,Tc,GB({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{gn(this,as,Lo).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{gn(this,as,Lo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,An).canRun(this)}));const a=this.state.status==="pending",i=!ae(this,Tc).canStart();try{if(a)r();else{gn(this,as,Lo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(s=ae(this,An).config).onMutate)==null?void 0:l.call(s,t,this,n));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));I!==this.state.context&&gn(this,as,Lo).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const T=await ae(this,Tc).start();return await((f=(d=ae(this,An).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,T,t,this.state.context,n)),await((m=(g=ae(this,An).config).onSettled)==null?void 0:m.call(g,T,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context,n)),gn(this,as,Lo).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(x=ae(this,An).config).onError)==null?void 0:w.call(x,T,t,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((S=(_=this.options).onError)==null?void 0:S.call(_,T,t,this.state.context,n))}catch(I){Promise.reject(I)}try{await((k=(N=ae(this,An).config).onSettled)==null?void 0:k.call(N,void 0,T,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,T,t,this.state.context,n))}catch(I){Promise.reject(I)}throw gn(this,as,Lo).call(this,{type:"error",error:T}),T}finally{ae(this,An).runNext(this)}}},rg=new WeakMap,ns=new WeakMap,An=new WeakMap,Tc=new WeakMap,as=new WeakSet,Lo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),In.batch(()=>{ae(this,ns).forEach(n=>{n.onMutationUpdate(t)}),ae(this,An).notify({mutation:this,type:"updated",action:t})})},lF);function Jee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qs,ki,ng,cF,Xee=(cF=class extends m0{constructor(t={}){super();dt(this,qs);dt(this,ki);dt(this,ng);this.config=t,Qe(this,qs,new Set),Qe(this,ki,new Map),Qe(this,ng,0)}build(t,r,n){const a=new Yee({client:t,mutationCache:this,mutationId:++Ug(this,ng)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ae(this,qs).add(t);const r=uv(t);if(typeof r=="string"){const n=ae(this,ki).get(r);n?n.push(t):ae(this,ki).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,qs).delete(t)){const r=uv(t);if(typeof r=="string"){const n=ae(this,ki).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ae(this,ki).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=uv(t);if(typeof r=="string"){const n=ae(this,ki).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=uv(t);if(typeof r=="string"){const a=(n=ae(this,ki).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){In.batch(()=>{ae(this,qs).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,qs).clear(),ae(this,ki).clear()})}getAll(){return Array.from(ae(this,qs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>XT(r,n))}findAll(t={}){return this.getAll().filter(r=>XT(t,r))}notify(t){In.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return In.batch(()=>Promise.all(t.map(r=>r.continue().catch(ji))))}},qs=new WeakMap,ki=new WeakMap,ng=new WeakMap,cF);function uv(e){var t;return(t=e.options.scope)==null?void 0:t.id}var is,uF,Qee=(uF=class extends m0{constructor(t={}){super();dt(this,is);this.config=t,Qe(this,is,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??wE(a,r);let s=this.get(i);return s||(s=new qee({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(s)),s}add(t){ae(this,is).has(t.queryHash)||(ae(this,is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,is).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){In.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,is).get(t)}getAll(){return[...ae(this,is).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>JT(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>JT(t,n)):r}notify(t){In.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){In.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){In.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},is=new WeakMap,uF),dr,tl,rl,Vd,Wd,nl,Hd,qd,dF,Zee=(dF=class{constructor(e={}){dt(this,dr);dt(this,tl);dt(this,rl);dt(this,Vd);dt(this,Wd);dt(this,nl);dt(this,Hd);dt(this,qd);Qe(this,dr,e.queryCache||new Qee),Qe(this,tl,e.mutationCache||new Xee),Qe(this,rl,e.defaultOptions||{}),Qe(this,Vd,new Map),Qe(this,Wd,new Map),Qe(this,nl,0)}mount(){Ug(this,nl)._++,ae(this,nl)===1&&(Qe(this,Hd,HB.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,dr).onFocus())})),Qe(this,qd,Zy.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,dr).onOnline())})))}unmount(){var e,t;Ug(this,nl)._--,ae(this,nl)===0&&((e=ae(this,Hd))==null||e.call(this),Qe(this,Hd,void 0),(t=ae(this,qd))==null||t.call(this),Qe(this,qd,void 0))}isFetching(e){return ae(this,dr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,tl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,dr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,dr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,dr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ae(this,dr).get(n.queryHash),i=a==null?void 0:a.state.data,s=Oee(t,i);if(s!==void 0)return ae(this,dr).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return In.batch(()=>ae(this,dr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,dr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,dr);In.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,dr);return In.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=In.batch(()=>ae(this,dr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ji).catch(ji)}invalidateQueries(e,t={}){return In.batch(()=>(ae(this,dr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=In.batch(()=>ae(this,dr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ji)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ji)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,dr).build(this,t);return r.isStaleByTime(mS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ji).catch(ji)}fetchInfiniteQuery(e){return e.behavior=r2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ji).catch(ji)}ensureInfiniteQueryData(e){return e.behavior=r2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Zy.isOnline()?ae(this,tl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,dr)}getMutationCache(){return ae(this,tl)}getDefaultOptions(){return ae(this,rl)}setDefaultOptions(e){Qe(this,rl,e)}setQueryDefaults(e,t){ae(this,Vd).set(Qp(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Vd).values()],r={};return t.forEach(n=>{Zp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,Wd).set(Qp(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Wd).values()],r={};return t.forEach(n=>{Zp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,rl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_E&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,rl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,dr).clear(),ae(this,tl).clear()}},dr=new WeakMap,tl=new WeakMap,rl=new WeakMap,Vd=new WeakMap,Wd=new WeakMap,nl=new WeakMap,Hd=new WeakMap,qd=new WeakMap,dF),ete=y.createContext(void 0),tte=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(ete.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}var sl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sl||(sl={}));const a2="popstate";function rte(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:l}=n.location;return yS("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:ex(a)}return ate(t,r,null,e)}function wr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nte(){return Math.random().toString(36).substr(2,8)}function i2(e,t){return{usr:e.state,key:e.key,idx:t}}function yS(e,t,r,n){return r===void 0&&(r=null),em({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rh(t):t,{state:r,key:t&&t.key||n||nte()})}function ex(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function rh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function ate(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=sl.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(em({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function f(){l=sl.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:m.location,delta:b})}function h(v,b){l=sl.Push;let x=yS(m.location,v,b);u=d()+1;let w=i2(x,u),_=m.createHref(x);try{s.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:m.location,delta:1})}function p(v,b){l=sl.Replace;let x=yS(m.location,v,b);u=d();let w=i2(x,u),_=m.createHref(x);s.replaceState(w,"",_),i&&c&&c({action:l,location:m.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:ex(v);return x=x.replace(/ $/,"%20"),wr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let m={get action(){return l},get location(){return e(a,s)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(a2,f),c=v,()=>{a.removeEventListener(a2,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(v){return s.go(v)}};return m}var s2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(s2||(s2={}));function ite(e,t,r){return r===void 0&&(r="/"),ste(e,t,r)}function ste(e,t,r,n){let a=typeof t=="string"?rh(t):t,i=SE(a.pathname||"/",r);if(i==null)return null;let s=YB(e);ote(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=xte(i);l=gte(s[c],u)}return l}function YB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(wr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=yl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(wr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YB(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:pte(u,i.index),routesMeta:d})};return e.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of JB(i.path))a(i,s,c)}),t}function JB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=JB(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ote(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lte=/^:[\w-]+$/,cte=3,ute=2,dte=1,fte=10,hte=-2,o2=e=>e==="*";function pte(e,t){let r=e.split("/"),n=r.length;return r.some(o2)&&(n+=hte),t&&(n+=ute),r.filter(a=>!o2(a)).reduce((a,i)=>a+(lte.test(i)?cte:i===""?dte:fte),n)}function mte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gte(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vte({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:yl([i,f.pathname]),pathnameBase:Ste(yl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=yl([i,f.pathnameBase]))}return s}function vte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:p}=d;if(h==="*"){let m=l[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=l[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:e}}function yte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function xte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function SE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const bte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wte=e=>bte.test(e);function _te(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?rh(e):e,i;if(r)if(wte(r))i=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),jE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?i=l2(r.substring(1),"/"):i=l2(r,t)}else i=t;return{pathname:i,search:Nte(n),hash:kte(a)}}function l2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function O_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function NE(e,t){let r=jte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function kE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=rh(e):(a=em({},e),wr(!a.pathname||!a.pathname.includes("?"),O_("?","pathname","search",a)),wr(!a.pathname||!a.pathname.includes("#"),O_("#","pathname","hash",a)),wr(!a.search||!a.search.includes("#"),O_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=_te(a,l),u=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const yl=e=>e.join("/").replace(/\/\/+/g,"/"),Ste=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const XB=["post","put","patch","delete"];new Set(XB);const Ete=["get",...XB];new Set(Ete);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}const CE=y.createContext(null),Pte=y.createContext(null),Rl=y.createContext(null),v0=y.createContext(null),Dl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),QB=y.createContext(null);function Ote(e,t){let{relative:r}=t===void 0?{}:t;nh()||wr(!1);let{basename:n,navigator:a}=y.useContext(Rl),{hash:i,pathname:s,search:l}=eU(e,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:yl([n,s])),a.createHref({pathname:c,search:l,hash:i})}function nh(){return y.useContext(v0)!=null}function Cs(){return nh()||wr(!1),y.useContext(v0).location}function ZB(e){y.useContext(Rl).static||y.useLayoutEffect(e)}function En(){let{isDataRoute:e}=y.useContext(Dl);return e?Vte():Ate()}function Ate(){nh()||wr(!1);let e=y.useContext(CE),{basename:t,future:r,navigator:n}=y.useContext(Rl),{matches:a}=y.useContext(Dl),{pathname:i}=Cs(),s=JSON.stringify(NE(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return ZB(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=kE(u,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,s,i,e])}function eU(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Rl),{matches:a}=y.useContext(Dl),{pathname:i}=Cs(),s=JSON.stringify(NE(a,n.v7_relativeSplatPath));return y.useMemo(()=>kE(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function Tte(e,t){return Mte(e,t)}function Mte(e,t,r,n){nh()||wr(!1);let{navigator:a}=y.useContext(Rl),{matches:i}=y.useContext(Dl),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Cs(),d;if(t){var f;let v=typeof t=="string"?rh(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||wr(!1),d=v}else d=u;let h=d.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=ite(e,{pathname:p}),m=Lte(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:yl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:yl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&m?y.createElement(v0.Provider,{value:{location:tm({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:sl.Pop}},m):m}function $te(){let e=zte(),t=Cte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const Ite=y.createElement($te,null);class Rte extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Dl.Provider,{value:this.props.routeContext},y.createElement(QB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dte(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(CE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Dl.Provider,{value:t},n)}function Lte(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||wr(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let p,g=!1,m=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,m=f.route.errorElement||Ite,c&&(u<0&&h===0?(Wte("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,h+1)),x=()=>{let w;return p?w=m:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(Dte,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(Rte,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var tU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(tU||{}),rU=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rU||{});function Fte(e){let t=y.useContext(CE);return t||wr(!1),t}function Bte(e){let t=y.useContext(Pte);return t||wr(!1),t}function Ute(e){let t=y.useContext(Dl);return t||wr(!1),t}function nU(e){let t=Ute(),r=t.matches[t.matches.length-1];return r.route.id||wr(!1),r.route.id}function zte(){var e;let t=y.useContext(QB),r=Bte(),n=nU();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Vte(){let{router:e}=Fte(tU.UseNavigateStable),t=nU(rU.UseNavigateStable),r=y.useRef(!1);return ZB(()=>{r.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,tm({fromRouteId:t},i)))},[e,t])}const c2={};function Wte(e,t,r){c2[e]||(c2[e]=!0)}function Hte(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function u2(e){let{to:t,replace:r,state:n,relative:a}=e;nh()||wr(!1);let{future:i,static:s}=y.useContext(Rl),{matches:l}=y.useContext(Dl),{pathname:c}=Cs(),u=En(),d=kE(t,NE(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function ha(e){wr(!1)}function qte(e){let{basename:t="/",children:r=null,location:n,navigationType:a=sl.Pop,navigator:i,static:s=!1,future:l}=e;nh()&&wr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:s,future:tm({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=rh(n));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=n,m=y.useMemo(()=>{let v=SE(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:p,key:g},navigationType:a}},[c,d,f,h,p,g,a]);return m==null?null:y.createElement(Rl.Provider,{value:u},y.createElement(v0.Provider,{children:r,value:m}))}function Gte(e){let{children:t,location:r}=e;return Tte(xS(t),r)}new Promise(()=>{});function xS(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,xS(n.props.children,i));return}n.type!==ha&&wr(!1),!n.props.index||!n.props.children||wr(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=xS(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bS.apply(this,arguments)}function Kte(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Yte(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jte(e,t){return e.button===0&&(!t||t==="_self")&&!Yte(e)}function wS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Xte(e,t){let r=wS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Qte=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zte="6";try{window.__reactRouterVersion=Zte}catch{}const ere="startTransition",d2=Bb[ere];function tre(e){let{basename:t,children:r,future:n,window:a}=e,i=y.useRef();i.current==null&&(i.current=rte({window:a,v5Compat:!0}));let s=i.current,[l,c]=y.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&d2?d2(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.useEffect(()=>Hte(n),[n]),y.createElement(qte,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const rre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=Kte(t,Qte),{basename:p}=y.useContext(Rl),g,m=!1;if(typeof u=="string"&&nre.test(u)&&(g=u,rre))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=SE(_.pathname,p);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:m=!0}catch{}let v=Ote(u,{relative:a}),b=are(u,{replace:s,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",bS({},h,{href:g||v,onClick:m||i?n:x,ref:r,target:c}))});var f2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f2||(f2={}));var h2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(h2||(h2={}));function are(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=t===void 0?{}:t,c=En(),u=Cs(),d=eU(e,{relative:s});return y.useCallback(f=>{if(Jte(f,r)){f.preventDefault();let h=n!==void 0?n:ex(u)===ex(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,d,n,a,r,e,i,s,l])}function EE(e){let t=y.useRef(wS(e)),r=y.useRef(!1),n=Cs(),a=y.useMemo(()=>Xte(n.search,r.current?null:t.current),[n.search]),i=En(),s=y.useCallback((l,c)=>{const u=wS(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,s]}var ls=function(){return ls=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ls.apply(this,arguments)};function ah(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function ire(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(d){try{u(n.next(d))}catch(f){s(f)}}function c(d){try{u(n.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function sre(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const ore=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class PE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class lre extends PE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class p2 extends PE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class m2 extends PE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _S;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_S||(_S={}));class cre{constructor(t,{headers:r={},customFetch:n,region:a=_S.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ore(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ire(this,arguments,void 0,function*(r,n={}){var a;let i,s;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const g=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let m;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?m=JSON.stringify(u):m=u;let v=d;f&&(s=new AbortController,i=setTimeout(()=>s.abort(),f),d?(v=s.signal,d.addEventListener("abort",()=>s.abort())):v=s.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m,signal:v}).catch(S=>{throw new lre(S)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new p2(b);if(!b.ok)throw new m2(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof m2||l instanceof p2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var ure=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},dre=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let s=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var p;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const m=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");m&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(s={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const m=await i.text();try{s=JSON.parse(m),Array.isArray(s)&&i.status===404&&(l=[],s=null,u=200,d="OK")}catch{i.status===404&&m===""?(u=204,d="No Content"):s={message:m}}if(s&&r.isMaybeSingle&&(!(s==null||(g=s.details)===null||g===void 0)&&g.includes("0 rows"))&&(s=null,u=200,d="OK"),s&&r.shouldThrowOnError)throw new ure(s)}return{error:s,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var s;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",m=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,m&&(l+=` (${m})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var p;l=(p=i==null?void 0:i.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},fre=class extends dre{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var s;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const g2=new RegExp("[,()]");var Ku=class extends fre{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&g2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&g2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},hre=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const s=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",s),n&&c.append("Prefer",`count=${n}`),new Ku({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer",`count=${t}`),r||s.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Ku({method:a,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const s="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Ku({method:s,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Ku({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ku({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},pre=class aU{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new hre(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new aU(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var s;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{c.searchParams.append(p,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Ku({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class mre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const gre="2.90.1",vre=`realtime-js/${gre}`,iU="1.0.0",yre="2.0.0",v2=iU,jS=1e4,xre=1e3,bre=100;var Wo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wo||(Wo={}));var Rr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rr||(Rr={}));var Ei;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ei||(Ei={}));var SS;(function(e){e.websocket="websocket"})(SS||(SS={}));var fc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(fc||(fc={}));class wre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},s=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(t,r,n){var a,i;const s=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+s.length+u.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(p),m=0;g.setUint8(m++,this.KINDS.userBroadcastPush),g.setUint8(m++,c.length),g.setUint8(m++,l.length),g.setUint8(m++,s.length),g.setUint8(m++,u.length),g.setUint8(m++,f.length),g.setUint8(m++,r),Array.from(c,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(m++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(m++,b.charCodeAt(0)));var v=new Uint8Array(p.byteLength+n.byteLength);return v.set(new Uint8Array(p),0),v.set(new Uint8Array(n),p.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,s,l,c]=n;return r({join_ref:a,ref:i,topic:s,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),s=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+s));c=c+s;const h=t.slice(c,t.byteLength),p=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:p};return s>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class sU{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Dt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Dt||(Dt={}));const y2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,s)=>(i[s]=_re(s,e,t,a),i),{}):{}},_re=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?oU(i,s):NS(s)},oU=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return kre(t,r)}switch(e){case Dt.bool:return jre(t);case Dt.float4:case Dt.float8:case Dt.int2:case Dt.int4:case Dt.int8:case Dt.numeric:case Dt.oid:return Sre(t);case Dt.json:case Dt.jsonb:return Nre(t);case Dt.timestamp:return Cre(t);case Dt.abstime:case Dt.date:case Dt.daterange:case Dt.int4range:case Dt.int8range:case Dt.money:case Dt.reltime:case Dt.text:case Dt.time:case Dt.timestamptz:case Dt.timetz:case Dt.tsrange:case Dt.tstzrange:return NS(t);default:return NS(t)}},NS=e=>e,jre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Sre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Nre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},kre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(l=>oU(t,l))}return e},Cre=e=>typeof e=="string"?e.replace(" ","T"):e,lU=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class A_{constructor(t,r,n={},a=jS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var x2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(x2||(x2={}));class yp{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yp.syncState(this.state,a,i,s),this.pendingDiffs.forEach(c=>{this.state=yp.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=yp.syncDiff(this.state,a,i,s),l())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{s[u]||(c[u]=d)}),this.map(s,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(s,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(b2||(b2={}));var xp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xp||(xp={}));var Bs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Bs||(Bs={}));class pd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new A_(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new sU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new yp(this),this.broadcastEndpointURL=lU(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Rr.closed){const{config:{broadcast:s,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[xp.PRESENCE]&&this.bindings[xp.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Bs.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Bs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Bs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,v=(g=m==null?void 0:m.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=m[x],{filter:{event:_,schema:S,table:N,filter:k}}=w,C=p&&p[x];if(C&&C.event===_&&pd.isFilterValueEqual(C.schema,S)&&pd.isFilterValueEqual(C.table,N)&&pd.isFilterValueEqual(C.filter,k))b.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=Rr.errored,t==null||t(Bs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Bs.SUBSCRIBED);return}}).receive("error",p=>{this.state=Rr.errored,t==null||t(Bs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Bs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Rr.joined&&t===xp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:s}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(s=this.params)===null||s===void 0?void 0:s.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new A_(this,Ei.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new A_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>bre){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ei;if(n&&[l,c,u,d].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===s}).map(p=>p.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(p=>{var g,m,v,b,x,w,_,S;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in p){const N=p.id,k=(g=p.filter)===null||g===void 0?void 0:g.event;return N&&((m=r.ids)===null||m===void 0?void 0:m.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=p.filter)===null||b===void 0)&&b.table)||p.filter.table===((x=r.data)===null||x===void 0?void 0:x.table))}else{const N=(_=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return N==="*"||N===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===s}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:m,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(h,n)})}_isClosed(){return this.state===Rr.closed}_isJoined(){return this.state===Rr.joined}_isJoining(){return this.state===Rr.joining}_isLeaving(){return this.state===Rr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ei.close,{},t)}_onError(t){this._on(Ei.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=y2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=y2(t.columns,t.old_record)),r}}const T_=()=>{},dv={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ere=[1e3,2e3,5e3,1e4],Pre=1e4,Ore=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Are{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jS,this.transport=null,this.heartbeatIntervalMs=dv.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T_,this.ref=0,this.reconnectTimer=null,this.vsn=v2,this.logger=T_,this.conn=null,this.sendBuffer=[],this.serializer=new wre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${SS.websocket}`,this.httpEndpoint=lU(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wo.connecting:return fc.Connecting;case Wo.open:return fc.Open;case Wo.closing:return fc.Closing;default:return fc.Closed}}isConnected(){return this.connectionState()===fc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new pd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(xre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},dv.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:s}=r,l=s?`(${s})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Wo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wo.open||this.conn.readyState===Wo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ei.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ore],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:vre};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Ei.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},dv.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,s,l,c,u,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:jS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:dv.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:T_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:v2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Ere[g-1]||Pre,this.vsn){case iU:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,m)=>m(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,m)=>m(JSON.parse(g));break;case yre:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var rm=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Tre(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function Mre(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $re(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:s}){const l=Tre(e.baseUrl,n,a),c=await Mre(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...s},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const p=f?h:void 0,g=p==null?void 0:p.error;throw new rm((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:p})}return{status:u.status,headers:u.headers,data:h}}}}function fv(e){return e.join("")}var Ire=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:fv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fv(e.namespace)}`}),!0}catch(t){if(t instanceof rm&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof rm&&r.status===409)return;throw r}}};function Au(e){return e.join("")}var Rre=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof rm&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof rm&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Dre=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$re({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Ire(this.client,t),this.tableOps=new Rre(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},y0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function sr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Lre=class extends y0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kS=class extends y0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const OE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Fre=()=>Response,CS=e=>{if(Array.isArray(e))return e.map(r=>CS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=CS(n)}),t},Bre=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ure=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function zre(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e){var t=zre(e,"string");return nm(t)=="symbol"?t:t+""}function Wre(e,t,r){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w2(Object(r),!0).forEach(function(n){Wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const M_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Hre=async(e,t,r)=>{e instanceof await Fre()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new Lre(M_(n),a,i))}).catch(n=>{t(new kS(M_(n),n))}):t(new kS(M_(e),e))},qre=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(Bre(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ve(Ve({},a),r))};async function pg(e,t,r,n,a,i){return new Promise((s,l)=>{e(r,qre(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Hre(c,l,n))})}async function am(e,t,r,n){return pg(e,"GET",t,r,n)}async function Si(e,t,r,n,a){return pg(e,"POST",t,n,a,r)}async function ES(e,t,r,n,a){return pg(e,"PUT",t,n,a,r)}async function Gre(e,t,r,n){return pg(e,"HEAD",t,Ve(Ve({},r),{},{noResolveJson:!0}),n)}async function AE(e,t,r,n,a){return pg(e,"DELETE",t,n,a,r)}var Kre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};let cU;cU=Symbol.toStringTag;var Yre=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cU]="BlobDownloadBuilder",this.promise=null}asStream(){return new Kre(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(sr(t))return{data:null,error:t};throw t}}};const Jre={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Xre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=OE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const s=Ve(Ve({},_2),n);let l=Ve(Ve({},a.headers),e==="POST"&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",s.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${s.cacheControl}`,l["content-type"]=s.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!s.duplex&&(s.duplex="half")),n!=null&&n.headers&&(l=Ve(Ve({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?ES:Si)(a.fetch,`${a.url}/object/${d}`,i,Ve({headers:l},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(sr(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),s=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${s}`);l.searchParams.set("token",t);try{let c;const u=Ve({upsert:_2.upsert},n),d=Ve(Ve({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await ES(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(sr(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ve({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Si(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(r.url+i.url),l=s.searchParams.get("token");if(!l)throw new y0("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Si(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Si(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Si(n.fetch,`${n.url}/object/sign/${a}`,Ve({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Si(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(s=>Ve(Ve({},s),{},{signedUrl:s.signedURL?encodeURI(`${n.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),s=()=>am(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new Yre(s,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:CS(await am(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Gre(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(sr(n)&&n instanceof kS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});s!==""&&n.push(s);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await AE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ve(Ve(Ve({},Jre),t),{},{prefix:e||""});return{data:await Si(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(sr(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ve({},e);return{data:await Si(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const uU="2.90.1",dU={"X-Client-Info":`storage-js/${uU}`};var Qre=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ve(Ve({},dU),t),this.fetch=OE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await am(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await am(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Si(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await ES(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(sr(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Si(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await AE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Zre=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},dU),t),this.fetch=OE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Si(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await am(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await AE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(sr(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Ure(e))throw new y0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Dre({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const s=a[i];return typeof s!="function"?s:async(...l)=>{try{return{data:await s.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const TE={"X-Client-Info":`storage-js/${uU}`,"Content-Type":"application/json"};var fU=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _a(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var $_=class extends fU{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ene=class extends fU{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const ME=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),tne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},j2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rne=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const s=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new $_(j2(i),n,s))}).catch(()=>{const i=n+"";t(new $_(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new $_(a.statusText||`HTTP ${n} error`,n,i))}}else t(new ene(j2(e),e))},nne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(tne(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ve(Ve({},a),r)):a};async function ane(e,t,r,n,a,i){return new Promise((s,l)=>{e(r,nne(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>s(c)).catch(c=>rne(c,l,n))})}async function ja(e,t,r,n,a){return ane(e,"POST",t,n,a,r)}var ine=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},TE),t),this.fetch=ME(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ja(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_a(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ja(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(_a(n))return{data:null,error:n};throw n}}},sne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},TE),t),this.fetch=ME(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ja(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ja(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ja(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}},one=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},TE),t),this.fetch=ME(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ja(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ja(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_a(r))return{data:null,error:r};throw r}}},lne=class extends one{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new cne(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},cne=class extends ine{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new une(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},une=class extends sne{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},dne=class extends Qre{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Xre(this.url,this.headers,e,this.fetch)}get vectors(){return new lne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Zre(this.url+"/iceberg",this.headers,this.fetch)}};const hU="2.90.1",Yu=30*1e3,PS=3,I_=PS*Yu,fne="http://localhost:9999",hne="supabase.auth.token",pne={"X-Client-Info":`gotrue-js/${hU}`},OS="X-Supabase-Api-Version",pU={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gne=10*60*1e3;class im extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class vne extends im{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yne(e){return Ie(e)&&e.name==="AuthApiError"}class hc extends im{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class _o extends im{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class pa extends _o{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xne(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class Tu extends _o{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hv extends _o{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pv extends _o{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bne(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class S2 extends _o{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wne extends _o{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AS extends _o{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function R_(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class N2 extends _o{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class TS extends _o{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),k2=` 	
\r=`.split(""),_ne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<k2.length;t+=1)e[k2[t].charCodeAt(0)]=-2;for(let t=0;t<tx.length;t+=1)e[tx[t].charCodeAt(0)]=t;return e})();function C2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tx[n]),t.queuedBits-=6}}function mU(e,t,r){const n=_ne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function E2(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{Nne(s,n,r)};for(let s=0;s<e.length;s+=1)mU(e.charCodeAt(s),a,i);return t.join("")}function jne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Sne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}jne(n,t)}}function Nne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ad(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)mU(e.charCodeAt(a),r,n);return new Uint8Array(t)}function kne(e){const t=[];return Sne(e,r=>t.push(r)),new Uint8Array(t)}function xc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>C2(a,r,n)),C2(null,r,n),t.join("")}function Cne(e){return Math.round(Date.now()/1e3)+e}function Ene(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",Jl={tested:!1,writable:!1},gU=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jl.tested)return Jl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Jl.tested=!0,Jl.writable=!0}catch{Jl.tested=!0,Jl.writable=!1}return Jl.writable};function Pne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const vU=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),One=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ju=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Xl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(e,t)=>{await e.removeItem(t)};class x0{constructor(){this.promise=new x0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}x0.promiseConstructor=Promise;function D_(e){const t=e.split(".");if(t.length!==3)throw new TS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mne.test(t[n]))throw new TS("JWT not in base64url format");return{header:JSON.parse(E2(t[0])),payload:JSON.parse(E2(t[1])),signature:Ad(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ane(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Tne(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function Mne(e){return("0"+e.toString(16)).substr(-2)}function $ne(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Mne).join("")}async function Ine(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Rne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Ine(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mu(e,t,r=!1){const n=$ne();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ju(e,`${t}-code-verifier`,a);const i=await Rne(n);return[i,n===i?"plain":"s256"]}const Dne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lne(e){const t=e.headers.get(OS);if(!t||!t.match(Dne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Fne(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Bne(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Une=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $u(e){if(!Une.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function L_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zne(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function P2(e){return JSON.parse(JSON.stringify(e))}const oc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Vne=[502,503,504];async function O2(e){var t;if(!One(e))throw new AS(oc(e),0);if(Vne.includes(e.status))throw new AS(oc(e),e.status);let r;try{r=await e.json()}catch(i){throw new hc(oc(i),i)}let n;const a=Lne(e);if(a&&a.getTime()>=pU["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new N2(oc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new N2(oc(r),e.status,r.weak_password.reasons);throw new vne(oc(r),e.status||500,n)}const Wne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ze(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[OS]||(i[OS]=pU["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const l=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=await Hne(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Hne(e,t,r,n,a,i){const s=Wne(t,n,a,i);let l;try{l=await e(r,Object.assign({},s))}catch(c){throw console.error(c),new AS(oc(c),0)}if(l.ok||await O2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await O2(c)}}function vi(e){var t;let r=null;Kne(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Cne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function A2(e){const t=vi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Jo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qne(e){return{data:e,error:null}}function Gne(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=ah(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},s);return{data:{properties:l,user:c},error:null}}function T2(e){return e}function Kne(e){return e.access_token&&e.refresh_token&&e.expires_in}const F_=["global","local","others"];class Yne{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=vU(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=F_[0]){if(F_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${F_.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Jo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ah(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Gne,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Jo})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:T2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){$u(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Jo})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){$u(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Jo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){$u(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Jo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){$u(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){$u(t.userId),$u(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,s,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:T2});if(d.error)throw d.error;const f=await d.json(),h=(s=d.headers.get("x-total-count"))!==null&&s!==void 0?s:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}function M2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Iu={debug:!!(globalThis&&gU()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yU extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Jne extends yU{}async function Xne(e,t,r){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Iu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Jne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Iu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Qne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xU(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Zne(e){return parseInt(e,16)}function eae(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function tae(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:s,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=xU(e.address),g=d?`${d}://${n}`:n,m=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${p}

${m}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class kr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class rx extends kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function rae({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(bU(s)){if(i.rp.id!==s)return new kr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function nae({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(bU(n)){if(r.rpId!==n)return new kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class aae{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const iae=new aae;function sae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ah(e,["challenge","user","excludeCredentials"]),i=Ad(t).buffer,s=Object.assign(Object.assign({},r),{id:Ad(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:s});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ad(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function oae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ah(e,["challenge","allowCredentials"]),a=Ad(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const l=r[s];i.allowCredentials[s]=Object.assign(Object.assign({},l),{id:Ad(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function lae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xc(new Uint8Array(e.response.attestationObject)),clientDataJSON:xc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xc(new Uint8Array(a.authenticatorData)),clientDataJSON:xc(new Uint8Array(a.clientDataJSON)),signature:xc(new Uint8Array(a.signature)),userHandle:a.userHandle?xc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function bU(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $2(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function uae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rx("Browser returned unexpected credential type",t)}:{data:null,error:new rx("Empty credential response",t)}}catch(t){return{data:null,error:rae({error:t,options:e})}}}async function dae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new rx("Browser returned unexpected credential type",t)}:{data:null,error:new rx("Empty credential response",t)}}catch(t){return{data:null,error:nae({error:t,options:e})}}}const fae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},hae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const s=a[i];if(s!==void 0)if(Array.isArray(s))n[i]=s;else if(r(s))n[i]=s;else if(t(s)){const l=n[i];t(l)?n[i]=nx(l,s):n[i]=nx(s)}else n[i]=s}return n}function pae(e,t){return nx(fae,e,t||{})}function mae(e,t){return nx(hae,e,t||{})}class gae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:s,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:l};const c=a??iae.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=pae(s.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await uae({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=mae(s.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await dae(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(s){return Ie(s)?{data:null,error:s}:{data:null,error:new hc("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new im("rpId is required for WebAuthn authentication")};try{if(!$2())return{data:null,error:new hc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!s)return{data:null,error:l};const{webauthn:c}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(s){return Ie(s)?{data:null,error:s}:{data:null,error:new hc("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new im("rpId is required for WebAuthn registration")};try{if(!$2())return{data:null,error:new hc("Browser does not support WebAuthn",null)};const{data:s,error:l}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:s.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(s){return Ie(s)?{data:null,error:s}:{data:null,error:new hc("Unexpected error in register",s)}}}}Qne();const vae={url:fne,storageKey:hne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pne,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function I2(e,t,r){return await r()}const Ru={};class sm{get jwks(){var t,r;return(r=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ru[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ru[this.storageKey]=Object.assign(Object.assign({},Ru[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},vae),t);if(this.storageKey=i.storageKey,this.instanceID=(r=sm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&sn()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Yne({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vU(i.fetch),this.lock=i.lock||I2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Xne:this.lock=I2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:gU()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=M2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=M2(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hU}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sn()&&(r=Pne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bne(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:s,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",l),await this._saveSession(s),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?this._returnResult({error:r}):this._returnResult({error:new hc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:vi}),{data:s,error:l}=i;if(l||!s)return this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Mu(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},xform:vi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vi})}else throw new hv("You must provide either an email or phone number and a password");const{data:s,error:l}=i;if(l||!s)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A2})}else if("phone"in t){const{phone:i,password:s,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:A2})}else throw new hv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Tu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,s,l,c,u,d,f,h;let p,g;if("message"in t)p=t.message,g=t.signature;else{const{chain:m,wallet:v,statement:b,options:x}=t;let w;if(sn())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=xU(S[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=Zne(A)}const C={domain:_.host,address:N,statement:b,uri:_.href,version:"1",chainId:k,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(s=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=tae(C),g=await w.request({method:"personal_sign",params:[eae(p),N]})}try{const{data:m,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:vi});if(v)throw v;if(!m||!m.session||!m.user){const b=new Tu;return this._returnResult({data:{user:null,session:null},error:b})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:Object.assign({},m),error:v})}catch(m){if(Ie(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async signInWithSolana(t){var r,n,a,i,s,l,c,u,d,f,h,p;let g,m;if("message"in t)g=t.message,m=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(sn())if(typeof b=="object")_=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),m=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:v,error:b}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:xc(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:vi});if(b)throw b;if(!v||!v.session||!v.user){const x=new Tu;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await Xl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new wne;const{data:i,error:s}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vi});if(await nn(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!i||!i.session||!i.user){const l=new Tu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vi}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Tu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Mu(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(s=c==null?void 0:c.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new hv("You must provide either an email or phone number.")}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:vi});if(l)throw l;if(!s)throw new Error("An error occurred on token verification.");const c=s.session,u=s.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,s;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Mu(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:qne});return!((i=u.data)===null||i===void 0)&&i.url&&sn()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pa;const{error:a}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:l})}throw new hv("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<I_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Xl(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=L_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};t.user=zne(t.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Jo}):await this._useSession(async r=>{var n,a,i;const{data:s,error:l}=r;if(l)throw l;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pa}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Jo})})}catch(r){if(Ie(r))return xne(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new pa;const s=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Mu(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:s.access_token,xform:Jo});if(d)throw d;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pa;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=D_(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:l}=r;if(l)throw l;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pa;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sn())throw new pv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new S2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new S2("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!s||!u)throw new pv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:m,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:l}=await this.admin.signOut(s,t);if(l&&!(yne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Ene(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Mu(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:s,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vi}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Tu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Tne(async a=>(a>0&&await Ane(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vi})),(a,i)=>{const s=200*Math.pow(2,a);return i&&R_(i)&&Date.now()+s-n<Yu})}catch(n){if(this._debug(r,"error",n),Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Xl(this.storage,this.storageKey);if(a&&this.userStorage){let s=await Xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:a.user},await Ju(this.userStorage,this.storageKey+"-user",s)),a.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:L_()}else if(a&&!a.user&&!a.user){const s=await Xl(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(a.user=s.user,await nn(this.storage,this.storageKey+"-user"),await Ju(this.storage,this.storageKey,a)):a.user=L_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<I_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${I_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:s}=await this._callRefreshToken(a.refresh_token);s&&(console.error(s),R_(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:l}=await this._getUser(a.access_token);!l&&(s!=null&&s.user)?(a.user=s.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new x0;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new pa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ie(i)){const s={data:null,error:i};return R_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(s),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ju(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=P2(a);await Ju(this.storage,this.storageKey,i)}else{const a=P2(r);await Ju(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${PS} ticks`),a<=PS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yU)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Mu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?lae(t.webauthn.credential_response):cae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const s=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:l}=s;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:sae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:oae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=D_(n.access_token);let s=null;i.aal&&(s=i.aal);let l=s;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:s,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new pa})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new pa});const s=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new pa});const s=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return s.data&&s.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new pa})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new pa})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+gne>a)return n;const{data:i,error:s}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});n=p.session.access_token}const{header:a,payload:i,signature:s,raw:{header:l,payload:c}}=D_(n);r!=null&&r.allowExpired||Fne(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:a,signature:s},error:null}}const d=Bne(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,s,kne(`${l}.${c}`)))throw new TS("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}}sm.nextInstanceID={};const yae=sm,xae="2.90.1";let ep="";typeof Deno<"u"?ep="deno":typeof document<"u"?ep="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ep="react-native":ep="node";const bae={"X-Client-Info":`supabase-js-${ep}/${xae}`},wae={headers:bae},_ae={schema:"public"},jae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sae={};function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function Nae(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kae(e){var t=Nae(e,"string");return om(t)=="symbol"?t:t+""}function Cae(e,t,r){return(t=kae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R2(Object(r),!0).forEach(function(n){Cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Eae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pae=()=>Headers,Oae=(e,t,r)=>{const n=Eae(r),a=Pae();return async(i,s)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,fr(fr({},s),{},{headers:u}))}};function Aae(e){return e.endsWith("/")?e:e+"/"}function Tae(e,t){var r,n;const{db:a,auth:i,realtime:s,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:fr(fr({},c),a),auth:fr(fr({},u),i),realtime:fr(fr({},d),s),storage:{},global:fr(fr(fr({},f),l),{},{headers:fr(fr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Mae(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var $ae=class extends yae{constructor(e){super(e)}},Iae=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Mae(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const s=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:_ae,realtime:Sae,auth:fr(fr({},jae),{},{storageKey:s}),global:wae},c=Tae(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Oae(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(fr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new pre(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new dne(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new cre(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:s,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $ae({url:this.authUrl.href,headers:fr(fr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:s,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Are(this.realtimeUrl.href,fr(fr({},e),{},{params:fr(fr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Rae=(e,t,r)=>new Iae(e,t,r);function Dae(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Dae()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lae="https://ihyzfrfzazrbrufzcunm.supabase.co",Fae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Oe=Rae(Lae,Fae,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ho=Object.freeze(Object.defineProperty({__proto__:null,supabase:Oe},Symbol.toStringTag,{value:"Module"})),wU=y.createContext(void 0),Tr=()=>{const e=y.useContext(wU);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Bae=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(null),[i,s]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),p=async x=>{console.log("[AuthContext] Fetching user data for:",x);try{const{data:w,error:_}=await Oe.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",x).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),s(w));const{data:S,error:N}=await Oe.from("user_roles").select("role").eq("user_id",x).single();if(N&&console.error("[AuthContext] Role fetch error:",N),S)if(console.log("[AuthContext] Role:",S.role),c(S.role),S.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await p(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};y.useEffect(()=>{const{data:{subscription:x}}=Oe.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{p(_.user.id)},0):(s(null),c(null),h(!1)),w==="SIGNED_OUT"&&(s(null),c(null),h(!1))});return Oe.auth.getSession().then(({data:{session:w}})=>{a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&p(w.user.id),d(!1)}),()=>x.unsubscribe()},[]);const m=async(x,w,_)=>{const S=`${window.location.origin}/`,{error:N}=await Oe.auth.signUp({email:x,password:w,options:{emailRedirectTo:S,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:N}},v=async(x,w)=>{const{error:_}=await Oe.auth.signInWithPassword({email:x,password:w});return{error:_}},b=async()=>{await Oe.auth.signOut(),r(null),a(null),s(null),c(null),h(!1)};return o.jsx(wU.Provider,{value:{user:t,session:n,profile:i,role:l,isLoading:u,onboardingComplete:f,signUp:m,signIn:v,signOut:b,refreshProfile:g},children:e})},Ms=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:a}=Tr(),i=Cs();if(a)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return o.jsx(u2,{to:"/auth",state:{from:i},replace:!0});if(t&&n&&!t.includes(n)){const s={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return o.jsx(u2,{to:s[n],replace:!0})}return o.jsx(o.Fragment,{children:e})};var Uae=Symbol.for("react.lazy"),ax=Bb[" use ".trim().toString()];function zae(e){return typeof e=="object"&&e!==null&&"then"in e}function _U(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Uae&&"_payload"in e&&zae(e._payload)}function mg(e){const t=Vae(e),r=y.forwardRef((n,a)=>{let{children:i,...s}=n;_U(i)&&typeof ax=="function"&&(i=ax(i._payload));const l=y.Children.toArray(i),c=l.find(Hae);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var jU=mg("Slot");function Vae(e){const t=y.forwardRef((r,n)=>{let{children:a,...i}=r;if(_U(a)&&typeof ax=="function"&&(a=ax(a._payload)),y.isValidElement(a)){const s=Gae(a),l=qae(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Wae=Symbol("radix.slottable");function Hae(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Wae}function qae(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Gae(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const lm=i0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?jU:"button";return o.jsx(s,{className:ve(lm({variant:t,size:r,className:e})),ref:i,...a})});Z.displayName="Button";const Kae=()=>{const[e,t]=y.useState(!1),{user:r,profile:n,role:a,signOut:i}=Tr(),s=En(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await i(),s("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[o.jsx(Fs,{to:"/",className:"flex items-center gap-2",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),o.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>o.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),o.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[o.jsxs(Z,{variant:"ghost",size:"sm",className:"gap-2",children:[o.jsx(sa,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?o.jsxs(o.Fragment,{children:[o.jsx(Fs,{to:a?u(a):"/patient",children:o.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2",children:[o.jsx(Vr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:c,children:o.jsx(Nl,{className:"w-4 h-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(Fs,{to:"/auth",children:o.jsx(Z,{variant:"outline",size:"sm",children:"Sign In"})}),o.jsx(Fs,{to:"/auth",children:o.jsx(Z,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),o.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?o.jsx(wo,{className:"w-5 h-5 sm:w-6 sm:h-6"}):o.jsx(ug,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&o.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:o.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>o.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),o.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[o.jsx(sa,{className:"w-4 h-4"}),"0800 QUADCARE"]}),o.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?o.jsxs(o.Fragment,{children:[o.jsx(Fs,{to:a?u(a):"/patient",onClick:()=>t(!1),children:o.jsxs(Z,{variant:"outline",className:"w-full gap-2 justify-start",children:[o.jsx(aX,{className:"w-4 h-4"}),"My Dashboard"]})}),o.jsxs(Z,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):o.jsxs(o.Fragment,{children:[o.jsx(Fs,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Z,{variant:"outline",className:"w-full",children:"Sign In"})}),o.jsx(Fs,{to:"/auth",onClick:()=>t(!1),children:o.jsx(Z,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},Yae="/assets/hero-medical-D5FvmeGo.jpg",Jae=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return o.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),o.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[o.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),o.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),o.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),o.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>o.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[o.jsx(hn,{className:"w-4 h-4 text-success shrink-0"}),o.jsx("span",{children:t})]},t))}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[o.jsx(Fs,{to:"/auth",className:"w-full sm:w-auto",children:o.jsxs(Z,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[o.jsx(Nt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"Book Consultation"}),o.jsx(gs,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),o.jsxs(Z,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[o.jsx(Zt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),o.jsx("span",{children:"How It Works"})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),o.jsx("span",{children:"HPCSA Registered"})]}),o.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),o.jsx("span",{children:"Active Patients"})]})]})]}),o.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[o.jsx("img",{src:Yae,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),o.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:o.jsx(Zt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),o.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:o.jsx(Nt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),o.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},Xae=()=>{const e=[{icon:Nt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:Xa,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:Fn,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:Zt,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:tn,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:eB,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:eX,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:dg,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:hd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return o.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>o.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[o.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-7 h-7"})}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},Qae=()=>{const e=[{number:"01",icon:Vr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:Z5,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:Xa,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:Zt,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:tB,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:eB,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return o.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),o.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"relative group",children:[o.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),o.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),o.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&o.jsx("div",{className:"lg:hidden flex justify-center py-4",children:o.jsx(gs,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},Zae=()=>{const e=[{icon:iS,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:Fn,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:Wt,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:nB,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return o.jsx("section",{className:"py-16 gradient-hero",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>o.jsxs("div",{className:"text-center group",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),o.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),o.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),o.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},eie=()=>{const e=[{icon:cX,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:Wt,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:tn,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:Zt,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:hd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:dg,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return o.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{className:"space-y-8",children:[o.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:o.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),o.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",o.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),o.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(hn,{className:"w-5 h-5 text-success flex-shrink-0"}),o.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),o.jsxs("div",{className:"flex gap-4 pt-4",children:[o.jsxs(Z,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",o.jsx(gs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsx(Z,{variant:"outline",size:"lg",children:"View Demo"})]})]}),o.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>o.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:o.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),o.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),o.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},tie=()=>o.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto text-center",children:o.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[o.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),o.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs(Z,{variant:"heroOutline",size:"xl",className:"group",children:[o.jsx(Nt,{className:"w-5 h-5"}),"Book Your First Consultation",o.jsx(gs,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),o.jsxs(Z,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[o.jsx(sa,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),rie=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:rX,href:"#",label:"Facebook"},{icon:jX,href:"#",label:"Twitter"},{icon:uX,href:"#",label:"LinkedIn"},{icon:lX,href:"#",label:"Instagram"}];return o.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx(Fs,{to:"/",className:"flex items-center gap-2 mb-6",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),o.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(sa,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),o.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[o.jsx(Ed,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[o.jsx(rB,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsxs("span",{children:["Quadcare Head Office",o.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),o.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),o.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),o.jsx("ul",{className:"space-y-3",children:e.company.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),o.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>o.jsx("li",{children:o.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),o.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),o.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>o.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:o.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},nie=()=>o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx(Kae,{}),o.jsxs("main",{children:[o.jsx(Jae,{}),o.jsx(Xae,{}),o.jsx(Qae,{}),o.jsx(Zae,{}),o.jsx(eie,{}),o.jsx(tie,{})]}),o.jsx(rie,{})]});var gg=e=>e.type==="checkbox",bc=e=>e instanceof Date,Xn=e=>e==null;const SU=e=>typeof e=="object";var Pr=e=>!Xn(e)&&!Array.isArray(e)&&SU(e)&&!bc(e),NU=e=>Pr(e)&&e.target?gg(e.target)?e.target.checked:e.target.value:e,aie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kU=(e,t)=>e.has(aie(t)),iie=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},$E=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if($E&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Pr(e)&&iie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=jr(e[a]));return n}var b0=e=>/^\w*$/.test(e),er=e=>e===void 0,IE=e=>Array.isArray(e)?e.filter(Boolean):[],RE=e=>IE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(e,t,r)=>{if(!t||!Pr(e))return r;const n=(b0(t)?[t]:RE(t)).reduce((a,i)=>Xn(a)?a:a[i],e);return er(n)||n===e?er(e[t])?r:e[t]:n},xa=e=>typeof e=="boolean",Rn=e=>typeof e=="function",Ct=(e,t,r)=>{let n=-1;const a=b0(t)?[t]:RE(t),i=a.length,s=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==s){const u=e[l];c=Pr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const ix={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DE=M.createContext(null);DE.displayName="HookFormControlContext";const LE=()=>M.useContext(DE);var CU=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==Ti.all&&(t._proxyFormState[s]=!n||Ti.all),r&&(r[s]=!0),e[s]}});return a};const FE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function sie(e){const t=LE(),{control:r=t,disabled:n,name:a,exact:i}=e||{},[s,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return FE(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>CU(s,r,c.current,!1),[s,r])}var Sa=e=>typeof e=="string",MS=(e,t,r,n,a)=>Sa(e)?(n&&t.watch.add(e),je(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),je(r,i))):(n&&(t.watchAll=!0),r),$S=e=>Xn(e)||!SU(e);function Mi(e,t,r=new WeakSet){if($S(e)||$S(t))return Object.is(e,t);if(bc(e)&&bc(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(bc(s)&&bc(l)||Pr(s)&&Pr(l)||Array.isArray(s)&&Array.isArray(l)?!Mi(s,l,r):!Object.is(s,l))return!1}}return!0}function oie(e){const t=LE(),{control:r=t,name:n,defaultValue:a,disabled:i,exact:s,compute:l}=e||{},c=M.useRef(a),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[p,g]=M.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),m=M.useCallback(_=>{const S=MS(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(S):S},[r._formValues,r._names,n]),v=M.useCallback(_=>{if(!i){const S=MS(n,r._names,_||r._formValues,!1,c.current);if(u.current){const N=u.current(S);Mi(N,d.current)||(g(N),d.current=N)}else g(S)}},[r._formValues,r._names,i,n]);FE(()=>((f.current!==r||!Mi(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:s,callback:_=>{v(_.values)}})),[r,s,n,v]),M.useEffect(()=>r._removeUnmounted());const b=f.current!==r,x=h.current,w=M.useMemo(()=>{if(i)return null;const _=!b&&!Mi(x,n);return b||_?m():null},[i,b,n,x,m]);return w!==null?w:p}function lie(e){const t=LE(),{name:r,disabled:n,control:a=t,shouldUnregister:i,defaultValue:s,exact:l=!0}=e,c=kU(a._names.array,r),u=M.useMemo(()=>je(a._formValues,r,je(a._defaultValues,r,s)),[a,r,s]),d=oie({control:a,name:r,defaultValue:u,exact:l}),f=sie({control:a,name:r,exact:l}),h=M.useRef(e),p=M.useRef(void 0),g=M.useRef(a.register(r,{...e.rules,value:d,...xa(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const m=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!je(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!je(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!je(f.validatingFields,r)},error:{enumerable:!0,get:()=>je(f.errors,r)}}),[f,r]),v=M.useCallback(_=>g.current.onChange({target:{value:NU(_),name:r},type:ix.CHANGE}),[r]),b=M.useCallback(()=>g.current.onBlur({target:{value:je(a._formValues,r),name:r},type:ix.BLUR}),[r,a._formValues]),x=M.useCallback(_=>{const S=je(a._fields,r);S&&S._f&&_&&(S._f.ref={focus:()=>Rn(_.focus)&&_.focus(),select:()=>Rn(_.select)&&_.select(),setCustomValidity:N=>Rn(_.setCustomValidity)&&_.setCustomValidity(N),reportValidity:()=>Rn(_.reportValidity)&&_.reportValidity()})},[a._fields,r]),w=M.useMemo(()=>({name:r,value:d,...xa(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:x}),[r,n,f.disabled,v,b,x,d]);return M.useEffect(()=>{const _=a._options.shouldUnregister||i,S=p.current;S&&S!==r&&!c&&a.unregister(S),a.register(r,{...h.current.rules,...xa(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(k,C)=>{const A=je(a._fields,k);A&&A._f&&(A._f.mount=C)};if(N(r,!0),_){const k=jr(je(a._options.defaultValues,r,h.current.defaultValue));Ct(a._defaultValues,r,k),er(je(a._formValues,r))&&Ct(a._formValues,r,k)}return!c&&a.register(r),p.current=r,()=>{(c?_&&!a._state.action:_)?a.unregister(r):N(r,!1)}},[r,a,c,i]),M.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),M.useMemo(()=>({field:w,formState:f,fieldState:m}),[w,f,m])}const cie=e=>e.render(lie(e)),BE=M.createContext(null);BE.displayName="HookFormContext";const uie=()=>M.useContext(BE),die=e=>{const{children:t,watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}=e;return M.createElement(BE.Provider,{value:M.useMemo(()=>({watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:s,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:p,control:g,register:m,setFocus:v,subscribe:b}),[s,g,u,a,n,h,m,f,d,i,v,l,b,c,p,r])},M.createElement(DE.Provider,{value:g},t))};var EU=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},bp=e=>Array.isArray(e)?e:[e],D2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function PU(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Pr(a)&&i){const s=PU(a,i);Pr(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var Tn=e=>Pr(e)&&!Object.keys(e).length,UE=e=>e.type==="file",sx=e=>{if(!$E)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},OU=e=>e.type==="select-multiple",zE=e=>e.type==="radio",fie=e=>zE(e)||gg(e),B_=e=>sx(e)&&e.isConnected;function hie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=er(e)?n++:e[t[n++]];return e}function pie(e){for(const t in e)if(e.hasOwnProperty(t)&&!er(e[t]))return!1;return!0}function Sr(e,t){const r=Array.isArray(t)?t:b0(t)?[t]:RE(t),n=r.length===1?e:hie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Pr(n)&&Tn(n)||Array.isArray(n)&&pie(n))&&Sr(e,r.slice(0,-1)),e}var mie=e=>{for(const t in e)if(Rn(e[t]))return!0;return!1};function AU(e){return Array.isArray(e)||Pr(e)&&!mie(e)}function IS(e,t={}){for(const r in e){const n=e[r];AU(n)?(t[r]=Array.isArray(n)?[]:{},IS(n,t[r])):er(n)||(t[r]=!0)}return t}function Xu(e,t,r){r||(r=IS(t));for(const n in e){const a=e[n];if(AU(a))er(t)||$S(r[n])?r[n]=IS(a,Array.isArray(a)?[]:{}):Xu(a,Xn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Mi(a,i)}}return r}const L2={value:!1,isValid:!1},F2={value:!0,isValid:!0};var TU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!er(e[0].attributes.value)?er(e[0].value)||e[0].value===""?F2:{value:e[0].value,isValid:!0}:F2:L2}return L2},MU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>er(e)?e:t?e===""?NaN:e&&+e:r&&Sa(e)?new Date(e):n?n(e):e;const B2={isValid:!1,value:null};var $U=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,B2):B2;function U2(e){const t=e.ref;return UE(t)?t.files:zE(t)?$U(e.refs).value:OU(t)?[...t.selectedOptions].map(({value:r})=>r):gg(t)?TU(e.refs).value:MU(er(t.value)?e.ref.value:t.value,e)}var gie=(e,t,r,n)=>{const a={};for(const i of e){const s=je(t,i);s&&Ct(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},ox=e=>e instanceof RegExp,Mh=e=>er(e)?e:ox(e)?e.source:Pr(e)?ox(e.value)?e.value.source:e.value:e,z2=e=>({isOnSubmit:!e||e===Ti.onSubmit,isOnBlur:e===Ti.onBlur,isOnChange:e===Ti.onChange,isOnAll:e===Ti.all,isOnTouch:e===Ti.onTouched});const V2="AsyncFunction";var vie=e=>!!e&&!!e.validate&&!!(Rn(e.validate)&&e.validate.constructor.name===V2||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===V2)),yie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),W2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const wp=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=je(e,a);if(i){const{_f:s,...l}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(wp(l,t))break}else if(Pr(l)&&wp(l,t))break}}};function H2(e,t,r){const n=je(e,r);if(n||b0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=je(t,i),l=je(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var xie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Tn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||Ti.all))},bie=(e,t,r)=>!e||!t||e===t||bp(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),wie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,_ie=(e,t)=>!IE(je(e,t)).length&&Sr(e,t),jie=(e,t,r)=>{const n=bp(je(e,r));return Ct(n,"root",t[r]),Ct(e,r,n),e};function q2(e,t,r="validate"){if(Sa(e)||Array.isArray(e)&&e.every(Sa)||xa(e)&&!e)return{type:r,message:Sa(e)?e:"",ref:t}}var Du=e=>Pr(e)&&!ox(e)?e:{value:e,message:""},G2=async(e,t,r,n,a,i)=>{const{ref:s,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:v,mount:b}=e._f,x=je(r,m);if(!b||t.has(m))return{};const w=l?l[0]:s,_=O=>{a&&w.reportValidity&&(w.setCustomValidity(xa(O)?"":O||""),w.reportValidity())},S={},N=zE(s),k=gg(s),C=N||k,A=(v||UE(s))&&er(s.value)&&er(x)||sx(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,T=EU.bind(null,m,n,S),I=(O,L,$,F=$s.maxLength,V=$s.minLength)=>{const z=O?L:$;S[m]={type:O?F:V,message:z,ref:s,...T(O?F:V,z)}};if(i?!Array.isArray(x)||!x.length:c&&(!C&&(A||Xn(x))||xa(x)&&!x||k&&!TU(l).isValid||N&&!$U(l).isValid)){const{value:O,message:L}=Sa(c)?{value:!!c,message:c}:Du(c);if(O&&(S[m]={type:$s.required,message:L,ref:w,...T($s.required,L)},!n))return _(L),S}if(!A&&(!Xn(f)||!Xn(h))){let O,L;const $=Du(h),F=Du(f);if(!Xn(x)&&!isNaN(x)){const V=s.valueAsNumber||x&&+x;Xn($.value)||(O=V>$.value),Xn(F.value)||(L=V<F.value)}else{const V=s.valueAsDate||new Date(x),z=K=>new Date(new Date().toDateString()+" "+K),R=s.type=="time",U=s.type=="week";Sa($.value)&&x&&(O=R?z(x)>z($.value):U?x>$.value:V>new Date($.value)),Sa(F.value)&&x&&(L=R?z(x)<z(F.value):U?x<F.value:V<new Date(F.value))}if((O||L)&&(I(!!O,$.message,F.message,$s.max,$s.min),!n))return _(S[m].message),S}if((u||d)&&!A&&(Sa(x)||i&&Array.isArray(x))){const O=Du(u),L=Du(d),$=!Xn(O.value)&&x.length>+O.value,F=!Xn(L.value)&&x.length<+L.value;if(($||F)&&(I($,O.message,L.message),!n))return _(S[m].message),S}if(p&&!A&&Sa(x)){const{value:O,message:L}=Du(p);if(ox(O)&&!x.match(O)&&(S[m]={type:$s.pattern,message:L,ref:s,...T($s.pattern,L)},!n))return _(L),S}if(g){if(Rn(g)){const O=await g(x,r),L=q2(O,w);if(L&&(S[m]={...L,...T($s.validate,L.message)},!n))return _(L.message),S}else if(Pr(g)){let O={};for(const L in g){if(!Tn(O)&&!n)break;const $=q2(await g[L](x,r),w,L);$&&(O={...$,...T(L,$.message)},_($.message),n&&(S[m]=O))}if(!Tn(O)&&(S[m]={ref:w,...O},!n))return S}}return _(!0),S};const Sie={mode:Ti.onSubmit,reValidateMode:Ti.onChange,shouldFocusError:!0};function Nie(e={}){let t={...Sie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Pr(t.defaultValues)||Pr(t.values)?jr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:jr(a),s={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const p={array:D2(),state:D2()},g=t.criteriaMode===Ti.all,m=H=>W=>{clearTimeout(u),u=setTimeout(H,W)},v=async H=>{if(!s.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||H)){let W;t.resolver?(W=Tn((await C()).errors),b()):W=await T(n,!0),W!==r.isValid&&p.state.next({isValid:W})}},b=(H,W)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(X=>{X&&(W?Ct(r.validatingFields,X,W):Sr(r.validatingFields,X))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Tn(r.validatingFields)}))},x=(H,W=[],X,de,le=!0,oe=!0)=>{if(de&&X&&!t.disabled){if(s.action=!0,oe&&Array.isArray(je(n,H))){const Ae=X(je(n,H),de.argA,de.argB);le&&Ct(n,H,Ae)}if(oe&&Array.isArray(je(r.errors,H))){const Ae=X(je(r.errors,H),de.argA,de.argB);le&&Ct(r.errors,H,Ae),_ie(r.errors,H)}if((f.touchedFields||h.touchedFields)&&oe&&Array.isArray(je(r.touchedFields,H))){const Ae=X(je(r.touchedFields,H),de.argA,de.argB);le&&Ct(r.touchedFields,H,Ae)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Xu(a,i)),p.state.next({name:H,isDirty:O(H,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ct(i,H,W)},w=(H,W)=>{Ct(r.errors,H,W),p.state.next({errors:r.errors})},_=H=>{r.errors=H,p.state.next({errors:r.errors,isValid:!1})},S=(H,W,X,de)=>{const le=je(n,H);if(le){const oe=je(i,H,er(X)?je(a,H):X);er(oe)||de&&de.defaultChecked||W?Ct(i,H,W?oe:U2(le._f)):F(H,oe),s.mount&&!s.action&&v()}},N=(H,W,X,de,le)=>{let oe=!1,Ae=!1;const pt={name:H};if(!t.disabled){if(!X||de){(f.isDirty||h.isDirty)&&(Ae=r.isDirty,r.isDirty=pt.isDirty=O(),oe=Ae!==pt.isDirty);const mt=Mi(je(a,H),W);Ae=!!je(r.dirtyFields,H),mt?Sr(r.dirtyFields,H):Ct(r.dirtyFields,H,!0),pt.dirtyFields=r.dirtyFields,oe=oe||(f.dirtyFields||h.dirtyFields)&&Ae!==!mt}if(X){const mt=je(r.touchedFields,H);mt||(Ct(r.touchedFields,H,X),pt.touchedFields=r.touchedFields,oe=oe||(f.touchedFields||h.touchedFields)&&mt!==X)}oe&&le&&p.state.next(pt)}return oe?pt:{}},k=(H,W,X,de)=>{const le=je(r.errors,H),oe=(f.isValid||h.isValid)&&xa(W)&&r.isValid!==W;if(t.delayError&&X?(c=m(()=>w(H,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Ct(r.errors,H,X):Sr(r.errors,H)),(X?!Mi(le,X):le)||!Tn(de)||oe){const Ae={...de,...oe&&xa(W)?{isValid:W}:{},errors:r.errors,name:H};r={...r,...Ae},p.state.next(Ae)}},C=async H=>(b(H,!0),await t.resolver(i,t.context,gie(H||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),A=async H=>{const{errors:W}=await C(H);if(b(H),H)for(const X of H){const de=je(W,X);de?Ct(r.errors,X,de):Sr(r.errors,X)}else r.errors=W;return W},T=async(H,W,X={valid:!0})=>{for(const de in H){const le=H[de];if(le){const{_f:oe,...Ae}=le;if(oe){const pt=l.array.has(oe.name),mt=le._f&&vie(le._f);mt&&f.validatingFields&&b([oe.name],!0);const ir=await G2(le,l.disabled,i,g,t.shouldUseNativeValidation&&!W,pt);if(mt&&f.validatingFields&&b([oe.name]),ir[oe.name]&&(X.valid=!1,W||e.shouldUseNativeValidation))break;!W&&(je(ir,oe.name)?pt?jie(r.errors,ir,oe.name):Ct(r.errors,oe.name,ir[oe.name]):Sr(r.errors,oe.name))}!Tn(Ae)&&await T(Ae,W,X)}}return X.valid},I=()=>{for(const H of l.unMount){const W=je(n,H);W&&(W._f.refs?W._f.refs.every(X=>!B_(X)):!B_(W._f.ref))&&G(H)}l.unMount=new Set},O=(H,W)=>!t.disabled&&(H&&W&&Ct(i,H,W),!Mi(re(),a)),L=(H,W,X)=>MS(H,l,{...s.mount?i:er(W)?a:Sa(H)?{[H]:W}:W},X,W),$=H=>IE(je(s.mount?i:a,H,t.shouldUnregister?je(a,H,[]):[])),F=(H,W,X={})=>{const de=je(n,H);let le=W;if(de){const oe=de._f;oe&&(!oe.disabled&&Ct(i,H,MU(W,oe)),le=sx(oe.ref)&&Xn(W)?"":W,OU(oe.ref)?[...oe.ref.options].forEach(Ae=>Ae.selected=le.includes(Ae.value)):oe.refs?gg(oe.ref)?oe.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(le)?Ae.checked=!!le.find(pt=>pt===Ae.value):Ae.checked=le===Ae.value||!!le)}):oe.refs.forEach(Ae=>Ae.checked=Ae.value===le):UE(oe.ref)?oe.ref.value="":(oe.ref.value=le,oe.ref.type||p.state.next({name:H,values:jr(i)})))}(X.shouldDirty||X.shouldTouch)&&N(H,le,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&K(H)},V=(H,W,X)=>{for(const de in W){if(!W.hasOwnProperty(de))return;const le=W[de],oe=H+"."+de,Ae=je(n,oe);(l.array.has(H)||Pr(le)||Ae&&!Ae._f)&&!bc(le)?V(oe,le,X):F(oe,le,X)}},z=(H,W,X={})=>{const de=je(n,H),le=l.array.has(H),oe=jr(W);Ct(i,H,oe),le?(p.array.next({name:H,values:jr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&p.state.next({name:H,dirtyFields:Xu(a,i),isDirty:O(H,oe)})):de&&!de._f&&!Xn(oe)?V(H,oe,X):F(H,oe,X),W2(H,l)?p.state.next({...r,name:H,values:jr(i)}):p.state.next({name:s.mount?H:void 0,values:jr(i)})},R=async H=>{s.mount=!0;const W=H.target;let X=W.name,de=!0;const le=je(n,X),oe=mt=>{de=Number.isNaN(mt)||bc(mt)&&isNaN(mt.getTime())||Mi(mt,je(i,X,mt))},Ae=z2(t.mode),pt=z2(t.reValidateMode);if(le){let mt,ir;const La=W.type?U2(le._f):NU(H),Kn=H.type===ix.BLUR||H.type===ix.FOCUS_OUT,Po=!yie(le._f)&&!t.resolver&&!je(r.errors,X)&&!le._f.deps||wie(Kn,je(r.touchedFields,X),r.isSubmitted,pt,Ae),ca=W2(X,l,Kn);Ct(i,X,La),Kn?(!W||!W.readOnly)&&(le._f.onBlur&&le._f.onBlur(H),c&&c(0)):le._f.onChange&&le._f.onChange(H);const As=N(X,La,Kn),di=!Tn(As)||ca;if(!Kn&&p.state.next({name:X,type:H.type,values:jr(i)}),Po)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Kn&&v():Kn||v()),di&&p.state.next({name:X,...ca?{}:As});if(!Kn&&ca&&p.state.next({...r}),t.resolver){const{errors:Yl}=await C([X]);if(b([X]),oe(La),de){const Eu=H2(r.errors,n,X),Oo=H2(Yl,n,Eu.name||X);mt=Oo.error,X=Oo.name,ir=Tn(Yl)}}else b([X],!0),mt=(await G2(le,l.disabled,i,g,t.shouldUseNativeValidation))[X],b([X]),oe(La),de&&(mt?ir=!1:(f.isValid||h.isValid)&&(ir=await T(n,!0)));de&&(le._f.deps&&(!Array.isArray(le._f.deps)||le._f.deps.length>0)&&K(le._f.deps),k(X,ir,mt,As))}},U=(H,W)=>{if(je(r.errors,W)&&H.focus)return H.focus(),1},K=async(H,W={})=>{let X,de;const le=bp(H);if(t.resolver){const oe=await A(er(H)?H:le);X=Tn(oe),de=H?!le.some(Ae=>je(oe,Ae)):X}else H?(de=(await Promise.all(le.map(async oe=>{const Ae=je(n,oe);return await T(Ae&&Ae._f?{[oe]:Ae}:Ae)}))).every(Boolean),!(!de&&!r.isValid)&&v()):de=X=await T(n);return p.state.next({...!Sa(H)||(f.isValid||h.isValid)&&X!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:X}:{},errors:r.errors}),W.shouldFocus&&!de&&wp(n,U,H?le:l.mount),de},re=(H,W)=>{let X={...s.mount?i:a};return W&&(X=PU(W.dirtyFields?r.dirtyFields:r.touchedFields,X)),er(H)?X:Sa(H)?je(X,H):H.map(de=>je(X,de))},Q=(H,W)=>({invalid:!!je((W||r).errors,H),isDirty:!!je((W||r).dirtyFields,H),error:je((W||r).errors,H),isValidating:!!je(r.validatingFields,H),isTouched:!!je((W||r).touchedFields,H)}),j=H=>{H&&bp(H).forEach(W=>Sr(r.errors,W)),p.state.next({errors:H?r.errors:{}})},P=(H,W,X)=>{const de=(je(n,H,{_f:{}})._f||{}).ref,le=je(r.errors,H)||{},{ref:oe,message:Ae,type:pt,...mt}=le;Ct(r.errors,H,{...mt,...W,ref:de}),p.state.next({name:H,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&de&&de.focus&&de.focus()},E=(H,W)=>Rn(H)?p.state.subscribe({next:X=>"values"in X&&H(L(void 0,W),X)}):L(H,W,!0),B=H=>p.state.subscribe({next:W=>{bie(H.name,W.name,H.exact)&&xie(W,H.formState||f,st,H.reRenderRoot)&&H.callback({values:{...i},...r,...W,defaultValues:a})}}).unsubscribe,D=H=>(s.mount=!0,h={...h,...H.formState},B({...H,formState:{...d,...H.formState}})),G=(H,W={})=>{for(const X of H?bp(H):l.mount)l.mount.delete(X),l.array.delete(X),W.keepValue||(Sr(n,X),Sr(i,X)),!W.keepError&&Sr(r.errors,X),!W.keepDirty&&Sr(r.dirtyFields,X),!W.keepTouched&&Sr(r.touchedFields,X),!W.keepIsValidating&&Sr(r.validatingFields,X),!t.shouldUnregister&&!W.keepDefaultValue&&Sr(a,X);p.state.next({values:jr(i)}),p.state.next({...r,...W.keepDirty?{isDirty:O()}:{}}),!W.keepIsValid&&v()},q=({disabled:H,name:W})=>{if(xa(H)&&s.mount||H||l.disabled.has(W)){const le=l.disabled.has(W)!==!!H;H?l.disabled.add(W):l.disabled.delete(W),le&&s.mount&&!s.action&&v()}},J=(H,W={})=>{let X=je(n,H);const de=xa(W.disabled)||xa(t.disabled);return Ct(n,H,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:H}},name:H,mount:!0,...W}}),l.mount.add(H),X?q({disabled:xa(W.disabled)?W.disabled:t.disabled,name:H}):S(H,!0,W.value),{...de?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:Mh(W.min),max:Mh(W.max),minLength:Mh(W.minLength),maxLength:Mh(W.maxLength),pattern:Mh(W.pattern)}:{},name:H,onChange:R,onBlur:R,ref:le=>{if(le){J(H,W),X=je(n,H);const oe=er(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Ae=fie(oe),pt=X._f.refs||[];if(Ae?pt.find(mt=>mt===oe):oe===X._f.ref)return;Ct(n,H,{_f:{...X._f,...Ae?{refs:[...pt.filter(B_),oe,...Array.isArray(je(a,H))?[{}]:[]],ref:{type:oe.type,name:H}}:{ref:oe}}}),S(H,!1,void 0,oe)}else X=je(n,H,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(kU(l.array,H)&&s.action)&&l.unMount.add(H)}}},ee=()=>t.shouldFocusError&&wp(n,U,l.mount),Y=H=>{xa(H)&&(p.state.next({disabled:H}),wp(n,(W,X)=>{const de=je(n,X);de&&(W.disabled=de._f.disabled||H,Array.isArray(de._f.refs)&&de._f.refs.forEach(le=>{le.disabled=de._f.disabled||H}))},0,!1))},xe=(H,W)=>async X=>{let de;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let le=jr(i);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:oe,values:Ae}=await C();b(),r.errors=oe,le=jr(Ae)}else await T(n);if(l.disabled.size)for(const oe of l.disabled)Sr(le,oe);if(Sr(r.errors,"root"),Tn(r.errors)){p.state.next({errors:{}});try{await H(le,X)}catch(oe){de=oe}}else W&&await W({...r.errors},X),ee(),setTimeout(ee);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tn(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},Ne=(H,W={})=>{je(n,H)&&(er(W.defaultValue)?z(H,jr(je(a,H))):(z(H,W.defaultValue),Ct(a,H,jr(W.defaultValue))),W.keepTouched||Sr(r.touchedFields,H),W.keepDirty||(Sr(r.dirtyFields,H),r.isDirty=W.defaultValue?O(H,jr(je(a,H))):O()),W.keepError||(Sr(r.errors,H),f.isValid&&v()),p.state.next({...r}))},Je=(H,W={})=>{const X=H?jr(H):a,de=jr(X),le=Tn(H),oe=le?a:de;if(W.keepDefaultValues||(a=X),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(Xu(a,i))]);for(const pt of Array.from(Ae)){const mt=je(r.dirtyFields,pt),ir=je(i,pt),La=je(oe,pt);mt&&!er(ir)?Ct(oe,pt,ir):!mt&&!er(La)&&z(pt,La)}}else{if($E&&er(H))for(const Ae of l.mount){const pt=je(n,Ae);if(pt&&pt._f){const mt=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(sx(mt)){const ir=mt.closest("form");if(ir){ir.reset();break}}}}if(W.keepFieldsRef)for(const Ae of l.mount)z(Ae,je(oe,Ae));else n={}}i=t.shouldUnregister?W.keepDefaultValues?jr(a):{}:jr(oe),p.array.next({values:{...oe}}),p.state.next({values:{...oe}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues||!t.shouldUnregister&&!Tn(oe),s.watch=!!t.shouldUnregister,s.keepIsValid=!!W.keepIsValid,s.action=!1,W.keepErrors||(r.errors={}),p.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:le?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!Mi(H,a)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:W.keepDirtyValues?W.keepDefaultValues&&i?Xu(a,i):r.dirtyFields:W.keepDefaultValues&&H?Xu(a,H):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},He=(H,W)=>Je(Rn(H)?H(i):H,{...t.resetOptions,...W}),Be=(H,W={})=>{const X=je(n,H),de=X&&X._f;if(de){const le=de.refs?de.refs[0]:de.ref;le.focus&&setTimeout(()=>{le.focus(),W.shouldSelect&&Rn(le.select)&&le.select()})}},st=H=>{r={...r,...H}},vr={control:{register:J,unregister:G,getFieldState:Q,handleSubmit:xe,setError:P,_subscribe:B,_runSchema:C,_updateIsValidating:b,_focusError:ee,_getWatch:L,_getDirty:O,_setValid:v,_setFieldArray:x,_setDisabledField:q,_setErrors:_,_getFieldArray:$,_reset:Je,_resetDefaultValues:()=>Rn(t.defaultValues)&&t.defaultValues().then(H=>{He(H,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Y,_subjects:p,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(H){s=H},get _defaultValues(){return a},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:D,trigger:K,register:J,handleSubmit:xe,watch:E,setValue:z,getValues:re,reset:He,resetField:Ne,clearErrors:j,unregister:G,setError:P,setFocus:Be,getFieldState:Q};return{...vr,formControl:vr}}function lx(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Rn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Rn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Rn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...l}=Nie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,FE(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,s},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),M.useEffect(()=>{var s;e.values&&!Mi(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((s=i._options.resetOptions)===null||s===void 0)&&s.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M.useMemo(()=>CU(n,i),[i,n]),t.current}const K2=(e,t,r)=>{if(e&&"reportValidity"in e){const n=je(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},IU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?K2(n.ref,r,e):n.refs&&n.refs.forEach(a=>K2(a,r,e))}},kie=(e,t)=>{t.shouldUseNativeValidation&&IU(e,t);const r={};for(const n in e){const a=je(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Cie(t.names||Object.keys(e),n)){const s=Object.assign({},je(r,n));Ct(s,"root",i),Ct(r,n,s)}else Ct(r,n,i)}return r},Cie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Eie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[s].types,u=c&&c[n.code];r[s]=EU(s,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},cx=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(s,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&IU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(s){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(s))return{values:{},errors:kie(Eie(s.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw s}))}catch(s){return Promise.reject(s)}}},wt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),s={};for(const l of i)s[l]=a[l];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(wt||(wt={}));var Y2;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Y2||(Y2={}));const Te=wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ho=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},ye=wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class po extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let l=n,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof po))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}po.create=e=>new po(e);const RS=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,wt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${wt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${wt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:wt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,wt.assertNever(e)}return{message:r}};let Pie=RS;function Oie(){return Pie}const Aie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],s={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(s,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function ke(e,t){const r=Oie(),n=Aie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===RS?void 0:RS].filter(a=>!!a)});e.common.issues.push(n)}class Ma{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return nt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,s=await a.value;n.push({key:i,value:s})}return Ma.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return nt;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(n[i.value]=s.value)}return{status:t.value,value:n}}}const nt=Object.freeze({status:"aborted"}),tp=e=>({status:"dirty",value:e}),oi=e=>({status:"valid",value:e}),J2=e=>e.status==="aborted",X2=e=>e.status==="dirty",sf=e=>e.status==="valid",ux=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class El{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q2=(e,t)=>{if(sf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new po(e.common.issues);return this._error=r,this._error}}};function ot(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(s,l)=>{const{message:c}=e;return s.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:s.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class xt{get description(){return this._def.description}_getType(t){return Ho(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ho(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ma,ctx:{common:t.parent.common,data:t.data,parsedType:Ho(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ux(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ho(t)},a=this._parseSync({data:t,path:n.path,parent:n});return Q2(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ho(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return sf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>sf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ho(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(ux(a)?a:Promise.resolve(a));return Q2(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const s=t(a),l=()=>i.addIssue({code:ye.custom,...n(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(l(),!1)):s?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new lf({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return xl.create(this,this._def)}nullable(){return cf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ys.create(this)}promise(){return hx.create(this,this._def)}or(t){return dx.create([this,t],this._def)}and(t){return fx.create(this,t,this._def)}transform(t){return new lf({...ot(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new FS({...ot(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new ese({typeName:at.ZodBranded,type:this,...ot(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new BS({...ot(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return VE.create(this,t)}readonly(){return US.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Tie=/^c[^\s-]{8,}$/i,Mie=/^[0-9a-z]+$/,$ie=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Iie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rie=/^[a-z0-9_-]{21}$/i,Die=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let U_;const Uie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Wie=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,qie=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,RU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Gie=new RegExp(`^${RU}$`);function DU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Kie(e){return new RegExp(`^${DU(e)}$`)}function Yie(e){let t=`${RU}T${DU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Jie(e,t){return!!((t==="v4"||!t)&&Uie.test(e)||(t==="v6"||!t)&&Vie.test(e))}function Xie(e,t){if(!Die.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function Qie(e,t){return!!((t==="v4"||!t)&&zie.test(e)||(t==="v6"||!t)&&Wie.test(e))}class ol extends xt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const i=this._getOrReturnCtx(t);return ke(i,{code:ye.invalid_type,expected:Te.string,received:i.parsedType}),nt}const n=new Ma;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const s=t.data.length>i.value,l=t.data.length<i.value;(s||l)&&(a=this._getOrReturnCtx(t,a),s?ke(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ke(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Fie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"email",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")U_||(U_=new RegExp(Bie,"u")),U_.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"emoji",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Iie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"uuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Rie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"nanoid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Tie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"cuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Mie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"cuid2",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")$ie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"ulid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ke(a,{validation:"url",code:ye.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"regex",code:ye.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Yie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Gie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Kie(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Lie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"duration",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Jie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"ip",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Xie(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"jwt",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Qie(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"cidr",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Hie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"base64",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?qie.test(t.data)||(a=this._getOrReturnCtx(t,a),ke(a,{validation:"base64url",code:ye.invalid_string,message:i.message}),n.dirty()):wt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ye.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new ol({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new ol({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ol({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ol({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ol.create=e=>new ol({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ot(e)});function Zie(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),s=Number.parseInt(t.toFixed(a).replace(".",""));return i%s/10**a}class cm extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const i=this._getOrReturnCtx(t);return ke(i,{code:ye.invalid_type,expected:Te.number,received:i.parsedType}),nt}let n;const a=new Ma;for(const i of this._def.checks)i.kind==="int"?wt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Zie(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.not_finite,message:i.message}),a.dirty()):wt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new cm({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new cm({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&wt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}cm.create=e=>new cm({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ot(e)});class um extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const a=new Ma;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):wt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ke(r,{code:ye.invalid_type,expected:Te.bigint,received:r.parsedType}),nt}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new um({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new um({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}um.create=e=>new um({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ot(e)});class DS extends xt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.boolean,received:n.parsedType}),nt}return oi(t.data)}}DS.create=e=>new DS({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ot(e)});class dm extends xt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const i=this._getOrReturnCtx(t);return ke(i,{code:ye.invalid_type,expected:Te.date,received:i.parsedType}),nt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ke(i,{code:ye.invalid_date}),nt}const n=new Ma;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ke(a,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):wt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new dm({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}dm.create=e=>new dm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...ot(e)});class Z2 extends xt{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.symbol,received:n.parsedType}),nt}return oi(t.data)}}Z2.create=e=>new Z2({typeName:at.ZodSymbol,...ot(e)});class eM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.undefined,received:n.parsedType}),nt}return oi(t.data)}}eM.create=e=>new eM({typeName:at.ZodUndefined,...ot(e)});class tM extends xt{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.null,received:n.parsedType}),nt}return oi(t.data)}}tM.create=e=>new tM({typeName:at.ZodNull,...ot(e)});class rM extends xt{constructor(){super(...arguments),this._any=!0}_parse(t){return oi(t.data)}}rM.create=e=>new rM({typeName:at.ZodAny,...ot(e)});class nM extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return oi(t.data)}}nM.create=e=>new nM({typeName:at.ZodUnknown,...ot(e)});class Pl extends xt{_parse(t){const r=this._getOrReturnCtx(t);return ke(r,{code:ye.invalid_type,expected:Te.never,received:r.parsedType}),nt}}Pl.create=e=>new Pl({typeName:at.ZodNever,...ot(e)});class aM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.void,received:n.parsedType}),nt}return oi(t.data)}}aM.create=e=>new aM({typeName:at.ZodVoid,...ot(e)});class ys extends xt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Te.array)return ke(r,{code:ye.invalid_type,expected:Te.array,received:r.parsedType}),nt;if(a.exactLength!==null){const s=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(s||l)&&(ke(r,{code:s?ye.too_big:ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ke(r,{code:ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ke(r,{code:ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,l)=>a.type._parseAsync(new El(r,s,r.path,l)))).then(s=>Ma.mergeArray(n,s));const i=[...r.data].map((s,l)=>a.type._parseSync(new El(r,s,r.path,l)));return Ma.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ys({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new ys({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new ys({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}ys.create=(e,t)=>new ys({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...ot(t)});function Qu(e){if(e instanceof Cr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=xl.create(Qu(n))}return new Cr({...e._def,shape:()=>t})}else return e instanceof ys?new ys({...e._def,type:Qu(e.element)}):e instanceof xl?xl.create(Qu(e.unwrap())):e instanceof cf?cf.create(Qu(e.unwrap())):e instanceof Jc?Jc.create(e.items.map(t=>Qu(t))):e}class Cr extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=wt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return ke(u,{code:ye.invalid_type,expected:Te.object,received:u.parsedType}),nt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:s}=this._getCached(),l=[];if(!(this._def.catchall instanceof Pl&&this._def.unknownKeys==="strip"))for(const u in a.data)s.includes(u)||l.push(u);const c=[];for(const u of s){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new El(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Pl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(ke(a,{code:ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new El(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Ma.mergeObjectSync(n,u)):Ma.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Cr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,s;const a=((s=(i=this._def).errorMap)==null?void 0:s.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Cr({...this._def,unknownKeys:"strip"})}passthrough(){return new Cr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Cr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Cr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Cr({...this._def,catchall:t})}pick(t){const r={};for(const n of wt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of wt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}deepPartial(){return Qu(this)}partial(t){const r={};for(const n of wt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Cr({...this._def,shape:()=>r})}required(t){const r={};for(const n of wt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof xl;)i=i._def.innerType;r[n]=i}return new Cr({...this._def,shape:()=>r})}keyof(){return LU(wt.objectKeys(this.shape))}}Cr.create=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strip",catchall:Pl.create(),typeName:at.ZodObject,...ot(t)});Cr.strictCreate=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strict",catchall:Pl.create(),typeName:at.ZodObject,...ot(t)});Cr.lazycreate=(e,t)=>new Cr({shape:e,unknownKeys:"strip",catchall:Pl.create(),typeName:at.ZodObject,...ot(t)});class dx extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const s=i.map(l=>new po(l.ctx.common.issues));return ke(r,{code:ye.invalid_union,unionErrors:s}),nt}if(r.common.async)return Promise.all(n.map(async i=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=s.map(c=>new po(c));return ke(r,{code:ye.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}dx.create=(e,t)=>new dx({options:e,typeName:at.ZodUnion,...ot(t)});function LS(e,t){const r=Ho(e),n=Ho(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const a=wt.objectKeys(t),i=wt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),s={...e,...t};for(const l of i){const c=LS(e[l],t[l]);if(!c.valid)return{valid:!1};s[l]=c.data}return{valid:!0,data:s}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],l=t[i],c=LS(s,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class fx extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,s)=>{if(J2(i)||J2(s))return nt;const l=LS(i.value,s.value);return l.valid?((X2(i)||X2(s))&&r.dirty(),{status:r.value,value:l.data}):(ke(n,{code:ye.invalid_intersection_types}),nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}fx.create=(e,t,r)=>new fx({left:e,right:t,typeName:at.ZodIntersection,...ot(r)});class Jc extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return ke(n,{code:ye.invalid_type,expected:Te.array,received:n.parsedType}),nt;if(n.data.length<this._def.items.length)return ke(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&n.data.length>this._def.items.length&&(ke(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((s,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new El(n,s,n.path,l)):null}).filter(s=>!!s);return n.common.async?Promise.all(i).then(s=>Ma.mergeArray(r,s)):Ma.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Jc({...this._def,rest:t})}}Jc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jc({items:e,typeName:at.ZodTuple,rest:null,...ot(t)})};class iM extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return ke(n,{code:ye.invalid_type,expected:Te.map,received:n.parsedType}),nt;const a=this._def.keyType,i=this._def.valueType,s=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new El(n,l,n.path,[u,"key"])),value:i._parse(new El(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of s){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of s){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}iM.create=(e,t,r)=>new iM({valueType:t,keyType:e,typeName:at.ZodMap,...ot(r)});class fm extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return ke(n,{code:ye.invalid_type,expected:Te.set,received:n.parsedType}),nt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ke(n,{code:ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ke(n,{code:ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function s(c){const u=new Set;for(const d of c){if(d.status==="aborted")return nt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new El(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>s(c)):s(l)}min(t,r){return new fm({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new fm({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}fm.create=(e,t)=>new fm({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...ot(t)});class sM extends xt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sM.create=(e,t)=>new sM({getter:e,typeName:at.ZodLazy,...ot(t)});class oM extends xt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ke(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}oM.create=(e,t)=>new oM({value:e,typeName:at.ZodLiteral,...ot(t)});function LU(e,t){return new of({values:e,typeName:at.ZodEnum,...ot(t)})}class of extends xt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{expected:wt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{received:r.data,code:ye.invalid_enum_value,options:n}),nt}return oi(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return of.create(t,{...this._def,...r})}exclude(t,r=this._def){return of.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}of.create=LU;class lM extends xt{_parse(t){const r=wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=wt.objectValues(r);return ke(n,{expected:wt.joinValues(a),received:n.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(wt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=wt.objectValues(r);return ke(n,{received:n.data,code:ye.invalid_enum_value,options:a}),nt}return oi(t.data)}get enum(){return this._def.values}}lM.create=(e,t)=>new lM({values:e,typeName:at.ZodNativeEnum,...ot(t)});class hx extends xt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return ke(r,{code:ye.invalid_type,expected:Te.promise,received:r.parsedType}),nt;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return oi(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hx.create=(e,t)=>new hx({type:e,typeName:at.ZodPromise,...ot(t)});class lf extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{ke(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(n.data,i);if(n.common.async)return Promise.resolve(s).then(async l=>{if(r.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?nt:c.status==="dirty"||r.value==="dirty"?tp(c.value):c});{if(r.value==="aborted")return nt;const l=this._def.schema._parseSync({data:s,path:n.path,parent:n});return l.status==="aborted"?nt:l.status==="dirty"||r.value==="dirty"?tp(l.value):l}}if(a.type==="refinement"){const s=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),s(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),s(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sf(s))return nt;const l=a.transform(s.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>sf(s)?Promise.resolve(a.transform(s.value,i)).then(l=>({status:r.value,value:l})):nt);wt.assertNever(a)}}lf.create=(e,t,r)=>new lf({schema:e,typeName:at.ZodEffects,effect:t,...ot(r)});lf.createWithPreprocess=(e,t,r)=>new lf({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...ot(r)});class xl extends xt{_parse(t){return this._getType(t)===Te.undefined?oi(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}xl.create=(e,t)=>new xl({innerType:e,typeName:at.ZodOptional,...ot(t)});class cf extends xt{_parse(t){return this._getType(t)===Te.null?oi(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cf.create=(e,t)=>new cf({innerType:e,typeName:at.ZodNullable,...ot(t)});class FS extends xt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}FS.create=(e,t)=>new FS({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ot(t)});class BS extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ux(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new po(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new po(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}BS.create=(e,t)=>new BS({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ot(t)});class cM extends xt{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return ke(n,{code:ye.invalid_type,expected:Te.nan,received:n.parsedType}),nt}return{status:"valid",value:t.data}}}cM.create=e=>new cM({typeName:at.ZodNaN,...ot(e)});class ese extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class VE extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nt:i.status==="dirty"?(r.dirty(),tp(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?nt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new VE({in:t,out:r,typeName:at.ZodPipeline})}}class US extends xt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(sf(a)&&(a.value=Object.freeze(a.value)),a);return ux(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}US.create=(e,t)=>new US({innerType:e,typeName:at.ZodReadonly,...ot(t)});var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const pr=ol.create,tse=DS.create,rse=dm.create;Pl.create;ys.create;const w0=Cr.create;dx.create;fx.create;Jc.create;const nse=of.create;hx.create;xl.create;cf.create;const rt=y.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));rt.displayName="Input";var ase=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ise=ase.reduce((e,t)=>{const r=mg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),sse="Label",FU=y.forwardRef((e,t)=>o.jsx(ise.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));FU.displayName=sse;var BU=FU;const ose=i0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ge=y.forwardRef(({className:e,...t},r)=>o.jsx(BU,{ref:r,className:ve(ose(),e),...t}));ge.displayName=BU.displayName;const ie=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ie.displayName="Card";const me=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const we=y.forwardRef(({className:e,...t},r)=>o.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));we.displayName="CardTitle";const Ce=y.forwardRef(({className:e,...t},r)=>o.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Ce.displayName="CardDescription";const ce=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));ce.displayName="CardContent";const lse=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));lse.displayName="CardFooter";function zS(e,[t,r]){return Math.min(r,Math.max(t,e))}var cse=y.createContext(void 0);function ih(e){const t=y.useContext(cse);return e||t||"ltr"}var z_=0;function _0(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uM()),document.body.insertAdjacentElement("beforeend",e[1]??uM()),z_++,()=>{z_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),z_--}},[])}function uM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var V_="focusScope.autoFocusOnMount",W_="focusScope.autoFocusOnUnmount",dM={bubbles:!1,cancelable:!0},use="FocusScope",vg=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[l,c]=y.useState(null),u=gr(a),d=gr(i),f=y.useRef(null),h=Ke(t,m=>c(m)),p=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let m=function(w){if(p.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Fo(f.current,{select:!0})},v=function(w){if(p.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Fo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Fo(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,p.paused]),y.useEffect(()=>{if(l){hM.add(p);const m=document.activeElement;if(!l.contains(m)){const b=new CustomEvent(V_,dM);l.addEventListener(V_,u),l.dispatchEvent(b),b.defaultPrevented||(dse(gse(UU(l)),{select:!0}),document.activeElement===m&&Fo(l))}return()=>{l.removeEventListener(V_,u),setTimeout(()=>{const b=new CustomEvent(W_,dM);l.addEventListener(W_,d),l.dispatchEvent(b),b.defaultPrevented||Fo(m??document.body,{select:!0}),l.removeEventListener(W_,d),hM.remove(p)},0)}}},[l,u,d,p]);const g=y.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(v&&b){const x=m.currentTarget,[w,_]=fse(x);w&&_?!m.shiftKey&&b===_?(m.preventDefault(),r&&Fo(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),r&&Fo(_,{select:!0})):b===x&&m.preventDefault()}},[r,n,p.paused]);return o.jsx(Me.div,{tabIndex:-1,...s,ref:h,onKeyDown:g})});vg.displayName=use;function dse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fo(n,{select:t}),document.activeElement!==r)return}function fse(e){const t=UU(e),r=fM(t,e),n=fM(t.reverse(),e);return[r,n]}function UU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fM(e,t){for(const r of e)if(!hse(r,{upTo:t}))return r}function hse(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pse(e){return e instanceof HTMLInputElement&&"select"in e}function Fo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&pse(e)&&t&&e.select()}}var hM=mse();function mse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=pM(e,t),e.unshift(t)},remove(t){var r;e=pM(e,t),(r=e[0])==null||r.resume()}}}function pM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function gse(e){return e.filter(t=>t.tagName!=="A")}function vse(e){const t=yse(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(bse);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yse(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=_se(a),l=wse(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xse=Symbol("radix.slottable");function bse(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xse}function wse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _se(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function j0(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var jse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lu=new WeakMap,mv=new WeakMap,gv={},H_=0,zU=function(e){return e&&(e.host||zU(e.parentNode))},Sse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Nse=function(e,t,r,n){var a=Sse(t,Array.isArray(e)?e:[e]);gv[r]||(gv[r]=new WeakMap);var i=gv[r],s=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(Lu.get(h)||0)+1,v=(i.get(h)||0)+1;Lu.set(h,m),i.set(h,v),s.push(h),m===1&&g&&mv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),H_++,function(){s.forEach(function(f){var h=Lu.get(f)-1,p=i.get(f)-1;Lu.set(f,h),i.set(f,p),h||(mv.has(f)||f.removeAttribute(n),mv.delete(f)),p||f.removeAttribute(r)}),H_--,H_||(Lu=new WeakMap,Lu=new WeakMap,mv=new WeakMap,gv={})}},S0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=jse(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Nse(n,a,r,"aria-hidden")):function(){return null}},hy="right-scroll-bar-position",py="width-before-scroll-bar",kse="with-scroll-bars-hidden",Cse="--removed-body-scroll-bar-size";function q_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ese(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Pse=typeof window<"u"?y.useLayoutEffect:y.useEffect,mM=new WeakMap;function Ose(e,t){var r=Ese(null,function(n){return e.forEach(function(a){return q_(a,n)})});return Pse(function(){var n=mM.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(l){i.has(l)||q_(l,null)}),i.forEach(function(l){a.has(l)||q_(l,s)})}mM.set(r,e)},[e]),r}function Ase(e){return e}function Tse(e,t){t===void 0&&(t=Ase);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(l){return l!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var l=r;r=[],l.forEach(i),s=r}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),r}}}};return a}function Mse(e){e===void 0&&(e={});var t=Tse(null);return t.options=ls({async:!0,ssr:!1},e),t}var VU=function(e){var t=e.sideCar,r=ah(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,ls({},r))};VU.isSideCarExport=!0;function $se(e,t){return e.useMedium(t),VU}var WU=Mse(),G_=function(){},N0=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:G_,onWheelCapture:G_,onTouchMoveCapture:G_}),a=n[0],i=n[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,g=e.noIsolation,m=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=ah(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Ose([r,t]),k=ls(ls({},_),a);return y.createElement(y.Fragment,null,d&&y.createElement(S,{sideCar:WU,removeScrollBar:u,shards:f,noRelative:p,noIsolation:g,inert:m,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),s?y.cloneElement(y.Children.only(l),ls(ls({},k),{ref:N})):y.createElement(x,ls({},k,{className:c,ref:N}),l))});N0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N0.classNames={fullWidth:py,zeroRight:hy};var Ise=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rse(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ise();return t&&e.setAttribute("nonce",t),e}function Dse(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Lse(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Fse=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Rse())&&(Dse(t,r),Lse(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Bse=function(){var e=Fse();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HU=function(){var e=Bse(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Use={left:0,top:0,right:0,gap:0},K_=function(e){return parseInt(e||"",10)||0},zse=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[K_(r),K_(n),K_(a)]},Vse=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Use;var t=zse(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Wse=HU(),Td="data-scroll-locked",Hse=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Td,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(hy,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(py,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(hy," .").concat(hy,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(py," .").concat(py,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Td,`] {
    `).concat(Cse,": ").concat(l,`px;
  }
`)},gM=function(){var e=parseInt(document.body.getAttribute(Td)||"0",10);return isFinite(e)?e:0},qse=function(){y.useEffect(function(){return document.body.setAttribute(Td,(gM()+1).toString()),function(){var e=gM()-1;e<=0?document.body.removeAttribute(Td):document.body.setAttribute(Td,e.toString())}},[])},Gse=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;qse();var i=y.useMemo(function(){return Vse(a)},[a]);return y.createElement(Wse,{styles:Hse(i,!t,a,r?"":"!important")})},VS=!1;if(typeof window<"u")try{var vv=Object.defineProperty({},"passive",{get:function(){return VS=!0,!0}});window.addEventListener("test",vv,vv),window.removeEventListener("test",vv,vv)}catch{VS=!1}var Fu=VS?{passive:!1}:!1,Kse=function(e){return e.tagName==="TEXTAREA"},qU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Kse(e)&&r[t]==="visible")},Yse=function(e){return qU(e,"overflowY")},Jse=function(e){return qU(e,"overflowX")},vM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=GU(e,n);if(a){var i=KU(e,n),s=i[1],l=i[2];if(s>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Xse=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Qse=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},GU=function(e,t){return e==="v"?Yse(t):Jse(t)},KU=function(e,t){return e==="v"?Xse(t):Qse(t)},Zse=function(e,t){return e==="h"&&t==="rtl"?-1:1},eoe=function(e,t,r,n,a){var i=Zse(e,window.getComputedStyle(t).direction),s=i*n,l=r.target,c=t.contains(l),u=!1,d=s>0,f=0,h=0;do{if(!l)break;var p=KU(e,l),g=p[0],m=p[1],v=p[2],b=m-v-i*g;(g||b)&&GU(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},yv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yM=function(e){return[e.deltaX,e.deltaY]},xM=function(e){return e&&"current"in e?e.current:e},toe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},roe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},noe=0,Bu=[];function aoe(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(noe++)[0],i=y.useState(HU)[0],s=y.useRef(e);y.useEffect(function(){s.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=sre([e.lockRef.current],(e.shards||[]).map(xM),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!s.current.allowPinchZoom;var b=yv(m),x=r.current,w="deltaX"in m?m.deltaX:x[0]-b[0],_="deltaY"in m?m.deltaY:x[1]-b[1],S,N=m.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var C=window.getSelection(),A=C&&C.anchorNode,T=A?A===N||A.contains(N):!1;if(T)return!1;var I=vM(k,N);if(!I)return!0;if(I?S=k:(S=k==="v"?"h":"v",I=vM(k,N)),!I)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=S),!S)return!0;var O=n.current||S;return eoe(O,v,m,O==="h"?w:_)},[]),c=y.useCallback(function(m){var v=m;if(!(!Bu.length||Bu[Bu.length-1]!==i)){var b="deltaY"in v?yM(v):yv(v),x=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&toe(S.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(s.current.shards||[]).map(xM).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!s.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(m,v,b,x){var w={name:m,delta:v,target:b,should:x,shadowParent:ioe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(m){r.current=yv(m),n.current=void 0},[]),f=y.useCallback(function(m){u(m.type,yM(m),m.target,l(m,e.lockRef.current))},[]),h=y.useCallback(function(m){u(m.type,yv(m),m.target,l(m,e.lockRef.current))},[]);y.useEffect(function(){return Bu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Fu),document.addEventListener("touchmove",c,Fu),document.addEventListener("touchstart",d,Fu),function(){Bu=Bu.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Fu),document.removeEventListener("touchmove",c,Fu),document.removeEventListener("touchstart",d,Fu)}},[]);var p=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:roe(a)}):null,p?y.createElement(Gse,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ioe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const soe=$se(WU,aoe);var yg=y.forwardRef(function(e,t){return y.createElement(N0,ls({},e,{ref:t,sideCar:soe}))});yg.classNames=N0.classNames;var ooe=[" ","Enter","ArrowUp","ArrowDown"],loe=[" ","Enter"],Xc="Select",[k0,C0,coe]=r0(Xc),[sh]=mn(Xc,[coe,Il]),E0=Il(),[uoe,Ll]=sh(Xc),[doe,foe]=sh(Xc),YU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=E0(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(!1),N=ih(u),[k,C]=zi({prop:n,defaultProp:a??!1,onChange:i,caller:Xc}),[A,T]=zi({prop:s,defaultProp:l,onChange:c,caller:Xc}),I=y.useRef(null),O=v?g||!!v.closest("form"):!0,[L,$]=y.useState(new Set),F=Array.from(L).map(V=>V.props.value).join(";");return o.jsx(xE,{...m,children:o.jsxs(uoe,{required:p,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Di(),value:A,onValueChange:T,open:k,onOpenChange:C,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[o.jsx(k0.Provider,{scope:t,children:o.jsx(doe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(V=>{$(z=>new Set(z).add(V))},[]),onNativeOptionRemove:y.useCallback(V=>{$(z=>{const R=new Set(z);return R.delete(V),R})},[]),children:r})}),O?o.jsxs(x6,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:V=>T(V.target.value),disabled:h,form:g,children:[A===void 0?o.jsx("option",{value:""}):null,Array.from(L)]},F):null]})})};YU.displayName=Xc;var JU="SelectTrigger",XU=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=E0(r),s=Ll(JU,r),l=s.disabled||n,c=Ke(t,s.onTriggerChange),u=C0(r),d=y.useRef("touch"),[f,h,p]=w6(m=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===s.value),x=_6(v,m,b);x!==void 0&&s.onValueChange(x.value)}),g=m=>{l||(s.onOpenChange(!0),p()),m&&(s.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return o.jsx(hg,{asChild:!0,...i,children:o.jsx(Me.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":b6(s.value)?"":void 0,...a,ref:c,onClick:fe(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:fe(a.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:fe(a.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(v&&m.key===" ")&&ooe.includes(m.key)&&(g(),m.preventDefault())})})})});XU.displayName=JU;var QU="SelectValue",ZU=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...l}=e,c=Ll(QU,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ke(t,c.onValueNodeChange);return _r(()=>{u(d)},[u,d]),o.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:b6(c.value)?o.jsx(o.Fragment,{children:s}):i})});ZU.displayName=QU;var hoe="SelectIcon",e6=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});e6.displayName=hoe;var poe="SelectPortal",t6=e=>o.jsx(Xf,{asChild:!0,...e});t6.displayName=poe;var Qc="SelectContent",r6=y.forwardRef((e,t)=>{const r=Ll(Qc,e.__scopeSelect),[n,a]=y.useState();if(_r(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?pu.createPortal(o.jsx(n6,{scope:e.__scopeSelect,children:o.jsx(k0.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(a6,{...e,ref:t})});r6.displayName=Qc;var bi=10,[n6,Fl]=sh(Qc),moe="SelectContentImpl",goe=vse("SelectContent.RemoveScroll"),a6=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...b}=e,x=Ll(Qc,r),[w,_]=y.useState(null),[S,N]=y.useState(null),k=Ke(t,D=>_(D)),[C,A]=y.useState(null),[T,I]=y.useState(null),O=C0(r),[L,$]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(w)return S0(w)},[w]),_0();const V=y.useCallback(D=>{const[G,...q]=O().map(Y=>Y.ref.current),[J]=q.slice(-1),ee=document.activeElement;for(const Y of D)if(Y===ee||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===G&&S&&(S.scrollTop=0),Y===J&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==ee))return},[O,S]),z=y.useCallback(()=>V([C,w]),[V,C,w]);y.useEffect(()=>{L&&z()},[L,z]);const{onOpenChange:R,triggerPointerDownPosRef:U}=x;y.useEffect(()=>{if(w){let D={x:0,y:0};const G=J=>{var ee,Y;D={x:Math.abs(Math.round(J.pageX)-(((ee=U.current)==null?void 0:ee.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Y=U.current)==null?void 0:Y.y)??0))}},q=J=>{D.x<=10&&D.y<=10?J.preventDefault():w.contains(J.target)||R(!1),document.removeEventListener("pointermove",G),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,R,U]),y.useEffect(()=>{const D=()=>R(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[R]);const[K,re]=w6(D=>{const G=O().filter(ee=>!ee.disabled),q=G.find(ee=>ee.ref.current===document.activeElement),J=_6(G,D,q);J&&setTimeout(()=>J.ref.current.focus())}),Q=y.useCallback((D,G,q)=>{const J=!F.current&&!q;(x.value!==void 0&&x.value===G||J)&&(A(D),J&&(F.current=!0))},[x.value]),j=y.useCallback(()=>w==null?void 0:w.focus(),[w]),P=y.useCallback((D,G,q)=>{const J=!F.current&&!q;(x.value!==void 0&&x.value===G||J)&&I(D)},[x.value]),E=n==="popper"?WS:i6,B=E===WS?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return o.jsx(n6,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:Q,selectedItem:C,onItemLeave:j,itemTextRefCallback:P,focusSelectedItem:z,selectedItemText:T,position:n,isPositioned:L,searchRef:K,children:o.jsx(yg,{as:goe,allowPinchZoom:!0,children:o.jsx(vg,{asChild:!0,trapped:x.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:fe(a,D=>{var G;(G=x.trigger)==null||G.focus({preventScroll:!0}),D.preventDefault()}),children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:o.jsx(E,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:D=>D.preventDefault(),...b,...B,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:fe(b.onKeyDown,D=>{const G=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!G&&D.key.length===1&&re(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let J=O().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(D.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const ee=D.target,Y=J.indexOf(ee);J=J.slice(Y+1)}setTimeout(()=>V(J)),D.preventDefault()}})})})})})})});a6.displayName=moe;var voe="SelectItemAlignedPosition",i6=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ll(Qc,r),s=Fl(Qc,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Ke(t,k=>d(k)),h=C0(r),p=y.useRef(!1),g=y.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=s,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&v&&b){const k=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=T.left-C.left,Y=A.left-ee,xe=k.left-Y,Ne=k.width+xe,Je=Math.max(Ne,C.width),He=window.innerWidth-bi,Be=zS(Y,[bi,Math.max(bi,He-Je)]);l.style.minWidth=Ne+"px",l.style.left=Be+"px"}else{const ee=C.right-T.right,Y=window.innerWidth-A.right-ee,xe=window.innerWidth-k.right-Y,Ne=k.width+xe,Je=Math.max(Ne,C.width),He=window.innerWidth-bi,Be=zS(Y,[bi,Math.max(bi,He-Je)]);l.style.minWidth=Ne+"px",l.style.right=Be+"px"}const I=h(),O=window.innerHeight-bi*2,L=m.scrollHeight,$=window.getComputedStyle(u),F=parseInt($.borderTopWidth,10),V=parseInt($.paddingTop,10),z=parseInt($.borderBottomWidth,10),R=parseInt($.paddingBottom,10),U=F+V+L+R+z,K=Math.min(v.offsetHeight*5,U),re=window.getComputedStyle(m),Q=parseInt(re.paddingTop,10),j=parseInt(re.paddingBottom,10),P=k.top+k.height/2-bi,E=O-P,B=v.offsetHeight/2,D=v.offsetTop+B,G=F+V+D,q=U-G;if(G<=P){const ee=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-m.offsetTop-m.offsetHeight,xe=Math.max(E,B+(ee?j:0)+Y+z),Ne=G+xe;l.style.height=Ne+"px"}else{const ee=I.length>0&&v===I[0].ref.current;l.style.top="0px";const xe=Math.max(P,F+m.offsetTop+(ee?Q:0)+B)+q;l.style.height=xe+"px",m.scrollTop=G-P+m.offsetTop}l.style.margin=`${bi}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,v,b,i.dir,n]);_r(()=>w(),[w]);const[_,S]=y.useState();_r(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=y.useCallback(k=>{k&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return o.jsx(xoe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:o.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:o.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});i6.displayName=voe;var yoe="SelectPopperPosition",WS=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=bi,...i}=e,s=E0(r);return o.jsx(d0,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});WS.displayName=yoe;var[xoe,WE]=sh(Qc,{}),HS="SelectViewport",s6=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Fl(HS,r),s=WE(HS,r),l=Ke(t,i.onViewportChange),c=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(k0.Slot,{scope:r,children:o.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:fe(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=s;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-bi*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(m,v);if(b<g){const x=b+p,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});s6.displayName=HS;var o6="SelectGroup",[boe,woe]=sh(o6),_oe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Di();return o.jsx(boe,{scope:r,id:a,children:o.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});_oe.displayName=o6;var l6="SelectLabel",c6=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=woe(l6,r);return o.jsx(Me.div,{id:a.id,...n,ref:t})});c6.displayName=l6;var px="SelectItem",[joe,u6]=sh(px),d6=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,l=Ll(px,r),c=Fl(px,r),u=l.value===n,[d,f]=y.useState(i??""),[h,p]=y.useState(!1),g=Ke(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),m=Di(),v=y.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(joe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:o.jsx(k0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:o.jsx(Me.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:g,onFocus:fe(s.onFocus,()=>p(!0)),onBlur:fe(s.onBlur,()=>p(!1)),onClick:fe(s.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:fe(s.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:fe(s.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:fe(s.onPointerMove,x=>{var w;v.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(s.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:fe(s.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(loe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});d6.displayName=px;var rp="SelectItemText",f6=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=Ll(rp,r),l=Fl(rp,r),c=u6(rp,r),u=foe(rp,r),[d,f]=y.useState(null),h=Ke(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=y.useMemo(()=>o.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return _r(()=>(m(g),()=>v(g)),[m,v,g]),o.jsxs(o.Fragment,{children:[o.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?pu.createPortal(i.children,s.valueNode):null]})});f6.displayName=rp;var h6="SelectItemIndicator",p6=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return u6(h6,r).isSelected?o.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});p6.displayName=h6;var qS="SelectScrollUpButton",m6=y.forwardRef((e,t)=>{const r=Fl(qS,e.__scopeSelect),n=WE(qS,e.__scopeSelect),[a,i]=y.useState(!1),s=Ke(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(v6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});m6.displayName=qS;var GS="SelectScrollDownButton",g6=y.forwardRef((e,t)=>{const r=Fl(GS,e.__scopeSelect),n=WE(GS,e.__scopeSelect),[a,i]=y.useState(!1),s=Ke(t,n.onScrollButtonChange);return _r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?o.jsx(v6,{...e,ref:s,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});g6.displayName=GS;var v6=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Fl("SelectScrollButton",r),s=y.useRef(null),l=C0(r),c=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),_r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),o.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:fe(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:fe(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:fe(a.onPointerLeave,()=>{c()})})}),Soe="SelectSeparator",y6=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});y6.displayName=Soe;var KS="SelectArrow",Noe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=E0(r),i=Ll(KS,r),s=Fl(KS,r);return i.open&&s.position==="popper"?o.jsx(f0,{...a,...n,ref:t}):null});Noe.displayName=KS;var koe="SelectBubbleInput",x6=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ke(n,a),s=j0(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[s,t]),o.jsx(Me.select,{...r,style:{...P5,...r.style},ref:i,defaultValue:t})});x6.displayName=koe;function b6(e){return e===""||e===void 0}function w6(e){const t=gr(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(s=>{const l=r.current+s;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function _6(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Coe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Coe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Eoe=YU,j6=XU,Poe=ZU,Ooe=e6,Aoe=t6,S6=r6,Toe=s6,N6=c6,k6=d6,Moe=f6,$oe=p6,C6=m6,E6=g6,P6=y6;const rr=Eoe,nr=Poe,Jt=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(j6,{ref:n,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(Ooe,{asChild:!0,children:o.jsx(X5,{className:"h-4 w-4 opacity-50"})})]}));Jt.displayName=j6.displayName;const O6=y.forwardRef(({className:e,...t},r)=>o.jsx(C6,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(QJ,{className:"h-4 w-4"})}));O6.displayName=C6.displayName;const A6=y.forwardRef(({className:e,...t},r)=>o.jsx(E6,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(X5,{className:"h-4 w-4"})}));A6.displayName=E6.displayName;const Xt=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(Aoe,{children:o.jsxs(S6,{ref:a,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(O6,{}),o.jsx(Toe,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(A6,{})]})}));Xt.displayName=S6.displayName;const Ioe=y.forwardRef(({className:e,...t},r)=>o.jsx(N6,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ioe.displayName=N6.displayName;const Le=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(k6,{ref:n,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx($oe,{children:o.jsx(iE,{className:"h-4 w-4"})})}),o.jsx(Moe,{children:t})]}));Le.displayName=k6.displayName;const Roe=y.forwardRef(({className:e,...t},r)=>o.jsx(P6,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));Roe.displayName=P6.displayName;const Doe="modulepreload",Loe=function(e){return"/"+e},bM={},mo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Loe(c),c in bM)return;bM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Doe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},bl="";class my extends Error{constructor(r,n){super(r);uA(this,"status");this.name="APIError",this.status=n}}const _p=async()=>{const{supabase:e}=await mo(async()=>{const{supabase:r}=await Promise.resolve().then(()=>ho);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function Fe(e,t={}){const r=await _p(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${bl}${e}`,{...t,headers:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new my(i.detail||i.message||"API request failed",a.status)}return a.json()}const Foe={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Fe(`/api/prescriptions${r}`)},get:e=>Fe(`/api/prescriptions/${e}`),create:e=>Fe("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Fe(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Fe(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Fe(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Fe("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},YS={requestPasswordReset:e=>Fe("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Fe("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Fe(`/api/auth/verify-token?token=${e}`),checkAccount:e=>fetch(`${bl}/api/auth/check-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json()),sendSetupLink:e=>fetch(`${bl}/api/auth/send-setup-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json())},Gr={createConversation:e=>Fe("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Fe(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Fe("/api/chat/conversations/unassigned"),getMyChats:()=>Fe("/api/chat/conversations/my-chats"),getConversation:e=>Fe(`/api/chat/conversations/${e}`),claimConversation:e=>Fe(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Fe(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Fe(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Fe(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Fe(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,a)=>Fe(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:a})}),markAsRead:e=>Fe(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Fe("/api/chat/stats")},Hs={getFeeSchedule:()=>Fe("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Fe("/api/bookings/clinicians/available"),create:e=>Fe("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Fe(`/api/bookings/${r}`)},get:e=>Fe(`/api/bookings/${e}`),update:(e,t)=>Fe(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Fe(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Fe(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Fe(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${bl}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await Hs.getInvoicePDF(e),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Fe(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},wM={createRoom:e=>Fe("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Fe("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Fe(`/api/video/room/${e}`),checkHealth:()=>Fe("/api/video/health")},$o={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Fe(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await _p(),a=new URLSearchParams({period:e});t&&a.set("start_date",t),r&&a.set("end_date",r);const i=await fetch(`${bl}/api/admin/analytics/export/csv?${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Failed to export CSV");const s=await i.blob(),l=window.URL.createObjectURL(s),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},$h={preview:async(e,t)=>{const r=await _p(),n=new FormData;n.append("file",e),t&&n.append("password",t);const a=await fetch(`${bl}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new my(i.detail||"Preview failed",a.status)}return a.json()},importStudents:async(e,t,r,n)=>{const a=await _p(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const s=await fetch(`${bl}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!s.ok){const l=await s.json().catch(()=>({}));throw new my(l.detail||"Import failed",s.status)}return s.json()},startImport:async(e,t,r,n)=>{const a=await _p(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const s=await fetch(`${bl}/api/admin/bulk-import/start`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!s.ok){const l=await s.json().catch(()=>({}));throw new my(l.detail||"Failed to start import",s.status)}return s.json()},getJobStatus:e=>Fe(`/api/admin/bulk-import/jobs/${e}`),cancelJob:e=>Fe(`/api/admin/bulk-import/jobs/${e}/cancel`,{method:"POST"}),listJobs:()=>Fe("/api/admin/bulk-import/jobs"),getTemplate:()=>Fe("/api/admin/bulk-import/template"),getCorporateClients:()=>Fe("/api/admin/bulk-import/corporate-clients"),createCorporateClient:e=>Fe("/api/admin/bulk-import/corporate-clients",{method:"POST",body:JSON.stringify(e)}),getAnalyticsByClient:()=>Fe("/api/admin/bulk-import/analytics/by-client")},Boe=({onBack:e})=>{const[t,r]=y.useState(""),[n,a]=y.useState(!1),[i,s]=y.useState(!1),l=async c=>{if(c.preventDefault(),!t){ue.error("Please enter your email address");return}a(!0);try{await YS.requestPasswordReset(t),s(!0),ue.success("Password reset link sent!")}catch{s(!0)}finally{a(!1)}};return i?o.jsx(ie,{className:"w-full max-w-md mx-auto",children:o.jsxs(ce,{className:"pt-6 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(hn,{className:"w-8 h-8 text-success"})}),o.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",o.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),o.jsxs(Z,{onClick:e,variant:"outline",className:"w-full",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):o.jsxs(ie,{className:"w-full max-w-md mx-auto",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:o.jsx(Ed,{className:"w-6 h-6 text-primary-foreground"})}),o.jsx(we,{children:"Reset Password"}),o.jsx(Ce,{children:"Enter your email address and we'll send you a link to reset your password."})]}),o.jsx(ce,{children:o.jsxs("form",{onSubmit:l,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"email",children:"Email Address"}),o.jsx(rt,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),o.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ed,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),o.jsxs(Z,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},Uoe=w0({email:pr().email("Please enter a valid email address"),password:pr().min(6,"Password must be at least 6 characters")}),zoe=w0({first_name:pr().min(1,"First name is required").max(50,"First name too long"),last_name:pr().min(1,"Last name is required").max(50,"Last name too long"),email:pr().email("Please enter a valid email address"),password:pr().min(8,"Password must be at least 8 characters"),confirm_password:pr(),role:nse(["patient","nurse","doctor","receptionist"]),hpcsa_number:pr().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),Voe=()=>{var L,$;const[e,t]=y.useState(!0),[r,n]=y.useState(!1),[a,i]=y.useState(!1),[s,l]=y.useState("patient"),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,p]=y.useState(!1),[g,m]=y.useState(!1),{signIn:v,signUp:b,user:x,role:w}=Tr(),_=En(),S=Cs(),{toast:N}=eE();($=(L=S.state)==null?void 0:L.from)!=null&&$.pathname,y.useEffect(()=>{x&&w&&_({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[w],{replace:!0})},[x,w,_]);const k=lx({resolver:cx(Uoe),defaultValues:{email:"",password:""}}),C=lx({resolver:cx(zoe),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),A=async F=>{var z;i(!0);try{p(!0);const R=await YS.checkAccount(F.email);if(p(!1),(z=R==null?void 0:R.data)!=null&&z.needs_password_setup){f({email:F.email,firstName:R.data.first_name||"there"}),i(!1);return}}catch(R){console.error("Account check failed:",R)}p(!1);const{error:V}=await v(F.email,F.password);i(!1),V&&N({variant:"destructive",title:"Login failed",description:V.message==="Invalid login credentials"?"Invalid email or password. Please try again.":V.message})},T=async()=>{var F,V;if(d){m(!0);try{const z=await YS.sendSetupLink(d.email);(F=z==null?void 0:z.data)!=null&&F.test_mode?N({title:"Testing Mode",description:"Email sending is disabled during testing. Please use 'Forgot Password' to set your password, or contact your administrator."}):(V=z==null?void 0:z.data)!=null&&V.email_sent?N({title:"Email sent!",description:"Check your inbox for a link to set your password."}):N({variant:"destructive",title:"Could not send email",description:(z==null?void 0:z.message)||"Please try again or use 'Forgot Password'."})}catch{N({variant:"destructive",title:"Error",description:"Could not send setup link. Please try 'Forgot Password' instead."})}m(!1)}},I=async F=>{i(!0);const{error:V}=await b(F.email,F.password,{first_name:F.first_name,last_name:F.last_name,role:F.role,hpcsa_number:F.hpcsa_number});i(!1),V?V.message.includes("already registered")?N({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in instead."}):N({variant:"destructive",title:"Signup failed",description:V.message}):N({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting to your dashboard..."})},O=F=>{l(F),C.setValue("role",F)};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsx("div",{className:"flex justify-center mb-8",children:o.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto"})}),c?o.jsx(Boe,{onBack:()=>u(!1)}):d?o.jsxs(ie,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"p-4 rounded-full bg-primary/10",children:o.jsx(NX,{className:"w-10 h-10 text-primary"})})}),o.jsxs(we,{className:"text-2xl",children:["Welcome, ",d.firstName,"!"]}),o.jsxs(Ce,{className:"mt-2",children:["Your account has been pre-registered by ",o.jsx("strong",{children:"Campus Africa"}),".",o.jsx("br",{}),"Please set a password to get started."]})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx("div",{className:"bg-muted/50 rounded-lg p-4 text-sm",children:o.jsxs("p",{className:"text-muted-foreground",children:["Your email: ",o.jsx("strong",{children:d.email})]})}),o.jsx(Z,{onClick:T,className:"w-full",size:"lg",disabled:g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ed,{className:"w-4 h-4 mr-2"}),"Send Password Setup Link"]})}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"or"})})]}),o.jsx(Z,{variant:"outline",onClick:()=>u(!0),className:"w-full",children:"Use Forgot Password"}),o.jsx("button",{type:"button",onClick:()=>f(null),className:"w-full text-sm text-muted-foreground hover:text-foreground",children:" Back to login"})]})]}):o.jsxs(ie,{className:"border-border/50 shadow-xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(we,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),o.jsx(Ce,{children:e?"Sign in to access your healthcare portal":"Join Quadcare Telehealth for quality healthcare"})]}),o.jsxs(ce,{children:[e?o.jsxs("form",{onSubmit:k.handleSubmit(A),className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ed,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",...k.register("email")})]}),k.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:k.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(N_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...k.register("password")}),o.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?o.jsx(PT,{className:"w-4 h-4"}):o.jsx(sS,{className:"w-4 h-4"})})]}),k.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:k.formState.errors.password.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:a,children:a?"Signing in...":"Sign In"}),o.jsx("button",{type:"button",onClick:()=>u(!0),className:"w-full text-sm text-primary hover:underline mt-2",children:"Forgot your password?"})]}):o.jsxs("form",{onSubmit:C.handleSubmit(I),className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"first_name",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"first_name",placeholder:"John",className:"pl-10",...C.register("first_name")})]}),C.formState.errors.first_name&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.first_name.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"last_name",children:"Last Name"}),o.jsx(rt,{id:"last_name",placeholder:"Doe",...C.register("last_name")}),C.formState.errors.last_name&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.last_name.message})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"signup-email",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx(Ed,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"signup-email",type:"email",placeholder:"you@example.com",className:"pl-10",...C.register("email")})]}),C.formState.errors.email&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.email.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"role",children:"I am a"}),o.jsxs(rr,{value:s,onValueChange:O,children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select your role"})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"patient",children:"Patient"}),o.jsx(Le,{value:"receptionist",children:"Receptionist"}),o.jsx(Le,{value:"nurse",children:"Nurse"}),o.jsx(Le,{value:"doctor",children:"Doctor"})]})]})]}),(s==="nurse"||s==="doctor")&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),o.jsxs("div",{className:"relative",children:[o.jsx(dg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...C.register("hpcsa_number")})]}),C.formState.errors.hpcsa_number&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.hpcsa_number.message}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"signup-password",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(N_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"signup-password",type:r?"text":"password",placeholder:"",className:"pl-10 pr-10",...C.register("password")}),o.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:r?o.jsx(PT,{className:"w-4 h-4"}):o.jsx(sS,{className:"w-4 h-4"})})]}),C.formState.errors.password&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.password.message})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"confirm_password",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(N_,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...C.register("confirm_password")})]}),C.formState.errors.confirm_password&&o.jsx("p",{className:"text-sm text-destructive",children:C.formState.errors.confirm_password.message})]}),o.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:a,children:a?"Creating account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-sm text-primary hover:underline",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]}),o.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",o.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},T6=y.createContext(void 0),M6=()=>{const e=y.useContext(T6);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},$6=({children:e})=>{const{user:t,session:r}=Tr(),[n,a]=y.useState([]),[i,s]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(!1),[f,h]=y.useState(null),p=y.useRef(null);y.useEffect(()=>{p.current=i},[i]);const g=n.reduce((C,A)=>C+(A.unread_count||0),0),m=y.useCallback(async()=>{if(t){d(!0),h(null);try{const C=await Gr.getConversations();a(C||[])}catch(C){console.error("Error loading conversations:",C),h(C.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=y.useCallback(async()=>{try{return await Gr.getUnassignedConversations()||[]}catch(C){return console.error("Error loading unassigned conversations:",C),[]}},[]),b=y.useCallback(async()=>{try{return await Gr.getMyChats()||[]}catch(C){return console.error("Error loading my chats:",C),[]}},[]),x=y.useCallback(async C=>{d(!0),h(null);try{const A=await Gr.getConversation(C);console.log("[ChatContext] Selected conversation with names:",{id:A.id,patient_name:A.patient_name,receptionist_name:A.receptionist_name}),s(A);const T=await Gr.getMessages(C);c(T||[]),await Gr.markAsRead(C),a(I=>I.map(O=>O.id===C?{...A,unread_count:0}:O))}catch(A){console.error("Error loading conversation:",A),h(A.message||"Failed to load conversation")}finally{d(!1)}},[]),w=y.useCallback(async C=>{d(!0),h(null);try{const A=await Gr.createConversation(C);a(I=>I.some(O=>O.id===A.id)?I:[A,...I]),s(A);const T=await Gr.getMessages(A.id);return c(T||[]),A}catch(A){throw console.error("Error creating conversation:",A),h(A.message||"Failed to create conversation"),A}finally{d(!1)}},[]),_=y.useCallback(async(C,A="text",T,I)=>{if(!i)throw new Error("No conversation selected");try{const O=await Gr.sendMessage(i.id,C,A,T,I);c(L=>L.some($=>$.id===O.id)?L:[...L,O]),a(L=>L.map($=>$.id===i.id?{...$,last_message:C,last_message_at:new Date().toISOString()}:$))}catch(O){throw console.error("Error sending message:",O),O}},[i]),S=y.useCallback(async C=>{try{await Gr.claimConversation(C),await x(C),await m()}catch(A){throw console.error("Error claiming conversation:",A),A}},[x,m]),N=y.useCallback(async(C,A)=>{try{await Gr.updateConversationStatus(C,A),a(T=>T.map(I=>I.id===C?{...I,status:A}:I)),(i==null?void 0:i.id)===C&&s(T=>T?{...T,status:A}:null)}catch(T){throw console.error("Error updating status:",T),T}},[i]),k=y.useCallback(async()=>{if(i)try{await Gr.markAsRead(i.id),a(C=>C.map(A=>A.id===i.id?{...A,unread_count:0}:A))}catch(C){console.error("Error marking as read:",C)}},[i]);return y.useEffect(()=>{if(!t||!r)return;const C=Oe.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},T=>{var L;const I=T.new;console.log("[ChatContext] Realtime message received:",{id:I.id,sender_name:I.sender_name,sender_role:I.sender_role,content:(L=I.content)==null?void 0:L.substring(0,50)});const O=p.current;if(O&&I.conversation_id===O.id&&I.sender_id!==t.id){let $={...I};(!$.sender_name||$.sender_name===null)&&($.sender_role==="patient"?$.sender_name=O.patient_name||"Patient":$.sender_role==="system"?$.sender_name="System":$.sender_name=O.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",$.sender_name)),c(F=>F.some(V=>V.id===I.id)?F:[...F,$])}a($=>$.map(F=>{var V;return F.id===I.conversation_id?{...F,last_message:(V=I.content)==null?void 0:V.substring(0,100),last_message_at:I.created_at,unread_count:F.id===(O==null?void 0:O.id)?0:(F.unread_count||0)+1}:F}))}).subscribe(),A=Oe.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},T=>{const I=T.new,O=p.current;console.log("[ChatContext] Realtime conversation update:",T.eventType,{id:I.id,status:I.status,has_patient_name:!!I.patient_name,has_receptionist_name:!!I.receptionist_name}),T.eventType==="INSERT"?(a(L=>L.some($=>$.id===I.id)?L:[{...I,patient_name:"Loading...",receptionist_name:null},...L]),setTimeout(async()=>{try{const L=await Gr.getConversation(I.id);console.log("[ChatContext] Fetched enriched new conversation:",L.patient_name),a($=>$.map(F=>F.id===L.id?L:F))}catch(L){console.error("[ChatContext] Failed to fetch enriched conversation:",L)}},500)):T.eventType==="UPDATE"&&(a(L=>L.map($=>$.id===I.id?{...$,...I,patient_name:$.patient_name,receptionist_name:$.receptionist_name}:$)),(O==null?void 0:O.id)===I.id&&s(L=>L?{...L,...I,patient_name:L.patient_name,receptionist_name:L.receptionist_name}:null))}).subscribe();return()=>{Oe.removeChannel(C),Oe.removeChannel(A)}},[t,r]),y.useEffect(()=>{t&&m()},[t,m]),o.jsx(T6.Provider,{value:{conversations:n,currentConversation:i,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:m,loadUnassignedConversations:v,loadMyChats:b,selectConversation:x,createConversation:w,sendMessage:_,claimConversation:S,updateConversationStatus:N,markAsRead:k},children:e})},Woe=i0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Se({className:e,variant:t,...r}){return o.jsx("div",{className:ve(Woe({variant:t}),e),...r})}var Y_="rovingFocusGroup.onEntryFocus",Hoe={bubbles:!1,cancelable:!0},xg="RovingFocusGroup",[JS,I6,qoe]=r0(xg),[Goe,oh]=mn(xg,[qoe]),[Koe,Yoe]=Goe(xg),R6=y.forwardRef((e,t)=>o.jsx(JS.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(JS.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Joe,{...e,ref:t})})}));R6.displayName=xg;var Joe=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),p=Ke(t,h),g=ih(i),[m,v]=zi({prop:s,defaultProp:l??null,onChange:c,caller:xg}),[b,x]=y.useState(!1),w=gr(u),_=I6(r),S=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Y_,w),()=>C.removeEventListener(Y_,w)},[w]),o.jsx(Koe,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:y.useCallback(C=>v(C),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>k(C=>C-1),[]),children:o.jsx(Me.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{S.current=!0}),onFocus:fe(e.onFocus,C=>{const A=!S.current;if(C.target===C.currentTarget&&A&&!b){const T=new CustomEvent(Y_,Hoe);if(C.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=_().filter(V=>V.focusable),O=I.find(V=>V.active),L=I.find(V=>V.id===m),F=[O,L,...I].filter(Boolean).map(V=>V.ref.current);F6(F,d)}}S.current=!1}),onBlur:fe(e.onBlur,()=>x(!1))})})}),D6="RovingFocusGroupItem",L6=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...l}=e,c=Di(),u=i||c,d=Yoe(D6,r),f=d.currentTabStopId===u,h=I6(r),{onFocusableItemAdd:p,onFocusableItemRemove:g,currentTabStopId:m}=d;return y.useEffect(()=>{if(n)return p(),()=>g()},[n,p,g]),o.jsx(JS.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:o.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:fe(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:fe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:fe(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=Zoe(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?ele(w,_+1):w.slice(_+1)}setTimeout(()=>F6(w))}}),children:typeof s=="function"?s({isCurrentTabStop:f,hasTabStop:m!=null}):s})})});L6.displayName=D6;var Xoe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qoe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zoe(e,t,r){const n=Qoe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Xoe[n]}function F6(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function ele(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HE=R6,qE=L6,P0="Tabs",[tle]=mn(P0,[oh]),B6=oh(),[rle,GE]=tle(P0),U6=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ih(l),[f,h]=zi({prop:n,onChange:a,defaultProp:i??"",caller:P0});return o.jsx(rle,{scope:r,baseId:Di(),value:f,onValueChange:h,orientation:s,dir:d,activationMode:c,children:o.jsx(Me.div,{dir:d,"data-orientation":s,...u,ref:t})})});U6.displayName=P0;var z6="TabsList",V6=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=GE(z6,r),s=B6(r);return o.jsx(HE,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});V6.displayName=z6;var W6="TabsTrigger",H6=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=GE(W6,r),l=B6(r),c=K6(s.baseId,n),u=Y6(s.baseId,n),d=n===s.value;return o.jsx(qE,{asChild:!0,...l,focusable:!a,active:d,children:o.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:fe(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?s.onValueChange(n):f.preventDefault()}),onKeyDown:fe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(n)}),onFocus:fe(e.onFocus,()=>{const f=s.activationMode!=="manual";!d&&!a&&f&&s.onValueChange(n)})})})});H6.displayName=W6;var q6="TabsContent",G6=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,l=GE(q6,r),c=K6(l.baseId,n),u=Y6(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),o.jsx(Wr,{present:a||d,children:({present:h})=>o.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});G6.displayName=q6;function K6(e,t){return`${e}-trigger-${t}`}function Y6(e,t){return`${e}-content-${t}`}var nle=U6,J6=V6,X6=H6,Q6=G6;const Bl=nle,jo=y.forwardRef(({className:e,...t},r)=>o.jsx(J6,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));jo.displayName=J6.displayName;const $t=y.forwardRef(({className:e,...t},r)=>o.jsx(X6,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));$t.displayName=X6.displayName;const lr=y.forwardRef(({className:e,...t},r)=>o.jsx(Q6,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lr.displayName=Q6.displayName;function ale(e){const t=ile(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(ole);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function ile(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=cle(a),l=lle(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sle=Symbol("radix.slottable");function ole(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sle}function lle(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function cle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O0="Dialog",[Z6,e8]=mn(O0),[ule,Xi]=Z6(O0),t8=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=zi({prop:n,defaultProp:a??!1,onChange:i,caller:O0});return o.jsx(ule,{scope:t,triggerRef:l,contentRef:c,contentId:Di(),titleId:Di(),descriptionId:Di(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:s,children:r})};t8.displayName=O0;var r8="DialogTrigger",n8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xi(r8,r),i=Ke(t,a.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JE(a.open),...n,ref:i,onClick:fe(e.onClick,a.onOpenToggle)})});n8.displayName=r8;var KE="DialogPortal",[dle,a8]=Z6(KE,{forceMount:void 0}),i8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Xi(KE,t);return o.jsx(dle,{scope:t,forceMount:r,children:y.Children.map(n,s=>o.jsx(Wr,{present:r||i.open,children:o.jsx(Xf,{asChild:!0,container:a,children:s})}))})};i8.displayName=KE;var mx="DialogOverlay",s8=y.forwardRef((e,t)=>{const r=a8(mx,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xi(mx,e.__scopeDialog);return i.modal?o.jsx(Wr,{present:n||i.open,children:o.jsx(hle,{...a,ref:t})}):null});s8.displayName=mx;var fle=ale("DialogOverlay.RemoveScroll"),hle=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xi(mx,r);return o.jsx(yg,{as:fle,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(Me.div,{"data-state":JE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Zc="DialogContent",o8=y.forwardRef((e,t)=>{const r=a8(Zc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Xi(Zc,e.__scopeDialog);return o.jsx(Wr,{present:n||i.open,children:i.modal?o.jsx(ple,{...a,ref:t}):o.jsx(mle,{...a,ref:t})})});o8.displayName=Zc;var ple=y.forwardRef((e,t)=>{const r=Xi(Zc,e.__scopeDialog),n=y.useRef(null),a=Ke(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return S0(i)},[]),o.jsx(l8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&i.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault())})}),mle=y.forwardRef((e,t)=>{const r=Xi(Zc,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(l8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),l8=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,l=Xi(Zc,r),c=y.useRef(null),u=Ke(t,c);return _0(),o.jsxs(o.Fragment,{children:[o.jsx(vg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(mu,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":JE(l.open),...s,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(vle,{titleId:l.titleId}),o.jsx(xle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),YE="DialogTitle",c8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xi(YE,r);return o.jsx(Me.h2,{id:a.titleId,...n,ref:t})});c8.displayName=YE;var u8="DialogDescription",d8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xi(u8,r);return o.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});d8.displayName=u8;var f8="DialogClose",h8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Xi(f8,r);return o.jsx(Me.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});h8.displayName=f8;function JE(e){return e?"open":"closed"}var p8="DialogTitleWarning",[gle,m8]=XY(p8,{contentName:Zc,titleName:YE,docsSlug:"dialog"}),vle=({titleId:e})=>{const t=m8(p8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},yle="DialogDescriptionWarning",xle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m8(yle).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},g8=t8,v8=n8,y8=i8,XE=s8,QE=o8,ZE=c8,eP=d8,tP=h8;const Li=g8,XS=v8,ble=y8,x8=y.forwardRef(({className:e,...t},r)=>o.jsx(XE,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x8.displayName=XE.displayName;const Qa=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(ble,{children:[o.jsx(x8,{}),o.jsxs(QE,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(tP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[o.jsx(wo,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qa.displayName=QE.displayName;const Za=({className:e,...t})=>o.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Za.displayName="DialogHeader";const jp=({className:e,...t})=>o.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jp.displayName="DialogFooter";const ei=y.forwardRef(({className:e,...t},r)=>o.jsx(ZE,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));ei.displayName=ZE.displayName;const uf=y.forwardRef(({className:e,...t},r)=>o.jsx(eP,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));uf.displayName=eP.displayName;function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function oa(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Xr(e,t){const r=Ge(e);return isNaN(t)?oa(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function qi(e,t){const r=Ge(e);if(isNaN(t))return oa(e,NaN);if(!t)return r;const n=r.getDate(),a=oa(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const rP=6048e5,wle=864e5,b8=6e4,w8=36e5,xv=43200,_M=1440;let _le={};function vu(){return _le}function Gi(e,t){var l,c,u,d;const r=vu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function eu(e){return Gi(e,{weekStartsOn:1})}function _8(e){const t=Ge(e),r=t.getFullYear(),n=oa(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=eu(n),i=oa(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const s=eu(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function js(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function df(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function us(e,t){const r=js(e),n=js(t),a=+r-df(r),i=+n-df(n);return Math.round((a-i)/wle)}function jle(e){const t=_8(e),r=oa(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),eu(r)}function hm(e,t){const r=t*7;return Xr(e,r)}function Sle(e,t){return qi(e,t*12)}function Nle(e){let t;return e.forEach(function(r){const n=Ge(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function kle(e){let t;return e.forEach(r=>{const n=Ge(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function gy(e,t){const r=Ge(e),n=Ge(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function nP(e){return oa(e,Date.now())}function Nn(e,t){const r=js(e),n=js(t);return+r==+n}function aP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Cle(e){if(!aP(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function ff(e,t){const r=Ge(e),n=Ge(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Ele(e,t,r){const n=Gi(e,r),a=Gi(t,r),i=+n-df(n),s=+a-df(a);return Math.round((i-s)/rP)}function Ple(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Ole(e,t){return+Ge(e)-+Ge(t)}function iP(e){const t=Ge(e);return t.setHours(23,59,59,999),t}function A0(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ale(e){const t=Ge(e);return+iP(t)==+A0(t)}function Tle(e,t){const r=Ge(e),n=Ge(t),a=gy(r,n),i=Math.abs(ff(r,n));let s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=gy(r,n)===-a;Ale(Ge(e))&&i===1&&gy(e,n)===1&&(l=!1),s=a*(i-Number(l))}return s===0?0:s}function Mle(e,t,r){const n=Ole(e,t)/1e3;return Ple(r==null?void 0:r.roundingMethod)(n)}function ia(e){const t=Ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function j8(e){const t=Ge(e),r=oa(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function T0(e,t){var l,c,u,d;const r=vu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),s=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+s),a.setHours(23,59,59,999),a}function S8(e){return T0(e,{weekStartsOn:1})}const $le={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ile=(e,t,r)=>{let n;const a=$le[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function J_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Rle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Lle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fle={date:J_({formats:Rle,defaultWidth:"full"}),time:J_({formats:Dle,defaultWidth:"full"}),dateTime:J_({formats:Lle,defaultWidth:"full"})},Ble={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ule=(e,t,r,n)=>Ble[e];function Ih(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):s;a=e.formattingValues[l]||e.formattingValues[s]}else{const s=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const zle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wle={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hle={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kle=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Yle={ordinalNumber:Kle,era:Ih({values:zle,defaultWidth:"wide"}),quarter:Ih({values:Vle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ih({values:Wle,defaultWidth:"wide"}),day:Ih({values:Hle,defaultWidth:"wide"}),dayPeriod:Ih({values:qle,defaultWidth:"wide",formattingValues:Gle,defaultFormattingWidth:"wide"})};function Rh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Xle(l,f=>f.test(s)):Jle(l,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(s.length);return{value:u,rest:d}}}function Jle(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xle(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Qle(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const l=t.slice(a.length);return{value:s,rest:l}}}const Zle=/^(\d+)(th|st|nd|rd)?/i,ece=/\d+/i,tce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rce={any:[/^b/i,/^(a|c)/i]},nce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ace={any:[/1/i,/2/i,/3/i,/4/i]},ice={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},lce={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},uce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dce={ordinalNumber:Qle({matchPattern:Zle,parsePattern:ece,valueCallback:e=>parseInt(e,10)}),era:Rh({matchPatterns:tce,defaultMatchWidth:"wide",parsePatterns:rce,defaultParseWidth:"any"}),quarter:Rh({matchPatterns:nce,defaultMatchWidth:"wide",parsePatterns:ace,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Rh({matchPatterns:ice,defaultMatchWidth:"wide",parsePatterns:sce,defaultParseWidth:"any"}),day:Rh({matchPatterns:oce,defaultMatchWidth:"wide",parsePatterns:lce,defaultParseWidth:"any"}),dayPeriod:Rh({matchPatterns:cce,defaultMatchWidth:"any",parsePatterns:uce,defaultParseWidth:"any"})},sP={code:"en-US",formatDistance:Ile,formatLong:Fle,formatRelative:Ule,localize:Yle,match:dce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fce(e){const t=Ge(e);return us(t,j8(t))+1}function N8(e){const t=Ge(e),r=+eu(t)-+jle(t);return Math.round(r/rP)+1}function k8(e,t){var d,f,h,p;const r=Ge(e),n=r.getFullYear(),a=vu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=oa(e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const l=Gi(s,t),c=oa(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Gi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function hce(e,t){var l,c,u,d;const r=vu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=k8(e,t),i=oa(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Gi(i,t)}function C8(e,t){const r=Ge(e),n=+Gi(r,t)-+hce(r,t);return Math.round(n/rP)+1}function Et(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Io={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Et(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Et(r+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Et(a,t.length)}},Uu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Io.y(e,t)},Y:function(e,t,r,n){const a=k8(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Et(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Et(i,t.length)},R:function(e,t){const r=_8(e);return Et(r,t.length)},u:function(e,t){const r=e.getFullYear();return Et(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Et(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Et(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Io.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Et(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=C8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Et(a,t.length)},I:function(e,t,r){const n=N8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Et(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Io.d(e,t)},D:function(e,t,r){const n=fce(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Et(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Et(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Et(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Et(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Uu.noon:n===0?a=Uu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Uu.evening:n>=12?a=Uu.afternoon:n>=4?a=Uu.morning:a=Uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Io.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Io.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Et(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Io.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Io.s(e,t)},S:function(e,t){return Io.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return NM(n);case"XXXX":case"XX":return lc(n);case"XXXXX":case"XXX":default:return lc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return NM(n);case"xxxx":case"xx":return lc(n);case"xxxxx":case"xxx":default:return lc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+SM(n,":");case"OOOO":default:return"GMT"+lc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+SM(n,":");case"zzzz":default:return"GMT"+lc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Et(n,t.length)},T:function(e,t,r){const n=e.getTime();return Et(n,t.length)}};function SM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Et(i,2)}function NM(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):lc(e,t)}function lc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Et(Math.trunc(n/60),2),i=Et(n%60,2);return r+a+t+i}const kM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},E8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return kM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",kM(n,t)).replace("{{time}}",E8(a,t))},mce={p:E8,P:pce},gce=/^D+$/,vce=/^Y+$/,yce=["D","DD","YY","YYYY"];function xce(e){return gce.test(e)}function bce(e){return vce.test(e)}function wce(e,t,r){const n=_ce(e,t,r);if(console.warn(n),yce.includes(e))throw new RangeError(n)}function _ce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nce=/^'([^]*?)'?$/,kce=/''/g,Cce=/[a-zA-Z]/;function yt(e,t,r){var d,f,h,p,g,m,v,b;const n=vu(),a=(r==null?void 0:r.locale)??n.locale??sP,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ge(e);if(!Cle(l))throw new RangeError("Invalid time value");let c=t.match(Sce).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=mce[w];return _(x,a.formatLong)}return x}).join("").match(jce).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Ece(x)};if(jM[w])return{isToken:!0,value:x};if(w.match(Cce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bce(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&xce(w))&&wce(w,t,String(e));const _=jM[w[0]];return _(l,w,a.localize,u)}).join("")}function Ece(e){const t=e.match(Nce);return t?t[1].replace(kce,"'"):e}function Pce(e,t,r){const n=vu(),a=(r==null?void 0:r.locale)??n.locale??sP,i=2520,s=gy(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let c,u;s>0?(c=Ge(t),u=Ge(e)):(c=Ge(e),u=Ge(t));const d=Mle(u,c),f=(df(u)-df(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<_M){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<xv){const g=Math.round(h/_M);return a.formatDistance("xDays",g,l)}else if(h<xv*2)return p=Math.round(h/xv),a.formatDistance("aboutXMonths",p,l)}if(p=Tle(u,c),p<12){const g=Math.round(h/xv);return a.formatDistance("xMonths",g,l)}else{const g=p%12,m=Math.trunc(p/12);return g<3?a.formatDistance("aboutXYears",m,l):g<9?a.formatDistance("overXYears",m,l):a.formatDistance("almostXYears",m+1,l)}}function CM(e,t){return Pce(e,nP(e),t)}function Oce(e){const t=Ge(e),r=t.getFullYear(),n=t.getMonth(),a=oa(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function Ace(){return Object.assign({},vu())}function Tce(e){return Math.trunc(+Ge(e)/1e3)}function Mce(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function $ce(e,t){return Ele(Mce(e),ia(e),t)+1}function QS(e,t){const r=Ge(e),n=Ge(t);return r.getTime()>n.getTime()}function gx(e,t){const r=Ge(e),n=Ge(t);return+r<+n}function oP(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Ice(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()}function Rce(e){return Nn(e,nP(e))}function Dce(e){return Nn(e,Xr(nP(e),1))}function X_(e,t){return Xr(e,-t)}function lP(e,t){const n=Uce(e);let a;if(n.date){const c=zce(n.date,2);a=Vce(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let s=0,l;if(n.time&&(s=Wce(n.time),isNaN(s)))return new Date(NaN);if(n.timezone){if(l=Hce(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+s),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+s+l)}const bv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Lce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Uce(e){const t={},r=e.split(bv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],bv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(bv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=bv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function zce(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Vce(e,t){if(t===null)return new Date(NaN);const r=e.match(Lce);if(!r)return new Date(NaN);const n=!!r[4],a=Dh(r[1]),i=Dh(r[2])-1,s=Dh(r[3]),l=Dh(r[4]),c=Dh(r[5])-1;if(n)return Jce(t,l,c)?qce(t,l,c):new Date(NaN);{const u=new Date(0);return!Kce(t,i,s)||!Yce(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}}function Dh(e){return e?parseInt(e):1}function Wce(e){const t=e.match(Fce);if(!t)return NaN;const r=Q_(t[1]),n=Q_(t[2]),a=Q_(t[3]);return Xce(r,n,a)?r*w8+n*b8+a*1e3:NaN}function Q_(e){return e&&parseFloat(e.replace(",","."))||0}function Hce(e){if(e==="Z")return 0;const t=e.match(Bce);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Qce(n,a)?r*(n*w8+a*b8):NaN}function qce(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Gce=[31,null,31,30,31,30,31,31,30,31,30,31];function P8(e){return e%400===0||e%4===0&&e%100!==0}function Kce(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gce[t]||(P8(e)?29:28))}function Yce(e,t){return t>=1&&t<=(P8(e)?366:365)}function Jce(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Xce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Qce(e,t){return t>=0&&t<=59}function Z_(e,t){const r=Ge(e),n=r.getFullYear(),a=r.getDate(),i=oa(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const s=Oce(i);return r.setMonth(t,Math.min(a,s)),r}function O8(e,t){const r=Ge(e);return r.setHours(t),r}function A8(e,t){const r=Ge(e);return r.setMinutes(t),r}function EM(e,t){const r=Ge(e);return isNaN(+r)?oa(e,NaN):(r.setFullYear(t),r)}function PM(e,t,r){const n=Ace(),a=tue(e,r.timeZone,r.locale??n.locale);return"formatToParts"in a?Zce(a,t):eue(a,t)}function Zce(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function eue(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function tue(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function rue(e,t){const r=oue(t);return"formatToParts"in r?aue(r,e):iue(r,e)}const nue={year:0,month:1,day:2,hour:3,minute:4,second:5};function aue(e,t){try{const r=e.formatToParts(t),n=[];for(let a=0;a<r.length;a++){const i=nue[r[a].type];i!==void 0&&(n[i]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function iue(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const ej={},OM=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),sue=OM==="06/25/2014, 00:00:00"||OM==="06/25/2014 00:00:00";function oue(e){return ej[e]||(ej[e]=sue?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),ej[e]}function T8(e,t,r,n,a,i,s){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,a,i,s),l}const AM=36e5,lue=6e4,tj={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function cP(e,t,r){if(!e)return 0;let n=tj.timezoneZ.exec(e);if(n)return 0;let a,i;if(n=tj.timezoneHH.exec(e),n)return a=parseInt(n[1],10),TM(a)?-(a*AM):NaN;if(n=tj.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);const s=parseInt(n[3],10);return TM(a,s)?(i=Math.abs(a)*AM+s*lue,n[1]==="+"?-i:i):NaN}if(due(e)){t=new Date(t||Date.now());const s=r?t:cue(t),l=ZS(s,e);return-(r?l:uue(t,l,e))}return NaN}function cue(e){return T8(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ZS(e,t){const r=rue(e,t),n=T8(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function uue(e,t,r){let a=e.getTime()-t;const i=ZS(new Date(a),r);if(t===i)return t;a-=i-t;const s=ZS(new Date(a),r);return i===s?i:Math.max(i,s)}function TM(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const MM={};function due(e){if(MM[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),MM[e]=!0,!0}catch{return!1}}const fue=60*1e3,hue={X:function(e,t,r){const n=rj(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return $M(n);case"XXXX":case"XX":return Zu(n);case"XXXXX":case"XXX":default:return Zu(n,":")}},x:function(e,t,r){const n=rj(r.timeZone,e);switch(t){case"x":return $M(n);case"xxxx":case"xx":return Zu(n);case"xxxxx":case"xxx":default:return Zu(n,":")}},O:function(e,t,r){const n=rj(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+pue(n,":");case"OOOO":default:return"GMT"+Zu(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return PM("short",e,r);case"zzzz":default:return PM("long",e,r)}}};function rj(e,t){const r=e?cP(e,t,!0)/fue:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function vx(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function Zu(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=vx(Math.floor(n/60),2),i=vx(Math.floor(n%60),2);return r+a+t+i}function $M(e,t){return e%60===0?(e>0?"-":"+")+vx(Math.abs(e)/60,2):Zu(e,t)}function pue(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+vx(i,2)}function IM(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const mue=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,nj=36e5,RM=6e4,gue=2,Dn={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:mue};function M8(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?gue:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=vue(e),{year:a,restDateString:i}=yue(n.date,r),s=xue(i,a);if(s===null||isNaN(s.getTime()))return new Date(NaN);if(s){const l=s.getTime();let c=0,u;if(n.time&&(c=bue(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=cP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=IM(new Date(l+c)),u=IM(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function vue(e){const t={};let r=Dn.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Dn.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const a=Dn.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function yue(e,t){if(e){const r=Dn.YYY[t],n=Dn.YYYYY[t];let a=Dn.YYYY.exec(e)||n.exec(e);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=Dn.YY.exec(e)||r.exec(e),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function xue(e,t){if(t===null)return null;let r,n,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=Dn.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,LM(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=Dn.DDD.exec(e),i){r=new Date(0);const s=parseInt(i[1],10);return jue(t,s)?(r.setUTCFullYear(t,0,s),r):new Date(NaN)}if(i=Dn.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const s=parseInt(i[2],10);return LM(t,n,s)?(r.setUTCFullYear(t,n,s),r):new Date(NaN)}if(i=Dn.Www.exec(e),i)return a=parseInt(i[1],10)-1,FM(a)?DM(t,a):new Date(NaN);if(i=Dn.WwwD.exec(e),i){a=parseInt(i[1],10)-1;const s=parseInt(i[2],10)-1;return FM(a,s)?DM(t,a,s):new Date(NaN)}return null}function bue(e){let t,r,n=Dn.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),aj(t)?t%24*nj:NaN;if(n=Dn.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),aj(t,r)?t%24*nj+r*RM:NaN;if(n=Dn.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return aj(t,r,a)?t%24*nj+r*RM+a*1e3:NaN}return null}function DM(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const wue=[31,28,31,30,31,30,31,31,30,31,30,31],_ue=[31,29,31,30,31,30,31,31,30,31,30,31];function $8(e){return e%400===0||e%4===0&&e%100!==0}function LM(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=$8(e);if(n&&r>_ue[t]||!n&&r>wue[t])return!1}return!0}function jue(e,t){if(t<1)return!1;const r=$8(e);return!(r&&t>366||!r&&t>365)}function FM(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function aj(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const Sue=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Nue(e,t,r={}){t=String(t);const n=t.match(Sue);if(n){const a=M8(r.originalDate||e,r);t=n.reduce(function(i,s){if(s[0]==="'")return i;const l=i.indexOf(s),c=i[l-1]==="'",u=i.replace(s,"'"+hue[s[0]](a,s,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return yt(e,t,r)}function kue(e,t,r){e=M8(e,r);const n=cP(t,e,!0),a=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function Cue(e,t,r,n){return n={...n,timeZone:t,originalDate:e},Nue(kue(e,t,{timeZone:n.timeZone}),r,n)}const Eue="Africa/Johannesburg",pm="SAST",ea=(e,t)=>{const r=typeof e=="string"?lP(e):e;return Cue(r,Eue,t)},Pue=e=>ea(e,"MMM d, yyyy"),yx=e=>ea(e,"EEEE, MMMM d, yyyy");function zt({className:e,...t}){return o.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",e),...t})}const zu={active:{label:"Active",variant:"default",icon:Ar},cancelled:{label:"Cancelled",variant:"destructive",icon:Vi},expired:{label:"Expired",variant:"secondary",icon:gu},completed:{label:"Completed",variant:"secondary",icon:Ar}},Oue=()=>{const{user:e}=Tr(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,s]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),f=m=>{c(m),d(!0)},h=async(m,v,b)=>{b==null||b.stopPropagation(),s(m);try{const x=await Foe.getPDF(m);if(x.success&&x.pdf_base64){const w=atob(x.pdf_base64),_=new Array(w.length);for(let A=0;A<w.length;A++)_[A]=w.charCodeAt(A);const S=new Uint8Array(_),N=new Blob([S],{type:"application/pdf"}),k=window.URL.createObjectURL(N),C=document.createElement("a");C.href=k,C.download=`prescription_${v.replace(/\s+/g,"_")}_${m.slice(0,8)}.pdf`,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(k),ue.success("Prescription downloaded successfully")}else throw new Error(x.error||"Failed to generate PDF")}catch(x){console.error("Error downloading prescription:",x),ue.error(x.message||"Failed to download prescription")}finally{s(null)}};y.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Oe.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const x=[...new Set(v.map(N=>N.clinician_id))],{data:w}=await Oe.from("profiles").select("id, first_name, last_name").in("id",x),_=new Map((w==null?void 0:w.map(N=>[N.id,`Dr. ${N.first_name} ${N.last_name}`]))||[]),S=v.map(N=>({id:N.id,medication_name:N.medication_name,dosage:N.dosage,frequency:N.frequency,duration:N.duration,quantity:N.quantity,refills:N.refills,instructions:N.instructions,status:N.status,prescribed_at:N.prescribed_at,clinician_name:_.get(N.clinician_id)||"Unknown"}));r(S)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{a(!1)}})()},[e]);const p=t.filter(m=>m.status==="active"),g=t.filter(m=>m.status!=="active");return n?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(zt,{className:"h-6 w-40"}),o.jsx(zt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2].map(m=>o.jsx(zt,{className:"h-24 w-full"},m))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),o.jsxs(Ce,{children:[t.length," prescription(s)  ",p.length," active"]})]}),o.jsx(ce,{children:t.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions yet"})]}):o.jsxs("div",{className:"space-y-4",children:[p.length>0&&o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),o.jsx("div",{className:"space-y-3",children:p.map(m=>{const v=zu[m.status]||zu.active,b=v.icon;return o.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(m),children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Br,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency]})]})]}),o.jsxs(Se,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),o.jsx("p",{className:"font-medium",children:m.duration})]}),m.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),o.jsx("p",{className:"font-medium",children:m.quantity})]}),m.refills>0&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),o.jsx("p",{className:"font-medium",children:m.refills})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),o.jsx("p",{className:"font-medium",children:yt(new Date(m.prescribed_at),"MMM d, yyyy")})]})]}),m.instructions&&o.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",m.instructions]}),o.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-4 h-4"}),m.clinician_name]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:i===m.id,children:[i===m.id?o.jsx(bt,{className:"w-4 h-4 mr-1 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},m.id)})})]}),g.length>0&&o.jsxs("div",{className:"mt-6",children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),o.jsx("div",{className:"space-y-3",children:g.map(m=>{const v=zu[m.status]||zu.completed,b=v.icon;return o.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(m),children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-muted",children:o.jsx(Br,{className:"w-5 h-5 text-muted-foreground"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:m.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.dosage,"  ",m.frequency,"  ",m.duration]})]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs(Se,{variant:v.variant,className:"flex items-center gap-1",children:[o.jsx(b,{className:"w-3 h-3"}),v.label]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ea(m.prescribed_at,"MMM d, yyyy")})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:x=>h(m.id,m.medication_name,x),disabled:i===m.id,children:i===m.id?o.jsx(bt,{className:"w-4 h-4 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4"})})]})]})},m.id)})})]})]})}),o.jsx(Li,{open:u,onOpenChange:d,children:o.jsxs(Qa,{className:"sm:max-w-md",children:[o.jsxs(Za,{children:[o.jsxs(ei,{className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),o.jsx(uf,{children:l&&ea(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),o.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),o.jsx("p",{className:"font-medium",children:l.frequency})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),o.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),o.jsx("p",{className:"font-medium",children:l.quantity})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),o.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&o.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[o.jsx(Vr,{className:"w-4 h-4"}),o.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const m=zu[l.status]||zu.active,v=m.icon;return o.jsxs(Se,{variant:m.variant,className:"flex items-center gap-1",children:[o.jsx(v,{className:"w-3 h-3"}),m.label]})})(),o.jsxs(Z,{variant:"outline",size:"sm",onClick:m=>h(l.id,l.medication_name,m),disabled:i===l.id,children:[i===l.id?o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Lr=y.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Lr.displayName="Textarea";const BM={new:{label:"New",color:"bg-blue-500",icon:o.jsx(Kc,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:o.jsx(Wt,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:o.jsx(Wt,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:o.jsx(Nt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:o.jsx(Ar,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:o.jsx(Ar,{className:"w-3 h-3"})}},eN=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Kc,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No conversations yet"})]}):o.jsx("div",{className:"divide-y divide-border",children:e.map(a=>{const i=BM[a.status]||BM.new,s=t===a.id;return o.jsx("div",{onClick:()=>r(a),className:ve("p-4 cursor-pointer transition-colors hover:bg-accent",s&&"bg-accent border-l-4 border-l-primary"),children:o.jsxs("div",{className:"flex items-start justify-between gap-2",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?o.jsx("span",{className:"font-medium text-sm truncate",children:a.patient_name||"Unknown Patient"}):o.jsx("span",{className:"font-medium text-sm truncate",children:a.receptionist_name||"Waiting for receptionist..."}),o.jsxs(Se,{variant:"secondary",className:ve("text-xs text-white",i.color),children:[i.icon,o.jsx("span",{className:"ml-1",children:i.label})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.last_message||"No messages yet"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[o.jsx(Wt,{className:"w-3 h-3"}),o.jsx("span",{children:a.last_message_at?CM(new Date(a.last_message_at),{addSuffix:!0}):CM(new Date(a.created_at),{addSuffix:!0})})]})]}),a.unread_count>0&&o.jsx(Se,{variant:"destructive",className:"rounded-full px-2",children:a.unread_count})]})},a.id)})}),I8=({messages:e,currentUserId:t})=>{const r=y.useRef(null);if(y.useEffect(()=>{var a;(a=r.current)==null||a.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return o.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:o.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=a=>{switch(a.message_type){case"image":return o.jsxs("div",{className:"space-y-2",children:[a.file_url&&o.jsx("img",{src:a.file_url,alt:a.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(a.file_url,"_blank")}),a.content&&o.jsx("p",{children:a.content})]});case"file":return o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-5 h-5"}),o.jsx("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:a.file_name||"Download file"})]});case"system":return o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[o.jsx(JJ,{className:"w-4 h-4"}),o.jsx("span",{children:a.content})]});case"booking_confirmation":return o.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[o.jsx(Nt,{className:"w-4 h-4"}),o.jsx("span",{children:"Booking Confirmed"})]}),o.jsx("p",{className:"text-sm",children:a.content})]});default:return o.jsx("p",{className:"whitespace-pre-wrap",children:a.content})}};return o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((a,i)=>{const s=a.sender_id===t,l=a.message_type==="system"||a.sender_role==="system",c=i===0||yt(new Date(a.created_at),"yyyy-MM-dd")!==yt(new Date(e[i-1].created_at),"yyyy-MM-dd");return o.jsxs(M.Fragment,{children:[c&&o.jsx("div",{className:"flex justify-center",children:o.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:yt(new Date(a.created_at),"MMMM d, yyyy")})}),l?o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(a)})}):o.jsxs("div",{className:ve("flex gap-3",s?"flex-row-reverse":"flex-row"),children:[o.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center shrink-0",s?"bg-primary text-primary-foreground":"bg-muted"),children:o.jsx(Vr,{className:"w-4 h-4"})}),o.jsxs("div",{className:ve("max-w-[70%] space-y-1",s?"items-end":"items-start"),children:[o.jsxs("div",{className:ve("flex items-center gap-2 text-xs text-muted-foreground",s?"flex-row-reverse":"flex-row"),children:[o.jsx("span",{className:"font-medium",children:s?"You":a.sender_name||a.sender_role}),o.jsx("span",{children:yt(new Date(a.created_at),"HH:mm")})]}),o.jsx("div",{className:ve("rounded-2xl px-4 py-2",s?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(a)})]})]})]},a.id)}),o.jsx("div",{ref:r})]})},R8=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,a]=y.useState(""),[i,s]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=y.useRef(null),h=async()=>{if(!(!n.trim()&&!l||i)){s(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");a(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{s(!1)}}},p=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},m=()=>{c(null),d(null),f.current&&(f.current.value="")};return o.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&o.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?o.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:o.jsx(gX,{className:"w-6 h-6 text-muted-foreground"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:m,children:o.jsx(wo,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex items-end gap-2",children:[o.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||i,className:"shrink-0",children:o.jsx(sX,{className:"w-5 h-5"})}),o.jsx(Lr,{value:n,onChange:v=>a(v.target.value),onKeyDown:p,placeholder:r,disabled:t||i,className:"min-h-[44px] max-h-32 resize-none",rows:1}),o.jsx(Z,{onClick:h,disabled:t||i||!n.trim()&&!l,size:"icon",className:"shrink-0",children:i?o.jsx(bt,{className:"w-5 h-5 animate-spin"}):o.jsx(xX,{className:"w-5 h-5"})})]}),o.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},Aue=({onStartBooking:e})=>{const{user:t}=Tr(),{conversations:r,currentConversation:n,messages:a,isLoading:i,loadConversations:s,selectConversation:l,createConversation:c,sendMessage:u}=M6(),[d,f]=y.useState(!1),[h,p]=y.useState(""),[g,m]=y.useState(!1),[v,b]=y.useState("list");y.useEffect(()=>{s()},[s]);const x=async()=>{if(!(!h.trim()||g)){m(!0);try{await c(h.trim()),p(""),f(!1),b("chat")}catch(N){console.error("Error creating conversation:",N)}finally{m(!1)}}},w=async N=>{await l(N.id),b("chat")},_=()=>{b("list")},S=typeof window<"u"&&window.innerWidth<768;return d?o.jsxs(ie,{className:"h-full",children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:o.jsx(fn,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Start a New Conversation"}),o.jsx(Ce,{children:"Tell us how we can help you today"})]})]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx(Lr,{value:h,onChange:N=>p(N.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),o.jsx(Z,{onClick:x,disabled:!h.trim()||g,children:g?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):o.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[o.jsxs(ie,{className:`md:w-80 shrink-0 ${v==="chat"&&S?"hidden":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Messages"}),o.jsxs(Z,{size:"sm",onClick:()=>f(!0),children:[o.jsx(rf,{className:"w-4 h-4 mr-1"}),"New"]})]})}),o.jsx(ce,{className:"p-0 overflow-y-auto max-h-[500px]",children:i&&r.length===0?o.jsx("div",{className:"flex items-center justify-center p-8",children:o.jsx(bt,{className:"w-6 h-6 animate-spin"})}):o.jsx(eN,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),o.jsx(ie,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&S?"hidden":""}`,children:n?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center gap-2",children:[S&&o.jsx(Z,{variant:"ghost",size:"icon",onClick:_,children:o.jsx(fn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx(we,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),o.jsxs(Ce,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),o.jsx(I8,{messages:a,currentUserId:t==null?void 0:t.id}),o.jsx(R8,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Kc,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),o.jsxs(Z,{onClick:()=>f(!0),children:[o.jsx(rf,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},Tue=()=>{var I;const e=En(),t=Cs(),{user:r,profile:n,signOut:a,onboardingComplete:i,isLoading:s}=Tr(),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[p,g]=y.useState(!1),[m,v]=y.useState("chat"),[b,x]=y.useState(null),[w,_]=y.useState(!1),[S,N]=y.useState(null),k=O=>{x(O),_(!0)},C=async(O,L)=>{L==null||L.stopPropagation(),N(O);try{await Hs.downloadInvoicePDF(O,`invoice_${O.slice(0,8)}.pdf`),ue.success("Invoice downloaded successfully")}catch($){console.error("Failed to download invoice:",$),ue.error("Failed to download invoice")}finally{N(null)}},A=(I=t.state)==null?void 0:I.justOnboarded;y.useEffect(()=>{if(A){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!s&&!i&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[s,i,e,A]);const T=async()=>{if(r)try{const{data:O,error:L}=await Oe.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!L&&O&&O.length>0){const $=O.map(R=>R.clinician_id),[F,V]=await Promise.all([Oe.from("profiles").select("id, first_name, last_name").in("id",$),Oe.from("clinician_profiles").select("id, specialization").in("id",$)]),z=O.map(R=>{var re,Q;const U=(re=F.data)==null?void 0:re.find(j=>j.id===R.clinician_id),K=(Q=V.data)==null?void 0:Q.find(j=>j.id===R.clinician_id);return{id:R.id,scheduled_at:R.scheduled_at,consultation_type:R.consultation_type,status:R.status,clinician_name:U?`${U.first_name} ${U.last_name}`:"Unknown",specialization:(K==null?void 0:K.specialization)||null}});c(z)}else c([])}catch(O){console.error("Error fetching appointments:",O)}};return y.useEffect(()=>{(async()=>{if(r)try{await T();try{const L=await Hs.getMyInvoices();d(L||[])}catch(L){console.log("No invoices or error fetching:",L)}}catch(L){console.error("Error fetching data:",L)}finally{h(!1)}})()},[r]),y.useEffect(()=>{if(!r)return;const O=Oe.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] New appointment created:",L),T()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] Appointment updated:",L),c($=>$.map(F=>F.id===L.new.id?{...F,status:L.new.status}:F))}).subscribe();return()=>{Oe.removeChannel(O)}},[r]),s?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!p),children:p?o.jsx(wo,{className:"w-5 h-5"}):o.jsx(ug,{className:"w-5 h-5"})})]}),p&&o.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,className:"justify-start",children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[o.jsxs("div",{className:"mb-4 sm:mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),o.jsxs(Bl,{value:m,onValueChange:v,className:"space-y-4",children:[o.jsxs(jo,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[o.jsxs($t,{value:"chat",className:"flex items-center gap-2",children:[o.jsx(Kc,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),o.jsxs($t,{value:"consultations",className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),o.jsxs($t,{value:"profile",className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),o.jsx(lr,{value:"chat",className:"min-h-[600px]",children:o.jsx(Aue,{})}),o.jsxs(lr,{value:"consultations",className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),o.jsx(Ce,{children:"Your scheduled video consultations"})]}),o.jsx(ce,{children:f?o.jsx("div",{className:"space-y-4",children:[1,2].map(O=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},O))}):l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No upcoming consultations"}),o.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):o.jsx("div",{className:"space-y-4",children:l.map(O=>{const L=new Date(O.scheduled_at),$=new Date,F=(L.getTime()-$.getTime())/(1e3*60),V=O.status==="in_progress"||O.status==="confirmed"&&F<=15&&F>=-60;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx(Nt,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:O.clinician_name}),o.jsx("p",{className:"text-sm text-muted-foreground",children:O.specialization||"General Consultation"})]})]}),o.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[o.jsxs("div",{className:"text-left sm:text-right",children:[o.jsx("p",{className:"font-medium",children:ea(O.scheduled_at,"MMM d, yyyy")}),o.jsx("p",{className:"text-sm text-muted-foreground",children:ea(O.scheduled_at,"h:mm a")})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[V&&o.jsxs(Z,{size:"sm",onClick:()=>e(`/consultation?appointment=${O.id}`),className:O.status==="in_progress"?"animate-pulse":"",children:[o.jsx(Zt,{className:"w-4 h-4 mr-1"}),O.status==="in_progress"?"Join Now":"Join"]}),o.jsx(Se,{variant:O.status==="confirmed"?"default":O.status==="in_progress"?"destructive":"secondary",children:O.status==="in_progress"?" Live":O.status})]})]})]},O.id)})})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),o.jsx(Ce,{children:"Your prescription history"})]}),o.jsx(ce,{children:o.jsx(Oue,{})})]})]}),o.jsxs(lr,{value:"profile",className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ce,{children:"Your profile details"})]}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),o.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),o.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),o.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),o.jsxs(Z,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[o.jsx(dy,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(k_,{className:"w-5 h-5 text-primary"}),"Invoices"]}),o.jsx(Ce,{children:"Your billing history"})]}),o.jsx(ce,{children:u.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(k_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No invoices yet"})]}):o.jsx("div",{className:"space-y-3",children:u.map(O=>o.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>k(O),children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:O.service_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[ea(O.consultation_date,"MMM d, yyyy"),"  ",O.clinician_name]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-medium",children:["R ",O.amount.toFixed(2)]}),o.jsx(Se,{variant:O.status==="paid"?"default":"secondary",children:O.status})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:L=>C(O.id,L),disabled:S===O.id,children:S===O.id?o.jsx(bt,{className:"w-4 h-4 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4"})})]})]},O.id))})})]}),o.jsx(Li,{open:w,onOpenChange:_,children:o.jsxs(Qa,{className:"sm:max-w-md",children:[o.jsxs(Za,{children:[o.jsxs(ei,{className:"flex items-center gap-2",children:[o.jsx(k_,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),o.jsxs(uf,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),o.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:ea(b.consultation_date,"MMMM d, yyyy")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),o.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),o.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[o.jsx(Se,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:O=>C(b.id,O),disabled:S===b.id,children:[S===b.id?o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&o.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:o.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},Mue=()=>o.jsx($6,{children:o.jsx(Tue,{})});var uP="Radio",[$ue,D8]=mn(uP),[Iue,Rue]=$ue(uP),L8=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:s,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),p=Ke(t,v=>h(v)),g=y.useRef(!1),m=f?u||!!f.closest("form"):!0;return o.jsxs(Iue,{scope:r,checked:a,disabled:s,children:[o.jsx(Me.button,{type:"button",role:"radio","aria-checked":a,"data-state":z8(a),"data-disabled":s?"":void 0,disabled:s,value:l,...d,ref:p,onClick:fe(e.onClick,v=>{a||c==null||c(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&o.jsx(U8,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:s,form:u,style:{transform:"translateX(-100%)"}})]})});L8.displayName=uP;var F8="RadioIndicator",B8=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=Rue(F8,r);return o.jsx(Wr,{present:n||i.checked,children:o.jsx(Me.span,{"data-state":z8(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});B8.displayName=F8;var Due="RadioBubbleInput",U8=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=y.useRef(null),l=Ke(s,i),c=j0(r),u=u0(t);return y.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});U8.displayName=Due;function z8(e){return e?"checked":"unchecked"}var Lue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],M0="RadioGroup",[Fue]=mn(M0,[oh,D8]),V8=oh(),W8=D8(),[Bue,Uue]=Fue(M0),H8=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:s=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=V8(r),g=ih(u),[m,v]=zi({prop:i,defaultProp:a??null,onChange:f,caller:M0});return o.jsx(Bue,{scope:r,name:n,required:s,disabled:l,value:m,onValueChange:v,children:o.jsx(HE,{asChild:!0,...p,orientation:c,dir:g,loop:d,children:o.jsx(Me.div,{role:"radiogroup","aria-required":s,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});H8.displayName=M0;var q8="RadioGroupItem",G8=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=Uue(q8,r),s=i.disabled||n,l=V8(r),c=W8(r),u=y.useRef(null),d=Ke(t,u),f=i.value===a.value,h=y.useRef(!1);return y.useEffect(()=>{const p=m=>{Lue.includes(m.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),o.jsx(qE,{asChild:!0,...l,focusable:!s,active:f,children:o.jsx(L8,{disabled:s,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:fe(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:fe(a.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});G8.displayName=q8;var zue="RadioGroupIndicator",K8=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=W8(r);return o.jsx(B8,{...a,...n,ref:t})});K8.displayName=zue;var Y8=H8,J8=G8,Vue=K8;const mm=y.forwardRef(({className:e,...t},r)=>o.jsx(Y8,{className:ve("grid gap-2",e),...t,ref:r}));mm.displayName=Y8.displayName;const ds=y.forwardRef(({className:e,...t},r)=>o.jsx(J8,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(Vue,{className:"flex items-center justify-center",children:o.jsx(Q5,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ds.displayName=J8.displayName;function Wue(e,t=[]){let r=[];function n(i,s){const l=y.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,Hue(a,...t)]}function Hue(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var que=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],X8=que.reduce((e,t)=>{const r=mg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),dP="Progress",fP=100,[Gue]=Wue(dP),[Kue,Yue]=Gue(dP),Q8=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Jue,...s}=e;(a||a===0)&&!UM(a)&&console.error(Xue(`${a}`,"Progress"));const l=UM(a)?a:fP;n!==null&&!zM(n,l)&&console.error(Que(`${n}`,"Progress"));const c=zM(n,l)?n:null,u=xx(c)?i(c,l):void 0;return o.jsx(Kue,{scope:r,value:c,max:l,children:o.jsx(X8.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":xx(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":tz(c,l),"data-value":c??void 0,"data-max":l,...s,ref:t})})});Q8.displayName=dP;var Z8="ProgressIndicator",ez=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Yue(Z8,r);return o.jsx(X8.div,{"data-state":tz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});ez.displayName=Z8;function Jue(e,t){return`${Math.round(e/t*100)}%`}function tz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function xx(e){return typeof e=="number"}function UM(e){return xx(e)&&!isNaN(e)&&e>0}function zM(e,t){return xx(e)&&!isNaN(e)&&e<=t&&e>=0}function Xue(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${fP}\`.`}function Que(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${fP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var rz=Q8,Zue=ez;const hf=y.forwardRef(({className:e,value:t,...r},n)=>o.jsx(rz,{ref:n,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:o.jsx(Zue,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));hf.displayName=rz.displayName;const VM="",ede={General:bX,"Head & Neurological":ef,"Eyes, Ears, Nose, Throat":sS,Respiratory:fd,Cardiovascular:oE,Gastrointestinal:Xa,Urinary:fd,Musculoskeletal:fd,Skin:fd,"Mental Health":ef},WM={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},tde=({onComplete:e,onBack:t})=>{const[r,n]=y.useState(1),[a,i]=y.useState(!1),[s,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState("moderate"),[h,p]=y.useState(""),[g,m]=y.useState(""),[v,b]=y.useState(null);y.useEffect(()=>{x()},[]);const x=async()=>{try{const I=await(await fetch(`${VM}/api/symptoms/common`)).json();l(I.symptom_categories||[])}catch(T){console.error("Failed to fetch symptoms:",T),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=T=>{u(I=>I.includes(T)?I.filter(O=>O!==T):[...I,T])},_=async()=>{if(c.length===0){ue.error("Please select at least one symptom");return}i(!0);try{const{supabase:T}=await mo(async()=>{const{supabase:$}=await Promise.resolve().then(()=>ho);return{supabase:$}},void 0),{data:{session:I}}=await T.auth.getSession(),O=await fetch(`${VM}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...(I==null?void 0:I.access_token)&&{Authorization:`Bearer ${I.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!O.ok)throw new Error("Assessment failed");const L=await O.json();b(L),n(4)}catch(T){console.error("Assessment error:",T),ue.error("Failed to complete AI assessment. Proceeding with basic booking."),S()}finally{i(!1)}},S=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},N=()=>{if(!v)return;const T={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?T[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},C=r/4*100,A=v?WM[v.urgency]||WM.routine:null;return o.jsxs("div",{className:"space-y-6",children:[r<4&&o.jsxs("div",{className:"mb-6",children:[o.jsx(hf,{value:C,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Xa,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),o.jsx(Ce,{children:"Select all that apply. Our AI will help assess your needs."})]}),o.jsxs(ce,{className:"space-y-6",children:[s.map(T=>{const I=ede[T.category]||fd;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[o.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),T.category]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:T.symptoms.map(O=>o.jsx(Se,{variant:c.includes(O)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(O),children:O},O))})]},T.category)}),c.length>0&&o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[o.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(T=>o.jsx(Se,{variant:"secondary",className:"text-xs",children:T},T))})]})]})]}),r===2&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(fd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs(mm,{value:d,onValueChange:T=>f(T),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"mild",id:"mild"}),o.jsxs(ge,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Mild"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),o.jsx(Se,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"moderate",id:"moderate"}),o.jsxs(ge,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Moderate"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),o.jsx(Se,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),o.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"severe",id:"severe"}),o.jsxs(ge,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[o.jsx("span",{className:"font-medium",children:"Severe"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),o.jsx(Se,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"How long have you had these symptoms?"}),o.jsx(mm,{value:g,onValueChange:m,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(T=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:T,id:T}),o.jsx(ge,{htmlFor:T,className:"text-sm cursor-pointer",children:T})]},T))})]})]})]}),r===3&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(ef,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),o.jsx(Ce,{children:"Any additional details help our AI provide a better assessment"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Describe your symptoms in your own words"}),o.jsx(Lr,{value:h,onChange:T=>p(T.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),o.jsx("br",{}),o.jsx("strong",{children:"Severity:"})," ",d,o.jsx("br",{}),o.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&o.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&o.jsx(ie,{className:"border-red-500 bg-red-50",children:o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:o.jsx(sa,{className:"w-8 h-8 text-red-600"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),o.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(hn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),A&&o.jsx(Se,{className:`${A.bgColor} ${A.color}`,children:A.label})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),o.jsxs("div",{children:[o.jsx(ge,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(hf,{value:v.urgency_score*10,className:"h-3 flex-1"}),o.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),o.jsxs("div",{className:"p-4 border rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),o.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&o.jsxs("p",{className:"text-sm mt-2",children:[o.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[o.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),o.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((T,I)=>o.jsxs("li",{children:[" ",T]},I))})]}),v.self_care_advice&&o.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),o.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),o.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsxs(Z,{variant:"outline",onClick:()=>r===1?t():n(T=>T-1),children:[o.jsx(sE,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&o.jsxs(Z,{onClick:()=>n(2),disabled:c.length===0,children:["Next",o.jsx(tf,{className:"w-4 h-4 ml-2"})]}),r===2&&o.jsxs(Z,{onClick:()=>n(3),children:["Next",o.jsx(tf,{className:"w-4 h-4 ml-2"})]}),r===3&&o.jsx(Z,{onClick:_,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ef,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&o.jsxs(Z,{onClick:N,children:["Continue to Select Clinician",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};function rde(e,t=[]){let r=[];function n(i,s){const l=y.createContext(s);l.displayName=i+"Context";const c=r.length;r=[...r,s];const u=f=>{var b;const{scope:h,children:p,...g}=f,m=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return o.jsx(m.Provider,{value:v,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=y.useContext(p);if(g)return g;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(s=>y.createContext(s));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,nde(a,...t)]}function nde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var ade=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hP=ade.reduce((e,t)=>{const r=mg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nz={exports:{}},az={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pf=y;function ide(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sde=typeof Object.is=="function"?Object.is:ide,ode=pf.useState,lde=pf.useEffect,cde=pf.useLayoutEffect,ude=pf.useDebugValue;function dde(e,t){var r=t(),n=ode({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return cde(function(){a.value=r,a.getSnapshot=t,ij(a)&&i({inst:a})},[e,r,t]),lde(function(){return ij(a)&&i({inst:a}),e(function(){ij(a)&&i({inst:a})})},[e]),ude(r),r}function ij(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sde(e,r)}catch{return!0}}function fde(e,t){return t()}var hde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?fde:dde;az.useSyncExternalStore=pf.useSyncExternalStore!==void 0?pf.useSyncExternalStore:hde;nz.exports=az;var pde=nz.exports;function mde(){return pde.useSyncExternalStore(gde,()=>!0,()=>!1)}function gde(){return()=>{}}var pP="Avatar",[vde]=rde(pP),[yde,iz]=vde(pP),sz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return o.jsx(yde,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(hP.span,{...n,ref:t})})});sz.displayName=pP;var oz="AvatarImage",lz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=iz(oz,r),l=xde(n,i),c=gr(u=>{a(u),s.onImageLoadingStatusChange(u)});return _r(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?o.jsx(hP.img,{...i,ref:t,src:n}):null});lz.displayName=oz;var cz="AvatarFallback",uz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=iz(cz,r),[s,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(hP.span,{...a,ref:t}):null});uz.displayName=cz;function HM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xde(e,{referrerPolicy:t,crossOrigin:r}){const n=mde(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,l]=y.useState(()=>HM(i,e));return _r(()=>{l(HM(i,e))},[i,e]),_r(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),s}var dz=sz,fz=lz,hz=uz;const $0=y.forwardRef(({className:e,...t},r)=>o.jsx(dz,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));$0.displayName=dz.displayName;const pz=y.forwardRef(({className:e,...t},r)=>o.jsx(fz,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));pz.displayName=fz.displayName;const I0=y.forwardRef(({className:e,...t},r)=>o.jsx(hz,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));I0.displayName=hz.displayName;const bde=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,a]=y.useState([]),[i,s]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Oe.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const p=f.map(b=>b.id),{data:g,error:m}=await Oe.from("profiles").select("id, first_name, last_name, avatar_url").in("id",p);if(m)throw m;const v=f.map(b=>{const x=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(x==null?void 0:x.first_name)||"Unknown",last_name:(x==null?void 0:x.last_name)||"",avatar_url:(x==null?void 0:x.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});a(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{s(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return i?o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx(ie,{children:o.jsxs(ce,{className:"flex items-center gap-4 p-6",children:[o.jsx(zt,{className:"w-16 h-16 rounded-full"}),o.jsxs("div",{className:"flex-1 space-y-2",children:[o.jsx(zt,{className:"h-4 w-32"}),o.jsx(zt,{className:"h-3 w-48"})]})]})},d))}):n.length===0?o.jsx(ie,{children:o.jsxs(ce,{className:"text-center py-12",children:[o.jsx(Vr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),o.jsx(Z,{variant:"outline",onClick:r,children:"Go Back"})]})}):o.jsxs("div",{className:"space-y-6",children:[e&&o.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[o.jsx(Xa,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",o.jsx("strong",{children:e})," specialist."]})]}),o.jsx("div",{className:"space-y-4",children:n.map(d=>o.jsx(ie,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:o.jsxs(ce,{className:"flex items-start gap-4 p-6",children:[o.jsxs($0,{className:"w-16 h-16",children:[o.jsx(pz,{src:d.avatar_url||void 0}),o.jsxs(I0,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),o.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),o.jsx(Se,{variant:"secondary",children:d.specialization||"General Practice"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wt,{className:"w-4 h-4"}),d.years_experience," years exp."]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(nB,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),o.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:r,children:"Back"}),o.jsxs(Z,{onClick:u,disabled:!l,children:["Continue to Select Time",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};var qe=function(){return qe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qe.apply(this,arguments)};function wde(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mz(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function bg(e){return e.mode==="multiple"}function wg(e){return e.mode==="range"}function R0(e){return e.mode==="single"}var _de={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jde(e,t){return yt(e,"LLLL y",t)}function Sde(e,t){return yt(e,"d",t)}function Nde(e,t){return yt(e,"LLLL",t)}function kde(e){return"".concat(e)}function Cde(e,t){return yt(e,"cccccc",t)}function Ede(e,t){return yt(e,"yyyy",t)}var Pde=Object.freeze({__proto__:null,formatCaption:jde,formatDay:Sde,formatMonthCaption:Nde,formatWeekNumber:kde,formatWeekdayName:Cde,formatYearCaption:Ede}),Ode=function(e,t,r){return yt(e,"do MMMM (EEEE)",r)},Ade=function(){return"Month: "},Tde=function(){return"Go to next month"},Mde=function(){return"Go to previous month"},$de=function(e,t){return yt(e,"cccc",t)},Ide=function(e){return"Week n. ".concat(e)},Rde=function(){return"Year: "},Dde=Object.freeze({__proto__:null,labelDay:Ode,labelMonthDropdown:Ade,labelNext:Tde,labelPrevious:Mde,labelWeekNumber:Ide,labelWeekday:$de,labelYearDropdown:Rde});function Lde(){var e="buttons",t=_de,r=sP,n={},a={},i=1,s={},l=new Date;return{captionLayout:e,classNames:t,formatters:Pde,labels:Dde,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:s,today:l,mode:"default"}}function Fde(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,s=e.toDate;return n?i=ia(n):t&&(i=new Date(t,0,1)),a?s=A0(a):r&&(s=new Date(r,11,31)),{fromDate:i?js(i):void 0,toDate:s?js(s):void 0}}var gz=y.createContext(void 0);function Bde(e){var t,r=e.initialProps,n=Lde(),a=Fde(r),i=a.fromDate,s=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!s)&&(l="buttons");var c;(R0(r)||bg(r)||wg(r))&&(c=r.onSelect);var u=qe(qe(qe({},n),r),{captionLayout:l,classNames:qe(qe({},n.classNames),r.classNames),components:qe({},r.components),formatters:qe(qe({},n.formatters),r.formatters),fromDate:i,labels:qe(qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qe(qe({},n.modifiers),r.modifiers),modifiersClassNames:qe(qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:qe(qe({},n.styles),r.styles),toDate:s});return o.jsx(gz.Provider,{value:u,children:e.children})}function Ht(){var e=y.useContext(gz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function vz(e){var t=Ht(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return o.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function Ude(e){return o.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:o.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yz(e){var t,r,n=e.onChange,a=e.value,i=e.children,s=e.caption,l=e.className,c=e.style,u=Ht(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:Ude;return o.jsxs("div",{className:l,style:c,children:[o.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),o.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),o.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[s,o.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function zde(e){var t,r=Ht(),n=r.fromDate,a=r.toDate,i=r.styles,s=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return o.jsx(o.Fragment,{});if(!a)return o.jsx(o.Fragment,{});var f=[];if(Ice(n,a))for(var h=ia(n),p=n.getMonth();p<=a.getMonth();p++)f.push(Z_(h,p));else for(var h=ia(new Date),p=0;p<=11;p++)f.push(Z_(h,p));var g=function(v){var b=Number(v.target.value),x=Z_(ia(e.displayMonth),b);e.onChange(x)},m=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:yz;return o.jsx(m,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:s}),children:f.map(function(v){return o.jsx("option",{value:v.getMonth(),children:l(v,{locale:s})},v.getMonth())})})}function Vde(e){var t,r=e.displayMonth,n=Ht(),a=n.fromDate,i=n.toDate,s=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return o.jsx(o.Fragment,{});if(!i)return o.jsx(o.Fragment,{});for(var p=a.getFullYear(),g=i.getFullYear(),m=p;m<=g;m++)h.push(EM(j8(new Date),m));var v=function(x){var w=EM(ia(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:yz;return o.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:s}),children:h.map(function(x){return o.jsx("option",{value:x.getFullYear(),children:d(x,{locale:s})},x.getFullYear())})})}function Wde(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function Hde(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,s=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&ff(i,a)<0){var u=-1*(c-1);a=qi(i,u)}return s&&ff(a,s)<0&&(a=s),ia(a)}function qde(){var e=Ht(),t=Hde(e),r=Wde(t,e.month),n=r[0],a=r[1],i=function(s){var l;if(!e.disableNavigation){var c=ia(s);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function Gde(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=ia(e),i=ia(qi(a,n)),s=ff(i,a),l=[],c=0;c<s;c++){var u=qi(a,c);l.push(u)}return r&&(l=l.reverse()),l}function Kde(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ia(e);if(!r)return qi(l,s);var c=ff(r,e);if(!(c<i))return qi(l,s)}}function Yde(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,s=n?i:1,l=ia(e);if(!r)return qi(l,-s);var c=ff(l,r);if(!(c<=0))return qi(l,-s)}}var xz=y.createContext(void 0);function Jde(e){var t=Ht(),r=qde(),n=r[0],a=r[1],i=Gde(n,t),s=Kde(n,t),l=Yde(n,t),c=function(f){return i.some(function(h){return oP(f,h)})},u=function(f,h){c(f)||(h&&gx(f,h)?a(qi(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:s,isDateDisplayed:c};return o.jsx(xz.Provider,{value:d,children:e.children})}function _g(){var e=y.useContext(xz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function qM(e){var t,r=Ht(),n=r.classNames,a=r.styles,i=r.components,s=_g().goToMonth,l=function(d){s(qi(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:vz,u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth});return o.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[o.jsx("div",{className:n.vhidden,children:u}),o.jsx(zde,{onChange:l,displayMonth:e.displayMonth}),o.jsx(Vde,{onChange:l,displayMonth:e.displayMonth})]})}function Xde(e){return o.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Qde(e){return o.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:o.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var bx=y.forwardRef(function(e,t){var r=Ht(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var s=i.join(" "),l=qe(qe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),o.jsx("button",qe({},e,{ref:t,type:"button",className:s,style:l}))});function Zde(e){var t,r,n=Ht(),a=n.dir,i=n.locale,s=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return o.jsx(o.Fragment,{});var h=u(e.previousMonth,{locale:i}),p=[s.nav_button,s.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),m=[s.nav_button,s.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:Qde,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:Xde;return o.jsxs("div",{className:s.nav,style:l.nav,children:[!e.hidePrevious&&o.jsx(bx,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?o.jsx(v,{className:s.nav_icon,style:l.nav_icon}):o.jsx(b,{className:s.nav_icon,style:l.nav_icon})}),!e.hideNext&&o.jsx(bx,{name:"next-month","aria-label":g,className:m,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?o.jsx(b,{className:s.nav_icon,style:l.nav_icon}):o.jsx(v,{className:s.nav_icon,style:l.nav_icon})})]})}function GM(e){var t=Ht().numberOfMonths,r=_g(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,s=r.displayMonths,l=s.findIndex(function(g){return oP(e.displayMonth,g)}),c=l===0,u=l===s.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},p=function(){a&&i(a)};return o.jsx(Zde,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:p})}function efe(e){var t,r=Ht(),n=r.classNames,a=r.disableNavigation,i=r.styles,s=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:vz,u;return a?u=o.jsx(c,{id:e.id,displayMonth:e.displayMonth}):s==="dropdown"?u=o.jsx(qM,{displayMonth:e.displayMonth,id:e.id}):s==="dropdown-buttons"?u=o.jsxs(o.Fragment,{children:[o.jsx(qM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),o.jsx(GM,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=o.jsxs(o.Fragment,{children:[o.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(GM,{displayMonth:e.displayMonth,id:e.id})]}),o.jsx("div",{className:n.caption,style:i.caption,children:u})}function tfe(e){var t=Ht(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?o.jsx("tfoot",{className:a,style:n.tfoot,children:o.jsx("tr",{children:o.jsx("td",{colSpan:8,children:r})})}):o.jsx(o.Fragment,{})}function rfe(e,t,r){for(var n=r?eu(new Date):Gi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var s=Xr(n,i);a.push(s)}return a}function nfe(){var e=Ht(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,s=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=rfe(a,i,s);return o.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&o.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return o.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function afe(){var e,t=Ht(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:nfe;return o.jsx("thead",{style:n.head,className:r.head,children:o.jsx(i,{})})}function ife(e){var t=Ht(),r=t.locale,n=t.formatters.formatDay;return o.jsx(o.Fragment,{children:n(e.date,{locale:r})})}var mP=y.createContext(void 0);function sfe(e){if(!bg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return o.jsx(mP.Provider,{value:t,children:e.children})}return o.jsx(ofe,{initialProps:e.initialProps,children:e.children})}function ofe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,s=function(u,d,f){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var m=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!m){var v=n?mz([],n):[];if(d.selected){var b=v.findIndex(function(x){return Nn(u,x)});v.splice(b,1)}else v.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Nn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:s,modifiers:l};return o.jsx(mP.Provider,{value:c,children:r})}function gP(){var e=y.useContext(mP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function lfe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Nn(a,e)&&Nn(n,e)?void 0:Nn(a,e)?{from:a,to:void 0}:Nn(n,e)?void 0:QS(n,e)?{from:e,to:a}:{from:n,to:e}:a?QS(e,a)?{from:a,to:e}:{from:e,to:a}:n?gx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var vP=y.createContext(void 0);function cfe(e){if(!wg(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return o.jsx(vP.Provider,{value:t,children:e.children})}return o.jsx(ufe,{initialProps:e.initialProps,children:e.children})}function ufe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,s=a.to,l=t.min,c=t.max,u=function(p,g,m){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,p,g,m);var x=lfe(p,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],s?(d.range_end=[s],Nn(i,s)||(d.range_middle=[{after:i,before:s}])):d.range_end=[i]):s&&(d.range_start=[s],d.range_end=[s]),l&&(i&&!s&&d.disabled.push({after:X_(i,l-1),before:Xr(i,l-1)}),i&&s&&d.disabled.push({after:i,before:Xr(i,l-1)}),!i&&s&&d.disabled.push({after:X_(s,l-1),before:Xr(s,l-1)})),c){if(i&&!s&&(d.disabled.push({before:Xr(i,-c+1)}),d.disabled.push({after:Xr(i,c-1)})),i&&s){var f=us(s,i)+1,h=c-f;d.disabled.push({before:X_(i,h)}),d.disabled.push({after:Xr(s,h)})}!i&&s&&(d.disabled.push({before:Xr(s,-c+1)}),d.disabled.push({after:Xr(s,c-1)}))}return o.jsx(vP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function yP(){var e=y.useContext(vP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function vy(e){return Array.isArray(e)?mz([],e):e!==void 0?[e]:[]}function dfe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=vy(a)}),t}var Ki;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ki||(Ki={}));var ffe=Ki.Selected,Is=Ki.Disabled,hfe=Ki.Hidden,pfe=Ki.Today,sj=Ki.RangeEnd,oj=Ki.RangeMiddle,lj=Ki.RangeStart,mfe=Ki.Outside;function gfe(e,t,r){var n,a=(n={},n[ffe]=vy(e.selected),n[Is]=vy(e.disabled),n[hfe]=vy(e.hidden),n[pfe]=[e.today],n[sj]=[],n[oj]=[],n[lj]=[],n[mfe]=[],n);return e.fromDate&&a[Is].push({before:e.fromDate}),e.toDate&&a[Is].push({after:e.toDate}),bg(e)?a[Is]=a[Is].concat(t.modifiers[Is]):wg(e)&&(a[Is]=a[Is].concat(r.modifiers[Is]),a[lj]=r.modifiers[lj],a[oj]=r.modifiers[oj],a[sj]=r.modifiers[sj]),a}var bz=y.createContext(void 0);function vfe(e){var t=Ht(),r=gP(),n=yP(),a=gfe(t,r,n),i=dfe(t.modifiers),s=qe(qe({},a),i);return o.jsx(bz.Provider,{value:s,children:e.children})}function wz(){var e=y.useContext(bz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function yfe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function xfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function bfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function wfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function _fe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jfe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=us(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var s=us(e,n)>=0&&us(a,e)>=0;return s}return a?Nn(a,e):n?Nn(n,e):!1}function Sfe(e){return aP(e)}function Nfe(e){return Array.isArray(e)&&e.every(aP)}function kfe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Sfe(r))return Nn(e,r);if(Nfe(r))return r.includes(e);if(xfe(r))return jfe(e,r);if(_fe(r))return r.dayOfWeek.includes(e.getDay());if(yfe(r)){var n=us(r.before,e),a=us(r.after,e),i=n>0,s=a<0,l=QS(r.before,r.after);return l?s&&i:i||s}return bfe(r)?us(e,r.after)>0:wfe(r)?us(r.before,e)>0:typeof r=="function"?r(e):!1})}function xP(e,t,r){var n=Object.keys(t).reduce(function(i,s){var l=t[s];return kfe(e,l)&&i.push(s),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!oP(e,r)&&(a.outside=!0),a}function Cfe(e,t){for(var r=ia(e[0]),n=A0(e[e.length-1]),a,i,s=r;s<=n;){var l=xP(s,t),c=!l.disabled&&!l.hidden;if(!c){s=Xr(s,1);continue}if(l.selected)return s;l.today&&!i&&(i=s),a||(a=s),s=Xr(s,1)}return i||a}var Efe=365;function _z(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,s=t.retry,l=s===void 0?{count:0,lastFocused:e}:s,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Xr,week:hm,month:qi,year:Sle,startOfWeek:function(v){return a.ISOWeek?eu(v):Gi(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?S8(v):T0(v,{locale:f,weekStartsOn:c})}},p=h[r](e,n==="after"?1:-1);n==="before"&&u?p=Nle([u,p]):n==="after"&&d&&(p=kle([d,p]));var g=!0;if(i){var m=xP(p,i);g=!m.disabled&&!m.hidden}return g?p:l.count>Efe?l.lastFocused:_z(p,{moveBy:r,direction:n,context:a,modifiers:i,retry:qe(qe({},l),{count:l.count+1})})}var jz=y.createContext(void 0);function Pfe(e){var t=_g(),r=wz(),n=y.useState(),a=n[0],i=n[1],s=y.useState(),l=s[0],c=s[1],u=Cfe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},p=Ht(),g=function(v,b){if(a){var x=_z(a,{moveBy:v,direction:b,context:p,modifiers:r});Nn(a,x)||(t.goToDate(x,a),h(x))}},m={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return o.jsx(jz.Provider,{value:m,children:e.children})}function bP(){var e=y.useContext(jz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Ofe(e,t){var r=wz(),n=xP(e,r,t);return n}var wP=y.createContext(void 0);function Afe(e){if(!R0(e.initialProps)){var t={selected:void 0};return o.jsx(wP.Provider,{value:t,children:e.children})}return o.jsx(Tfe,{initialProps:e.initialProps,children:e.children})}function Tfe(e){var t=e.initialProps,r=e.children,n=function(i,s,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,s,l),s.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,s,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,s,l)},a={selected:t.selected,onDayClick:n};return o.jsx(wP.Provider,{value:a,children:r})}function Sz(){var e=y.useContext(wP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Mfe(e,t){var r=Ht(),n=Sz(),a=gP(),i=yP(),s=bP(),l=s.focusDayAfter,c=s.focusDayBefore,u=s.focusWeekAfter,d=s.focusWeekBefore,f=s.blur,h=s.focus,p=s.focusMonthBefore,g=s.focusMonthAfter,m=s.focusYearBefore,v=s.focusYearAfter,b=s.focusStartOfWeek,x=s.focusEndOfWeek,w=function(z){var R,U,K,re;R0(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,z):bg(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,z):wg(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,z):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,z)},_=function(z){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,z)},S=function(z){var R;f(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,z)},N=function(z){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,z)},k=function(z){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,z)},C=function(z){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,z)},A=function(z){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,z)},T=function(z){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,z)},I=function(z){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,z)},O=function(z){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,z)},L=function(z){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,z)},$=function(z){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,z)},F=function(z){var R;switch(z.key){case"ArrowLeft":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":z.preventDefault(),z.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":z.preventDefault(),z.stopPropagation(),u();break;case"ArrowUp":z.preventDefault(),z.stopPropagation(),d();break;case"PageUp":z.preventDefault(),z.stopPropagation(),z.shiftKey?m():p();break;case"PageDown":z.preventDefault(),z.stopPropagation(),z.shiftKey?v():g();break;case"Home":z.preventDefault(),z.stopPropagation(),b();break;case"End":z.preventDefault(),z.stopPropagation(),x();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,z)},V={onClick:w,onFocus:_,onBlur:S,onKeyDown:F,onKeyUp:$,onMouseEnter:N,onMouseLeave:k,onPointerEnter:C,onPointerLeave:A,onTouchCancel:T,onTouchEnd:I,onTouchMove:O,onTouchStart:L};return V}function $fe(){var e=Ht(),t=Sz(),r=gP(),n=yP(),a=R0(e)?t.selected:bg(e)?r.selected:wg(e)?n.selected:void 0;return a}function Ife(e){return Object.values(Ki).includes(e)}function Rfe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(Ife(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function Dfe(e,t){var r=qe({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=qe(qe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function Lfe(e,t,r){var n,a,i,s=Ht(),l=bP(),c=Ofe(e,t),u=Mfe(e,c),d=$fe(),f=!!(s.onDayClick||s.mode!=="default");y.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Nn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=Rfe(s,c).join(" "),p=Dfe(s,c),g=!!(c.outside&&!s.showOutsideDays||c.hidden),m=(i=(a=s.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:ife,v=o.jsx(m,{date:e,displayMonth:t,activeModifiers:c}),b={style:p,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Nn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Nn(l.focusedDay,e),_=qe(qe(qe({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function Ffe(e){var t=y.useRef(null),r=Lfe(e.date,e.displayMonth,t);return r.isHidden?o.jsx("div",{role:"gridcell"}):r.isButton?o.jsx(bx,qe({name:"day",ref:t},r.buttonProps)):o.jsx("div",qe({},r.divProps))}function Bfe(e){var t=e.number,r=e.dates,n=Ht(),a=n.onWeekNumberClick,i=n.styles,s=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return o.jsx("span",{className:s.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(p){a(t,r,p)};return o.jsx(bx,{name:"week-number","aria-label":f,className:s.weeknumber,style:i.weeknumber,onClick:h,children:d})}function Ufe(e){var t,r,n=Ht(),a=n.styles,i=n.classNames,s=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:Ffe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:Bfe,d;return s&&(d=o.jsx("td",{className:i.cell,style:a.cell,children:o.jsx(u,{number:e.weekNumber,dates:e.dates})})),o.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return o.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:o.jsx(c,{displayMonth:e.displayMonth,date:f})},Tce(f))})]})}function KM(e,t,r){for(var n=r!=null&&r.ISOWeek?S8(t):T0(t,r),a=r!=null&&r.ISOWeek?eu(e):Gi(e,r),i=us(n,a),s=[],l=0;l<=i;l++)s.push(Xr(a,l));var c=s.reduce(function(u,d){var f=r!=null&&r.ISOWeek?N8(d):C8(d,r),h=u.find(function(p){return p.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function zfe(e,t){var r=KM(ia(e),A0(e),t);if(t!=null&&t.useFixedWeeks){var n=$ce(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],s=hm(i,6-n),l=KM(hm(i,1),s,t);r.push.apply(r,l)}}return r}function Vfe(e){var t,r,n,a=Ht(),i=a.locale,s=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,p=a.ISOWeek,g=zfe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),m=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:afe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:Ufe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:tfe;return o.jsxs("table",{id:e.id,className:s.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&o.jsx(m,{}),o.jsx("tbody",{className:s.tbody,style:l.tbody,children:g.map(function(x){return o.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),o.jsx(b,{displayMonth:e.displayMonth})]})}function Wfe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Hfe=Wfe()?y.useLayoutEffect:y.useEffect,cj=!1,qfe=0;function YM(){return"react-day-picker-".concat(++qfe)}function Gfe(e){var t,r=e??(cj?YM():null),n=y.useState(r),a=n[0],i=n[1];return Hfe(function(){a===null&&i(YM())},[]),y.useEffect(function(){cj===!1&&(cj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Kfe(e){var t,r,n=Ht(),a=n.dir,i=n.classNames,s=n.styles,l=n.components,c=_g().displayMonths,u=Gfe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=s.month,p=e.displayIndex===0,g=e.displayIndex===c.length-1,m=!p&&!g;a==="rtl"&&(t=[p,g],g=t[0],p=t[1]),p&&(f.push(i.caption_start),h=qe(qe({},h),s.caption_start)),g&&(f.push(i.caption_end),h=qe(qe({},h),s.caption_end)),m&&(f.push(i.caption_between),h=qe(qe({},h),s.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:efe;return o.jsxs("div",{className:f.join(" "),style:h,children:[o.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),o.jsx(Vfe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function Yfe(e){var t=Ht(),r=t.classNames,n=t.styles;return o.jsx("div",{className:r.months,style:n.months,children:e.children})}function Jfe(e){var t,r,n=e.initialProps,a=Ht(),i=bP(),s=_g(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=qe(qe({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return qe(qe({},g),(v={},v[m]=n[m],v))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:Yfe;return o.jsx("div",qe({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:o.jsx(p,{children:s.displayMonths.map(function(g,m){return o.jsx(Kfe,{displayIndex:m,displayMonth:g},m)})})}))}function Xfe(e){var t=e.children,r=wde(e,["children"]);return o.jsx(Bde,{initialProps:r,children:o.jsx(Jde,{children:o.jsx(Afe,{initialProps:r,children:o.jsx(sfe,{initialProps:r,children:o.jsx(cfe,{initialProps:r,children:o.jsx(vfe,{children:o.jsx(Pfe,{children:t})})})})})})})}function Qfe(e){return o.jsx(Xfe,qe({},e,{children:o.jsx(Jfe,{initialProps:e})}))}function _P({className:e,classNames:t,showOutsideDays:r=!0,...n}){return o.jsx(Qfe,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(lm({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(lm({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>o.jsx(sE,{className:"h-4 w-4"}),IconRight:({...a})=>o.jsx(tf,{className:"h-4 w-4"})},...n})}_P.displayName="Calendar";const JM=[{value:"video",label:"Video Call",icon:Zt,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:sa,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:Qf,description:"Visit the clinic"}],Zfe=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},ehe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var x;const[a,i]=y.useState(Xr(new Date,1)),[s,l]=y.useState(null),[c,u]=y.useState("video"),[d,f]=y.useState([]),[h,p]=y.useState(!1),g=Zfe();y.useEffect(()=>{(async()=>{if(a){p(!0);try{const _=js(a),S=Xr(_,1),{data:N,error:k}=await Oe.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",S.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const C=(N||[]).map(A=>{const T=new Date(A.scheduled_at);return ea(T,"HH:mm")});f(C)}catch(_){console.error("Error fetching booked slots:",_)}finally{p(!1)}}})()},[a,e]);const m=()=>{a&&s&&r({date:a,time:s,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(a){const[_,S]=w.split(":").map(Number),N=A8(O8(a,_),S);if(gx(N,new Date))return!1}return!0},b=a&&s&&c;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Consultation Type"}),o.jsxs(Ce,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),o.jsx(ce,{children:o.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:JM.map(w=>{const _=w.icon;return o.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[o.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),o.jsx("span",{className:"font-medium",children:w.label}),o.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Select Date"}),o.jsx(Ce,{children:"Choose your preferred consultation date"})]}),o.jsx(ce,{children:o.jsx(_P,{mode:"single",selected:a,onSelect:i,disabled:w=>gx(w,js(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-5 h-5 text-primary"}),"Select Time",o.jsx(Se,{variant:"outline",className:"ml-2 text-xs",children:pm})]}),o.jsx(Ce,{children:a?yx(a):"Select a date first"})]}),o.jsx(ce,{children:h?o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>o.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):o.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return o.jsx(Z,{variant:s===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),a&&s&&o.jsx(ie,{className:"bg-primary/5 border-primary/20",children:o.jsxs(ce,{className:"flex items-center justify-between p-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[yx(a)," at ",s," ",pm]})]}),o.jsx(Se,{variant:"secondary",children:(x=JM.find(w=>w.value===c))==null?void 0:x.label})]})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:n,children:"Back"}),o.jsxs(Z,{onClick:m,disabled:!b,children:["Review & Confirm",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})};var the=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],rhe=the.reduce((e,t)=>{const r=mg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...l}=a,c=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nhe="Separator",XM="horizontal",ahe=["horizontal","vertical"],Nz=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=XM,...a}=e,i=ihe(n)?n:XM,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(rhe.div,{"data-orientation":i,...l,...a,ref:t})});Nz.displayName=nhe;function ihe(e){return ahe.includes(e)}var kz=Nz;const wx=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(kz,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));wx.displayName=kz.displayName;const she={video:Zt,phone:sa,in_person:Qf},ohe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},lhe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=Tr(),[a,i]=y.useState(!1),[s,l]=y.useState(!1),c=she[e.consultationType],u=async()=>{if(!n){ue.error("You must be logged in to book an appointment");return}i(!0);try{const{data:d,error:f}=await Oe.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,p]=e.time.split(":").map(Number),g=A8(O8(e.date,h),p),{error:m}=await Oe.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(m)throw m;l(!0),ue.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),ue.error(d.message||"Failed to book appointment")}finally{i(!1)}};return s?o.jsx(ie,{className:"text-center",children:o.jsxs(ce,{className:"py-12",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:o.jsx(hn,{className:"w-10 h-10 text-success"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),o.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[o.jsx("p",{className:"font-medium",children:yx(e.date)}),o.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",pm]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),o.jsx(Z,{onClick:t,children:"Return to Dashboard"})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(we,{children:"Review Your Booking"}),o.jsx(Ce,{children:"Please review the details before confirming your appointment."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:o.jsx(Vr,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),o.jsx(wx,{}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Nt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),o.jsx("p",{className:"font-medium",children:Pue(e.date)})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(Wt,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",pm,")"]}),o.jsx("p",{className:"font-medium",children:e.time})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),o.jsx("p",{className:"font-medium",children:ohe[e.consultationType]})]})]})]}),o.jsx(wx,{}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>o.jsx(Se,{variant:"secondary",children:d},f))}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),o.jsx(Se,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&o.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),o.jsx(ie,{className:"border-primary/20 bg-primary/5",children:o.jsx(ce,{className:"p-4",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx(Z,{variant:"outline",onClick:r,disabled:a,children:"Back"}),o.jsx(Z,{onClick:u,disabled:a,children:a?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},Cz="",che=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],uhe=({onBack:e,onComplete:t})=>{En();const[r,n]=y.useState(!1),[a,i]=y.useState(""),[s,l]=y.useState([]),[c,u]=y.useState("moderate"),[d,f]=y.useState(""),h=g=>{l(m=>m.includes(g)?m.filter(v=>v!==g):[...m,g])},p=async()=>{if(!a.trim()){ue.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await mo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>ho);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){ue.error("Please sign in to continue");return}const v=await fetch(`${Cz}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:s,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const x=await v.json();throw new Error(x.detail||"Failed to create walk-in booking")}const b=await v.json();ue.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),ue.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Wt,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{children:"Walk-In Booking"}),o.jsx(Ce,{children:"No appointment? Join the queue now"})]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"p-4 bg-muted rounded-lg",children:o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",o.jsx("strong",{children:"~30 minutes"})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"complaint",children:"What brings you in today? *"}),o.jsx(Lr,{id:"complaint",value:a,onChange:g=>i(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Any of these symptoms?"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:che.map(g=>o.jsx(Se,{variant:s.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"How severe are your symptoms?"}),o.jsxs(mm,{value:c,onValueChange:u,className:"flex gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"mild",id:"mild"}),o.jsx(ge,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"moderate",id:"moderate"}),o.jsx(ge,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{value:"severe",id:"severe"}),o.jsx(ge,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"notes",children:"Additional notes (optional)"}),o.jsx(Lr,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Z,{variant:"outline",onClick:e,children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{onClick:p,disabled:r||!a.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},dhe=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],fhe=({onBack:e,onComplete:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(""),[s,l]=y.useState([]),[c,u]=y.useState(!1),d=h=>{l(p=>p.includes(h)?p.filter(g=>g!==h):[...p,h])},f=async()=>{if(!a.trim()){ue.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await mo(async()=>{const{supabase:m}=await Promise.resolve().then(()=>ho);return{supabase:m}},void 0),{data:{session:p}}=await h.auth.getSession();if(!(p!=null&&p.access_token)){ue.error("Please sign in to continue");return}const g=await fetch(`${Cz}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:s,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const m=await g.json();throw new Error(m.detail||"Failed to create emergency booking")}ue.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),ue.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return o.jsxs(ie,{className:"border-red-500",children:[o.jsx(me,{className:"bg-red-50",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(Wn,{className:"w-6 h-6 text-red-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-red-700",children:"Emergency Booking"}),o.jsx(Ce,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),o.jsxs(ce,{className:"space-y-6 pt-6",children:[o.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(sa,{className:"w-5 h-5 text-red-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),o.jsxs("p",{className:"text-sm text-red-600",children:["Call ",o.jsx("strong",{children:"10177"})," (ambulance) or ",o.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),o.jsx(Lr,{id:"emergency-complaint",value:a,onChange:h=>i(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Select any matching symptoms:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:dhe.map(h=>o.jsx(Se,{variant:s.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[o.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),o.jsx(ge,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),o.jsxs("div",{className:"flex justify-between pt-4",children:[o.jsxs(Z,{variant:"outline",onClick:e,children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{variant:"destructive",onClick:f,disabled:r||!a.trim(),children:r?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Wn,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},QM=[{id:"symptoms",label:"Symptoms",icon:ef},{id:"clinician",label:"Clinician",icon:Vr},{id:"time",label:"Schedule",icon:Wt},{id:"confirm",label:"Confirm",icon:Ar}],hhe=()=>{const e=En(),{profile:t,signOut:r}=Tr(),[n,a]=y.useState("intro"),[i,s]=y.useState("scheduled"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),p=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=x=>{c(x),a("clinician")},m=x=>{d(x),a("time")},v=x=>{h(x),a("confirm")},b=()=>{e("/patient")};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[o.jsx(fn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),o.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&o.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:o.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:QM.map((x,w)=>{const _=x.icon,S=p()===w,N=p()>w;return o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${N?"bg-success text-success-foreground":S?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:N?o.jsx(Ar,{className:"w-4 h-4 sm:w-5 sm:h-5"}):o.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${S?"text-primary font-medium":"text-muted-foreground"}`,children:x.label})]}),w<QM.length-1&&o.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${N?"bg-success":"bg-muted"}`})]},x.id)})})}),n==="intro"&&o.jsxs(ie,{className:"text-center",children:[o.jsxs(me,{children:[o.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(Nt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),o.jsx(Ce,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),o.jsxs(ce,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[o.jsx(ie,{className:`cursor-pointer transition-all hover:border-primary ${i==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>s("scheduled"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Nt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Schedule"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),o.jsx(ie,{className:`cursor-pointer transition-all hover:border-orange-500 ${i==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>s("walk-in"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Fn,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Walk-In"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),o.jsx(ie,{className:`cursor-pointer transition-all hover:border-red-500 ${i==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>s("emergency"),children:o.jsxs(ce,{className:"p-4 text-center",children:[o.jsx(Wn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),o.jsx("h3",{className:"font-medium",children:"Emergency"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),i==="scheduled"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[o.jsx(ef,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),o.jsx(AT,{className:"w-4 h-4 text-yellow-500"})]}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Vr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),o.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[o.jsx(Wt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),o.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),o.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[o.jsx(AT,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),o.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),o.jsxs(Z,{size:"lg",onClick:()=>a("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]}),i==="walk-in"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[o.jsx(Fn,{className:"w-4 h-4"}),"Walk-In Queue"]}),o.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),o.jsxs(Z,{size:"lg",onClick:()=>a("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]}),i==="emergency"&&o.jsxs("div",{className:"text-left",children:[o.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[o.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[o.jsx(Wn,{className:"w-4 h-4"}),"Emergency Care"]}),o.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),o.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),o.jsxs(Z,{size:"lg",variant:"destructive",onClick:()=>a("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",o.jsx(gs,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&o.jsx(uhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&o.jsx(fhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&o.jsx(tde,{onComplete:g,onBack:()=>a("intro")}),n==="clinician"&&l&&o.jsx(bde,{recommendedSpecialization:l.recommendedSpecialization,onSelect:m,onBack:()=>a("symptoms")}),n==="time"&&u&&o.jsx(ehe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>a("clinician")}),n==="confirm"&&l&&u&&f&&o.jsx(lhe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>a("time")})]})]})},phe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:Fn,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:Xa,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:Z5,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:Nt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return o.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,a)=>{const i=n.icon;return o.jsx(ie,{children:o.jsx(ce,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),o.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),o.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:o.jsx(i,{className:`w-6 h-6 ${n.iconColor}`})})]})})},a)})})};var D0="Switch",[mhe]=mn(D0),[ghe,vhe]=mhe(D0),Ez=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=y.useState(null),g=Ke(t,w=>p(w)),m=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=zi({prop:a,defaultProp:i??!1,onChange:u,caller:D0});return o.jsxs(ghe,{scope:r,checked:b,disabled:l,children:[o.jsx(Me.button,{type:"button",role:"switch","aria-checked":b,"aria-required":s,"data-state":Tz(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:fe(e.onClick,w=>{x(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&o.jsx(Az,{control:h,bubbles:!m.current,name:n,value:c,checked:b,required:s,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Ez.displayName=D0;var Pz="SwitchThumb",Oz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=vhe(Pz,r);return o.jsx(Me.span,{"data-state":Tz(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Oz.displayName=Pz;var yhe="SwitchBubbleInput",Az=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const s=y.useRef(null),l=Ke(s,i),c=j0(r),u=u0(t);return y.useEffect(()=>{const d=s.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const g=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(g)}},[c,r,n]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Az.displayName=yhe;function Tz(e){return e?"checked":"unchecked"}var Mz=Ez,xhe=Oz;const L0=y.forwardRef(({className:e,...t},r)=>o.jsx(Mz,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:o.jsx(xhe,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));L0.displayName=Mz.displayName;function bhe(e){const t=whe(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(jhe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function whe(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=Nhe(a),l=She(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _he=Symbol("radix.slottable");function jhe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_he}function She(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Nhe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var F0="Popover",[$z]=mn(F0,[Il]),jg=Il(),[khe,Ul]=$z(F0),Iz=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,l=jg(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=zi({prop:n,defaultProp:a??!1,onChange:i,caller:F0});return o.jsx(xE,{...l,children:o.jsx(khe,{scope:t,contentId:Di(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:s,children:r})})};Iz.displayName=F0;var Rz="PopoverAnchor",Che=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(Rz,r),i=jg(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(s(),()=>l()),[s,l]),o.jsx(hg,{...i,...n,ref:t})});Che.displayName=Rz;var Dz="PopoverTrigger",Lz=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(Dz,r),i=jg(r),s=Ke(t,a.triggerRef),l=o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Vz(a.open),...n,ref:s,onClick:fe(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:o.jsx(hg,{asChild:!0,...i,children:l})});Lz.displayName=Dz;var jP="PopoverPortal",[Ehe,Phe]=$z(jP,{forceMount:void 0}),Fz=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Ul(jP,t);return o.jsx(Ehe,{scope:t,forceMount:r,children:o.jsx(Wr,{present:r||i.open,children:o.jsx(Xf,{asChild:!0,container:a,children:n})})})};Fz.displayName=jP;var mf="PopoverContent",Bz=y.forwardRef((e,t)=>{const r=Phe(mf,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Ul(mf,e.__scopePopover);return o.jsx(Wr,{present:n||i.open,children:i.modal?o.jsx(Ahe,{...a,ref:t}):o.jsx(The,{...a,ref:t})})});Bz.displayName=mf;var Ohe=bhe("PopoverContent.RemoveScroll"),Ahe=y.forwardRef((e,t)=>{const r=Ul(mf,e.__scopePopover),n=y.useRef(null),a=Ke(t,n),i=y.useRef(!1);return y.useEffect(()=>{const s=n.current;if(s)return S0(s)},[]),o.jsx(yg,{as:Ohe,allowPinchZoom:!0,children:o.jsx(Uz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:fe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),The=y.forwardRef((e,t)=>{const r=Ul(mf,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(Uz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,l;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Uz=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Ul(mf,r),p=jg(r);return _0(),o.jsx(vg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:o.jsx(d0,{"data-state":Vz(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),zz="PopoverClose",Mhe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Ul(zz,r);return o.jsx(Me.button,{type:"button",...n,ref:t,onClick:fe(e.onClick,()=>a.onOpenChange(!1))})});Mhe.displayName=zz;var $he="PopoverArrow",Ihe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=jg(r);return o.jsx(f0,{...a,...n,ref:t})});Ihe.displayName=$he;function Vz(e){return e?"open":"closed"}var Rhe=Iz,Dhe=Lz,Lhe=Fz,Wz=Bz;const Fhe=Rhe,Bhe=Dhe,Hz=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(Lhe,{children:o.jsx(Wz,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Hz.displayName=Wz.displayName;const qz=die,Gz=y.createContext({}),bn=({...e})=>o.jsx(Gz.Provider,{value:{name:e.name},children:o.jsx(cie,{...e})}),B0=()=>{const e=y.useContext(Gz),t=y.useContext(Kz),{getFieldState:r,formState:n}=uie(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},Kz=y.createContext({}),cn=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return o.jsx(Kz.Provider,{value:{id:n},children:o.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});cn.displayName="FormItem";const Kr=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=B0();return o.jsx(ge,{ref:r,className:ve(n&&"text-destructive",e),htmlFor:a,...t})});Kr.displayName="FormLabel";const un=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=B0();return o.jsx(jU,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});un.displayName="FormControl";const tN=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=B0();return o.jsx("p",{ref:r,id:n,className:ve("text-sm text-muted-foreground",e),...t})});tN.displayName="FormDescription";const wn=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=B0(),s=a?String(a==null?void 0:a.message):t;return s?o.jsx("p",{ref:n,id:i,className:ve("text-sm font-medium text-destructive",e),...r,children:s}):null});wn.displayName="FormMessage";function Uhe(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var SP="ScrollArea",[Yz]=mn(SP),[zhe,li]=Yz(SP),Jz=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[p,g]=y.useState(null),[m,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[S,N]=y.useState(!1),[k,C]=y.useState(!1),A=Ke(t,I=>c(I)),T=ih(a);return o.jsx(zhe,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:C,onCornerWidthChange:x,onCornerHeightChange:_,children:o.jsx(Me.div,{dir:T,...s,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Jz.displayName=SP;var Xz="ScrollAreaViewport",Qz=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=li(Xz,r),l=y.useRef(null),c=Ke(t,l,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Qz.displayName=Xz;var Es="ScrollAreaScrollbar",NP=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=li(Es,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):s(!0),()=>{l?i(!1):s(!1)}),[l,i,s]),a.type==="hover"?o.jsx(Vhe,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(Whe,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(Zz,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(kP,{...n,ref:t}):null});NP.displayName=Es;var Vhe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=li(Es,e.__scopeScrollArea),[i,s]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),s(!0)},d=()=>{c=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Wr,{present:r||i,children:o.jsx(Zz,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Whe=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=li(Es,e.__scopeScrollArea),i=e.orientation==="horizontal",s=z0(()=>c("SCROLL_END"),100),[l,c]=Uhe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),s()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,s]),o.jsx(Wr,{present:r||l!=="hidden",children:o.jsx(kP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:fe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:fe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Zz=y.forwardRef((e,t)=>{const r=li(Es,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=y.useState(!1),l=e.orientation==="horizontal",c=z0(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?u:d)}},10);return gf(r.viewport,c),gf(r.content,c),o.jsx(Wr,{present:n||i,children:o.jsx(kP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),kP=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=li(Es,e.__scopeScrollArea),i=y.useRef(null),s=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aV(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function f(h,p){return Jhe(h,s.current,l,p)}return r==="horizontal"?o.jsx(Hhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=ZM(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?o.jsx(qhe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=ZM(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),Hhe=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=li(Es,e.__scopeScrollArea),[s,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(tV,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":U0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),sV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:jx(s.paddingLeft),paddingEnd:jx(s.paddingRight)}})}})}),qhe=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=li(Es,e.__scopeScrollArea),[s,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(tV,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":U0(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),sV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:jx(s.paddingTop),paddingEnd:jx(s.paddingBottom)}})}})}),[Ghe,eV]=Yz(Es),tV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=li(Es,r),[g,m]=y.useState(null),v=Ke(t,A=>m(A)),b=y.useRef(null),x=y.useRef(""),w=p.viewport,_=n.content-n.viewport,S=gr(d),N=gr(c),k=z0(f,10);function C(A){if(b.current){const T=A.clientX-b.current.left,I=A.clientY-b.current.top;u({x:T,y:I})}}return y.useEffect(()=>{const A=T=>{const I=T.target;(g==null?void 0:g.contains(I))&&S(T,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,g,_,S]),y.useEffect(N,[n,N]),gf(g,k),gf(p.content,k),o.jsx(Ghe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:gr(i),onThumbPointerUp:gr(s),onThumbPositionChange:N,onThumbPointerDown:gr(l),children:o.jsx(Me.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:fe(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:fe(e.onPointerMove,C),onPointerUp:fe(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),_x="ScrollAreaThumb",rV=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=eV(_x,e.__scopeScrollArea);return o.jsx(Wr,{present:r||a.hasThumb,children:o.jsx(Khe,{ref:t,...n})})}),Khe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=li(_x,r),s=eV(_x,r),{onThumbPositionChange:l}=s,c=Ke(t,f=>s.onThumbChange(f)),u=y.useRef(void 0),d=z0(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=Xhe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),o.jsx(Me.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:fe(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),g=f.clientX-p.left,m=f.clientY-p.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:fe(e.onPointerUp,s.onThumbPointerUp)})});rV.displayName=_x;var CP="ScrollAreaCorner",nV=y.forwardRef((e,t)=>{const r=li(CP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(Yhe,{...e,ref:t}):null});nV.displayName=CP;var Yhe=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=li(CP,r),[i,s]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return gf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),gf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),s(d)}),u?o.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function jx(e){return e?parseInt(e,10):0}function aV(e,t){const r=e/t;return isNaN(r)?0:r}function U0(e){const t=aV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Jhe(e,t,r,n="ltr"){const a=U0(r),i=a/2,s=t||i,l=a-s,c=r.scrollbar.paddingStart+s,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return iV([c,u],f)(e)}function ZM(e,t,r="ltr"){const n=U0(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,s]:[s*-1,0],u=zS(e,c);return iV([0,s],[0,l])(u)}function iV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function sV(e,t){return e>0&&e<t}var Xhe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,l=r.top!==i.top;(s||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function z0(e,t){const r=gr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function gf(e,t){const r=gr(t);_r(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var oV=Jz,Qhe=Qz,Zhe=nV;const EP=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(oV,{ref:n,className:ve("relative overflow-hidden",e),...r,children:[o.jsx(Qhe,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(lV,{}),o.jsx(Zhe,{})]}));EP.displayName=oV.displayName;const lV=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(NP,{ref:n,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(rV,{className:"relative flex-1 rounded-full bg-border"})}));lV.displayName=NP.displayName;const e$=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],epe=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=y.useState(""),[a,i]=y.useState(!1),s=e$.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=y.useCallback(u=>{t([...e,u]),n(""),i(!1)},[e,t]),c=y.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx(oS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),o.jsx(rt,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),i(!0)},onFocus:()=>i(!0),className:"pl-10"}),a&&r&&o.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:o.jsx(EP,{className:"max-h-48",children:s.length>0?s.slice(0,10).map(u=>o.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),o.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),o.jsx(rf,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):o.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e$.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>o.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),o.jsx("div",{className:"space-y-1",children:e.map(u=>o.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[o.jsxs("div",{children:[o.jsx(Se,{variant:"secondary",className:"font-mono mr-2",children:u.code}),o.jsx("span",{className:"text-sm",children:u.description})]}),o.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:o.jsx(wo,{className:"w-4 h-4"})})]},u.code))})]})]})},tpe=w0({chief_complaint:pr().min(1,"Chief complaint is required").max(500),history_of_present_illness:pr().max(2e3).optional(),examination_findings:pr().max(2e3).optional(),treatment_plan:pr().max(2e3).optional(),follow_up_instructions:pr().max(1e3).optional(),follow_up_date:rse().optional().nullable(),referral_required:tse().default(!1),referral_details:pr().max(500).optional()}),rpe=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:a})=>{const{user:i}=Tr(),[s,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(a||null),[h,p]=y.useState("draft"),g=lx({resolver:cx(tpe),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});y.useEffect(()=>{(async()=>{if(!a)return;const{data:w,error:_}=await Oe.from("clinical_notes").select("*").eq("id",a).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),p(w.status),f(w.id))})()},[a,g]);const m=async x=>{if(i){u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"draft"};if(d){const{error:_}=await Oe.from("clinical_notes").update(w).eq("id",d);if(_)throw _;ue.success("Draft saved")}else{const{data:_,error:S}=await Oe.from("clinical_notes").insert(w).select().single();if(S)throw S;f(_.id),ue.success("Draft created")}}catch(w){console.error("Error saving draft:",w),ue.error("Failed to save draft")}finally{u(!1)}}},v=async x=>{if(i){if(s.length===0){ue.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:s.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(s)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Oe.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Oe.from("clinical_notes").insert(w);if(_)throw _}ue.success("Clinical note completed and signed"),p("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),ue.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return o.jsxs(ie,{className:"w-full",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",o.jsx("span",{className:"font-medium",children:r})]})]}),o.jsx(Se,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),o.jsx(ce,{children:o.jsx(qz,{...g,children:o.jsxs("form",{className:"space-y-6",children:[o.jsxs(Bl,{defaultValue:"clinical",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-3",children:[o.jsxs($t,{value:"clinical",className:"flex items-center gap-2",children:[o.jsx(Xa,{className:"w-4 h-4"}),"Clinical"]}),o.jsxs($t,{value:"diagnosis",className:"flex items-center gap-2",children:[o.jsx(gu,{className:"w-4 h-4"}),"Diagnosis"]}),o.jsxs($t,{value:"treatment",className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-4 h-4"}),"Treatment"]})]}),o.jsxs(lr,{value:"clinical",className:"space-y-4 mt-4",children:[o.jsx(bn,{control:g.control,name:"chief_complaint",render:({field:x})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Chief Complaint *"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:g.control,name:"history_of_present_illness",render:({field:x})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"History of Present Illness"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:g.control,name:"examination_findings",render:({field:x})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Examination Findings"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(tN,{children:"Document any observable findings from the video consultation"}),o.jsx(wn,{})]})})]}),o.jsx(lr,{value:"diagnosis",className:"space-y-4 mt-4",children:o.jsxs("div",{children:[o.jsx(Kr,{children:"ICD-10 Diagnosis Codes *"}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),o.jsx(epe,{selectedCodes:s,onCodesChange:b?()=>{}:l})]})}),o.jsxs(lr,{value:"treatment",className:"space-y-4 mt-4",children:[o.jsx(bn,{control:g.control,name:"treatment_plan",render:({field:x})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Treatment Plan"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...x})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:g.control,name:"follow_up_instructions",render:({field:x})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Follow-up Instructions"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...x})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:g.control,name:"follow_up_date",render:({field:x})=>o.jsxs(cn,{className:"flex flex-col",children:[o.jsx(Kr,{children:"Follow-up Date"}),o.jsxs(Fhe,{children:[o.jsx(Bhe,{asChild:!0,children:o.jsx(un,{children:o.jsxs(Z,{variant:"outline",disabled:b,className:ve("w-full pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?yt(x.value,"PPP"):o.jsx("span",{children:"Select date"}),o.jsx(Nt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),o.jsx(Hz,{className:"w-auto p-0",align:"start",children:o.jsx(_P,{mode:"single",selected:x.value||void 0,onSelect:x.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),o.jsx(wn,{})]})}),o.jsxs("div",{className:"border-t pt-4",children:[o.jsx(bn,{control:g.control,name:"referral_required",render:({field:x})=>o.jsxs(cn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[o.jsxs("div",{className:"space-y-0.5",children:[o.jsx(Kr,{className:"text-base",children:"Referral Required"}),o.jsx(tN,{children:"Does this patient need to be referred to a specialist?"})]}),o.jsx(un,{children:o.jsx(L0,{checked:x.value,onCheckedChange:x.onChange,disabled:b})})]})}),g.watch("referral_required")&&o.jsx(bn,{control:g.control,name:"referral_details",render:({field:x})=>o.jsxs(cn,{className:"mt-4",children:[o.jsx(Kr,{children:"Referral Details"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...x})}),o.jsx(wn,{})]})})]})]})]}),!b&&o.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[o.jsxs(Z,{type:"button",variant:"outline",onClick:g.handleSubmit(m),disabled:c,children:[o.jsx(yX,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),o.jsxs(Z,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[o.jsx(tB,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},PP=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:s})=>{const l=()=>{s==null||s(),t(!1)};return o.jsx(Li,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Za,{children:o.jsx(ei,{children:"Document Consultation"})}),o.jsx(rpe,{appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:l})]})})},cV=()=>{const{user:e,role:t}=Tr(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[s,l]=y.useState(null),c=y.useCallback(async()=>{if(e){i(!0),l(null);try{const{data:p,error:g}=await Oe.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const m=[...new Set((p==null?void 0:p.map(_=>_.patient_id))||[])],v=[...new Set((p==null?void 0:p.map(_=>_.clinician_id))||[])],{data:b}=await Oe.from("profiles").select("id, first_name, last_name").in("id",[...m,...v]),x=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(p==null?void 0:p.map(_=>({..._,patient_name:x.get(_.patient_id)||"Unknown",clinician_name:x.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(p){l(p.message)}finally{i(!1)}}},[e]),u=async p=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:m}=await Oe.from("prescriptions").insert({...p,clinician_id:e.id}).select().single();if(m)throw m;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(p,g)=>{try{const{error:m}=await Oe.from("prescriptions").update({status:g}).eq("id",p);if(m)throw m;return await c(),{success:!0}}catch(m){return{success:!1,error:m.message}}},f=async p=>{try{const{data:g,error:m}=await Oe.from("prescriptions").select("*").eq("patient_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async p=>{try{const{data:g,error:m}=await Oe.from("prescriptions").select("*").eq("appointment_id",p).order("prescribed_at",{ascending:!1});if(m)throw m;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return y.useEffect(()=>{c()},[c]),{prescriptions:r,loading:a,error:s,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},npe=w0({medication_name:pr().min(1,"Medication name is required"),dosage:pr().min(1,"Dosage is required"),frequency:pr().min(1,"Frequency is required"),duration:pr().min(1,"Duration is required"),quantity:pr().optional(),refills:pr().optional(),instructions:pr().optional(),pharmacy_notes:pr().optional()}),ape=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],ipe=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],spe=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:a,onCancel:i})=>{const{createPrescription:s}=cV(),[l,c]=y.useState(!1),u=lx({resolver:cx(npe),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},p=await s(h);c(!1),p.success?(ue.success("Prescription created successfully"),u.reset(),a==null||a()):ue.error(p.error||"Failed to create prescription")};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Br,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold",children:"New Prescription"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),o.jsx(qz,{...u,children:o.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[o.jsx(bn,{control:u.control,name:"medication_name",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Medication Name *"}),o.jsx(un,{children:o.jsx(rt,{placeholder:"e.g., Amoxicillin 500mg",...f})}),o.jsx(wn,{})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(bn,{control:u.control,name:"dosage",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Dosage *"}),o.jsx(un,{children:o.jsx(rt,{placeholder:"e.g., 1 tablet",...f})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:u.control,name:"frequency",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Frequency *"}),o.jsxs(rr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(un,{children:o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select frequency"})})}),o.jsx(Xt,{children:ape.map(h=>o.jsx(Le,{value:h,children:h},h))})]}),o.jsx(wn,{})]})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsx(bn,{control:u.control,name:"duration",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Duration *"}),o.jsxs(rr,{onValueChange:f.onChange,value:f.value,children:[o.jsx(un,{children:o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select duration"})})}),o.jsx(Xt,{children:ipe.map(h=>o.jsx(Le,{value:h,children:h},h))})]}),o.jsx(wn,{})]})}),o.jsx(bn,{control:u.control,name:"quantity",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Quantity"}),o.jsx(un,{children:o.jsx(rt,{type:"number",placeholder:"e.g., 30",...f})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:u.control,name:"refills",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Refills"}),o.jsx(un,{children:o.jsx(rt,{type:"number",min:"0",max:"12",...f})}),o.jsx(wn,{})]})})]}),o.jsx(bn,{control:u.control,name:"instructions",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Patient Instructions"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),o.jsx(wn,{})]})}),o.jsx(bn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>o.jsxs(cn,{children:[o.jsx(Kr,{children:"Pharmacy Notes"}),o.jsx(un,{children:o.jsx(Lr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),o.jsx(wn,{})]})}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i&&o.jsx(Z,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),o.jsx(Z,{type:"submit",disabled:l,children:l?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(rf,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},uV=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i})=>o.jsx(Li,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Za,{children:o.jsx(ei,{children:"Create E-Prescription"})}),o.jsx(spe,{patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),ope=e=>{const[t,r]=y.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,a]=y.useState(!1),[i,s]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){a(!0),s(null);try{const{data:c,error:u}=await Oe.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Oe.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:p}=await Oe.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(p)throw p;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:m}=await Oe.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((m==null?void 0:m.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],x=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:x,prescriptions:w})}catch(c){s(c.message)}finally{a(!1)}}})()},[e]),{history:t,loading:n,error:i}},lpe={video:Zt,phone:sa,in_person:Qf},t$={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},cpe=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:a,loading:i,error:s}=ope(e?r:null);return o.jsx(Li,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:"max-w-4xl max-h-[85vh]",children:[o.jsx(Za,{children:o.jsxs(ei,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),i?o.jsxs("div",{className:"space-y-4",children:[o.jsx(zt,{className:"h-10 w-full"}),o.jsx(zt,{className:"h-48 w-full"}),o.jsx(zt,{className:"h-48 w-full"})]}):s?o.jsxs("div",{className:"text-center py-8 text-destructive",children:[o.jsx(gu,{className:"w-12 h-12 mx-auto mb-4"}),o.jsx("p",{children:"Error loading patient history"})]}):o.jsxs(Bl,{defaultValue:"appointments",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs($t,{value:"appointments",className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-4 h-4"}),"Visits (",a.appointments.length,")"]}),o.jsxs($t,{value:"notes",className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-4 h-4"}),"Clinical Notes (",a.clinicalNotes.length,")"]}),o.jsxs($t,{value:"prescriptions",className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-4 h-4"}),"Prescriptions (",a.prescriptions.length,")"]})]}),o.jsxs(EP,{className:"h-[500px] pr-4",children:[o.jsx(lr,{value:"appointments",className:"space-y-3 mt-0",children:a.appointments.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No past appointments"})]}):a.appointments.map(l=>{const c=lpe[l.consultation_type]||Zt;return o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(c,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-medium",children:yt(new Date(l.scheduled_at),"MMMM d, yyyy")}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",yt(new Date(l.scheduled_at),"h:mm a")]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&o.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),o.jsx(Se,{className:t$[l.status]||"",children:l.status})]})})},l.id)})}),o.jsx(lr,{value:"notes",className:"space-y-3 mt-0",children:a.clinicalNotes.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(tn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No clinical notes available"})]}):a.clinicalNotes.map(l=>o.jsx(ie,{children:o.jsxs(ce,{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-4 h-4 text-primary"}),o.jsx("p",{className:"font-medium",children:yt(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&o.jsxs(Se,{variant:"secondary",className:"flex items-center gap-1",children:[o.jsx(Ar,{className:"w-3 h-3"}),"Signed"]})]}),o.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),o.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>o.jsx(Se,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),o.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),o.jsx(lr,{value:"prescriptions",className:"space-y-3 mt-0",children:a.prescriptions.length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No prescriptions on record"})]}):a.prescriptions.map(l=>o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Br,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:l.medication_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",yt(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),o.jsx(Se,{className:t$[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},upe={video:Zt,phone:sa,in_person:Qf},dpe={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},fpe={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},uj=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const a=En(),[i,s]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=upe[e.consultation_type],h=dpe[e.status],p=fpe[e.severity],g=e.status==="pending"||e.status==="confirmed",m=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{a(`/consultation?appointment=${e.id}`)};return o.jsxs(ie,{className:`transition-all ${m?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx($0,{className:"w-12 h-12",children:o.jsx(I0,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(x=>x[0]).join("")})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),o.jsx(Se,{variant:h.variant,children:h.label})]}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[o.jsxs(Se,{variant:"outline",className:p.color,children:[e.severity==="severe"&&o.jsx(Wn,{className:"w-3 h-3 mr-1"}),p.label]}),e.symptoms.slice(0,3).map((x,w)=>o.jsx(Se,{variant:"outline",className:"text-xs",children:x},w)),e.symptoms.length>3&&o.jsxs(Se,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),o.jsxs("div",{className:"flex gap-2",children:[g&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:()=>t(e),disabled:n,children:[o.jsx(lE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(S_,{className:"w-4 h-4 mr-1"}),"History"]})]}),m&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",variant:"default",onClick:b,children:[o.jsx(Zt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>s(!0),children:[o.jsx(tn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Br,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(S_,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[o.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>s(!0),children:[o.jsx(tn,{className:"w-4 h-4 mr-1"}),"View Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[o.jsx(Br,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[o.jsx(S_,{className:"w-4 h-4 mr-1"}),"History"]}),o.jsxs(Se,{variant:"secondary",className:"ml-2",children:[o.jsx(Ar,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),o.jsx(PP,{open:i,onOpenChange:s,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),o.jsx(uV,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),o.jsx(cpe,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},dV=()=>{const{user:e}=Tr(),[t,r]=y.useState([]),[n,a]=y.useState({waiting:0,inProgress:0,completed:0,total:0}),[i,s]=y.useState(!0),[l,c]=y.useState(null),u=y.useCallback(async()=>{if(e)try{const f=new Date,h=js(f).toISOString(),p=iP(f).toISOString(),{data:g,error:m}=await Oe.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",p).order("scheduled_at",{ascending:!0});if(m)throw m;if(!g||g.length===0){r([]),a({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:x}=await Oe.from("profiles").select("id, first_name, last_name").in("id",v);if(x)throw x;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:C}=await Oe.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(C)throw C;_=k||[]}const S=g.map(k=>{const C=b==null?void 0:b.find(T=>T.id===k.patient_id),A=_.find(T=>T.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:C?`${C.first_name} ${C.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(A==null?void 0:A.symptoms)||[],severity:(A==null?void 0:A.severity)||"mild",symptom_description:(A==null?void 0:A.description)||null,created_at:k.created_at}});r(S);const N={waiting:S.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:S.filter(k=>k.status==="in_progress").length,completed:S.filter(k=>k.status==="completed").length,total:S.length};a(N)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{s(!1)}},[e]),d=async(f,h)=>{try{const{error:p}=await Oe.from("appointments").update({status:h}).eq("id",f);if(p)throw p;return r(g=>g.map(m=>m.id===f?{...m,status:h}:m)),a(g=>{const m=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:m.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:m.filter(v=>v.status==="in_progress").length,completed:m.filter(v=>v.status==="completed").length,total:m.length}}),{success:!0}}catch(p){return console.error("Error updating appointment:",p),{success:!1,error:p.message}}};return y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(!e)return;const f=Oe.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Oe.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:i,error:l,refetch:u,updateAppointmentStatus:d}},hpe=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=dV(),[a,i]=y.useState(null),s=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((p,g)=>{const m={severe:0,moderate:1,mild:2};return m[p.severity]!==m[g.severity]?m[p.severity]-m[g.severity]:new Date(p.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{i(h.id);const p=await n(h.id,"in_progress");i(null),p.success?ue.success(`Started consultation with ${h.patient_name}`):ue.error("Failed to start consultation")},f=async h=>{i(h.id);const p=await n(h.id,"completed");i(null),p.success?ue.success(`Completed consultation with ${h.patient_name}`):ue.error("Failed to complete consultation")};return r?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(zt,{className:"h-6 w-40"}),o.jsx(zt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2,3].map(h=>o.jsx(zt,{className:"h-32 w-full"},h))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),o.jsxs(Ce,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),o.jsx(ce,{children:o.jsxs(Bl,{defaultValue:"waiting",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs($t,{value:"waiting",className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),o.jsxs($t,{value:"in_progress",className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),o.jsxs($t,{value:"completed",className:"flex items-center gap-2",children:[o.jsx(Ar,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),o.jsx(lr,{value:"waiting",className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Fn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting"})]}):u(s).map(h=>o.jsx(uj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),o.jsx(lr,{value:"in_progress",className:"space-y-4",children:l.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Wt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>o.jsx(uj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),o.jsx(lr,{value:"completed",className:"space-y-4",children:c.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ar,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>o.jsx(uj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))})]})})]})},ppe={video:Zt,phone:sa,in_person:Qf},mpe=({todayAppointments:e})=>{const t=e.filter(i=>{const s=new Date(i.scheduled_at).getHours();return s>=8&&s<12}),r=e.filter(i=>{const s=new Date(i.scheduled_at).getHours();return s>=12&&s<17}),n=e.filter(i=>new Date(i.scheduled_at).getHours()>=17),a=({title:i,appointments:s})=>o.jsxs("div",{className:"mb-4 last:mb-0",children:[o.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:i}),s.length===0?o.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):o.jsx("div",{className:"space-y-2",children:s.map(l=>{const c=ppe[l.consultation_type];return o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-sm font-medium",children:ea(new Date(l.scheduled_at),"h:mm")}),o.jsx("span",{className:"text-xs text-muted-foreground",children:ea(new Date(l.scheduled_at),"a")})]}),o.jsx("div",{className:"w-px h-8 bg-border"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[o.jsx(c,{className:"w-3 h-3"}),o.jsx("span",{children:l.consultation_type})]})]})]}),o.jsx(Se,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",o.jsx(Se,{variant:"outline",className:"ml-2 text-xs",children:pm})]}),o.jsx(Ce,{children:yx(new Date)})]}),o.jsx(ce,{children:e.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No appointments scheduled for today"})]}):o.jsxs(o.Fragment,{children:[o.jsx(a,{title:"Morning (8am - 12pm)",appointments:t}),o.jsx(a,{title:"Afternoon (12pm - 5pm)",appointments:r}),o.jsx(a,{title:"Evening (5pm+)",appointments:n})]})})]})},gpe=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],vpe=()=>{const{user:e}=Tr(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,s]=y.useState(!1),l=y.useCallback(async()=>{if(e){a(!0);try{const{data:p,error:g}=await Oe.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(p||[])}catch(p){console.error("Error fetching availability:",p),ue.error("Failed to load availability")}finally{a(!1)}}},[e]),c=y.useCallback(async p=>{if(e){s(!0);try{const{data:g,error:m}=await Oe.from("clinician_availability").insert({clinician_id:e.id,day_of_week:p.day_of_week,start_time:p.start_time,end_time:p.end_time,is_active:p.is_active}).select().single();if(m)throw m;return r(v=>[...v,g]),ue.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),ue.error("Failed to add availability slot"),null}finally{s(!1)}}},[e]),u=y.useCallback(async(p,g)=>{if(e){s(!0);try{const{error:m}=await Oe.from("clinician_availability").update(g).eq("id",p).eq("clinician_id",e.id);if(m)throw m;r(v=>v.map(b=>b.id===p?{...b,...g}:b)),ue.success("Availability updated")}catch(m){console.error("Error updating slot:",m),ue.error("Failed to update availability")}finally{s(!1)}}},[e]),d=y.useCallback(async p=>{if(e){s(!0);try{const{error:g}=await Oe.from("clinician_availability").delete().eq("id",p).eq("clinician_id",e.id);if(g)throw g;r(m=>m.filter(v=>v.id!==p)),ue.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),ue.error("Failed to remove slot")}finally{s(!1)}}},[e]),f=y.useCallback(async(p,g)=>{await u(p,{is_active:g})},[u]),h=y.useCallback(p=>t.filter(g=>g.day_of_week===p),[t]);return y.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:i,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:gpe}},r$=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),ype=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,a]=y.useState(1),[i,s]=y.useState("09:00"),[l,c]=y.useState("17:00"),[u,d]=y.useState(!0),f=async()=>{if(i>=l)return;await e({day_of_week:n,start_time:i,end_time:l,is_active:u})&&(s("09:00"),c("17:00"))};return o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[o.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Day"}),o.jsxs(rr,{value:n.toString(),onValueChange:h=>a(parseInt(h)),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:r.map((h,p)=>o.jsx(Le,{value:p.toString(),children:h},p))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Start Time"}),o.jsxs(rr,{value:i,onValueChange:s,children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:r$.map(h=>o.jsx(Le,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"End Time"}),o.jsxs(rr,{value:l,onValueChange:c,children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:r$.filter(h=>h>i).map(h=>o.jsx(Le,{value:h,children:h},h))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Active"}),o.jsxs("div",{className:"flex items-center h-10",children:[o.jsx(L0,{checked:u,onCheckedChange:d}),o.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),o.jsxs(Z,{onClick:f,disabled:t||i>=l,children:[o.jsx(rf,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},n$=e=>{const[t,r]=e.split(":"),n=parseInt(t),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},xpe=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:a,saving:i})=>{const s=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return o.jsxs(ie,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"text-base flex items-center gap-2",children:[e,c&&o.jsx(mX,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&o.jsxs(Se,{variant:s.length>0?"default":"secondary",children:[s.length," active"]})]})}),o.jsx(ce,{children:l?o.jsx("div",{className:"space-y-2",children:r.map(u=>o.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-4 h-4 text-muted-foreground"}),o.jsxs("span",{className:"text-sm font-medium",children:[n$(u.start_time)," - ",n$(u.end_time)]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(L0,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:i}),o.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&a(u.id),disabled:i,children:o.jsx(wX,{className:"w-4 h-4"})})]})]},u.id))}):o.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},bpe=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:a,deleteSlot:i,getSlotsByDay:s,refetch:l,DAY_NAMES:c}=vpe(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,p]=f.start_time.split(":").map(Number),[g,m]=f.end_time.split(":").map(Number),v=g-h+(m-p)/60;return d+v},0);return t?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(zt,{className:"h-6 w-48"}),o.jsx(zt,{className:"h-4 w-64"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsx(zt,{className:"h-32 w-full"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>o.jsx(zt,{className:"h-24"},f))})]})]}):o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),o.jsx(Ce,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),o.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[o.jsx(Wt,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),o.jsxs(Z,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[o.jsx(co,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx(ype,{onAddSlot:n,saving:r,dayNames:c}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>o.jsx(xpe,{dayName:d,dayIndex:f,slots:s(f),onToggleActive:a,onDeleteSlot:i,saving:r},f))})]}),o.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[o.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Patients can only book during your active time slots"}),o.jsx("li",{children:" Each appointment is 30 minutes by default"}),o.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),o.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},wpe=({open:e,onOpenChange:t})=>o.jsx(Li,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Za,{children:o.jsx(ei,{children:"Manage Availability"})}),o.jsx(bpe,{})]})}),_pe=e=>{const{user:t}=Tr(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[s,l]=y.useState(null),c=y.useCallback(async()=>{if(t){i(!0),l(null);try{let h=Oe.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",js(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",iP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:p,error:g}=await h;if(g)throw g;const m=[...new Set((p==null?void 0:p.map(w=>w.patient_id))||[])],{data:v}=await Oe.from("profiles").select("id, first_name, last_name, phone").in("id",m),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),x=(p||[]).map(w=>{const _=b.get(w.patient_id),S=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(S==null?void 0:S.symptoms)||[],severity:(S==null?void 0:S.severity)||"mild",symptom_description:(S==null?void 0:S.description)||null,notes:w.notes,created_at:w.created_at}});n(x)}catch(h){console.error("Error fetching appointments:",h),l(h.message),ue.error("Failed to load appointments")}finally{i(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=y.useCallback(async(h,p)=>{try{const{error:g}=await Oe.from("appointments").update({status:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,status:p}:v)),ue.success(`Appointment ${p}`),!0}catch(g){return console.error("Error updating appointment:",g),ue.error("Failed to update appointment"),!1}},[]),d=y.useCallback(async(h,p)=>{try{const{error:g}=await Oe.from("appointments").update({notes:p}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,notes:p}:v)),ue.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),ue.error("Failed to save notes"),!1}},[]),f=y.useCallback(async(h,p)=>{try{const{error:g}=await Oe.from("appointments").update({scheduled_at:p.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(m=>m.map(v=>v.id===h?{...v,scheduled_at:p.toISOString(),status:"pending"}:v)),ue.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),ue.error("Failed to reschedule appointment"),!1}},[]);return y.useEffect(()=>{if(!t)return;const h=Oe.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Oe.removeChannel(h)}},[t,c]),y.useEffect(()=>{c()},[c]),{appointments:r,loading:a,error:s,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function jpe(e){const t=Spe(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,l=y.Children.toArray(i),c=l.find(kpe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return o.jsx(t,{...s,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Spe(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=Epe(a),l=Cpe(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ns(n,s):s),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Npe=Symbol("radix.slottable");function kpe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Npe}function Cpe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Epe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var rN=["Enter"," "],Ppe=["ArrowDown","PageUp","Home"],fV=["ArrowUp","PageDown","End"],Ope=[...Ppe,...fV],Ape={ltr:[...rN,"ArrowRight"],rtl:[...rN,"ArrowLeft"]},Tpe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Sg="Menu",[gm,Mpe,$pe]=r0(Sg),[yu,hV]=mn(Sg,[$pe,Il,oh]),V0=Il(),pV=oh(),[Ipe,xu]=yu(Sg),[Rpe,Ng]=yu(Sg),mV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,l=V0(t),[c,u]=y.useState(null),d=y.useRef(!1),f=gr(i),h=ih(a);return y.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),o.jsx(xE,{...l,children:o.jsx(Ipe,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:o.jsx(Rpe,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:s,children:n})})})};mV.displayName=Sg;var Dpe="MenuAnchor",OP=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=V0(r);return o.jsx(hg,{...a,...n,ref:t})});OP.displayName=Dpe;var AP="MenuPortal",[Lpe,gV]=yu(AP,{forceMount:void 0}),vV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=xu(AP,t);return o.jsx(Lpe,{scope:t,forceMount:r,children:o.jsx(Wr,{present:r||i.open,children:o.jsx(Xf,{asChild:!0,container:a,children:n})})})};vV.displayName=AP;var ti="MenuContent",[Fpe,TP]=yu(ti),yV=y.forwardRef((e,t)=>{const r=gV(ti,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=xu(ti,e.__scopeMenu),s=Ng(ti,e.__scopeMenu);return o.jsx(gm.Provider,{scope:e.__scopeMenu,children:o.jsx(Wr,{present:n||i.open,children:o.jsx(gm.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(Bpe,{...a,ref:t}):o.jsx(Upe,{...a,ref:t})})})})}),Bpe=y.forwardRef((e,t)=>{const r=xu(ti,e.__scopeMenu),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return S0(i)},[]),o.jsx(MP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Upe=y.forwardRef((e,t)=>{const r=xu(ti,e.__scopeMenu);return o.jsx(MP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),zpe=jpe("MenuContent.ScrollLock"),MP=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:g,...m}=e,v=xu(ti,r),b=Ng(ti,r),x=V0(r),w=pV(r),_=Mpe(r),[S,N]=y.useState(null),k=y.useRef(null),C=Ke(t,k,v.onContentChange),A=y.useRef(0),T=y.useRef(""),I=y.useRef(0),O=y.useRef(null),L=y.useRef("right"),$=y.useRef(0),F=g?yg:y.Fragment,V=g?{as:zpe,allowPinchZoom:!0}:void 0,z=U=>{var D,G;const K=T.current+U,re=_().filter(q=>!q.disabled),Q=document.activeElement,j=(D=re.find(q=>q.ref.current===Q))==null?void 0:D.textValue,P=re.map(q=>q.textValue),E=eme(P,K,j),B=(G=re.find(q=>q.textValue===E))==null?void 0:G.ref.current;(function q(J){T.current=J,window.clearTimeout(A.current),J!==""&&(A.current=window.setTimeout(()=>q(""),1e3))})(K),B&&setTimeout(()=>B.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),_0();const R=y.useCallback(U=>{var re,Q;return L.current===((re=O.current)==null?void 0:re.side)&&rme(U,(Q=O.current)==null?void 0:Q.area)},[]);return o.jsx(Fpe,{scope:r,searchRef:T,onItemEnter:y.useCallback(U=>{R(U)&&U.preventDefault()},[R]),onItemLeave:y.useCallback(U=>{var K;R(U)||((K=k.current)==null||K.focus(),N(null))},[R]),onTriggerLeave:y.useCallback(U=>{R(U)&&U.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(U=>{O.current=U},[]),children:o.jsx(F,{...V,children:o.jsx(vg,{asChild:!0,trapped:a,onMountAutoFocus:fe(i,U=>{var K;U.preventDefault(),(K=k.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(mu,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:o.jsx(HE,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:fe(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(d0,{role:"menu","aria-orientation":"vertical","data-state":$V(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:fe(m.onKeyDown,U=>{const re=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Q=U.ctrlKey||U.altKey||U.metaKey,j=U.key.length===1;re&&(U.key==="Tab"&&U.preventDefault(),!Q&&j&&z(U.key));const P=k.current;if(U.target!==P||!Ope.includes(U.key))return;U.preventDefault();const B=_().filter(D=>!D.disabled).map(D=>D.ref.current);fV.includes(U.key)&&B.reverse(),Qpe(B)}),onBlur:fe(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:fe(e.onPointerMove,vm(U=>{const K=U.target,re=$.current!==U.clientX;if(U.currentTarget.contains(K)&&re){const Q=U.clientX>$.current?"right":"left";L.current=Q,$.current=U.clientX}}))})})})})})})});yV.displayName=ti;var Vpe="MenuGroup",$P=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Me.div,{role:"group",...n,ref:t})});$P.displayName=Vpe;var Wpe="MenuLabel",xV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Me.div,{...n,ref:t})});xV.displayName=Wpe;var Sx="MenuItem",a$="menu.itemSelect",W0=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),s=Ng(Sx,e.__scopeMenu),l=TP(Sx,e.__scopeMenu),c=Ke(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(a$,{bubbles:!0,cancelable:!0});f.addEventListener(a$,p=>n==null?void 0:n(p),{once:!0}),tE(f,h),h.defaultPrevented?u.current=!1:s.onClose()}};return o.jsx(bV,{...a,ref:c,disabled:r,onClick:fe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:fe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:fe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||rN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});W0.displayName=Sx;var bV=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=TP(Sx,r),l=pV(r),c=y.useRef(null),u=Ke(t,c),[d,f]=y.useState(!1),[h,p]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&p((g.textContent??"").trim())},[i.children]),o.jsx(gm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:o.jsx(qE,{asChild:!0,...l,focusable:!n,children:o.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:fe(e.onPointerMove,vm(g=>{n?s.onItemLeave(g):(s.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,vm(g=>s.onItemLeave(g))),onFocus:fe(e.onFocus,()=>f(!0)),onBlur:fe(e.onBlur,()=>f(!1))})})})}),Hpe="MenuCheckboxItem",wV=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(kV,{scope:e.__scopeMenu,checked:r,children:o.jsx(W0,{role:"menuitemcheckbox","aria-checked":Nx(r)?"mixed":r,...a,ref:t,"data-state":RP(r),onSelect:fe(a.onSelect,()=>n==null?void 0:n(Nx(r)?!0:!r),{checkForDefaultPrevented:!1})})})});wV.displayName=Hpe;var _V="MenuRadioGroup",[qpe,Gpe]=yu(_V,{value:void 0,onValueChange:()=>{}}),jV=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=gr(n);return o.jsx(qpe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx($P,{...a,ref:t})})});jV.displayName=_V;var SV="MenuRadioItem",NV=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=Gpe(SV,e.__scopeMenu),i=r===a.value;return o.jsx(kV,{scope:e.__scopeMenu,checked:i,children:o.jsx(W0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":RP(i),onSelect:fe(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});NV.displayName=SV;var IP="MenuItemIndicator",[kV,Kpe]=yu(IP,{checked:!1}),CV=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=Kpe(IP,r);return o.jsx(Wr,{present:n||Nx(i.checked)||i.checked===!0,children:o.jsx(Me.span,{...a,ref:t,"data-state":RP(i.checked)})})});CV.displayName=IP;var Ype="MenuSeparator",EV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});EV.displayName=Ype;var Jpe="MenuArrow",PV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=V0(r);return o.jsx(f0,{...a,...n,ref:t})});PV.displayName=Jpe;var Xpe="MenuSub",[Y6e,OV]=yu(Xpe),np="MenuSubTrigger",AV=y.forwardRef((e,t)=>{const r=xu(np,e.__scopeMenu),n=Ng(np,e.__scopeMenu),a=OV(np,e.__scopeMenu),i=TP(np,e.__scopeMenu),s=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),o.jsx(OP,{asChild:!0,...u,children:o.jsx(bV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":$V(r.open),...e,ref:Ns(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,vm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:fe(e.onPointerLeave,vm(f=>{var p,g;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Ape[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});AV.displayName=np;var TV="MenuSubContent",MV=y.forwardRef((e,t)=>{const r=gV(ti,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=xu(ti,e.__scopeMenu),s=Ng(ti,e.__scopeMenu),l=OV(TV,e.__scopeMenu),c=y.useRef(null),u=Ke(t,c);return o.jsx(gm.Provider,{scope:e.__scopeMenu,children:o.jsx(Wr,{present:n||i.open,children:o.jsx(gm.Slot,{scope:e.__scopeMenu,children:o.jsx(MP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;s.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:fe(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,d=>{s.onClose(),d.preventDefault()}),onKeyDown:fe(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Tpe[s.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});MV.displayName=TV;function $V(e){return e?"open":"closed"}function Nx(e){return e==="indeterminate"}function RP(e){return Nx(e)?"indeterminate":e?"checked":"unchecked"}function Qpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function Zpe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function eme(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=Zpe(e,Math.max(i,0));a.length===1&&(s=s.filter(u=>u!==r));const c=s.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function tme(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const l=t[i],c=t[s],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function rme(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return tme(r,t)}function vm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nme=mV,ame=OP,ime=vV,sme=yV,ome=$P,lme=xV,cme=W0,ume=wV,dme=jV,fme=NV,hme=CV,pme=EV,mme=PV,gme=AV,vme=MV,H0="DropdownMenu",[yme]=mn(H0,[hV]),Gn=hV(),[xme,IV]=yme(H0),RV=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,c=Gn(t),u=y.useRef(null),[d,f]=zi({prop:a,defaultProp:i??!1,onChange:s,caller:H0});return o.jsx(xme,{scope:t,triggerId:Di(),triggerRef:u,contentId:Di(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:o.jsx(nme,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};RV.displayName=H0;var DV="DropdownMenuTrigger",LV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=IV(DV,r),s=Gn(r);return o.jsx(ame,{asChild:!0,...s,children:o.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ns(t,i.triggerRef),onPointerDown:fe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:fe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});LV.displayName=DV;var bme="DropdownMenuPortal",FV=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gn(t);return o.jsx(ime,{...n,...r})};FV.displayName=bme;var BV="DropdownMenuContent",UV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=IV(BV,r),i=Gn(r),s=y.useRef(!1);return o.jsx(sme,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,l=>{var c;s.current||(c=a.triggerRef.current)==null||c.focus(),s.current=!1,l.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UV.displayName=BV;var wme="DropdownMenuGroup",_me=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ome,{...a,...n,ref:t})});_me.displayName=wme;var jme="DropdownMenuLabel",zV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(lme,{...a,...n,ref:t})});zV.displayName=jme;var Sme="DropdownMenuItem",VV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(cme,{...a,...n,ref:t})});VV.displayName=Sme;var Nme="DropdownMenuCheckboxItem",WV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(ume,{...a,...n,ref:t})});WV.displayName=Nme;var kme="DropdownMenuRadioGroup",Cme=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(dme,{...a,...n,ref:t})});Cme.displayName=kme;var Eme="DropdownMenuRadioItem",HV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(fme,{...a,...n,ref:t})});HV.displayName=Eme;var Pme="DropdownMenuItemIndicator",qV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(hme,{...a,...n,ref:t})});qV.displayName=Pme;var Ome="DropdownMenuSeparator",GV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(pme,{...a,...n,ref:t})});GV.displayName=Ome;var Ame="DropdownMenuArrow",Tme=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(mme,{...a,...n,ref:t})});Tme.displayName=Ame;var Mme="DropdownMenuSubTrigger",KV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(gme,{...a,...n,ref:t})});KV.displayName=Mme;var $me="DropdownMenuSubContent",YV=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(vme,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});YV.displayName=$me;var Ime=RV,Rme=LV,Dme=FV,JV=UV,XV=zV,QV=VV,ZV=WV,eW=HV,tW=qV,rW=GV,nW=KV,aW=YV;const Lme=Ime,Fme=Rme,Bme=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(nW,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,o.jsx(tf,{className:"ml-auto h-4 w-4"})]}));Bme.displayName=nW.displayName;const Ume=y.forwardRef(({className:e,...t},r)=>o.jsx(aW,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ume.displayName=aW.displayName;const iW=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(Dme,{children:o.jsx(JV,{ref:n,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));iW.displayName=JV.displayName;const yy=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(QV,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));yy.displayName=QV.displayName;const zme=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(ZV,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(tW,{children:o.jsx(iE,{className:"h-4 w-4"})})}),t]}));zme.displayName=ZV.displayName;const Vme=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(eW,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(tW,{children:o.jsx(Q5,{className:"h-2 w-2 fill-current"})})}),t]}));Vme.displayName=eW.displayName;const Wme=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(XV,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Wme.displayName=XV.displayName;const sW=y.forwardRef(({className:e,...t},r)=>o.jsx(rW,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));sW.displayName=rW.displayName;var Hme=Symbol("radix.slottable");function qme(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Hme,t}var oW="AlertDialog",[Gme]=mn(oW,[e8]),So=e8(),lW=e=>{const{__scopeAlertDialog:t,...r}=e,n=So(t);return o.jsx(g8,{...n,...r,modal:!0})};lW.displayName=oW;var Kme="AlertDialogTrigger",Yme=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=So(r);return o.jsx(v8,{...a,...n,ref:t})});Yme.displayName=Kme;var Jme="AlertDialogPortal",cW=e=>{const{__scopeAlertDialog:t,...r}=e,n=So(t);return o.jsx(y8,{...n,...r})};cW.displayName=Jme;var Xme="AlertDialogOverlay",uW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=So(r);return o.jsx(XE,{...a,...n,ref:t})});uW.displayName=Xme;var Md="AlertDialogContent",[Qme,Zme]=Gme(Md),ege=qme("AlertDialogContent"),dW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=So(r),s=y.useRef(null),l=Ke(t,s),c=y.useRef(null);return o.jsx(gle,{contentName:Md,titleName:fW,docsSlug:"alert-dialog",children:o.jsx(Qme,{scope:r,cancelRef:c,children:o.jsxs(QE,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:fe(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[o.jsx(ege,{children:n}),o.jsx(rge,{contentRef:s})]})})})});dW.displayName=Md;var fW="AlertDialogTitle",hW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=So(r);return o.jsx(ZE,{...a,...n,ref:t})});hW.displayName=fW;var pW="AlertDialogDescription",mW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=So(r);return o.jsx(eP,{...a,...n,ref:t})});mW.displayName=pW;var tge="AlertDialogAction",gW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=So(r);return o.jsx(tP,{...a,...n,ref:t})});gW.displayName=tge;var vW="AlertDialogCancel",yW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Zme(vW,r),i=So(r),s=Ke(t,a);return o.jsx(tP,{...i,...n,ref:s})});yW.displayName=vW;var rge=({contentRef:e})=>{const t=`\`${Md}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Md}\` by passing a \`${pW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Md}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},nge=lW,age=cW,xW=uW,bW=dW,wW=gW,_W=yW,jW=hW,SW=mW;const ige=nge,sge=age,NW=y.forwardRef(({className:e,...t},r)=>o.jsx(xW,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));NW.displayName=xW.displayName;const kW=y.forwardRef(({className:e,...t},r)=>o.jsxs(sge,{children:[o.jsx(NW,{}),o.jsx(bW,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kW.displayName=bW.displayName;const CW=({className:e,...t})=>o.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});CW.displayName="AlertDialogHeader";const EW=({className:e,...t})=>o.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});EW.displayName="AlertDialogFooter";const PW=y.forwardRef(({className:e,...t},r)=>o.jsx(jW,{ref:r,className:ve("text-lg font-semibold",e),...t}));PW.displayName=jW.displayName;const OW=y.forwardRef(({className:e,...t},r)=>o.jsx(SW,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));OW.displayName=SW.displayName;const AW=y.forwardRef(({className:e,...t},r)=>o.jsx(wW,{ref:r,className:ve(lm(),e),...t}));AW.displayName=wW.displayName;const TW=y.forwardRef(({className:e,...t},r)=>o.jsx(_W,{ref:r,className:ve(lm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));TW.displayName=_W.displayName;const oge={video:Zt,phone:sa,in_person:Qf},lge={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},cge={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},uge=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:a,compact:i=!1})=>{const s=En(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),p=oge[e.consultation_type],g=lge[e.status],m=cge[e.severity],v=e.status==="pending",b=e.status==="confirmed",x=e.status==="in_progress",w=v||b||x,_=async N=>{h(!0),await N(),h(!1)},S=()=>{s(`/consultation?appointment=${e.id}`)};return i?o.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:o.jsx(p,{className:"w-4 h-4"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground",children:yt(new Date(e.scheduled_at),"h:mm a")})]})]}),o.jsx(Se,{variant:g.variant,className:"text-xs",children:g.label})]}):o.jsxs(o.Fragment,{children:[o.jsx(ie,{className:`transition-all ${x?"ring-2 ring-success/50":""}`,children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:o.jsx(p,{className:"w-5 h-5"})}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("h3",{className:"font-semibold",children:e.patient_name}),o.jsx(Se,{variant:g.variant,children:g.label})]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"MMM d, yyyy")]}),o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Wt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),o.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxs("span",{className:`text-xs font-medium ${m.color}`,children:[e.severity==="severe"&&o.jsx(Wn,{className:"w-3 h-3 inline mr-1"}),m.label]}),o.jsx("span",{className:"text-xs text-muted-foreground",children:""}),o.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),o.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[o.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Confirm"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[o.jsx(Vi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&o.jsxs(Z,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[o.jsx(lE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),x&&o.jsxs(o.Fragment,{children:[o.jsxs(Z,{size:"sm",onClick:S,children:[o.jsx(Zt,{className:"w-4 h-4 mr-1"}),"Join Call"]}),o.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[o.jsx(tn,{className:"w-4 h-4 mr-1"}),"Notes"]}),o.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>_(()=>a(e.id)),disabled:f,children:[o.jsx(Ar,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&o.jsxs(Lme,{children:[o.jsx(Fme,{asChild:!0,children:o.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:o.jsx(tX,{className:"w-4 h-4"})})}),o.jsxs(iW,{align:"end",children:[o.jsxs(yy,{onClick:()=>d(!0),children:[o.jsx(tn,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&o.jsx(yy,{asChild:!0,children:o.jsxs("a",{href:`tel:${e.patient_phone}`,children:[o.jsx(sa,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),o.jsx(sW,{}),o.jsxs(yy,{className:"text-destructive",onClick:()=>c(!0),children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),o.jsx(ige,{open:l,onOpenChange:c,children:o.jsxs(kW,{children:[o.jsxs(CW,{children:[o.jsx(PW,{children:"Cancel Appointment"}),o.jsxs(OW,{children:["Are you sure you want to cancel this appointment with"," ",o.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),o.jsxs(EW,{children:[o.jsx(TW,{children:"Keep Appointment"}),o.jsx(AW,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),o.jsx(PP,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},dge=()=>{const[e,t]=y.useState({start:Gi(new Date,{weekStartsOn:1}),end:T0(new Date,{weekStartsOn:1})}),[r,n]=y.useState(new Date),[a,i]=y.useState("all"),s=a==="all"?void 0:a==="active"?["pending","confirmed","in_progress"]:[a],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=_pe({startDate:e.start,endDate:e.end,status:s}),f=l.reduce((m,v)=>{const b=yt(new Date(v.scheduled_at),"yyyy-MM-dd");return m[b]||(m[b]=[]),m[b].push(v),m},{}),h={total:l.length,pending:l.filter(m=>m.status==="pending").length,confirmed:l.filter(m=>m.status==="confirmed").length,inProgress:l.filter(m=>m.status==="in_progress").length,completed:l.filter(m=>m.status==="completed").length},p=m=>{const v=m==="next"?1:-1;t({start:hm(e.start,v),end:hm(e.end,v)})},g=m=>{const v=new Date(m);return Rce(v)?"Today":Dce(v)?"Tomorrow":yt(v,"EEEE, MMM d")};return c?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(zt,{className:"h-6 w-48"}),o.jsx(zt,{className:"h-4 w-64"})]}),o.jsx(ce,{className:"space-y-4",children:Array.from({length:3}).map((m,v)=>o.jsx(zt,{className:"h-32 w-full"},v))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),o.jsxs(Ce,{children:[yt(e.start,"MMM d")," - ",yt(e.end,"MMM d, yyyy")]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p("prev"),children:" Prev"}),o.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p("next"),children:"Next "}),o.jsx(Z,{variant:"outline",size:"sm",onClick:u,children:o.jsx(co,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[o.jsxs(Se,{variant:"outline",className:"px-3 py-1",children:[o.jsx(Wt,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),o.jsxs(Se,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[o.jsx(Ar,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),o.jsxs(Se,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[o.jsx(gu,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),o.jsxs(Se,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),o.jsxs(ce,{children:[o.jsx(Bl,{value:a,onValueChange:i,className:"mb-6",children:o.jsxs(jo,{children:[o.jsxs($t,{value:"all",children:["All (",h.total,")"]}),o.jsxs($t,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),o.jsxs($t,{value:"pending",children:["Pending (",h.pending,")"]}),o.jsxs($t,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),o.jsx("p",{className:"text-sm",children:a!=="all"?`No ${a} appointments for this week`:"No appointments scheduled for this week"})]}):o.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([m],[v])=>m.localeCompare(v)).map(([m,v])=>o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[o.jsx(Nt,{className:"w-4 h-4"}),g(m),o.jsxs(Se,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),o.jsx("div",{className:"space-y-3",children:v.map(b=>o.jsx(uge,{appointment:b,onConfirm:x=>d(x,"confirmed"),onCancel:x=>d(x,"cancelled"),onStart:x=>d(x,"in_progress"),onComplete:x=>d(x,"completed")},b.id))})]},m))})]})]})},fge=({open:e,onOpenChange:t})=>o.jsx(Li,{open:e,onOpenChange:t,children:o.jsxs(Qa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsx(Za,{children:o.jsx(ei,{children:"Manage Appointments"})}),o.jsx(dge,{})]})}),hge="",pge=()=>{const[e,t]=y.useState(!1),r=async()=>{const{data:{session:s}}=await Oe.auth.getSession();return(s==null?void 0:s.access_token)||null},n=async s=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${hge}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(s)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),ue.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(s,l)=>{const c=await n(s);if(c){const u=atob(c),d=new Array(u.length);for(let m=0;m<u.length;m++)d[m]=u.charCodeAt(m);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),p=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=p,g.download=l||`prescription_${s.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(p),ue.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async s=>{const l=await n(s);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${s.medication_name}`),!0}return!1}}},i$={active:{label:"Active",variant:"default",icon:Ar,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:Vi,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:gu,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:Ar,color:"text-muted-foreground"}},dj=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:a,clinicianHPCSA:i,patientDOB:s,patientIDNumber:l})=>{const c=i$[e.status]||i$.active,u=c.icon,{loading:d,downloadPDF:f}=pge(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:s,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:a,clinician_hpcsa:i,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return o.jsx(ie,{className:"hover:shadow-md transition-shadow",children:o.jsx(ce,{className:"p-3 sm:p-4",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[o.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:o.jsx(Br,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[o.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Br,{className:"w-4 h-4 text-primary"})}),o.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),o.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),o.jsxs(Se,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[o.jsx(u,{className:"w-3 h-3"}),o.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),o.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),o.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),o.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&o.jsxs("div",{children:[o.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),o.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&o.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:o.jsxs("p",{className:"text-xs sm:text-sm",children:[o.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Nt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),yt(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(co,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Vr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&o.jsxs("span",{className:"flex items-center gap-1",children:[o.jsx(Vr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),o.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[o.jsxs(Z,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?o.jsx(bt,{className:"w-4 h-4 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),o.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&o.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[o.jsx(Vi,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},mge=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:a=!1})=>{const{prescriptions:i,loading:s,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=cV(),[d,f]=y.useState(!1),[h,p]=y.useState([]),[g,m]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r){m(!0);const N=await u(r);p(N.prescriptions||[]),m(!1)}else if(e){m(!0);const N=await c(e);p(N.prescriptions||[]),m(!1)}else p(i)})()},[e,r,i,c,u]);const v=async S=>{(await l(S,"cancelled")).success?ue.success("Prescription cancelled"):ue.error("Failed to cancel prescription")},b=h.filter(S=>S.status==="active"),x=h.filter(S=>S.status==="completed"),w=h.filter(S=>S.status==="cancelled"||S.status==="expired");return s||g?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsx(zt,{className:"h-6 w-40"}),o.jsx(zt,{className:"h-4 w-60"})]}),o.jsx(ce,{className:"space-y-4",children:[1,2].map(S=>o.jsx(zt,{className:"h-32 w-full"},S))})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-5 h-5 text-primary"}),o.jsx(we,{children:"Prescriptions"})]}),n&&e&&t&&o.jsxs(Z,{size:"sm",onClick:()=>f(!0),children:[o.jsx(rf,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),o.jsxs(Ce,{children:[h.length," prescription(s)  ",b.length," active"]})]}),o.jsx(ce,{children:o.jsxs(Bl,{defaultValue:"active",className:"w-full",children:[o.jsxs(jo,{className:"grid w-full grid-cols-3 mb-4",children:[o.jsxs($t,{value:"active",className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-4 h-4"}),"Active (",b.length,")"]}),o.jsxs($t,{value:"completed",className:"flex items-center gap-2",children:[o.jsx(Ar,{className:"w-4 h-4"}),"Completed (",x.length,")"]}),o.jsxs($t,{value:"cancelled",className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),o.jsx(lr,{value:"active",className:"space-y-4",children:b.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No active prescriptions"})]}):b.map(S=>o.jsx(dj,{prescription:S,onCancel:v,showPatient:a},S.id))}),o.jsx(lr,{value:"completed",className:"space-y-4",children:x.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Ar,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No completed prescriptions"})]}):x.map(S=>o.jsx(dj,{prescription:S,showPatient:a},S.id))}),o.jsx(lr,{value:"cancelled",className:"space-y-4",children:w.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Vi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(S=>o.jsx(dj,{prescription:S,showPatient:a},S.id))})]})}),e&&t&&o.jsx(uV,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},gge=()=>{const e=En(),[t,r]=EE(),{profile:n,role:a,signOut:i}=Tr(),{queue:s,stats:l,loading:c,refetch:u}=dV(),[d,f]=y.useState(!1),[h,p]=y.useState(!1),[g,m]=y.useState(!1),[v,b]=y.useState(!1),[x,w]=y.useState(!1),[_,S]=y.useState(null);y.useEffect(()=>{const T=t.get("notes");T&&(async()=>{try{const{data:O,error:L}=await Oe.from("appointments").select("id, patient_id").eq("id",T).single();if(L||!O){ue.error("Could not find appointment");return}const{data:$}=await Oe.from("profiles").select("first_name, last_name").eq("id",O.patient_id).single(),F=$?`${$.first_name} ${$.last_name}`.trim():"Patient";S({id:O.id,patientId:O.patient_id,patientName:F}),w(!0),r({})}catch(O){console.error("Error fetching appointment for notes:",O)}})()},[t,r]);const N=()=>{const T=s.find(O=>O.status==="in_progress");if(T){e(`/consultation?appointment=${T.id}`);return}if(s.find(O=>O.status==="confirmed")){ue.info("Select a patient from the queue below to start their consultation");return}ue.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{ue.info("Select a patient from the queue below to access their clinical notes")},C=a==="doctor"?"Doctor":"Nurse",A=a==="doctor"?"bg-primary":"bg-success";return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[o.jsx(co,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),o.jsx(Se,{className:`${A} text-white`,children:C}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:o.jsx(co,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),o.jsx(Se,{className:`${A} text-white text-xs`,children:C}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?o.jsx(wo,{className:"w-5 h-5"}):o.jsx(ug,{className:"w-5 h-5"})})]})]}),v&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),o.jsx("div",{className:"mb-6 sm:mb-8",children:o.jsx(phe,{stats:l,pendingNotes:0})}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>p(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(XJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Appointments"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),a==="nurse"&&o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(Xa,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Triage"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:N,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:o.jsx(Zt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Start Call"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:o.jsx(tn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Notes"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(ZJ,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Demo"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),o.jsx(ie,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>m(!g),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:o.jsx(Br,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Rx"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:o.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[o.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:o.jsx(Nt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-sm sm:text-lg",children:"Availability"}),o.jsx(Ce,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&o.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:o.jsx(mge,{showPatient:!0})}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[o.jsx("div",{className:"lg:col-span-2 order-1",children:o.jsx(hpe,{})}),o.jsx("div",{className:"order-2",children:o.jsx(mpe,{todayAppointments:s})})]}),o.jsx(wpe,{open:d,onOpenChange:f}),o.jsx(fge,{open:h,onOpenChange:p}),_&&o.jsx(PP,{open:x,onOpenChange:T=>{w(T),T||S(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{ue.success("Clinical notes saved successfully"),u()}})]})]})},nN=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));nN.displayName="Table";const aN=y.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));aN.displayName="TableHeader";const iN=y.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));iN.displayName="TableBody";const vge=y.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));vge.displayName="TableFooter";const ap=y.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));ap.displayName="TableRow";const yi=y.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yi.displayName="TableHead";const xi=y.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xi.displayName="TableCell";const yge=y.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));yge.displayName="TableCaption";const xge="",bge=(e=30)=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,s]=y.useState(null),l=y.useCallback(async()=>{a(!0),s(null);try{const{data:{session:c}}=await Oe.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${xge}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),s(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{data:t,loading:n,error:i,refetch:l}},wge=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:Fn,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:Nt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:Zt,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Br,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:Rc,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:Wt,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>o.jsx(ie,{className:"hover:shadow-md transition-shadow",children:o.jsxs(ce,{className:"pt-4 pb-4",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:o.jsx(r.icon,{className:"w-4 h-4"})})}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),o.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),o.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var _ge=Array.isArray,la=_ge,jge=typeof zg=="object"&&zg&&zg.Object===Object&&zg,MW=jge,Sge=MW,Nge=typeof self=="object"&&self&&self.Object===Object&&self,kge=Sge||Nge||Function("return this")(),Ps=kge,Cge=Ps,Ege=Cge.Symbol,kg=Ege,s$=kg,$W=Object.prototype,Pge=$W.hasOwnProperty,Oge=$W.toString,Lh=s$?s$.toStringTag:void 0;function Age(e){var t=Pge.call(e,Lh),r=e[Lh];try{e[Lh]=void 0;var n=!0}catch{}var a=Oge.call(e);return n&&(t?e[Lh]=r:delete e[Lh]),a}var Tge=Age,Mge=Object.prototype,$ge=Mge.toString;function Ige(e){return $ge.call(e)}var Rge=Ige,o$=kg,Dge=Tge,Lge=Rge,Fge="[object Null]",Bge="[object Undefined]",l$=o$?o$.toStringTag:void 0;function Uge(e){return e==null?e===void 0?Bge:Fge:l$&&l$ in Object(e)?Dge(e):Lge(e)}var No=Uge;function zge(e){return e!=null&&typeof e=="object"}var ko=zge,Vge=No,Wge=ko,Hge="[object Symbol]";function qge(e){return typeof e=="symbol"||Wge(e)&&Vge(e)==Hge}var lh=qge,Gge=la,Kge=lh,Yge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jge=/^\w*$/;function Xge(e,t){if(Gge(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Kge(e)?!0:Jge.test(e)||!Yge.test(e)||t!=null&&e in Object(t)}var DP=Xge;function Qge(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var zl=Qge;const ch=kt(zl);var Zge=No,eve=zl,tve="[object AsyncFunction]",rve="[object Function]",nve="[object GeneratorFunction]",ave="[object Proxy]";function ive(e){if(!eve(e))return!1;var t=Zge(e);return t==rve||t==nve||t==tve||t==ave}var LP=ive;const We=kt(LP);var sve=Ps,ove=sve["__core-js_shared__"],lve=ove,fj=lve,c$=function(){var e=/[^.]+$/.exec(fj&&fj.keys&&fj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function cve(e){return!!c$&&c$ in e}var uve=cve,dve=Function.prototype,fve=dve.toString;function hve(e){if(e!=null){try{return fve.call(e)}catch{}try{return e+""}catch{}}return""}var IW=hve,pve=LP,mve=uve,gve=zl,vve=IW,yve=/[\\^$.*+?()[\]{}|]/g,xve=/^\[object .+?Constructor\]$/,bve=Function.prototype,wve=Object.prototype,_ve=bve.toString,jve=wve.hasOwnProperty,Sve=RegExp("^"+_ve.call(jve).replace(yve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nve(e){if(!gve(e)||mve(e))return!1;var t=pve(e)?Sve:xve;return t.test(vve(e))}var kve=Nve;function Cve(e,t){return e==null?void 0:e[t]}var Eve=Cve,Pve=kve,Ove=Eve;function Ave(e,t){var r=Ove(e,t);return Pve(r)?r:void 0}var bu=Ave,Tve=bu,Mve=Tve(Object,"create"),q0=Mve,u$=q0;function $ve(){this.__data__=u$?u$(null):{},this.size=0}var Ive=$ve;function Rve(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dve=Rve,Lve=q0,Fve="__lodash_hash_undefined__",Bve=Object.prototype,Uve=Bve.hasOwnProperty;function zve(e){var t=this.__data__;if(Lve){var r=t[e];return r===Fve?void 0:r}return Uve.call(t,e)?t[e]:void 0}var Vve=zve,Wve=q0,Hve=Object.prototype,qve=Hve.hasOwnProperty;function Gve(e){var t=this.__data__;return Wve?t[e]!==void 0:qve.call(t,e)}var Kve=Gve,Yve=q0,Jve="__lodash_hash_undefined__";function Xve(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Yve&&t===void 0?Jve:t,this}var Qve=Xve,Zve=Ive,eye=Dve,tye=Vve,rye=Kve,nye=Qve;function uh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uh.prototype.clear=Zve;uh.prototype.delete=eye;uh.prototype.get=tye;uh.prototype.has=rye;uh.prototype.set=nye;var aye=uh;function iye(){this.__data__=[],this.size=0}var sye=iye;function oye(e,t){return e===t||e!==e&&t!==t}var FP=oye,lye=FP;function cye(e,t){for(var r=e.length;r--;)if(lye(e[r][0],t))return r;return-1}var G0=cye,uye=G0,dye=Array.prototype,fye=dye.splice;function hye(e){var t=this.__data__,r=uye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():fye.call(t,r,1),--this.size,!0}var pye=hye,mye=G0;function gye(e){var t=this.__data__,r=mye(t,e);return r<0?void 0:t[r][1]}var vye=gye,yye=G0;function xye(e){return yye(this.__data__,e)>-1}var bye=xye,wye=G0;function _ye(e,t){var r=this.__data__,n=wye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var jye=_ye,Sye=sye,Nye=pye,kye=vye,Cye=bye,Eye=jye;function dh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}dh.prototype.clear=Sye;dh.prototype.delete=Nye;dh.prototype.get=kye;dh.prototype.has=Cye;dh.prototype.set=Eye;var K0=dh,Pye=bu,Oye=Ps,Aye=Pye(Oye,"Map"),BP=Aye,d$=aye,Tye=K0,Mye=BP;function $ye(){this.size=0,this.__data__={hash:new d$,map:new(Mye||Tye),string:new d$}}var Iye=$ye;function Rye(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Dye=Rye,Lye=Dye;function Fye(e,t){var r=e.__data__;return Lye(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Y0=Fye,Bye=Y0;function Uye(e){var t=Bye(this,e).delete(e);return this.size-=t?1:0,t}var zye=Uye,Vye=Y0;function Wye(e){return Vye(this,e).get(e)}var Hye=Wye,qye=Y0;function Gye(e){return qye(this,e).has(e)}var Kye=Gye,Yye=Y0;function Jye(e,t){var r=Yye(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Xye=Jye,Qye=Iye,Zye=zye,exe=Hye,txe=Kye,rxe=Xye;function fh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fh.prototype.clear=Qye;fh.prototype.delete=Zye;fh.prototype.get=exe;fh.prototype.has=txe;fh.prototype.set=rxe;var UP=fh,RW=UP,nxe="Expected a function";function zP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(nxe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(zP.Cache||RW),r}zP.Cache=RW;var DW=zP;const axe=kt(DW);var ixe=DW,sxe=500;function oxe(e){var t=ixe(e,function(n){return r.size===sxe&&r.clear(),n}),r=t.cache;return t}var lxe=oxe,cxe=lxe,uxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dxe=/\\(\\)?/g,fxe=cxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(uxe,function(r,n,a,i){t.push(a?i.replace(dxe,"$1"):n||r)}),t}),hxe=fxe;function pxe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var VP=pxe,f$=kg,mxe=VP,gxe=la,vxe=lh,h$=f$?f$.prototype:void 0,p$=h$?h$.toString:void 0;function LW(e){if(typeof e=="string")return e;if(gxe(e))return mxe(e,LW)+"";if(vxe(e))return p$?p$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var yxe=LW,xxe=yxe;function bxe(e){return e==null?"":xxe(e)}var FW=bxe,wxe=la,_xe=DP,jxe=hxe,Sxe=FW;function Nxe(e,t){return wxe(e)?e:_xe(e,t)?[e]:jxe(Sxe(e))}var BW=Nxe,kxe=lh;function Cxe(e){if(typeof e=="string"||kxe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var J0=Cxe,Exe=BW,Pxe=J0;function Oxe(e,t){t=Exe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Pxe(t[r++])];return r&&r==n?e:void 0}var WP=Oxe,Axe=WP;function Txe(e,t,r){var n=e==null?void 0:Axe(e,t);return n===void 0?r:n}var UW=Txe;const Oa=kt(UW);function Mxe(e){return e==null}var $xe=Mxe;const Ze=kt($xe);var Ixe=No,Rxe=la,Dxe=ko,Lxe="[object String]";function Fxe(e){return typeof e=="string"||!Rxe(e)&&Dxe(e)&&Ixe(e)==Lxe}var Bxe=Fxe;const tu=kt(Bxe);var zW={exports:{}},Ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HP=Symbol.for("react.element"),qP=Symbol.for("react.portal"),X0=Symbol.for("react.fragment"),Q0=Symbol.for("react.strict_mode"),Z0=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),Uxe=Symbol.for("react.server_context"),rw=Symbol.for("react.forward_ref"),nw=Symbol.for("react.suspense"),aw=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),sw=Symbol.for("react.lazy"),zxe=Symbol.for("react.offscreen"),VW;VW=Symbol.for("react.module.reference");function ci(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case HP:switch(e=e.type,e){case X0:case Z0:case Q0:case nw:case aw:return e;default:switch(e=e&&e.$$typeof,e){case Uxe:case tw:case rw:case sw:case iw:case ew:return e;default:return t}}case qP:return t}}}Ot.ContextConsumer=tw;Ot.ContextProvider=ew;Ot.Element=HP;Ot.ForwardRef=rw;Ot.Fragment=X0;Ot.Lazy=sw;Ot.Memo=iw;Ot.Portal=qP;Ot.Profiler=Z0;Ot.StrictMode=Q0;Ot.Suspense=nw;Ot.SuspenseList=aw;Ot.isAsyncMode=function(){return!1};Ot.isConcurrentMode=function(){return!1};Ot.isContextConsumer=function(e){return ci(e)===tw};Ot.isContextProvider=function(e){return ci(e)===ew};Ot.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===HP};Ot.isForwardRef=function(e){return ci(e)===rw};Ot.isFragment=function(e){return ci(e)===X0};Ot.isLazy=function(e){return ci(e)===sw};Ot.isMemo=function(e){return ci(e)===iw};Ot.isPortal=function(e){return ci(e)===qP};Ot.isProfiler=function(e){return ci(e)===Z0};Ot.isStrictMode=function(e){return ci(e)===Q0};Ot.isSuspense=function(e){return ci(e)===nw};Ot.isSuspenseList=function(e){return ci(e)===aw};Ot.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===X0||e===Z0||e===Q0||e===nw||e===aw||e===zxe||typeof e=="object"&&e!==null&&(e.$$typeof===sw||e.$$typeof===iw||e.$$typeof===ew||e.$$typeof===tw||e.$$typeof===rw||e.$$typeof===VW||e.getModuleId!==void 0)};Ot.typeOf=ci;zW.exports=Ot;var Vxe=zW.exports,Wxe=No,Hxe=ko,qxe="[object Number]";function Gxe(e){return typeof e=="number"||Hxe(e)&&Wxe(e)==qxe}var WW=Gxe;const Kxe=kt(WW);var Yxe=WW;function Jxe(e){return Yxe(e)&&e!=+e}var Xxe=Jxe;const hh=kt(Xxe);var Bn=function(t){return t===0?0:t>0?1:-1},wc=function(t){return tu(t)&&t.indexOf("%")===t.length-1},he=function(t){return Kxe(t)&&!hh(t)},Qxe=function(t){return Ze(t)},zr=function(t){return he(t)||tu(t)},Zxe=0,wu=function(t){var r=++Zxe;return"".concat(t||"").concat(r)},Un=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(t)&&!tu(t))return n;var i;if(wc(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return hh(i)&&(i=n),a&&i>r&&(i=r),i},Xo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},ebe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Fr=function(t,r){return he(t)&&he(r)?function(n){return t+n*(r-t)}:function(){return r}};function kx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Oa(n,t))===r})}var tbe=function(t,r){return he(t)&&he(r)?t-r:tu(t)&&tu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $d(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function sN(e){"@babel/helpers - typeof";return sN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sN(e)}var rbe=["viewBox","children"],nbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],m$=["points","pathLength"],hj={svg:rbe,polygon:m$,polyline:m$},GP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!ch(n))return null;var a={};return Object.keys(n).forEach(function(i){GP.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},abe=function(t,r,n){return function(a){return t(r,n,a),null}},ru=function(t,r,n){if(!ch(t)||sN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];GP.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=abe(s,r,n))}),a},ibe=["children"],sbe=["children"];function g$(e,t){if(e==null)return{};var r=obe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function obe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oN(e){"@babel/helpers - typeof";return oN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oN(e)}var v$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},to=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},y$=null,pj=null,KP=function e(t){if(t===y$&&Array.isArray(pj))return pj;var r=[];return y.Children.forEach(t,function(n){Ze(n)||(Vxe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),pj=r,y$=t,r};function Aa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return to(a)}):n=[to(t)],KP(e).forEach(function(a){var i=Oa(a,"type.displayName")||Oa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ya(e,t){var r=Aa(e,t);return r&&r[0]}var x$=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!he(n)||n<=0||!he(a)||a<=0)},lbe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cbe=function(t){return t&&t.type&&tu(t.type)&&lbe.indexOf(t.type)>=0},HW=function(t){return t&&oN(t)==="object"&&"clipDot"in t},ube=function(t,r,n,a){var i,s=(i=hj==null?void 0:hj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(a&&s.includes(r)||nbe.includes(r))||n&&GP.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!ch(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;ube((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},lN=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return b$(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!b$(i,s))return!1}return!0},b$=function(t,r){if(Ze(t)&&Ze(r))return!0;if(!Ze(t)&&!Ze(r)){var n=t.props||{},a=n.children,i=g$(n,ibe),s=r.props||{},l=s.children,c=g$(s,sbe);return a&&l?$d(i,c)&&lN(a,l):!a&&!l?$d(i,c):!1}return!1},w$=function(t,r){var n=[],a={};return KP(t).forEach(function(i,s){if(cbe(i))n.push(i);else if(i){var l=to(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,s);n.push(f),a[l]=!0}}}),n},dbe=function(t){var r=t&&t.type;return r&&v$[r]?v$[r]:null},fbe=function(t,r){return KP(r).indexOf(t)},hbe=["children","width","height","viewBox","className","style","title","desc"];function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(this,arguments)}function pbe(e,t){if(e==null)return{};var r=mbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,l=e.title,c=e.desc,u=pbe(e,hbe),d=a||{width:r,height:n,x:0,y:0},f=et("recharts-surface",i);return M.createElement("svg",cN({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var gbe=["children","className"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(this,arguments)}function vbe(e,t){if(e==null)return{};var r=ybe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ybe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=vbe(e,gbe),i=et("recharts-layer",n);return M.createElement("g",dN({className:i},Re(a,!0),{ref:t}),r)}),Fi=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function xbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var bbe=xbe,wbe=bbe;function _be(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:wbe(e,t,r)}var jbe=_be,Sbe="\\ud800-\\udfff",Nbe="\\u0300-\\u036f",kbe="\\ufe20-\\ufe2f",Cbe="\\u20d0-\\u20ff",Ebe=Nbe+kbe+Cbe,Pbe="\\ufe0e\\ufe0f",Obe="\\u200d",Abe=RegExp("["+Obe+Sbe+Ebe+Pbe+"]");function Tbe(e){return Abe.test(e)}var qW=Tbe;function Mbe(e){return e.split("")}var $be=Mbe,GW="\\ud800-\\udfff",Ibe="\\u0300-\\u036f",Rbe="\\ufe20-\\ufe2f",Dbe="\\u20d0-\\u20ff",Lbe=Ibe+Rbe+Dbe,Fbe="\\ufe0e\\ufe0f",Bbe="["+GW+"]",fN="["+Lbe+"]",hN="\\ud83c[\\udffb-\\udfff]",Ube="(?:"+fN+"|"+hN+")",KW="[^"+GW+"]",YW="(?:\\ud83c[\\udde6-\\uddff]){2}",JW="[\\ud800-\\udbff][\\udc00-\\udfff]",zbe="\\u200d",XW=Ube+"?",QW="["+Fbe+"]?",Vbe="(?:"+zbe+"(?:"+[KW,YW,JW].join("|")+")"+QW+XW+")*",Wbe=QW+XW+Vbe,Hbe="(?:"+[KW+fN+"?",fN,YW,JW,Bbe].join("|")+")",qbe=RegExp(hN+"(?="+hN+")|"+Hbe+Wbe,"g");function Gbe(e){return e.match(qbe)||[]}var Kbe=Gbe,Ybe=$be,Jbe=qW,Xbe=Kbe;function Qbe(e){return Jbe(e)?Xbe(e):Ybe(e)}var Zbe=Qbe,e0e=jbe,t0e=qW,r0e=Zbe,n0e=FW;function a0e(e){return function(t){t=n0e(t);var r=t0e(t)?r0e(t):void 0,n=r?r[0]:t.charAt(0),a=r?e0e(r,1).join(""):t.slice(1);return n[e]()+a}}var i0e=a0e,s0e=i0e,o0e=s0e("toUpperCase"),l0e=o0e;const ow=kt(l0e);function Bt(e){return function(){return e}}const ZW=Math.cos,Ex=Math.sin,Qi=Math.sqrt,Px=Math.PI,lw=2*Px,pN=Math.PI,mN=2*pN,cc=1e-6,c0e=mN-cc;function e9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function u0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class d0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e9:u0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-t,u=a-r,d=s-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>cc)if(!(Math.abs(f*c-u*d)>cc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,g=a-l,m=c*c+u*u,v=p*p+g*g,b=Math.sqrt(m),x=Math.sqrt(h),w=i*Math.tan((pN-Math.acos((m+h-v)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>cc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>cc||Math.abs(this._y1-d)>cc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%mN+mN),h>c0e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>cc&&this._append`A${n},${n},0,${+(h>=pN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function YP(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new d0e(t)}function JP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t9(e){this._context=e}t9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cw(e){return new t9(e)}function r9(e){return e[0]}function n9(e){return e[1]}function a9(e,t){var r=Bt(!0),n=null,a=cw,i=null,s=YP(l);e=typeof e=="function"?e:e===void 0?r9:Bt(e),t=typeof t=="function"?t:t===void 0?n9:Bt(t);function l(c){var u,d=(c=JP(c)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Bt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Bt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function wv(e,t,r){var n=null,a=Bt(!0),i=null,s=cw,l=null,c=YP(u);e=typeof e=="function"?e:e===void 0?r9:Bt(+e),t=typeof t=="function"?t:Bt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?n9:Bt(+r);function u(f){var h,p,g,m=(f=JP(f)).length,v,b=!1,x,w=new Array(m),_=new Array(m);for(i==null&&(l=s(x=c())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===b)if(b=!b)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return a9().defined(a).curve(s).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Bt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Bt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Bt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Bt(!!f),u):a},u.curve=function(f){return arguments.length?(s=f,i!=null&&(l=s(i)),u):s},u.context=function(f){return arguments.length?(f==null?i=l=null:l=s(i=f),u):i},u}class i9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function f0e(e){return new i9(e,!0)}function h0e(e){return new i9(e,!1)}const XP={draw(e,t){const r=Qi(t/Px);e.moveTo(r,0),e.arc(0,0,r,0,lw)}},p0e={draw(e,t){const r=Qi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},s9=Qi(1/3),m0e=s9*2,g0e={draw(e,t){const r=Qi(t/m0e),n=r*s9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},v0e={draw(e,t){const r=Qi(t),n=-r/2;e.rect(n,n,r,r)}},y0e=.8908130915292852,o9=Ex(Px/10)/Ex(7*Px/10),x0e=Ex(lw/10)*o9,b0e=-ZW(lw/10)*o9,w0e={draw(e,t){const r=Qi(t*y0e),n=x0e*r,a=b0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=lw*i/5,l=ZW(s),c=Ex(s);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},mj=Qi(3),_0e={draw(e,t){const r=-Qi(t/(mj*3));e.moveTo(0,r*2),e.lineTo(-mj*r,-r),e.lineTo(mj*r,-r),e.closePath()}},Fa=-.5,Ba=Qi(3)/2,gN=1/Qi(12),j0e=(gN/2+1)*3,S0e={draw(e,t){const r=Qi(t/j0e),n=r/2,a=r*gN,i=n,s=r*gN+r,l=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(l,c),e.lineTo(Fa*n-Ba*a,Ba*n+Fa*a),e.lineTo(Fa*i-Ba*s,Ba*i+Fa*s),e.lineTo(Fa*l-Ba*c,Ba*l+Fa*c),e.lineTo(Fa*n+Ba*a,Fa*a-Ba*n),e.lineTo(Fa*i+Ba*s,Fa*s-Ba*i),e.lineTo(Fa*l+Ba*c,Fa*c-Ba*l),e.closePath()}};function N0e(e,t){let r=null,n=YP(a);e=typeof e=="function"?e:Bt(e||XP),t=typeof t=="function"?t:Bt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Bt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Bt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ox(){}function Ax(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function l9(e){this._context=e}l9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ax(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ax(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k0e(e){return new l9(e)}function c9(e){this._context=e}c9.prototype={areaStart:Ox,areaEnd:Ox,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ax(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function C0e(e){return new c9(e)}function u9(e){this._context=e}u9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ax(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E0e(e){return new u9(e)}function d9(e){this._context=e}d9.prototype={areaStart:Ox,areaEnd:Ox,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function P0e(e){return new d9(e)}function _$(e){return e<0?-1:1}function j$(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(_$(i)+_$(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function S$(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,s-l*r,i,s)}function Tx(e){this._context=e}Tx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gj(this,this._t0,S$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gj(this,S$(this,r=j$(this,e,t)),r);break;default:gj(this,this._t0,r=j$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function f9(e){this._context=new h9(e)}(f9.prototype=Object.create(Tx.prototype)).point=function(e,t){Tx.prototype.point.call(this,t,e)};function h9(e){this._context=e}h9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function O0e(e){return new Tx(e)}function A0e(e){return new f9(e)}function p9(e){this._context=e}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=N$(e),a=N$(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function N$(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function T0e(e){return new p9(e)}function uw(e,t){this._context=e,this._t=t}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function M0e(e){return new uw(e,.5)}function $0e(e){return new uw(e,0)}function I0e(e){return new uw(e,1)}function vf(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,l=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function R0e(e,t){return e[t]}function D0e(e){const t=[];return t.key=e,t}function L0e(){var e=Bt([]),t=vN,r=vf,n=R0e;function a(i){var s=Array.from(e.apply(this,arguments),D0e),l,c=s.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(f,s[l].key,u,i)]).data=f;for(l=0,d=JP(t(s));l<c;++l)s[d[l]].index=l;return r(s,d),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Bt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Bt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?vN:typeof i=="function"?i:Bt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??vf,a):r},a}function F0e(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}vf(e,t)}}function B0e(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=e[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}vf(e,t)}}function U0e(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],v=m[n][1]||0,b=m[n-1][1]||0;p+=v-b}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,vf(e,t)}}function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}var z0e=["type","size","sizeType"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function k$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k$(Object(r),!0).forEach(function(n){V0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0e(e,t,r){return t=W0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W0e(e){var t=H0e(e,"string");return ym(t)=="symbol"?t:t+""}function H0e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q0e(e,t){if(e==null)return{};var r=G0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m9={symbolCircle:XP,symbolCross:p0e,symbolDiamond:g0e,symbolSquare:v0e,symbolStar:w0e,symbolTriangle:_0e,symbolWye:S0e},K0e=Math.PI/180,Y0e=function(t){var r="symbol".concat(ow(t));return m9[r]||XP},J0e=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*K0e;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},X0e=function(t,r){m9["symbol".concat(ow(t))]=r},QP=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,l=s===void 0?"area":s,c=q0e(t,z0e),u=C$(C$({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=Y0e(n),b=N0e().type(v).size(J0e(i,l,n));return b()},f=u.className,h=u.cx,p=u.cy,g=Re(u,!0);return h===+h&&p===+p&&i===+i?M.createElement("path",yN({},g,{className:et("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};QP.registerSymbol=X0e;function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xN.apply(this,arguments)}function E$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E$(Object(r),!0).forEach(function(n){xm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ewe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v9(n.key),n)}}function twe(e,t,r){return t&&ewe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rwe(e,t,r){return t=Mx(t),nwe(e,g9()?Reflect.construct(t,r||[],Mx(e).constructor):t.apply(e,r))}function nwe(e,t){if(t&&(yf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return awe(e)}function awe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!e})()}function Mx(e){return Mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mx(e)}function iwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bN(e,t)}function bN(e,t){return bN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bN(e,t)}function xm(e,t,r){return t=v9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=swe(e,"string");return yf(t)=="symbol"?t:t+""}function swe(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ua=32,ZP=function(e){function t(){return Z0e(this,t),rwe(this,t,arguments)}return iwe(t,e),twe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Ua/2,s=Ua/6,l=Ua/3,c=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ua,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ua,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ua/8,"h").concat(Ua,"v").concat(Ua*3/4,"h").concat(-Ua,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=Q0e({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(QP,{fill:c,cx:i,cy:i,size:Ua,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Ua,height:Ua},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,v=et(xm(xm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var b=We(p.value)?null:p.value;Fi(!We(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return M.createElement("li",xN({className:v,style:f,key:"legend-item-".concat(g)},ru(n.props,p,g)),M.createElement(uN,{width:s,height:s,viewBox:d,style:h},n.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},m?m(b,p,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);xm(ZP,"displayName","Legend");xm(ZP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var owe=K0;function lwe(){this.__data__=new owe,this.size=0}var cwe=lwe;function uwe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dwe=uwe;function fwe(e){return this.__data__.get(e)}var hwe=fwe;function pwe(e){return this.__data__.has(e)}var mwe=pwe,gwe=K0,vwe=BP,ywe=UP,xwe=200;function bwe(e,t){var r=this.__data__;if(r instanceof gwe){var n=r.__data__;if(!vwe||n.length<xwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ywe(n)}return r.set(e,t),this.size=r.size,this}var wwe=bwe,_we=K0,jwe=cwe,Swe=dwe,Nwe=hwe,kwe=mwe,Cwe=wwe;function ph(e){var t=this.__data__=new _we(e);this.size=t.size}ph.prototype.clear=jwe;ph.prototype.delete=Swe;ph.prototype.get=Nwe;ph.prototype.has=kwe;ph.prototype.set=Cwe;var y9=ph,Ewe="__lodash_hash_undefined__";function Pwe(e){return this.__data__.set(e,Ewe),this}var Owe=Pwe;function Awe(e){return this.__data__.has(e)}var Twe=Awe,Mwe=UP,$we=Owe,Iwe=Twe;function $x(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Mwe;++t<r;)this.add(e[t])}$x.prototype.add=$x.prototype.push=$we;$x.prototype.has=Iwe;var x9=$x;function Rwe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var b9=Rwe;function Dwe(e,t){return e.has(t)}var w9=Dwe,Lwe=x9,Fwe=b9,Bwe=w9,Uwe=1,zwe=2;function Vwe(e,t,r,n,a,i){var s=r&Uwe,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&zwe?new Lwe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!Fwe(t,function(b,x){if(!Bwe(p,x)&&(g===b||a(g,b,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var _9=Vwe,Wwe=Ps,Hwe=Wwe.Uint8Array,qwe=Hwe;function Gwe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var Kwe=Gwe;function Ywe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eO=Ywe,P$=kg,O$=qwe,Jwe=FP,Xwe=_9,Qwe=Kwe,Zwe=eO,e_e=1,t_e=2,r_e="[object Boolean]",n_e="[object Date]",a_e="[object Error]",i_e="[object Map]",s_e="[object Number]",o_e="[object RegExp]",l_e="[object Set]",c_e="[object String]",u_e="[object Symbol]",d_e="[object ArrayBuffer]",f_e="[object DataView]",A$=P$?P$.prototype:void 0,vj=A$?A$.valueOf:void 0;function h_e(e,t,r,n,a,i,s){switch(r){case f_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case d_e:return!(e.byteLength!=t.byteLength||!i(new O$(e),new O$(t)));case r_e:case n_e:case s_e:return Jwe(+e,+t);case a_e:return e.name==t.name&&e.message==t.message;case o_e:case c_e:return e==t+"";case i_e:var l=Qwe;case l_e:var c=n&e_e;if(l||(l=Zwe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=t_e,s.set(e,t);var d=Xwe(l(e),l(t),n,a,i,s);return s.delete(e),d;case u_e:if(vj)return vj.call(e)==vj.call(t)}return!1}var p_e=h_e;function m_e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var j9=m_e,g_e=j9,v_e=la;function y_e(e,t,r){var n=t(e);return v_e(e)?n:g_e(n,r(e))}var x_e=y_e;function b_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var w_e=b_e;function __e(){return[]}var j_e=__e,S_e=w_e,N_e=j_e,k_e=Object.prototype,C_e=k_e.propertyIsEnumerable,T$=Object.getOwnPropertySymbols,E_e=T$?function(e){return e==null?[]:(e=Object(e),S_e(T$(e),function(t){return C_e.call(e,t)}))}:N_e,P_e=E_e;function O_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var A_e=O_e,T_e=No,M_e=ko,$_e="[object Arguments]";function I_e(e){return M_e(e)&&T_e(e)==$_e}var R_e=I_e,M$=R_e,D_e=ko,S9=Object.prototype,L_e=S9.hasOwnProperty,F_e=S9.propertyIsEnumerable,B_e=M$(function(){return arguments}())?M$:function(e){return D_e(e)&&L_e.call(e,"callee")&&!F_e.call(e,"callee")},tO=B_e,Ix={exports:{}};function U_e(){return!1}var z_e=U_e;Ix.exports;(function(e,t){var r=Ps,n=z_e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Ix,Ix.exports);var N9=Ix.exports,V_e=9007199254740991,W_e=/^(?:0|[1-9]\d*)$/;function H_e(e,t){var r=typeof e;return t=t??V_e,!!t&&(r=="number"||r!="symbol"&&W_e.test(e))&&e>-1&&e%1==0&&e<t}var rO=H_e,q_e=9007199254740991;function G_e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=q_e}var nO=G_e,K_e=No,Y_e=nO,J_e=ko,X_e="[object Arguments]",Q_e="[object Array]",Z_e="[object Boolean]",eje="[object Date]",tje="[object Error]",rje="[object Function]",nje="[object Map]",aje="[object Number]",ije="[object Object]",sje="[object RegExp]",oje="[object Set]",lje="[object String]",cje="[object WeakMap]",uje="[object ArrayBuffer]",dje="[object DataView]",fje="[object Float32Array]",hje="[object Float64Array]",pje="[object Int8Array]",mje="[object Int16Array]",gje="[object Int32Array]",vje="[object Uint8Array]",yje="[object Uint8ClampedArray]",xje="[object Uint16Array]",bje="[object Uint32Array]",Kt={};Kt[fje]=Kt[hje]=Kt[pje]=Kt[mje]=Kt[gje]=Kt[vje]=Kt[yje]=Kt[xje]=Kt[bje]=!0;Kt[X_e]=Kt[Q_e]=Kt[uje]=Kt[Z_e]=Kt[dje]=Kt[eje]=Kt[tje]=Kt[rje]=Kt[nje]=Kt[aje]=Kt[ije]=Kt[sje]=Kt[oje]=Kt[lje]=Kt[cje]=!1;function wje(e){return J_e(e)&&Y_e(e.length)&&!!Kt[K_e(e)]}var _je=wje;function jje(e){return function(t){return e(t)}}var k9=jje,Rx={exports:{}};Rx.exports;(function(e,t){var r=MW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=l})(Rx,Rx.exports);var Sje=Rx.exports,Nje=_je,kje=k9,$$=Sje,I$=$$&&$$.isTypedArray,Cje=I$?kje(I$):Nje,C9=Cje,Eje=A_e,Pje=tO,Oje=la,Aje=N9,Tje=rO,Mje=C9,$je=Object.prototype,Ije=$je.hasOwnProperty;function Rje(e,t){var r=Oje(e),n=!r&&Pje(e),a=!r&&!n&&Aje(e),i=!r&&!n&&!a&&Mje(e),s=r||n||a||i,l=s?Eje(e.length,String):[],c=l.length;for(var u in e)(t||Ije.call(e,u))&&!(s&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tje(u,c)))&&l.push(u);return l}var Dje=Rje,Lje=Object.prototype;function Fje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Lje;return e===r}var Bje=Fje;function Uje(e,t){return function(r){return e(t(r))}}var E9=Uje,zje=E9,Vje=zje(Object.keys,Object),Wje=Vje,Hje=Bje,qje=Wje,Gje=Object.prototype,Kje=Gje.hasOwnProperty;function Yje(e){if(!Hje(e))return qje(e);var t=[];for(var r in Object(e))Kje.call(e,r)&&r!="constructor"&&t.push(r);return t}var Jje=Yje,Xje=LP,Qje=nO;function Zje(e){return e!=null&&Qje(e.length)&&!Xje(e)}var Cg=Zje,e1e=Dje,t1e=Jje,r1e=Cg;function n1e(e){return r1e(e)?e1e(e):t1e(e)}var dw=n1e,a1e=x_e,i1e=P_e,s1e=dw;function o1e(e){return a1e(e,s1e,i1e)}var l1e=o1e,R$=l1e,c1e=1,u1e=Object.prototype,d1e=u1e.hasOwnProperty;function f1e(e,t,r,n,a,i){var s=r&c1e,l=R$(e),c=l.length,u=R$(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var h=l[f];if(!(s?h in t:d1e.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=s?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(m=!1)}return i.delete(e),i.delete(t),m}var h1e=f1e,p1e=bu,m1e=Ps,g1e=p1e(m1e,"DataView"),v1e=g1e,y1e=bu,x1e=Ps,b1e=y1e(x1e,"Promise"),w1e=b1e,_1e=bu,j1e=Ps,S1e=_1e(j1e,"Set"),P9=S1e,N1e=bu,k1e=Ps,C1e=N1e(k1e,"WeakMap"),E1e=C1e,wN=v1e,_N=BP,jN=w1e,SN=P9,NN=E1e,O9=No,mh=IW,D$="[object Map]",P1e="[object Object]",L$="[object Promise]",F$="[object Set]",B$="[object WeakMap]",U$="[object DataView]",O1e=mh(wN),A1e=mh(_N),T1e=mh(jN),M1e=mh(SN),$1e=mh(NN),uc=O9;(wN&&uc(new wN(new ArrayBuffer(1)))!=U$||_N&&uc(new _N)!=D$||jN&&uc(jN.resolve())!=L$||SN&&uc(new SN)!=F$||NN&&uc(new NN)!=B$)&&(uc=function(e){var t=O9(e),r=t==P1e?e.constructor:void 0,n=r?mh(r):"";if(n)switch(n){case O1e:return U$;case A1e:return D$;case T1e:return L$;case M1e:return F$;case $1e:return B$}return t});var I1e=uc,yj=y9,R1e=_9,D1e=p_e,L1e=h1e,z$=I1e,V$=la,W$=N9,F1e=C9,B1e=1,H$="[object Arguments]",q$="[object Array]",_v="[object Object]",U1e=Object.prototype,G$=U1e.hasOwnProperty;function z1e(e,t,r,n,a,i){var s=V$(e),l=V$(t),c=s?q$:z$(e),u=l?q$:z$(t);c=c==H$?_v:c,u=u==H$?_v:u;var d=c==_v,f=u==_v,h=c==u;if(h&&W$(e)){if(!W$(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new yj),s||F1e(e)?R1e(e,t,r,n,a,i):D1e(e,t,c,r,n,a,i);if(!(r&B1e)){var p=d&&G$.call(e,"__wrapped__"),g=f&&G$.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,v=g?t.value():t;return i||(i=new yj),a(m,v,r,n,i)}}return h?(i||(i=new yj),L1e(e,t,r,n,a,i)):!1}var V1e=z1e,W1e=V1e,K$=ko;function A9(e,t,r,n,a){return e===t?!0:e==null||t==null||!K$(e)&&!K$(t)?e!==e&&t!==t:W1e(e,t,r,n,A9,a)}var aO=A9,H1e=y9,q1e=aO,G1e=1,K1e=2;function Y1e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(s&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new H1e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?q1e(d,u,G1e|K1e,n,f):h))return!1}}return!0}var J1e=Y1e,X1e=zl;function Q1e(e){return e===e&&!X1e(e)}var T9=Q1e,Z1e=T9,eSe=dw;function tSe(e){for(var t=eSe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,Z1e(a)]}return t}var rSe=tSe;function nSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var M9=nSe,aSe=J1e,iSe=rSe,sSe=M9;function oSe(e){var t=iSe(e);return t.length==1&&t[0][2]?sSe(t[0][0],t[0][1]):function(r){return r===e||aSe(r,e,t)}}var lSe=oSe;function cSe(e,t){return e!=null&&t in Object(e)}var uSe=cSe,dSe=BW,fSe=tO,hSe=la,pSe=rO,mSe=nO,gSe=J0;function vSe(e,t,r){t=dSe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=gSe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&mSe(a)&&pSe(s,a)&&(hSe(e)||fSe(e)))}var ySe=vSe,xSe=uSe,bSe=ySe;function wSe(e,t){return e!=null&&bSe(e,t,xSe)}var _Se=wSe,jSe=aO,SSe=UW,NSe=_Se,kSe=DP,CSe=T9,ESe=M9,PSe=J0,OSe=1,ASe=2;function TSe(e,t){return kSe(e)&&CSe(t)?ESe(PSe(e),t):function(r){var n=SSe(r,e);return n===void 0&&n===t?NSe(r,e):jSe(t,n,OSe|ASe)}}var MSe=TSe;function $Se(e){return e}var gh=$Se;function ISe(e){return function(t){return t==null?void 0:t[e]}}var RSe=ISe,DSe=WP;function LSe(e){return function(t){return DSe(t,e)}}var FSe=LSe,BSe=RSe,USe=FSe,zSe=DP,VSe=J0;function WSe(e){return zSe(e)?BSe(VSe(e)):USe(e)}var HSe=WSe,qSe=lSe,GSe=MSe,KSe=gh,YSe=la,JSe=HSe;function XSe(e){return typeof e=="function"?e:e==null?KSe:typeof e=="object"?YSe(e)?GSe(e[0],e[1]):qSe(e):JSe(e)}var Os=XSe;function QSe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var $9=QSe;function ZSe(e){return e!==e}var eNe=ZSe;function tNe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var rNe=tNe,nNe=$9,aNe=eNe,iNe=rNe;function sNe(e,t,r){return t===t?iNe(e,t,r):nNe(e,aNe,r)}var oNe=sNe,lNe=oNe;function cNe(e,t){var r=e==null?0:e.length;return!!r&&lNe(e,t,0)>-1}var uNe=cNe;function dNe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var fNe=dNe;function hNe(){}var pNe=hNe,xj=P9,mNe=pNe,gNe=eO,vNe=1/0,yNe=xj&&1/gNe(new xj([,-0]))[1]==vNe?function(e){return new xj(e)}:mNe,xNe=yNe,bNe=x9,wNe=uNe,_Ne=fNe,jNe=w9,SNe=xNe,NNe=eO,kNe=200;function CNe(e,t,r){var n=-1,a=wNe,i=e.length,s=!0,l=[],c=l;if(r)s=!1,a=_Ne;else if(i>=kNe){var u=t?null:SNe(e);if(u)return NNe(u);s=!1,a=jNe,c=new bNe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,s&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var ENe=CNe,PNe=Os,ONe=ENe;function ANe(e,t){return e&&e.length?ONe(e,PNe(t)):[]}var TNe=ANe;const Y$=kt(TNe);function I9(e,t,r){return t===!0?Y$(e,r):We(t)?Y$(e,t):e}function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}var MNe=["ref"];function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(n){fw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D9(n.key),n)}}function INe(e,t,r){return t&&X$(e.prototype,t),r&&X$(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RNe(e,t,r){return t=Dx(t),DNe(e,R9()?Reflect.construct(t,r||[],Dx(e).constructor):t.apply(e,r))}function DNe(e,t){if(t&&(xf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LNe(e)}function LNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!e})()}function Dx(e){return Dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dx(e)}function FNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kN(e,t)}function kN(e,t){return kN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kN(e,t)}function fw(e,t,r){return t=D9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=BNe(e,"string");return xf(t)=="symbol"?t:t+""}function BNe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function UNe(e,t){if(e==null)return{};var r=zNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VNe(e){return e.value}function WNe(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=UNe(t,MNe);return M.createElement(ZP,r)}var Q$=1,ro=function(e){function t(){var r;$Ne(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=RNe(this,t,[].concat(a)),fw(r,"lastBoundingBox",{width:-1,height:-1}),r}return FNe(t,e),INe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Q$||Math.abs(a.height-this.lastBoundingBox.height)>Q$)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Rs(Rs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Rs(Rs({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},WNe(i,Rs(Rs({},this.props),{},{payload:I9(d,u,VNe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Rs(Rs({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&he(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);fw(ro,"displayName","Legend");fw(ro,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Z$=kg,HNe=tO,qNe=la,eI=Z$?Z$.isConcatSpreadable:void 0;function GNe(e){return qNe(e)||HNe(e)||!!(eI&&e&&e[eI])}var KNe=GNe,YNe=j9,JNe=KNe;function L9(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=JNe),a||(a=[]);++i<s;){var l=e[i];t>0&&r(l)?t>1?L9(l,t-1,r,n,a):YNe(a,l):n||(a[a.length]=l)}return a}var F9=L9;function XNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),l=s.length;l--;){var c=s[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var QNe=XNe,ZNe=QNe,eke=ZNe(),tke=eke,rke=tke,nke=dw;function ake(e,t){return e&&rke(e,t,nke)}var B9=ake,ike=Cg;function ske(e,t){return function(r,n){if(r==null)return r;if(!ike(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var oke=ske,lke=B9,cke=oke,uke=cke(lke),iO=uke,dke=iO,fke=Cg;function hke(e,t){var r=-1,n=fke(e)?Array(e.length):[];return dke(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var U9=hke;function pke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var mke=pke,tI=lh;function gke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=tI(e),s=t!==void 0,l=t===null,c=t===t,u=tI(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||n&&s&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}var vke=gke,yke=vke;function xke(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++n<s;){var c=yke(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var bke=xke,bj=VP,wke=WP,_ke=Os,jke=U9,Ske=mke,Nke=k9,kke=bke,Cke=gh,Eke=la;function Pke(e,t,r){t.length?t=bj(t,function(i){return Eke(i)?function(s){return wke(s,i.length===1?i[0]:i)}:i}):t=[Cke];var n=-1;t=bj(t,Nke(_ke));var a=jke(e,function(i,s,l){var c=bj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Ske(a,function(i,s){return kke(i,s,r)})}var Oke=Pke;function Ake(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Tke=Ake,Mke=Tke,rI=Math.max;function $ke(e,t,r){return t=rI(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=rI(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(s),Mke(e,this,l)}}var Ike=$ke;function Rke(e){return function(){return e}}var Dke=Rke,Lke=bu,Fke=function(){try{var e=Lke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),z9=Fke,Bke=Dke,nI=z9,Uke=gh,zke=nI?function(e,t){return nI(e,"toString",{configurable:!0,enumerable:!1,value:Bke(t),writable:!0})}:Uke,Vke=zke,Wke=800,Hke=16,qke=Date.now;function Gke(e){var t=0,r=0;return function(){var n=qke(),a=Hke-(n-r);if(r=n,a>0){if(++t>=Wke)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Kke=Gke,Yke=Vke,Jke=Kke,Xke=Jke(Yke),Qke=Xke,Zke=gh,eCe=Ike,tCe=Qke;function rCe(e,t){return tCe(eCe(e,t,Zke),e+"")}var nCe=rCe,aCe=FP,iCe=Cg,sCe=rO,oCe=zl;function lCe(e,t,r){if(!oCe(r))return!1;var n=typeof t;return(n=="number"?iCe(r)&&sCe(t,r.length):n=="string"&&t in r)?aCe(r[t],e):!1}var hw=lCe,cCe=F9,uCe=Oke,dCe=nCe,aI=hw,fCe=dCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&aI(e,t[0],t[1])?t=[]:r>2&&aI(t[0],t[1],t[2])&&(t=[t[0]]),uCe(e,cCe(t,1),[])}),hCe=fCe;const sO=kt(hCe);function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function pCe(e,t){return yCe(e)||vCe(e,t)||gCe(e,t)||mCe()}function mCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gCe(e,t){if(e){if(typeof e=="string")return iI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(e,t)}}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function yCe(e){if(Array.isArray(e))return e}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){xCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xCe(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return bm(t)=="symbol"?t:t+""}function wCe(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ce(e){return Array.isArray(e)&&zr(e[0])&&zr(e[1])?e.join(" ~ "):e}var jCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,l=s===void 0?{}:s,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?sO(d,h):d).map(function($,F){if($.type==="none")return null;var V=wj({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),z=$.formatter||f||_Ce,R=$.value,U=$.name,K=R,re=U;if(z&&K!=null&&re!=null){var Q=z(R,U,$,F,d);if(Array.isArray(Q)){var j=pCe(Q,2);K=j[0],re=j[1]}else K=Q}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:V},zr(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,zr(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},K),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=wj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=wj({margin:0},u),N=!Ze(m),k=N?m:"",C=et("recharts-default-tooltip",p),A=et("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(k=v(m,d));var T=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",CN({className:C,style:_},T),M.createElement("p",{className:A,style:S},M.isValidElement(k)?k:"".concat(k)),w())};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function jv(e,t,r){return t=SCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SCe(e){var t=NCe(e,"string");return wm(t)=="symbol"?t:t+""}function NCe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fh="recharts-tooltip-wrapper",kCe={visibility:"hidden"};function CCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return et(Fh,jv(jv(jv(jv({},"".concat(Fh,"-right"),he(r)&&t&&he(t.x)&&r>=t.x),"".concat(Fh,"-left"),he(r)&&t&&he(t.x)&&r<t.x),"".concat(Fh,"-bottom"),he(n)&&t&&he(t.y)&&n>=t.y),"".concat(Fh,"-top"),he(n)&&t&&he(t.y)&&n<t.y))}function oI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&he(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return s[n]?d:f;if(s[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function ECe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function PCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return s.height>0&&s.width>0&&r?(d=oI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=oI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=ECe({translateX:d,translateY:f,useTranslate3d:l})):u=kCe,{cssProperties:u,cssClasses:CCe({translateX:d,translateY:f,coordinate:r})}}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){PN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ACe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W9(n.key),n)}}function TCe(e,t,r){return t&&ACe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MCe(e,t,r){return t=Lx(t),$Ce(e,V9()?Reflect.construct(t,r||[],Lx(e).constructor):t.apply(e,r))}function $Ce(e,t){if(t&&(bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(e)}function ICe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!e})()}function Lx(e){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lx(e)}function RCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&EN(e,t)}function EN(e,t){return EN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EN(e,t)}function PN(e,t,r){return t=W9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W9(e){var t=DCe(e,"string");return bf(t)=="symbol"?t:t+""}function DCe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uI=1,LCe=function(e){function t(){var r;OCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MCe(this,t,[].concat(a)),PN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),PN(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return RCe(t,e),TCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>uI||Math.abs(n.height-this.state.lastBoundingBox.height)>uI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=PCe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,S=w.cssProperties,N=cI(cI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(C){n.wrapperNode=C}},u)}}])}(y.PureComponent),FCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Vl={isSsr:FCe()};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){oO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q9(n.key),n)}}function zCe(e,t,r){return t&&UCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VCe(e,t,r){return t=Fx(t),WCe(e,H9()?Reflect.construct(t,r||[],Fx(e).constructor):t.apply(e,r))}function WCe(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HCe(e)}function HCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H9=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fx(e)}function qCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ON(e,t)}function ON(e,t){return ON=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ON(e,t)}function oO(e,t,r){return t=q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=GCe(e,"string");return wf(t)=="symbol"?t:t+""}function GCe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KCe(e){return e.dataKey}function YCe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(jCe,t)}var ba=function(e){function t(){return BCe(this,t),VCe(this,t,arguments)}return qCe(t,e),zCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=I9(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,KCe));var N=S.length>0;return M.createElement(LCe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},YCe(u,fI(fI({},this.props),{},{payload:S})))}}])}(y.PureComponent);oO(ba,"displayName","Tooltip");oO(ba,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Vl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var JCe=Ps,XCe=function(){return JCe.Date.now()},QCe=XCe,ZCe=/\s/;function eEe(e){for(var t=e.length;t--&&ZCe.test(e.charAt(t)););return t}var tEe=eEe,rEe=tEe,nEe=/^\s+/;function aEe(e){return e&&e.slice(0,rEe(e)+1).replace(nEe,"")}var iEe=aEe,sEe=iEe,hI=zl,oEe=lh,pI=NaN,lEe=/^[-+]0x[0-9a-f]+$/i,cEe=/^0b[01]+$/i,uEe=/^0o[0-7]+$/i,dEe=parseInt;function fEe(e){if(typeof e=="number")return e;if(oEe(e))return pI;if(hI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sEe(e);var r=cEe.test(e);return r||uEe.test(e)?dEe(e.slice(2),r?2:8):lEe.test(e)?pI:+e}var G9=fEe,hEe=zl,_j=QCe,mI=G9,pEe="Expected a function",mEe=Math.max,gEe=Math.min;function vEe(e,t,r){var n,a,i,s,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(pEe);t=mI(t)||0,hEe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?mEe(mI(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var k=n,C=a;return n=a=void 0,u=N,s=e.apply(C,k),s}function g(N){return u=N,l=setTimeout(b,t),d?p(N):s}function m(N){var k=N-c,C=N-u,A=t-k;return f?gEe(A,i-C):A}function v(N){var k=N-c,C=N-u;return c===void 0||k>=t||k<0||f&&C>=i}function b(){var N=_j();if(v(N))return x(N);l=setTimeout(b,m(N))}function x(N){return l=void 0,h&&n?p(N):(n=a=void 0,s)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?s:x(_j())}function S(){var N=_j(),k=v(N);if(n=arguments,a=this,c=N,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),p(c)}return l===void 0&&(l=setTimeout(b,t)),s}return S.cancel=w,S.flush=_,S}var yEe=vEe,xEe=yEe,bEe=zl,wEe="Expected a function";function _Ee(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(wEe);return bEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),xEe(e,t,{leading:n,maxWait:t,trailing:a})}var jEe=_Ee;const K9=kt(jEe);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){SEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SEe(e,t,r){return t=NEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NEe(e){var t=kEe(e,"string");return _m(t)=="symbol"?t:t+""}function kEe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CEe(e,t){return AEe(e)||OEe(e,t)||PEe(e,t)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PEe(e,t){if(e){if(typeof e=="string")return vI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vI(e,t)}}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function AEe(e){if(Array.isArray(e))return e}var pw=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,S=y.useRef(null),N=y.useRef();N.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=y.useState({containerWidth:a.width,containerHeight:a.height}),C=CEe(k,2),A=C[0],T=C[1],I=y.useCallback(function(L,$){T(function(F){var V=Math.round(L),z=Math.round($);return F.containerWidth===V&&F.containerHeight===z?F:{containerWidth:V,containerHeight:z}})},[]);y.useEffect(function(){var L=function(U){var K,re=U[0].contentRect,Q=re.width,j=re.height;I(Q,j),(K=N.current)===null||K===void 0||K.call(N,Q,j)};m>0&&(L=K9(L,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),F=S.current.getBoundingClientRect(),V=F.width,z=F.height;return I(V,z),$.observe(S.current),function(){$.disconnect()}},[I,m]);var O=y.useMemo(function(){var L=A.containerWidth,$=A.containerHeight;if(L<0||$<0)return null;Fi(wc(s)||wc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),Fi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=wc(s)?L:s,V=wc(c)?$:c;r&&r>0&&(F?V=F/r:V&&(F=V*r),h&&V>h&&(V=h)),Fi(F>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,V,s,c,d,f,r);var z=!Array.isArray(p)&&to(p.type).endsWith("Chart");return M.Children.map(p,function(R){return M.isValidElement(R)?y.cloneElement(R,Sv({width:F,height:V},z?{style:Sv({height:"100%",width:"100%",maxHeight:V,maxWidth:F},R.props.style)}:{})):R})},[r,p,c,h,f,d,A,s]);return M.createElement("div",{id:v?"".concat(v):void 0,className:et("recharts-responsive-container",b),style:Sv(Sv({},_),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),Eg=function(t){return null};Eg.displayName="Cell";function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){TEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TEe(e,t,r){return t=MEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MEe(e){var t=$Ee(e,"string");return jm(t)=="symbol"?t:t+""}function $Ee(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vu={widthCache:{},cacheCount:0},IEe=2e3,REe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xI="recharts_measurement_span";function DEe(e){var t=AN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Sp=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Vl.isSsr)return{width:0,height:0};var n=DEe(r),a=JSON.stringify({text:t,copyStyle:n});if(Vu.widthCache[a])return Vu.widthCache[a];try{var i=document.getElementById(xI);i||(i=document.createElement("span"),i.setAttribute("id",xI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=AN(AN({},REe),n);Object.assign(i.style,s),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Vu.widthCache[a]=c,++Vu.cacheCount>IEe&&(Vu.cacheCount=0,Vu.widthCache={}),c}catch{return{width:0,height:0}}},LEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function Bx(e,t){return zEe(e)||UEe(e,t)||BEe(e,t)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BEe(e,t){if(e){if(typeof e=="string")return bI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bI(e,t)}}function bI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function zEe(e){if(Array.isArray(e))return e}function VEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HEe(n.key),n)}}function WEe(e,t,r){return t&&wI(e.prototype,t),r&&wI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HEe(e){var t=qEe(e,"string");return Sm(t)=="symbol"?t:t+""}function qEe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,KEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Y9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YEe=Object.keys(Y9),md="NaN";function JEe(e,t){return e*Y9[t]}var Nv=function(){function e(t,r){VEe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!GEe.test(r)&&(this.num=NaN,this.unit=""),YEe.includes(r)&&(this.num=JEe(t,r),this.unit="px")}return WEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=KEe.exec(r))!==null&&n!==void 0?n:[],i=Bx(a,3),s=i[1],l=i[2];return new e(parseFloat(s),l??"")}}])}();function J9(e){if(e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_I.exec(t))!==null&&r!==void 0?r:[],a=Bx(n,4),i=a[1],s=a[2],l=a[3],c=Nv.parse(i??""),u=Nv.parse(l??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return md;t=t.replace(_I,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=jI.exec(t))!==null&&f!==void 0?f:[],p=Bx(h,4),g=p[1],m=p[2],v=p[3],b=Nv.parse(g??""),x=Nv.parse(v??""),w=m==="+"?b.add(x):b.subtract(x);if(w.isNaN())return md;t=t.replace(jI,w.toString())}return t}var SI=/\(([^()]*)\)/;function XEe(e){for(var t=e;t.includes("(");){var r=SI.exec(t),n=Bx(r,2),a=n[1];t=t.replace(SI,J9(a))}return t}function QEe(e){var t=e.replace(/\s+/g,"");return t=XEe(t),t=J9(t),t}function ZEe(e){try{return QEe(e)}catch{return md}}function jj(e){var t=ZEe(e.slice(5,-1));return t===md?"":t}var ePe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tPe=["dx","dy","angle","className","breakAll"];function TN(){return TN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TN.apply(this,arguments)}function NI(e,t){if(e==null)return{};var r=rPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kI(e,t){return sPe(e)||iPe(e,t)||aPe(e,t)||nPe()}function nPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aPe(e,t){if(e){if(typeof e=="string")return CI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CI(e,t)}}function CI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function sPe(e){if(Array.isArray(e))return e}var X9=/[ \f\n\r\t\v\u2028\u2029]+/,Q9=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ze(r)||(n?i=r.toString().split(""):i=r.toString().split(X9));var s=i.map(function(c){return{word:c,width:Sp(c,a).width}}),l=n?0:Sp("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},oPe=function(t,r,n,a,i){var s=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=he(s),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(V,z){var R=z.word,U=z.width,K=V[V.length-1];if(K&&(a==null||i||K.width+U+n<Number(a)))K.words.push(R),K.width+=U+n;else{var re={words:[R],width:U};V.push(re)}return V},[])},p=h(r),g=function(F){return F.reduce(function(V,z){return V.width>z.width?V:z})};if(!d)return p;for(var m="",v=function(F){var V=f.slice(0,F),z=Q9({breakAll:u,style:c,children:V+m}).wordsWithComputedWidth,R=h(z),U=R.length>s||g(R).width>Number(a);return[U,R]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var S=Math.floor((b+x)/2),N=S-1,k=v(N),C=kI(k,2),A=C[0],T=C[1],I=v(S),O=kI(I,1),L=O[0];if(!A&&!L&&(b=S+1),A&&L&&(x=S-1),!A&&L){_=T;break}w++}return _||p},EI=function(t){var r=Ze(t)?[]:t.toString().split(X9);return[{words:r}]},lPe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,l=t.maxLines;if((r||n)&&!Vl.isSsr){var c,u,d=Q9({breakAll:s,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return EI(a);return oPe({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return EI(a)},PI="#808080",nu=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,l=s===void 0?"1em":s,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,b=v===void 0?PI:v,x=NI(t,ePe),w=y.useMemo(function(){return lPe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,S=x.dy,N=x.angle,k=x.className,C=x.breakAll,A=NI(x,tPe);if(!zr(n)||!zr(i))return null;var T=n+(he(_)?_:0),I=i+(he(S)?S:0),O;switch(m){case"start":O=jj("calc(".concat(u,")"));break;case"middle":O=jj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=jj("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var $=w[0].width,F=x.width;L.push("scale(".concat((he(F)?F/$:1)/$,")"))}return N&&L.push("rotate(".concat(N,", ").concat(T,", ").concat(I,")")),L.length&&(A.transform=L.join(" ")),M.createElement("text",TN({},Re(A,!0),{x:T,y:I,className:et("recharts-text",k),textAnchor:p,fill:b.includes("url")?PI:b}),w.map(function(V,z){var R=V.words.join(C?"":" ");return M.createElement("tspan",{x:T,dy:z===0?O:l,key:"".concat(R,"-").concat(z)},R)}))};function wl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function cPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function lO(e){let t,r,n;e.length!==2?(t=wl,r=(l,c)=>wl(e(l),c),n=(l,c)=>e(l)-c):(t=e===wl||e===cPe?e:uPe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:s,right:i}}function uPe(){return 0}function Z9(e){return e===null?NaN:+e}function*dPe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const fPe=lO(wl),Pg=fPe.right;lO(Z9).center;class OI extends Map{constructor(t,r=mPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(AI(this,t))}has(t){return super.has(AI(this,t))}set(t,r){return super.set(hPe(this,t),r)}delete(t){return super.delete(pPe(this,t))}}function AI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function hPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function pPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function mPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function gPe(e=wl){if(e===wl)return eH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function eH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const vPe=Math.sqrt(50),yPe=Math.sqrt(10),xPe=Math.sqrt(2);function Ux(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=vPe?10:i>=yPe?5:i>=xPe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ux(e,t,r*2):[l,c,u]}function MN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Ux(t,e,r):Ux(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function $N(e,t,r){return t=+t,e=+e,r=+r,Ux(e,t,r)[2]}function IN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?$N(t,e,r):$N(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function TI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function tH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?eH:gPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));tH(e,t,p,g,a)}const i=e[t];let s=r,l=n;for(Bh(e,r,t),a(e[n],i)>0&&Bh(e,r,n);s<l;){for(Bh(e,s,l),++s,--l;a(e[s],i)<0;)++s;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Bh(e,r,l):(++l,Bh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Bh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function bPe(e,t,r){if(e=Float64Array.from(dPe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MI(e);if(t>=1)return TI(e);var n,a=(n-1)*t,i=Math.floor(a),s=TI(tH(e,i).subarray(0,i+1)),l=MI(e.subarray(i+1));return s+(l-s)*(a-i)}}function wPe(e,t,r=Z9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return s+(l-s)*(a-i)}}function _Pe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ui(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Co(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RN=Symbol("implicit");function cO(){var e=new OI,t=[],r=[],n=RN;function a(i){let s=e.get(i);if(s===void 0){if(n!==RN)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new OI;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return cO(t,r).unknown(n)},ui.apply(a,arguments),a}function Nm(){var e=cO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,s=i*(1-c),l&&(g=Math.round(g),s=Math.round(s));var v=_Pe(h).map(function(b){return g+i*b});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Nm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ui.apply(f(),arguments)}function rH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return rH(t())},e}function Np(){return rH(Nm.apply(null,arguments).paddingInner(1))}function uO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function nH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Og(){}var km=.7,zx=1/km,Id="\\s*([+-]?\\d+)\\s*",Cm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jPe=/^#([0-9a-f]{3,8})$/,SPe=new RegExp(`^rgb\\(${Id},${Id},${Id}\\)$`),NPe=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),kPe=new RegExp(`^rgba\\(${Id},${Id},${Id},${Cm}\\)$`),CPe=new RegExp(`^rgba\\(${xs},${xs},${xs},${Cm}\\)$`),EPe=new RegExp(`^hsl\\(${Cm},${xs},${xs}\\)$`),PPe=new RegExp(`^hsla\\(${Cm},${xs},${xs},${Cm}\\)$`),$I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uO(Og,Em,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:II,formatHex:II,formatHex8:OPe,formatHsl:APe,formatRgb:RI,toString:RI});function II(){return this.rgb().formatHex()}function OPe(){return this.rgb().formatHex8()}function APe(){return aH(this).formatHsl()}function RI(){return this.rgb().formatRgb()}function Em(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=jPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?DI(t):r===3?new ta(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=SPe.exec(e))?new ta(t[1],t[2],t[3],1):(t=NPe.exec(e))?new ta(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=kPe.exec(e))?kv(t[1],t[2],t[3],t[4]):(t=CPe.exec(e))?kv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=EPe.exec(e))?BI(t[1],t[2]/100,t[3]/100,1):(t=PPe.exec(e))?BI(t[1],t[2]/100,t[3]/100,t[4]):$I.hasOwnProperty(e)?DI($I[e]):e==="transparent"?new ta(NaN,NaN,NaN,0):null}function DI(e){return new ta(e>>16&255,e>>8&255,e&255,1)}function kv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ta(e,t,r,n)}function TPe(e){return e instanceof Og||(e=Em(e)),e?(e=e.rgb(),new ta(e.r,e.g,e.b,e.opacity)):new ta}function DN(e,t,r,n){return arguments.length===1?TPe(e):new ta(e,t,r,n??1)}function ta(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}uO(ta,DN,nH(Og,{brighter(e){return e=e==null?zx:Math.pow(zx,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?km:Math.pow(km,e),new ta(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ta(Dc(this.r),Dc(this.g),Dc(this.b),Vx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LI,formatHex:LI,formatHex8:MPe,formatRgb:FI,toString:FI}));function LI(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}`}function MPe(){return`#${_c(this.r)}${_c(this.g)}${_c(this.b)}${_c((isNaN(this.opacity)?1:this.opacity)*255)}`}function FI(){const e=Vx(this.opacity);return`${e===1?"rgb(":"rgba("}${Dc(this.r)}, ${Dc(this.g)}, ${Dc(this.b)}${e===1?")":`, ${e})`}`}function Vx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _c(e){return e=Dc(e),(e<16?"0":"")+e.toString(16)}function BI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $i(e,t,r,n)}function aH(e){if(e instanceof $i)return new $i(e.h,e.s,e.l,e.opacity);if(e instanceof Og||(e=Em(e)),!e)return new $i;if(e instanceof $i)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(t===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-t)/l+2:s=(t-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new $i(s,l,c,e.opacity)}function $Pe(e,t,r,n){return arguments.length===1?aH(e):new $i(e,t,r,n??1)}function $i(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}uO($i,$Pe,nH(Og,{brighter(e){return e=e==null?zx:Math.pow(zx,e),new $i(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?km:Math.pow(km,e),new $i(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ta(Sj(e>=240?e-240:e+120,a,n),Sj(e,a,n),Sj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new $i(UI(this.h),Cv(this.s),Cv(this.l),Vx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vx(this.opacity);return`${e===1?"hsl(":"hsla("}${UI(this.h)}, ${Cv(this.s)*100}%, ${Cv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UI(e){return e=(e||0)%360,e<0?e+360:e}function Cv(e){return Math.max(0,Math.min(1,e||0))}function Sj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const dO=e=>()=>e;function IPe(e,t){return function(r){return e+r*t}}function RPe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DPe(e){return(e=+e)==1?iH:function(t,r){return r-t?RPe(t,r,e):dO(isNaN(t)?r:t)}}function iH(e,t){var r=t-e;return r?IPe(e,r):dO(isNaN(e)?t:e)}const zI=function e(t){var r=DPe(t);function n(a,i){var s=r((a=DN(a)).r,(i=DN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=iH(a.opacity,i.opacity);return function(d){return a.r=s(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function LPe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function FPe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BPe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=vh(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function UPe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zPe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var LN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nj=new RegExp(LN.source,"g");function VPe(e){return function(){return e}}function WPe(e){return function(t){return e(t)+""}}function HPe(e,t){var r=LN.lastIndex=Nj.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(e=e+"",t=t+"";(n=LN.exec(e))&&(a=Nj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:Wx(n,a)})),r=Nj.lastIndex;return r<t.length&&(i=t.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?WPe(c[0].x):VPe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function vh(e,t){var r=typeof t,n;return t==null||r==="boolean"?dO(t):(r==="number"?Wx:r==="string"?(n=Em(t))?(t=n,zI):HPe:t instanceof Em?zI:t instanceof Date?UPe:FPe(t)?LPe:Array.isArray(t)?BPe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zPe:Wx)(e,t)}function fO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function qPe(e,t){t===void 0&&(t=e,e=vh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function GPe(e){return function(){return e}}function Hx(e){return+e}var VI=[0,1];function zn(e){return e}function FN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:GPe(isNaN(t)?NaN:.5)}function KPe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function YPe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=FN(a,n),i=r(s,i)):(n=FN(n,a),i=r(i,s)),function(l){return i(n(l))}}function JPe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=FN(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(l){var c=Pg(e,l,1,n)-1;return i[c](a[c](l))}}function Ag(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mw(){var e=VI,t=VI,r=vh,n,a,i,s=zn,l,c,u;function d(){var h=Math.min(e.length,t.length);return s!==zn&&(s=KPe(e[0],e[h-1])),l=h>2?JPe:YPe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((u||(u=l(t,e.map(n),Wx)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hx),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=fO,d()},f.clamp=function(h){return arguments.length?(s=h?!0:zn,d()):s!==zn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function hO(){return mw()(zn,zn)}function XPe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qx(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function _f(e){return e=qx(Math.abs(e)),e?e[1]:NaN}function QPe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[s=(s+1)%e.length];return i.reverse().join(t)}}function ZPe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var eOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pm(e){if(!(t=eOe.exec(e)))throw new Error("invalid format: "+e);var t;return new pO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pm.prototype=pO.prototype;function pO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Gx;function rOe(e,t){var r=qx(e,t);if(!r)return Gx=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Gx=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+qx(e,Math.max(0,t+i-1))[0]}function WI(e,t){var r=qx(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const HI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:XPe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WI(e*100,t),r:WI,s:rOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qI(e){return e}var GI=Array.prototype.map,KI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nOe(e){var t=e.grouping===void 0||e.thousands===void 0?qI:QPe(GI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?qI:ZPe(GI.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Pm(f);var p=f.fill,g=f.align,m=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,S=f.trim,N=f.type;N==="n"?(w=!0,N="g"):HI[N]||(_===void 0&&(_=12),S=!0,N="g"),(b||p==="0"&&g==="=")&&(b=!0,p="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),C=(v==="$"?n:/[%p]/.test(N)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),A=HI[N],T=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var L=k,$=C,F,V,z;if(N==="c")$=A(O)+$,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),_),S&&(O=tOe(O)),R&&+O==0&&m!=="+"&&(R=!1),L=(R?m==="("?m:l:m==="-"||m==="("?"":m)+L,$=(N==="s"&&!isNaN(O)&&Gx!==void 0?KI[8+Gx/3]:"")+$+(R&&m==="("?")":""),T){for(F=-1,V=O.length;++F<V;)if(z=O.charCodeAt(F),48>z||z>57){$=(z===46?a+O.slice(F+1):O.slice(F))+$,O=O.slice(0,F);break}}}w&&!b&&(O=t(O,1/0));var U=L.length+O.length+$.length,K=U<x?new Array(x-U+1).join(p):"";switch(w&&b&&(O=t(K+O,K.length?x-$.length:1/0),K=""),g){case"<":O=L+O+$+K;break;case"=":O=L+K+O+$;break;case"^":O=K.slice(0,U=K.length>>1)+L+O+$+K.slice(U);break;default:O=K+L+O+$;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var p=Math.max(-8,Math.min(8,Math.floor(_f(h)/3)))*3,g=Math.pow(10,-p),m=u((f=Pm(f),f.type="f",f),{suffix:KI[8+p/3]});return function(v){return m(g*v)}}return{format:u,formatPrefix:d}}var Ev,mO,sH;aOe({thousands:",",grouping:[3],currency:["$",""]});function aOe(e){return Ev=nOe(e),mO=Ev.format,sH=Ev.formatPrefix,Ev}function iOe(e){return Math.max(0,-_f(Math.abs(e)))}function sOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_f(t)/3)))*3-_f(Math.abs(e)))}function oOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_f(t)-_f(e))+1}function oH(e,t,r,n){var a=IN(e,t,r),i;switch(n=Pm(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=sOe(a,s))&&(n.precision=i),sH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=oOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=iOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return mO(n)}function Wl(e){var t=e.domain;return e.ticks=function(r){var n=t();return MN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return oH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,d=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=$N(s,l,r),u===c)return n[a]=s,n[i]=l,t(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Kx(){var e=hO();return e.copy=function(){return Ag(e,Kx())},ui.apply(e,arguments),Wl(e)}function lH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return lH(e).unknown(t)},e=arguments.length?Array.from(e,Hx):[0,1],Wl(r)}function cH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function YI(e){return Math.log(e)}function JI(e){return Math.exp(e)}function lOe(e){return-Math.log(-e)}function cOe(e){return-Math.exp(-e)}function uOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function dOe(e){return e===10?uOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function fOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XI(e){return(t,r)=>-e(-t,r)}function gO(e){const t=e(YI,JI),r=t.domain;let n=10,a,i;function s(){return a=fOe(n),i=dOe(n),r()[0]<0?(a=XI(a),i=XI(i),e(lOe,cOe)):e(YI,JI),t}return t.base=function(l){return arguments.length?(n=+l,s()):n},t.domain=function(l){return arguments.length?(r(l),s()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const v=l==null?10:+l;let b=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;b.push(m)}b.length*2<v&&(b=MN(u,d,v))}else b=MN(h,p,Math.min(p-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pm(c)).precision==null&&(c.trim=!0),c=mO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(cH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function uH(){const e=gO(mw()).domain([1,10]);return e.copy=()=>Ag(e,uH()).base(e.base()),ui.apply(e,arguments),e}function QI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vO(e){var t=1,r=e(QI(t),ZI(t));return r.constant=function(n){return arguments.length?e(QI(t=+n),ZI(t)):t},Wl(r)}function dH(){var e=vO(mw());return e.copy=function(){return Ag(e,dH()).constant(e.constant())},ui.apply(e,arguments)}function eR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function hOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function pOe(e){return e<0?-e*e:e*e}function yO(e){var t=e(zn,zn),r=1;function n(){return r===1?e(zn,zn):r===.5?e(hOe,pOe):e(eR(r),eR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wl(t)}function xO(){var e=yO(mw());return e.copy=function(){return Ag(e,xO()).exponent(e.exponent())},ui.apply(e,arguments),e}function mOe(){return xO.apply(null,arguments).exponent(.5)}function tR(e){return Math.sign(e)*e*e}function gOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fH(){var e=hO(),t=[0,1],r=!1,n;function a(i){var s=gOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(tR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Hx)).map(tR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ui.apply(a,arguments),Wl(a)}function hH(){var e=[],t=[],r=[],n;function a(){var s=0,l=Math.max(1,t.length);for(r=new Array(l-1);++s<l;)r[s-1]=wPe(e,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Pg(r,s)]}return i.invertExtent=function(s){var l=t.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let l of s)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(wl),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return hH().domain(e).range(t).unknown(n)},ui.apply(i,arguments)}function pH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Pg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return pH().domain([e,t]).range(a).unknown(i)},ui.apply(Wl(s),arguments)}function mH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Pg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return mH().domain(e).range(t).unknown(r)},ui.apply(a,arguments)}const kj=new Date,Cj=new Date;function Hr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<s);return c},a.filter=i=>Hr(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;t(s,-1),!i(s););else for(;--l>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(kj.setTime(+i),Cj.setTime(+s),e(kj),e(Cj),Math.floor(r(kj,Cj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Yx=Hr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Yx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Hr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Yx);Yx.range;const Ys=1e3,Ka=Ys*60,Js=Ka*60,go=Js*24,bO=go*7,rR=go*30,Ej=go*365,jc=Hr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ys)},(e,t)=>(t-e)/Ys,e=>e.getUTCSeconds());jc.range;const wO=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ys)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getMinutes());wO.range;const _O=Hr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCMinutes());_O.range;const jO=Hr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ys-e.getMinutes()*Ka)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getHours());jO.range;const SO=Hr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCHours());SO.range;const Tg=Hr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ka)/go,e=>e.getDate()-1);Tg.range;const gw=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>e.getUTCDate()-1);gw.range;const gH=Hr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/go,e=>Math.floor(e/go));gH.range;function _u(e){return Hr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ka)/bO)}const vw=_u(0),Jx=_u(1),vOe=_u(2),yOe=_u(3),jf=_u(4),xOe=_u(5),bOe=_u(6);vw.range;Jx.range;vOe.range;yOe.range;jf.range;xOe.range;bOe.range;function ju(e){return Hr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/bO)}const yw=ju(0),Xx=ju(1),wOe=ju(2),_Oe=ju(3),Sf=ju(4),jOe=ju(5),SOe=ju(6);yw.range;Xx.range;wOe.range;_Oe.range;Sf.range;jOe.range;SOe.range;const NO=Hr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NO.range;const kO=Hr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());kO.range;const vo=Hr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());vo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});vo.range;const yo=Hr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());yo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Hr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});yo.range;function vH(e,t,r,n,a,i){const s=[[jc,1,Ys],[jc,5,5*Ys],[jc,15,15*Ys],[jc,30,30*Ys],[i,1,Ka],[i,5,5*Ka],[i,15,15*Ka],[i,30,30*Ka],[a,1,Js],[a,3,3*Js],[a,6,6*Js],[a,12,12*Js],[n,1,go],[n,2,2*go],[r,1,bO],[t,1,rR],[t,3,3*rR],[e,1,Ej]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=lO(([,,v])=>v).right(s,h);if(p===s.length)return e.every(IN(u/Ej,d/Ej,f));if(p===0)return Yx.every(Math.max(IN(u,d,f),1));const[g,m]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[NOe,kOe]=vH(yo,kO,yw,gH,SO,_O),[COe,EOe]=vH(vo,NO,vw,Tg,jO,wO);function Pj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Oj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function POe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=zh(a),d=Vh(a),f=zh(i),h=Vh(i),p=zh(s),g=Vh(s),m=zh(l),v=Vh(l),b=zh(c),x=Vh(c),w={a:z,A:R,b:U,B:K,c:null,d:lR,e:lR,f:QOe,g:lAe,G:uAe,H:YOe,I:JOe,j:XOe,L:yH,m:ZOe,M:eAe,p:re,q:Q,Q:dR,s:fR,S:tAe,u:rAe,U:nAe,V:aAe,w:iAe,W:sAe,x:null,X:null,y:oAe,Y:cAe,Z:dAe,"%":uR},_={a:j,A:P,b:E,B,c:null,d:cR,e:cR,f:mAe,g:NAe,G:CAe,H:fAe,I:hAe,j:pAe,L:bH,m:gAe,M:vAe,p:D,q:G,Q:dR,s:fR,S:yAe,u:xAe,U:bAe,V:wAe,w:_Ae,W:jAe,x:null,X:null,y:SAe,Y:kAe,Z:EAe,"%":uR},S={a:T,A:I,b:O,B:L,c:$,d:sR,e:sR,f:HOe,g:iR,G:aR,H:oR,I:oR,j:UOe,L:WOe,m:BOe,M:zOe,p:A,q:FOe,Q:GOe,s:KOe,S:VOe,u:$Oe,U:IOe,V:ROe,w:MOe,W:DOe,x:F,X:V,y:iR,Y:aR,Z:LOe,"%":qOe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(q,J){return function(ee){var Y=[],xe=-1,Ne=0,Je=q.length,He,Be,st;for(ee instanceof Date||(ee=new Date(+ee));++xe<Je;)q.charCodeAt(xe)===37&&(Y.push(q.slice(Ne,xe)),(Be=nR[He=q.charAt(++xe)])!=null?He=q.charAt(++xe):Be=He==="e"?" ":"0",(st=J[He])&&(He=st(ee,Be)),Y.push(He),Ne=xe+1);return Y.push(q.slice(Ne,xe)),Y.join("")}}function k(q,J){return function(ee){var Y=Uh(1900,void 0,1),xe=C(Y,q,ee+="",0),Ne,Je;if(xe!=ee.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(J&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ne=Oj(Uh(Y.y,0,1)),Je=Ne.getUTCDay(),Ne=Je>4||Je===0?Xx.ceil(Ne):Xx(Ne),Ne=gw.offset(Ne,(Y.V-1)*7),Y.y=Ne.getUTCFullYear(),Y.m=Ne.getUTCMonth(),Y.d=Ne.getUTCDate()+(Y.w+6)%7):(Ne=Pj(Uh(Y.y,0,1)),Je=Ne.getDay(),Ne=Je>4||Je===0?Jx.ceil(Ne):Jx(Ne),Ne=Tg.offset(Ne,(Y.V-1)*7),Y.y=Ne.getFullYear(),Y.m=Ne.getMonth(),Y.d=Ne.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Je="Z"in Y?Oj(Uh(Y.y,0,1)).getUTCDay():Pj(Uh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Je+5)%7:Y.w+Y.U*7-(Je+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Oj(Y)):Pj(Y)}}function C(q,J,ee,Y){for(var xe=0,Ne=J.length,Je=ee.length,He,Be;xe<Ne;){if(Y>=Je)return-1;if(He=J.charCodeAt(xe++),He===37){if(He=J.charAt(xe++),Be=S[He in nR?J.charAt(xe++):He],!Be||(Y=Be(q,ee,Y))<0)return-1}else if(He!=ee.charCodeAt(Y++))return-1}return Y}function A(q,J,ee){var Y=u.exec(J.slice(ee));return Y?(q.p=d.get(Y[0].toLowerCase()),ee+Y[0].length):-1}function T(q,J,ee){var Y=p.exec(J.slice(ee));return Y?(q.w=g.get(Y[0].toLowerCase()),ee+Y[0].length):-1}function I(q,J,ee){var Y=f.exec(J.slice(ee));return Y?(q.w=h.get(Y[0].toLowerCase()),ee+Y[0].length):-1}function O(q,J,ee){var Y=b.exec(J.slice(ee));return Y?(q.m=x.get(Y[0].toLowerCase()),ee+Y[0].length):-1}function L(q,J,ee){var Y=m.exec(J.slice(ee));return Y?(q.m=v.get(Y[0].toLowerCase()),ee+Y[0].length):-1}function $(q,J,ee){return C(q,t,J,ee)}function F(q,J,ee){return C(q,r,J,ee)}function V(q,J,ee){return C(q,n,J,ee)}function z(q){return s[q.getDay()]}function R(q){return i[q.getDay()]}function U(q){return c[q.getMonth()]}function K(q){return l[q.getMonth()]}function re(q){return a[+(q.getHours()>=12)]}function Q(q){return 1+~~(q.getMonth()/3)}function j(q){return s[q.getUTCDay()]}function P(q){return i[q.getUTCDay()]}function E(q){return c[q.getUTCMonth()]}function B(q){return l[q.getUTCMonth()]}function D(q){return a[+(q.getUTCHours()>=12)]}function G(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var J=N(q+="",w);return J.toString=function(){return q},J},parse:function(q){var J=k(q+="",!1);return J.toString=function(){return q},J},utcFormat:function(q){var J=N(q+="",_);return J.toString=function(){return q},J},utcParse:function(q){var J=k(q+="",!0);return J.toString=function(){return q},J}}}var nR={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,OOe=/^%/,AOe=/[\\^$*+?|[\]().{}]/g;function _t(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function TOe(e){return e.replace(AOe,"\\$&")}function zh(e){return new RegExp("^(?:"+e.map(TOe).join("|")+")","i")}function Vh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function MOe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $Oe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function IOe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ROe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DOe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aR(e,t,r){var n=rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iR(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function FOe(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function BOe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sR(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function UOe(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oR(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zOe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function WOe(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function HOe(e,t,r){var n=rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function qOe(e,t,r){var n=OOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function GOe(e,t,r){var n=rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KOe(e,t,r){var n=rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lR(e,t){return _t(e.getDate(),t,2)}function YOe(e,t){return _t(e.getHours(),t,2)}function JOe(e,t){return _t(e.getHours()%12||12,t,2)}function XOe(e,t){return _t(1+Tg.count(vo(e),e),t,3)}function yH(e,t){return _t(e.getMilliseconds(),t,3)}function QOe(e,t){return yH(e,t)+"000"}function ZOe(e,t){return _t(e.getMonth()+1,t,2)}function eAe(e,t){return _t(e.getMinutes(),t,2)}function tAe(e,t){return _t(e.getSeconds(),t,2)}function rAe(e){var t=e.getDay();return t===0?7:t}function nAe(e,t){return _t(vw.count(vo(e)-1,e),t,2)}function xH(e){var t=e.getDay();return t>=4||t===0?jf(e):jf.ceil(e)}function aAe(e,t){return e=xH(e),_t(jf.count(vo(e),e)+(vo(e).getDay()===4),t,2)}function iAe(e){return e.getDay()}function sAe(e,t){return _t(Jx.count(vo(e)-1,e),t,2)}function oAe(e,t){return _t(e.getFullYear()%100,t,2)}function lAe(e,t){return e=xH(e),_t(e.getFullYear()%100,t,2)}function cAe(e,t){return _t(e.getFullYear()%1e4,t,4)}function uAe(e,t){var r=e.getDay();return e=r>=4||r===0?jf(e):jf.ceil(e),_t(e.getFullYear()%1e4,t,4)}function dAe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_t(t/60|0,"0",2)+_t(t%60,"0",2)}function cR(e,t){return _t(e.getUTCDate(),t,2)}function fAe(e,t){return _t(e.getUTCHours(),t,2)}function hAe(e,t){return _t(e.getUTCHours()%12||12,t,2)}function pAe(e,t){return _t(1+gw.count(yo(e),e),t,3)}function bH(e,t){return _t(e.getUTCMilliseconds(),t,3)}function mAe(e,t){return bH(e,t)+"000"}function gAe(e,t){return _t(e.getUTCMonth()+1,t,2)}function vAe(e,t){return _t(e.getUTCMinutes(),t,2)}function yAe(e,t){return _t(e.getUTCSeconds(),t,2)}function xAe(e){var t=e.getUTCDay();return t===0?7:t}function bAe(e,t){return _t(yw.count(yo(e)-1,e),t,2)}function wH(e){var t=e.getUTCDay();return t>=4||t===0?Sf(e):Sf.ceil(e)}function wAe(e,t){return e=wH(e),_t(Sf.count(yo(e),e)+(yo(e).getUTCDay()===4),t,2)}function _Ae(e){return e.getUTCDay()}function jAe(e,t){return _t(Xx.count(yo(e)-1,e),t,2)}function SAe(e,t){return _t(e.getUTCFullYear()%100,t,2)}function NAe(e,t){return e=wH(e),_t(e.getUTCFullYear()%100,t,2)}function kAe(e,t){return _t(e.getUTCFullYear()%1e4,t,4)}function CAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sf(e):Sf.ceil(e),_t(e.getUTCFullYear()%1e4,t,4)}function EAe(){return"+0000"}function uR(){return"%"}function dR(e){return+e}function fR(e){return Math.floor(+e/1e3)}var Wu,_H,jH;PAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PAe(e){return Wu=POe(e),_H=Wu.format,Wu.parse,jH=Wu.utcFormat,Wu.utcParse,Wu}function OAe(e){return new Date(e)}function AAe(e){return e instanceof Date?+e:+new Date(+e)}function CO(e,t,r,n,a,i,s,l,c,u){var d=hO(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function S(N){return(c(N)<N?p:l(N)<N?g:s(N)<N?m:i(N)<N?v:n(N)<N?a(N)<N?b:x:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,AAe)):h().map(OAe)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?S:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(cH(k,N)):d},d.copy=function(){return Ag(d,CO(e,t,r,n,a,i,s,l,c,u))},d}function TAe(){return ui.apply(CO(COe,EOe,vo,NO,vw,Tg,jO,wO,jc,_H).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MAe(){return ui.apply(CO(NOe,kOe,yo,kO,yw,gw,SO,_O,jc,jH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xw(){var e=0,t=1,r,n,a,i,s=zn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,s=f(p,g),u):[s(0),s(1)]}}return u.range=d(vh),u.rangeRound=d(fO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Hl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function SH(){var e=Wl(xw()(zn));return e.copy=function(){return Hl(e,SH())},Co.apply(e,arguments)}function NH(){var e=gO(xw()).domain([1,10]);return e.copy=function(){return Hl(e,NH()).base(e.base())},Co.apply(e,arguments)}function kH(){var e=vO(xw());return e.copy=function(){return Hl(e,kH()).constant(e.constant())},Co.apply(e,arguments)}function EO(){var e=yO(xw());return e.copy=function(){return Hl(e,EO()).exponent(e.exponent())},Co.apply(e,arguments)}function $Ae(){return EO.apply(null,arguments).exponent(.5)}function CH(){var e=[],t=zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Pg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(wl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>bPe(e,i/n))},r.copy=function(){return CH(t).domain(e)},Co.apply(r,arguments)}function bw(){var e=0,t=.5,r=1,n=1,a,i,s,l,c,u=zn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),s=d(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=qPe(m,[b,x,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(vh),p.rangeRound=g(fO),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),s=m(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function EH(){var e=Wl(bw()(zn));return e.copy=function(){return Hl(e,EH())},Co.apply(e,arguments)}function PH(){var e=gO(bw()).domain([.1,1,10]);return e.copy=function(){return Hl(e,PH()).base(e.base())},Co.apply(e,arguments)}function OH(){var e=vO(bw());return e.copy=function(){return Hl(e,OH()).constant(e.constant())},Co.apply(e,arguments)}function PO(){var e=yO(bw());return e.copy=function(){return Hl(e,PO()).exponent(e.exponent())},Co.apply(e,arguments)}function IAe(){return PO.apply(null,arguments).exponent(.5)}const hR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nm,scaleDiverging:EH,scaleDivergingLog:PH,scaleDivergingPow:PO,scaleDivergingSqrt:IAe,scaleDivergingSymlog:OH,scaleIdentity:lH,scaleImplicit:RN,scaleLinear:Kx,scaleLog:uH,scaleOrdinal:cO,scalePoint:Np,scalePow:xO,scaleQuantile:hH,scaleQuantize:pH,scaleRadial:fH,scaleSequential:SH,scaleSequentialLog:NH,scaleSequentialPow:EO,scaleSequentialQuantile:CH,scaleSequentialSqrt:$Ae,scaleSequentialSymlog:kH,scaleSqrt:mOe,scaleSymlog:dH,scaleThreshold:mH,scaleTime:TAe,scaleUtc:MAe,tickFormat:oH},Symbol.toStringTag,{value:"Module"}));var RAe=lh;function DAe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(l===void 0?s===s&&!RAe(s):r(s,l)))var l=s,c=i}return c}var ww=DAe;function LAe(e,t){return e>t}var AH=LAe,FAe=ww,BAe=AH,UAe=gh;function zAe(e){return e&&e.length?FAe(e,UAe,BAe):void 0}var VAe=zAe;const ll=kt(VAe);function WAe(e,t){return e<t}var TH=WAe,HAe=ww,qAe=TH,GAe=gh;function KAe(e){return e&&e.length?HAe(e,GAe,qAe):void 0}var YAe=KAe;const _w=kt(YAe);var JAe=VP,XAe=Os,QAe=U9,ZAe=la;function eTe(e,t){var r=ZAe(e)?JAe:QAe;return r(e,XAe(t))}var tTe=eTe,rTe=F9,nTe=tTe;function aTe(e,t){return rTe(nTe(e,t),1)}var iTe=aTe;const sTe=kt(iTe);var oTe=aO;function lTe(e,t){return oTe(e,t)}var cTe=lTe;const au=kt(cTe);var yh=1e9,uTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},AO,ar=!0,ii="[DecimalError] ",Lc=ii+"Invalid argument: ",OO=ii+"Exponent out of range: ",xh=Math.floor,dc=Math.pow,dTe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Na,Yr=1e7,Yt=7,MH=9007199254740991,Qx=xh(MH/Yt),Pe={};Pe.absoluteValue=Pe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Pe.comparedTo=Pe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Yt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(e){return no(this,new this.constructor(e))};Pe.dividedToIntegerBy=Pe.idiv=function(e){var t=this,r=t.constructor;return It(no(t,new r(e),0,1),r.precision)};Pe.equals=Pe.eq=function(e){return!this.cmp(e)};Pe.exponent=function(){return Or(this)};Pe.greaterThan=Pe.gt=function(e){return this.cmp(e)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(e){return this.cmp(e)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(e){return this.cmp(e)<0};Pe.lessThanOrEqualTo=Pe.lte=function(e){return this.cmp(e)<1};Pe.logarithm=Pe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Na))throw Error(ii+"NaN");if(r.s<1)throw Error(ii+(r.s?"NaN":"-Infinity"));return r.eq(Na)?new n(0):(ar=!1,t=no(Om(r,i),Om(e,i),i),ar=!0,It(t,a))};Pe.minus=Pe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RH(t,e):$H(t,(e.s=-e.s,e))};Pe.modulo=Pe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ii+"NaN");return r.s?(ar=!1,t=no(r,e,0,1).times(e),ar=!0,r.minus(t)):It(new n(r),a)};Pe.naturalExponential=Pe.exp=function(){return IH(this)};Pe.naturalLogarithm=Pe.ln=function(){return Om(this)};Pe.negated=Pe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Pe.plus=Pe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$H(t,e):RH(t,(e.s=-e.s,e))};Pe.precision=Pe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Lc+e);if(t=Or(a)+1,n=a.d.length-1,r=n*Yt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Pe.squareRoot=Pe.sqrt=function(){var e,t,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ii+"NaN")}for(e=Or(l),ar=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=fs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=xh((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(no(l,i,s+2)).times(.5),fs(i.d).slice(0,s)===(t=fs(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(It(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;s+=4}return ar=!0,It(n,r)};Pe.times=Pe.mul=function(e){var t,r,n,a,i,s,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%Yr|0,t=l/Yr|0;i[a]=(i[a]+t)%Yr|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ar?It(e,f.precision):e};Pe.toDecimalPlaces=Pe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ss(e,0,yh),t===void 0?t=n.rounding:Ss(t,0,8),It(r,e+Or(r)+1,t))};Pe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=iu(n,!0):(Ss(e,0,yh),t===void 0?t=a.rounding:Ss(t,0,8),n=It(new a(n),e+1,t),r=iu(n,!0,e+1)),r};Pe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?iu(a):(Ss(e,0,yh),t===void 0?t=i.rounding:Ss(t,0,8),n=It(new i(a),e+Or(a)+1,t),r=iu(n.abs(),!1,e+Or(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var e=this,t=e.constructor;return It(new t(e),Or(e)+1,t.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(e){var t,r,n,a,i,s,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Na);if(l=new c(l),!l.s){if(e.s<1)throw Error(ii+"Infinity");return l}if(l.eq(Na))return l;if(n=c.precision,e.eq(Na))return It(l,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=l.s,s){if((r=d<0?-d:d)<=MH){for(a=new c(Na),t=Math.ceil(n/Yt+4),ar=!1;r%2&&(a=a.times(l),mR(a.d,t)),r=xh(r/2),r!==0;)l=l.times(l),mR(l.d,t);return ar=!0,e.s<0?new c(Na).div(a):It(a,n)}}else if(i<0)throw Error(ii+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ar=!1,a=e.times(Om(l,n+u)),ar=!0,a=IH(a),a.s=i,a};Pe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Or(a),n=iu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ss(e,1,yh),t===void 0?t=i.rounding:Ss(t,0,8),a=It(new i(a),e,t),r=Or(a),n=iu(a,e<=r||r<=i.toExpNeg,e)),n};Pe.toSignificantDigits=Pe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ss(e,1,yh),t===void 0?t=n.rounding:Ss(t,0,8)),It(new n(r),e,t)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Or(e),r=e.constructor;return iu(e,t<=r.toExpNeg||t>=r.toExpPos)};function $H(e,t){var r,n,a,i,s,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ar?It(t,f):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(f/Yt),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Yr|0,c[i]%=Yr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,ar?It(t,f):t}function Ss(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Lc+e)}function fs(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Yt-n.length,r&&(i+=qo(r)),i+=n;s=e[t],n=s+"",r=Yt-n.length,r&&(i+=qo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var no=function(){function e(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Yr|0,s=i/Yr|0;return s&&n.unshift(s),n}function t(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Yr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,d,f,h,p,g,m,v,b,x,w,_,S,N,k,C,A=n.constructor,T=n.s==a.s?1:-1,I=n.d,O=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ii+"Division by zero");for(c=n.e-a.e,k=O.length,S=I.length,p=new A(T),g=p.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?x=i=A.precision:s?x=i+(Or(n)-Or(a))+1:x=i,x<0)return new A(0);if(x=x/Yt+2|0,u=0,k==1)for(d=0,O=O[0],x++;(u<S||d)&&x--;u++)w=d*Yr+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Yr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),k=O.length,S=I.length),_=k,m=I.slice(0,k),v=m.length;v<k;)m[v++]=0;C=O.slice(),C.unshift(0),N=O[0],O[1]>=Yr/2&&++N;do d=0,l=t(O,m,k,v),l<0?(b=m[0],k!=v&&(b=b*Yr+(m[1]||0)),d=b/N|0,d>1?(d>=Yr&&(d=Yr-1),f=e(O,d),h=f.length,v=m.length,l=t(f,m,h,v),l==1&&(d--,r(f,k<h?C:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),l==-1&&(v=m.length,l=t(O,m,k,v),l<1&&(d++,r(m,k<v?C:O,v))),v=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[v++]=I[_]||0:(m=[I[_]],v=1);while((_++<S||m[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=c,It(p,s?i+Or(p)+1:i)}}();function IH(e,t){var r,n,a,i,s,l,c=0,u=0,d=e.constructor,f=d.precision;if(Or(e)>16)throw Error(OO+Or(e));if(!e.s)return new d(Na);for(ar=!1,l=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(dc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(Na),d.precision=l;;){if(a=It(a.times(e),l),r=r.times(++c),s=i.plus(no(a,r,l)),fs(s.d).slice(0,l)===fs(i.d).slice(0,l)){for(;u--;)i=It(i.times(i),l);return d.precision=f,t==null?(ar=!0,It(i,f)):i}i=s}}function Or(e){for(var t=e.e*Yt,r=e.d[0];r>=10;r/=10)t++;return t}function Aj(e,t,r){if(t>e.LN10.sd())throw ar=!0,r&&(e.precision=r),Error(ii+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function qo(e){for(var t="";e--;)t+="0";return t}function Om(e,t){var r,n,a,i,s,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(ii+(p.s?"NaN":"-Infinity"));if(p.eq(Na))return new m(0);if(t==null?(ar=!1,u=v):u=t,p.eq(10))return t==null&&(ar=!0),Aj(m,u);if(u+=h,m.precision=u,r=fs(g),n=r.charAt(0),i=Or(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=fs(p.d),n=r.charAt(0),f++;i=Or(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Aj(m,u+2,v).times(i+""),p=Om(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=v,t==null?(ar=!0,It(p,v)):p;for(l=s=p=no(p.minus(Na),p.plus(Na),u),d=It(p.times(p),u),a=3;;){if(s=It(s.times(d),u),c=l.plus(no(s,new m(a),u)),fs(c.d).slice(0,u)===fs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Aj(m,u+2,v).times(i+""))),l=no(l,new m(f),u),m.precision=v,t==null?(ar=!0,It(l,v)):l;l=c,a+=2}}function pR(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=xh(r/Yt),e.d=[],n=(r+1)%Yt,r<0&&(n+=Yt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Yt;n<a;)e.d.push(+t.slice(n,n+=Yt));t=t.slice(n),n=Yt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),ar&&(e.e>Qx||e.e<-Qx))throw Error(OO+r)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,r){var n,a,i,s,l,c,u,d,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Yt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Yt),i=f.length,d>=i)return e;for(u=i=f[d],s=1;i>=10;i/=10)s++;n%=Yt,a=n-Yt+s}if(r!==void 0&&(i=dc(10,s-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/dc(10,s-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Or(e),f.length=1,t=t-i-1,f[0]=dc(10,(Yt-t%Yt)%Yt),e.e=xh(-t/Yt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=dc(10,Yt-n),f[d]=a>0?(u/dc(10,s-a)%dc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Yr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Yr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ar&&(e.e>Qx||e.e<-Qx))throw Error(OO+Or(e));return e}function RH(e,t){var r,n,a,i,s,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ar?It(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(d=s<0,d?(r=c,s=-s,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Yt),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}s=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>s;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Yr-1;--c[i],c[a]+=Yr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ar?It(t,p):t):new h(0)}function iu(e,t,r){var n,a=Or(e),i=fs(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+qo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qo(-a-1)+i,r&&(n=r-s)>0&&(i+=qo(n))):a>=s?(i+=qo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+qo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=qo(n))),e.s<0?"-"+i:i}function mR(e,t){if(e.length>t)return e.length=t,!0}function DH(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Lc+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return pR(s,i.toString())}else if(typeof i!="string")throw Error(Lc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,dTe.test(i))pR(s,i);else throw Error(Lc+i)}if(a.prototype=Pe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=DH,a.config=a.set=fTe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function fTe(e){if(!e||typeof e!="object")throw Error(ii+"Object expected");var t,r,n,a=["precision",1,yh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(xh(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Lc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Lc+r+": "+n);return this}var AO=DH(uTe);Na=new AO(1);const At=AO;function hTe(e){return vTe(e)||gTe(e)||mTe(e)||pTe()}function pTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mTe(e,t){if(e){if(typeof e=="string")return BN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(e,t)}}function gTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function vTe(e){if(Array.isArray(e))return BN(e)}function BN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yTe=function(t){return t},LH={},FH=function(t){return t===LH},gR=function(t){return function r(){return arguments.length===0||arguments.length===1&&FH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},xTe=function e(t,r){return t===1?r:gR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==LH}).length;return s>=t?r.apply(void 0,a):e(t-s,gR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return FH(f)?c.shift():f});return r.apply(void 0,hTe(d).concat(c))}))})},jw=function(t){return xTe(t.length,t)},UN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},bTe=jw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),wTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return yTe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},zN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},BH=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function _Te(e){var t;return e===0?t=1:t=Math.floor(new At(e).abs().log(10).toNumber())+1,t}function jTe(e,t,r){for(var n=new At(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var STe=jw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),NTe=jw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),kTe=jw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Sw={rangeStep:jTe,getDigitCount:_Te,interpolateNumber:STe,uninterpolateNumber:NTe,uninterpolateTruncation:kTe};function VN(e){return PTe(e)||ETe(e)||UH(e)||CTe()}function CTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ETe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function PTe(e){if(Array.isArray(e))return WN(e)}function Am(e,t){return TTe(e)||ATe(e,t)||UH(e,t)||OTe()}function OTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(e,t){if(e){if(typeof e=="string")return WN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WN(e,t)}}function WN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ATe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function TTe(e){if(Array.isArray(e))return e}function zH(e){var t=Am(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function VH(e,t,r){if(e.lte(0))return new At(0);var n=Sw.getDigitCount(e.toNumber()),a=new At(10).pow(n),i=e.div(a),s=n!==1?.05:.1,l=new At(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return t?c:new At(Math.ceil(c))}function MTe(e,t,r){var n=1,a=new At(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new At(10).pow(Sw.getDigitCount(e)-1),a=new At(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new At(Math.floor(e)))}else e===0?a=new At(Math.floor((t-1)/2)):r||(a=new At(Math.floor(e)));var s=Math.floor((t-1)/2),l=wTe(bTe(function(c){return a.add(new At(c-s).mul(n)).toNumber()}),UN);return l(0,t)}function WH(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new At(0),tickMin:new At(0),tickMax:new At(0)};var i=VH(new At(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new At(0):(s=new At(e).add(t).div(2),s=s.sub(new At(s).mod(i)));var l=Math.ceil(s.sub(e).div(i).toNumber()),c=Math.ceil(new At(t).sub(s).div(i).toNumber()),u=l+c+1;return u>r?WH(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:s.sub(new At(l).mul(i)),tickMax:s.add(new At(c).mul(i))})}function $Te(e){var t=Am(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=zH([r,n]),c=Am(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(VN(UN(0,a-1).map(function(){return 1/0}))):[].concat(VN(UN(0,a-1).map(function(){return-1/0})),[d]);return r>n?zN(f):f}if(u===d)return MTe(u,a,i);var h=WH(u,d,s,i),p=h.step,g=h.tickMin,m=h.tickMax,v=Sw.rangeStep(g,m.add(new At(.1).mul(p)),p);return r>n?zN(v):v}function ITe(e,t){var r=Am(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=zH([n,a]),l=Am(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=VH(new At(u).sub(c).div(d-1),i,0),h=[].concat(VN(Sw.rangeStep(new At(c),new At(u).sub(new At(.99).mul(f)),f)),[u]);return n>a?zN(h):h}var RTe=BH($Te),DTe=BH(ITe),LTe="Invariant failed";function su(e,t){throw new Error(LTe)}var FTe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(this,arguments)}function BTe(e,t){return WTe(e)||VTe(e,t)||zTe(e,t)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zTe(e,t){if(e){if(typeof e=="string")return vR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(e,t)}}function vR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function WTe(e){if(Array.isArray(e))return e}function HTe(e,t){if(e==null)return{};var r=qTe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KTe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GH(n.key),n)}}function YTe(e,t,r){return t&&KTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JTe(e,t,r){return t=eb(t),XTe(e,HH()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function XTe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(e)}function QTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function ZTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HN(e,t)}function HN(e,t){return HN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HN(e,t)}function qH(e,t,r){return t=GH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=e2e(e,"string");return Nf(t)=="symbol"?t:t+""}function e2e(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mg=function(e){function t(){return GTe(this,t),JTe(this,t,arguments)}return ZTe(t,e),YTe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=HTe(n,FTe),p=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&su();var g=c.map(function(m){var v=u(m,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],N,k;if(Array.isArray(_)){var C=BTe(_,2);N=C[0],k=C[1]}else N=k=_;if(i==="vertical"){var A=d.scale,T=x+a,I=T+s,O=T-s,L=A(w-N),$=A(w+k);S.push({x1:$,y1:I,x2:$,y2:O}),S.push({x1:L,y1:T,x2:$,y2:T}),S.push({x1:L,y1:I,x2:L,y2:O})}else if(i==="horizontal"){var F=f.scale,V=b+a,z=V-s,R=V+s,U=F(w-N),K=F(w+k);S.push({x1:z,y1:K,x2:R,y2:K}),S.push({x1:V,y1:U,x2:V,y2:K}),S.push({x1:z,y1:U,x2:R,y2:U})}return M.createElement(lt,Zx({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},p),S.map(function(re){return M.createElement("line",Zx({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return M.createElement(lt,{className:"recharts-errorBars"},g)}}])}(M.Component);qH(Mg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qH(Mg,"displayName","ErrorBar");function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){t2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t2e(e,t,r){return t=r2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r2e(e){var t=n2e(e,"string");return Tm(t)=="symbol"?t:t+""}function n2e(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KH=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ya(r,ro);if(!s)return null;var l=ro.defaultProps,c=l!==void 0?Ql(Ql({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Ql(Ql({},h),f.props):{},g=p.dataKey,m=p.name,v=p.legendType,b=p.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:TO(f),value:m||g,payload:p}}),Ql(Ql(Ql({},c),ro.getWithHeight(s,a)),{},{payload:u,item:s})};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function xR(e){return o2e(e)||s2e(e)||i2e(e)||a2e()}function a2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i2e(e,t){if(e){if(typeof e=="string")return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}}function s2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o2e(e){if(Array.isArray(e))return qN(e)}function qN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){Rd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rd(e,t,r){return t=l2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2e(e){var t=c2e(e,"string");return Mm(t)=="symbol"?t:t+""}function c2e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function br(e,t,r){return Ze(e)||Ze(t)?r:zr(t)?Oa(e,t,r):We(t)?t(e):r}function kp(e,t,r,n){var a=sTe(e,function(l){return br(l,t)});if(r==="number"){var i=a.filter(function(l){return he(l)||parseFloat(l)});return i.length?[_w(i),ll(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Ze(l)}):a;return s.map(function(l){return zr(l)||l instanceof Date?l:""})}var u2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Bn(f-d)!==Bn(h-f)){var g=[];if(Bn(h-f)===Bn(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){s=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){s=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){s=n[_].index;break}return s},TO=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},d2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,v=g.cateAxisId,b=m.filter(function(k){return to(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?mr(mr({},x),b[0].props):b[0].props,_=w.barSize,S=w[v];s[S]||(s[S]=[]);var N=Ze(_)?r:_;s[S].push({item:b[0],stackList:b.slice(1),barSize:Ze(N)?void 0:Un(N,n,0)})}}return s},f2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,l=t.maxBarSize,c=s.length;if(c<1)return null;var u=Un(r,a,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,p=a/c,g=s.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,v={offset:m-u,size:0};d=s.reduce(function(_,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:h?p:S.barSize}},k=[].concat(xR(_),[N]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:v})}),k},f)}else{var b=Un(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=s.reduce(function(_,S,N){var k=[].concat(xR(_),[{item:S.item,position:{offset:b+(x+u)*N+(x-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(C){k.push({item:C,position:k[k.length-1].position})}),k},f)}return d},h2e=function(t,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=KH({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&he(t[p]))return mr(mr({},t),{},Rd({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&he(t[g]))return mr(mr({},t),{},Rd({},g,t[g]+(h||0)))}return t},p2e=function(t,r,n){return Ze(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},YH=function(t,r,n,a,i){var s=r.props.children,l=Aa(s,Mg).filter(function(u){return p2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=br(d,n);if(Ze(f))return u;var h=Array.isArray(f)?[_w(f),ll(f)]:[f,f],p=c.reduce(function(g,m){var v=br(d,m,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},m2e=function(t,r,n,a,i){var s=r.map(function(l){return YH(t,l,n,i,a)}).filter(function(l){return!Ze(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},JH=function(t,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&YH(t,c,u,a)||kp(t,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},XH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},QH=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,s,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},Xs=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!hh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Tj=new WeakMap,Pv=function(t,r){if(typeof r!="function")return t;Tj.has(t)||Tj.set(t,new WeakMap);var n=Tj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},ZH=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,l=t.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Nm(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:Kx(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Np(),realScaleType:"point"}:i==="category"?{scale:Nm(),realScaleType:"band"}:{scale:Kx(),realScaleType:"linear"};if(tu(a)){var c="scale".concat(ow(a));return{scale:(hR[c]||Np)(),realScaleType:hR[c]?c:"point"}}return We(a)?{scale:a}:{scale:Np(),realScaleType:"point"}},wR=1e-4,eq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-wR,s=Math.max(a[0],a[1])+wR,l=t(r[0]),c=t(r[n-1]);(l<i||l>s||c<i||c>s)&&t.domain([r[0],r[n-1]])}},g2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},v2e=function(t,r){if(!r||r.length!==2||!he(r[0])||!he(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!he(t[0])||t[0]<n)&&(i[0]=n),(!he(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},y2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=hh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1])}},x2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=hh(t[s][n][1])?t[s][n][0]:t[s][n][1];l>=0?(t[s][n][0]=i,t[s][n][1]=i+l,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},b2e={sign:y2e,expand:F0e,none:vf,silhouette:B0e,wiggle:U0e,positive:x2e},w2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=b2e[n],s=L0e().keys(a).value(function(l,c){return+br(l,c,0)}).order(vN).offset(i);return s(t)},_2e=function(t,r,n,a,i,s){if(!t)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?mr(mr({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(zr(m)){var w=x.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[m]=w}else x.stackGroups[wu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return mr(mr({},f),{},Rd({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var b=p.stackGroups[v];return mr(mr({},m),{},Rd({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:w2e(t,b.items,i)}))},g)}return mr(mr({},f),{},Rd({},h,p))},d)},tq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=RTe(u,i,l);return t.domain([_w(d),ll(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=DTe(f,i,l);return{niceTicks:h}}return null};function tb(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ze(a[t.dataKey])){var l=kx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=br(a,Ze(s)?t.dataKey:s);return Ze(c)?null:t.scale(c)}var _R=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=br(s,r.dataKey,r.domain[l]);return Ze(c)?null:r.scale(c)-i/2+a},j2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},S2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(zr(i)){var s=r[i];if(s){var l=s.items.indexOf(t);return l>=0?s.stackedData[l]:null}}return null},N2e=function(t){return t.reduce(function(r,n){return[_w(n.concat([r[0]]).filter(he)),ll(n.concat([r[1]]).filter(he))]},[1/0,-1/0])},rq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],l=s.stackedData,c=l.reduce(function(u,d){var f=N2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},jR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GN=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(he(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(jR.test(t[0])){var i=+jR.exec(t[0])[1];a[0]=r[0]-i}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(he(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(SR.test(t[1])){var s=+SR.exec(t[1])[1];a[1]=r[1]+s}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},rb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=sO(r,function(f){return f.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},NR=function(t,r,n){return!t||!t.length||au(t,Oa(n,"type.defaultProps.domain"))?r:t},nq=function(t,r){var n=t.type.defaultProps?mr(mr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return mr(mr({},Re(t,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:TO(t),value:br(r,a),type:c,payload:r,chartType:u,hide:d})};function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aq(e,t,r){return t=k2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k2e(e){var t=C2e(e,"string");return $m(t)=="symbol"?t:t+""}function C2e(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E2e(e,t){return T2e(e)||A2e(e,t)||O2e(e,t)||P2e()}function P2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2e(e,t){if(e){if(typeof e=="string")return CR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(e,t)}}function CR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function T2e(e){if(Array.isArray(e))return e}var nb=Math.PI/180,M2e=function(t){return t*180/Math.PI},Vt=function(t,r,n,a){return{x:t+Math.cos(-nb*a)*n,y:r+Math.sin(-nb*a)*n}},iq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},$2e=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Un(t.cx,s,s/2),f=Un(t.cy,l,l/2),h=iq(s,l,n),p=Un(t.innerRadius,h,0),g=Un(t.outerRadius,h,h*.8),m=Object.keys(r);return m.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,S;if(Ze(x.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[p,g]),_&&(S=[S[1],S[0]]);else{S=x.range;var N=S,k=E2e(N,2);c=k[0],u=k[1]}var C=ZH(x,i),A=C.realScaleType,T=C.scale;T.domain(w).range(S),eq(T);var I=tq(T,Us(Us({},x),{},{realScaleType:A})),O=Us(Us(Us({},x),I),{},{range:S,radius:g,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:p,outerRadius:g,startAngle:c,endAngle:u});return Us(Us({},v),{},aq({},b,O))},{})},I2e=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},R2e=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,l=I2e({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:M2e(u),angleInRadian:u}},D2e=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},L2e=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return t+l*360},ER=function(t,r){var n=t.x,a=t.y,i=R2e({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var d=D2e(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?Us(Us({},r),{},{radius:s,angle:L2e(p,r)}):null},sq=function(t){return!y.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}var F2e=["offset"];function B2e(e){return W2e(e)||V2e(e)||z2e(e)||U2e()}function U2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z2e(e,t){if(e){if(typeof e=="string")return KN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(e,t)}}function V2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W2e(e){if(Array.isArray(e))return KN(e)}function KN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function H2e(e,t){if(e==null)return{};var r=q2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){G2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G2e(e,t,r){return t=K2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2e(e){var t=Y2e(e,"string");return Im(t)=="symbol"?t:t+""}function Y2e(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(this,arguments)}var J2e=function(t){var r=t.value,n=t.formatter,a=Ze(t.children)?r:t.children;return We(n)?n(a):a},X2e=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},Q2e=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,v=(f+h)/2,b=X2e(p,g),x=b>=0?1:-1,w,_;a==="insideStart"?(w=p+x*s,_=m):a==="insideEnd"?(w=g-x*s,_=!m):a==="end"&&(w=g+x*s,_=m),_=b<=0?_:!_;var S=Vt(u,d,v,w),N=Vt(u,d,v,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),C=Ze(t.id)?wu("recharts-radial-line-"):t.id;return M.createElement("text",Rm({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:C,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Z2e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=Vt(s,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Vt(s,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},eMe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,l=s.x,c=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,v=m*a,b=m>0?"end":"start",x=m>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Ir(Ir({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Ir(Ir({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ir(Ir({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Ir(Ir({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?Ir({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?Ir({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Ir({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Ir({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?Ir({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},k):i==="insideTopRight"?Ir({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideBottomLeft"?Ir({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:p},k):i==="insideBottomRight"?Ir({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:p},k):ch(i)&&(he(i.x)||wc(i.x))&&(he(i.y)||wc(i.y))?Ir({x:l+Un(i.x,u),y:c+Un(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):Ir({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},tMe=function(t){return"cx"in t&&he(t.cx)};function Zr(e){var t=e.offset,r=t===void 0?5:t,n=H2e(e,F2e),a=Ir({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Ze(l)&&Ze(c)&&!y.isValidElement(u)&&!We(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var p;if(We(u)){if(p=y.createElement(u,a),y.isValidElement(p))return p}else p=J2e(a);var g=tMe(i),m=Re(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Q2e(a,p,m);var v=g?Z2e(a):eMe(a);return M.createElement(nu,Rm({className:et("recharts-label",f)},m,v,{breakAll:h}),p)}Zr.displayName="Label";var oq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(he(m)&&he(v)){if(he(f)&&he(h))return{x:f,y:h,width:m,height:v};if(he(p)&&he(g))return{x:p,y:g,width:m,height:v}}return he(f)&&he(h)?{x:f,y:h,width:0,height:0}:he(r)&&he(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},rMe=function(t,r){return t?t===!0?M.createElement(Zr,{key:"label-implicit",viewBox:r}):zr(t)?M.createElement(Zr,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===Zr?y.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(Zr,{key:"label-implicit",content:t,viewBox:r}):We(t)?M.createElement(Zr,{key:"label-implicit",content:t,viewBox:r}):ch(t)?M.createElement(Zr,Rm({viewBox:r},t,{key:"label-implicit"})):null:null},nMe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=oq(t),s=Aa(a,Zr).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=rMe(t.label,r||i);return[l].concat(B2e(s))};Zr.parseViewBox=oq;Zr.renderCallByParent=nMe;function aMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var iMe=aMe;const sMe=kt(iMe);function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}var oMe=["valueAccessor"],lMe=["data","dataKey","clockWise","id","textBreakAll"];function cMe(e){return hMe(e)||fMe(e)||dMe(e)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function fMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hMe(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(this,arguments)}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){pMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pMe(e,t,r){return t=mMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mMe(e){var t=gMe(e,"string");return Dm(t)=="symbol"?t:t+""}function gMe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TR(e,t){if(e==null)return{};var r=vMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var yMe=function(t){return Array.isArray(t.value)?sMe(t.value):t.value};function bs(e){var t=e.valueAccessor,r=t===void 0?yMe:t,n=TR(e,oMe),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=TR(n,lMe);return!a||!a.length?null:M.createElement(lt,{className:"recharts-label-list"},a.map(function(d,f){var h=Ze(i)?r(d,f):br(d&&d.payload,i),p=Ze(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(Zr,ab({},Re(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Zr.parseViewBox(Ze(s)?d:AR(AR({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}bs.displayName="LabelList";function xMe(e,t){return e?e===!0?M.createElement(bs,{key:"labelList-implicit",data:t}):M.isValidElement(e)||We(e)?M.createElement(bs,{key:"labelList-implicit",data:t,content:e}):ch(e)?M.createElement(bs,ab({data:t},e,{key:"labelList-implicit"})):null:null}function bMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Aa(n,bs).map(function(s,l){return y.cloneElement(s,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=xMe(e.label,t);return[i].concat(cMe(a))}bs.renderCallByParent=bMe;function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(this,arguments)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){wMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wMe(e,t,r){return t=_Me(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Me(e){var t=jMe(e,"string");return Lm(t)=="symbol"?t:t+""}function jMe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SMe=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ov=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/nb,h=u?i:i+s*f,p=Vt(r,n,d,h),g=Vt(r,n,a,h),m=u?i-s*f:i,v=Vt(r,n,d*Math.cos(f*nb),m);return{center:p,circleTangency:g,lineTangency:v,theta:f}},lq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,l=t.endAngle,c=SMe(s,l),u=s+c,d=Vt(r,n,i,s),f=Vt(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=Vt(r,n,a,s),g=Vt(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},NMe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bn(d-u),h=Ov({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ov({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):lq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=Ov({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=N.circleTangency,C=N.lineTangency,A=N.theta,T=Ov({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=T.circleTangency,O=T.lineTangency,L=T.theta,$=c?Math.abs(u-d):Math.abs(u-d)-A-L;if($<0&&s===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},kMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},cq=function(t){var r=$R($R({},kMe),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(s<i||d===f)return null;var p=et("recharts-sector",h),g=s-i,m=Un(l,g,0,!0),v;return m>0&&Math.abs(d-f)<360?v=NMe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=lq({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),M.createElement("path",JN({},Re(r,!0),{className:p,d:v,role:"img"}))};function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XN.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){CMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CMe(e,t,r){return t=EMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EMe(e){var t=PMe(e,"string");return Fm(t)=="symbol"?t:t+""}function PMe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DR={curveBasisClosed:C0e,curveBasisOpen:E0e,curveBasis:k0e,curveBumpX:f0e,curveBumpY:h0e,curveLinearClosed:P0e,curveLinear:cw,curveMonotoneX:O0e,curveMonotoneY:A0e,curveNatural:T0e,curveStep:M0e,curveStepAfter:I0e,curveStepBefore:$0e},Av=function(t){return t.x===+t.x&&t.y===+t.y},Wh=function(t){return t.x},Hh=function(t){return t.y},OMe=function(t,r){if(We(t))return t;var n="curve".concat(ow(t));return(n==="curveMonotone"||n==="curveBump")&&r?DR["".concat(n).concat(r==="vertical"?"Y":"X")]:DR[n]||cw},AMe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=OMe(n,l),f=u?i.filter(function(m){return Av(m)}):i,h;if(Array.isArray(s)){var p=u?s.filter(function(m){return Av(m)}):s,g=f.map(function(m,v){return RR(RR({},m),{},{base:p[v]})});return l==="vertical"?h=wv().y(Hh).x1(Wh).x0(function(m){return m.base.x}):h=wv().x(Wh).y1(Hh).y0(function(m){return m.base.y}),h.defined(Av).curve(d),h(g)}return l==="vertical"&&he(s)?h=wv().y(Hh).x1(Wh).x0(s):he(s)?h=wv().x(Wh).y1(Hh).y0(s):h=a9().x(Wh).y(Hh),h.defined(Av).curve(d),h(f)},Fc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?AMe(t):a;return y.createElement("path",XN({},Re(t,!1),Cx(t),{className:et("recharts-curve",r),d:s,ref:i}))},uq={exports:{}},TMe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MMe=TMe,$Me=MMe;function dq(){}function fq(){}fq.resetWarningCache=dq;var IMe=function(){function e(n,a,i,s,l,c){if(c!==$Me){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fq,resetWarningCache:dq};return r.PropTypes=r,r};uq.exports=IMe();var RMe=uq.exports;const St=kt(RMe),{getOwnPropertyNames:DMe,getOwnPropertySymbols:LMe}=Object,{hasOwnProperty:FMe}=Object.prototype;function Mj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Tv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function BMe(e){return e!=null?e[Symbol.toStringTag]:void 0}function LR(e){return DMe(e).concat(LMe(e))}const UMe=Object.hasOwn||((e,t)=>FMe.call(e,t));function Su(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const zMe="__v",VMe="__o",WMe="_owner",{getOwnPropertyDescriptor:FR,keys:BR}=Object;function HMe(e,t){return e.byteLength===t.byteLength&&ib(new Uint8Array(e),new Uint8Array(t))}function qMe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function GMe(e,t){return e.byteLength===t.byteLength&&ib(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function KMe(e,t){return Su(e.getTime(),t.getTime())}function YMe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function JMe(e,t){return e===t}function UR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let s,l,c=0;for(;(s=i.next())&&!s.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=s.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const XMe=Su;function QMe(e,t,r){const n=BR(e);let a=n.length;if(BR(t).length!==a)return!1;for(;a-- >0;)if(!hq(e,t,r,n[a]))return!1;return!0}function qh(e,t,r){const n=LR(e);let a=n.length;if(LR(t).length!==a)return!1;let i,s,l;for(;a-- >0;)if(i=n[a],!hq(e,t,r,i)||(s=FR(e,i),l=FR(t,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function ZMe(e,t){return Su(e.valueOf(),t.valueOf())}function e$e(e,t){return e.source===t.source&&e.flags===t.flags}function zR(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let s,l;for(;(s=i.next())&&!s.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(s.value,l.value,s.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function ib(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function t$e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function hq(e,t,r,n){return(n===WMe||n===VMe||n===zMe)&&(e.$$typeof||t.$$typeof)?!0:UMe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const r$e="[object ArrayBuffer]",n$e="[object Arguments]",a$e="[object Boolean]",i$e="[object DataView]",s$e="[object Date]",o$e="[object Error]",l$e="[object Map]",c$e="[object Number]",u$e="[object Object]",d$e="[object RegExp]",f$e="[object Set]",h$e="[object String]",p$e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},m$e="[object URL]",g$e=Object.prototype.toString;function v$e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:p,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,x):w==="function"?i(v,b,x):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,x);if(Array.isArray(v))return t(v,b,x);if(_===Date)return n(v,b,x);if(_===RegExp)return d(v,b,x);if(_===Map)return s(v,b,x);if(_===Set)return f(v,b,x);const S=g$e.call(v);if(S===s$e)return n(v,b,x);if(S===d$e)return d(v,b,x);if(S===l$e)return s(v,b,x);if(S===f$e)return f(v,b,x);if(S===u$e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,x);if(S===m$e)return p(v,b,x);if(S===o$e)return a(v,b,x);if(S===n$e)return c(v,b,x);if(p$e[S])return h(v,b,x);if(S===r$e)return e(v,b,x);if(S===i$e)return r(v,b,x);if(S===a$e||S===c$e||S===h$e)return u(v,b,x);if(g){let N=g[S];if(!N){const k=BMe(v);k&&(N=g[k])}if(N)return N(v,b,x)}return!1}}function y$e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:HMe,areArraysEqual:r?qh:qMe,areDataViewsEqual:GMe,areDatesEqual:KMe,areErrorsEqual:YMe,areFunctionsEqual:JMe,areMapsEqual:r?Mj(UR,qh):UR,areNumbersEqual:XMe,areObjectsEqual:r?qh:QMe,arePrimitiveWrappersEqual:ZMe,areRegExpsEqual:e$e,areSetsEqual:r?Mj(zR,qh):zR,areTypedArraysEqual:r?Mj(ib,qh):ib,areUrlsEqual:t$e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Tv(n.areArraysEqual),i=Tv(n.areMapsEqual),s=Tv(n.areObjectsEqual),l=Tv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:s,areSetsEqual:l})}return n}function x$e(e){return function(t,r,n,a,i,s,l){return e(t,r,l)}}function b$e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const w$e=ql();ql({strict:!0});ql({circular:!0});ql({circular:!0,strict:!0});ql({createInternalComparator:()=>Su});ql({strict:!0,createInternalComparator:()=>Su});ql({circular:!0,createInternalComparator:()=>Su});ql({circular:!0,createInternalComparator:()=>Su,strict:!0});function ql(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=y$e(e),s=v$e(i),l=r?r(s):x$e(s);return b$e({circular:t,comparator:s,createState:n,equals:l,strict:a})}function _$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function VR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):_$e(a)};requestAnimationFrame(n)}function QN(e){"@babel/helpers - typeof";return QN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(e)}function j$e(e){return C$e(e)||k$e(e)||N$e(e)||S$e()}function S$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$e(e,t){if(e){if(typeof e=="string")return WR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WR(e,t)}}function WR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function C$e(e){if(Array.isArray(e))return e}function E$e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=j$e(s),c=l[0],u=l.slice(1);if(typeof c=="number"){VR(a.bind(null,u),c);return}a(c),VR(a.bind(null,u));return}QN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return t=P$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P$e(e){var t=O$e(e,"string");return Bm(t)==="symbol"?t:String(t)}function O$e(e,t){if(Bm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},T$e=function(t){return t},M$e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Cp=function(t,r){return Object.keys(r).reduce(function(n,a){return qR(qR({},n),{},pq({},a,t(a,r[a])))},{})},GR=function(t,r,n){return t.map(function(a){return"".concat(M$e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $$e(e,t){return D$e(e)||R$e(e,t)||mq(e,t)||I$e()}function I$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function D$e(e){if(Array.isArray(e))return e}function L$e(e){return U$e(e)||B$e(e)||mq(e)||F$e()}function F$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mq(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function B$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function U$e(e){if(Array.isArray(e))return ZN(e)}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sb=1e-4,gq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},vq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},KR=function(t,r){return function(n){var a=gq(t,r);return vq(a,n)}},z$e=function(t,r){return function(n){var a=gq(t,r),i=[].concat(L$e(a.map(function(s,l){return s*l}).slice(1)),[0]);return vq(i,n)}},YR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=$$e(u,4);a=d[0],i=d[1],s=d[2],l=d[3]}}}var f=KR(a,s),h=KR(i,l),p=z$e(a,s),g=function(b){return b>1?1:b<0?0:b},m=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var S=f(w)-x,N=p(w);if(Math.abs(S-x)<sb||N<sb)return h(w);w=g(w-S/N)}return h(w)};return m.isStepper=!1,m},V$e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,l=s===void 0?17:s,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<sb&&Math.abs(m)<sb?[f,0]:[v,m]};return c.isStepper=!0,c.dt=l,c},W$e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YR(a);case"spring":return V$e();default:if(a.split("(")[0]==="cubic-bezier")return YR(a)}return typeof a=="function"?a:null};function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function JR(e){return G$e(e)||q$e(e)||yq(e)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G$e(e){if(Array.isArray(e))return tk(e)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){ek(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ek(e,t,r){return t=K$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K$e(e){var t=Y$e(e,"string");return Um(t)==="symbol"?t:String(t)}function Y$e(e,t){if(Um(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J$e(e,t){return Z$e(e)||Q$e(e,t)||yq(e,t)||X$e()}function X$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yq(e,t){if(e){if(typeof e=="string")return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Z$e(e){if(Array.isArray(e))return e}var ob=function(t,r,n){return t+(r-t)*n},rk=function(t){var r=t.from,n=t.to;return r!==n},eIe=function e(t,r,n){var a=Cp(function(i,s){if(rk(s)){var l=t(s.from,s.to,s.velocity),c=J$e(l,2),u=c[0],d=c[1];return on(on({},s),{},{from:u,velocity:d})}return s},r);return n<1?Cp(function(i,s){return rk(s)?on(on({},s),{},{velocity:ob(s.velocity,a[i].velocity,n),from:ob(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const tIe=function(e,t,r,n,a){var i=A$e(e,t),s=i.reduce(function(v,b){return on(on({},v),{},ek({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return on(on({},v),{},ek({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Cp(function(b,x){return x.from},l)},p=function(){return!Object.values(l).filter(rk).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=eIe(r,l,w),a(on(on(on({},e),t),h())),u=b,p()||(c=requestAnimationFrame(f))},m=function(b){d||(d=b);var x=(b-d)/n,w=Cp(function(S,N){return ob.apply(void 0,JR(N).concat([r(x)]))},s);if(a(on(on(on({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=Cp(function(S,N){return ob.apply(void 0,JR(N).concat([r(1)]))},s);a(on(on(on({},e),t),_))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}var rIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nIe(e,t){if(e==null)return{};var r=aIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function $j(e){return lIe(e)||oIe(e)||sIe(e)||iIe()}function iIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sIe(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function oIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lIe(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ip(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xq(n.key),n)}}function dIe(e,t,r){return t&&uIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xq(e){var t=fIe(e,"string");return kf(t)==="symbol"?t:String(t)}function fIe(e,t){if(kf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ak(e,t)}function ak(e,t){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ak(e,t)}function pIe(e){var t=mIe();return function(){var n=lb(e),a;if(t){var i=lb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return ik(this,a)}}function ik(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sk(e)}function sk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lb(e){return lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lb(e)}var Yi=function(e){hIe(r,e);var t=pIe(r);function r(n,a){var i;cIe(this,r),i=t.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,p=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(sk(i)),i.changeStyle=i.changeStyle.bind(sk(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),ik(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},ik(i);i.state={style:c?ip({},c,u):u}}else i.state={style:{}};return i}return dIe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!s){var p={style:c?ip({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(w$e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var v={style:c?ip({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(v)}this.runAnimation(mi(mi({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=tIe(s,l,W$e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,v,b){if(b===0)return m;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,N=v.properties,k=v.onAnimationEnd,C=b>0?s[b-1]:v,A=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat($j(m),[i.runJSAnimation.bind(i,{from:C.style,to:S,duration:x,easing:_}),x]);var T=GR(A,x,_),I=mi(mi(mi({},C.style),S),{},{transition:T});return[].concat($j(m),[I,x,k]).filter(T$e)};return this.manager.start([c].concat($j(s.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=E$e());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?ip({},l,c):c,v=GR(Object.keys(m),s,u);g.start([d,i,mi(mi({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nIe(a,rIe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||s<=0)return i;var f=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,b=g.className,x=y.cloneElement(p,mi(mi({},c),{},{style:mi(mi({},v),d),className:b}));return x};return u===1?f(y.Children.only(i)):M.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);Yi.displayName="Animate";Yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yi.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cb.apply(this,arguments)}function gIe(e,t){return bIe(e)||xIe(e,t)||yIe(e,t)||vIe()}function vIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yIe(e,t){if(e){if(typeof e=="string")return ZR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZR(e,t)}}function ZR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function bIe(e){if(Array.isArray(e))return e}function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(n){wIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wIe(e,t,r){return t=_Ie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ie(e){var t=jIe(e,"string");return zm(t)=="symbol"?t:t+""}function jIe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rD=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>s?s:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},SIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(s,s+c),h=Math.max(s,s+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},NIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MO=function(t){var r=tD(tD({},NIe),t),n=y.useRef(),a=y.useState(-1),i=gIe(a,2),s=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=et("recharts-rectangle",p);return x?M.createElement(Yi,{canBegin:s>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:x},function(_){var S=_.width,N=_.height,k=_.x,C=_.y;return M.createElement(Yi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:b,easing:g},M.createElement("path",cb({},Re(r,!0),{className:w,d:rD(k,C,S,N,h),ref:n})))}):M.createElement("path",cb({},Re(r,!0),{className:w,d:rD(c,u,d,f,h)}))},kIe=["points","className","baseLinePoints","connectNulls"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}function CIe(e,t){if(e==null)return{};var r=EIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nD(e){return TIe(e)||AIe(e)||OIe(e)||PIe()}function PIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OIe(e,t){if(e){if(typeof e=="string")return ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ok(e,t)}}function AIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TIe(e){if(Array.isArray(e))return ok(e)}function ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var aD=function(t){return t&&t.x===+t.x&&t.y===+t.y},MIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){aD(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),aD(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ep=function(t,r){var n=MIe(t);r&&(n=[n.reduce(function(i,s){return[].concat(nD(i),nD(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},$Ie=function(t,r,n){var a=Ep(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ep(r.reverse(),n).slice(1))},IIe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,s=CIe(t,kIe);if(!r||!r.length)return null;var l=et("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=$Ie(r,a,i);return M.createElement("g",{className:l},M.createElement("path",gd({},Re(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?M.createElement("path",gd({},Re(s,!0),{fill:"none",d:Ep(r,i)})):null,c?M.createElement("path",gd({},Re(s,!0),{fill:"none",d:Ep(a,i)})):null)}var d=Ep(r,i);return M.createElement("path",gd({},Re(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:l,d}))};function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lk.apply(this,arguments)}var $g=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=et("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",lk({},Re(t,!1),Cx(t),{className:s,cx:r,cy:n,r:a})):null};function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}var RIe=["x","y","top","left","width","height","className"];function ck(){return ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ck.apply(this,arguments)}function iD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DIe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(r),!0).forEach(function(n){LIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LIe(e,t,r){return t=FIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FIe(e){var t=BIe(e,"string");return Vm(t)=="symbol"?t:t+""}function BIe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UIe(e,t){if(e==null)return{};var r=zIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VIe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},WIe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,l=s===void 0?0:s,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=UIe(t,RIe),v=DIe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!he(n)||!he(i)||!he(f)||!he(p)||!he(l)||!he(u)?null:M.createElement("path",ck({},Re(v,!0),{className:et("recharts-cross",g),d:VIe(n,i,f,p,l,u)}))},HIe=ww,qIe=AH,GIe=Os;function KIe(e,t){return e&&e.length?HIe(e,GIe(t),qIe):void 0}var YIe=KIe;const JIe=kt(YIe);var XIe=ww,QIe=Os,ZIe=TH;function eRe(e,t){return e&&e.length?XIe(e,QIe(t),ZIe):void 0}var tRe=eRe;const rRe=kt(tRe);var nRe=["cx","cy","angle","ticks","axisLine"],aRe=["ticks","tick","angle","tickFormatter","stroke"];function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pp.apply(this,arguments)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){Nw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oD(e,t){if(e==null)return{};var r=iRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function oRe(e,t,r){return t&&lD(e.prototype,t),r&&lD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function lRe(e,t,r){return t=ub(t),cRe(e,bq()?Reflect.construct(t,r||[],ub(e).constructor):t.apply(e,r))}function cRe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uRe(e)}function uRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function ub(e){return ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ub(e)}function dRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uk(e,t)}function Nw(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=fRe(e,"string");return Cf(t)=="symbol"?t:t+""}function fRe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kw=function(e){function t(){return sRe(this,t),lRe(this,t,arguments)}return dRe(t,e),oRe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return Vt(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=JIe(l,function(d){return d.coordinate||0}),u=rRe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=oD(n,nRe),d=l.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Vt(a,i,d[0],s),h=Vt(a,i,d[1],s),p=Zl(Zl(Zl({},Re(u,!1)),{},{fill:"none"},Re(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Pp({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=oD(a,aRe),f=this.getTickTextAnchor(),h=Re(d,!1),p=Re(s,!1),g=i.map(function(m,v){var b=n.getTickValueCoord(m),x=Zl(Zl(Zl(Zl({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},b),{},{payload:m});return M.createElement(lt,Pp({className:et("recharts-polar-radius-axis-tick",sq(s)),key:"tick-".concat(m.coordinate)},ru(n.props,m,v)),t.renderTickItem(s,x,c?c(m.value,v):m.value))});return M.createElement(lt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:M.createElement(lt,{className:et("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Zr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return M.isValidElement(n)?s=M.cloneElement(n,a):We(n)?s=n(a):s=M.createElement(nu,Pp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(y.PureComponent);Nw(kw,"displayName","PolarRadiusAxis");Nw(kw,"axisType","radiusAxis");Nw(kw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ec(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function pRe(e,t,r){return t&&uD(e.prototype,t),r&&uD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mRe(e,t,r){return t=db(t),gRe(e,_q()?Reflect.construct(t,r||[],db(e).constructor):t.apply(e,r))}function gRe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vRe(e)}function vRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function db(e){return db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},db(e)}function yRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dk(e,t)}function dk(e,t){return dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dk(e,t)}function Cw(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=xRe(e,"string");return Ef(t)=="symbol"?t:t+""}function xRe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bRe=Math.PI/180,dD=1e-5,Ew=function(e){function t(){return hRe(this,t),mRe(this,t,arguments)}return yRe(t,e),pRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Vt(i,s,l,n.coordinate),h=Vt(i,s,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*bRe),s;return i>dD?s=a==="outer"?"start":"end":i<-dD?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=ec(ec({},Re(this.props,!1)),{},{fill:"none"},Re(l,!1));if(c==="circle")return M.createElement($g,pc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var d=this.props.ticks,f=d.map(function(h){return Vt(a,i,s,h.coordinate)});return M.createElement(IIe,pc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Re(this.props,!1),f=Re(s,!1),h=ec(ec({},d),{},{fill:"none"},Re(l,!1)),p=i.map(function(g,m){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=ec(ec(ec({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:m,payload:g,x:v.x2,y:v.y2});return M.createElement(lt,pc({className:et("recharts-polar-angle-axis-tick",sq(s)),key:"tick-".concat(g.coordinate)},ru(n.props,g,m)),l&&M.createElement("line",pc({className:"recharts-polar-angle-axis-tick-line"},h,v)),s&&t.renderTickItem(s,x,c?c(g.value,m):g.value))});return M.createElement(lt,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:M.createElement(lt,{className:et("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return M.isValidElement(n)?s=M.cloneElement(n,a):We(n)?s=n(a):s=M.createElement(nu,pc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(y.PureComponent);Cw(Ew,"displayName","PolarAngleAxis");Cw(Ew,"axisType","angleAxis");Cw(Ew,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var wRe=E9,_Re=wRe(Object.getPrototypeOf,Object),jRe=_Re,SRe=No,NRe=jRe,kRe=ko,CRe="[object Object]",ERe=Function.prototype,PRe=Object.prototype,Sq=ERe.toString,ORe=PRe.hasOwnProperty,ARe=Sq.call(Object);function TRe(e){if(!kRe(e)||SRe(e)!=CRe)return!1;var t=NRe(e);if(t===null)return!0;var r=ORe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Sq.call(r)==ARe}var MRe=TRe;const $Re=kt(MRe);var IRe=No,RRe=ko,DRe="[object Boolean]";function LRe(e){return e===!0||e===!1||RRe(e)&&IRe(e)==DRe}var FRe=LRe;const BRe=kt(FRe);function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(this,arguments)}function URe(e,t){return HRe(e)||WRe(e,t)||VRe(e,t)||zRe()}function zRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VRe(e,t){if(e){if(typeof e=="string")return fD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fD(e,t)}}function fD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function WRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function HRe(e){if(Array.isArray(e))return e}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){qRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qRe(e,t,r){return t=GRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GRe(e){var t=KRe(e,"string");return Wm(t)=="symbol"?t:t+""}function KRe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mD=function(t,r,n,a,i){var s=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-s/2,",").concat(r+i),l+="L ".concat(t+n-s/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},YRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JRe=function(t){var r=pD(pD({},YRe),t),n=y.useRef(),a=y.useState(-1),i=URe(a,2),s=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=et("recharts-trapezoid",p);return b?M.createElement(Yi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,N=w.height,k=w.x,C=w.y;return M.createElement(Yi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},M.createElement("path",fb({},Re(r,!0),{className:x,d:mD(k,C,_,S,N),ref:n})))}):M.createElement("g",null,M.createElement("path",fb({},Re(r,!0),{className:x,d:mD(c,u,d,f,h)})))},XRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function QRe(e,t){if(e==null)return{};var r=ZRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){eDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eDe(e,t,r){return t=tDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tDe(e){var t=rDe(e,"string");return Hm(t)=="symbol"?t:t+""}function rDe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nDe(e,t){return hb(hb({},t),e)}function aDe(e,t){return e==="symbols"}function vD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(MO,r);case"trapezoid":return M.createElement(JRe,r);case"sector":return M.createElement(cq,r);case"symbols":if(aDe(t))return M.createElement(QP,r);break;default:return null}}function iDe(e){return y.isValidElement(e)?e.props:e}function Nq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?nDe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,l=e.isActive,c=QRe(e,XRe),u;if(y.isValidElement(t))u=y.cloneElement(t,hb(hb({},c),iDe(t)));else if(We(t))u=t(c);else if($Re(t)&&!BRe(t)){var d=a(t,c);u=M.createElement(vD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(vD,{shapeType:r,elementProps:f})}return l?M.createElement(lt,{className:s},u):u}function Pw(e,t){return t!=null&&"trapezoids"in e.props}function Ow(e,t){return t!=null&&"sectors"in e.props}function qm(e,t){return t!=null&&"points"in e.props}function sDe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function oDe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function lDe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function cDe(e,t){var r;return Pw(e,t)?r=sDe:Ow(e,t)?r=oDe:qm(e,t)&&(r=lDe),r}function uDe(e,t){var r;return Pw(e,t)?r="trapezoids":Ow(e,t)?r="sectors":qm(e,t)&&(r="points"),r}function dDe(e,t){if(Pw(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ow(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qm(e,t)?t.payload:{}}function fDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=uDe(r,t),i=dDe(r,t),s=n.filter(function(c,u){var d=au(i,c),f=r.props[a].filter(function(g){var m=cDe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(s[s.length-1]);return l}var xy;function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function vd(){return vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vd.apply(this,arguments)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function pDe(e,t,r){return t&&xD(e.prototype,t),r&&xD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mDe(e,t,r){return t=pb(t),gDe(e,kq()?Reflect.construct(t,r||[],pb(e).constructor):t.apply(e,r))}function gDe(e,t){if(t&&(Pf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vDe(e)}function vDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function pb(e){return pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pb(e)}function yDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fk(e,t)}function fk(e,t){return fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fk(e,t)}function qa(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=xDe(e,"string");return Pf(t)=="symbol"?t:t+""}function xDe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eo=function(e){function t(r){var n;return hDe(this,t),n=mDe(this,t,[r]),qa(n,"pieRef",null),qa(n,"sectorRefs",[]),qa(n,"id",wu("recharts-pie-")),qa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),qa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return yDe(t,e),pDe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Re(this.props,!1),f=Re(s,!1),h=Re(l,!1),p=s&&s.offsetRadius||20,g=n.map(function(m,v){var b=(m.startAngle+m.endAngle)/2,x=Vt(m.cx,m.cy,m.outerRadius+p,b),w=Lt(Lt(Lt(Lt({},d),m),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,m.cx)},x),_=Lt(Lt(Lt(Lt({},d),m),{},{fill:"none",stroke:m.fill},h),{},{index:v,points:[Vt(m.cx,m.cy,m.outerRadius,b),x]}),S=c;return Ze(c)&&Ze(u)?S="value":Ze(c)&&(S=u),M.createElement(lt,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(s,w,br(m,S)))});return M.createElement(lt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,p=f?s:h,g=Lt(Lt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(lt,vd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ru(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(Nq,vd({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,p=f.prevIsAnimationActive;return M.createElement(Yi,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(w,_){var S=h&&h[_],N=_>0?Oa(w,"paddingAngle",0):0;if(S){var k=Fr(S.endAngle-S.startAngle,w.endAngle-w.startAngle),C=Lt(Lt({},w),{},{startAngle:x+N,endAngle:x+k(m)+N});v.push(C),x=C.endAngle}else{var A=w.endAngle,T=w.startAngle,I=Fr(0,A-T),O=I(m),L=Lt(Lt({},w),{},{startAngle:x+N,endAngle:x+O+N});v.push(L),x=L.endAngle}}),M.createElement(lt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!au(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,p=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!s||!s.length||!he(u)||!he(d)||!he(f)||!he(h))return null;var m=et("recharts-pie",l);return M.createElement(lt,{tabIndex:this.props.rootTabIndex,className:m,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(s),Zr.renderCallByParent(this.props,null,!1),(!p||g)&&bs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);if(We(n))return n(a);var s=et("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Fc,vd({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);var s=i;if(We(n)&&(s=n(a),M.isValidElement(s)))return s;var l=et("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return M.createElement(nu,vd({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(y.PureComponent);xy=Eo;qa(Eo,"displayName","Pie");qa(Eo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Vl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qa(Eo,"parseDeltaAngle",function(e,t){var r=Bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});qa(Eo,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),a=Aa(r,Eg);return t&&t.length?t.map(function(i,s){return Lt(Lt(Lt({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Lt(Lt({},n),i.props)}):[]});qa(Eo,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,s=iq(a,i),l=n+Un(e.cx,a,a/2),c=r+Un(e.cy,i,i/2),u=Un(e.innerRadius,s,0),d=Un(e.outerRadius,s,s*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});qa(Eo,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Lt(Lt({},t.type.defaultProps),t.props):t.props,a=xy.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),g=xy.parseCoordinateOfPie(n,r),m=xy.parseDeltaAngle(s,l),v=Math.abs(m),b=u;Ze(u)&&Ze(f)?(Fi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Ze(u)&&(Fi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=a.filter(function(C){return br(C,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*p-w,S=a.reduce(function(C,A){var T=br(A,b,0);return C+(he(T)?T:0)},0),N;if(S>0){var k;N=a.map(function(C,A){var T=br(C,b,0),I=br(C,d,A),O=(he(T)?T:0)/S,L;A?L=k.endAngle+Bn(m)*c*(T!==0?1:0):L=s;var $=L+Bn(m)*((T!==0?p:0)+O*_),F=(L+$)/2,V=(g.innerRadius+g.outerRadius)/2,z=[{name:I,value:T,payload:C,dataKey:b,type:h}],R=Vt(g.cx,g.cy,V,F);return k=Lt(Lt(Lt({percent:O,cornerRadius:i,name:I,tooltipPayload:z,midAngle:F,middleRadius:V,tooltipPosition:R},C),g),{},{value:br(C,b),startAngle:L,endAngle:$,payload:C,paddingAngle:Bn(m)*c}),k})}return Lt(Lt({},g),{},{sectors:N,data:a})});var bDe=Math.ceil,wDe=Math.max;function _De(e,t,r,n){for(var a=-1,i=wDe(bDe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var jDe=_De,SDe=G9,bD=1/0,NDe=17976931348623157e292;function kDe(e){if(!e)return e===0?e:0;if(e=SDe(e),e===bD||e===-bD){var t=e<0?-1:1;return t*NDe}return e===e?e:0}var Eq=kDe,CDe=jDe,EDe=hw,Ij=Eq;function PDe(e){return function(t,r,n){return n&&typeof n!="number"&&EDe(t,r,n)&&(r=n=void 0),t=Ij(t),r===void 0?(r=t,t=0):r=Ij(r),n=n===void 0?t<r?1:-1:Ij(n),CDe(t,r,n,e)}}var ODe=PDe,ADe=ODe,TDe=ADe(),MDe=TDe;const mb=kt(MDe);function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return t=$De(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $De(e){var t=IDe(e,"string");return Gm(t)=="symbol"?t:t+""}function IDe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RDe=["Webkit","Moz","O","ms"],DDe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=RDe.reduce(function(i,s){return _D(_D({},i),{},Pq({},s+n,r))},{});return a[t]=r,a};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(n){ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aq(n.key),n)}}function FDe(e,t,r){return t&&SD(e.prototype,t),r&&SD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BDe(e,t,r){return t=vb(t),UDe(e,Oq()?Reflect.construct(t,r||[],vb(e).constructor):t.apply(e,r))}function UDe(e,t){if(t&&(Of(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zDe(e)}function zDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function vb(e){return vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vb(e)}function VDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function ga(e,t,r){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=WDe(e,"string");return Of(t)=="symbol"?t:t+""}function WDe(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HDe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Np().domain(mb(0,c)).range([i,i+s-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},ND=function(t){return t.changedTouches&&!!t.changedTouches.length},Af=function(e){function t(r){var n;return LDe(this,t),n=BDe(this,t,[r]),ga(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),ga(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),ga(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ga(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ga(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ga(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ga(n,"handleSlideDragStart",function(a){var i=ND(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return VDe(t,e),FDe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=br(i[n],l,n);return We(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-s):m<0&&(m=Math.max(m,u-s,u-l));var v=this.getIndex({startX:s+m,endX:l+m});(v.startIndex!==h||v.endIndex!==p)&&g&&g(v),this.setState({startX:s+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=ND(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-p-u):x<0&&(x=Math.max(x,f-u)),b[s]=u+x;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,N=function(){var C=v.length-1;return s==="startX"&&(l>c?_%m===0:S%m===0)||l<c&&S===C||s==="endX"&&(l>c?S%m===0:_%m===0)||l>c&&S===C};this.setState(ga(ga({},s,u+x),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(ga({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:s,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=Rj(Rj({},Re(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return M.createElement(lt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:s,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return M.createElement(lt,{className:"recharts-brush-texts"},M.createElement(nu,gb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:s+l/2},g),this.getTextOfTick(a)),M.createElement(nu,gb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:s+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!he(l)||!he(c)||!he(u)||!he(d)||u<=0||d<=0)return null;var w=et("recharts-brush",i),_=M.Children.count(s)===1,S=DDe("userSelect","none");return M.createElement(lt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,a):We(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Rj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?HDe({data:i,width:s,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(y.PureComponent);ga(Af,"displayName","Brush");ga(Af,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var qDe=iO;function GDe(e,t){var r;return qDe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var KDe=GDe,YDe=b9,JDe=Os,XDe=KDe,QDe=la,ZDe=hw;function e4e(e,t,r){var n=QDe(e)?YDe:XDe;return r&&ZDe(e,t,r)&&(t=void 0),n(e,JDe(t))}var t4e=e4e;const r4e=kt(t4e);var ws=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},kD=z9;function n4e(e,t,r){t=="__proto__"&&kD?kD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var a4e=n4e,i4e=a4e,s4e=B9,o4e=Os;function l4e(e,t){var r={};return t=o4e(t),s4e(e,function(n,a,i){i4e(r,a,t(n,a,i))}),r}var c4e=l4e;const u4e=kt(c4e);function d4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var f4e=d4e,h4e=iO;function p4e(e,t){var r=!0;return h4e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var m4e=p4e,g4e=f4e,v4e=m4e,y4e=Os,x4e=la,b4e=hw;function w4e(e,t,r){var n=x4e(e)?g4e:v4e;return r&&b4e(e,t,r)&&(t=void 0),n(e,y4e(t))}var _4e=w4e;const Tq=kt(_4e);var j4e=["x","y"];function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pk.apply(this,arguments)}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){S4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S4e(e,t,r){return t=N4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N4e(e){var t=k4e(e,"string");return Km(t)=="symbol"?t:t+""}function k4e(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function C4e(e,t){if(e==null)return{};var r=E4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P4e(e,t){var r=e.x,n=e.y,a=C4e(e,j4e),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Gh(Gh(Gh(Gh(Gh({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ED(e){return M.createElement(Nq,pk({shapeType:"rectangle",propTransformer:P4e,activeClassName:"recharts-active-bar"},e))}var O4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=he(n)||Qxe(n);return i?t(n,a):(i||su(),r)}},A4e=["value","background"],Mq;function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function T4e(e,t){if(e==null)return{};var r=M4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(this,arguments)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){cl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function I4e(e,t,r){return t&&OD(e.prototype,t),r&&OD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R4e(e,t,r){return t=xb(t),D4e(e,$q()?Reflect.construct(t,r||[],xb(e).constructor):t.apply(e,r))}function D4e(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L4e(e)}function L4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function xb(e){return xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xb(e)}function F4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mk(e,t)}function mk(e,t){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mk(e,t)}function cl(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=B4e(e,"string");return Tf(t)=="symbol"?t:t+""}function B4e(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Nu=function(e){function t(){var r;$4e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=R4e(this,t,[].concat(a)),cl(r,"state",{isAnimationFinished:!1}),cl(r,"id",wu("recharts-bar-")),cl(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),cl(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return F4e(t,e),I4e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:s,m=Nr(Nr(Nr({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(lt,yb({className:"recharts-bar-rectangle"},ru(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(ED,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(Yi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(v,b){var x=h&&h[b];if(x){var w=Fr(x.x,v.x),_=Fr(x.y,v.y),S=Fr(x.width,v.width),N=Fr(x.height,v.height);return Nr(Nr({},v),{},{x:w(g),y:_(g),width:S(g),height:N(g)})}if(s==="horizontal"){var k=Fr(0,v.height),C=k(g);return Nr(Nr({},v),{},{y:v.y+v.height-C,height:C})}var A=Fr(0,v.width),T=A(g);return Nr(Nr({},v),{},{width:T})});return M.createElement(lt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!au(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=Re(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=T4e(u,A4e);if(!f)return null;var p=Nr(Nr(Nr(Nr(Nr({},h),{},{fill:"#eee"},f),c),ru(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(ED,yb({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Aa(d,Mg);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,p=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:br(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(lt,g,f.map(function(m){return M.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=et("recharts-bar",s),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,S=Ze(m)?this.id:m;return M.createElement(lt,{className:b},x||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,M.createElement(lt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!p||v)&&bs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);Mq=Nu;cl(Nu,"displayName","Bar");cl(Nu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});cl(Nu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=g2e(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?Nr(Nr({},m),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?s:i,S=u?_.scale.domain():null,N=j2e({numericAxis:_}),k=Aa(x,Eg),C=f.map(function(A,T){var I,O,L,$,F,V;u?I=v2e(u[d+T],S):(I=br(A,b),Array.isArray(I)||(I=[N,I]));var z=O4e(w,Mq.defaultProps.minPointSize)(I[1],T);if(g==="horizontal"){var R,U=[s.scale(I[0]),s.scale(I[1])],K=U[0],re=U[1];O=_R({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:A,index:T}),L=(R=re??K)!==null&&R!==void 0?R:void 0,$=p.size;var Q=K-re;if(F=Number.isNaN(Q)?0:Q,V={x:O,y:s.y,width:$,height:s.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var j=Bn(F||z)*(Math.abs(z)-Math.abs(F));L-=j,F+=j}}else{var P=[i.scale(I[0]),i.scale(I[1])],E=P[0],B=P[1];if(O=E,L=_R({axis:s,ticks:c,bandSize:a,offset:p.offset,entry:A,index:T}),$=B-E,F=p.size,V={x:i.x,y:L,width:i.width,height:F},Math.abs(z)>0&&Math.abs($)<Math.abs(z)){var D=Bn($||z)*(Math.abs(z)-Math.abs($));$+=D}}return Nr(Nr(Nr({},A),{},{x:O,y:L,width:$,height:F,value:u?I:I[1],payload:A,background:V},k&&k[T]&&k[T].props),{},{tooltipPayload:[nq(r,A)],tooltipPosition:{x:O+$/2,y:L+F/2}})});return Nr({data:C,layout:g},h)});function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function U4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rq(n.key),n)}}function z4e(e,t,r){return t&&AD(e.prototype,t),r&&AD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(r),!0).forEach(function(n){Aw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aw(e,t,r){return t=Rq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rq(e){var t=V4e(e,"string");return Ym(t)=="symbol"?t:t+""}function V4e(e,t){if(Ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $O=function(t,r,n,a,i){var s=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ya(u,Nu);return d.reduce(function(p,g){var m=r[g],v=m.orientation,b=m.domain,x=m.padding,w=x===void 0?{}:x,_=m.mirror,S=m.reversed,N="".concat(v).concat(_?"Mirror":""),k,C,A,T,I;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var O=b[1]-b[0],L=1/0,$=m.categoricalDomain.sort(tbe);if($.forEach(function(P,E){E>0&&(L=Math.min((P||0)-($[E-1]||0),L))}),Number.isFinite(L)){var F=L/O,V=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=F*V/2),m.padding==="no-gap"){var z=Un(t.barCategoryGap,F*V),R=F*V/2;k=R-z-(R-z)/V*z}}}a==="xAxis"?C=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:C=m.range,S&&(C=[C[1],C[0]]);var U=ZH(m,i,h),K=U.scale,re=U.realScaleType;K.domain(b).range(C),eq(K);var Q=tq(K,Pi(Pi({},m),{},{realScaleType:re}));a==="xAxis"?(I=v==="top"&&!_||v==="bottom"&&_,A=n.left,T=f[N]-I*m.height):a==="yAxis"&&(I=v==="left"&&!_||v==="right"&&_,A=f[N]-I*m.width,T=n.top);var j=Pi(Pi(Pi({},m),Q),{},{realScaleType:re,x:A,y:T,scale:K,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return j.bandSize=rb(j,Q),!m.hide&&a==="xAxis"?f[N]+=(I?-1:1)*j.height:m.hide||(f[N]+=(I?-1:1)*j.width),Pi(Pi({},p),{},Aw({},g,j))},{})},Dq=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},W4e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Dq({x:r,y:n},{x:a,y:i})},Lq=function(){function e(t){U4e(this,e),this.scale=t}return z4e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Aw(Lq,"EPS",1e-4);var IO=function(t){var r=Object.keys(t).reduce(function(n,a){return Pi(Pi({},n),{},Aw({},a,Lq.create(t[a])))},{});return Pi(Pi({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return u4e(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Tq(a,function(i,s){return r[s].isInRange(i)})}})};function H4e(e){return(e%180+180)%180}var q4e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=H4e(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},G4e=Os,K4e=Cg,Y4e=dw;function J4e(e){return function(t,r,n){var a=Object(t);if(!K4e(t)){var i=G4e(r);t=Y4e(t),r=function(l){return i(a[l],l,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var X4e=J4e,Q4e=Eq;function Z4e(e){var t=Q4e(e),r=t%1;return t===t?r?t-r:t:0}var eLe=Z4e,tLe=$9,rLe=Os,nLe=eLe,aLe=Math.max;function iLe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:nLe(r);return a<0&&(a=aLe(n+a,0)),tLe(e,rLe(t),a)}var sLe=iLe,oLe=X4e,lLe=sLe,cLe=oLe(lLe),uLe=cLe;const dLe=kt(uLe);var fLe=axe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),RO=y.createContext(void 0),DO=y.createContext(void 0),Fq=y.createContext(void 0),Bq=y.createContext({}),Uq=y.createContext(void 0),zq=y.createContext(0),Vq=y.createContext(0),MD=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,l=t.children,c=t.width,u=t.height,d=fLe(i);return M.createElement(RO.Provider,{value:n},M.createElement(DO.Provider,{value:a},M.createElement(Bq.Provider,{value:i},M.createElement(Fq.Provider,{value:d},M.createElement(Uq.Provider,{value:s},M.createElement(zq.Provider,{value:u},M.createElement(Vq.Provider,{value:c},l)))))))},hLe=function(){return y.useContext(Uq)},Wq=function(t){var r=y.useContext(RO);r==null&&su();var n=r[t];return n==null&&su(),n},pLe=function(){var t=y.useContext(RO);return Xo(t)},mLe=function(){var t=y.useContext(DO),r=dLe(t,function(n){return Tq(n.domain,Number.isFinite)});return r||Xo(t)},Hq=function(t){var r=y.useContext(DO);r==null&&su();var n=r[t];return n==null&&su(),n},gLe=function(){var t=y.useContext(Fq);return t},vLe=function(){return y.useContext(Bq)},LO=function(){return y.useContext(Vq)},FO=function(){return y.useContext(zq)};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function yLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gq(n.key),n)}}function bLe(e,t,r){return t&&xLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wLe(e,t,r){return t=bb(t),_Le(e,qq()?Reflect.construct(t,r||[],bb(e).constructor):t.apply(e,r))}function _Le(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jLe(e)}function jLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qq=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bb(e)}function SLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gk(e,t)}function gk(e,t){return gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gk(e,t)}function $D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ID(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$D(Object(r),!0).forEach(function(n){BO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BO(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=NLe(e,"string");return Mf(t)=="symbol"?t:t+""}function NLe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function kLe(e,t){return OLe(e)||PLe(e,t)||ELe(e,t)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ELe(e,t){if(e){if(typeof e=="string")return RD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RD(e,t)}}function RD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function OLe(e){if(Array.isArray(e))return e}function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}var ALe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):We(t)?n=t(r):n=M.createElement("line",vk({},r,{className:"recharts-reference-line-line"})),n},TLe=function(t,r,n,a,i,s,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:s});if(ws(u,"discard")&&!t.y.isInRange(m))return null;var v=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:s});if(ws(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+p},{x,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:s})});return ws(u,"discard")&&r4e(S,function(N){return!t.isInRange(N)})?null:S}return null};function MLe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=hLe(),d=Wq(a),f=Hq(i),h=gLe();if(!u||!h)return null;Fi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=IO({x:d.scale,y:f.scale}),g=zr(t),m=zr(r),v=n&&n.length===2,b=TLe(p,g,m,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=kLe(b,2),w=x[0],_=w.x,S=w.y,N=x[1],k=N.x,C=N.y,A=ws(e,"hidden")?"url(#".concat(u,")"):void 0,T=ID(ID({clipPath:A},Re(e,!0)),{},{x1:_,y1:S,x2:k,y2:C});return M.createElement(lt,{className:et("recharts-reference-line",l)},ALe(s,T),Zr.renderCallByParent(e,W4e({x1:_,y1:S,x2:k,y2:C})))}var UO=function(e){function t(){return yLe(this,t),wLe(this,t,arguments)}return SLe(t,e),bLe(t,[{key:"render",value:function(){return M.createElement(MLe,this.props)}}])}(M.Component);BO(UO,"displayName","ReferenceLine");BO(UO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ILe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function RLe(e,t,r){return t&&ILe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function DLe(e,t,r){return t=wb(t),LLe(e,Kq()?Reflect.construct(t,r||[],wb(e).constructor):t.apply(e,r))}function LLe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FLe(e)}function FLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!e})()}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}function BLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function Tw(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=ULe(e,"string");return $f(t)=="symbol"?t:t+""}function ULe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zLe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=IO({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return ws(t,"discard")&&!s.isInRange(l)?null:l},Mw=function(e){function t(){return $Le(this,t),DLe(this,t,arguments)}return BLe(t,e),RLe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=zr(a),d=zr(i);if(Fi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zLe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,v=g.className,b=ws(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=LD(LD({clipPath:b},Re(this.props,!0)),{},{cx:h,cy:p});return M.createElement(lt,{className:et("recharts-reference-dot",v)},t.renderDot(m,x),Zr.renderCallByParent(this.props,{x:h-s,y:p-s,width:2*s,height:2*s}))}}])}(M.Component);Tw(Mw,"displayName","ReferenceDot");Tw(Mw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Tw(Mw,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement($g,yk({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function bk(){return bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bk.apply(this,arguments)}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(r),!0).forEach(function(n){$w(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xq(n.key),n)}}function HLe(e,t,r){return t&&WLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qLe(e,t,r){return t=_b(t),GLe(e,Jq()?Reflect.construct(t,r||[],_b(e).constructor):t.apply(e,r))}function GLe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KLe(e)}function KLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!e})()}function _b(e){return _b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_b(e)}function YLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function $w(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=JLe(e,"string");return If(t)=="symbol"?t:t+""}function JLe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XLe=function(t,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=IO({x:d.scale,y:f.scale}),p={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ws(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Dq(p,g)},Iw=function(e){function t(){return VLe(this,t),qLe(this,t,arguments)}return YLe(t,e),HLe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Fi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=zr(a),h=zr(i),p=zr(s),g=zr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var v=XLe(f,h,p,g,this.props);if(!v&&!m)return null;var b=ws(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(lt,{className:et("recharts-reference-area",c)},t.renderRect(m,BD(BD({clipPath:b},Re(this.props,!0)),v)),Zr.renderCallByParent(this.props,v))}}])}(M.Component);$w(Iw,"displayName","ReferenceArea");$w(Iw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$w(Iw,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(MO,bk({},t,{className:"recharts-reference-area-rect"})),r});function Qq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function QLe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return q4e(n,r)}function ZLe(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function jb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function eFe(e,t){return Qq(e,t+1)}function tFe(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Qq(n,u)};var m=c,v,b=function(){return v===void 0&&(v=r(g,m)),v},x=g.coordinate,w=c===0||jb(e,x,b,d,l);w||(c=0,d=s,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){rFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rFe(e,t,r){return t=nFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nFe(e){var t=aFe(e,"string");return Jm(t)=="symbol"?t:t+""}function aFe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iFe(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===s-1){var v=e*(p.coordinate+e*m()/2-c);i[h]=p=xn(xn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=xn(xn({},p),{},{tickCoord:p.coordinate});var b=jb(e,p.tickCoord,m,l,c);b&&(c=p.tickCoord-e*(m()/2+a),i[h]=xn(xn({},p),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return i}function sFe(e,t,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);s[l-1]=d=xn(xn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=jb(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),s[l-1]=xn(xn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(x){var w=s[x],_,S=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var N=e*(w.coordinate-e*S()/2-c);s[x]=w=xn(xn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else s[x]=w=xn(xn({},w),{},{tickCoord:w.coordinate});var k=jb(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+a),s[x]=xn(xn({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function zO(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(he(c)||Vl.isSsr)return eFe(a,typeof c=="number"&&he(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?Sp(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,_){var S=We(u)?u(w.value,_):w.value;return p==="width"?QLe(Sp(S,{fontSize:t,letterSpacing:r}),g,f):Sp(S,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?Bn(a[1].coordinate-a[0].coordinate):1,b=ZLe(i,v,p);return c==="equidistantPreserveStart"?tFe(v,b,m,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=sFe(v,b,m,a,s,c==="preserveStartEnd"):h=iFe(v,b,m,a,s),h.filter(function(x){return x.isShow}))}var oFe=["viewBox"],lFe=["viewBox"],cFe=["ticks"];function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function yd(){return yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yd.apply(this,arguments)}function zD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(r),!0).forEach(function(n){VO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dj(e,t){if(e==null)return{};var r=uFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e7(n.key),n)}}function fFe(e,t,r){return t&&VD(e.prototype,t),r&&VD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hFe(e,t,r){return t=Sb(t),pFe(e,Zq()?Reflect.construct(t,r||[],Sb(e).constructor):t.apply(e,r))}function pFe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(e)}function mFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zq=function(){return!!e})()}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}function gFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function VO(e,t,r){return t=e7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e7(e){var t=vFe(e,"string");return Rf(t)=="symbol"?t:t+""}function vFe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bh=function(e){function t(r){var n;return dFe(this,t),n=hFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return gFe(t,e),fFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Dj(n,oFe),l=this.props,c=l.viewBox,u=Dj(l,lFe);return!$d(i,c)||!$d(s,u)||!$d(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,v,b,x,w=f?-1:1,_=n.tickSize||d,S=he(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=s+ +!f*c,m=v-w*_,x=m-w*h,b=S;break;case"left":m=v=n.coordinate,g=i+ +!f*l,p=g-w*_,b=p-w*h,x=S;break;case"right":m=v=n.coordinate,g=i+ +f*l,p=g+w*_,b=p+w*h,x=S;break;default:p=g=n.coordinate,v=s+ +f*c,m=v+w*_,x=m+w*h,b=S;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=$r($r($r({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=$r($r({},f),{},{x1:a,y1:i+h*l,x2:a+s,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=$r($r({},f),{},{x1:a+p*s,y1:i,x2:a+p*s,y2:i+l})}return M.createElement("line",yd({},f,{className:et("recharts-cartesian-axis-line",Oa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=zO($r($r({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Re(this.props,!1),b=Re(d,!1),x=$r($r({},v),{},{fill:"none"},Re(c,!1)),w=p.map(function(_,S){var N=s.getTickLineCoord(_),k=N.line,C=N.tick,A=$r($r($r($r({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},b),C),{},{index:S,payload:_,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(lt,yd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ru(s.props,_,S)),c&&M.createElement("line",yd({},x,k,{className:et("recharts-cartesian-axis-tick-line",Oa(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(We(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Dj(f,cFe),g=h;return We(c)&&(g=h&&h.length>0?c(this.props):c(p)),s<=0||l<=0||!g||!g.length?null:M.createElement(lt,{className:et("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Zr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s,l=et(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?s=M.cloneElement(n,$r($r({},a),{},{className:l})):We(n)?s=n($r($r({},a),{},{className:l})):s=M.createElement(nu,yd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(y.Component);VO(bh,"displayName","CartesianAxis");VO(bh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var yFe=["x1","y1","x2","y2","key"],xFe=["offset"];function ou(e){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ou(e)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){bFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bFe(e,t,r){return t=wFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wFe(e){var t=_Fe(e,"string");return ou(t)=="symbol"?t:t+""}function _Fe(e,t){if(ou(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ou(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sc.apply(this,arguments)}function HD(e,t){if(e==null)return{};var r=jFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var SFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function t7(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,l=t.key,c=HD(t,yFe),u=Re(c,!1);u.offset;var d=HD(u,xFe);r=M.createElement("line",Sc({},d,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function NFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=jn(jn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return t7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function kFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=jn(jn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return t7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function CFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+s-h:d[p+1]-h;if(m<=0)return null;var v=p%t.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function EFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var v=p%n.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:s,width:m,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var PFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return QH(zO(jn(jn(jn({},bh.defaultProps),n),{},{ticks:Xs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},OFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return QH(zO(jn(jn(jn({},bh.defaultProps),n),{},{ticks:Xs(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Hu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Rw(e){var t,r,n,a,i,s,l=LO(),c=FO(),u=vLe(),d=jn(jn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Hu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Hu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Hu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Hu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Hu.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Hu.verticalFill,x:he(e.x)?e.x:u.left,y:he(e.y)?e.y:u.top,width:he(e.width)?e.width:u.width,height:he(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=pLe(),w=mLe();if(!he(p)||p<=0||!he(g)||g<=0||!he(f)||f!==+f||!he(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||PFe,S=d.horizontalCoordinatesGenerator||OFe,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&We(S)){var C=v&&v.length,A=S({yAxis:w?jn(jn({},w),{},{ticks:C?v:w.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Fi(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ou(A),"]")),Array.isArray(A)&&(N=A)}if((!k||!k.length)&&We(_)){var T=b&&b.length,I=_({xAxis:x?jn(jn({},x),{},{ticks:T?b:x.ticks}):void 0,width:l,height:c,offset:u},T?!0:m);Fi(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ou(I),"]")),Array.isArray(I)&&(k=I)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(SFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(NFe,Sc({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:w})),M.createElement(kFe,Sc({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),M.createElement(CFe,Sc({},d,{horizontalPoints:N})),M.createElement(EFe,Sc({},d,{verticalPoints:k})))}Rw.displayName="CartesianGrid";var AFe=["type","layout","connectNulls","ref"],TFe=["key"];function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function qD(e,t){if(e==null)return{};var r=MFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){Oi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qu(e){return DFe(e)||RFe(e)||IFe(e)||$Fe()}function $Fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IFe(e,t){if(e){if(typeof e=="string")return jk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jk(e,t)}}function RFe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DFe(e){if(Array.isArray(e))return jk(e)}function jk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n7(n.key),n)}}function FFe(e,t,r){return t&&KD(e.prototype,t),r&&KD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BFe(e,t,r){return t=Nb(t),UFe(e,r7()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function UFe(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zFe(e)}function zFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function VFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function Oi(e,t,r){return t=n7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=WFe(e,"string");return Df(t)=="symbol"?t:t+""}function WFe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ig=function(e){function t(){var r;LFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=BFe(this,t,[].concat(a)),Oi(r,"state",{isAnimationFinished:!0,totalLength:0}),Oi(r,"generateSimpleStrokeDasharray",function(s,l){return"".concat(l,"px ").concat(s-l,"px")}),Oi(r,"getStrokeDasharray",function(s,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,s);for(var d=Math.floor(s/u),f=s%u,h=l-s,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(qu(c.slice(0,g)),[f-m]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(qu(t.repeat(c,d)),qu(p),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Oi(r,"id",wu("recharts-line-")),Oi(r,"pathRef",function(s){r.mainCurve=s}),Oi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Oi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return VFe(t,e),FFe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Aa(d,Mg);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:br(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(lt,p,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Re(this.props,!1),h=Re(c,!0),p=u.map(function(m,v){var b=ma(ma(ma({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(lt,Op({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,s){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=qD(l,AFe),h=ma(ma(ma({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:c,layout:u,connectNulls:d});return M.createElement(Fc,Op({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,b=this.state,x=b.prevPoints,w=b.totalLength;return M.createElement(Yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(x){var N=x.length/l.length,k=l.map(function(O,L){var $=Math.floor(L*N);if(x[$]){var F=x[$],V=Fr(F.x,O.x),z=Fr(F.y,O.y);return ma(ma({},O),{},{x:V(S),y:z(S)})}if(g){var R=Fr(m*2,O.x),U=Fr(v/2,O.y);return ma(ma({},O),{},{x:R(S),y:U(S)})}return ma(ma({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(k,n,a)}var C=Fr(0,w),A=C(S),T;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});T=i.getStrokeDasharray(A,w,I)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&s&&s.length&&(!u&&d>0||!au(u,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=et("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,k=Ze(v)?this.id:v,C=(n=Re(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,T=A===void 0?3:A,I=C.strokeWidth,O=I===void 0?2:I,L=HW(s)?s:{},$=L.clipDot,F=$===void 0?!0:$,V=T*2+O;return M.createElement(lt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?h:h-p/2,y:S?f:f-g/2,width:_?p:p*2,height:S?g:g*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-V/2,y:f-V/2,width:p+V,height:g+V}))):null,!x&&this.renderCurve(N,k),this.renderErrorBar(N,k),(x||s)&&this.renderDots(N,F,k),(!m||b)&&bs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(qu(n),[0]):n,s=[],l=0;l<a;++l)s=[].concat(qu(s),qu(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(M.isValidElement(n))i=M.cloneElement(n,a);else if(We(n))i=n(a);else{var s=a.key,l=qD(a,TFe),c=et("recharts-line-dot",typeof n!="boolean"?n.className:"");i=M.createElement($g,Op({key:s},l,{className:c}))}return i}}])}(y.PureComponent);Oi(Ig,"displayName","Line");Oi(Ig,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Vl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Oi(Ig,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=br(h,s);return d==="horizontal"?{x:tb({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Ze(g)?null:n.scale(g),value:g,payload:h}:{x:Ze(g)?null:r.scale(g),y:tb({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return ma({points:f,layout:d},u)});var HFe=["layout","type","stroke","connectNulls","isRange","ref"],qFe=["key"],a7;function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function i7(e,t){if(e==null)return{};var r=GFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nc(){return Nc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nc.apply(this,arguments)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){hs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o7(n.key),n)}}function YFe(e,t,r){return t&&JD(e.prototype,t),r&&JD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JFe(e,t,r){return t=kb(t),XFe(e,s7()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function XFe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QFe(e)}function QFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s7=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function ZFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nk(e,t)}function hs(e,t,r){return t=o7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o7(e){var t=e3e(e,"string");return Lf(t)=="symbol"?t:t+""}function e3e(e,t){if(Lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xo=function(e){function t(){var r;KFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=JFe(this,t,[].concat(a)),hs(r,"state",{isAnimationFinished:!0}),hs(r,"id",wu("recharts-area-")),hs(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(s)&&s()}),hs(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(s)&&s()}),r}return ZFe(t,e),YFe(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Re(this.props,!1),p=Re(u,!0),g=d.map(function(v,b){var x=Bo(Bo(Bo({key:"dot-".concat(b),r:3},h),p),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(lt,Nc({className:"recharts-area-dots"},m),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].x,u=s[s.length-1].x,d=n*Math.abs(c-u),f=ll(s.map(function(h){return h.y||0}));return he(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ll(i.map(function(h){return h.y||0})),f)),he(f)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,l=a.strokeWidth,c=s[0].y,u=s[s.length-1].y,d=n*Math.abs(c-u),f=ll(s.map(function(h){return h.x||0}));return he(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ll(i.map(function(h){return h.x||0})),f)),he(f)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=i7(l,HFe);return M.createElement(lt,{clipPath:i?"url(#clipPath-".concat(s,")"):null},M.createElement(Fc,Nc({},Re(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Fc,Nc({},Re(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Fc,Nc({},Re(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,l=s.points,c=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,p=s.animationId,g=this.state,m=g.prevPoints,v=g.prevBaseLine;return M.createElement(Yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(m){var w=m.length/l.length,_=l.map(function(C,A){var T=Math.floor(A*w);if(m[T]){var I=m[T],O=Fr(I.x,C.x),L=Fr(I.y,C.y);return Bo(Bo({},C),{},{x:O(x),y:L(x)})}return C}),S;if(he(c)&&typeof c=="number"){var N=Fr(v,c);S=N(x)}else if(Ze(c)||hh(c)){var k=Fr(v,0);S=k(x)}else S=c.map(function(C,A){var T=Math.floor(A*w);if(v[T]){var I=v[T],O=Fr(I.x,C.x),L=Fr(I.y,C.y);return Bo(Bo({},C),{},{x:O(x),y:L(x)})}return C});return i.renderAreaStatically(_,S,n,a)}return M.createElement(lt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),M.createElement(lt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&s&&s.length&&(!d&&h>0||!au(d,s)||!au(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=et("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,N=_||S,k=Ze(v)?this.id:v,C=(n=Re(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,T=A===void 0?3:A,I=C.strokeWidth,O=I===void 0?2:I,L=HW(s)?s:{},$=L.clipDot,F=$===void 0?!0:$,V=T*2+O;return M.createElement(lt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?d:d-p/2,y:S?u:u-g/2,width:_?p:p*2,height:S?g:g*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:d-V/2,y:u-V/2,width:p+V,height:g+V}))):null,x?null:this.renderArea(N,k),(s||x)&&this.renderDots(N,F,k),(!m||b)&&bs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);a7=xo;hs(xo,"displayName","Area");hs(xo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Vl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});hs(xo,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,l=s??i;if(he(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});hs(xo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,g=u&&u.length,m=a7.getBaseValue(t,r,n,a),v=p==="horizontal",b=!1,x=f.map(function(_,S){var N;g?N=u[d+S]:(N=br(_,c),Array.isArray(N)?b=!0:N=[m,N]);var k=N[1]==null||g&&br(_,c)==null;return v?{x:tb({axis:n,ticks:i,bandSize:l,entry:_,index:S}),y:k?null:a.scale(N[1]),value:N,payload:_}:{x:k?null:n.scale(N[1]),y:tb({axis:a,ticks:s,bandSize:l,entry:_,index:S}),value:N,payload:_}}),w;return g||b?w=x.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=v?a.scale(m):n.scale(m),Bo({points:x,baseLine:w,layout:p,isRange:b},h)});hs(xo,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=et("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=i7(t,qFe);r=M.createElement($g,Nc({},i,{key:a,className:n}))}return r});function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function t3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u7(n.key),n)}}function n3e(e,t,r){return t&&r3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a3e(e,t,r){return t=Cb(t),i3e(e,l7()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function i3e(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s3e(e)}function s3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l7=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function o3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kk(e,t)}function kk(e,t){return kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},kk(e,t)}function c7(e,t,r){return t=u7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=l3e(e,"string");return Ff(t)=="symbol"?t:t+""}function l3e(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ck.apply(this,arguments)}function c3e(e){var t=e.xAxisId,r=LO(),n=FO(),a=Wq(t);return a==null?null:y.createElement(bh,Ck({},a,{className:et("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Xs(s,!0)}}))}var Gl=function(e){function t(){return t3e(this,t),a3e(this,t,arguments)}return o3e(t,e),n3e(t,[{key:"render",value:function(){return y.createElement(c3e,this.props)}}])}(y.Component);c7(Gl,"displayName","XAxis");c7(Gl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function u3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h7(n.key),n)}}function f3e(e,t,r){return t&&d3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h3e(e,t,r){return t=Eb(t),p3e(e,d7()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function p3e(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m3e(e)}function m3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d7=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function g3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ek(e,t)}function f7(e,t,r){return t=h7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=v3e(e,"string");return Bf(t)=="symbol"?t:t+""}function v3e(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}var y3e=function(t){var r=t.yAxisId,n=LO(),a=FO(),i=Hq(r);return i==null?null:y.createElement(bh,Pk({},i,{className:et("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Xs(l,!0)}}))},Kl=function(e){function t(){return u3e(this,t),h3e(this,t,arguments)}return g3e(t,e),f3e(t,[{key:"render",value:function(){return y.createElement(y3e,this.props)}}])}(y.Component);f7(Kl,"displayName","YAxis");f7(Kl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function XD(e){return _3e(e)||w3e(e)||b3e(e)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b3e(e,t){if(e){if(typeof e=="string")return Ok(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ok(e,t)}}function w3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _3e(e){if(Array.isArray(e))return Ok(e)}function Ok(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ak=function(t,r,n,a,i){var s=Aa(t,UO),l=Aa(t,Mw),c=[].concat(XD(s),XD(l)),u=Aa(t,Iw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,v){if(v.props[d]===n&&ws(v.props,"extendDomain")&&he(v.props[f])){var b=v.props[f];return[Math.min(m[0],b),Math.max(m[1],b)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,v){if(v.props[d]===n&&ws(v.props,"extendDomain")&&he(v.props[p])&&he(v.props[g])){var b=v.props[p],x=v.props[g];return[Math.min(m[0],b,x),Math.max(m[1],b,x)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return he(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},p7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,p),!0;case 6:return v.fn.call(v.context,d,f,h,p,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,v=[],b=g.length;m<b;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&s(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(p7);var j3e=p7.exports;const S3e=kt(j3e);var Lj=new S3e,Fj="recharts.syncMouseEvents";function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function N3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m7(n.key),n)}}function C3e(e,t,r){return t&&k3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bj(e,t,r){return t=m7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m7(e){var t=E3e(e,"string");return Xm(t)=="symbol"?t:t+""}function E3e(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P3e=function(){function e(){N3e(this,e),Bj(this,"activeIndex",0),Bj(this,"coordinateList",[]),Bj(this,"layout","horizontal")}return C3e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=s+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function O3e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&he(n)&&he(a))return!0}return!1}function A3e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function g7(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Vt(t,r,n,a),l=Vt(t,r,n,i);return{points:[s,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function T3e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Vt(l,c,u,f),p=Vt(l,c,d,f);n=h.x,a=h.y,i=p.x,s=p.y}else return g7(t);return[{x:n,y:a},{x:i,y:s}]}function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){M3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M3e(e,t,r){return t=$3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $3e(e){var t=I3e(e,"string");return Qm(t)=="symbol"?t:t+""}function I3e(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R3e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Fc;if(h==="ScatterChart")g=s,m=WIe;else if(h==="BarChart")g=A3e(f,s,c,d),m=MO;else if(f==="radial"){var v=g7(s),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},m=cq}else g={points:T3e(f,s,c)},m=Fc;var N=Mv(Mv(Mv(Mv({stroke:"#ccc",pointerEvents:"none"},c),g),Re(p,!1)),{},{payload:l,payloadIndex:u,className:et("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,N):y.createElement(m,N)}var D3e=["item"],L3e=["children","className","width","height","style","compact","title","desc"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function xd(){return xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xd.apply(this,arguments)}function ZD(e,t){return U3e(e)||B3e(e,t)||y7(e,t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function U3e(e){if(Array.isArray(e))return e}function e4(e,t){if(e==null)return{};var r=z3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function V3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x7(n.key),n)}}function H3e(e,t,r){return t&&W3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function q3e(e,t,r){return t=Pb(t),G3e(e,v7()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function G3e(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K3e(e)}function K3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function Y3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tk(e,t)}function Tk(e,t){return Tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Tk(e,t)}function zf(e){return Q3e(e)||X3e(e)||y7(e)||J3e()}function J3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y7(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mk(e,t)}}function X3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q3e(e){if(Array.isArray(e))return Mk(e)}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t4(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=x7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=Z3e(e,"string");return Uf(t)=="symbol"?t:t+""}function Z3e(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e5e={xAxis:["bottom","top"],yAxis:["left","right"]},t5e={width:"100%",height:"100%"},b7={x:0,y:0};function $v(e){return e}var r5e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},n5e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,l=a.radius;return ne(ne(ne({},a),Vt(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return ne(ne(ne({},a),Vt(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return b7},Dw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zf(l),zf(u)):l},[]);return s.length>0?s:t&&t.length&&he(a)&&he(i)?t.slice(a,i+1):[]};function w7(e){return e==="number"?[0,"auto"]:void 0}var $k=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,l=Dw(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?l:f;h=kx(p,s.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(zf(c),[nq(u,h)]):c},[])},r4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=r5e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=u2e(s,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$k(t,r,d,f),p=n5e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},a5e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=XH(d,i);return n.reduce(function(g,m){var v,b=m.type.defaultProps!==void 0?ne(ne({},m.type.defaultProps),m.props):m.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,C=b.includeHidden,A=b[s];if(g[A])return g;var T=Dw(t.data,{graphicalItems:a.filter(function(Q){var j,P=s in Q.props?Q.props[s]:(j=Q.type.defaultProps)===null||j===void 0?void 0:j[s];return P===A}),dataStartIndex:c,dataEndIndex:u}),I=T.length,O,L,$;O3e(b.domain,_,x)&&(O=GN(b.domain,null,_),p&&(x==="number"||N!=="auto")&&($=kp(T,w,"category")));var F=w7(x);if(!O||O.length===0){var V,z=(V=b.domain)!==null&&V!==void 0?V:F;if(w){if(O=kp(T,w,x),x==="category"&&p){var R=ebe(O);S&&R?(L=O,O=mb(0,I)):S||(O=NR(z,O,m).reduce(function(Q,j){return Q.indexOf(j)>=0?Q:[].concat(zf(Q),[j])},[]))}else if(x==="category")S?O=O.filter(function(Q){return Q!==""&&!Ze(Q)}):O=NR(z,O,m).reduce(function(Q,j){return Q.indexOf(j)>=0||j===""||Ze(j)?Q:[].concat(zf(Q),[j])},[]);else if(x==="number"){var U=m2e(T,a.filter(function(Q){var j,P,E=s in Q.props?Q.props[s]:(j=Q.type.defaultProps)===null||j===void 0?void 0:j[s],B="hide"in Q.props?Q.props.hide:(P=Q.type.defaultProps)===null||P===void 0?void 0:P.hide;return E===A&&(C||!B)}),w,i,d);U&&(O=U)}p&&(x==="number"||N!=="auto")&&($=kp(T,w,"category"))}else p?O=mb(0,I):l&&l[A]&&l[A].hasStack&&x==="number"?O=h==="expand"?[0,1]:rq(l[A].stackGroups,c,u):O=JH(T,a.filter(function(Q){var j=s in Q.props?Q.props[s]:Q.type.defaultProps[s],P="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return j===A&&(C||!P)}),x,d,!0);if(x==="number")O=Ak(f,O,A,i,k),z&&(O=GN(z,O,_));else if(x==="category"&&z){var K=z,re=O.every(function(Q){return K.indexOf(Q)>=0});re&&(O=K)}}return ne(ne({},g),{},Ue({},A,ne(ne({},b),{},{axisType:i,domain:O,categoricalDomain:$,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:F,isCategorical:p,layout:d})))},{})},i5e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Dw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=XH(d,i),m=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=x[s],_=w7("number");if(!v[w]){m++;var S;return g?S=mb(0,p):l&&l[w]&&l[w].hasStack?(S=rq(l[w].stackGroups,c,u),S=Ak(f,S,w,i)):(S=GN(_,JH(h,n.filter(function(N){var k,C,A=s in N.props?N.props[s]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[s],T="hide"in N.props?N.props.hide:(C=N.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=Ak(f,S,w,i)),ne(ne({},v),{},Ue({},w,ne(ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:Oa(e5e,"".concat(i,".").concat(m%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},s5e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Aa(d,i),p={};return h&&h.length?p=a5e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(p=i5e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},o5e=function(t){var r=Xo(t),n=Xs(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:sO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rb(r,n)}},n4=function(t){var r=t.children,n=t.defaultShowTooltip,a=ya(r,Af),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},l5e=function(t){return!t||!t.length?!1:t.some(function(r){var n=to(r&&r.type);return n&&n.indexOf("Bar")>=0})},a4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},c5e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ya(f,Af),g=ya(f,ro),m=Object.keys(c).reduce(function(S,N){var k=c[N],C=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},C,S[C]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(S,N){var k=s[N],C=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},C,Oa(S,"".concat(C))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},v),m),x=b.bottom;p&&(b.bottom+=p.props.height||Af.defaultProps.height),g&&r&&(b=h2e(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ne(ne({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},u5e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Lw=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,S=x.offset,N=x.updateId,k=x.dataStartIndex,C=x.dataEndIndex,A=b.barSize,T=b.layout,I=b.barGap,O=b.barCategoryGap,L=b.maxBarSize,$=a4(T),F=$.numericAxisName,V=$.cateAxisName,z=l5e(w),R=[];return w.forEach(function(U,K){var re=Dw(b.data,{graphicalItems:[U],dataStartIndex:k,dataEndIndex:C}),Q=U.type.defaultProps!==void 0?ne(ne({},U.type.defaultProps),U.props):U.props,j=Q.dataKey,P=Q.maxBarSize,E=Q["".concat(F,"Id")],B=Q["".concat(V,"Id")],D={},G=c.reduce(function(H,W){var X=x["".concat(W.axisType,"Map")],de=Q["".concat(W.axisType,"Id")];X&&X[de]||W.axisType==="zAxis"||su();var le=X[de];return ne(ne({},H),{},Ue(Ue({},W.axisType,le),"".concat(W.axisType,"Ticks"),Xs(le)))},D),q=G[V],J=G["".concat(V,"Ticks")],ee=_&&_[E]&&_[E].hasStack&&S2e(U,_[E].stackGroups),Y=to(U.type).indexOf("Bar")>=0,xe=rb(q,J),Ne=[],Je=z&&d2e({barSize:A,stackGroups:_,totalSize:u5e(G,V)});if(Y){var He,Be,st=Ze(P)?L:P,Rt=(He=(Be=rb(q,J,!0))!==null&&Be!==void 0?Be:st)!==null&&He!==void 0?He:0;Ne=f2e({barGap:I,barCategoryGap:O,bandSize:Rt!==xe?Rt:xe,sizeList:Je[B],maxBarSize:st}),Rt!==xe&&(Ne=Ne.map(function(H){return ne(ne({},H),{},{position:ne(ne({},H.position),{},{offset:H.position.offset-Rt/2})})}))}var vr=U&&U.type&&U.type.getComposedData;vr&&R.push({props:ne(ne({},vr(ne(ne({},G),{},{displayedData:re,props:b,dataKey:j,item:U,bandSize:xe,barPosition:Ne,offset:S,stackedData:ee,layout:T,dataStartIndex:k,dataEndIndex:C}))),{},Ue(Ue(Ue({key:U.key||"item-".concat(K)},F,G[F]),V,G[V]),"animationId",N)),childIndex:fbe(U,b.children),item:U})}),R},p=function(b,x){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!x$({props:w}))return null;var k=w.children,C=w.layout,A=w.stackOffset,T=w.data,I=w.reverseStackOrder,O=a4(C),L=O.numericAxisName,$=O.cateAxisName,F=Aa(k,n),V=_2e(T,F,"".concat(L,"Id"),"".concat($,"Id"),A,I),z=c.reduce(function(Q,j){var P="".concat(j.axisType,"Map");return ne(ne({},Q),{},Ue({},P,s5e(w,ne(ne({},j),{},{graphicalItems:F,stackGroups:j.axisType===L&&V,dataStartIndex:_,dataEndIndex:S}))))},{}),R=c5e(ne(ne({},z),{},{props:w,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(z).forEach(function(Q){z[Q]=d(w,z[Q],R,Q.replace("Map",""),r)});var U=z["".concat($,"Map")],K=o5e(U),re=h(w,ne(ne({},z),{},{dataStartIndex:_,dataEndIndex:S,updateId:N,graphicalItems:F,stackGroups:V,offset:R}));return ne(ne({formattedGraphicalItems:re,graphicalItems:F,offset:R,stackGroups:V},K),z)},g=function(v){function b(x){var w,_,S;return V3e(this,b),S=q3e(this,b,[x]),Ue(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(S,"accessibilityManager",new P3e),Ue(S,"handleLegendBBoxUpdate",function(N){if(N){var k=S.state,C=k.dataStartIndex,A=k.dataEndIndex,T=k.updateId;S.setState(ne({legendBBox:N},p({props:S.props,dataStartIndex:C,dataEndIndex:A,updateId:T},ne(ne({},S.state),{},{legendBBox:N}))))}}),Ue(S,"handleReceiveSyncEvent",function(N,k,C){if(S.props.syncId===N){if(C===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Ue(S,"handleBrushChange",function(N){var k=N.startIndex,C=N.endIndex;if(k!==S.state.dataStartIndex||C!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return ne({dataStartIndex:k,dataEndIndex:C},p({props:S.props,dataStartIndex:k,dataEndIndex:C,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:C})}}),Ue(S,"handleMouseEnter",function(N){var k=S.getMouseInfo(N);if(k){var C=ne(ne({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseEnter;We(A)&&A(C,N)}}),Ue(S,"triggeredAfterMouseMove",function(N){var k=S.getMouseInfo(N),C=k?ne(ne({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(C),S.triggerSyncEvent(C);var A=S.props.onMouseMove;We(A)&&A(C,N)}),Ue(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ue(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ue(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Ue(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var C=S.props.onMouseLeave;We(C)&&C(k,N)}),Ue(S,"handleOuterEvent",function(N){var k=dbe(N),C=Oa(S.props,"".concat(k));if(k&&We(C)){var A,T;/.*touch.*/i.test(k)?T=S.getMouseInfo(N.changedTouches[0]):T=S.getMouseInfo(N),C((A=T)!==null&&A!==void 0?A:{},N)}}),Ue(S,"handleClick",function(N){var k=S.getMouseInfo(N);if(k){var C=ne(ne({},k),{},{isTooltipActive:!0});S.setState(C),S.triggerSyncEvent(C);var A=S.props.onClick;We(A)&&A(C,N)}}),Ue(S,"handleMouseDown",function(N){var k=S.props.onMouseDown;if(We(k)){var C=S.getMouseInfo(N);k(C,N)}}),Ue(S,"handleMouseUp",function(N){var k=S.props.onMouseUp;if(We(k)){var C=S.getMouseInfo(N);k(C,N)}}),Ue(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ue(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Ue(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Ue(S,"handleDoubleClick",function(N){var k=S.props.onDoubleClick;if(We(k)){var C=S.getMouseInfo(N);k(C,N)}}),Ue(S,"handleContextMenu",function(N){var k=S.props.onContextMenu;if(We(k)){var C=S.getMouseInfo(N);k(C,N)}}),Ue(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&Lj.emit(Fj,S.props.syncId,N,S.eventEmitterSymbol)}),Ue(S,"applySyncEvent",function(N){var k=S.props,C=k.layout,A=k.syncMethod,T=S.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ne({dataStartIndex:I,dataEndIndex:O},p({props:S.props,dataStartIndex:I,dataEndIndex:O,updateId:T},S.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,$=N.chartY,F=N.activeTooltipIndex,V=S.state,z=V.offset,R=V.tooltipTicks;if(!z)return;if(typeof A=="function")F=A(R,N);else if(A==="value"){F=-1;for(var U=0;U<R.length;U++)if(R[U].value===N.activeLabel){F=U;break}}var K=ne(ne({},z),{},{x:z.left,y:z.top}),re=Math.min(L,K.x+K.width),Q=Math.min($,K.y+K.height),j=R[F]&&R[F].value,P=$k(S.state,S.props.data,F),E=R[F]?{x:C==="horizontal"?R[F].coordinate:re,y:C==="horizontal"?Q:R[F].coordinate}:b7;S.setState(ne(ne({},N),{},{activeLabel:j,activeCoordinate:E,activePayload:P,activeTooltipIndex:F}))}else S.setState(N)}),Ue(S,"renderCursor",function(N){var k,C=S.state,A=C.isTooltipActive,T=C.activeCoordinate,I=C.activePayload,O=C.offset,L=C.activeTooltipIndex,$=C.tooltipAxisBandSize,F=S.getTooltipEventType(),V=(k=N.props.active)!==null&&k!==void 0?k:A,z=S.props.layout,R=N.key||"_recharts-cursor";return M.createElement(R3e,{key:R,activeCoordinate:T,activePayload:I,activeTooltipIndex:L,chartName:r,element:N,isActive:V,layout:z,offset:O,tooltipAxisBandSize:$,tooltipEventType:F})}),Ue(S,"renderPolarAxis",function(N,k,C){var A=Oa(N,"type.axisType"),T=Oa(S.state,"".concat(A,"Map")),I=N.type.defaultProps,O=I!==void 0?ne(ne({},I),N.props):N.props,L=T&&T[O["".concat(A,"Id")]];return y.cloneElement(N,ne(ne({},L),{},{className:et(A,L.className),key:N.key||"".concat(k,"-").concat(C),ticks:Xs(L,!0)}))}),Ue(S,"renderPolarGrid",function(N){var k=N.props,C=k.radialLines,A=k.polarAngles,T=k.polarRadius,I=S.state,O=I.radiusAxisMap,L=I.angleAxisMap,$=Xo(O),F=Xo(L),V=F.cx,z=F.cy,R=F.innerRadius,U=F.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(A)?A:Xs(F,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(T)?T:Xs($,!0).map(function(K){return K.coordinate}),cx:V,cy:z,innerRadius:R,outerRadius:U,key:N.key||"polar-grid",radialLines:C})}),Ue(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,k=S.props,C=k.children,A=k.width,T=k.height,I=S.props.margin||{},O=A-(I.left||0)-(I.right||0),L=KH({children:C,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!L)return null;var $=L.item,F=e4(L,D3e);return y.cloneElement($,ne(ne({},F),{},{chartWidth:A,chartHeight:T,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ue(S,"renderTooltip",function(){var N,k=S.props,C=k.children,A=k.accessibilityLayer,T=ya(C,ba);if(!T)return null;var I=S.state,O=I.isTooltipActive,L=I.activeCoordinate,$=I.activePayload,F=I.activeLabel,V=I.offset,z=(N=T.props.active)!==null&&N!==void 0?N:O;return y.cloneElement(T,{viewBox:ne(ne({},V),{},{x:V.left,y:V.top}),active:z,label:F,payload:z?$:[],coordinate:L,accessibilityLayer:A})}),Ue(S,"renderBrush",function(N){var k=S.props,C=k.margin,A=k.data,T=S.state,I=T.offset,O=T.dataStartIndex,L=T.dataEndIndex,$=T.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Pv(S.handleBrushChange,N.props.onChange),data:A,x:he(N.props.x)?N.props.x:I.left,y:he(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:he(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:L,updateId:"brush-".concat($)})}),Ue(S,"renderReferenceElement",function(N,k,C){if(!N)return null;var A=S,T=A.clipPathId,I=S.state,O=I.xAxisMap,L=I.yAxisMap,$=I.offset,F=N.type.defaultProps||{},V=N.props,z=V.xAxisId,R=z===void 0?F.xAxisId:z,U=V.yAxisId,K=U===void 0?F.yAxisId:U;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(C),xAxis:O[R],yAxis:L[K],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:T})}),Ue(S,"renderActivePoints",function(N){var k=N.item,C=N.activePoint,A=N.basePoint,T=N.childIndex,I=N.isRange,O=[],L=k.props.key,$=k.item.type.defaultProps!==void 0?ne(ne({},k.item.type.defaultProps),k.item.props):k.item.props,F=$.activeDot,V=$.dataKey,z=ne(ne({index:T,dataKey:V,cx:C.x,cy:C.y,r:4,fill:TO(k.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Re(F,!1)),Cx(F));return O.push(b.renderActiveDot(F,z,"".concat(L,"-activePoint-").concat(T))),A?O.push(b.renderActiveDot(F,ne(ne({},z),{},{cx:A.x,cy:A.y}),"".concat(L,"-basePoint-").concat(T))):I&&O.push(null),O}),Ue(S,"renderGraphicChild",function(N,k,C){var A=S.filterFormatItem(N,k,C);if(!A)return null;var T=S.getTooltipEventType(),I=S.state,O=I.isTooltipActive,L=I.tooltipAxis,$=I.activeTooltipIndex,F=I.activeLabel,V=S.props.children,z=ya(V,ba),R=A.props,U=R.points,K=R.isRange,re=R.baseLine,Q=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,j=Q.activeDot,P=Q.hide,E=Q.activeBar,B=Q.activeShape,D=!!(!P&&O&&z&&(j||E||B)),G={};T!=="axis"&&z&&z.props.trigger==="click"?G={onClick:Pv(S.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(G={onMouseLeave:Pv(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Pv(S.handleItemMouseEnter,N.props.onMouseEnter)});var q=y.cloneElement(N,ne(ne({},A.props),G));function J(W){return typeof L.dataKey=="function"?L.dataKey(W.payload):null}if(D)if($>=0){var ee,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var xe=typeof L.dataKey=="function"?J:"payload.".concat(L.dataKey.toString());ee=kx(U,xe,F),Y=K&&re&&kx(re,xe,F)}else ee=U==null?void 0:U[$],Y=K&&re&&re[$];if(B||E){var Ne=N.props.activeIndex!==void 0?N.props.activeIndex:$;return[y.cloneElement(N,ne(ne(ne({},A.props),G),{},{activeIndex:Ne})),null,null]}if(!Ze(ee))return[q].concat(zf(S.renderActivePoints({item:A,activePoint:ee,basePoint:Y,childIndex:$,isRange:K})))}else{var Je,He=(Je=S.getItemByXY(S.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:q},Be=He.graphicalItem,st=Be.item,Rt=st===void 0?N:st,vr=Be.childIndex,H=ne(ne(ne({},A.props),G),{},{activeIndex:vr});return[y.cloneElement(Rt,H),null,null]}return K?[q,null,null]:[q,null]}),Ue(S,"renderCustomized",function(N,k,C){return y.cloneElement(N,ne(ne({key:"recharts-customized-".concat(C)},S.props),S.state))}),Ue(S,"renderMap",{CartesianGrid:{handler:$v,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:$v},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:$v},YAxis:{handler:$v},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:wu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=K9(S.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return Y3e(b,v),H3e(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,N=w.height,k=w.layout,C=ya(_,ba);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=$k(this.state,S,A,T),O=this.state.tooltipTicks[A].coordinate,L=(this.state.offset.top+N)/2,$=k==="horizontal",F=$?{x:O,y:L}:{y:O,x:L},V=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});V&&(F=ne(ne({},F),V.props.points[A].tooltipPosition),I=V.props.points[A].tooltipPayload);var z={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:I,activeCoordinate:F};this.setState(z),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){lN([ya(w.children,ba)],[ya(this.props.children,ba)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ya(this.props.children,ba);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),N=LEe(S),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},C=S.width/_.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,C);if(!A)return null;var T=this.state,I=T.xAxisMap,O=T.yAxisMap,L=this.getTooltipEventType(),$=r4(this.state,this.props.data,this.props.layout,A);if(L!=="axis"&&I&&O){var F=Xo(I).scale,V=Xo(O).scale,z=F&&F.invert?F.invert(k.chartX):null,R=V&&V.invert?V.invert(k.chartY):null;return ne(ne({},k),{},{xValue:z,yValue:R},$)}return $?ne(ne({},k),$):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/S,C=_/S;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,T=k>=A.left&&k<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return T?{x:k,y:C}:null}var I=this.state,O=I.angleAxisMap,L=I.radiusAxisMap;if(O&&L){var $=Xo(O);return ER({x:k,y:C},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=ya(w,ba),N={};S&&_==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Cx(this.props,this.handleOuterEvent);return ne(ne({},k),N)}},{key:"addListener",value:function(){Lj.on(Fj,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Lj.removeListener(Fj,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var N=this.state.formattedGraphicalItems,k=0,C=N.length;k<C;k++){var A=N[k];if(A.item===w||A.props.key===w.key||_===to(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,N=_.top,k=_.height,C=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:N,height:k,width:C})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=ZD(S,2),k=N[0],C=N[1];return ne(ne({},_),{},Ue({},k,C.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=ZD(S,2),k=N[0],C=N[1];return ne(ne({},_),{},Ue({},k,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,N=_.activeItem;if(S&&S.length)for(var k=0,C=S.length;k<C;k++){var A=S[k],T=A.props,I=A.item,O=I.type.defaultProps!==void 0?ne(ne({},I.type.defaultProps),I.props):I.props,L=to(I.type);if(L==="Bar"){var $=(T.data||[]).find(function(R){return SIe(w,R)});if($)return{graphicalItem:A,payload:$}}else if(L==="RadialBar"){var F=(T.data||[]).find(function(R){return ER(w,R)});if(F)return{graphicalItem:A,payload:F}}else if(Pw(A,N)||Ow(A,N)||qm(A,N)){var V=fDe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),z=O.activeIndex===void 0?V:O.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:z}),payload:qm(A,N)?O.data[V]:A.props.data[V]}}}return null}},{key:"render",value:function(){var w=this;if(!x$(this))return null;var _=this.props,S=_.children,N=_.className,k=_.width,C=_.height,A=_.style,T=_.compact,I=_.title,O=_.desc,L=e4(_,L3e),$=Re(L,!1);if(T)return M.createElement(MD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(uN,xd({},$,{width:k,height:C,title:I,desc:O}),this.renderClipPath(),w$(S,this.renderMap)));if(this.props.accessibilityLayer){var F,V;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(V=this.props.role)!==null&&V!==void 0?V:"application",$.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return M.createElement(MD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",xd({className:et("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:k,height:C},A)},z,{ref:function(U){w.container=U}}),M.createElement(uN,xd({},$,{width:k,height:C,title:I,desc:O,style:t5e}),this.renderClipPath(),w$(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ue(g,"displayName",r),Ue(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,S=v.width,N=v.height,k=v.layout,C=v.stackOffset,A=v.margin,T=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=n4(v);return ne(ne(ne({},O),{},{updateId:0},p(ne(ne({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||C!==b.prevStackOffset||!$d(A,b.prevMargin)){var L=n4(v),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=ne(ne({},r4(b,w,k)),{},{updateId:b.updateId+1}),V=ne(ne(ne({},L),$),F);return ne(ne(ne({},V),p(ne({props:v},V),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:C,prevMargin:A,prevChildren:_})}if(!lN(_,b.prevChildren)){var z,R,U,K,re=ya(_,Af),Q=re&&(z=(R=re.props)===null||R===void 0?void 0:R.startIndex)!==null&&z!==void 0?z:T,j=re&&(U=(K=re.props)===null||K===void 0?void 0:K.endIndex)!==null&&U!==void 0?U:I,P=Q!==T||j!==I,E=!Ze(w),B=E&&!P?b.updateId:b.updateId+1;return ne(ne({updateId:B},p(ne(ne({props:v},b),{},{updateId:B,dataStartIndex:Q,dataEndIndex:j}),b)),{},{prevChildren:_,dataStartIndex:Q,dataEndIndex:j})}return null}),Ue(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):We(v)?w=v(b):w=M.createElement($g,b),M.createElement(lt,{className:"recharts-active-dot",key:x},w)});var m=y.forwardRef(function(b,x){return M.createElement(g,xd({},b,{ref:x}))});return m.displayName=g.displayName,m},d5e=Lw({chartName:"LineChart",GraphicalChild:Ig,axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Kl}],formatAxisMap:$O}),f5e=Lw({chartName:"BarChart",GraphicalChild:Nu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Kl}],formatAxisMap:$O}),h5e=Lw({chartName:"PieChart",GraphicalChild:Eo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Ew},{axisType:"radiusAxis",AxisComp:kw}],formatAxisMap:$2e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),p5e=Lw({chartName:"AreaChart",GraphicalChild:xo,axisComponents:[{axisType:"xAxis",AxisComp:Gl},{axisType:"yAxis",AxisComp:Kl}],formatAxisMap:$O});const m5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(lP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return o.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rc,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Appointment Trends"})]}),o.jsx(Ce,{children:"Daily appointment volume over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[300px] w-full",children:o.jsx(pw,{width:"100%",height:"100%",children:o.jsxs(p5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),o.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),o.jsx(Rw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Gl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Kl,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(ba,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(ro,{wrapperStyle:{fontSize:"12px"}}),o.jsx(xo,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),o.jsx(xo,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},i4=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],g5e=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,a)=>n+a.value,0);return r===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ce,{children:"Distribution by type"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Zt,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Consultation Types"})]}),o.jsx(Ce,{children:"Distribution by type"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(pw,{width:"100%",height:"100%",children:o.jsxs(h5e,{children:[o.jsx(Eo,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,a)=>o.jsx(Eg,{fill:i4[a%i4.length]},`cell-${a}`))}),o.jsx(ba,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(ro,{formatter:n=>o.jsx("span",{className:"text-sm",children:n})})]})})})})]})},v5e={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},y5e=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:v5e[r]||"hsl(215, 15%, 45%)"}));return t.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ET,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ce,{children:"Appointment status breakdown"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ET,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Status Distribution"})]}),o.jsx(Ce,{children:"Appointment status breakdown"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(pw,{width:"100%",height:"100%",children:o.jsxs(f5e,{data:t,layout:"vertical",margin:{left:20,right:20},children:[o.jsx(Rw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),o.jsx(Gl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Kl,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),o.jsx(ba,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(Nu,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>o.jsx(Eg,{fill:r.color},`cell-${n}`))})]})})})})]})},x5e=({data:e})=>e.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ce,{children:"Top performing clinicians"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):o.jsxs(ie,{className:"col-span-full lg:col-span-2",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(TT,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Clinician Performance"})]}),o.jsx(Ce,{children:"Top performing clinicians by appointments"})]}),o.jsx(ce,{children:o.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>o.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[o.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&o.jsx(Se,{variant:"default",className:"text-xs",children:"Top Performer"})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[o.jsxs("span",{children:[t.total_appointments," appointments"]}),o.jsx("span",{children:""}),o.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),o.jsx("div",{className:"w-24",children:o.jsx(hf,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?o.jsx(Rc,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?o.jsx(Rc,{className:"w-4 h-4 text-warning"}):o.jsx(_X,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),b5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(lP(r.date),"MMM d")}));return e.length===0?o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ky,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ce,{children:"New patient registrations over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):o.jsxs(ie,{className:"col-span-full lg:col-span-1",children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ky,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Patient Growth"})]}),o.jsx(Ce,{children:"Total patients over time"})]}),o.jsx(ce,{children:o.jsx("div",{className:"h-[200px] w-full",children:o.jsx(pw,{width:"100%",height:"100%",children:o.jsxs(d5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[o.jsx(Rw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),o.jsx(Gl,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(Kl,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),o.jsx(ba,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),o.jsx(ro,{wrapperStyle:{fontSize:"11px"}}),o.jsx(Ig,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},w5e=()=>{var de,le,oe,Ae,pt,mt,ir,La,Kn,Po,ca,As,di,Yl,Eu,Oo,_h,Fg,Pu,fi,Bg,Xe;const{profile:e,signOut:t}=Tr(),[r,n]=y.useState(30),{data:a,loading:i,error:s,refetch:l}=bge(r),[c,u]=y.useState("month"),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(null),[N,k]=y.useState(null),[C,A]=y.useState(!1),[T,I]=y.useState(!1),[O,L]=y.useState(!1),[$,F]=y.useState(null),[V,z]=y.useState(""),[R,U]=y.useState(null),[K,re]=y.useState(!1),[Q,j]=y.useState(null),[P,E]=y.useState("upload"),[B,D]=y.useState([]),[G,q]=y.useState("Campus Africa"),[J,ee]=y.useState("university"),[Y,xe]=y.useState(""),[Ne,Je]=y.useState(null),[He,Be]=y.useState(null);y.useEffect(()=>{(async()=>{try{const _e=await $h.getCorporateClients();_e!=null&&_e.clients&&D(_e.clients)}catch(_e){console.error("Failed to fetch corporate clients:",_e)}})()},[]),y.useEffect(()=>{if(!Ne||P!=="importing")return;const te=setInterval(async()=>{try{const _e=await $h.getJobStatus(Ne);_e!=null&&_e.job&&(Be(_e.job),(_e.job.status==="completed"||_e.job.status==="failed")&&(clearInterval(te),j({summary:{imported:_e.job.imported,duplicates:_e.job.duplicates,errors:_e.job.errors,skipped:_e.job.skipped,total_processed:_e.job.processed},details:_e.job.details}),E("complete"),_e.job.status==="completed"?ue.success(`Import complete! ${_e.job.imported} patients imported.`):ue.error(`Import failed: ${_e.job.error_message||"Unknown error"}`)))}catch(_e){console.error("Error polling job status:",_e)}},2e3);return()=>clearInterval(te)},[Ne,P]),y.useEffect(()=>{(async()=>{A(!0);try{const[_e,ut,Mr,Yn,ua,Pn,da]=await Promise.all([$o.getSummary(c),$o.getPeakTimes(c),$o.getCancellationStats(c),$o.getConversionFunnel(c),$o.getNoShowRates(c),$o.getReceptionistWorkload(c),$o.getTimestampTrends(c)]);f(_e),p(ut),m(Mr),b(Yn),w(ua),S(Pn),k(da)}catch(_e){console.error("Failed to fetch report data:",_e)}finally{A(!1)}})()},[c]);const st=async()=>{I(!0);try{await $o.exportCSV(c),ue.success("Report exported successfully")}catch(te){console.error("Export failed:",te),ue.error("Failed to export report")}finally{I(!1)}},Rt=te=>{var ut;const _e=(ut=te.target.files)==null?void 0:ut[0];_e&&(F(_e),U(null),j(null),E("upload"))},vr=async()=>{var te,_e;if($){re(!0);try{const ut=await $h.preview($,V||void 0);U(ut),E("preview"),ue.success(`File parsed successfully. ${ut.total_rows} rows found.`)}catch(ut){console.error("Preview failed:",ut),(te=ut.message)!=null&&te.includes("password protected")?ue.error("File is password protected. Please enter the password."):(_e=ut.message)!=null&&_e.includes("Invalid password")?ue.error("Invalid password. Please try again."):ue.error(ut.message||"Failed to preview file")}finally{re(!1)}}},H=async()=>{if(!$)return;const te=G==="__new__"?Y:G;if(!te){ue.error("Please select or enter a corporate client name");return}re(!0),E("importing"),Be(null);try{const _e=await $h.startImport($,V||void 0,te,J);if(_e!=null&&_e.job_id)Je(_e.job_id),ue.success(`Import started for ${_e.total_rows} rows. Processing in background...`);else throw new Error("Failed to start import job")}catch(_e){console.error("Import failed:",_e),ue.error(_e.message||"Failed to start import"),E("preview"),re(!1)}},W=async()=>{if(Ne)try{await $h.cancelJob(Ne),ue.success("Import cancelled"),E("preview"),re(!1)}catch{ue.error("Could not cancel import")}},X=()=>{F(null),z(""),U(null),j(null),E("upload"),q("Campus Africa"),ee("university"),xe(""),Je(null),Be(null),re(!1)};return o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("div",{className:"hidden sm:block",children:o.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:i,className:"hidden sm:flex",children:[o.jsx(co,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),o.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:i,className:"sm:hidden",children:o.jsx(co,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),o.jsx(Se,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),o.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:t,children:[o.jsx(Nl,{className:"w-4 h-4 sm:mr-2"}),o.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsxs(rr,{value:r.toString(),onValueChange:te=>n(parseInt(te)),children:[o.jsx(Jt,{className:"w-[140px] sm:w-[180px]",children:o.jsx(nr,{placeholder:"Select period"})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"7",children:"Last 7 days"}),o.jsx(Le,{value:"14",children:"Last 14 days"}),o.jsx(Le,{value:"30",children:"Last 30 days"}),o.jsx(Le,{value:"60",children:"Last 60 days"}),o.jsx(Le,{value:"90",children:"Last 90 days"})]})]})})]}),o.jsxs(Bl,{defaultValue:"analytics",className:"space-y-6",children:[o.jsxs(jo,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[o.jsxs($t,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(hd,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),o.jsxs($t,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(tn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),o.jsxs($t,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(Fn,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),o.jsxs($t,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[o.jsx(dy,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),o.jsx(lr,{value:"analytics",className:"space-y-6",children:i?o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(te=>o.jsx(zt,{className:"h-28"},te))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(zt,{className:"h-80 lg:col-span-2"}),o.jsx(zt,{className:"h-80"})]})]}):a?o.jsxs(o.Fragment,{children:[o.jsx(wge,{overview:a.overview}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(m5e,{data:a.appointment_trends}),o.jsx(g5e,{data:a.consultation_types})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx(x5e,{data:a.clinician_performance}),o.jsx(b5e,{data:a.patient_growth})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(y5e,{data:a.status_distribution}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rc,{className:"w-5 h-5 text-primary"}),o.jsx(we,{className:"text-lg",children:"Quick Insights"})]}),o.jsx(Ce,{children:"Key performance indicators"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),o.jsxs("span",{className:"font-semibold",children:[a.overview.average_consultation_duration.toFixed(1)," min"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),o.jsxs("span",{className:"font-semibold text-success",children:[a.overview.completion_rate,"%"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),o.jsx("span",{className:"font-semibold",children:a.overview.appointments_this_week})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),o.jsx("span",{className:"font-semibold",children:a.overview.total_prescriptions})]})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Failed to load analytics data"}),s&&o.jsx("p",{className:"text-sm mt-2 text-destructive",children:s}),o.jsx(Z,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),o.jsxs(lr,{value:"reports",className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs(rr,{value:c,onValueChange:u,children:[o.jsx(Jt,{className:"w-[150px]",children:o.jsx(nr,{placeholder:"Select period"})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"today",children:"Today"}),o.jsx(Le,{value:"week",children:"Last 7 days"}),o.jsx(Le,{value:"month",children:"Last 30 days"}),o.jsx(Le,{value:"quarter",children:"Last 90 days"}),o.jsx(Le,{value:"year",children:"Last year"})]})]}),o.jsxs(Z,{variant:"outline",onClick:st,disabled:T,children:[T?o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(Ic,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),C?o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(te=>o.jsx(zt,{className:"h-32"},te))}):d?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsx(Ce,{children:"Total Bookings"}),o.jsx(we,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx(Ar,{className:"w-3 h-3 text-green-500"}),"Completed"]}),o.jsx(we,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx(Vi,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),o.jsx(we,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),o.jsx(ce,{children:o.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{className:"pb-2",children:[o.jsxs(Ce,{className:"flex items-center gap-1",children:[o.jsx(Wt,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),o.jsx(we,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),o.jsx(ce,{children:o.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Rc,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),o.jsx(Ce,{children:"When are consultations most requested?"})]}),o.jsx(ce,{className:"space-y-4",children:h!=null&&h.insights?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),o.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),o.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),o.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(de=h.by_day_of_week)==null?void 0:de.map(te=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:te.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?te.count/h.insights.peak_day.bookings*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:te.count})]},te.day))]})]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),o.jsx(Ce,{children:"Distribution of consultation types"})]}),o.jsx(ce,{className:"space-y-3",children:((le=d.service_breakdown)==null?void 0:le.length)>0?d.service_breakdown.map(te=>o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{children:te.service_type}),o.jsxs("span",{className:"font-medium",children:[te.count," (",te.percentage,"%)"]})]}),o.jsx("div",{className:"bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${te.percentage}%`}})})]},te.service_type)):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),N&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wt,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),o.jsxs(Ce,{children:["When do students book consultations? Busiest time: ",(Ae=(oe=N.summary)==null?void 0:oe.busiest_time_slot)==null?void 0:Ae.description]})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(mt=(pt=N.summary)==null?void 0:pt.peak_hour)==null?void 0:mt.time}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),o.jsxs("p",{className:"text-sm text-blue-600",children:[(La=(ir=N.summary)==null?void 0:ir.peak_hour)==null?void 0:La.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:(Po=(Kn=N.summary)==null?void 0:Kn.peak_day)==null?void 0:Po.day}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),o.jsxs("p",{className:"text-sm text-green-600",children:[(As=(ca=N.summary)==null?void 0:ca.peak_day)==null?void 0:As.count," bookings"]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(di=N.summary)==null?void 0:di.total_appointments}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),o.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),o.jsx("div",{className:"flex items-end gap-1 h-32",children:(Yl=N.hourly_distribution)==null?void 0:Yl.map(te=>{var ut;const _e=((ut=N.scaling)==null?void 0:ut.max_hourly)>0?te.count/N.scaling.max_hourly*100:0;return o.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[o.jsx("div",{className:`w-full rounded-t transition-all ${te.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(_e,2)}%`},title:`${te.hour}: ${te.count} bookings`}),o.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:te.hour_numeric%3===0?te.hour.slice(0,2):""})]},te.hour)})}),o.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[o.jsx("span",{children:"00:00"}),o.jsx("span",{children:"06:00"}),o.jsx("span",{children:"12:00"}),o.jsx("span",{children:"18:00"}),o.jsx("span",{children:"23:00"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),o.jsx("div",{className:"grid grid-cols-7 gap-2",children:(Eu=N.daily_distribution)==null?void 0:Eu.map(te=>{var ut;const _e=((ut=N.scaling)==null?void 0:ut.max_daily)>0?te.count/N.scaling.max_daily:0;return o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${te.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(_e,.2)},children:te.count}),o.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:te.day_short})]},te.day)})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("div",{className:"min-w-[600px]",children:[o.jsxs("div",{className:"flex mb-1",children:[o.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(te=>o.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${te}:00`},te))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((te,_e)=>o.jsxs("div",{className:"flex items-center mb-1",children:[o.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:te.slice(0,3)}),o.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(ut,Mr)=>{var da,sA,oA;const Yn=(sA=(da=N.heatmap)==null?void 0:da.data)==null?void 0:sA.find(lA=>lA.day_index===_e&&lA.hour_index===Mr),ua=(Yn==null?void 0:Yn.count)||0,Pn=((oA=N.scaling)==null?void 0:oA.max_heatmap)>0?ua/N.scaling.max_heatmap:0;return o.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:ua>0?`rgba(59, 130, 246, ${Math.max(Pn,.1)})`:"rgba(0,0,0,0.05)"},title:`${te} ${Mr}:00 - ${ua} bookings`},Mr)})})]},te)),o.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),o.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((te,_e)=>o.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${te})`}},_e))}),o.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((Oo=N.daily_trend)==null?void 0:Oo.length)>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),o.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:N.daily_trend.map(te=>o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"w-24 text-muted-foreground",children:te.date}),o.jsx("div",{className:"flex-1 flex items-center gap-1",children:o.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(te.total/Math.max(...N.daily_trend.map(_e=>_e.total||1))*100,5)}%`}})}),o.jsxs("span",{className:"w-20 text-right",children:[o.jsx("span",{className:"font-medium",children:te.total}),te.completed>0&&o.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",te.completed,")"]})]})]},te.date))})]})]})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),o.jsx(Ce,{children:"Top clinicians by appointment volume"})]}),o.jsx(ce,{children:((_h=d.top_clinicians)==null?void 0:_h.length)>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),o.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),o.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),o.jsx("tbody",{children:d.top_clinicians.map(te=>o.jsxs("tr",{className:"border-b last:border-0",children:[o.jsx("td",{className:"py-2",children:te.clinician_name}),o.jsx("td",{className:"text-center py-2",children:te.total_appointments}),o.jsx("td",{className:"text-center py-2 text-green-600",children:te.completed}),o.jsx("td",{className:"text-center py-2 text-red-600",children:te.cancelled}),o.jsxs("td",{className:"text-right py-2",children:[te.total_appointments>0?Math.round(te.completed/te.total_appointments*100):0,"%"]})]},te.clinician_name))})]})}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Rc,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),o.jsx(Ce,{children:"Patient journey from chat to completed consultation"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((te,_e)=>{const ut=v.funnel.chats_initiated||1,Mr=Math.max(te.value/ut*100,5);return o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-40 text-sm text-right",children:te.label}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:o.jsx("div",{className:`${te.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${Mr}%`},children:o.jsx("span",{className:"text-white text-sm font-medium",children:te.value})})})]},te.label)})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),o.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),o.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Vi,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),o.jsx(Ce,{children:"Appointments missed without cancellation"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.summary.no_shows}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),o.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[o.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.summary.no_show_rate,"%"]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(Fg=x.by_day_of_week)==null?void 0:Fg.map(te=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:te.day}),o.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${x.summary.no_shows>0?te.no_shows/x.summary.no_shows*100:0}%`}})}),o.jsx("span",{className:"w-8 text-xs text-right",children:te.no_shows})]},te.day))]})]})]}),_&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),o.jsx(Ce,{children:"Chat and booking distribution"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),o.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((Pu=_.by_receptionist)==null?void 0:Pu.length)>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(te=>o.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:te.receptionist_name}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:[te.chats_handled," chats  ",te.bookings_created," bookings"]})]}),o.jsxs(Se,{variant:te.conversion_rate>=50?"default":"secondary",children:[te.conversion_rate,"% conversion"]})]},te.receptionist_id))]}):o.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):o.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[o.jsx(tn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No report data available"})]})]}),o.jsxs(lr,{value:"management",className:"space-y-6",children:[o.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:o.jsx(Fn,{className:"w-6 h-6 text-primary"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"User Management"}),o.jsx(Ce,{children:"Manage all users"})]})]})}),o.jsxs(Li,{open:O,onOpenChange:te=>{L(te),te||X()},children:[o.jsx(XS,{asChild:!0,children:o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:o.jsx(SX,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Bulk Import"}),o.jsx(Ce,{children:"Import students from Excel"})]})]})})}),o.jsxs(Qa,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[o.jsxs(Za,{children:[o.jsxs(ei,{className:"flex items-center gap-2",children:[o.jsx(OT,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),o.jsx(uf,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),P==="upload"&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[o.jsx(OT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),o.jsxs(ge,{htmlFor:"excel-upload",className:"cursor-pointer",children:[o.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),o.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),o.jsx(rt,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:Rt,className:"hidden"}),$&&o.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[o.jsx(hn,{className:"w-4 h-4"}),$.name," (",($.size/1024).toFixed(1)," KB)"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"password",children:"File Password (if protected)"}),o.jsx(rt,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:V,onChange:te=>z(te.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"corporate-client",children:"Corporate Client"}),o.jsxs(rr,{value:G,onValueChange:q,children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select corporate client"})}),o.jsxs(Xt,{children:[B.map(te=>o.jsxs(Le,{value:te.name,children:[te.name," (",te.code||te.type,")"]},te.id)),o.jsx(Le,{value:"__new__",children:"+ Add New Client"})]})]})]}),G==="__new__"&&o.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-primary",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"new-client-name",children:"New Client Name"}),o.jsx(rt,{id:"new-client-name",placeholder:"e.g., Company XYZ",value:Y,onChange:te=>xe(te.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"client-type",children:"Client Type"}),o.jsxs(rr,{value:J,onValueChange:ee,children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"corporate",children:"Corporate"}),o.jsx(Le,{value:"university",children:"University / College"}),o.jsx(Le,{value:"government",children:"Government"}),o.jsx(Le,{value:"ngo",children:"NGO / Non-Profit"})]})]})]})]}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[o.jsx("p",{className:"font-medium",children:"Expected Columns:"}),o.jsx("p",{className:"text-muted-foreground",children:"Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All patients will be linked to: ",o.jsx("strong",{children:G==="__new__"?Y||"(enter name above)":G}),o.jsx("br",{})," Rows with invalid/missing email will be skipped",o.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",o.jsx("br",{}),' Patients can use "Forgot Password" to set their login password']})]})]}),P==="preview"&&R&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg flex items-center gap-2 mb-4",children:[o.jsx(iS,{className:"w-5 h-5 text-primary"}),o.jsxs("span",{className:"font-medium",children:["Importing to: ",G==="__new__"?Y:G]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.summary.to_import}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.summary.duplicates||0}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",R.total_rows," total rows:"]}),o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:o.jsxs(nN,{children:[o.jsx(aN,{children:o.jsxs(ap,{children:[o.jsx(yi,{className:"w-12",children:"#"}),o.jsx(yi,{children:"Name"}),o.jsx(yi,{children:"Email"}),o.jsx(yi,{children:"Phone"}),o.jsx(yi,{children:"CA Status"}),o.jsx(yi,{children:"Action"})]})}),o.jsx(iN,{children:R.preview_rows.map(te=>{var _e,ut;return o.jsxs(ap,{children:[o.jsx(xi,{className:"font-mono text-xs",children:te.row_number}),o.jsxs(xi,{children:[te.first_name," ",te.last_name]}),o.jsx(xi,{className:"text-xs",children:te.email}),o.jsx(xi,{className:"text-xs",children:te.phone}),o.jsx(xi,{children:o.jsx(Se,{variant:(_e=te.status)!=null&&_e.includes("existing")?"secondary":"outline",children:te.status||"New"})}),o.jsxs(xi,{children:[te.import_action==="import"?o.jsxs(Se,{variant:"default",className:"bg-green-600",children:[o.jsx(hn,{className:"w-3 h-3 mr-1"}),"Import"]}):te.import_action==="duplicate"?o.jsx(Se,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):o.jsxs(Se,{variant:"destructive",children:[o.jsx(gu,{className:"w-3 h-3 mr-1"}),"Error"]}),((ut=te.validation_errors)==null?void 0:ut.length)>0&&o.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:te.validation_errors.join(", ")})]})]},te.row_number)})})]})})]}),P==="importing"&&o.jsxs("div",{className:"space-y-4 py-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx(bt,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),o.jsx("p",{className:"text-lg font-medium mt-4",children:"Importing patients..."}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing in the background. You can close this dialog - the import will continue."})]}),He&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsxs("span",{children:["Progress: ",He.processed||0," / ",He.total_rows||0]}),o.jsxs("span",{children:[He.progress_percent||0,"%"]})]}),o.jsx(hf,{value:He.progress_percent||0,className:"w-full"}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[o.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-green-600",children:He.imported||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-yellow-600",children:He.skipped||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-blue-600",children:He.duplicates||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[o.jsx("p",{className:"text-lg font-bold text-red-600",children:He.errors||0}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),o.jsx(Z,{variant:"outline",onClick:W,className:"w-full",children:"Cancel Import"})]})]}),P==="complete"&&Q&&o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"text-center py-4",children:[o.jsx(hn,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),o.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-green-600",children:Q.summary.imported}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),o.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:Q.summary.skipped}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),o.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Q.summary.duplicates}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),o.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-600",children:Q.summary.errors}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((fi=Q.details)==null?void 0:fi.length)>0&&o.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:o.jsxs(nN,{children:[o.jsx(aN,{children:o.jsxs(ap,{children:[o.jsx(yi,{className:"w-12",children:"#"}),o.jsx(yi,{children:"Email"}),o.jsx(yi,{children:"Status"}),o.jsx(yi,{children:"Details"})]})}),o.jsx(iN,{children:Q.details.slice(0,20).map((te,_e)=>o.jsxs(ap,{children:[o.jsx(xi,{className:"font-mono text-xs",children:te.row}),o.jsx(xi,{className:"text-xs",children:te.email}),o.jsx(xi,{children:o.jsx(Se,{variant:te.status==="imported"?"default":te.status==="skipped"?"secondary":te.status==="duplicate"?"outline":"destructive",className:te.status==="imported"?"bg-green-600":"",children:te.status})}),o.jsx(xi,{className:"text-xs text-muted-foreground",children:te.reason})]},_e))})]})}),o.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),o.jsxs(jp,{children:[P==="upload"&&o.jsx(Z,{onClick:vr,disabled:!$||K,children:K?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):o.jsx(o.Fragment,{children:"Preview File"})}),P==="preview"&&o.jsxs(o.Fragment,{children:[o.jsx(Z,{variant:"outline",onClick:()=>E("upload"),children:"Back"}),o.jsx(Z,{onClick:H,disabled:K||((Bg=R==null?void 0:R.summary)==null?void 0:Bg.to_import)===0,children:K?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Ky,{className:"w-4 h-4 mr-2"}),"Import ",(Xe=R==null?void 0:R.summary)==null?void 0:Xe.to_import," Students"]})})]}),P==="complete"&&o.jsx(Z,{onClick:()=>{L(!1),X()},children:"Done"})]})]})]}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:o.jsx(iS,{className:"w-6 h-6 text-success"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Clinics"}),o.jsx(Ce,{children:"Manage clinic locations"})]})]})}),o.jsx(ie,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:o.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[o.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:o.jsx(Nt,{className:"w-6 h-6 text-warning"})}),o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:"Appointments"}),o.jsx(Ce,{children:"View all bookings"})]})]})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(hd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),o.jsx(Ce,{children:"Recent system events and logs"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(hd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Activity logging coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),o.jsx(lr,{value:"settings",className:"space-y-6",children:o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(dy,{className:"w-5 h-5 text-primary"}),"System Settings"]}),o.jsx(Ce,{children:"Configure system parameters"})]}),o.jsx(ce,{children:o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(dy,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"Settings panel coming soon"}),o.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},_5e=()=>{const e=En(),{toast:t}=eE(),{user:r,profile:n,signOut:a,role:i}=Tr(),{currentConversation:s,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=M6(),[p,g]=y.useState("unassigned"),[m,v]=y.useState([]),[b,x]=y.useState([]),[w,_]=y.useState([]),[S,N]=y.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,C]=y.useState(!1),[A,T]=y.useState(!1),[I,O]=y.useState("chat"),[L,$]=y.useState([]),[F,V]=y.useState(!1),[z,R]=y.useState(!1),[U,K]=y.useState([]),[re,Q]=y.useState([]),[j,P]=y.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),[E,B]=y.useState(!1),[D,G]=y.useState(!1),[q,J]=y.useState(!1),[ee,Y]=y.useState(null),[xe,Ne]=y.useState(null);y.useEffect(()=>{(async()=>{if(s!=null&&s.booking_id)try{const de=(await Hs.list()).find(le=>le.id===s.booking_id);Y(de||null)}catch(X){console.error("Error fetching booking:",X),Y(null)}else Y(null)})()},[s==null?void 0:s.booking_id]);const Je=y.useCallback(async()=>{V(!0);try{const X=(await Hs.list()||[]).sort((de,le)=>new Date(de.scheduled_at).getTime()-new Date(le.scheduled_at).getTime());$(X)}catch(W){console.error("Error loading bookings:",W)}finally{V(!1)}},[]);y.useEffect(()=>{I==="bookings"&&Je()},[I,Je]);const He=async W=>{Ne(W),G(!0)},Be=async()=>{const W=xe||(s!=null&&s.booking_id?{id:s.booking_id}:null);if(W!=null&&W.id){J(!0);try{await Hs.cancel(W.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),G(!1),Ne(null),Y(null),st(),I==="bookings"&&Je()}catch(X){t({title:"Error cancelling booking",description:X.message,variant:"destructive"})}finally{J(!1)}}},st=y.useCallback(async()=>{T(!0);try{const[W,X,de,le]=await Promise.all([Gr.getUnassignedConversations(),Gr.getMyChats(),Gr.getConversations(),Gr.getStats()]);v(W||[]),x(X||[]),_(de||[]),N(le||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(W){console.error("Error loading data:",W)}finally{T(!1)}},[]);y.useEffect(()=>{st();const W=setInterval(st,3e4);return()=>clearInterval(W)},[st]),y.useEffect(()=>{(async()=>{try{const[X,de]=await Promise.all([Hs.getFeeSchedule(),Hs.getAvailableClinicians()]);K(X||[]),Q(de||[]),console.log("Loaded clinicians:",de)}catch(X){console.error("Error loading booking data:",X)}})()},[]);const Rt=async W=>{try{await f(W),t({title:"Chat claimed",description:"You are now handling this conversation"}),await st(),g("my-chats")}catch(X){t({title:"Error",description:X.message,variant:"destructive"})}},vr=async W=>{await u(W.id)},H=async()=>{if(!s||!j.clinician_id||!j.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}B(!0);try{await Hs.create({patient_id:s.patient_id,clinician_id:j.clinician_id,conversation_id:s.id,scheduled_at:new Date(j.scheduled_at).toISOString(),service_type:j.service_type,billing_type:j.billing_type,notes:j.notes||void 0}),t({title:"Booking created",description:"The patient has been notified"}),R(!1),P({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),await u(s.id),await st()}catch(W){t({title:"Error creating booking",description:W.message,variant:"destructive"})}finally{B(!1)}};return i!=="admin"&&i!=="nurse"&&i!=="doctor"&&i!=="receptionist"?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs(ie,{className:"p-8 text-center",children:[o.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),o.jsx(Z,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[o.jsxs(Z,{variant:I==="chat"?"default":"ghost",size:"sm",onClick:()=>O("chat"),children:[o.jsx(Kc,{className:"w-4 h-4 mr-2"}),"Chats"]}),o.jsxs(Z,{variant:I==="bookings"?"default":"ghost",size:"sm",onClick:()=>O("bookings"),children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Se,{variant:"secondary",className:"gap-1",children:[o.jsx(oX,{className:"w-3 h-3"}),S.unassigned_count," Unassigned"]}),o.jsxs(Se,{variant:"default",className:"gap-1",children:[o.jsx(Kc,{className:"w-3 h-3"}),S.my_chats_count," My Chats"]})]}),o.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,children:[o.jsx(Nl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),o.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>C(!k),children:k?o.jsx(wo,{className:"w-5 h-5"}):o.jsx(ug,{className:"w-5 h-5"})})]})}),o.jsx("main",{className:"container mx-auto px-4 py-4",children:I==="chat"?o.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[o.jsxs(ie,{className:"w-80 shrink-0 flex flex-col",children:[o.jsx(me,{className:"pb-2",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(we,{className:"text-lg",children:"Chat Queue"}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:st,disabled:A,children:A?o.jsx(bt,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(ce,{className:"flex-1 p-0 overflow-hidden",children:o.jsxs(Bl,{value:p,onValueChange:g,className:"h-full flex flex-col",children:[o.jsxs(jo,{className:"grid grid-cols-3 mx-4",children:[o.jsxs($t,{value:"unassigned",className:"text-xs",children:["Unassigned",S.unassigned_count>0&&o.jsx(Se,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:S.unassigned_count})]}),o.jsx($t,{value:"my-chats",className:"text-xs",children:"My Chats"}),o.jsx($t,{value:"all",className:"text-xs",children:"All"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o.jsx(lr,{value:"unassigned",className:"m-0 h-full",children:m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[o.jsx(Ar,{className:"w-12 h-12 mb-4 opacity-50"}),o.jsx("p",{children:"No unassigned chats"})]}):o.jsx("div",{className:"divide-y",children:m.map(W=>o.jsxs("div",{className:"p-4 hover:bg-accent",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-sm",children:W.patient_name}),o.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:W.last_message})]}),o.jsx(Se,{variant:"secondary",className:"text-xs",children:"New"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-xs text-muted-foreground",children:W.last_message_at&&yt(new Date(W.last_message_at),"HH:mm")}),o.jsxs(Z,{size:"sm",onClick:()=>Rt(W.id),children:[o.jsx(Ky,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},W.id))})}),o.jsx(lr,{value:"my-chats",className:"m-0 h-full",children:o.jsx(eN,{conversations:b,selectedId:s==null?void 0:s.id,onSelect:vr,showPatientName:!0})}),o.jsx(lr,{value:"all",className:"m-0 h-full",children:o.jsx(eN,{conversations:w,selectedId:s==null?void 0:s.id,onSelect:vr,showPatientName:!0})})]})]})})]}),o.jsx(ie,{className:"flex-1 flex flex-col",children:s?o.jsxs(o.Fragment,{children:[o.jsx(me,{className:"pb-2 border-b",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(we,{className:"text-lg",children:s.patient_name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsx(Se,{variant:"outline",children:s.status.replace("_"," ")}),s.patient_type&&o.jsx(Se,{variant:"secondary",children:s.patient_type.replace("_"," ")})]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(rr,{value:s.patient_type||"",onValueChange:async W=>{await Gr.updatePatientType(s.id,W),await u(s.id)},children:[o.jsx(Jt,{className:"w-[150px]",children:o.jsx(nr,{placeholder:"Patient Type"})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"medical_aid",children:"Medical Aid"}),o.jsx(Le,{value:"campus_africa",children:"Campus Africa"}),o.jsx(Le,{value:"university_student",children:"University Student"}),o.jsx(Le,{value:"cash",children:"Cash / Self-Pay"})]})]}),o.jsxs(Li,{open:z,onOpenChange:R,children:[o.jsx(XS,{asChild:!0,children:o.jsxs(Z,{disabled:s.status==="booked"||!!ee,children:[o.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),o.jsxs(Qa,{className:"max-w-md",children:[o.jsx(Za,{children:o.jsxs(ei,{children:["Create Booking for ",s.patient_name]})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Clinical Associate *"}),o.jsxs(rr,{value:j.clinician_id,onValueChange:W=>P(X=>({...X,clinician_id:W})),children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select clinician"})}),o.jsx(Xt,{children:re.length===0?o.jsx(Le,{value:"",disabled:!0,children:"No clinicians available"}):re.map(W=>o.jsxs(Le,{value:W.id,children:[W.name," (",W.specialization||W.role,")"]},W.id))})]}),re.length===0&&o.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Date & Time *"}),o.jsx(rt,{type:"datetime-local",value:j.scheduled_at,onChange:W=>P(X=>({...X,scheduled_at:W.target.value}))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Service Type"}),o.jsxs(rr,{value:j.service_type,onValueChange:W=>P(X=>({...X,service_type:W})),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:U.map(W=>o.jsxs(Le,{value:W.service_type,children:[W.name," - R",W.price]},W.service_type))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Billing Type"}),o.jsxs(rr,{value:j.billing_type,onValueChange:W=>P(X=>({...X,billing_type:W})),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"medical_aid",children:"Medical Aid"}),o.jsx(Le,{value:"campus_africa",children:"Campus Africa"}),o.jsx(Le,{value:"university_student",children:"University Student"}),o.jsx(Le,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Notes (optional)"}),o.jsx(Lr,{value:j.notes,onChange:W=>P(X=>({...X,notes:W.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),j.billing_type==="cash"&&o.jsx("div",{className:"p-3 bg-muted rounded-lg",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),o.jsxs(jp,{children:[o.jsx(Z,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),o.jsx(Z,{onClick:H,disabled:E||!j.clinician_id,children:E?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),ee&&o.jsxs(Li,{open:D,onOpenChange:G,children:[o.jsx(XS,{asChild:!0,children:o.jsxs(Z,{variant:"destructive",size:"sm",children:[o.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),o.jsxs(Qa,{className:"max-w-md",children:[o.jsxs(Za,{children:[o.jsxs(ei,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(uf,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:s.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:ee.scheduled_at?ea(ee.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:ee.service_type})]}),ee.clinician_name&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),o.jsx("span",{className:"font-medium",children:ee.clinician_name})]})]})}),o.jsxs(jp,{children:[o.jsx(Z,{variant:"outline",onClick:()=>G(!1),children:"Keep Booking"}),o.jsx(Z,{variant:"destructive",onClick:Be,disabled:q,children:q?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),o.jsx(I8,{messages:l,currentUserId:r==null?void 0:r.id}),o.jsx(R8,{onSend:d,disabled:s.status==="closed"})]}):o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[o.jsx(Fn,{className:"w-16 h-16 text-muted-foreground mb-4"}),o.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),o.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):o.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[o.jsxs(ie,{className:"h-full flex flex-col",children:[o.jsx(me,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Nt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),o.jsx(Ce,{children:"Manage upcoming and past consultations"})]}),o.jsx(Z,{variant:"outline",size:"sm",onClick:Je,disabled:F,children:F?o.jsx(bt,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),o.jsx(ce,{className:"flex-1 overflow-y-auto",children:F?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(bt,{className:"w-8 h-8 animate-spin text-primary"})}):L.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[o.jsx(Nt,{className:"w-16 h-16 mb-4 opacity-50"}),o.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),o.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):o.jsx("div",{className:"space-y-3",children:L.map(W=>{var oe;const X=new Date(W.scheduled_at)<new Date,de=W.status==="cancelled",le=W.status==="completed";return o.jsx("div",{className:`p-4 rounded-lg border ${de?"border-red-200 bg-red-50 dark:bg-red-900/10":le?"border-green-200 bg-green-50 dark:bg-green-900/10":X?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"font-semibold",children:W.patient_name||"Patient"}),o.jsx(Se,{variant:de?"destructive":le||W.status==="confirmed"?"default":"secondary",children:W.status})]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[ea(W.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),o.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[o.jsxs("span",{className:"text-muted-foreground",children:["Service: ",o.jsx("span",{className:"text-foreground",children:W.service_type})]}),W.clinician_name&&o.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",o.jsx("span",{className:"text-foreground",children:W.clinician_name})]}),o.jsxs("span",{className:"text-muted-foreground",children:["Type: ",o.jsx("span",{className:"text-foreground capitalize",children:(oe=W.billing_type)==null?void 0:oe.replace("_"," ")})]})]})]}),!de&&!le&&!X&&o.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>He(W),children:[o.jsx(Vi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},W.id)})})})]}),o.jsx(Li,{open:D&&!!xe,onOpenChange:W=>{W||(G(!1),Ne(null))},children:o.jsxs(Qa,{className:"max-w-md",children:[o.jsxs(Za,{children:[o.jsxs(ei,{className:"flex items-center gap-2 text-destructive",children:[o.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),o.jsx(uf,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),xe&&o.jsx("div",{className:"py-4",children:o.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),o.jsx("span",{className:"font-medium",children:xe.patient_name})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),o.jsx("span",{className:"font-medium",children:ea(xe.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),o.jsx("span",{className:"font-medium",children:xe.service_type})]})]})}),o.jsxs(jp,{children:[o.jsx(Z,{variant:"outline",onClick:()=>{G(!1),Ne(null)},children:"Keep Booking"}),o.jsx(Z,{variant:"destructive",onClick:Be,disabled:q,children:q?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},j5e=()=>o.jsx($6,{children:o.jsx(_5e,{})});function s4(e,t){if(e==null)return{};var r,n,a=function(s,l){if(s==null)return{};var c={};for(var u in s)if({}.hasOwnProperty.call(s,u)){if(l.indexOf(u)!==-1)continue;c[u]=s[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function _7(e){var t=function(r,n){if(gt(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n);if(gt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return gt(t)=="symbol"?t:t+""}function o4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_7(n.key),n)}}function Da(e,t,r){return t&&o4(e.prototype,t),r&&o4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fw(e,t){if(t&&(gt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Ji(e){return Ji=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ji(e)}function Zm(e,t){return Zm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Zm(e,t)}function Bw(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zm(e,t)}function ss(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l4(e,t,r,n,a,i,s){try{var l=e[i](s),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ye(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function s(c){l4(i,n,a,s,l,"next",c)}function l(c){l4(i,n,a,s,l,"throw",c)}s(void 0)})}}function c4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function kn(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,s,l,c,u=[],d=!0,f=!1;try{if(l=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(h){f=!0,s=h}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return c4(r,n);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c4(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S5e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var u4,Iv={exports:{}},Ik=function(){if(u4)return Iv.exports;u4=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(m,v,b){return Function.prototype.apply.call(m,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var n=Number.isNaN||function(m){return m!=m};function a(){a.init.call(this)}Iv.exports=a,Iv.exports.once=function(m,v){return new Promise(function(b,x){function w(S){m.removeListener(v,_),x(S)}function _(){typeof m.removeListener=="function"&&m.removeListener("error",w),b([].slice.call(arguments))}g(m,v,_,{once:!0}),v!=="error"&&function(S,N,k){typeof S.on=="function"&&g(S,"error",N,k)}(m,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function s(m){if(typeof m!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof m)}function l(m){return m._maxListeners===void 0?a.defaultMaxListeners:m._maxListeners}function c(m,v,b,x){var w,_,S,N;if(s(b),(_=m._events)===void 0?(_=m._events=Object.create(null),m._eventsCount=0):(_.newListener!==void 0&&(m.emit("newListener",v,b.listener?b.listener:b),_=m._events),S=_[v]),S===void 0)S=_[v]=b,++m._eventsCount;else if(typeof S=="function"?S=_[v]=x?[b,S]:[S,b]:x?S.unshift(b):S.push(b),(w=l(m))>0&&S.length>w&&!S.warned){S.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=m,k.type=v,k.count=S.length,N=k,console&&console.warn&&console.warn(N)}return m}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(m,v,b){var x={fired:!1,wrapFn:void 0,target:m,type:v,listener:b},w=u.bind(x);return w.listener=b,x.wrapFn=w,w}function f(m,v,b){var x=m._events;if(x===void 0)return[];var w=x[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var S=new Array(_.length),N=0;N<S.length;++N)S[N]=_[N].listener||_[N];return S}(w):p(w,w.length)}function h(m){var v=this._events;if(v!==void 0){var b=v[m];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function p(m,v){for(var b=new Array(v),x=0;x<v;++x)b[x]=m[x];return b}function g(m,v,b,x){if(typeof m.on=="function")x.once?m.once(v,b):m.on(v,b);else{if(typeof m.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof m);m.addEventListener(v,function w(_){x.once&&m.removeEventListener(v,w),b(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+m+".");i=m}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(m){if(typeof m!="number"||m<0||n(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(m){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var x=m==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var N=w[m];if(N===void 0)return!1;if(typeof N=="function")r(N,this,v);else{var k=N.length,C=p(N,k);for(b=0;b<k;++b)r(C[b],this,v)}return!0},a.prototype.addListener=function(m,v){return c(this,m,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(m,v){return c(this,m,v,!0)},a.prototype.once=function(m,v){return s(v),this.on(m,d(this,m,v)),this},a.prototype.prependOnceListener=function(m,v){return s(v),this.prependListener(m,d(this,m,v)),this},a.prototype.removeListener=function(m,v){var b,x,w,_,S;if(s(v),(x=this._events)===void 0)return this;if((b=x[m])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete x[m],x.removeListener&&this.emit("removeListener",m,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){S=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(N,k){for(;k+1<N.length;k++)N[k]=N[k+1];N.pop()}(b,w),b.length===1&&(x[m]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",m,S||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(m){var v,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[m]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[m]),this;if(arguments.length===0){var w,_=Object.keys(b);for(x=0;x<_.length;++x)(w=_[x])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[m])=="function")this.removeListener(m,v);else if(v!==void 0)for(x=v.length-1;x>=0;x--)this.removeListener(m,v[x]);return this},a.prototype.listeners=function(m){return f(this,m,!0)},a.prototype.rawListeners=function(m){return f(this,m,!1)},a.listenerCount=function(m,v){return typeof m.listenerCount=="function"?m.listenerCount(v):h.call(m,v)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Iv.exports}(),Rv=S5e(Ik),d4=Object.prototype.hasOwnProperty;function f4(e,t,r){for(r of e.keys())if($n(r,t))return r}function $n(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&$n(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((a=n)&&typeof a=="object"&&!(a=f4(t,a))||!t.has(a))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((a=n[0])&&typeof a=="object"&&!(a=f4(t,a))||!$n(n[1],t.get(a)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(d4.call(e,r)&&++n&&!d4.call(t,r)||!(r in t)||!$n(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const N5e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},j7={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},yr={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},On={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Uo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class se{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const a=se.getVersionPrecision(t),i=se.getVersionPrecision(r);let s=Math.max(a,i),l=0;const c=se.map([t,r],u=>{const d=s-se.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return se.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=s-Math.min(a,i)),s-=1;s>=l;){if(c[0][s]>c[1][s])return 1;if(c[0][s]===c[1][s]){if(s===l)return 0;s-=1}else if(c[0][s]<c[1][s])return-1}}static map(t,r){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)n.push(r(t[a]));return n}static find(t,r){let n,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,a=t.length;n<a;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let a,i;if(Object.assign)return Object.assign(t,...r);for(a=0,i=r.length;a<i;a+=1){const s=r[a];typeof s=="object"&&s!==null&&Object.keys(s).forEach(l=>{n[l]=s[l]})}return t}static getBrowserAlias(t){return N5e[t]}static getBrowserTypeByAlias(t){return j7[t]||""}}const Tt=/version\/(\d+(\.?_?\d+)+)/i,k5e=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=se.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=se.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=se.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=se.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=se.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=se.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=se.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=se.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=se.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=se.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=se.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=se.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=se.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=se.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=se.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=se.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=se.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=se.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=se.getFirstMatch(Tt,e)||se.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=se.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=se.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=se.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=se.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=se.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=se.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=se.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=se.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=se.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=se.getFirstMatch(Tt,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:se.getFirstMatch(t,e),version:se.getSecondMatch(t,e)}}}];var C5e=[{test:[/Roku\/DVP/],describe(e){const t=se.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:On.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=se.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:On.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=se.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=se.getWindowsVersionName(t);return{name:On.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:On.iOS},r=se.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=se.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=se.getMacOSVersionName(t),n={name:On.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=se.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:On.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=se.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=se.getAndroidVersionName(t),n={name:On.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=se.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:On.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=se.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||se.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||se.getFirstMatch(/\bbb(\d+)/i,e);return{name:On.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=se.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:On.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=se.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:On.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:On.Linux})},{test:[/CrOS/],describe:()=>({name:On.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=se.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:On.PlayStation4,version:t}}}],E5e=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=se.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:yr.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:yr.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:yr.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:yr.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:yr.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:yr.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:yr.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=se.getFirstMatch(/(ipod|iphone)/i,e);return{type:yr.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:yr.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:yr.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:yr.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:yr.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:yr.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:yr.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:yr.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:yr.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:yr.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:yr.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:yr.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:yr.tv})}],P5e=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Uo.Blink};const t=se.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Uo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Uo.Trident},r=se.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Uo.Presto},r=se.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Uo.Gecko},r=se.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Uo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Uo.WebKit},r=se.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class h4{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=se.find(k5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=se.find(C5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=se.find(E5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=se.find(P5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return se.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const a={};let i=0;if(Object.keys(t).forEach(s=>{const l=t[s];typeof l=="string"?(a[s]=l,i+=1):typeof l=="object"&&(r[s]=l,n+=1)}),n>0){const s=Object.keys(r),l=se.find(s,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=se.find(s,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const s=Object.keys(a),l=se.find(s,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=se.getBrowserTypeByAlias(a);return r&&i&&(a=i.toLowerCase()),a===n}compareVersion(t){let r=[0],n=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(a=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(a=!0,n=t.substr(1)),r.indexOf(se.compareVersions(i,n,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class O5e{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new h4(t,r)}static parse(t){return new h4(t).getResult()}static get BROWSER_MAP(){return j7}static get ENGINE_MAP(){return Uo}static get OS_MAP(){return On}static get PLATFORMS_MAP(){return yr}}function Uw(){return Date.now()+Math.random().toString()}function Kh(){throw new Error("Method must be implemented in subclass")}function S7(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function Ob(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:S7("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Ab(e){try{new URL(e)}catch{return!1}return!0}const Ft=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Bc="8.55.0",jt=globalThis;function Tb(e,t,r){const n=jt,a=n.__SENTRY__=n.__SENTRY__||{},i=a[Bc]=a[Bc]||{};return i[e]||(i[e]=t())}const ku=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Rk=["debug","info","warn","error","log","assert","trace"],Mb={};function Rg(e){if(!("console"in jt))return e();const t=jt.console,r={},n=Object.keys(Mb);n.forEach(a=>{const i=Mb[a];r[a]=t[a],t[a]=i});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}const tt=Tb("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ku?Rk.forEach(r=>{t[r]=(...n)=>{e&&Rg(()=>{jt.console[r](`Sentry Logger [${r}]:`,...n)})}}):Rk.forEach(r=>{t[r]=()=>{}}),t}),kc="?",p4=/\(error: (.*)\)/,m4=/captureMessage|captureException/;function Dv(e){return e[e.length-1]||{}}const g4="<anonymous>";function Ol(e){try{return e&&typeof e=="function"&&e.name||g4}catch{return g4}}function v4(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const by={},y4={};function Uc(e,t){by[e]=by[e]||[],by[e].push(t)}function zc(e,t){if(!y4[e]){y4[e]=!0;try{t()}catch(r){ku&&tt.error(`Error while instrumenting ${e}`,r)}}}function Bi(e,t){const r=e&&by[e];if(r)for(const n of r)try{n(t)}catch(a){ku&&tt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ol(n)}
Error:`,a)}}let Uj=null;function A5e(){Uj=jt.onerror,jt.onerror=function(e,t,r,n,a){return Bi("error",{column:n,error:a,line:r,msg:e,url:t}),!!Uj&&Uj.apply(this,arguments)},jt.onerror.__SENTRY_INSTRUMENTED__=!0}let zj=null;function T5e(){zj=jt.onunhandledrejection,jt.onunhandledrejection=function(e){return Bi("unhandledrejection",e),!zj||zj.apply(this,arguments)},jt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function zw(){return WO(jt),jt}function WO(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bc,t[Bc]=t[Bc]||{}}const N7=Object.prototype.toString;function HO(e){switch(N7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return lu(e,Error)}}function wh(e,t){return N7.call(e)===`[object ${t}]`}function k7(e){return wh(e,"ErrorEvent")}function x4(e){return wh(e,"DOMError")}function Qs(e){return wh(e,"String")}function qO(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Dk(e){return e===null||qO(e)||typeof e!="object"&&typeof e!="function"}function Vf(e){return wh(e,"Object")}function Vw(e){return typeof Event<"u"&&lu(e,Event)}function Ww(e){return!!(e&&e.then&&typeof e.then=="function")}function lu(e,t){try{return e instanceof t}catch{return!1}}function C7(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const GO=jt;function E7(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let i=0,s=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=M5e(r,d),!(u==="html"||i>1&&s+a.length*c+u.length>=f));)a.push(u),s+=u.length,r=r.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function M5e(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(GO.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t&&t.length?t.filter(s=>r.getAttribute(s)).map(s=>[s,r.getAttribute(s)]):null;if(a&&a.length)a.forEach(s=>{n.push(`[${s[0]}="${s[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const s=r.className;if(s&&Qs(s)){const l=s.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const s of i){const l=r.getAttribute(s);l&&n.push(`[${s}="${l}"]`)}return n.join("")}function Dd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function b4(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{C7(a)?r.push("[VueViewModel]"):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function $5e(e,t,r=!1){return!!Qs(e)&&(wh(t,"RegExp")?t.test(e):!!Qs(t)&&(r?e===t:e.includes(t)))}function Lv(e,t=[],r=!1){return t.some(n=>$5e(e,n,r))}function Ca(e,t,r){if(!(t in e))return;const n=e[t],a=r(n);typeof a=="function"&&P7(a,n);try{e[t]=a}catch{ku&&tt.log(`Failed to replace method "${t}" in object`,e)}}function cu(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{ku&&tt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function P7(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,cu(e,"__sentry_original__",t)}catch{}}function KO(e){return e.__sentry_original__}function O7(e){if(HO(e))return{message:e.message,name:e.name,stack:e.stack,..._4(e)};if(Vw(e)){const t={type:e.type,target:w4(e.target),currentTarget:w4(e.currentTarget),..._4(e)};return typeof CustomEvent<"u"&&lu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function w4(e){try{return t=e,typeof Element<"u"&&lu(t,Element)?E7(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function _4(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function Ya(e){return Lk(e,new Map)}function Lk(e,t){if(function(r){if(!Vf(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(n[a]=Lk(e[a],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(a=>{n.push(Lk(a,t))}),n}return e}function Dg(){return Date.now()/1e3}const ao=function(){const{performance:e}=jt;if(!e||!e.now)return Dg;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function ri(){const e=jt,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function A7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Go(e){const{message:t,event_id:r}=e;if(t)return t;const n=A7(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Fk(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Wf(e,t){const r=A7(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const a={...n&&n.data,...t.data};r.mechanism.data=a}}function j4(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{cu(e,"__sentry_captured__",!0)}catch{}return!1}var zs;function uu(e){return new Ha(t=>{t(e)})}function $b(e){return new Ha((t,r)=>{r(e)})}(()=>{const{performance:e}=jt;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(zs||(zs={}));class Ha{constructor(t){Ha.prototype.__init.call(this),Ha.prototype.__init2.call(this),Ha.prototype.__init3.call(this),Ha.prototype.__init4.call(this),this._state=zs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Ha((n,a)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(s){a(s)}else n(i)},i=>{if(r)try{n(r(i))}catch(s){a(s)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Ha((r,n)=>{let a,i;return this.then(s=>{i=!1,a=s,t&&t()},s=>{i=!0,a=s,t&&t()}).then(()=>{i?n(a):r(a)})})}__init(){this._resolve=t=>{this._setResult(zs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(zs.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===zs.PENDING&&(Ww(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===zs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===zs.RESOLVED&&r[1](this._value),this._state===zs.REJECTED&&r[2](this._value),r[0]=!0)})}}}function I5e(e){const t=ao(),r={sid:ri(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return Ya({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Hf(r,e),r}function Hf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||ao(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ri()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function S4(){return ri()}function Bk(){return ri().substring(16)}function Hw(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=Hw(n[a],t[a],r-1));return n}const Uk="_sentrySpan";function N4(e,t){t?cu(e,Uk,t):delete e[Uk]}function k4(e){return e[Uk]}class YO{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:S4(),spanId:Bk()}}clone(){const t=new YO;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,N4(t,k4(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Hf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,a]=r instanceof Al?[r.getScopeData(),r.getRequestSession()]:Vf(r)?[t,t.requestSession]:[],{tags:i,extra:s,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,N4(this,void 0),this._attachments=[],this.setPropagationContext({traceId:S4()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const a={timestamp:Dg(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:k4(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Hw(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Bk(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:ri();if(!this._client)return tt.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=n&&n.event_id?n.event_id:ri();if(!this._client)return tt.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureEvent(t,r){const n=r&&r.event_id?r.event_id:ri();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(tt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Al=YO;class R5e{constructor(t,r){let n,a;n=t||new Al,a=r||new Al,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return Ww(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function qf(){const e=WO(zw());return e.stack=e.stack||new R5e(Tb("defaultCurrentScope",()=>new Al),Tb("defaultIsolationScope",()=>new Al))}function D5e(e){return qf().withScope(e)}function L5e(e,t){const r=qf();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function C4(e){return qf().withScope(()=>e(qf().getIsolationScope()))}function JO(e){const t=WO(e);return t.acs?t.acs:{withIsolationScope:C4,withScope:D5e,withSetScope:L5e,withSetIsolationScope:(r,n)=>C4(n),getCurrentScope:()=>qf().getScope(),getIsolationScope:()=>qf().getIsolationScope()}}function Cu(){return JO(zw()).getCurrentScope()}function Lg(){return JO(zw()).getIsolationScope()}function Sn(){return Cu().getClient()}function F5e(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:a}=t;return Ya({trace_id:r,span_id:n,parent_span_id:a})}function B5e(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,a]]of t)(r[n]||(r[n]=[])).push(Ya(a));return r}const U5e=/^sentry-/;function z5e(e){const t=function(n){if(!(!n||!Qs(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((a,i)=>{const s=E4(i);return Object.entries(s).forEach(([l,c])=>{a[l]=c}),a},{}):E4(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,i])=>(a.match(U5e)&&(n[a.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function E4(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let P4=!1;function V5e(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return Ya({parent_span_id:n?t:XO(e).parent_span_id,span_id:n?Bk():t,trace_id:r})}function O4(e){return typeof e=="number"?A4(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?A4(e.getTime()):ao()}function A4(e){return e>9999999999?e/1e3:e}function XO(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const a=n;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:n,startTime:a,name:i,endTime:s,parentSpanId:l,status:c}=e;return Ya({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:O4(a),timestamp:O4(s)||void 0,status:W5e(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:B5e(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function W5e(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function T7(e){return e._sentryRootSpan||e}function H5e(){P4||(Rg(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),P4=!0)}const QO="production";function M7(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a=Ya({environment:r.environment||QO,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",a),a}function q5e(e){const t=Sn();if(!t)return{};const r=T7(e),n=r._frozenDsc;if(n)return n;const a=r.spanContext().traceState,i=a&&a.get("sentry.dsc"),s=i&&z5e(i);if(s)return s;const l=M7(e.spanContext().traceId,t),c=XO(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(p){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Sn(),m=g&&g.getOptions();return!!m&&(m.enableTracing||"tracesSampleRate"in m||"tracesSampler"in m)}()&&(l.sampled=String(function(p){const{traceFlags:g}=p.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const G5e=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ib(e,t=!1){const{host:r,path:n,pass:a,port:i,projectId:s,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${s}`}function T4(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function K5e(e){const t=typeof e=="string"?function(r){const n=G5e.exec(r);if(!n)return void Rg(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[a,i,s="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const p=f.match(/^\d+/);p&&(f=p[0])}return T4({host:l,pass:s,path:d,projectId:f,port:c,protocol:a,publicKey:i})}(e):T4(e);if(t&&function(r){if(!ku)return!0;const{port:n,projectId:a,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(s=>!r[s]&&(tt.error(`Invalid Sentry Dsn: ${s} missing`),!0))||(a.match(/^\d+$/)?function(s){return s==="http"||s==="https"}(i)?n&&isNaN(parseInt(n,10))&&(tt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(tt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(tt.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function Vs(e,t=100,r=1/0){try{return zk("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function $7(e,t=3,r=102400){const n=Vs(e,t);return a=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>r?$7(e,t-1,r):n;var a}function zk(e,t,r=1/0,n=1/0,a=function(){const i=typeof WeakSet=="function",s=i?new WeakSet:[];return[function(l){if(i)return!!s.has(l)||(s.add(l),!1);for(let c=0;c<s.length;c++)if(s[c]===l)return!0;return s.push(l),!1},function(l){if(i)s.delete(l);else for(let c=0;c<s.length;c++)if(s[c]===l){s.splice(c,1);break}}]}()){const[i,s]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(p,g){try{if(p==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(p==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(C7(g))return"[VueViewModel]";if(Vf(m=g)&&"nativeEvent"in m&&"preventDefault"in m&&"stopPropagation"in m)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${Ol(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const x=Object.getPrototypeOf(b);return x?x.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var m}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return zk("",u.toJSON(),c-1,n,a)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=O7(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=n){d[p]="[MaxProperties ~]";break}const g=h[p];d[p]=zk(p,g,c-1,n,a),f++}return s(t),d}function eg(e,t=[]){return[e,t]}function Y5e(e,t){const[r,n]=e;return[r,[...n,t]]}function M4(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function Vk(e){return jt.__SENTRY__&&jt.__SENTRY__.encodePolyfill?jt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function J5e(e){const[t,r]=e;let n=JSON.stringify(t);function a(i){typeof n=="string"?n=typeof i=="string"?n+i:[Vk(n),i]:n.push(typeof i=="string"?Vk(i):i)}for(const i of r){const[s,l]=i;if(a(`
${JSON.stringify(s)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(Vs(l))}a(c)}}return typeof n=="string"?n:function(i){const s=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(s);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function X5e(e){const t=typeof e.data=="string"?Vk(e.data):e.data;return[Ya({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const Q5e={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function $4(e){return Q5e[e]}function I7(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function Z5e(e,t,r,n){const a=I7(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const s=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Ib(d)},...f&&{trace:Ya({...f})}}}(e,a,n,t);return delete e.sdkProcessingMetadata,eg(s,[[{type:i},e]])}function Wk(e,t,r,n=0){return new Ha((a,i)=>{const s=e[n];if(t===null||typeof s!="function")a(t);else{const l=s({...t},r);Ft&&s.id&&l===null&&tt.log(`Event processor "${s.id}" dropped event`),Ww(l)?l.then(c=>Wk(e,c,r,n+1).then(a)).then(null,i):Wk(e,l,r,n+1).then(a).then(null,i)}})}let Fv,I4,Vj;function eBe(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(s,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:p}=l,g=Ya(c);g&&Object.keys(g).length&&(s.extra={...g,...s.extra});const m=Ya(u);m&&Object.keys(m).length&&(s.tags={...m,...s.tags});const v=Ya(d);v&&Object.keys(v).length&&(s.user={...v,...s.user});const b=Ya(f);b&&Object.keys(b).length&&(s.contexts={...b,...s.contexts}),h&&(s.level=h),p&&s.type!=="transaction"&&(s.transaction=p)})(e,t),n&&function(s,l){s.contexts={trace:V5e(l),...s.contexts},s.sdkProcessingMetadata={dynamicSamplingContext:q5e(l),...s.sdkProcessingMetadata};const c=T7(l),u=XO(c).description;u&&!s.transaction&&s.type==="transaction"&&(s.transaction=u)}(e,n),function(s,l){s.fingerprint=s.fingerprint?Array.isArray(s.fingerprint)?s.fingerprint:[s.fingerprint]:[],l&&(s.fingerprint=s.fingerprint.concat(l)),s.fingerprint&&!s.fingerprint.length&&delete s.fingerprint}(e,r),function(s,l){const c=[...s.breadcrumbs||[],...l];s.breadcrumbs=c.length?c:void 0}(e,a),function(s,l){s.sdkProcessingMetadata={...s.sdkProcessingMetadata,...l}}(e,i)}function R4(e,t){const{extra:r,tags:n,user:a,contexts:i,level:s,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:g}=t;Bv(e,"extra",r),Bv(e,"tags",n),Bv(e,"user",a),Bv(e,"contexts",i),e.sdkProcessingMetadata=Hw(e.sdkProcessingMetadata,l,2),s&&(e.level=s),p&&(e.transactionName=p),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Bv(e,t,r){e[t]=Hw(e[t],r,1)}function tBe(e,t,r,n,a,i){const{normalizeDepth:s=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||ri(),timestamp:t.timestamp||Dg()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,m){const{environment:v,release:b,dist:x,maxValueLength:w=250}=m;g.environment=g.environment||v||QO,!g.release&&b&&(g.release=b),!g.dist&&x&&(g.dist=x),g.message&&(g.message=Dd(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=Dd(_.value,w));const S=g.request;S&&S.url&&(S.url=Dd(S.url,w))})(c,e),function(g,m){m.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...m])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,m){const v=function(b){const x=jt._sentryDebugIds;if(!x)return{};const w=Object.keys(x);return Vj&&w.length===I4||(I4=w.length,Vj=w.reduce((_,S)=>{Fv||(Fv={});const N=Fv[S];if(N)_[N[0]]=N[1];else{const k=b(S);for(let C=k.length-1;C>=0;C--){const A=k[C],T=A&&A.filename,I=x[S];if(T&&I){_[T]=I,Fv[S]=[T,I];break}}}return _},{})),Vj}(m);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(x=>{v&&x.filename&&(x.debug_id=v[x.filename])})})}catch{}}(c,e.stackParser);const d=function(g,m){if(!m)return g;const v=g?g.clone():new Al;return v.update(m),v}(n,r.captureContext);r.mechanism&&Wf(c,r.mechanism);const f=a?a.getEventProcessors():[],h=Tb("globalScope",()=>new Al).getScopeData();i&&R4(h,i.getScopeData()),d&&R4(h,d.getScopeData());const p=[...r.attachments||[],...h.attachments];return p.length&&(r.attachments=p),eBe(c,h),Wk([...f,...h.eventProcessors],c,r).then(g=>(g&&function(m){const v={};try{m.exception.values.forEach(x=>{x.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;m.debug_meta=m.debug_meta||{},m.debug_meta.images=m.debug_meta.images||[];const b=m.debug_meta.images;Object.entries(v).forEach(([x,w])=>{b.push({type:"sourcemap",code_file:x,debug_id:w})})}(g),typeof s=="number"&&s>0?function(m,v,b){if(!m)return null;const x={...m,...m.breadcrumbs&&{breadcrumbs:m.breadcrumbs.map(w=>({...w,...w.data&&{data:Vs(w.data,v,b)}}))},...m.user&&{user:Vs(m.user,v,b)},...m.contexts&&{contexts:Vs(m.contexts,v,b)},...m.extra&&{extra:Vs(m.extra,v,b)}};return m.contexts&&m.contexts.trace&&x.contexts&&(x.contexts.trace=m.contexts.trace,m.contexts.trace.data&&(x.contexts.trace.data=Vs(m.contexts.trace.data,v,b))),m.spans&&(x.spans=m.spans.map(w=>({...w,...w.data&&{data:Vs(w.data,v,b)}}))),m.contexts&&m.contexts.flags&&x.contexts&&(x.contexts.flags=Vs(m.contexts.flags,3,b)),x}(g,s,l):g))}function D4(e,t){return Cu().captureEvent(e,t)}function L4(e){const t=Sn(),r=Lg(),n=Cu(),{release:a,environment:i=QO}=t&&t.getOptions()||{},{userAgent:s}=jt.navigator||{},l=I5e({release:a,environment:i,user:n.getUser()||r.getUser(),...s&&{userAgent:s},...e}),c=r.getSession();return c&&c.status==="ok"&&Hf(c,{status:"exited"}),R7(),r.setSession(l),n.setSession(l),l}function R7(){const e=Lg(),t=Cu(),r=t.getSession()||e.getSession();r&&function(n,a){let i={};n.status==="ok"&&(i={status:"exited"}),Hf(n,i)}(r),D7(),e.setSession(),t.setSession()}function D7(){const e=Lg(),t=Cu(),r=Sn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function F4(e=!1){e?R7():D7()}function rBe(e,t,r){return t||`${function(n){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",s=a.port?`:${a.port}`:"";return`${i}//${a.host}${s}${a.path?`/${a.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,a){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,r)}`}const B4=[];function U4(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function z4(e,t,r){if(r[t.name])Ft&&tt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,B4.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),B4.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>n(a,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((i,s)=>n(i,s,e),{id:t.name});e.addEventProcessor(a)}Ft&&tt.log(`Integration installed: ${t.name}`)}}class wi extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const V4="Not capturing exception because it's already been captured.";class nBe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=K5e(t.dsn):Ft&&tt.warn("No DSN provided, client will not send events."),this._dsn){const n=rBe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&Rg(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const a=ri();if(j4(t))return Ft&&tt.log(V4),a;const i={event_id:a,...r};return this._process(this.eventFromException(t,i).then(s=>this._captureEvent(s,i,n))),i.event_id}captureMessage(t,r,n,a){const i={event_id:ri(),...n},s=qO(t)?t:String(t),l=Dk(t)?this.eventFromMessage(s,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,r,n){const a=ri();if(r&&r.originalException&&j4(r.originalException))return Ft&&tt.log(V4),a;const i={event_id:a,...r},s=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,s||n)),i.event_id}captureSession(t){typeof t.release!="string"?Ft&&tt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Hf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(a=>n&&a))):uu(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];z4(this,t,this._integrations),r||U4(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=Z5e(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=Y5e(n,X5e(i));const a=this.sendEnvelope(n);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,a,i,s){const l=I7(i);return eg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!s&&a&&{dsn:Ib(a)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const a=typeof n=="number"?n:1,i=`${t}:${r}`;Ft&&tt.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const a=n.indexOf(r);a>-1&&n.splice(a,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Ft&&tt.error("Error while sending envelope:",r),r)):(Ft&&tt.error("Transport disabled"),uu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const a={};return n.forEach(i=>{i&&z4(r,i,a)}),a}(this,t),U4(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",a=!1;const i=r.exception&&r.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const s=t.status==="ok";(s&&t.errors===0||s&&n)&&(Hf(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ha(r=>{let n=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=1,t&&n>=t&&(clearInterval(a),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=Cu(),a=Lg()){const i=this.getOptions(),s=Object.keys(this._integrations);return!r.integrations&&s.length>0&&(r.integrations=s),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),tBe(i,t,r,n,this,a).then(l=>{if(l===null)return l;l.contexts={trace:F5e(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||M7(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(a=>a.event_id,a=>{Ft&&(a instanceof wi&&a.logLevel==="log"?tt.log(a.message):tt.warn(a))})}_processEvent(t,r,n){const a=this.getOptions(),{sampleRate:i}=a,s=H4(t),l=W4(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(p){if(typeof p=="boolean")return Number(p);const g=typeof p=="string"?parseFloat(p):p;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Ft&&tt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(p)} of type ${JSON.stringify(typeof p)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),$b(new wi(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f,t),new wi("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return p;const g=function(m,v,b,x){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:S}=v;if(W4(b)&&w)return w(b,x);if(H4(b)){if(b.spans&&S){const N=[];for(const k of b.spans){const C=S(k);C?N.push(C):(H5e(),m.recordDroppedEvent("before_send","span"))}b.spans=N}if(_){if(b.spans){const N=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return _(b,x)}}return b}(this,a,p,r);return function(m,v){const b=`${v} must return \`null\` or a valid event.`;if(Ww(m))return m.then(x=>{if(!Vf(x)&&x!==null)throw new wi(b);return x},x=>{throw new wi(`${v} rejected with ${x}`)});if(!Vf(m)&&m!==null)throw new wi(b);return m}(g,u)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f,t),s){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new wi(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!s&&g&&this._updateSessionFromEvent(g,p),s){const v=(p.sdkProcessingMetadata&&p.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(p.spans?p.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const m=p.transaction_info;if(s&&m&&p.transaction!==t.transaction){const v="custom";p.transaction_info={...m,source:v}}return this.sendEvent(p,r),p}).then(null,p=>{throw p instanceof wi?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),new wi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,i]=r.split(":");return{reason:a,category:i,quantity:n}})}_flushOutcomes(){Ft&&tt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Ft&&tt.log("No outcomes to send"));if(!this._dsn)return void(Ft&&tt.log("No dsn provided, will not send outcomes"));Ft&&tt.log("Sending outcomes:",t);const r=(n=t,eg((a=this._options.tunnel&&Ib(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||Dg(),discarded_events:n}]]));var n,a,i;this.sendEnvelope(r)}}function W4(e){return e.type===void 0}function H4(e){return e.type==="transaction"}function aBe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return $b(new wi("Not adding Promise because buffer limit was reached."));const a=n();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a},drain:function(n){return new Ha((a,i)=>{let s=t.length;if(!s)return a(!0);const l=setTimeout(()=>{n&&n>0&&a(!1)},n);t.forEach(c=>{uu(c).then(()=>{--s||(clearTimeout(l),a(!0))},i)})})}}}function iBe(e,{statusCode:t,headers:r},n=Date.now()){const a={...e},i=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const p of u.split(";"))p==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[p]=n+h);else a.all=n+h}else s?a.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(s,n):t===429&&(a.all=n+6e4);return a}function sBe(e,t,r=aBe(e.bufferSize||64)){let n={};return{send:function(a){const i=[];if(M4(a,(c,u)=>{const d=$4(u);if(function(f,h,p=Date.now()){return function(g,m){return g[m]||g.all||0}(f,h)>p}(n,d)){const f=q4(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(c)}),i.length===0)return uu({});const s=eg(a[0],i),l=c=>{M4(s,(u,d)=>{const f=q4(u,d);e.recordDroppedEvent(c,$4(d),f)})};return r.add(()=>t({body:J5e(s)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Ft&&tt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=iBe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof wi)return Ft&&tt.error("Skipped sending event because buffer is full."),l("queue_overflow"),uu({});throw c})},flush:a=>r.drain(a)}}function q4(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const oBe=100;function tc(e,t){const r=Sn(),n=Lg();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=oBe}=r.getOptions();if(i<=0)return;const s={timestamp:Dg(),...e},l=a?Rg(()=>a(s,t)):s;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let G4;const K4=new WeakMap,lBe=()=>({name:"FunctionToString",setupOnce(){G4=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=KO(this),r=K4.has(Sn())&&t!==void 0?t:this;return G4.apply(r,e)}}catch{}},setup(e){K4.set(e,!0)}}),cBe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],uBe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const a=n.getOptions(),i=function(s={},l={}){return{allowUrls:[...s.allowUrls||[],...l.allowUrls||[]],denyUrls:[...s.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...s.ignoreErrors||[],...l.ignoreErrors||[],...s.disableErrorDefaults?[]:cBe],ignoreTransactions:[...s.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:s.ignoreInternal===void 0||s.ignoreInternal}}(e,a);return function(s,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(s)?(Ft&&tt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Go(s)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>Lv(d,u))}(s,l.ignoreErrors)?(Ft&&tt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Go(s)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(s)?(Ft&&tt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Go(s)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Lv(d,u)}(s,l.ignoreTransactions)?(Ft&&tt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Go(s)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Uv(c);return!!d&&Lv(d,u)}(s,l.denyUrls)?(Ft&&tt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Go(s)}.
Url: ${Uv(s)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Uv(c);return!d||Lv(d,u)}(s,l.allowUrls)?!1:(Ft&&tt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Go(s)}.
Url: ${Uv(s)}`),!0)}(t,i)?null:t}});function Uv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const a=r[n];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return Ft&&tt.error(`Cannot extract url for event ${Go(e)}`),null}}function dBe(e,t,r=250,n,a,i,s){if(!(i.exception&&i.exception.values&&s&&lu(s.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=Hk(e,t,a,s.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=Dd(d.value,u)),d))))}function Hk(e,t,r,n,a,i,s,l){if(i.length>=r+1)return i;let c=[...i];if(lu(n[a],Error)){Y4(s,l);const u=e(t,n[a]),d=c.length;J4(u,a,d,l),c=Hk(e,t,r,n[a],a,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(lu(u,Error)){Y4(s,l);const f=e(t,u),h=c.length;J4(f,`errors[${d}]`,h,l),c=Hk(e,t,r,u,a,[f,...c],f,h)}}),c}function Y4(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function J4(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function Wj(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function fBe(){"console"in jt&&Rk.forEach(function(e){e in jt.console&&Ca(jt.console,e,function(t){return Mb[e]=t,function(...r){Bi("console",{args:r,level:e});const n=Mb[e];n&&n.apply(jt.console,r)}})})}function hBe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const pBe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(a,i){const s=a.message,l=i.message;return!(!s&&!l||s&&!l||!s&&l||s!==l||!Q4(a,i)||!X4(a,i))}(r,n)||function(a,i){const s=Z4(i),l=Z4(a);return!(!s||!l||s.type!==l.type||s.value!==l.value||!Q4(a,i)||!X4(a,i))}(r,n)):!1}(t,e))return Ft&&tt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function X4(e,t){let r=v4(e),n=v4(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let a=0;a<n.length;a++){const i=n[a],s=r[a];if(i.filename!==s.filename||i.lineno!==s.lineno||i.colno!==s.colno||i.function!==s.function)return!1}return!0}function Q4(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function Z4(e){return e.exception&&e.exception.values&&e.exception.values[0]}function eL(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const Hj=jt;function qk(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function mBe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in Hj))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(qk(Hj.fetch))return!0;let e=!1;const t=Hj.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=qk(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){ku&&tt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function gBe(e,t){const r="fetch";Uc(r,e),zc(r,()=>function(n,a=!1){a&&!mBe()||Ca(jt,"fetch",function(i){return function(...s){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[p,g]=f;return{url:tL(p),method:Gk(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:tL(h),method:Gk(h,"method")?String(h.method).toUpperCase():"GET"}}(s),d={args:s,fetchData:{method:c,url:u},startTimestamp:1e3*ao(),virtualError:l};return n||Bi("fetch",{...d}),i.apply(jt,s).then(async f=>(n?n(f):Bi("fetch",{...d,endTimestamp:1e3*ao(),response:f}),f),f=>{throw Bi("fetch",{...d,endTimestamp:1e3*ao(),error:f}),HO(f)&&f.stack===void 0&&(f.stack=l.stack,cu(f,"framesToPop",1)),f})}})}(void 0,t))}function Gk(e,t){return!!e&&typeof e=="object"&&!!e[t]}function tL(e){return typeof e=="string"?e:e?Gk(e,"url")?e.url:e.toString?e.toString():"":""}const zv=jt,Qr=jt;let Kk=0;function rL(){return Kk>0}function Gf(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(KO(e))return e}catch{return e}const r=function(...n){try{const a=n.map(i=>Gf(i,t));return e.apply(this,a)}catch(a){throw Kk++,setTimeout(()=>{Kk--}),function(...i){const s=JO(zw());if(i.length===2){const[l,c]=i;return l?s.withSetScope(l,c):s.withScope(c)}s.withScope(i[0])}(i=>{var s;i.addEventProcessor(l=>(t.mechanism&&(Fk(l,void 0),Wf(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),s=a,Cu().captureException(s,void 0)}),a}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}P7(r,e),cu(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const qw=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function ZO(e,t){const r=eA(e,t),n={type:xBe(t),value:bBe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function vBe(e,t,r,n){const a=Sn(),i=a&&a.getOptions().normalizeDepth,s=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:$7(t,i)};if(s)return{exception:{values:[ZO(e,s)]},extra:l};const c={exception:{values:[{type:Vw(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:wBe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=eA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function qj(e,t){return{exception:{values:[ZO(e,t)]}}}function eA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&yBe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,a)}catch{}return[]}const yBe=/Minified React error #\d+;/i;function L7(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function xBe(e){const t=e&&e.name;return!t&&L7(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function bBe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:L7(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function Yk(e,t,r,n,a){let i;if(k7(t)&&t.error)return qj(e,t.error);if(x4(t)||wh(t,"DOMException")){const s=t;if("stack"in t)i=qj(e,t);else{const l=s.name||(x4(s)?"DOMError":"DOMException"),c=s.message?`${l}: ${s.message}`:l;i=Jk(e,c,r,n),Fk(i,c)}return"code"in s&&(i.tags={...i.tags,"DOMException.code":`${s.code}`}),i}return HO(t)?qj(e,t):Vf(t)||Vw(t)?(i=vBe(e,t,r,a),Wf(i,{synthetic:!0}),i):(i=Jk(e,t,r,n),Fk(i,`${t}`),Wf(i,{synthetic:!0}),i)}function Jk(e,t,r,n){const a={};if(n&&r){const i=eA(e,r);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Wf(a,{synthetic:!0})}if(qO(t)){const{__sentry_template_string__:i,__sentry_template_values__:s}=t;return a.logentry={message:i,params:s},a}return a.message=t,a}function wBe(e,{isUnhandledRejection:t}){const r=function(a,i=40){const s=Object.keys(O7(a));s.sort();const l=s[0];if(!l)return"[object has no keys]";if(l.length>=i)return Dd(l,i);for(let c=s.length;c>0;c--){const u=s.slice(0,c).join(", ");if(!(u.length>i))return c===s.length?u:Dd(u,i)}return""}(e),n=t?"promise rejection":"exception";return k7(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:Vw(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class _Be extends nBe{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,a,i=[a],s="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${s}:@sentry/${c}`,version:Bc})),version:Bc}),n._metadata=l})(r,"browser",["browser"],Qr.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Qr.document&&Qr.document.addEventListener("visibilitychange",()=>{Qr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,a,i,s){const l=Yk(n,a,i&&i.syntheticException||void 0,s);return Wf(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),uu(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(a,i,s="info",l,c){const u=Jk(a,i,l&&l.syntheticException||void 0,c);return u.level=s,l&&l.event_id&&(u.event_id=l.event_id),uu(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(qw&&tt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:a,tunnel:i,dsn:s}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!s&&{dsn:Ib(s)}};return eg(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const jBe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Ln=jt;let nL,Gj,Kj,Vv;function SBe(){if(!Ln.document)return;const e=Bi.bind(null,"dom"),t=aL(e,!0);Ln.document.addEventListener("click",t,!1),Ln.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Ln[r],a=n&&n.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Ca(a,"addEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const f=aL(e);d.handler=f,i.call(this,s,f,c)}d.refCount++}catch{}return i.call(this,s,l,c)}}),Ca(a,"removeEventListener",function(i){return function(s,l,c){if(s==="click"||s=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,c),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,l,c)}}))})}function aL(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,s){return i==="keypress"&&(!s||!s.tagName||s.tagName!=="INPUT"&&s.tagName!=="TEXTAREA"&&!s.isContentEditable)}(r.type,n))return;cu(r,"_sentryCaptured",!0),n&&!n._sentryId&&cu(n,"_sentryId",ri());const a=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==Gj)return!1;try{if(!i.target||i.target._sentryId!==Kj)return!1}catch{}return!0})(r)||(e({event:r,name:a,global:t}),Gj=r.type,Kj=n?n._sentryId:void 0),clearTimeout(nL),nL=Ln.setTimeout(()=>{Kj=void 0,Gj=void 0},1e3)}}function F7(e){const t="history";Uc(t,e),zc(t,NBe)}function NBe(){if(!function(){const r=zv.chrome,n=r&&r.app&&r.app.runtime,a="history"in zv&&!!zv.history.pushState&&!!zv.history.replaceState;return!n&&a}())return;const e=Ln.onpopstate;function t(r){return function(...n){const a=n.length>2?n[2]:void 0;if(a){const i=Vv,s=String(a);Vv=s,Bi("history",{from:i,to:s})}return r.apply(this,n)}}Ln.onpopstate=function(...r){const n=Ln.location.href,a=Vv;if(Vv=n,Bi("history",{from:a,to:n}),e)try{return e.apply(this,r)}catch{}},Ca(Ln.history,"pushState",t),Ca(Ln.history,"replaceState",t)}const wy={};function iL(e){wy[e]=void 0}const sp="__sentry_xhr_v3__";function kBe(){if(!Ln.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,i=1e3*ao(),s=Qs(n[0])?n[0].toUpperCase():void 0,l=function(u){if(Qs(u))return u;try{return u.toString()}catch{}}(n[1]);if(!s||!l)return t.apply(r,n);r[sp]={method:s,url:l,request_headers:{}},s==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[sp];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}Bi("xhr",{endTimestamp:1e3*ao(),startTimestamp:i,xhr:r,virtualError:a})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,p]=f,g=d[sp];return g&&Qs(h)&&Qs(p)&&(g.request_headers[h.toLowerCase()]=p),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[sp];return a?(n[0]!==void 0&&(a.body=n[0]),Bi("xhr",{startTimestamp:1e3*ao(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function CBe(e,t=function(r){const n=wy[r];if(n)return n;let a=Ln[r];if(qk(a))return wy[r]=a.bind(Ln);const i=Ln.document;if(i&&typeof i.createElement=="function")try{const s=i.createElement("iframe");s.hidden=!0,i.head.appendChild(s);const l=s.contentWindow;l&&l[r]&&(a=l[r]),i.head.removeChild(s)}catch(s){jBe&&tt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,s)}return a&&(wy[r]=a.bind(Ln))}("fetch")){let r=0,n=0;return sBe(e,function(a){const i=a.body.length;r+=i,n++;const s={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return iL("fetch"),$b("No fetch implementation available");try{return t(e.url,s).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return iL("fetch"),r-=i,n--,$b(l)}})}function Yj(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?kc:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const EBe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,PBe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,OBe=/\((\S*)(?::(\d+))(?::(\d+))\)/,ABe=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,TBe=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,MBe=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const i=[],s=r.split(`
`);for(let l=n;l<s.length;l++){const c=s[l];if(c.length>1024)continue;const u=p4.test(c)?c.replace(p4,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Dv(c).function||"")&&c.pop(),c.reverse(),m4.test(Dv(c).function||"")&&(c.pop(),m4.test(Dv(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Dv(c).filename,function:u.function||kc}))}(i.slice(a))}}([30,e=>{const t=EBe.exec(e);if(t){const[,n,a,i]=t;return Yj(n,kc,+a,+i)}const r=PBe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=OBe.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,a]=sL(r[1]||kc,r[2]);return Yj(a,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=ABe.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=TBe.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],n=t[1]||kc;return[n,r]=sL(n,r),Yj(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),sL=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:kc,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},oL=1024,$Be=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(a){const i="console";Uc(i,a),zc(i,fBe)}(function(a){return function(i){if(Sn()!==a)return;const s={category:"console",data:{arguments:i.args,logger:"console"},level:hBe(i.level),message:b4(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;s.message=`Assertion failed: ${b4(i.args.slice(1)," ")||"console.assert"}`,s.data.arguments=i.args.slice(1)}tc(s,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(a,i){return function(s){if(Sn()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>oL&&(qw&&tt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=oL),typeof u=="string"&&(u=[u]);try{const h=s.event,p=function(g){return!!g&&!!g.target}(h)?h.target:h;l=E7(p,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!GO.HTMLElement)return null;let m=g;for(let v=0;v<5;v++){if(!m)return null;if(m instanceof HTMLElement){if(m.dataset.sentryComponent)return m.dataset.sentryComponent;if(m.dataset.sentryElement)return m.dataset.sentryElement}m=m.parentNode}return null}(p)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${s.name}`,message:l};c&&(f.data={"ui.component_name":c}),tc(f,{event:s.event,name:s.name,global:s.global})}}(r,t.dom),Uc("dom",n),zc("dom",SBe)),t.xhr&&function(a){Uc("xhr",a),zc("xhr",kBe)}(function(a){return function(i){if(Sn()!==a)return;const{startTimestamp:s,endTimestamp:l}=i,c=i.xhr[sp];if(!s||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,p={method:u,url:d,status_code:f},g={xhr:i.xhr,input:h,startTimestamp:s,endTimestamp:l};tc({category:"xhr",data:p,type:"http",level:eL(f)},g)}}(r)),t.fetch&&gBe(function(a){return function(i){if(Sn()!==a)return;const{startTimestamp:s,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)tc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:s,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:s,endTimestamp:l};tc({category:"fetch",data:u,type:"http",level:eL(u.status_code)},d)}}}(r)),t.history&&F7(function(a){return function(i){if(Sn()!==a)return;let s=i.from,l=i.to;const c=Wj(Qr.location.href);let u=s?Wj(s):void 0;const d=Wj(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(s=u.relative),tc({category:"navigation",data:{from:s,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(a){return function(i){Sn()===a&&tc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Go(i)},{event:i})}}(r))}}},IBe=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],RBe=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Ca(Qr,"setTimeout",lL),t.setInterval&&Ca(Qr,"setInterval",lL),t.requestAnimationFrame&&Ca(Qr,"requestAnimationFrame",DBe),t.XMLHttpRequest&&"XMLHttpRequest"in Qr&&Ca(XMLHttpRequest.prototype,"send",LBe);const r=t.eventTarget;r&&(Array.isArray(r)?r:IBe).forEach(FBe)}}};function lL(e){return function(...t){const r=t[0];return t[0]=Gf(r,{mechanism:{data:{function:Ol(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function DBe(e){return function(t){return e.apply(this,[Gf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ol(e)},handled:!1,type:"instrument"}})])}}function LBe(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Ca(r,n,function(a){const i={mechanism:{data:{function:n,handler:Ol(a)},handled:!1,type:"instrument"}},s=KO(a);return s&&(i.mechanism.data.handler=Ol(s)),Gf(a,i)})}),e.apply(this,t)}}function FBe(e){const t=Qr[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Ca(r,"addEventListener",function(n){return function(a,i,s){try{typeof i.handleEvent=="function"&&(i.handleEvent=Gf(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ol(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[a,Gf(i,{mechanism:{data:{function:"addEventListener",handler:Ol(i),target:e},handled:!1,type:"instrument"}}),s])}}),Ca(r,"removeEventListener",function(n){return function(a,i,s){try{const l=i.__sentry_wrapped__;l&&n.call(this,a,l,s)}catch{}return n.call(this,a,i,s)}}))}const BBe=()=>({name:"BrowserSession",setupOnce(){Qr.document!==void 0?(L4({ignoreDuration:!0}),F4(),F7(({from:e,to:t})=>{e!==void 0&&e!==t&&(L4({ignoreDuration:!0}),F4())})):qw&&tt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),UBe=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(a){const i="error";Uc(i,a),zc(i,A5e)})(a=>{const{stackParser:i,attachStacktrace:s}=uL();if(Sn()!==n||rL())return;const{msg:l,url:c,line:u,column:d,error:f}=a,h=function(p,g,m,v){const b=p.exception=p.exception||{},x=b.values=b.values||[],w=x[0]=x[0]||{},_=w.stacktrace=w.stacktrace||{},S=_.frames=_.frames||[],N=v,k=m,C=Qs(g)&&g.length>0?g:function(){try{return GO.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:C,function:kc,in_app:!0,lineno:k}),p}(Yk(i,f||l,void 0,s,!1),c,u,d);h.level="error",D4(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),cL("onerror")),t.onunhandledrejection&&(function(n){(function(a){const i="unhandledrejection";Uc(i,a),zc(i,T5e)})(a=>{const{stackParser:i,attachStacktrace:s}=uL();if(Sn()!==n||rL())return;const l=function(u){if(Dk(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=Dk(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:Yk(i,l,void 0,s,!0);c.level="error",D4(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),cL("onunhandledrejection"))}}};function cL(e){qw&&tt.log(`Global Handler attached: ${e}`)}function uL(){const e=Sn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const zBe=()=>({name:"HttpContext",preprocessEvent(e){if(!Qr.navigator&&!Qr.location&&!Qr.document)return;const t=e.request&&e.request.url||Qr.location&&Qr.location.href,{referrer:r}=Qr.document||{},{userAgent:n}=Qr.navigator||{},a={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),VBe=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,a,i){const s=i.getOptions();dBe(ZO,s.stackParser,s.maxValueLength,r,t,n,a)}}};var dL="new",fL="loading",hL="loaded",Xk="joining-meeting",mc="joined-meeting",rc="left-meeting",Ro="error",WBe="playable",Jj="unknown",HBe="full",qBe="base",pL="no-room",GBe="end-of-life",KBe="connection-error",YBe="iframe-ready-for-launch-config",JBe="iframe-launch-config",XBe="theme-updated",QBe="loading",ZBe="load-attempt-failed",mL="loaded",eUe="started-camera",tUe="camera-error",rUe="joining-meeting",nUe="joined-meeting",aUe="left-meeting",iUe="participant-joined",sUe="participant-updated",oUe="participant-left",lUe="participant-counts-updated",cUe="access-state-updated",uUe="meeting-session-summary-updated",dUe="meeting-session-state-updated",fUe="waiting-participant-added",hUe="waiting-participant-updated",pUe="waiting-participant-removed",mUe="track-started",gUe="track-stopped",vUe="transcription-started",yUe="transcription-stopped",xUe="transcription-error",gL="recording-started",vL="recording-stopped",bUe="recording-stats",wUe="recording-error",_Ue="recording-upload-completed",jUe="recording-data",SUe="app-message",NUe="transcription-message",kUe="remote-media-player-started",CUe="remote-media-player-updated",EUe="remote-media-player-stopped",PUe="local-screen-share-started",OUe="local-screen-share-stopped",AUe="local-screen-share-canceled",TUe="active-speaker-change",MUe="active-speaker-mode-change",$Ue="network-quality-change",IUe="network-connection",RUe="cpu-load-change",DUe="face-counts-updated",Wv="fullscreen",Hv="exited-fullscreen",LUe="live-streaming-started",FUe="live-streaming-updated",BUe="live-streaming-stopped",UUe="live-streaming-error",zUe="lang-updated",VUe="receive-settings-updated",yL="input-settings-updated",xL="nonfatal-error",bL="error",Xj=4096,wL=102400,Qj="iframe-call-message",_L="local-screen-start",jL="daily-method-update-live-streaming-endpoints",qv="transmit-log",Zs="daily-custom-track",_y={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},B7={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Qk={PLAY:"play",PAUSE:"pause"},Zj=["jpg","png","jpeg"],WUe="add-endpoints",HUe="remove-endpoints",SL="sip-call-transfer";function si(){return!ht()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function ht(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function U7(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function qUe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(du(),Rb())||ht())}function NL(){if(ht()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var Zk="none",GUe="software",KUe="hardware",YUe=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?GUe:KUe:Zk}catch{return Zk}}();function z7(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!ht()&&YUe!==Zk&&(e?function(){return kL()?!1:["Chrome","Firefox"].includes(du())}():function(){if(kL())return!1;var t=du();if(t==="Safari"){var r=rA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?tA().major>=77:t==="Firefox"?nA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function V7(){if(ht()||W7()||typeof AudioWorkletNode>"u")return!1;switch(du()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Rb();return e.major>17||e.major===17&&e.minor>=4}return!1}function e1(){return U7()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=du();if(!si())return!0;switch(t){case"Chrome":return(e=tA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=nA()).major<91;case"Safari":return(e=rA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function W7(){return si().match(/Linux; Android/)}function kL(){var e,t=si(),r=t.match(/Mac/)&&(!ht()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!si().match(/DailyAnd\//)||void 0}function du(){if(typeof window<"u"){var e=si();return H7()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||q7()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Rb(){switch(du()){case"Chrome":return tA();case"Safari":return rA();case"Firefox":return nA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=si().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function tA(){var e=0,t=0,r=0,n=0,a=!1;if(typeof window<"u"){var i=si(),s=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(s)try{e=parseInt(s[1]),t=parseInt(s[2]),r=parseInt(s[3]),n=parseInt(s[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:a}}function H7(){return!!si().match(/iPad|iPhone|iPod/i)&&U7()}function q7(){return si().indexOf("AppleWebKit/605.1.15")>-1}function rA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=si().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(H7()||q7())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function nA(){var e=0,t=0;if(typeof window<"u"){var r=si().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var G7=function(){return Da(function e(){Ra(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){Kh()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){Kh()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){Kh()}},{key:"sendMessageToDailyJs",value:function(e,t){Kh()}},{key:"removeListener",value:function(e){Kh()}}])}();function CL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!e})()}var JUe=function(){function e(){var t,r,n,a;return Ra(this,e),r=this,n=Ji(n=e),(t=Fw(r,K7()?Reflect.construct(n,[],Ji(r).constructor):n.apply(r,a)))._wrappedListeners={},t._messageCallbacks={},t}return Bw(e,G7),Da(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var a=this,i=function(s){if(s.data&&s.data.what==="iframe-call-message"&&(!s.data.callClientId||s.data.callClientId===r)&&(!s.data.from||s.data.from!=="module")){var l=t1({},s.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(n,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var a=function(i){var s;if(!(!i.data||i.data.what!==Qj||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(s=i.data)!==null&&s!==void 0&&s.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,r,n,a){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=t1({},t);if(i.what=Qj,i.from="module",i.callClientId=n,r){var s=Uw();this._messageCallbacks[s]=r,i.callbackStamp=s}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=Qj,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var a=t1({},t);a.callClientId=n;var i=r?r.contentWindow:window,s=this._callMachineTargetOrigin(r);s&&i.postMessage(a,s)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function EL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y7=function(){return!!e})()}var XUe=function(){function e(){var t,r,n,a;return Ra(this,e),r=this,n=Ji(n=e),t=Fw(r,Y7()?Reflect.construct(n,[],Ji(r).constructor):n.apply(r,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Ik.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Ik.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return Bw(e,G7),Da(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,a,i){var s=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&s._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;s._messageCallbacks[u].call(a,c),delete s._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,a,i){var s=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?EL(Object(d),!0).forEach(function(f){ss(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):EL(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(s.callClientId=n,a){var l=Uw();this._messageCallbacks[l]=a,s.callbackStamp=l}r.emit("message",s)}}])}(),eC="replace",tC="shallow-merge",PL=[eC,tC],QUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,a=n===void 0?eC:n;Ra(this,e),e._validateMergeStrategy(a),e._validateData(r,a),this.mergeStrategy=a,this.data=r}return Da(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===tC}},{key:"_validateMergeStrategy",value:function(t){if(!PL.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(PL,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||gt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===eC){var a=JSON.parse(n);$n(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(r===tC){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var s=JSON.parse(JSON.stringify(t[i]));$n(t[i],s)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",s,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>wL)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(wL,"."))}}])}();function J7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!e})()}function rC(e){var t=typeof Map=="function"?new Map:void 0;return rC=function(r){if(r===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(a,i,s){if(J7())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return s&&Zm(c,s.prototype),c}(r,arguments,Ji(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Zm(n,r)},rC(e)}function X7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X7=function(){return!!e})()}function OL(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var ZUe=function(){return Da(function e(t){Ra(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new e6e(r,function(){n(!1)},function(i,s){s||OL(t._callClientId),a(i,s)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),OL(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),e6e=function(){return Da(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Ra(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new AL(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new AL(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),r1=function(){function e(){return Ra(this,e),t=this,n=arguments,r=Ji(r=e),Fw(t,X7()?Reflect.construct(r,n||[],Ji(t).constructor):r.apply(t,n));var t,r,n}return Bw(e,rC(Error)),Da(e)}(),Db=2e4,AL=function(){return Da(function t(r,n,a){Ra(this,t),this._loadAttemptImpl=ht()||!r.avoidEval?new t6e(r,n,a):new r6e(r,n,a)},[{key:"start",value:(e=Ye(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),t6e=function(){return Da(function a(i,s,l){Ra(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=s,this._failureCallback=l},[{key:"start",value:(n=Ye(function*(){var a=Ob(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Ye(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Ye(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Db," ms) when loading call object bundle ").concat(a),type:"timeout"})},Db);try{var s=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,s);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new r1;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new r1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof r1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Ye(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),r6e=function(){return Da(function e(t,r,n){Ra(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=Uw(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=Ob(this._dailyConfig);(typeof document>"u"?"undefined":gt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Db," ms) when loading call object bundle ").concat(e),type:"timeout"})},Db);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),Gv=function(e,t,r){return a6e(e.local,t,r)===!0},n6e=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},bd=function(e,t,r,n){var a=i6e(e,t,r,n);return a&&a.pendingTrack},a6e=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?n(a[t].custom):n(a[t].custom[r]):n(a[t][r]):!a||n(a.ALL)},i6e=function(e,t,r,n){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,s){return new Date(s.starttime)-new Date(i.starttime)});return a&&a[0]},s6e=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function TL(e,t){for(var r=t.getState(),n=0,a=["cam","screen"];n<a.length;n++)for(var i=a[n],s=0,l=["video","audio"];s<l.length;s++){var c=l[s],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?n6e(r,i,c):bd(r,e.session_id,i,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function ML(e,t){try{var r=t.getState();for(var n in e.tracks)if(!o6e(n)){var a=e.tracks[n].kind;if(a){var i=e.tracks[n];if(i){var s=e.local?s6e(r,n):bd(r,e.session_id,n,a);i.state==="playable"&&(e.tracks[n].track=s),i.persistentTrack=s}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function o6e(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function $L(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&Gv(n,e.session_id,"cam-audio")){var s=bd(n,e.session_id,"cam","audio");s&&(t&&t.audioTrack&&t.audioTrack.id===s.id?e.audioTrack=s:s.muted||(e.audioTrack=s)),e.audioTrack||(e.audio=!1)}if(e.video&&Gv(n,e.session_id,"cam-video")){var l=bd(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&Gv(n,e.session_id,"screen-audio")){var c=bd(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&Gv(n,e.session_id,"screen-video")){var u=bd(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function l6e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return IL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?IL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function IL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ts=new Map,Ld=null;function c6e(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return RL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?RL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function RL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var rs=new Map,Ap=null;function u6e(e){Q7()?function(t){ts.has(t)||(ts.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ts.has(t)&&(ts.get(t).lastDevicesString=JSON.stringify(r),Ld||(Ld=function(){var n=Ye(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),s=l6e(ts.keys());try{for(s.s();!(a=s.n()).done;){var l=a.value,c=JSON.stringify(i);c!==ts.get(l).lastDevicesString&&(ts.get(l).lastDevicesString=c,l(i))}}catch(u){s.e(u)}finally{s.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Ld)))}).catch(function(){}))}(e):function(t){rs.has(t)||(rs.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){rs.has(t)&&(rs.get(t).lastDevicesString=JSON.stringify(r),Ap||(Ap=setInterval(Ye(function*(){var n,a=yield navigator.mediaDevices.enumerateDevices(),i=c6e(rs.keys());try{for(i.s();!(n=i.n()).done;){var s=n.value,l=JSON.stringify(a);l!==rs.get(s).lastDevicesString&&(rs.get(s).lastDevicesString=l,s(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function d6e(e){Q7()?function(t){ts.has(t)&&(ts.delete(t),ts.size===0&&Ld&&(navigator.mediaDevices.removeEventListener("devicechange",Ld),Ld=null))}(e):function(t){rs.has(t)&&(rs.delete(t),rs.size===0&&Ap&&(clearInterval(Ap),Ap=null))}(e)}function Q7(){var e;return ht()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var f6e=new Set;function h6e(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!f6e.has(r.id)}(e)}function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var op=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),p6e=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Tp=Object.values(op),LL=["v","a","sv","sa","cv","ca"];Object.freeze(Tp.reduce(function(e,t,r){return e[t]=LL[r],e},{})),Object.freeze(LL.reduce(function(e,t,r){return e[t]=Tp[r],e},{}));var m6e=[op.VIDEO,op.AUDIO,op.SCREEN_VIDEO,op.SCREEN_AUDIO],FL=Object.values(p6e),BL=["p","s","t"];Object.freeze(FL.reduce(function(e,t,r){return e[t]=BL[r],e},{})),Object.freeze(BL.reduce(function(e,t,r){return e[t]=FL[r],e},{}));var Z7=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,a=t.byParticipantId;Ra(this,e),this.base=r,this.byUserId=n,this.byParticipantId=a}return Da(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof an?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof an?n.clone():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof an?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof an&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof an?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof an?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof an&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=kn(t,2),n=r[0],a=r[1];return[n,a instanceof an?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=kn(t,2),n=r[0],a=r[1];return[n,a instanceof an?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,a;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:an.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var s=t.byUserId[i];n[i]=typeof s=="boolean"?s:an.fromJSONObject(s)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:an.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,a;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:an.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var s=t.u[i];n[i]=typeof s=="boolean"?s:an.fromMinifiedJSONObject(s)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:an.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(gt(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var s=kn(an.validateJSONObject(t.base,!0),2),l=s[0],c=s[1];if(!l)return[!1,c]}else{if(gt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var f=d[u],h=kn(an.validateJSONObject(f),2),p=h[0],g=h[1];if(!p)return[!1,g]}}}return[!0]}}])}(),an=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,a=t.screenVideo,i=t.screenAudio,s=t.customVideo,l=t.customAudio;Ra(this,e),this.video=r,this.audio=n,this.screenVideo=a,this.screenAudio=i,this.customVideo=s,this.customAudio=l}return Da(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Do({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Do({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Do({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Do({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Do({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Do({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Do({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Do({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(gt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),a=0,i=n;a<i.length;a++){var s=i[a];if(!Tp.includes(s))return[!1,"invalid media type '".concat(s,"' in canReceive")];if(m6e.includes(s)){if(typeof t[s]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(s,"' in canReceive")]}else{if(gt(t[s])!=="object")return[!1,"invalid (non-object) value for media type '".concat(s,"' in canReceive")];for(var l=0,c=Object.values(t[s]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(s,"' in canReceive")];if(r&&t[s]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(s,"'")]}}return r&&n.length!==Tp.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Tp.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),g6e=["result"],v6e=["preserveIframe"];function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eG=function(){return!!e})()}function zL(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return VL(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?VL(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return s=c.done,c},e:function(c){l=!0,i=c},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function VL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var nc={},WL="video",y6e="voice",HL=ht()?{data:{}}:{data:{},topology:"none"},qL={present:0,hidden:0},tG={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},n1=Object.keys(tG),GL=["state","volume","simulcastEncodings"],KL={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Lb={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},nC={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ac={customIntegrations:{validate:cG,help:oG()},customTrayButtons:{validate:lG,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Lb))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return uG(e,KL)},help:"reactNativeConfig should look like ".concat(JSON.stringify(KL),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return rG(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:Zs};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:Zs};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var a=0,i=Object.keys(n);a<i.length;a++){var s=i[a];if(!t.includes(s))return console.error('unsupported color "'.concat(s,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[s].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(s,' theme color should be provided in valid hex color format. Received: "').concat(n[s],'"')),!1}return!0};return gt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return nG(e,{allowAllParticipantsKey:!1})},help:sG({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!aG(e)&&(t._inputSettings||(t._inputSettings={}),iG(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:aC()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},Kv={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!ht()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var s=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!s&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(ht()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=kn(r[t],2),a=n[0],i=n[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var s,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=zL(i);try{for(c.s();!(s=c.n()).done;){var u=s.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=kn(Z7.validateJSONObject(i),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var p,g=["participants","streaming","transcription"],m=zL(i);try{for(m.s();!(p=m.n()).done;){var v=p.value;if(!g.includes(v))return!1}}catch(b){m.e(b)}finally{m.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Ye(function*(t){return new Promise(function(r,n){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(s){r(s)}).catch(function(s){a.push(s),a.length===t.length&&n(a)})})})});return function(t){return e.apply(this,arguments)}}());var YL=function(){function e(j){var P,E,B,D,G,q,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ra(this,e),B=this,D=Ji(D=e),ss(E=Fw(B,eG()?Reflect.construct(D,[],Ji(B).constructor):D.apply(B,G)),"startListeningForDeviceChanges",function(){u6e(E.handleDeviceChange)}),ss(E,"stopListeningForDeviceChanges",function(){d6e(E.handleDeviceChange)}),ss(E,"handleDeviceChange",function(Y){Y=Y.map(function(xe){return JSON.parse(JSON.stringify(xe))}),E.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),ss(E,"handleNativeAppStateChange",function(){var Y=Ye(function*(xe){if(xe==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield E.destroy());var Ne=xe==="active";E.disableReactNativeAutoDeviceManagement("video")||(Ne?E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!0):(E.camUnmutedBeforeLosingNativeActiveState=E.localVideo(),E.camUnmutedBeforeLosingNativeActiveState&&E.setLocalVideo(!1)))});return function(xe){return Y.apply(this,arguments)}}()),ss(E,"handleNativeAudioFocusChange",function(Y){E.disableReactNativeAutoDeviceManagement("audio")||(E._hasNativeAudioFocus=Y,E.toggleParticipantAudioBasedOnNativeAudioFocus(),E._hasNativeAudioFocus?E.micUnmutedBeforeLosingNativeAudioFocus&&E.setLocalAudio(!0):(E.micUnmutedBeforeLosingNativeAudioFocus=E.localAudio(),E.setLocalAudio(!1)))}),ss(E,"handleNativeSystemScreenCaptureStop",function(){E.stopScreenShare()}),!e1()&&!ht())throw new Error("WebRTC not supported or suppressed");if(E.strictMode=J.strictMode===void 0||J.strictMode,E.allowMultipleCallInstances=(P=J.allowMultipleCallInstances)!==null&&P!==void 0&&P,Object.keys(nc).length&&(E._logDuplicateInstanceAttempt(),!E.allowMultipleCallInstances)){if(E.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),E.callClientId=Uw(),nc[(q=E).callClientId]=q,window._daily.instances[E.callClientId]={},E._sharedTracks={},window._daily.instances[E.callClientId].tracks=E._sharedTracks,J.dailyJsVersion=e.version(),E._iframe=j,E._callObjectMode=J.layout==="none"&&!E._iframe,E._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},J.showLocalVideo!==void 0?E._callObjectMode?console.error("showLocalVideo is not available in call object mode"):E._showLocalVideo=!!J.showLocalVideo:E._showLocalVideo=!0,J.showParticipantsBar!==void 0?E._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):E._showParticipantsBar=!!J.showParticipantsBar:E._showParticipantsBar=!0,J.customIntegrations!==void 0?E._callObjectMode?console.error("customIntegrations is not available in call object mode"):E._customIntegrations=J.customIntegrations:E._customIntegrations={},J.customTrayButtons!==void 0?E._callObjectMode?console.error("customTrayButtons is not available in call object mode"):E._customTrayButtons=J.customTrayButtons:E._customTrayButtons={},J.activeSpeakerMode!==void 0?E._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):E._activeSpeakerMode=!!J.activeSpeakerMode:E._activeSpeakerMode=!1,J.receiveSettings?E._callObjectMode?E._receiveSettings=J.receiveSettings:console.error("receiveSettings is only available in call object mode"):E._receiveSettings={},E.validateProperties(J),E.properties=De({},J),E._inputSettings||(E._inputSettings={}),E._callObjectLoader=E._callObjectMode?new ZUe(E.callClientId):null,E._callState=dL,E._isPreparingToJoin=!1,E._accessState={access:Jj},E._meetingSessionSummary={},E._finalSummaryOfPrevSession={},E._meetingSessionState=s1(HL,E._callObjectMode),E._nativeInCallAudioMode=WL,E._participants={},E._isScreenSharing=!1,E._participantCounts=qL,E._rmpPlayerState={},E._waitingParticipants={},E._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},E._activeSpeaker={},E._localAudioLevel=0,E._isLocalAudioLevelObserverRunning=!1,E._remoteParticipantsAudioLevel={},E._isRemoteParticipantsAudioLevelObserverRunning=!1,E._maxAppMessageSize=Xj,E._messageChannel=ht()?new XUe:new JUe,E._iframe&&(E._iframe.requestFullscreen?E._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Wv}),E.sendMessageToCallMachine({action:Wv})):(E.emitDailyJSEvent({action:Hv}),E.sendMessageToCallMachine({action:Hv}))}):E._iframe.webkitRequestFullscreen&&E._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===E._iframe?(E.emitDailyJSEvent({action:Wv}),E.sendMessageToCallMachine({action:Wv})):(E.emitDailyJSEvent({action:Hv}),E.sendMessageToCallMachine({action:Hv}))})),ht()){var ee=E.nativeUtils();ee.addAudioFocusChangeListener&&ee.removeAudioFocusChangeListener&&ee.addAppStateChangeListener&&ee.removeAppStateChangeListener&&ee.addSystemScreenCaptureStopListener&&ee.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),E._hasNativeAudioFocus=!0,ee.addAudioFocusChangeListener(E.handleNativeAudioFocusChange),ee.addAppStateChangeListener(E.handleNativeAppStateChange),ee.addSystemScreenCaptureStopListener(E.handleNativeSystemScreenCaptureStop)}return E._callObjectMode&&E.startListeningForDeviceChanges(),E._messageChannel.addListenerForMessagesFromCallMachine(E.handleMessageFromCallMachine,E.callClientId,E),E}return Bw(e,Rv),Da(e,[{key:"destroy",value:(Q=Ye(function*(){var j;try{yield this.leave()}catch{}var P=this._iframe;if(P){var E=P.parentElement;E&&E.removeChild(P)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),ht()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete nc[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return Q.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var P=j.bodyClass,E=j.cssFile,B=j.cssText;return ft(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(E),bodyClass:P,cssText:B}),this}},{key:"iframe",value:function(){return ft(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return gi(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return gi(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,P){for(var E in P){if(!Kv[E])throw new Error("unrecognized updateParticipant property ".concat(E));if(Kv[E].validate&&!Kv[E].validate(P[E],this,this._participants[j]))throw new Error(Kv[E].help)}}},{key:"updateParticipant",value:function(j,P){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&P&&(this.validateParticipantProperties(j,P),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:P})),this}},{key:"updateParticipants",value:function(j){var P=this._participants.local&&this._participants.local.session_id;for(var E in j)E===P&&(E="local"),E&&j[E]&&this.validateParticipantProperties(E,j[E]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(re=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gi(this._callObjectMode,"updateWaitingParticipant()"),Mt(this._callState,"updateWaitingParticipant()"),typeof P!="string"||gt(E)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,D){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:P,updates:E},function(G){G.error&&D(G.error),G.id||D(new Error("unknown error in updateWaitingParticipant()")),B({id:G.id})})})}),function(){return re.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gi(this._callObjectMode,"updateWaitingParticipants()"),Mt(this._callState,"updateWaitingParticipants()"),gt(P)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(E,B){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:P},function(D){D.error&&B(D.error),D.ids||B(new Error("unknown error in updateWaitingParticipants()")),E({ids:D.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(U=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=P.access,B=E===void 0?{level:HBe}:E,D=P.name,G=D===void 0?"":D;return gi(this._callObjectMode,"requestAccess()"),Mt(this._callState,"requestAccess()"),new Promise(function(q,J){j.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:G},function(ee){ee.error&&J(ee.error),ee.access||J(new Error("unknown error in requestAccess()")),q({access:ee.access,granted:ee.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in P&&(ht()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),P={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),P={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:P}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(R=Ye(function*(j){var P=this,E=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=E!==void 0&&E;if(gi(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(gt(j)){case"string":return new Promise(function(D){P.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:B},function(G){D(G.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(z=Ye(function*(j){var P=this;if(gi(this._callObjectMode,"updateReceiveSettings()"),!nG(j,{allowAllParticipantsKey:!0}))throw new Error(sG({allowAllParticipantsKey:!0}));return Mt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(E){P.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(B){E({receiveSettings:B.receiveSettings})})})}),function(j){return z.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,P){if(j){var E={};if(j.audio){var B,D,G;j.audio.settings&&(!Object.keys(j.audio.settings).length&&P||(E.audio={settings:De({},j.audio.settings)})),P&&(B=E.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(E.audio.settings={customTrack:this._sharedTracks.audioTrack});var q=((D=j.audio.processor)===null||D===void 0?void 0:D.type)==="none"&&((G=j.audio.processor)===null||G===void 0?void 0:G._isDefaultWhenNone);if(j.audio.processor&&!q){var J=De({},j.audio.processor);delete J._isDefaultWhenNone,E.audio=De(De({},E.audio),{},{processor:J})}}if(j.video){var ee,Y,xe;j.video.settings&&(!Object.keys(j.video.settings).length&&P||(E.video={settings:De({},j.video.settings)})),P&&(ee=E.video)!==null&&ee!==void 0&&(ee=ee.settings)!==null&&ee!==void 0&&ee.customTrack&&(E.video.settings={customTrack:this._sharedTracks.videoTrack});var Ne=((Y=j.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((xe=j.video.processor)===null||xe===void 0?void 0:xe._isDefaultWhenNone);if(j.video.processor&&!Ne){var Je=De({},j.video.processor);delete Je._isDefaultWhenNone,E.video=De(De({},E.video),{},{processor:Je})}}return E}}},{key:"getInputSettings",value:function(){var j=this;return ft(),new Promise(function(P){P(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,P,E,B,D,G,q={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((E=this._inputSettings)===null||E===void 0?void 0:E.video)||q,P=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||q):(j=((D=this._preloadCache)===null||D===void 0||(D=D.inputSettings)===null||D===void 0?void 0:D.video)||q,P=((G=this._preloadCache)===null||G===void 0||(G=G.inputSettings)===null||G===void 0?void 0:G.audio)||q);var J={audio:P,video:j};return this._prepInputSettingsForSharing(J,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,P){var E=this._inputSettings||{},B={};if(j.video){var D,G,q;B.video={},j.video.settings?(B.video.settings={},P||j.video.settings.customTrack||(q=E.video)===null||q===void 0||!q.settings?B.video.settings=j.video.settings:B.video.settings=De(De({},E.video.settings),j.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(D=E.video)!==null&&D!==void 0&&D.settings&&(B.video.settings=E.video.settings),j.video.processor?B.video.processor=j.video.processor:(G=E.video)!==null&&G!==void 0&&G.processor&&(B.video.processor=E.video.processor)}else E.video&&(B.video=E.video);if(j.audio){var J,ee,Y;B.audio={},j.audio.settings?(B.audio.settings={},P||j.audio.settings.customTrack||(Y=E.audio)===null||Y===void 0||!Y.settings?B.audio.settings=j.audio.settings:B.audio.settings=De(De({},E.audio.settings),j.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(J=E.audio)!==null&&J!==void 0&&J.settings&&(B.audio.settings=E.audio.settings),j.audio.processor?B.audio.processor=j.audio.processor:(ee=E.audio)!==null&&ee!==void 0&&ee.processor&&(B.audio.processor=E.audio.processor)}else E.audio&&(B.audio=E.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(j){var P,E,B=(j==null||(P=j.video)===null||P===void 0||(P=P.settings)===null||P===void 0?void 0:P.deviceId)||null,D=(j==null||(E=j.audio)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,G=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:D?{deviceId:D}:{},speaker:G?{deviceId:G}:{}}}},{key:"updateInputSettings",value:(V=Ye(function*(j){var P=this;return ft(),aG(j)?j.video||j.audio?(iG(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(E,B){P.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(D){if(D.error)B(D.error);else{if(D.returnPreloadCache)return P._updatePreloadCacheInputSettings(j,!0),void E(P._getInputSettings());P._maybeUpdateInputSettings(D.inputSettings),E(P._prepInputSettingsForSharing(D.inputSettings,!0))}})})):this._getInputSettings():(console.error(aC()),Promise.reject(aC()))}),function(j){return V.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var P=j.kbs,E=j.trackConstraints;if(ft(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:P,trackConstraints:E}),this}},{key:"getDailyLang",value:function(){var j=this;if(ft(),this._callMachineInitialized)return new Promise(function(P){j.sendMessageToCallMachine({action:"get-daily-lang"},function(E){delete E.action,delete E.callbackStamp,P(E)})})}},{key:"setDailyLang",value:function(j){return ft(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[rc,Ro].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(F=Ye(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Mt(this._callState,"getMeetingSession()"),new Promise(function(P){j.sendMessageToCallMachine({action:"get-meeting-session"},function(E){delete E.action,delete E.callbackStamp,P(E)})})}),function(){return F.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Mt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";gi(this._callObjectMode,"setMeetingSessionData()"),Mt(this._callState,"setMeetingSessionData");try{(function(E,B){new QUe({data:E,mergeStrategy:B})})(j,P)}catch(E){throw console.error(E),E}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:P})}catch(E){throw new Error("Error setting meeting session data: ".concat(E))}}},{key:"setUserName",value:function(j,P){var E=this;return this.properties.userName=j,new Promise(function(B){E.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:ht()||!!P&&!!P.thisMeetingOnly},function(D){delete D.action,delete D.callbackStamp,B(D)})})}},{key:"setUserData",value:($=Ye(function*(j){var P=this;try{rG(j)}catch(E){throw console.error(E),E}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(E){try{P.sendMessageToCallMachine({action:"set-user-data",userData:j},function(B){delete B.action,delete B.callbackStamp,E(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(j){return $.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var P=this;if(typeof AudioWorkletNode>"u"&&!ht())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(E,B){P.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(D){P._isLocalAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):E()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var P=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(E,B){P.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(D){P._isRemoteParticipantsAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):E()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(L=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gi(this._callObjectMode,"startCamera()"),a1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(P)}catch(E){return Promise.reject(E)}else{if(this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(P),this.properties=De(De({},this.properties),P)}return new Promise(function(E){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:Gu(j.properties,j.callClientId),preloadCache:Gu(j._preloadCache,j.callClientId)},function(B){E({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return L.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,P,E){if(E&&E.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(P&&P!=="music"&&P!=="speech"&&!(P instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(E&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(E))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return ft(),Mt(this._callState,"startCustomTrack()"),this.validateCustomTrack(P.track,P.mode,P.trackName),new Promise(function(E,B){j._sharedTracks.customTrack=P.track,P.track=Zs,j.sendMessageToCallMachine({action:"start-custom-track",properties:P},function(D){D.error?B({error:D.error}):E(D.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var P=this;return ft(),Mt(this._callState,"stopCustomTrack()"),new Promise(function(E){P.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(B){E(B.mediaTag)})})}},{key:"setCamera",value:function(j){var P=this;return Yh(),Yv(this._callMachineInitialized,"setCamera()"),new Promise(function(E){P.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(B){E({device:B.device})})})}},{key:"setAudioDevice",value:(O=Ye(function*(j){return Yh(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return O.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(E){j.sendMessageToCallMachine({action:"cycle-camera",properties:P},function(B){E({device:B.device})})})}},{key:"cycleMic",value:function(){var j=this;return ft(),new Promise(function(P){j.sendMessageToCallMachine({action:"cycle-mic"},function(E){P({device:E.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return Yh(),new Promise(function(P){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(E){P(E.facingMode)})})}},{key:"setInputDevicesAsync",value:(I=Ye(function*(j){var P=this,E=j.audioDeviceId,B=j.videoDeviceId,D=j.audioSource,G=j.videoSource;if(ft(),D!==void 0&&(E=D),G!==void 0&&(B=G),typeof E=="boolean"&&(this._setAllowLocalAudio(E),E=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!E&&!B)return yield this.getInputDevices();var q={};return E&&(E instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=E,E=Zs,q.audio={settings:{customTrack:E}}):(delete this._sharedTracks.audioTrack,q.audio={settings:{deviceId:E}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=Zs,q.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,q.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(q,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(J){P.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:E,videoDeviceId:B},function(ee){if(delete ee.action,delete ee.callbackStamp,ee.returnPreloadCache)return P._updatePreloadCacheInputSettings(q,!1),void J(P._devicesFromInputSettings(P._inputSettings));J(ee)})})}),function(j){return I.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(T=Ye(function*(j){var P=this,E=j.outputDeviceId;if(ft(),!E||typeof E!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=E,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,D){P.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:E},function(G){if(delete G.action,delete G.callbackStamp,G.error){var q=new Error(G.error.message);return q.type=G.error.type,void D(q)}G.returnPreloadCache?B(P._devicesFromInputSettings(P._inputSettings)):B(G)})})}),function(j){return T.apply(this,arguments)})},{key:"getInputDevices",value:(A=Ye(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(P){j.sendMessageToCallMachine({action:"get-input-devices"},function(E){E.returnPreloadCache?P(j._devicesFromInputSettings(j._inputSettings)):P({camera:E.camera,mic:E.mic,speaker:E.speaker})})})}),function(){return A.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return Yh(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(Yh(),[WL,y6e].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&jy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(C=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gi(this._callObjectMode,"preAuth()"),a1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(P)),!P.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(P),this.properties=De(De({},this.properties),P),new Promise(function(E,B){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:Gu(j.properties,j.callClientId),preloadCache:Gu(j._preloadCache,j.callClientId)},function(D){return D.error?B(D.error):D.access?(j._didPreAuth=!0,void E({access:D.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return C.apply(this,arguments)})},{key:"load",value:(k=Ye(function*(j){var P=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=De(De({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(fL),this.emitDailyJSEvent({action:QBe}),this._callObjectMode?new Promise(function(E,B){P._callObjectLoader.cancel();var D=Date.now();P._callObjectLoader.load(P.properties.dailyConfig,function(G){P._bundleLoadTime=G?"no-op":Date.now()-D,P._updateCallState(hL),G&&P.emitDailyJSEvent({action:mL}),E()},function(G,q){if(P.emitDailyJSEvent({action:ZBe}),!q){P._updateCallState(Ro),P.resetMeetingDependentVars();var J={action:bL,errorMsg:G.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:G,bundleUrl:Ob(P.properties.dailyConfig)}}};P._maybeSendToSentry(J),P.emitDailyJSEvent(J),B(G.msg)}})}):(this._iframe.src=S7(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(E,B){P._loadedCallback=function(D){P._callState!==Ro?(P._updateCallState(hL),(P.properties.cssFile||P.properties.cssText)&&P.loadCss(P.properties),E()):B(D)}}))}}),function(j){return k.apply(this,arguments)})},{key:"join",value:(N=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var E=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(P)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(E=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(P.token&&P.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(P.url&&!this._callObjectMode&&P.url&&P.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(P.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(P),this.properties=De(De({},this.properties),P)}return P.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!P.showLocalVideo),P.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!P.showParticipantsBar),this._callState===mc||this._callState===Xk?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(Xk,!1),this.emitDailyJSEvent({action:rUe}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:Gu(this.properties,this.callClientId),preloadCache:Gu(this._preloadCache,this.callClientId)}),new Promise(function(B,D){j._joinedCallback=function(G,q){if(j._callState!==Ro){if(j._updateCallState(mc),G)for(var J in G){if(j._callObjectMode){var ee=j._callMachine().store;TL(G[J],ee),ML(G[J],ee),$L(G[J],j._participants[J],ee)}j._participants[J]=De({},G[J]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}E&&j.loadCss(j.properties),B(G)}else D(q)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=Ye(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(P){j._callState===rc||j._callState===Ro?P():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(rc),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:rc}),P()):(j._resolveLeave=P,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=Ye(function*(){var j=this,P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Yv(this._callMachineInitialized,"startScreenShare()"),P.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",P.screenVideoSendSettings),P.mediaStream&&(this._sharedTracks.screenMediaStream=P.mediaStream,P.mediaStream=Zs),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var E=this.nativeUtils();if(yield E.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:xL,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});E.setSystemScreenCaptureStartCallback(function(){E.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:_L,captureOptions:P})}),E.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:_L,captureOptions:P})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){Yv(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=j.type;if(P&&P!=="cloud"&&P!=="raw-tracks"&&P!=="local")throw new Error("invalid type: ".concat(P,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(De({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var P=j.layout,E=P===void 0?{preset:"default"}:P,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:E,instanceId:B})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var P=j.layout,E=P===void 0?{preset:"default"}:P,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:E,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(j){var P=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:jL,endpointsOp:WUe,endpoints:P,instanceId:E})}},{key:"removeLiveStreamingEndpoints",value:function(j){var P=j.endpoints,E=j.instanceId;this.sendMessageToCallMachine({action:jL,endpointsOp:HUe,endpoints:P,instanceId:E})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),W7()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,E=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!eF(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<j.length;B++){var D=j[B];for(var G in this._validateEncodingLayerHasValidProperties(D),D)if(n1.includes(G)){if(typeof D[G]!="number")throw new Error("".concat(G," must be a number"));if(P){var q=P[G],J=q.min,ee=q.max;if(!eF(D[G],J,ee))throw new Error("".concat(G," value not in range. valid range: ").concat(J," to ").concat(ee))}}else if(!["active","scalabilityMode"].includes(G))throw new Error("Invalid key ".concat(G,", valid keys are:")+Object.values(n1));if(E&&!D.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=Ye(function*(j){var P=this,E=j.url,B=j.settings,D=B===void 0?{state:Qk.PLAY}:B;try{(function(G){if(typeof G!="string")throw new Error('url parameter must be "string" type')})(E),ZL(D),function(G){for(var q in G)if(!GL.includes(q))throw new Error("Invalid key ".concat(q,", valid keys are: ").concat(GL));G.simulcastEncodings&&this.validateSimulcastEncodings(G.simulcastEncodings,tG,!0)}(D)}catch(G){throw console.error("invalid argument Error: ".concat(G)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),G}return new Promise(function(G,q){P.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:E,settings:D},function(J){J.error?q({error:J.error,errorMsg:J.errorMsg}):G({session_id:J.session_id,remoteMediaPlayerState:{state:J.state,settings:J.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=Ye(function*(j){var P=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(E,B){P.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(D){D.error?B({error:D.error,errorMsg:D.errorMsg}):E()})})}),function(j){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=Ye(function*(j){var P=this,E=j.session_id,B=j.settings;try{ZL(B)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),D}return new Promise(function(D,G){P.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:E,settings:B},function(q){q.error?G({error:q.error,errorMsg:q.errorMsg}):D({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(j){return b.apply(this,arguments)})},{key:"startTranscription",value:function(j){Mt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(De({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(Mt(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(gt(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(De({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(Mt(this._callState,"stopTranscription()"),j&&gt(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(De({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=Ye(function*(j){var P=this;Mt(this._callState,"startDialOut()");var E=function(q){if(q){if(!Array.isArray(q))throw new Error("Error starting dial out: audio codec must be an array");if(q.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");q.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: audio codec must be a string");if(J!=="OPUS"&&J!=="PCMU"&&J!=="PCMA"&&J!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(q){if(q&&(E(q.audio),q.video)){if(!Array.isArray(q.video))throw new Error("Error starting dial out: video codec must be an array");if(q.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");q.video.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: video codec must be a string");if(J!=="H264"&&J!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&E(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(JL(j),j.permissions&&j.permissions.canReceive){var B=kn(Z7.validateJSONObject(j.permissions.canReceive),2),D=B[0],G=B[1];if(!D)throw new Error(G)}if(j.provider){if(j.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(j.provider));if(j.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(q,J){P.sendMessageToCallMachine(De({action:"dialout-start"},j),function(ee){ee.error?J(ee.error):q(ee)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var P=this;return Mt(this._callState,"stopDialOut()"),new Promise(function(E,B){P.sendMessageToCallMachine(De({action:"dialout-stop"},j),function(D){D.error?B(D.error):E(D)})})}},{key:"sipCallTransfer",value:(m=Ye(function*(j){var P=this;if(Mt(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,QL(j,"sipCallTransfer"),JL(j),new Promise(function(E,B){P.sendMessageToCallMachine(De({action:SL},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return m.apply(this,arguments)})},{key:"sipRefer",value:(g=Ye(function*(j){var P=this;if(Mt(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,QL(j,"sipRefer"),new Promise(function(E,B){P.sendMessageToCallMachine(De({action:SL},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return g.apply(this,arguments)})},{key:"sendDTMF",value:(p=Ye(function*(j){var P=this;return Mt(this._callState,"sendDTMF()"),function(E){var B=E.sessionId,D=E.tones;if(!B||!D)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof D!="string")throw new Error("sessionId and tones should be of string type");if(D.length>20)throw new Error("tones string must be upto 20 characters");var G=/[^0-9A-D*#]/g,q=D.match(G);if(q&&q[0])throw new Error("".concat(q[0]," is not valid DTMF tone"))}(j),new Promise(function(E,B){P.sendMessageToCallMachine(De({action:"send-dtmf"},j),function(D){D.error?B(D.error):E(D)})})}),function(j){return p.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==mc?Promise.resolve(De({stats:{latest:{}}},this._network)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-calc-stats"},function(E){P(De(De({},j._network),{},{stats:E.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=Ye(function*(){var j=this;if(i1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(P){return Promise.reject(P)}return new Promise(function(P,E){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?E(B.error):P(B.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!h6e(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=Ye(function*(){var j=this;ft(),gi(this._callObjectMode,"testCallQuality()"),Yv(this._callMachineInitialized,"testCallQuality()",null,!0),a1(this._callState,this._isPreparingToJoin,"testCallQuality()");var P=this._testCallAlreadyInProgress,E=function(D){P||(j._testCallInProgress=D)};if(E(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(D){return E(!1),Promise.reject(D)}return new Promise(function(D){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(G){var q=G.results,J=q.result,ee=s4(q,g6e);if(J==="failed"){var Y,xe=De({},ee);(Y=ee.error)!==null&&Y!==void 0&&Y.details?(ee.error.details=JSON.parse(ee.error.details),xe.error=De(De({},xe.error),{},{details:De({},xe.error.details)}),xe.error.details.duringTest="testCallQuality"):(xe.error=xe.error?De({},xe.error):{},xe.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(xe)}E(!1),D(De({result:J},ee))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Ye(function*(j){var P;ht()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),P=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),P=yield this.testCallQuality());var E={result:P.result,secondsElapsed:P.secondsElapsed};return P.data&&(E.data={maxRTT:P.data.maxRoundTripTime,packetLoss:P.data.avgRecvPacketLoss}),E}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Ye(function*(j){var P=this;if(i1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(D){return Promise.reject(D)}var E=j.videoTrack,B=j.duration;if(!this._validateVideoTrackForNetworkTests(E))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=E,new Promise(function(D,G){P.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(q){q.error?G(q.error):D(q.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){ht()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Ye(function*(j){var P=this;if(i1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(E,B){P.sendMessageToCallMachine({action:"test-network-connectivity"},function(D){D.error?B(D.error):E(D.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(P){j._callState===mc?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(E){P(E.cpuStats)}):P({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var P;if(!(((P=Object.keys(j))===null||P===void 0?void 0:P.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(n1))}},{key:"_validateVideoSendSettings",value:function(j,P){var E=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(E.join());if(typeof P=="string"){if(!E.includes(P))throw new Error(B)}else{if(gt(P)!=="object")throw new Error(B);if(!P.maxQuality&&!P.encodings&&P.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(P.maxQuality&&["low","medium","high"].indexOf(P.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(P.encodings){var D=!1;switch(Object.keys(P.encodings).length){case 1:D=!P.encodings.low;break;case 2:D=!P.encodings.low||!P.encodings.medium;break;case 3:D=!P.encodings.low||!P.encodings.medium||!P.encodings.high;break;default:D=!0}if(D)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");P.encodings.low&&this._validateEncodingLayerHasValidProperties(P.encodings.low),P.encodings.medium&&this._validateEncodingLayerHasValidProperties(P.encodings.medium),P.encodings.high&&this._validateEncodingLayerHasValidProperties(P.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var P=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(E){var B=kn(E,2),D=B[0],G=B[1];P._validateVideoSendSettings(D,G)})}},{key:"updateSendSettings",value:function(j){var P=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(E,B){P.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(D){D.error?B(D.error):E(D.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return ft(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return ft(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return ft(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return Mt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(l=Ye(function*(){var j=this;if(this._callObjectMode){var P=yield navigator.mediaDevices.enumerateDevices();return du()==="Firefox"&&Rb().major>115&&Rb().major<123&&(P=P.filter(function(E){return E.kind!=="audiooutput"})),{devices:P.map(function(E){var B=JSON.parse(JSON.stringify(E));if(!ht()&&E.kind==="videoinput"&&E.getCapabilities){var D,G=E.getCapabilities();B.facing=(G==null||(D=G.facingMode)===null||D===void 0?void 0:D.length)>=1?G.facingMode[0]:void 0}return B})}}return new Promise(function(E){j.sendMessageToCallMachine({action:"enumerate-devices"},function(B){E({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Mt(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:P}),this}},{key:"addFakeParticipant",value:function(j){return ft(),Mt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(De({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return fa(this._callObjectMode,"setShowNamesMode()"),ft(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fa(this._callObjectMode,"setShowLocalVideo()"),ft(),Mt(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return fa(this._callObjectMode,"showLocalVideo()"),ft(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return fa(this._callObjectMode,"setShowParticipantsBar()"),ft(),Mt(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return fa(this._callObjectMode,"showParticipantsBar()"),ft(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return ft(),fa(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return ft(),fa(this._callObjectMode,"setCustomIntegrations()"),Mt(this._callState,"setCustomIntegrations()"),cG(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var P=this;if(ft(),fa(this._callObjectMode,"startCustomIntegrations()"),Mt(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,B=E.filter(function(D){return!(D in P._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:E}),this)}},{key:"stopCustomIntegrations",value:function(j){var P=this;if(ft(),fa(this._callObjectMode,"stopCustomIntegrations()"),Mt(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var E=typeof j=="string"?[j]:j,B=E.filter(function(D){return!(D in P._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:E}),this)}},{key:"customTrayButtons",value:function(){return fa(this._callObjectMode,"customTrayButtons()"),ft(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return fa(this._callObjectMode,"updateCustomTrayButtons()"),ft(),Mt(this._callState,"updateCustomTrayButtons()"),lG(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Lb))),this)}},{key:"theme",value:function(){return fa(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var P=this;return fa(this._callObjectMode,"setTheme()"),new Promise(function(E,B){try{P.validateProperties({theme:j}),P.properties.theme=De({},j),P.sendMessageToCallMachine({action:"set-theme",theme:P.properties.theme});try{P.emitDailyJSEvent({action:XBe,theme:P.properties.theme})}catch(D){console.log("could not emit 'theme-updated'",D)}E(P.properties.theme)}catch(D){B(D)}})}},{key:"requestFullscreen",value:(s=Ye(function*(){if(ft(),this._iframe&&!document.fullscreenElement&&NL())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){ft(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Ye(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(P){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(E){P(E.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(a=Ye(function*(){var j=this,P=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,E=P===void 0||P;return this._accessState.access===Jj||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:E},function(D){delete D.action,delete D.callbackStamp,B(D)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(n=Ye(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(P){return console.error("geo lookup failed",P),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Ye(function*(j){var P=this;return ft(),Mt(this._callState,"setNetworkTopology()"),new Promise(function(E,B){P.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(D){D.error?B({error:D.error}):E({workerId:D.workerId})})})}),function(j){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Ye(function*(){var j=this;return new Promise(function(P,E){j.needsLoad()&&P({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?E({error:B.error}):P({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(ft(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,P){return Rv.prototype.on.call(this,j,P)}},{key:"once",value:function(j,P){return Rv.prototype.once.call(this,j,P)}},{key:"off",value:function(j,P){return Rv.prototype.off.call(this,j,P)}},{key:"validateProperties",value:function(j){var P,E;if(j!=null&&(P=j.dailyConfig)!==null&&P!==void 0&&P.userMediaAudioConstraints){var B,D;ht()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var G=j.inputSettings||{};G.audio=((B=j.inputSettings)===null||B===void 0?void 0:B.audio)||{},G.audio.settings=((D=j.inputSettings)===null||D===void 0||(D=D.audio)===null||D===void 0?void 0:D.settings)||{},G.audio.settings=De(De({},G.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=G,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(E=j.dailyConfig)!==null&&E!==void 0&&E.userMediaVideoConstraints){var q,J;ht()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var ee=j.inputSettings||{};ee.video=((q=j.inputSettings)===null||q===void 0?void 0:q.video)||{},ee.video.settings=((J=j.inputSettings)===null||J===void 0||(J=J.video)===null||J===void 0?void 0:J.settings)||{},ee.video.settings=De(De({},ee.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=ee,delete j.dailyConfig.userMediaVideoConstraints}for(var Y in j)if(ac[Y]){if(ac[Y].validate&&!ac[Y].validate(j[Y],this))throw new Error("property '".concat(Y,"': ").concat(ac[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete j[Y]}},{key:"assembleMeetingUrl",value:function(){var j,P,E=De(De({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((P=this.properties.dailyConfig)===null||P===void 0?void 0:P.proxyUrl):void 0}),B=E.url.match(/\?/)?"&":"?";return E.url+B+Object.keys(ac).filter(function(D){return ac[D].queryString&&E[D]!==void 0}).map(function(D){return"".concat(ac[D].queryString,"=").concat(E[D])}).join("&")}},{key:"needsLoad",value:function(){return[dL,fL,rc,Ro].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,P){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,P,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case YBe:this.sendMessageToCallMachine(De({action:JBe},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var P={action:qv,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:Ob(this.properties.dailyConfig)}};this.sendMessageToCallMachine(P),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case mL:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case nUe:var E,B=De({},j);delete B.internal,this._maxAppMessageSize=((E=j.internal)===null||E===void 0?void 0:E._maxAppMessageSize)||Xj,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case iUe:case sUe:if(this._callState===rc)return;if(j.participant&&j.participant.session_id){var D=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var G=this._callMachine().store;TL(j.participant,G),ML(j.participant,G),$L(j.participant,this._participants[D],G)}try{this.maybeParticipantTracksStopped(this._participants[D],j.participant),this.maybeParticipantTracksStarted(this._participants[D],j.participant),this.maybeEventRecordingStopped(this._participants[D],j.participant),this.maybeEventRecordingStarted(this._participants[D],j.participant)}catch(oe){console.error("track events error",oe)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[D])||(this._participants[D]=De({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case oUe:if(j.participant&&j.participant.session_id){var q=this._participants[j.participant.session_id];q&&this.maybeParticipantTracksStopped(q,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case lUe:$n(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case cUe:var J={access:j.access};j.awaitingAccess&&(J.awaitingAccess=j.awaitingAccess),$n(this._accessState,J)||(this._accessState=J,this.emitDailyJSEvent(j));break;case uUe:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var ee=De(De({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(ee)}break;case bL:var Y;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(Ro),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var xe=s4(j,v6e);xe!=null&&(Y=xe.error)!==null&&Y!==void 0&&Y.details&&(xe.error.details=JSON.parse(xe.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,xe),this._joinedCallback=null),this.emitDailyJSEvent(xe);break;case aUe:this._callState!==Ro&&this._updateCallState(rc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case $Ue:var Ne=j.state,Je=j.threshold,He=j.quality,Be=Ne.state,st=Ne.reasons;Be===this._network.networkState&&$n(st,this._network.networkStateReasons)&&Je===this._network.threshold&&He===this._network.quality||(this._network.networkState=Be,this._network.networkStateReasons=st,this._network.quality=He,this._network.threshold=Je,j.networkState=Be,st.length&&(j.networkStateReasons=st),delete j.state,this.emitDailyJSEvent(j));break;case RUe:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case DUe:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case TUe:var Rt=j.activeSpeaker;this._activeSpeaker.peerId!==Rt.peerId&&(this._activeSpeaker.peerId=Rt.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var vr=j.show;this._showLocalVideo=vr,this.emitDailyJSEvent({action:j.action,show:vr});break;case MUe:var H=j.enabled;this._activeSpeakerMode!==H&&(this._activeSpeakerMode=H,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case fUe:case hUe:case pUe:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case VUe:$n(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case yL:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":$n(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case kUe:var W=j.session_id;this._rmpPlayerState[W]=j.playerState,this.emitDailyJSEvent(j);break;case EUe:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case CUe:var X=j.session_id,de=this._rmpPlayerState[X];de&&this.compareEqualForRMPUpdateEvent(de,j.remoteMediaPlayerState)||(this._rmpPlayerState[X]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case dUe:var le=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=s1(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||le)&&this.emitDailyJSEvent(j);break;case PUe:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case OUe:case AUe:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case gL:case vL:case bUe:case wUe:case _Ue:case vUe:case yUe:case xUe:case eUe:case tUe:case SUe:case NUe:case"test-completed":case IUe:case jUe:case LUe:case FUe:case BUe:case UUe:case xL:case zUe:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,P){var E="record";j&&(P.local||P[E]!==!1||j[E]===P[E]||this.emitDailyJSEvent({action:vL}))}},{key:"maybeEventRecordingStarted",value:function(j,P){var E="record";j&&(P.local||P[E]!==!0||j[E]===P[E]||this.emitDailyJSEvent({action:gL}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==WBe)}},{key:"_trackChanged",value:function(j,P){return(j==null?void 0:j.id)!==(P==null?void 0:P.id)}},{key:"maybeEventTrackStopped",value:function(j,P,E){var B,D,G=(B=P==null?void 0:P.tracks[j])!==null&&B!==void 0?B:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,J=G==null?void 0:G.track;if(J){var ee=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),xe=this._trackChanged(J,q==null?void 0:q.track);ee&&(Y&&!xe||this.emitDailyJSEvent({action:gUe,track:J,participant:E??P,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,P,E){var B,D,G=(B=P==null?void 0:P.tracks[j])!==null&&B!==void 0?B:null,q=(D=E==null?void 0:E.tracks[j])!==null&&D!==void 0?D:null,J=q==null?void 0:q.track;if(J){var ee=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),xe=this._trackChanged(G==null?void 0:G.track,J);Y&&(ee&&!xe||this.emitDailyJSEvent({action:mUe,track:J,participant:E,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,P){if(j)for(var E in j.tracks)this.maybeEventTrackStopped(E,j,P)}},{key:"maybeParticipantTracksStarted",value:function(j,P){if(P)for(var E in P.tracks)this.maybeEventTrackStarted(E,j,P)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,P){var E,B;return j.state===P.state&&((E=j.settings)===null||E===void 0?void 0:E.volume)===((B=P.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(P){console.log("could not emit",j,P)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,P){return!!$n(j,P)&&(!j.videoTrack||!P.videoTrack||j.videoTrack.id===P.videoTrack.id&&j.videoTrack.muted===P.videoTrack.muted&&j.videoTrack.enabled===P.videoTrack.enabled)&&(!j.audioTrack||!P.audioTrack||j.audioTrack.id===P.audioTrack.id&&j.audioTrack.muted===P.audioTrack.muted&&j.audioTrack.enabled===P.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return ht()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||P!==this._isPreparingToJoin){var E=this._callState,B=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=P;var D=this._callState===mc;this.updateShowAndroidOngoingMeetingNotification(D);var G=jy(E,B),q=jy(this._callState,this._isPreparingToJoin);G!==q&&(this.updateKeepDeviceAwake(q),this.updateDeviceAudioMode(q),this.updateNoOpRecordingEnsuringBackgroundContinuity(q))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=qL,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Jj},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=s1(HL,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=Xj,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){ht()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(ht()&&!this.disableReactNativeAutoDeviceManagement("audio")){var P=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(P)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(ht()&&this.nativeUtils().setShowOngoingMeetingNotification){var P,E,B,D;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var G=this.properties.reactNativeConfig.androidInCallNotification;P=G.title,E=G.subtitle,B=G.iconName,D=G.disableForCustomOverride}D&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,P,E,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){ht()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(ht()){var P=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var E in P==null?void 0:P.streams){var B=P.streams[E];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var P=document.createElement("a");return P.href=j,P.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(nc)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var P={action:qv,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(P)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var E={action:qv,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(E,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,P=Object.values(nc);j<P.length;j++){var E=P[j];E._callMachineInitialized?(E.sendMessageToCallMachine({action:qv,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),E._delayDuplicateInstanceLog=!1):E._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var P,E,B,D;if(!((P=j.error)!==null&&P!==void 0&&P.type&&(![KBe,GBe,pL].includes(j.error.type)||j.error.type===pL&&j.error.msg.includes("deleted")))){var G=(E=this.properties)!==null&&E!==void 0&&E.url?new URL(this.properties.url):void 0,q="production";G&&G.host.includes(".staging.daily")&&(q="staging");var J,ee,Y,xe,Ne,Je=function(W){const X=[uBe(),lBe(),RBe(),$Be(),UBe(),VBe(),pBe(),zBe()];return W.autoSessionTracking!==!1&&X.push(BBe()),X}({}).filter(function(W){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(W.name)}),He=new _Be({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:CBe,stackParser:MBe,integrations:Je,environment:q}),Be=new Al;if(Be.setClient(He),He.init(),this.session_id&&Be.setExtra("sessionId",this.session_id),this.properties){var st=De({},this.properties);st.userName=st.userName?"[Filtered]":void 0,st.userData=st.userData?"[Filtered]":void 0,st.token=st.token?"[Filtered]":void 0,Be.setExtra("properties",st)}if(G){var Rt=G.searchParams.get("domain");if(!Rt){var vr=G.host.match(/(.*?)\./);Rt=vr&&vr[1]||""}Rt&&Be.setTag("domain",Rt)}j.error&&(Be.setTag("fatalErrorType",j.error.type),Be.setExtra("errorDetails",j.error.details),!((J=j.error.details)===null||J===void 0)&&J.uri&&Be.setTag("serverAddress",j.error.details.uri),!((ee=j.error.details)===null||ee===void 0)&&ee.workerGroup&&Be.setTag("workerGroup",j.error.details.workerGroup),!((Y=j.error.details)===null||Y===void 0)&&Y.geoGroup&&Be.setTag("geoGroup",j.error.details.geoGroup),!((xe=j.error.details)===null||xe===void 0)&&xe.on&&Be.setTag("connectionAttempt",j.error.details.on),(Ne=j.error.details)!==null&&Ne!==void 0&&Ne.bundleUrl&&(Be.setTag("bundleUrl",j.error.details.bundleUrl),Be.setTag("bundleError",j.error.details.sourceError.type))),Be.setTags({callMode:this._callObjectMode?ht()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var H=((D=j.error)===null||D===void 0?void 0:D.msg)||j.errorMsg;Be.captureException(new Error(H))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!$n(this._inputSettings,j)){var P=this._getInputSettings();this._inputSettings=j;var E=this._getInputSettings();$n(P,E)||this.emitDailyJSEvent({action:yL,inputSettings:E})}}}],[{key:"supportedBrowser",value:function(){if(ht())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=O5e.getParser(si());return{supported:!!e1(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!NL(),supportsScreenShare:!!qUe(),supportsSfu:!!e1(),supportsVideoProcessing:z7(),supportsAudioProcessing:V7()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ft(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return P.layout||(P.customLayout?P.layout="custom-v1":P.layout="browser"),new e(j,P)}},{key:"createFrame",value:function(j,P){var E,B;ft(),j&&P?(E=j,B=P):j&&j.append?(E=j,B={}):(E=document.body,B=j||{});var D=B.iframeStyle;D||(D=E===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var G=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?G.allow="microphone, camera":G.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",G.style.visibility="hidden",E.appendChild(G),G.style.visibility=null,Object.keys(D).forEach(function(q){return G.style[q]=D[q]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(G,B)}catch(q){throw E.removeChild(G),q}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ft();var P=document.createElement("iframe");return P.allow="microphone; camera; autoplay",P.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(P),j.layout||(j.layout="custom-v1"),e.wrap(P,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?nc[j]:Object.values(nc)[0]}}]);var t,r,n,a,i,s,l,c,u,d,f,h,p,g,m,v,b,x,w,_,S,N,k,C,A,T,I,O,L,$,F,V,z,R,U,K,re,Q}();function JL(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function Gu(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=Zs;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function Mt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==mc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function jy(e,t){return[Xk,mc].includes(e)||t}function a1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(jy(e,t)){var a="".concat(r," not supported after joining a meeting.");throw n&&(a+=" ".concat(n)),console.error(a),new Error(a)}}function Yv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function i1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function gi(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function fa(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function ft(){if(ht())throw new Error("This daily-js method is not currently supported in React Native")}function Yh(){if(!ht())throw new Error("This daily-js method is only supported in React Native")}function rG(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),$n(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function nG(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},a=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!a(f.video))&&!(f.screenVideo&&!a(f.screenVideo))},s=0,l=Object.entries(e);s<l.length;s++){var c=kn(l[s],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function aG(e){if(gt(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=kn(r[t],2),a=n[0],i=n[1];switch(a){case"video":if(gt(i)!=="object")return!1;for(var s=0,l=Object.entries(i);s<l.length;s++){var c=kn(l[s],2),u=c[0],d=c[1];switch(u){case"processor":if(!b6e(d))return!1;break;case"settings":if(!XL(d))return!1;break;default:return!1}}break;case"audio":if(gt(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var p=kn(h[f],2),g=p[0],m=p[1];switch(g){case"processor":if(!x6e(m))return!1;break;case"settings":if(!XL(m))return!1;break;default:return!1}}break;default:return!1}}return!0}function iG(e,t,r){var n,a=[];e.video&&e.video.processor&&(z7((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(V7()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:Zs}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:Zs}):delete r.videoTrack)}function x6e(e){if(ht())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&gt(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(B7).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function b6e(e){if(ht())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||gt(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(_y).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(gt(e.config)!=="object"||!function(r,n){var a=Object.keys(n);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case _y.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case _y.BGIMAGE:return!(n.source!==void 0&&!function(s){if(s.source==="default")return s.type="default",!0;if(s.source instanceof ArrayBuffer)return!0;if(Ab(s.source))return s.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return Zj.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var p=f.split(".").at(-1).toLowerCase().trim();return Zj.includes(p)}(s.source)||(console.error("invalid image type; supported types: [".concat(Zj.join(", "),"]")),!1);return l=s.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(s.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function XL(e){return gt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function aC(){var e=Object.values(_y).join(" | "),t=Object.values(B7).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function sG(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(qBe).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function oG(){return"customIntegrations should be an object of type ".concat(JSON.stringify(nC),".")}function lG(e){if(e&&gt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Lb),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=kn(r[t],1)[0],a=0,i=Object.entries(e[n]);a<i.length;a++){var s=kn(i[a],2),l=s[0],c=s[1],u=Lb.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Ab(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(gt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function cG(e){if(!e||e&&gt(e)!=="object"||Array.isArray(e))return console.error(oG()),!1;for(var t=function(f){return"".concat(f," should be ").concat(nC.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,a=Object.entries(e);n<a.length;n++){var i=kn(a[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var s=0,l=Object.entries(e[i]);s<l.length;s++){var c=kn(l[s],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Ab(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Ab(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!nC.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function uG(e,t){if(t===void 0)return!1;switch(gt(t)){case"string":return gt(e)===t;case"object":if(gt(e)!=="object")return!1;for(var r in e)if(!uG(e[r],t[r]))return!1;return!0;default:return!1}}function QL(e,t){var r=e.sessionId,n=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function ZL(e){if(gt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Qk).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Qk));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function eF(e,t,r){return!(typeof e!="number"||e<t||e>r)}function s1(e,t){return e&&!t&&delete e.data,e}const w6e=()=>{const[e]=EE(),t=En(),{user:r,profile:n,role:a}=Tr(),i=e.get("appointment"),[s,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,p]=y.useState(null),[g,m]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,S]=y.useState(!1),N=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{(async()=>{if(!i||!r){f("No appointment specified"),l(!1);return}try{const{data:L,error:$}=await Oe.from("appointments").select("*").eq("id",i).single();if($||!L){f("Appointment not found"),l(!1);return}const F=L.patient_id===r.id,V=L.clinician_id===r.id,z=a&&["admin","receptionist"].includes(a);if(!F&&!V&&!z){f("You are not authorized to join this consultation"),l(!1);return}const[R,U]=await Promise.all([Oe.from("profiles").select("first_name, last_name").eq("id",L.patient_id).single(),Oe.from("profiles").select("first_name, last_name").eq("id",L.clinician_id).single()]);p({...L,patient_name:R.data?`${R.data.first_name} ${R.data.last_name}`.trim():"Patient",clinician_name:U.data?`${U.data.first_name} ${U.data.last_name}`.trim():"Clinician"});const K=await wM.createRoom(i),re=n?`${n.first_name} ${n.last_name}`.trim():a==="patient"?"Patient":"Clinician",Q=await wM.createToken(K.room_name,re,a!=="patient");m(Q.room_url),b(Q.token),L.status!=="in_progress"&&await Oe.from("appointments").update({status:"in_progress"}).eq("id",i)}catch(L){console.error("Error setting up video call:",L),f(L.message||"Failed to set up video consultation")}finally{l(!1)}})()},[i,r,n,a]),y.useEffect(()=>()=>{k.current&&(k.current.destroy(),k.current=null)},[]);const C=y.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(O=>setTimeout(O,100)),!N.current){f("Video container not ready"),u(!1);return}try{const O=YL.getCallInstance();O&&await O.destroy();const L=YL.createFrame(N.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});k.current=L,L.on("joined-meeting",()=>{console.log("Joined Daily meeting"),ue.success("Connected to consultation"),w(!0)}),L.on("left-meeting",()=>{console.log("Left Daily meeting"),A()}),L.on("error",$=>{console.error("Daily error:",$),ue.error("Video call error occurred"),f("Video call error: "+(($==null?void 0:$.errorMsg)||"Unknown error")),w(!1),u(!1)}),L.on("participant-joined",$=>{var F,V;console.log("Participant joined:",(F=$==null?void 0:$.participant)==null?void 0:F.user_name),(V=$==null?void 0:$.participant)!=null&&V.user_name&&ue.info(`${$.participant.user_name} joined the call`)}),L.on("participant-left",$=>{var F,V,z;console.log("Participant left:",(F=$==null?void 0:$.participant)==null?void 0:F.user_name),(V=$==null?void 0:$.participant)!=null&&V.user_name&&!((z=$==null?void 0:$.participant)!=null&&z.local)&&ue.info(`${$.participant.user_name} left the call`)}),await L.join({url:g,token:v}),u(!1)}catch(O){console.error("Failed to join Daily call:",O),f("Failed to join video call: "+(O.message||"Unknown error")),ue.error("Failed to join video call"),u(!1)}}},[g,v]),A=async()=>{if(k.current){try{await k.current.destroy()}catch(O){console.error("Error destroying call frame:",O)}k.current=null}w(!1),S(!0),h&&await Oe.from("appointments").update({status:"completed"}).eq("id",h.id)},T=async()=>{if(k.current)try{await k.current.leave()}catch(O){console.error("Error leaving call:",O)}u(!1),A()},I=()=>{t(a==="patient"?"/patient":a==="nurse"||a==="doctor"?"/clinician":"/")};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:o.jsxs("div",{className:"text-center space-y-4",children:[o.jsx(bt,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ie,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(gu,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),o.jsx(we,{children:"Unable to Join"}),o.jsx(Ce,{children:d})]}),o.jsx(ce,{children:o.jsxs(Z,{onClick:I,className:"w-full",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:o.jsxs(ie,{className:"max-w-md w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(Zt,{className:"w-12 h-12 text-primary mx-auto mb-2"}),o.jsx(we,{children:"Consultation Ended"}),o.jsx(Ce,{children:"Your video consultation has ended successfully."})]}),o.jsxs(ce,{className:"space-y-4",children:[a!=="patient"&&o.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>t(`/clinician?notes=${i}`),children:"Complete Clinical Notes"}),o.jsxs(Z,{onClick:I,className:"w-full",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):x||c?o.jsxs("div",{className:"fixed inset-0 bg-black",children:[o.jsx("div",{ref:N,className:"w-full h-full",style:{position:"relative"}}),o.jsxs(Z,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:T,children:[o.jsx(cE,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:o.jsxs(ie,{className:"max-w-lg w-full",children:[o.jsxs(me,{className:"text-center",children:[o.jsx(Zt,{className:"w-16 h-16 text-primary mx-auto mb-4"}),o.jsx(we,{className:"text-2xl",children:"Ready to Join?"}),o.jsx(Ce,{children:a==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Wt,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),o.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Vr,{className:"w-5 h-5 text-muted-foreground"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:a==="patient"?"Clinician":"Patient"}),o.jsx("p",{className:"font-medium",children:a==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),o.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[o.jsx("p",{children:"Before joining, please ensure:"}),o.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[o.jsx("li",{children:"You're in a quiet, private location"}),o.jsx("li",{children:"Your camera and microphone are working"}),o.jsx("li",{children:"You have a stable internet connection"})]})]}),o.jsx("div",{className:"flex justify-center",children:o.jsx(Se,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsxs(Z,{size:"lg",onClick:C,className:"w-full",children:[o.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),o.jsxs(Z,{variant:"outline",onClick:I,className:"w-full",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},_6e=()=>o.jsx(w6e,{}),j6e=()=>{const[e,t]=y.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=y.useRef(null),n=y.useRef(null),a=y.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),i=y.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),p=document.createElement("video");p.srcObject=d,p.muted=!0,p.play(),r.current=p;const g=()=>{h&&p.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(p,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const m=f.captureStream(30),v=d.getAudioTracks()[0];return v&&m.addTrack(v.clone()),m},[]),s=y.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=i(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[i]),l=y.useCallback(async()=>{a(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[a]),c=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return y.useEffect(()=>()=>{a()},[a]),{...e,startCall:s,endCall:l,toggleMute:c,toggleVideo:u}},o1=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:a="Participant",className:i=""})=>{const s=y.useRef(null);y.useEffect(()=>{s.current&&e&&(s.current.srcObject=e)},[e]);const l=a.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?o.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${i}`,children:[o.jsxs("div",{className:"text-center",children:[o.jsx($0,{className:"w-24 h-24 mx-auto mb-4",children:o.jsx(I0,{className:"bg-primary/20 text-primary text-2xl",children:l||o.jsx(Vr,{className:"w-12 h-12"})})}),n&&o.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[o.jsx(cE,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):o.jsxs("div",{className:`relative bg-black ${i}`,children:[o.jsx("video",{ref:s,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&a&&o.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:a})]})},S6e=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:a,isConnected:i})=>o.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[o.jsx(Z,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?o.jsx(fX,{className:"w-6 h-6"}):o.jsx(hX,{className:"w-6 h-6"})}),o.jsx(Z,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?o.jsx(cE,{className:"w-6 h-6"}):o.jsx(Zt,{className:"w-6 h-6"})}),o.jsx(Z,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:a,title:"End call",children:o.jsx(vX,{className:"w-6 h-6"})})]}),N6e=()=>{const e=En(),[t,r]=y.useState(0),[n,a]=y.useState(!1),[i,s]=y.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:p,startCall:g,endCall:m,toggleMute:v,toggleVideo:b}=j6e();y.useEffect(()=>{let N;return u&&(N=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(N)},[u]);const x=N=>{const k=Math.floor(N/60),C=N%60;return`${k.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`},w=async()=>{await g(),p||(s(!1),ue.success("Demo consultation started!"))},_=async()=>{await m(),ue.info("Demo ended"),e(-1)},S=()=>{document.fullscreenElement?(document.exitFullscreen(),a(!1)):(document.documentElement.requestFullscreen(),a(!0))};return i&&!u?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:o.jsxs(ie,{className:"w-full max-w-2xl",children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:o.jsxs(Se,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[o.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),o.jsx(we,{className:"text-2xl",children:"Video Consultation Demo"}),o.jsx(Ce,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?o.jsx(o1,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):o.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[o.jsx(Zt,{className:"w-12 h-12 mb-2 opacity-50"}),o.jsx("p",{children:"Camera preview will appear here"})]})}),o.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[o.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),o.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[o.jsx("li",{children:" Camera and microphone access"}),o.jsx("li",{children:" Video/audio mute controls"}),o.jsx("li",{children:" Picture-in-picture layout"}),o.jsx("li",{children:" Fullscreen mode"}),o.jsx("li",{children:" Call duration timer"})]})]}),p&&o.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:p}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs(Z,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back"]}),o.jsx(Z,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):o.jsxs(o.Fragment,{children:[o.jsx(lE,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):o.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[o.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(Se,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[o.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo"]}),o.jsxs(Se,{variant:"secondary",className:"bg-white/20 text-white",children:[o.jsx(Wt,{className:"w-3 h-3 mr-1"}),x(t)]}),o.jsx(Z,{variant:"ghost",size:"sm",onClick:S,className:"text-white",children:n?o.jsx(pX,{className:"w-4 h-4"}):o.jsx(dX,{className:"w-4 h-4"})})]})]}),o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(o1,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),o.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:o.jsx(o1,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),o.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:o.jsx(S6e,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},k6e=()=>o.jsx(N6e,{});var Gw="Checkbox",[C6e]=mn(Gw),[E6e,aA]=C6e(Gw);function P6e(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=zi({prop:r,defaultProp:a??!1,onChange:c,caller:Gw}),[g,m]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!s||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:p,control:g,setControl:m,name:l,form:s,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:_l(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return o.jsx(E6e,{scope:t,..._,children:O6e(f)?f(_):n})}var dG="CheckboxTrigger",fG=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:g}=aA(dG,e),m=Ke(a,d),v=y.useRef(c);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),o.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":_l(c)?"mixed":c,"aria-required":u,"data-state":vG(c),"data-disabled":l?"":void 0,disabled:l,value:s,...n,ref:m,onKeyDown:fe(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:fe(r,b=>{f(x=>_l(x)?!0:!x),g&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});fG.displayName=dG;var iA=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return o.jsx(P6e,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:s,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>o.jsxs(o.Fragment,{children:[o.jsx(fG,{...f,ref:t,__scopeCheckbox:r}),h&&o.jsx(gG,{__scopeCheckbox:r})]})})});iA.displayName=Gw;var hG="CheckboxIndicator",pG=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=aA(hG,r);return o.jsx(Wr,{present:n||_l(i.checked)||i.checked===!0,children:o.jsx(Me.span,{"data-state":vG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pG.displayName=hG;var mG="CheckboxBubbleInput",gG=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=aA(mG,e),g=Ke(r,p),m=j0(i),v=u0(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(m!==i&&S){const k=new Event("click",{bubbles:N});x.indeterminate=_l(i),S.call(x,_l(i)?!1:i),x.dispatchEvent(k)}},[h,m,i,a]);const b=y.useRef(_l(i)?!1:i);return o.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});gG.displayName=mG;function O6e(e){return typeof e=="function"}function _l(e){return e==="indeterminate"}function vG(e){return _l(e)?"indeterminate":e?"checked":"unchecked"}const wd=y.forwardRef(({className:e,...t},r)=>o.jsx(iA,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(pG,{className:ve("flex items-center justify-center text-current"),children:o.jsx(iE,{className:"h-4 w-4"})})}));wd.displayName=iA.displayName;const l1="",A6e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],T6e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],M6e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],$6e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],I6e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:a,prefilledData:i})=>{const[s,l]=y.useState(1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,p]=y.useState(i||null),[g,m]=y.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:a||"",date_of_birth:(i==null?void 0:i.date_of_birth)||"",gender:(i==null?void 0:i.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});y.useEffect(()=>{m(N=>({...N,id_type:t,id_number:r||N.id_number,passport_number:n||N.passport_number,passport_country:a||N.passport_country,date_of_birth:(i==null?void 0:i.date_of_birth)||N.date_of_birth,gender:(i==null?void 0:i.gender)||N.gender})),i&&p(i)},[t,r,n,a,i]),y.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${l1}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(N){console.error("Failed to fetch schemes:",N)}},b=async N=>{if(N.length===13)try{const C=await(await fetch(`${l1}/api/patient/validate-id?id_number=${N}`,{method:"POST"})).json();p(C),C.valid?(m(A=>({...A,date_of_birth:C.date_of_birth,gender:C.gender})),ue.success("ID number validated successfully")):ue.error(C.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},x=async()=>{u(!0);try{const{supabase:N}=await mo(async()=>{const{supabase:T}=await Promise.resolve().then(()=>ho);return{supabase:T}},void 0),{data:{session:k}}=await N.auth.getSession();if(!(k!=null&&k.access_token)){ue.error("Please sign in to continue");return}const C={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(T=>({name:T,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},A=await fetch(`${l1}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(C)});if(!A.ok){const T=await A.json();throw new Error(T.detail||"Onboarding failed")}ue.success("Profile completed successfully!"),e==null||e()}catch(N){ue.error(N.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=s/w*100,S=d.find(N=>N.code===g.medical_aid_scheme);return o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx(hf,{value:_,className:"h-2"}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",s," of ",w]})]}),s===1&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),o.jsx(Ce,{children:"Tell us about yourself"})]}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"first_name",children:"First Name *"}),o.jsx(rt,{id:"first_name",value:g.first_name,onChange:N=>m({...g,first_name:N.target.value}),placeholder:"Enter first name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"last_name",children:"Last Name *"}),o.jsx(rt,{id:"last_name",value:g.last_name,onChange:N=>m({...g,last_name:N.target.value}),placeholder:"Enter last name"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ge,{htmlFor:"id_number",className:"flex items-center gap-2",children:[o.jsx(iX,{className:"w-4 h-4"}),"South African ID Number *"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(rt,{id:"id_number",value:g.id_number,onChange:N=>{const k=N.target.value.replace(/\D/g,"").slice(0,13);m({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&o.jsxs(Se,{className:"bg-success shrink-0",children:[o.jsx(hn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"email",children:"Email *"}),o.jsx(rt,{id:"email",type:"email",value:g.email,onChange:N=>m({...g,email:N.target.value}),placeholder:"your@email.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"phone",children:"Phone Number *"}),o.jsx(rt,{id:"phone",value:g.phone,onChange:N=>m({...g,phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),s===2&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(rB,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Address Line 1"}),o.jsx(rt,{value:g.address_line_1,onChange:N=>m({...g,address_line_1:N.target.value}),placeholder:"Street address"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"City"}),o.jsx(rt,{value:g.city,onChange:N=>m({...g,city:N.target.value}),placeholder:"City"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Province"}),o.jsxs(rr,{value:g.province,onValueChange:N=>m({...g,province:N}),children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select province"})}),o.jsx(Xt,{children:A6e.map(N=>o.jsx(Le,{value:N,children:N},N))})]})]})]}),o.jsx(wx,{className:"my-4"}),o.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[o.jsx(sa,{className:"w-4 h-4"}),"Emergency Contact"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Contact Name"}),o.jsx(rt,{value:g.emergency_contact_name,onChange:N=>m({...g,emergency_contact_name:N.target.value}),placeholder:"Full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Relationship"}),o.jsx(rt,{value:g.emergency_contact_relationship,onChange:N=>m({...g,emergency_contact_relationship:N.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Contact Phone"}),o.jsx(rt,{value:g.emergency_contact_phone,onChange:N=>m({...g,emergency_contact_phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),s===3&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(dg,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wd,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:N=>m({...g,has_medical_aid:!!N})}),o.jsx(ge,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&o.jsxs("div",{className:"space-y-4 pt-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Medical Aid Scheme *"}),o.jsxs(rr,{value:g.medical_aid_scheme,onValueChange:N=>m({...g,medical_aid_scheme:N,medical_aid_plan:""}),children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select your medical aid"})}),o.jsx(Xt,{children:d.map(N=>o.jsx(Le,{value:N.code,children:N.name},N.code))})]})]}),S&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Plan"}),o.jsxs(rr,{value:g.medical_aid_plan,onValueChange:N=>m({...g,medical_aid_plan:N}),children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select your plan"})}),o.jsx(Xt,{children:S.plans.map(N=>o.jsx(Le,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Membership Number *"}),o.jsx(rt,{value:g.medical_aid_number,onChange:N=>m({...g,medical_aid_number:N.target.value}),placeholder:"Your member number"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Dependent Code"}),o.jsx(rt,{value:g.medical_aid_dependent_code,onChange:N=>m({...g,medical_aid_dependent_code:N.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&o.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),s===4&&o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(oE,{className:"w-5 h-5 text-primary"}),"Medical History"]}),o.jsx(Ce,{children:"This information helps us provide better care"})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-4 h-4 text-warning"}),"Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:M6e.map(N=>o.jsx(Se,{variant:g.allergies.some(k=>k.allergen===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(C=>C.allergen===N);m(k?{...g,allergies:g.allergies.filter(C=>C.allergen!==N)}:{...g,allergies:[...g.allergies,{allergen:N,reaction:"",severity:"mild"}]})},children:N},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(ge,{className:"flex items-center gap-2",children:[o.jsx(Br,{className:"w-4 h-4"}),"Chronic Conditions"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$6e.map(N=>o.jsx(Se,{variant:g.chronic_conditions.some(k=>k.condition===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(C=>C.condition===N);m(k?{...g,chronic_conditions:g.chronic_conditions.filter(C=>C.condition!==N)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:N}]})},children:N},N))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Blood Type"}),o.jsxs(rr,{value:g.blood_type,onValueChange:N=>m({...g,blood_type:N}),children:[o.jsx(Jt,{className:"w-[200px]",children:o.jsx(nr,{})}),o.jsx(Xt,{children:T6e.map(N=>o.jsx(Le,{value:N,children:N},N))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Smoking Status"}),o.jsxs(rr,{value:g.smoking_status,onValueChange:N=>m({...g,smoking_status:N}),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"never",children:"Never smoked"}),o.jsx(Le,{value:"former",children:"Former smoker"}),o.jsx(Le,{value:"current",children:"Current smoker"})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Alcohol Use"}),o.jsxs(rr,{value:g.alcohol_use,onValueChange:N=>m({...g,alcohol_use:N}),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"none",children:"None"}),o.jsx(Le,{value:"occasional",children:"Occasional"}),o.jsx(Le,{value:"moderate",children:"Moderate"}),o.jsx(Le,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),s===5&&o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(hn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:N=>m({...g,consent_telehealth:!!N})}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:N=>m({...g,consent_data_processing:!!N})}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),o.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[o.jsx(wd,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:N=>m({...g,consent_marketing:!!N})}),o.jsxs("div",{children:[o.jsx(ge,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-6",children:[o.jsxs(Z,{variant:"outline",onClick:()=>l(N=>N-1),disabled:s===1,children:[o.jsx(sE,{className:"w-4 h-4 mr-2"}),"Back"]}),s<w?o.jsxs(Z,{onClick:()=>l(N=>N+1),children:["Next",o.jsx(tf,{className:"w-4 h-4 ml-2"})]}):o.jsx(Z,{onClick:x,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},Jv="",R6e=()=>{var L,$;const e=En(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:a}=Tr(),[i,s]=y.useState("check"),[l,c]=y.useState("sa_id"),[u,d]=y.useState(""),[f,h]=y.useState(""),[p,g]=y.useState(""),[m,v]=y.useState(""),[b,x]=y.useState(!1),[w,_]=y.useState(null),[S,N]=y.useState(null),[k,C]=y.useState([]);y.useEffect(()=>{A()},[]),y.useEffect(()=>{!a&&r&&e("/patient")},[a,r,e]);const A=async()=>{try{const V=await(await fetch(`${Jv}/api/patient/countries`)).json();C(V.countries||[])}catch(F){console.error("Failed to fetch countries:",F),C([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},T=async()=>{x(!0);try{let F=`${Jv}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){ue.error("Please enter a valid 13-digit SA ID number"),x(!1);return}F+=`&id_number=${u}`}else{if(!f||f.length<5){ue.error("Please enter a valid passport number"),x(!1);return}if(!p){ue.error("Please select your country of citizenship"),x(!1);return}if(!m){ue.error("Please enter your date of birth"),x(!1);return}F+=`&passport_number=${f}&country_code=${p}&date_of_birth=${m}`}const z=await(await fetch(F,{method:"POST"})).json();if(!z.valid){ue.error(z.error||"Invalid identification"),x(!1);return}if(N(z),l==="sa_id"){const{supabase:R}=await mo(async()=>{const{supabase:K}=await Promise.resolve().then(()=>ho);return{supabase:K}},void 0),{data:{session:U}}=await R.auth.getSession();if(U!=null&&U.access_token)try{const K=await fetch(`${Jv}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${U.access_token}`}});if(K.ok){const re=await K.json();if(_(re),re.found){ue.success("We found your existing records! Please confirm your details."),s("confirm");return}}}catch{console.log("EHR lookup not available")}}ue.info("Please complete your profile."),s("onboarding")}catch(F){console.error("Validation failed:",F),ue.error("Could not validate identification. Please try again.")}finally{x(!1)}},I=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),ue.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},O=async()=>{x(!0);try{const{supabase:F}=await mo(async()=>{const{supabase:U}=await Promise.resolve().then(()=>ho);return{supabase:U}},void 0),{data:{session:V}}=await F.auth.getSession();if(!(V!=null&&V.access_token)){ue.error("Please sign in to continue");return}const z={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(S==null?void 0:S.date_of_birth),gender:(w==null?void 0:w.gender)||(S==null?void 0:S.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(U=>({allergen:U,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(U=>({condition:U})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${Jv}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V.access_token}`},body:JSON.stringify(z)})).ok)throw new Error("Failed to save profile");await n(),ue.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(F){console.error("Confirmation failed:",F),ue.error("Failed to confirm profile. Please try again.")}finally{x(!1)}};return a?o.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):i==="check"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(ie,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(oS,{className:"w-8 h-8 text-primary"})}),o.jsxs(we,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),o.jsx(Ce,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(ge,{children:"Type of Identification"}),o.jsxs(mm,{value:l,onValueChange:F=>c(F),className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"sa_id",id:"sa_id"}),o.jsxs(ge,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(tn,{className:"w-4 h-4"}),"SA ID"]})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[o.jsx(ds,{value:"passport",id:"passport"}),o.jsxs(ge,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[o.jsx(nX,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"id_number",children:"South African ID Number"}),o.jsx(rt,{id:"id_number",value:u,onChange:F=>d(F.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&o.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"passport_country",children:"Country of Citizenship"}),o.jsxs(rr,{value:p,onValueChange:g,children:[o.jsx(Jt,{children:o.jsx(nr,{placeholder:"Select your country"})}),o.jsx(Xt,{children:k.filter(F=>F.code!=="ZA").map(F=>o.jsx(Le,{value:F.code,children:F.name},F.code))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"passport_number",children:"Passport Number"}),o.jsx(rt,{id:"passport_number",value:f,onChange:F=>h(F.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{htmlFor:"date_of_birth",children:"Date of Birth"}),o.jsx(rt,{id:"date_of_birth",type:"date",value:m,onChange:F=>v(F.target.value),max:new Date().toISOString().split("T")[0]})]})]}),o.jsx(Z,{className:"w-full",size:"lg",onClick:T,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!p||!m),children:b?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):o.jsxs(o.Fragment,{children:[o.jsx(oS,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),o.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]}):i==="confirm"&&(w!=null&&w.found)?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:o.jsxs(ie,{children:[o.jsxs(me,{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:o.jsx(hn,{className:"w-8 h-8 text-success"})}),o.jsx(we,{className:"text-xl sm:text-2xl",children:"Records Found!"}),o.jsx(Ce,{children:"We found your existing records. Please confirm your details."})]}),o.jsxs(ce,{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Name"}),o.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),o.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Gender"}),o.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Phone"}),o.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),o.jsxs("div",{className:"text-sm",children:[o.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),o.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),o.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((L=w.allergies)==null?void 0:L.length)||(($=w.chronic_conditions)==null?void 0:$.length))&&o.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[o.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),o.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),o.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx(Z,{className:"w-full",size:"lg",onClick:O,disabled:b,children:b?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),o.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>s("onboarding"),children:"Update My Information"})]})]})]})})]}):i==="onboarding"?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>s("check"),children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),S&&o.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:o.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",S.date_of_birth&&`  DOB: ${S.date_of_birth}`,S.gender&&`  ${S.gender}`,S.age&&`  Age ${S.age}`]})})]}),o.jsx(I6e,{onComplete:I,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?p:void 0,prefilledData:S})]})]}):null},D6e="",tF=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],L6e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],F6e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:a})=>{const[i,s]=y.useState(!1),[l,c]=y.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=y.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,m)=>{const v=m?parseFloat(m):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){ue.error("Chief complaint is required");return}s(!0);try{const{supabase:g}=await mo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>ho);return{supabase:x}},void 0),{data:{session:m}}=await g.auth.getSession();if(!(m!=null&&m.access_token)){ue.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${D6e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify(v)});if(!b.ok){const x=await b.json();throw new Error(x.detail||"Triage submission failed")}ue.success("Triage assessment saved successfully"),a==null||a()}catch(g){ue.error(g.message||"Failed to save triage")}finally{s(!1)}},p=tF.find(g=>g.value===u.triage_priority);return o.jsxs("div",{className:"space-y-6",children:[o.jsx(ie,{children:o.jsx(me,{className:"pb-3",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Vr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&o.jsxs(Se,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(oE,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Blood Pressure (mmHg)"}),o.jsxs("div",{className:"flex gap-1 items-center",children:[o.jsx(rt,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),o.jsx("span",{children:"/"}),o.jsx(rt,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Heart Rate (bpm)"}),o.jsx(rt,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Temperature (C)"}),o.jsx(rt,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"SpO2 (%)"}),o.jsx(rt,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Respiratory Rate"}),o.jsx(rt,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Weight (kg)"}),o.jsx(rt,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Height (cm)"}),o.jsx(rt,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{className:"text-xs",children:"Pain Score (0-10)"}),o.jsx(rt,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(tn,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"What is the main reason for this visit? *"}),o.jsx(Lr,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Duration of Symptoms"}),o.jsx(rt,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Onset"}),o.jsxs(rr,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsxs(Xt,{children:[o.jsx(Le,{value:"sudden",children:"Sudden"}),o.jsx(Le,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Wn,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs(rr,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:tF.map(g=>o.jsx(Le,{value:g.value,children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),p&&o.jsxs("div",{className:`p-3 rounded-lg ${p.color} bg-opacity-10`,children:[o.jsx("p",{className:"text-sm font-medium",children:p.label}),o.jsx("p",{className:"text-xs text-muted-foreground",children:p.description})]})]})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(hn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),o.jsx(ce,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(wd,{id:g.key,checked:u[g.key],onCheckedChange:m=>d({...u,[g.key]:!!m})}),o.jsx(ge,{htmlFor:g.key,children:g.label})]},g.key))})]}),o.jsxs(ie,{children:[o.jsx(me,{children:o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Xa,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),o.jsxs(ce,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Nurse Assessment Notes"}),o.jsx(Lr,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Recommended Action"}),o.jsxs(rr,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[o.jsx(Jt,{children:o.jsx(nr,{})}),o.jsx(Xt,{children:L6e.map(g=>o.jsx(Le,{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(ge,{children:"Notes for Doctor (optional)"}),o.jsx(Lr,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Z,{variant:"outline",children:"Cancel"}),o.jsx(Z,{onClick:h,disabled:i,children:i?o.jsxs(o.Fragment,{children:[o.jsx(bt,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx(hn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},B6e="",rF={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},U6e=()=>{const e=En(),[t]=EE(),{profile:r,role:n,signOut:a}=Tr(),[i,s]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(!1),p=t.get("appointment");y.useEffect(()=>{g()},[]),y.useEffect(()=>{if(p&&i.length>0){const v=i.find(b=>b.appointment.id===p);v&&d(v)}},[p,i]);const g=async()=>{c(!0);try{const{supabase:v}=await mo(async()=>{const{supabase:_}=await Promise.resolve().then(()=>ho);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){ue.error("Please sign in to continue");return}const x=await fetch(`${B6e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!x.ok)throw new Error("Failed to fetch triage queue");const w=await x.json();s(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),ue.error("Failed to load triage queue")}finally{c(!1)}},m=()=>{d(null),g(),ue.success("Triage completed successfully")};return u?o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),o.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:o.jsx(F6e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:m})})]}):o.jsxs("div",{className:"min-h-screen bg-background",children:[o.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[o.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:o.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),o.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),o.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[o.jsxs(Z,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[o.jsx(co,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),o.jsx(Se,{className:"bg-success text-white",children:"Nurse"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),o.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[o.jsx(Z,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:o.jsx(co,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),o.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?o.jsx(wo,{className:"w-5 h-5"}):o.jsx(ug,{className:"w-5 h-5"})})]})]}),f&&o.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:o.jsxs("div",{className:"flex flex-col gap-2",children:[o.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),o.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[o.jsx(fn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),o.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[o.jsx(Xa,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),o.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:o.jsx(Fn,{className:"w-5 h-5 text-primary"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:o.jsx(Wn,{className:"w-5 h-5 text-red-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>{var b,x;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((x=v.latest_symptom_assessment)==null?void 0:x.urgency)==="emergency"}).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:o.jsx(Xa,{className:"w-5 h-5 text-success"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>v.latest_symptom_assessment).length}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),o.jsx(ie,{children:o.jsx(ce,{className:"p-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:o.jsx(Wt,{className:"w-5 h-5 text-warning"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold",children:"~15"}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),o.jsxs(ie,{children:[o.jsxs(me,{children:[o.jsxs(we,{className:"flex items-center gap-2",children:[o.jsx(Fn,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),o.jsx(Ce,{children:"Patients waiting for nurse triage assessment"})]}),o.jsx(ce,{children:l?o.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>o.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):i.length===0?o.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[o.jsx(Xa,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No patients waiting for triage"}),o.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):o.jsx("div",{className:"space-y-3",children:i.map(v=>{var x;const b=v.latest_symptom_assessment?rF[v.latest_symptom_assessment.urgency]||rF.routine:null;return o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:o.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),o.jsxs("div",{className:"min-w-0",children:[o.jsx("p",{className:"font-medium",children:v.patient_name}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[yt(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&o.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&o.jsxs(Se,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((x=v.patient_profile)==null?void 0:x.has_medical_aid)&&o.jsx(Se,{variant:"outline",className:"text-xs",children:"Medical Aid"}),o.jsx(Z,{size:"sm",variant:"ghost",children:o.jsx(tf,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},z6e=()=>{const e=Cs();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),o.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),o.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),o.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},V6e=new Zee,W6e=()=>o.jsx(tte,{client:V6e,children:o.jsx(Bae,{children:o.jsxs(Nee,{children:[o.jsx(oQ,{}),o.jsx(FQ,{}),o.jsx(tre,{children:o.jsxs(Gte,{children:[o.jsx(ha,{path:"/",element:o.jsx(nie,{})}),o.jsx(ha,{path:"/auth",element:o.jsx(Voe,{})}),o.jsx(ha,{path:"/patient/*",element:o.jsx(Ms,{allowedRoles:["patient"],children:o.jsx(Mue,{})})}),o.jsx(ha,{path:"/book-appointment",element:o.jsx(Ms,{allowedRoles:["patient"],children:o.jsx(hhe,{})})}),o.jsx(ha,{path:"/onboarding",element:o.jsx(Ms,{allowedRoles:["patient"],children:o.jsx(R6e,{})})}),o.jsx(ha,{path:"/clinician/*",element:o.jsx(Ms,{allowedRoles:["nurse","doctor"],children:o.jsx(gge,{})})}),o.jsx(ha,{path:"/nurse-triage",element:o.jsx(Ms,{allowedRoles:["nurse","doctor"],children:o.jsx(U6e,{})})}),o.jsx(ha,{path:"/admin/*",element:o.jsx(Ms,{allowedRoles:["admin"],children:o.jsx(w5e,{})})}),o.jsx(ha,{path:"/receptionist/*",element:o.jsx(Ms,{allowedRoles:["admin","nurse","doctor","receptionist"],children:o.jsx(j5e,{})})}),o.jsx(ha,{path:"/consultation",element:o.jsx(Ms,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(_6e,{})})}),o.jsx(ha,{path:"/demo-consultation",element:o.jsx(Ms,{allowedRoles:["patient","nurse","doctor"],children:o.jsx(k6e,{})})}),o.jsx(ha,{path:"*",element:o.jsx(z6e,{})})]})})]})})});N5(document.getElementById("root")).render(o.jsx(W6e,{}));
