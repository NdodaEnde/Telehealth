var BG=Object.defineProperty;var OA=e=>{throw TypeError(e)};var UG=(e,t,r)=>t in e?BG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var AA=(e,t,r)=>UG(e,typeof t!="symbol"?t+"":t,r),u_=(e,t,r)=>t.has(e)||OA("Cannot "+r);var ae=(e,t,r)=>(u_(e,t,"read from private field"),r?r.call(e):t.get(e)),ht=(e,t,r)=>t.has(e)?OA("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Qe=(e,t,r,n)=>(u_(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),vn=(e,t,r)=>(u_(e,t,"access private method"),r);var Qg=(e,t,r,n)=>({set _(a){Qe(e,t,a,r)},get _(){return ae(e,t,n)}});function zG(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Zg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ct(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TF={exports:{}},t0={},MF={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg=Symbol.for("react.element"),VG=Symbol.for("react.portal"),WG=Symbol.for("react.fragment"),HG=Symbol.for("react.strict_mode"),qG=Symbol.for("react.profiler"),GG=Symbol.for("react.provider"),KG=Symbol.for("react.context"),YG=Symbol.for("react.forward_ref"),JG=Symbol.for("react.suspense"),XG=Symbol.for("react.memo"),QG=Symbol.for("react.lazy"),TA=Symbol.iterator;function ZG(e){return e===null||typeof e!="object"?null:(e=TA&&e[TA]||e["@@iterator"],typeof e=="function"?e:null)}var $F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IF=Object.assign,RF={};function th(e,t,r){this.props=e,this.context=t,this.refs=RF,this.updater=r||$F}th.prototype.isReactComponent={};th.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};th.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function DF(){}DF.prototype=th.prototype;function pC(e,t,r){this.props=e,this.context=t,this.refs=RF,this.updater=r||$F}var gC=pC.prototype=new DF;gC.constructor=pC;IF(gC,th.prototype);gC.isPureReactComponent=!0;var MA=Array.isArray,LF=Object.prototype.hasOwnProperty,vC={current:null},FF={key:!0,ref:!0,__self:!0,__source:!0};function BF(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)LF.call(t,n)&&!FF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:hg,type:e,key:i,ref:o,props:a,_owner:vC.current}}function eK(e,t){return{$$typeof:hg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yC(e){return typeof e=="object"&&e!==null&&e.$$typeof===hg}function tK(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $A=/\/+/g;function d_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?tK(""+e.key):t.toString(36)}function cy(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case hg:case VG:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+d_(o,0):n,MA(a)?(r="",e!=null&&(r=e.replace($A,"$&/")+"/"),cy(a,t,r,"",function(u){return u})):a!=null&&(yC(a)&&(a=eK(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($A,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",MA(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+d_(i,l);o+=cy(i,t,r,c,a)}else if(c=ZG(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+d_(i,l++),o+=cy(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ev(e,t,r){if(e==null)return e;var n=[],a=0;return cy(e,n,"","",function(i){return t.call(r,i,a++)}),n}function rK(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hn={current:null},uy={transition:null},nK={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:uy,ReactCurrentOwner:vC};function UF(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:ev,forEach:function(e,t,r){ev(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ev(e,function(){t++}),t},toArray:function(e){return ev(e,function(t){return t})||[]},only:function(e){if(!yC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=th;ft.Fragment=WG;ft.Profiler=qG;ft.PureComponent=pC;ft.StrictMode=HG;ft.Suspense=JG;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nK;ft.act=UF;ft.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=IF({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=vC.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)LF.call(t,c)&&!FF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:hg,type:e.type,key:a,ref:i,props:n,_owner:o}};ft.createContext=function(e){return e={$$typeof:KG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GG,_context:e},e.Consumer=e};ft.createElement=BF;ft.createFactory=function(e){var t=BF.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:YG,render:e}};ft.isValidElement=yC;ft.lazy=function(e){return{$$typeof:QG,_payload:{_status:-1,_result:e},_init:rK}};ft.memo=function(e,t){return{$$typeof:XG,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=uy.transition;uy.transition={};try{e()}finally{uy.transition=t}};ft.unstable_act=UF;ft.useCallback=function(e,t){return Hn.current.useCallback(e,t)};ft.useContext=function(e){return Hn.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return Hn.current.useDeferredValue(e)};ft.useEffect=function(e,t){return Hn.current.useEffect(e,t)};ft.useId=function(){return Hn.current.useId()};ft.useImperativeHandle=function(e,t,r){return Hn.current.useImperativeHandle(e,t,r)};ft.useInsertionEffect=function(e,t){return Hn.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return Hn.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return Hn.current.useMemo(e,t)};ft.useReducer=function(e,t,r){return Hn.current.useReducer(e,t,r)};ft.useRef=function(e){return Hn.current.useRef(e)};ft.useState=function(e){return Hn.current.useState(e)};ft.useSyncExternalStore=function(e,t,r){return Hn.current.useSyncExternalStore(e,t,r)};ft.useTransition=function(){return Hn.current.useTransition()};ft.version="18.3.1";MF.exports=ft;var y=MF.exports;const M=Ct(y),r0=zG({__proto__:null,default:M},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aK=y,iK=Symbol.for("react.element"),sK=Symbol.for("react.fragment"),oK=Object.prototype.hasOwnProperty,lK=aK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cK={key:!0,ref:!0,__self:!0,__source:!0};function zF(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)oK.call(t,n)&&!cK.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:iK,type:e,key:i,ref:o,props:a,_owner:lK.current}}t0.Fragment=sK;t0.jsx=zF;t0.jsxs=zF;TF.exports=t0;var s=TF.exports,VF={exports:{}},La={},WF={exports:{}},HF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var K=R.length;R.push(U);e:for(;0<K;){var re=K-1>>>1,ee=R[re];if(0<a(ee,U))R[re]=U,R[K]=ee,K=re;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],K=R.pop();if(K!==U){R[0]=K;e:for(var re=0,ee=R.length,j=ee>>>1;re<j;){var E=2*(re+1)-1,C=R[E],B=E+1,D=R[B];if(0>a(C,K))B<ee&&0>a(D,C)?(R[re]=D,R[B]=K,re=B):(R[re]=C,R[E]=K,re=E);else if(B<ee&&0>a(D,K))R[re]=D,R[B]=K,re=B;else break e}}return U}function a(R,U){var K=R.sortIndex-U.sortIndex;return K!==0?K:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function _(R){if(p=!1,w(R),!g)if(r(c)!==null)g=!0,z(S);else{var U=r(u);U!==null&&V(_,U.startTime-R)}}function S(R,U){g=!1,p&&(p=!1,b(P),P=-1),m=!0;var K=h;try{for(w(U),f=r(c);f!==null&&(!(f.expirationTime>U)||R&&!I());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var ee=re(f.expirationTime<=U);U=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),w(U)}else n(c);f=r(c)}if(f!==null)var j=!0;else{var E=r(u);E!==null&&V(_,E.startTime-U),j=!1}return j}finally{f=null,h=K,m=!1}}var N=!1,k=null,P=-1,A=5,T=-1;function I(){return!(e.unstable_now()-T<A)}function O(){if(k!==null){var R=e.unstable_now();T=R;var U=!0;try{U=k(!0,R)}finally{U?L():(N=!1,k=null)}}else N=!1}var L;if(typeof x=="function")L=function(){x(O)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,F=$.port2;$.port1.onmessage=O,L=function(){F.postMessage(null)}}else L=function(){v(O,0)};function z(R){k=R,N||(N=!0,L())}function V(R,U){P=v(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,z(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var K=h;h=U;try{return R()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=h;h=R;try{return U()}finally{h=K}},e.unstable_scheduleCallback=function(R,U,K){var re=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=K+ee,R={id:d++,callback:U,priorityLevel:R,startTime:K,expirationTime:ee,sortIndex:-1},K>re?(R.sortIndex=K,t(u,R),r(c)===null&&R===r(u)&&(p?(b(P),P=-1):p=!0,V(_,K-re))):(R.sortIndex=ee,t(c,R),g||m||(g=!0,z(S))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var U=h;return function(){var K=h;h=U;try{return R.apply(this,arguments)}finally{h=K}}}})(HF);WF.exports=HF;var uK=WF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dK=y,Ra=uK;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qF=new Set,zm={};function bu(e,t){rf(e,t),rf(e+"Capture",t)}function rf(e,t){for(zm[e]=t,e=0;e<t.length;e++)qF.add(t[e])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N1=Object.prototype.hasOwnProperty,fK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,IA={},RA={};function hK(e){return N1.call(RA,e)?!0:N1.call(IA,e)?!1:fK.test(e)?RA[e]=!0:(IA[e]=!0,!1)}function mK(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pK(e,t,r,n){if(t===null||typeof t>"u"||mK(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pn[e]=new qn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pn[t]=new qn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pn[e]=new qn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pn[e]=new qn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pn[e]=new qn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pn[e]=new qn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pn[e]=new qn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pn[e]=new qn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pn[e]=new qn(e,5,!1,e.toLowerCase(),null,!1,!1)});var xC=/[\-:]([a-z])/g;function bC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xC,bC);pn[t]=new qn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xC,bC);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xC,bC);pn[t]=new qn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!1,!1)});pn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pn[e]=new qn(e,1,!1,e.toLowerCase(),null,!0,!0)});function wC(e,t,r,n){var a=pn.hasOwnProperty(t)?pn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(pK(t,r,a,n)&&(r=null),n||a===null?hK(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jo=dK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tv=Symbol.for("react.element"),od=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),_C=Symbol.for("react.strict_mode"),k1=Symbol.for("react.profiler"),GF=Symbol.for("react.provider"),KF=Symbol.for("react.context"),jC=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),E1=Symbol.for("react.suspense_list"),SC=Symbol.for("react.memo"),Wo=Symbol.for("react.lazy"),YF=Symbol.for("react.offscreen"),DA=Symbol.iterator;function Mh(e){return e===null||typeof e!="object"?null:(e=DA&&e[DA]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,f_;function om(e){if(f_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);f_=t&&t[1]||""}return`
`+f_+e}var h_=!1;function m_(e,t){if(!e||h_)return"";h_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{h_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?om(e):""}function gK(e){switch(e.tag){case 5:return om(e.type);case 16:return om("Lazy");case 13:return om("Suspense");case 19:return om("SuspenseList");case 0:case 2:case 15:return e=m_(e.type,!1),e;case 11:return e=m_(e.type.render,!1),e;case 1:return e=m_(e.type,!0),e;default:return""}}function P1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ld:return"Fragment";case od:return"Portal";case k1:return"Profiler";case _C:return"StrictMode";case C1:return"Suspense";case E1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KF:return(e.displayName||"Context")+".Consumer";case GF:return(e._context.displayName||"Context")+".Provider";case jC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case SC:return t=e.displayName||null,t!==null?t:P1(e.type)||"Memo";case Wo:t=e._payload,e=e._init;try{return P1(e(t))}catch{}}return null}function vK(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P1(t);case 8:return t===_C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function JF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yK(e){var t=JF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rv(e){e._valueTracker||(e._valueTracker=yK(e))}function XF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=JF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function By(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function O1(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function LA(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Nl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QF(e,t){t=t.checked,t!=null&&wC(e,"checked",t,!1)}function A1(e,t){QF(e,t);var r=Nl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?T1(e,t.type,r):t.hasOwnProperty("defaultValue")&&T1(e,t.type,Nl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function T1(e,t,r){(t!=="number"||By(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var lm=Array.isArray;function Ad(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Nl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BA(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(lm(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Nl(r)}}function ZF(e,t){var r=Nl(t.value),n=Nl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function UA(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nv,t3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nv=nv||document.createElement("div"),nv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ym={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xK=["Webkit","ms","Moz","O"];Object.keys(ym).forEach(function(e){xK.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ym[t]=ym[e]})});function r3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ym.hasOwnProperty(e)&&ym[e]?(""+t).trim():t+"px"}function n3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=r3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var bK=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I1(e,t){if(t){if(bK[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function R1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D1=null;function NC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var L1=null,Td=null,Md=null;function zA(e){if(e=gg(e)){if(typeof L1!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=o0(t),L1(e.stateNode,e.type,t))}}function a3(e){Td?Md?Md.push(e):Md=[e]:Td=e}function i3(){if(Td){var e=Td,t=Md;if(Md=Td=null,zA(e),t)for(e=0;e<t.length;e++)zA(t[e])}}function s3(e,t){return e(t)}function o3(){}var p_=!1;function l3(e,t,r){if(p_)return e(t,r);p_=!0;try{return s3(e,t,r)}finally{p_=!1,(Td!==null||Md!==null)&&(o3(),i3())}}function Wm(e,t){var r=e.stateNode;if(r===null)return null;var n=o0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var F1=!1;if(lo)try{var $h={};Object.defineProperty($h,"passive",{get:function(){F1=!0}}),window.addEventListener("test",$h,$h),window.removeEventListener("test",$h,$h)}catch{F1=!1}function wK(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xm=!1,Uy=null,zy=!1,B1=null,_K={onError:function(e){xm=!0,Uy=e}};function jK(e,t,r,n,a,i,o,l,c){xm=!1,Uy=null,wK.apply(_K,arguments)}function SK(e,t,r,n,a,i,o,l,c){if(jK.apply(this,arguments),xm){if(xm){var u=Uy;xm=!1,Uy=null}else throw Error(ge(198));zy||(zy=!0,B1=u)}}function wu(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VA(e){if(wu(e)!==e)throw Error(ge(188))}function NK(e){var t=e.alternate;if(!t){if(t=wu(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return VA(a),e;if(i===n)return VA(a),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function u3(e){return e=NK(e),e!==null?d3(e):null}function d3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d3(e);if(t!==null)return t;e=e.sibling}return null}var f3=Ra.unstable_scheduleCallback,WA=Ra.unstable_cancelCallback,kK=Ra.unstable_shouldYield,CK=Ra.unstable_requestPaint,wr=Ra.unstable_now,EK=Ra.unstable_getCurrentPriorityLevel,kC=Ra.unstable_ImmediatePriority,h3=Ra.unstable_UserBlockingPriority,Vy=Ra.unstable_NormalPriority,PK=Ra.unstable_LowPriority,m3=Ra.unstable_IdlePriority,n0=null,xs=null;function OK(e){if(xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(n0,e,void 0,(e.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:MK,AK=Math.log,TK=Math.LN2;function MK(e){return e>>>=0,e===0?32:31-(AK(e)/TK|0)|0}var av=64,iv=4194304;function cm(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wy(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=cm(l):(i&=o,i!==0&&(n=cm(i)))}else o=r&~a,o!==0?n=cm(o):i!==0&&(n=cm(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Di(t),a=1<<r,n|=e[r],t&=~a;return n}function $K(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IK(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Di(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=$K(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function U1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p3(){var e=av;return av<<=1,!(av&4194240)&&(av=64),e}function g_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mg(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Di(t),e[t]=r}function RK(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Di(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function CC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Di(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ot=0;function g3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var v3,EC,y3,x3,b3,z1=!1,sv=[],fl=null,hl=null,ml=null,Hm=new Map,qm=new Map,Jo=[],DK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HA(e,t){switch(e){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Hm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qm.delete(t.pointerId)}}function Ih(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=gg(t),t!==null&&EC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function LK(e,t,r,n,a){switch(t){case"focusin":return fl=Ih(fl,e,t,r,n,a),!0;case"dragenter":return hl=Ih(hl,e,t,r,n,a),!0;case"mouseover":return ml=Ih(ml,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Hm.set(i,Ih(Hm.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,qm.set(i,Ih(qm.get(i)||null,e,t,r,n,a)),!0}return!1}function w3(e){var t=_c(e.target);if(t!==null){var r=wu(t);if(r!==null){if(t=r.tag,t===13){if(t=c3(r),t!==null){e.blockedOn=t,b3(e.priority,function(){y3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=V1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);D1=n,r.target.dispatchEvent(n),D1=null}else return t=gg(r),t!==null&&EC(t),e.blockedOn=r,!1;t.shift()}return!0}function qA(e,t,r){dy(e)&&r.delete(t)}function FK(){z1=!1,fl!==null&&dy(fl)&&(fl=null),hl!==null&&dy(hl)&&(hl=null),ml!==null&&dy(ml)&&(ml=null),Hm.forEach(qA),qm.forEach(qA)}function Rh(e,t){e.blockedOn===t&&(e.blockedOn=null,z1||(z1=!0,Ra.unstable_scheduleCallback(Ra.unstable_NormalPriority,FK)))}function Gm(e){function t(a){return Rh(a,e)}if(0<sv.length){Rh(sv[0],e);for(var r=1;r<sv.length;r++){var n=sv[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fl!==null&&Rh(fl,e),hl!==null&&Rh(hl,e),ml!==null&&Rh(ml,e),Hm.forEach(t),qm.forEach(t),r=0;r<Jo.length;r++)n=Jo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jo.length&&(r=Jo[0],r.blockedOn===null);)w3(r),r.blockedOn===null&&Jo.shift()}var $d=jo.ReactCurrentBatchConfig,Hy=!0;function BK(e,t,r,n){var a=Ot,i=$d.transition;$d.transition=null;try{Ot=1,PC(e,t,r,n)}finally{Ot=a,$d.transition=i}}function UK(e,t,r,n){var a=Ot,i=$d.transition;$d.transition=null;try{Ot=4,PC(e,t,r,n)}finally{Ot=a,$d.transition=i}}function PC(e,t,r,n){if(Hy){var a=V1(e,t,r,n);if(a===null)k_(e,t,n,qy,r),HA(e,n);else if(LK(a,e,t,r,n))n.stopPropagation();else if(HA(e,n),t&4&&-1<DK.indexOf(e)){for(;a!==null;){var i=gg(a);if(i!==null&&v3(i),i=V1(e,t,r,n),i===null&&k_(e,t,n,qy,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else k_(e,t,n,null,r)}}var qy=null;function V1(e,t,r,n){if(qy=null,e=NC(n),e=_c(e),e!==null)if(t=wu(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qy=e,null}function _3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EK()){case kC:return 1;case h3:return 4;case Vy:case PK:return 16;case m3:return 536870912;default:return 16}default:return 16}}var sl=null,OC=null,fy=null;function j3(){if(fy)return fy;var e,t=OC,r=t.length,n,a="value"in sl?sl.value:sl.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return fy=a.slice(e,1<n?1-n:void 0)}function hy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ov(){return!0}function GA(){return!1}function Fa(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ov:GA,this.isPropagationStopped=GA,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),t}var rh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AC=Fa(rh),pg=mr({},rh,{view:0,detail:0}),zK=Fa(pg),v_,y_,Dh,a0=mr({},pg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TC,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dh&&(Dh&&e.type==="mousemove"?(v_=e.screenX-Dh.screenX,y_=e.screenY-Dh.screenY):y_=v_=0,Dh=e),v_)},movementY:function(e){return"movementY"in e?e.movementY:y_}}),KA=Fa(a0),VK=mr({},a0,{dataTransfer:0}),WK=Fa(VK),HK=mr({},pg,{relatedTarget:0}),x_=Fa(HK),qK=mr({},rh,{animationName:0,elapsedTime:0,pseudoElement:0}),GK=Fa(qK),KK=mr({},rh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YK=Fa(KK),JK=mr({},rh,{data:0}),YA=Fa(JK),XK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eY(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZK[e])?!!t[e]:!1}function TC(){return eY}var tY=mr({},pg,{key:function(e){if(e.key){var t=XK[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QK[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TC,charCode:function(e){return e.type==="keypress"?hy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rY=Fa(tY),nY=mr({},a0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JA=Fa(nY),aY=mr({},pg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TC}),iY=Fa(aY),sY=mr({},rh,{propertyName:0,elapsedTime:0,pseudoElement:0}),oY=Fa(sY),lY=mr({},a0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),cY=Fa(lY),uY=[9,13,27,32],MC=lo&&"CompositionEvent"in window,bm=null;lo&&"documentMode"in document&&(bm=document.documentMode);var dY=lo&&"TextEvent"in window&&!bm,S3=lo&&(!MC||bm&&8<bm&&11>=bm),XA=" ",QA=!1;function N3(e,t){switch(e){case"keyup":return uY.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cd=!1;function fY(e,t){switch(e){case"compositionend":return k3(t);case"keypress":return t.which!==32?null:(QA=!0,XA);case"textInput":return e=t.data,e===XA&&QA?null:e;default:return null}}function hY(e,t){if(cd)return e==="compositionend"||!MC&&N3(e,t)?(e=j3(),fy=OC=sl=null,cd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S3&&t.locale!=="ko"?null:t.data;default:return null}}var mY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!mY[e.type]:t==="textarea"}function C3(e,t,r,n){a3(n),t=Gy(t,"onChange"),0<t.length&&(r=new AC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wm=null,Km=null;function pY(e){L3(e,0)}function i0(e){var t=fd(e);if(XF(t))return e}function gY(e,t){if(e==="change")return t}var E3=!1;if(lo){var b_;if(lo){var w_="oninput"in document;if(!w_){var eT=document.createElement("div");eT.setAttribute("oninput","return;"),w_=typeof eT.oninput=="function"}b_=w_}else b_=!1;E3=b_&&(!document.documentMode||9<document.documentMode)}function tT(){wm&&(wm.detachEvent("onpropertychange",P3),Km=wm=null)}function P3(e){if(e.propertyName==="value"&&i0(Km)){var t=[];C3(t,Km,e,NC(e)),l3(pY,t)}}function vY(e,t,r){e==="focusin"?(tT(),wm=t,Km=r,wm.attachEvent("onpropertychange",P3)):e==="focusout"&&tT()}function yY(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return i0(Km)}function xY(e,t){if(e==="click")return i0(t)}function bY(e,t){if(e==="input"||e==="change")return i0(t)}function wY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vi=typeof Object.is=="function"?Object.is:wY;function Ym(e,t){if(Vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!N1.call(t,a)||!Vi(e[a],t[a]))return!1}return!0}function rT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nT(e,t){var r=rT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rT(r)}}function O3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A3(){for(var e=window,t=By();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=By(e.document)}return t}function $C(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _Y(e){var t=A3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&O3(r.ownerDocument.documentElement,r)){if(n!==null&&$C(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=nT(r,i);var o=nT(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jY=lo&&"documentMode"in document&&11>=document.documentMode,ud=null,W1=null,_m=null,H1=!1;function aT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;H1||ud==null||ud!==By(n)||(n=ud,"selectionStart"in n&&$C(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_m&&Ym(_m,n)||(_m=n,n=Gy(W1,"onSelect"),0<n.length&&(t=new AC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ud)))}function lv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dd={animationend:lv("Animation","AnimationEnd"),animationiteration:lv("Animation","AnimationIteration"),animationstart:lv("Animation","AnimationStart"),transitionend:lv("Transition","TransitionEnd")},__={},T3={};lo&&(T3=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function s0(e){if(__[e])return __[e];if(!dd[e])return e;var t=dd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T3)return __[e]=t[r];return e}var M3=s0("animationend"),$3=s0("animationiteration"),I3=s0("animationstart"),R3=s0("transitionend"),D3=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(e,t){D3.set(e,t),bu(t,[e])}for(var j_=0;j_<iT.length;j_++){var S_=iT[j_],SY=S_.toLowerCase(),NY=S_[0].toUpperCase()+S_.slice(1);$l(SY,"on"+NY)}$l(M3,"onAnimationEnd");$l($3,"onAnimationIteration");$l(I3,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(R3,"onTransitionEnd");rf("onMouseEnter",["mouseout","mouseover"]);rf("onMouseLeave",["mouseout","mouseover"]);rf("onPointerEnter",["pointerout","pointerover"]);rf("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var um="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kY=new Set("cancel close invalid load scroll toggle".split(" ").concat(um));function sT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,SK(n,t,void 0,e),e.currentTarget=null}function L3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;sT(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;sT(a,l,u),i=c}}}if(zy)throw e=B1,zy=!1,B1=null,e}function Yt(e,t){var r=t[J1];r===void 0&&(r=t[J1]=new Set);var n=e+"__bubble";r.has(n)||(F3(t,e,2,!1),r.add(n))}function N_(e,t,r){var n=0;t&&(n|=4),F3(r,e,n,t)}var cv="_reactListening"+Math.random().toString(36).slice(2);function Jm(e){if(!e[cv]){e[cv]=!0,qF.forEach(function(r){r!=="selectionchange"&&(kY.has(r)||N_(r,!1,e),N_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cv]||(t[cv]=!0,N_("selectionchange",!1,t))}}function F3(e,t,r,n){switch(_3(t)){case 1:var a=BK;break;case 4:a=UK;break;default:a=PC}r=a.bind(null,t,r,e),a=void 0,!F1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function k_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=_c(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}l3(function(){var u=i,d=NC(r),f=[];e:{var h=D3.get(e);if(h!==void 0){var m=AC,g=e;switch(e){case"keypress":if(hy(r)===0)break e;case"keydown":case"keyup":m=rY;break;case"focusin":g="focus",m=x_;break;case"focusout":g="blur",m=x_;break;case"beforeblur":case"afterblur":m=x_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=WK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iY;break;case M3:case $3:case I3:m=GK;break;case R3:m=oY;break;case"scroll":m=zK;break;case"wheel":m=cY;break;case"copy":case"cut":case"paste":m=YK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JA}var p=(t&4)!==0,v=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Wm(x,b),_!=null&&p.push(Xm(x,_,w)))),v)break;x=x.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==D1&&(g=r.relatedTarget||r.fromElement)&&(_c(g)||g[co]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?_c(g):null,g!==null&&(v=wu(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=KA,_="onMouseLeave",b="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(p=JA,_="onPointerLeave",b="onPointerEnter",x="pointer"),v=m==null?h:fd(m),w=g==null?h:fd(g),h=new p(_,x+"leave",m,r,d),h.target=v,h.relatedTarget=w,_=null,_c(d)===u&&(p=new p(b,x+"enter",g,r,d),p.target=w,p.relatedTarget=v,_=p),v=_,m&&g)t:{for(p=m,b=g,x=0,w=p;w;w=Du(w))x++;for(w=0,_=b;_;_=Du(_))w++;for(;0<x-w;)p=Du(p),x--;for(;0<w-x;)b=Du(b),w--;for(;x--;){if(p===b||b!==null&&p===b.alternate)break t;p=Du(p),b=Du(b)}p=null}else p=null;m!==null&&oT(f,h,m,p,!1),g!==null&&v!==null&&oT(f,v,g,p,!0)}}e:{if(h=u?fd(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=gY;else if(ZA(h))if(E3)S=bY;else{S=yY;var N=vY}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=xY);if(S&&(S=S(e,u))){C3(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&T1(h,"number",h.value)}switch(N=u?fd(u):window,e){case"focusin":(ZA(N)||N.contentEditable==="true")&&(ud=N,W1=u,_m=null);break;case"focusout":_m=W1=ud=null;break;case"mousedown":H1=!0;break;case"contextmenu":case"mouseup":case"dragend":H1=!1,aT(f,r,d);break;case"selectionchange":if(jY)break;case"keydown":case"keyup":aT(f,r,d)}var k;if(MC)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else cd?N3(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(S3&&r.locale!=="ko"&&(cd||P!=="onCompositionStart"?P==="onCompositionEnd"&&cd&&(k=j3()):(sl=d,OC="value"in sl?sl.value:sl.textContent,cd=!0)),N=Gy(u,P),0<N.length&&(P=new YA(P,e,null,r,d),f.push({event:P,listeners:N}),k?P.data=k:(k=k3(r),k!==null&&(P.data=k)))),(k=dY?fY(e,r):hY(e,r))&&(u=Gy(u,"onBeforeInput"),0<u.length&&(d=new YA("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}L3(f,t)})}function Xm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gy(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Wm(e,r),i!=null&&n.unshift(Xm(e,i,a)),i=Wm(e,t),i!=null&&n.push(Xm(e,i,a))),e=e.return}return n}function Du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oT(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Wm(r,i),c!=null&&o.unshift(Xm(r,c,l))):a||(c=Wm(r,i),c!=null&&o.push(Xm(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var CY=/\r\n?/g,EY=/\u0000|\uFFFD/g;function lT(e){return(typeof e=="string"?e:""+e).replace(CY,`
`).replace(EY,"")}function uv(e,t,r){if(t=lT(t),lT(e)!==t&&r)throw Error(ge(425))}function Ky(){}var q1=null,G1=null;function K1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Y1=typeof setTimeout=="function"?setTimeout:void 0,PY=typeof clearTimeout=="function"?clearTimeout:void 0,cT=typeof Promise=="function"?Promise:void 0,OY=typeof queueMicrotask=="function"?queueMicrotask:typeof cT<"u"?function(e){return cT.resolve(null).then(e).catch(AY)}:Y1;function AY(e){setTimeout(function(){throw e})}function C_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Gm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gm(t)}function pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nh=Math.random().toString(36).slice(2),ds="__reactFiber$"+nh,Qm="__reactProps$"+nh,co="__reactContainer$"+nh,J1="__reactEvents$"+nh,TY="__reactListeners$"+nh,MY="__reactHandles$"+nh;function _c(e){var t=e[ds];if(t)return t;for(var r=e.parentNode;r;){if(t=r[co]||r[ds]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uT(e);e!==null;){if(r=e[ds])return r;e=uT(e)}return t}e=r,r=e.parentNode}return null}function gg(e){return e=e[ds]||e[co],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function o0(e){return e[Qm]||null}var X1=[],hd=-1;function Il(e){return{current:e}}function er(e){0>hd||(e.current=X1[hd],X1[hd]=null,hd--)}function Vt(e,t){hd++,X1[hd]=e.current,e.current=t}var kl={},Pn=Il(kl),na=Il(!1),Yc=kl;function nf(e,t){var r=e.type.contextTypes;if(!r)return kl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function aa(e){return e=e.childContextTypes,e!=null}function Yy(){er(na),er(Pn)}function dT(e,t,r){if(Pn.current!==kl)throw Error(ge(168));Vt(Pn,t),Vt(na,r)}function B3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ge(108,vK(e)||"Unknown",a));return mr({},r,n)}function Jy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kl,Yc=Pn.current,Vt(Pn,e),Vt(na,na.current),!0}function fT(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=B3(e,t,Yc),n.__reactInternalMemoizedMergedChildContext=e,er(na),er(Pn),Vt(Pn,e)):er(na),Vt(na,r)}var Gs=null,l0=!1,E_=!1;function U3(e){Gs===null?Gs=[e]:Gs.push(e)}function $Y(e){l0=!0,U3(e)}function Rl(){if(!E_&&Gs!==null){E_=!0;var e=0,t=Ot;try{var r=Gs;for(Ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Gs=null,l0=!1}catch(a){throw Gs!==null&&(Gs=Gs.slice(e+1)),f3(kC,Rl),a}finally{Ot=t,E_=!1}}return null}var md=[],pd=0,Xy=null,Qy=0,Ka=[],Ya=0,Jc=null,Js=1,Xs="";function uc(e,t){md[pd++]=Qy,md[pd++]=Xy,Xy=e,Qy=t}function z3(e,t,r){Ka[Ya++]=Js,Ka[Ya++]=Xs,Ka[Ya++]=Jc,Jc=e;var n=Js;e=Xs;var a=32-Di(n)-1;n&=~(1<<a),r+=1;var i=32-Di(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Js=1<<32-Di(t)+a|r<<a|n,Xs=i+e}else Js=1<<i|r<<a|n,Xs=e}function IC(e){e.return!==null&&(uc(e,1),z3(e,1,0))}function RC(e){for(;e===Xy;)Xy=md[--pd],md[pd]=null,Qy=md[--pd],md[pd]=null;for(;e===Jc;)Jc=Ka[--Ya],Ka[Ya]=null,Xs=Ka[--Ya],Ka[Ya]=null,Js=Ka[--Ya],Ka[Ya]=null}var Pa=null,Ca=null,sr=!1,Mi=null;function V3(e,t){var r=Qa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pa=e,Ca=pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pa=e,Ca=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jc!==null?{id:Js,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pa=e,Ca=null,!0):!1;default:return!1}}function Q1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Z1(e){if(sr){var t=Ca;if(t){var r=t;if(!hT(e,t)){if(Q1(e))throw Error(ge(418));t=pl(r.nextSibling);var n=Pa;t&&hT(e,t)?V3(n,r):(e.flags=e.flags&-4097|2,sr=!1,Pa=e)}}else{if(Q1(e))throw Error(ge(418));e.flags=e.flags&-4097|2,sr=!1,Pa=e}}}function mT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pa=e}function dv(e){if(e!==Pa)return!1;if(!sr)return mT(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K1(e.type,e.memoizedProps)),t&&(t=Ca)){if(Q1(e))throw W3(),Error(ge(418));for(;t;)V3(e,t),t=pl(t.nextSibling)}if(mT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ca=pl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ca=null}}else Ca=Pa?pl(e.stateNode.nextSibling):null;return!0}function W3(){for(var e=Ca;e;)e=pl(e.nextSibling)}function af(){Ca=Pa=null,sr=!1}function DC(e){Mi===null?Mi=[e]:Mi.push(e)}var IY=jo.ReactCurrentBatchConfig;function Lh(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function fv(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pT(e){var t=e._init;return t(e._payload)}function H3(e){function t(b,x){if(e){var w=b.deletions;w===null?(b.deletions=[x],b.flags|=16):w.push(x)}}function r(b,x){if(!e)return null;for(;x!==null;)t(b,x),x=x.sibling;return null}function n(b,x){for(b=new Map;x!==null;)x.key!==null?b.set(x.key,x):b.set(x.index,x),x=x.sibling;return b}function a(b,x){return b=xl(b,x),b.index=0,b.sibling=null,b}function i(b,x,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<x?(b.flags|=2,x):w):(b.flags|=2,x)):(b.flags|=1048576,x)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,x,w,_){return x===null||x.tag!==6?(x=I_(w,b.mode,_),x.return=b,x):(x=a(x,w),x.return=b,x)}function c(b,x,w,_){var S=w.type;return S===ld?d(b,x,w.props.children,_,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&pT(S)===x.type)?(_=a(x,w.props),_.ref=Lh(b,x,w),_.return=b,_):(_=by(w.type,w.key,w.props,null,b.mode,_),_.ref=Lh(b,x,w),_.return=b,_)}function u(b,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=R_(w,b.mode,_),x.return=b,x):(x=a(x,w.children||[]),x.return=b,x)}function d(b,x,w,_,S){return x===null||x.tag!==7?(x=Bc(w,b.mode,_,S),x.return=b,x):(x=a(x,w),x.return=b,x)}function f(b,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=I_(""+x,b.mode,w),x.return=b,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tv:return w=by(x.type,x.key,x.props,null,b.mode,w),w.ref=Lh(b,null,x),w.return=b,w;case od:return x=R_(x,b.mode,w),x.return=b,x;case Wo:var _=x._init;return f(b,_(x._payload),w)}if(lm(x)||Mh(x))return x=Bc(x,b.mode,w,null),x.return=b,x;fv(b,x)}return null}function h(b,x,w,_){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(b,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:return w.key===S?c(b,x,w,_):null;case od:return w.key===S?u(b,x,w,_):null;case Wo:return S=w._init,h(b,x,S(w._payload),_)}if(lm(w)||Mh(w))return S!==null?null:d(b,x,w,_,null);fv(b,w)}return null}function m(b,x,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(x,b,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tv:return b=b.get(_.key===null?w:_.key)||null,c(x,b,_,S);case od:return b=b.get(_.key===null?w:_.key)||null,u(x,b,_,S);case Wo:var N=_._init;return m(b,x,w,N(_._payload),S)}if(lm(_)||Mh(_))return b=b.get(w)||null,d(x,b,_,S,null);fv(x,_)}return null}function g(b,x,w,_){for(var S=null,N=null,k=x,P=x=0,A=null;k!==null&&P<w.length;P++){k.index>P?(A=k,k=null):A=k.sibling;var T=h(b,k,w[P],_);if(T===null){k===null&&(k=A);break}e&&k&&T.alternate===null&&t(b,k),x=i(T,x,P),N===null?S=T:N.sibling=T,N=T,k=A}if(P===w.length)return r(b,k),sr&&uc(b,P),S;if(k===null){for(;P<w.length;P++)k=f(b,w[P],_),k!==null&&(x=i(k,x,P),N===null?S=k:N.sibling=k,N=k);return sr&&uc(b,P),S}for(k=n(b,k);P<w.length;P++)A=m(k,b,P,w[P],_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?P:A.key),x=i(A,x,P),N===null?S=A:N.sibling=A,N=A);return e&&k.forEach(function(I){return t(b,I)}),sr&&uc(b,P),S}function p(b,x,w,_){var S=Mh(w);if(typeof S!="function")throw Error(ge(150));if(w=S.call(w),w==null)throw Error(ge(151));for(var N=S=null,k=x,P=x=0,A=null,T=w.next();k!==null&&!T.done;P++,T=w.next()){k.index>P?(A=k,k=null):A=k.sibling;var I=h(b,k,T.value,_);if(I===null){k===null&&(k=A);break}e&&k&&I.alternate===null&&t(b,k),x=i(I,x,P),N===null?S=I:N.sibling=I,N=I,k=A}if(T.done)return r(b,k),sr&&uc(b,P),S;if(k===null){for(;!T.done;P++,T=w.next())T=f(b,T.value,_),T!==null&&(x=i(T,x,P),N===null?S=T:N.sibling=T,N=T);return sr&&uc(b,P),S}for(k=n(b,k);!T.done;P++,T=w.next())T=m(k,b,P,T.value,_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?P:T.key),x=i(T,x,P),N===null?S=T:N.sibling=T,N=T);return e&&k.forEach(function(O){return t(b,O)}),sr&&uc(b,P),S}function v(b,x,w,_){if(typeof w=="object"&&w!==null&&w.type===ld&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:e:{for(var S=w.key,N=x;N!==null;){if(N.key===S){if(S=w.type,S===ld){if(N.tag===7){r(b,N.sibling),x=a(N,w.props.children),x.return=b,b=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Wo&&pT(S)===N.type){r(b,N.sibling),x=a(N,w.props),x.ref=Lh(b,N,w),x.return=b,b=x;break e}r(b,N);break}else t(b,N);N=N.sibling}w.type===ld?(x=Bc(w.props.children,b.mode,_,w.key),x.return=b,b=x):(_=by(w.type,w.key,w.props,null,b.mode,_),_.ref=Lh(b,x,w),_.return=b,b=_)}return o(b);case od:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(b,x.sibling),x=a(x,w.children||[]),x.return=b,b=x;break e}else{r(b,x);break}else t(b,x);x=x.sibling}x=R_(w,b.mode,_),x.return=b,b=x}return o(b);case Wo:return N=w._init,v(b,x,N(w._payload),_)}if(lm(w))return g(b,x,w,_);if(Mh(w))return p(b,x,w,_);fv(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(b,x.sibling),x=a(x,w),x.return=b,b=x):(r(b,x),x=I_(w,b.mode,_),x.return=b,b=x),o(b)):r(b,x)}return v}var sf=H3(!0),q3=H3(!1),Zy=Il(null),ex=null,gd=null,LC=null;function FC(){LC=gd=ex=null}function BC(e){var t=Zy.current;er(Zy),e._currentValue=t}function eS(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Id(e,t){ex=e,LC=gd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ea=!0),e.firstContext=null)}function si(e){var t=e._currentValue;if(LC!==e)if(e={context:e,memoizedValue:t,next:null},gd===null){if(ex===null)throw Error(ge(308));gd=e,ex.dependencies={lanes:0,firstContext:e}}else gd=gd.next=e;return t}var jc=null;function UC(e){jc===null?jc=[e]:jc.push(e)}function G3(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,UC(t)):(r.next=a.next,a.next=r),t.interleaved=r,uo(e,n)}function uo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ho=!1;function zC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function no(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,uo(e,r)}return a=n.interleaved,a===null?(t.next=t,UC(n)):(t.next=a.next,a.next=t),n.interleaved=t,uo(e,r)}function my(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,CC(e,r)}}function gT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function tx(e,t,r,n){var a=e.updateQueue;Ho=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=mr({},f,h);break e;case 2:Ho=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Qc|=o,e.lanes=o,e.memoizedState=f}}function vT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ge(191,a));a.call(n)}}}var vg={},bs=Il(vg),Zm=Il(vg),ep=Il(vg);function Sc(e){if(e===vg)throw Error(ge(174));return e}function VC(e,t){switch(Vt(ep,t),Vt(Zm,e),Vt(bs,vg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$1(t,e)}er(bs),Vt(bs,t)}function of(){er(bs),er(Zm),er(ep)}function Y3(e){Sc(ep.current);var t=Sc(bs.current),r=$1(t,e.type);t!==r&&(Vt(Zm,e),Vt(bs,r))}function WC(e){Zm.current===e&&(er(bs),er(Zm))}var dr=Il(0);function rx(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var P_=[];function HC(){for(var e=0;e<P_.length;e++)P_[e]._workInProgressVersionPrimary=null;P_.length=0}var py=jo.ReactCurrentDispatcher,O_=jo.ReactCurrentBatchConfig,Xc=0,hr=null,Lr=null,Xr=null,nx=!1,jm=!1,tp=0,RY=0;function yn(){throw Error(ge(321))}function qC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vi(e[r],t[r]))return!1;return!0}function GC(e,t,r,n,a,i){if(Xc=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,py.current=e===null||e.memoizedState===null?BY:UY,e=r(n,a),jm){i=0;do{if(jm=!1,tp=0,25<=i)throw Error(ge(301));i+=1,Xr=Lr=null,t.updateQueue=null,py.current=zY,e=r(n,a)}while(jm)}if(py.current=ax,t=Lr!==null&&Lr.next!==null,Xc=0,Xr=Lr=hr=null,nx=!1,t)throw Error(ge(300));return e}function KC(){var e=tp!==0;return tp=0,e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?hr.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function oi(){if(Lr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Xr===null?hr.memoizedState:Xr.next;if(t!==null)Xr=t,Lr=e;else{if(e===null)throw Error(ge(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Xr===null?hr.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function rp(e,t){return typeof t=="function"?t(e):t}function A_(e){var t=oi(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Xc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,hr.lanes|=d,Qc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Vi(n,t.memoizedState)||(ea=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,hr.lanes|=i,Qc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function T_(e){var t=oi(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Vi(i,t.memoizedState)||(ea=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function J3(){}function X3(e,t){var r=hr,n=oi(),a=t(),i=!Vi(n.memoizedState,a);if(i&&(n.memoizedState=a,ea=!0),n=n.queue,YC(e5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,np(9,Z3.bind(null,r,n,a,t),void 0,null),tn===null)throw Error(ge(349));Xc&30||Q3(r,t,a)}return a}function Q3(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Z3(e,t,r,n){t.value=r,t.getSnapshot=n,t5(t)&&r5(e)}function e5(e,t,r){return r(function(){t5(t)&&r5(e)})}function t5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vi(e,r)}catch{return!0}}function r5(e){var t=uo(e,1);t!==null&&Li(t,e,1,-1)}function yT(e){var t=as();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:e},t.queue=e,e=e.dispatch=FY.bind(null,hr,e),[t.memoizedState,e]}function np(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function n5(){return oi().memoizedState}function gy(e,t,r,n){var a=as();hr.flags|=e,a.memoizedState=np(1|t,r,void 0,n===void 0?null:n)}function c0(e,t,r,n){var a=oi();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var o=Lr.memoizedState;if(i=o.destroy,n!==null&&qC(n,o.deps)){a.memoizedState=np(t,r,i,n);return}}hr.flags|=e,a.memoizedState=np(1|t,r,i,n)}function xT(e,t){return gy(8390656,8,e,t)}function YC(e,t){return c0(2048,8,e,t)}function a5(e,t){return c0(4,2,e,t)}function i5(e,t){return c0(4,4,e,t)}function s5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o5(e,t,r){return r=r!=null?r.concat([e]):null,c0(4,4,s5.bind(null,t,e),r)}function JC(){}function l5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function c5(e,t){var r=oi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u5(e,t,r){return Xc&21?(Vi(r,t)||(r=p3(),hr.lanes|=r,Qc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ea=!0),e.memoizedState=r)}function DY(e,t){var r=Ot;Ot=r!==0&&4>r?r:4,e(!0);var n=O_.transition;O_.transition={};try{e(!1),t()}finally{Ot=r,O_.transition=n}}function d5(){return oi().memoizedState}function LY(e,t,r){var n=yl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},f5(e))h5(t,r);else if(r=G3(e,t,r,n),r!==null){var a=Vn();Li(r,e,n,a),m5(r,t,n)}}function FY(e,t,r){var n=yl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(f5(e))h5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Vi(l,o)){var c=t.interleaved;c===null?(a.next=a,UC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=G3(e,t,a,n),r!==null&&(a=Vn(),Li(r,e,n,a),m5(r,t,n))}}function f5(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function h5(e,t){jm=nx=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function m5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,CC(e,r)}}var ax={readContext:si,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},BY={readContext:si,useCallback:function(e,t){return as().memoizedState=[e,t===void 0?null:t],e},useContext:si,useEffect:xT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,gy(4194308,4,s5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return gy(4194308,4,e,t)},useInsertionEffect:function(e,t){return gy(4,2,e,t)},useMemo:function(e,t){var r=as();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=as();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=LY.bind(null,hr,e),[n.memoizedState,e]},useRef:function(e){var t=as();return e={current:e},t.memoizedState=e},useState:yT,useDebugValue:JC,useDeferredValue:function(e){return as().memoizedState=e},useTransition:function(){var e=yT(!1),t=e[0];return e=DY.bind(null,e[1]),as().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hr,a=as();if(sr){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),tn===null)throw Error(ge(349));Xc&30||Q3(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,xT(e5.bind(null,n,i,e),[e]),n.flags|=2048,np(9,Z3.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=as(),t=tn.identifierPrefix;if(sr){var r=Xs,n=Js;r=(n&~(1<<32-Di(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=tp++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RY++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},UY={readContext:si,useCallback:l5,useContext:si,useEffect:YC,useImperativeHandle:o5,useInsertionEffect:a5,useLayoutEffect:i5,useMemo:c5,useReducer:A_,useRef:n5,useState:function(){return A_(rp)},useDebugValue:JC,useDeferredValue:function(e){var t=oi();return u5(t,Lr.memoizedState,e)},useTransition:function(){var e=A_(rp)[0],t=oi().memoizedState;return[e,t]},useMutableSource:J3,useSyncExternalStore:X3,useId:d5,unstable_isNewReconciler:!1},zY={readContext:si,useCallback:l5,useContext:si,useEffect:YC,useImperativeHandle:o5,useInsertionEffect:a5,useLayoutEffect:i5,useMemo:c5,useReducer:T_,useRef:n5,useState:function(){return T_(rp)},useDebugValue:JC,useDeferredValue:function(e){var t=oi();return Lr===null?t.memoizedState=e:u5(t,Lr.memoizedState,e)},useTransition:function(){var e=T_(rp)[0],t=oi().memoizedState;return[e,t]},useMutableSource:J3,useSyncExternalStore:X3,useId:d5,unstable_isNewReconciler:!1};function Si(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tS(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var u0={isMounted:function(e){return(e=e._reactInternals)?wu(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=yl(e),i=no(n,a);i.payload=t,r!=null&&(i.callback=r),t=gl(e,i,a),t!==null&&(Li(t,e,a,n),my(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vn(),a=yl(e),i=no(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=gl(e,i,a),t!==null&&(Li(t,e,a,n),my(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vn(),n=yl(e),a=no(r,n);a.tag=2,t!=null&&(a.callback=t),t=gl(e,a,n),t!==null&&(Li(t,e,n,r),my(t,e,n))}};function bT(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ym(r,n)||!Ym(a,i):!0}function p5(e,t,r){var n=!1,a=kl,i=t.contextType;return typeof i=="object"&&i!==null?i=si(i):(a=aa(t)?Yc:Pn.current,n=t.contextTypes,i=(n=n!=null)?nf(e,a):kl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=u0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function wT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&u0.enqueueReplaceState(t,t.state,null)}function rS(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},zC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=si(i):(i=aa(t)?Yc:Pn.current,a.context=nf(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(tS(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&u0.enqueueReplaceState(a,a.state,null),tx(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lf(e,t){try{var r="",n=t;do r+=gK(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function M_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function nS(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VY=typeof WeakMap=="function"?WeakMap:Map;function g5(e,t,r){r=no(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sx||(sx=!0,hS=n),nS(e,t)},r}function v5(e,t,r){r=no(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){nS(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){nS(e,t),typeof n!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function _T(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new VY;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=nJ.bind(null,e,t,r),t.then(e,e))}function jT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ST(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=no(-1,1),t.tag=2,gl(r,t,1))),r.lanes|=1),e)}var WY=jo.ReactCurrentOwner,ea=!1;function $n(e,t,r,n){t.child=e===null?q3(t,null,r,n):sf(t,e.child,r,n)}function NT(e,t,r,n,a){r=r.render;var i=t.ref;return Id(t,a),n=GC(e,t,r,n,i,a),r=KC(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fo(e,t,a)):(sr&&r&&IC(t),t.flags|=1,$n(e,t,n,a),t.child)}function kT(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!aE(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,y5(e,t,i,n,a)):(e=by(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ym,r(o,n)&&e.ref===t.ref)return fo(e,t,a)}return t.flags|=1,e=xl(i,n),e.ref=t.ref,e.return=t,t.child=e}function y5(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Ym(i,n)&&e.ref===t.ref)if(ea=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ea=!0);else return t.lanes=e.lanes,fo(e,t,a)}return aS(e,t,r,n,a)}function x5(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(yd,ya),ya|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vt(yd,ya),ya|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Vt(yd,ya),ya|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Vt(yd,ya),ya|=n;return $n(e,t,a,r),t.child}function b5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function aS(e,t,r,n,a){var i=aa(r)?Yc:Pn.current;return i=nf(t,i),Id(t,a),r=GC(e,t,r,n,i,a),n=KC(),e!==null&&!ea?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,fo(e,t,a)):(sr&&n&&IC(t),t.flags|=1,$n(e,t,r,a),t.child)}function CT(e,t,r,n,a){if(aa(r)){var i=!0;Jy(t)}else i=!1;if(Id(t,a),t.stateNode===null)vy(e,t),p5(t,r,n),rS(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=si(u):(u=aa(r)?Yc:Pn.current,u=nf(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&wT(t,o,n,u),Ho=!1;var h=t.memoizedState;o.state=h,tx(t,n,o,a),c=t.memoizedState,l!==n||h!==c||na.current||Ho?(typeof d=="function"&&(tS(t,r,d,n),c=t.memoizedState),(l=Ho||bT(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,K3(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Si(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=si(c):(c=aa(r)?Yc:Pn.current,c=nf(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&wT(t,o,n,c),Ho=!1,h=t.memoizedState,o.state=h,tx(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||na.current||Ho?(typeof m=="function"&&(tS(t,r,m,n),g=t.memoizedState),(u=Ho||bT(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return iS(e,t,r,n,i,a)}function iS(e,t,r,n,a,i){b5(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&fT(t,r,!1),fo(e,t,i);n=t.stateNode,WY.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sf(t,e.child,null,i),t.child=sf(t,null,l,i)):$n(e,t,l,i),t.memoizedState=n.state,a&&fT(t,r,!0),t.child}function w5(e){var t=e.stateNode;t.pendingContext?dT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dT(e,t.context,!1),VC(e,t.containerInfo)}function ET(e,t,r,n,a){return af(),DC(a),t.flags|=256,$n(e,t,r,n),t.child}var sS={dehydrated:null,treeContext:null,retryLane:0};function oS(e){return{baseLanes:e,cachePool:null,transitions:null}}function _5(e,t,r){var n=t.pendingProps,a=dr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Vt(dr,a&1),e===null)return Z1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=h0(o,n,0,null),e=Bc(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=oS(r),t.memoizedState=sS,e):XC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return HY(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=xl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=xl(l,i):(i=Bc(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?oS(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sS,n}return i=e.child,e=i.sibling,n=xl(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function XC(e,t){return t=h0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hv(e,t,r,n){return n!==null&&DC(n),sf(t,e.child,null,r),e=XC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function HY(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=M_(Error(ge(422))),hv(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=h0({mode:"visible",children:n.children},a,0,null),i=Bc(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sf(t,e.child,null,o),t.child.memoizedState=oS(o),t.memoizedState=sS,i);if(!(t.mode&1))return hv(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ge(419)),n=M_(i,n,void 0),hv(e,t,o,n)}if(l=(o&e.childLanes)!==0,ea||l){if(n=tn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,uo(e,a),Li(n,e,a,-1))}return nE(),n=M_(Error(ge(421))),hv(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=aJ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ca=pl(a.nextSibling),Pa=t,sr=!0,Mi=null,e!==null&&(Ka[Ya++]=Js,Ka[Ya++]=Xs,Ka[Ya++]=Jc,Js=e.id,Xs=e.overflow,Jc=t),t=XC(t,n.children),t.flags|=4096,t)}function PT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eS(e.return,t,r)}function $_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function j5(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($n(e,t,n.children,r),n=dr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PT(e,r,t);else if(e.tag===19)PT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Vt(dr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rx(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rx(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$_(t,!0,r,null,i);break;case"together":$_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=xl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=xl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qY(e,t,r){switch(t.tag){case 3:w5(t),af();break;case 5:Y3(t);break;case 1:aa(t.type)&&Jy(t);break;case 4:VC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Vt(Zy,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Vt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?_5(e,t,r):(Vt(dr,dr.current&1),e=fo(e,t,r),e!==null?e.sibling:null);Vt(dr,dr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return j5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Vt(dr,dr.current),n)break;return null;case 22:case 23:return t.lanes=0,x5(e,t,r)}return fo(e,t,r)}var S5,lS,N5,k5;S5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lS=function(){};N5=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Sc(bs.current);var i=null;switch(r){case"input":a=O1(e,a),n=O1(e,n),i=[];break;case"select":a=mr({},a,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":a=M1(e,a),n=M1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ky)}I1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};k5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fh(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GY(e,t,r){var n=t.pendingProps;switch(RC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(t),null;case 1:return aa(t.type)&&Yy(),xn(t),null;case 3:return n=t.stateNode,of(),er(na),er(Pn),HC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mi!==null&&(gS(Mi),Mi=null))),lS(e,t),xn(t),null;case 5:WC(t);var a=Sc(ep.current);if(r=t.type,e!==null&&t.stateNode!=null)N5(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return xn(t),null}if(e=Sc(bs.current),dv(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ds]=t,n[Qm]=i,e=(t.mode&1)!==0,r){case"dialog":Yt("cancel",n),Yt("close",n);break;case"iframe":case"object":case"embed":Yt("load",n);break;case"video":case"audio":for(a=0;a<um.length;a++)Yt(um[a],n);break;case"source":Yt("error",n);break;case"img":case"image":case"link":Yt("error",n),Yt("load",n);break;case"details":Yt("toggle",n);break;case"input":LA(n,i),Yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Yt("invalid",n);break;case"textarea":BA(n,i),Yt("invalid",n)}I1(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&uv(n.textContent,l,e),a=["children",""+l]):zm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Yt("scroll",n)}switch(r){case"input":rv(n),FA(n,i,!0);break;case"textarea":rv(n),UA(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ky)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ds]=t,e[Qm]=n,S5(e,t,!1,!1),t.stateNode=e;e:{switch(o=R1(r,n),r){case"dialog":Yt("cancel",e),Yt("close",e),a=n;break;case"iframe":case"object":case"embed":Yt("load",e),a=n;break;case"video":case"audio":for(a=0;a<um.length;a++)Yt(um[a],e);a=n;break;case"source":Yt("error",e),a=n;break;case"img":case"image":case"link":Yt("error",e),Yt("load",e),a=n;break;case"details":Yt("toggle",e),a=n;break;case"input":LA(e,n),a=O1(e,n),Yt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=mr({},n,{value:void 0}),Yt("invalid",e);break;case"textarea":BA(e,n),a=M1(e,n),Yt("invalid",e);break;default:a=n}I1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?n3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t3(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vm(e,c):typeof c=="number"&&Vm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Yt("scroll",e):c!=null&&wC(e,i,c,o))}switch(r){case"input":rv(e),FA(e,n,!1);break;case"textarea":rv(e),UA(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Nl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ad(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ky)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xn(t),null;case 6:if(e&&t.stateNode!=null)k5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=Sc(ep.current),Sc(bs.current),dv(t)){if(n=t.stateNode,r=t.memoizedProps,n[ds]=t,(i=n.nodeValue!==r)&&(e=Pa,e!==null))switch(e.tag){case 3:uv(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&uv(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ds]=t,t.stateNode=n}return xn(t),null;case 13:if(er(dr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&Ca!==null&&t.mode&1&&!(t.flags&128))W3(),af(),t.flags|=98560,i=!1;else if(i=dv(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[ds]=t}else af(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xn(t),i=!1}else Mi!==null&&(gS(Mi),Mi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?zr===0&&(zr=3):nE())),t.updateQueue!==null&&(t.flags|=4),xn(t),null);case 4:return of(),lS(e,t),e===null&&Jm(t.stateNode.containerInfo),xn(t),null;case 10:return BC(t.type._context),xn(t),null;case 17:return aa(t.type)&&Yy(),xn(t),null;case 19:if(er(dr),i=t.memoizedState,i===null)return xn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fh(i,!1);else{if(zr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rx(e),o!==null){for(t.flags|=128,Fh(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Vt(dr,dr.current&1|2),t.child}e=e.sibling}i.tail!==null&&wr()>cf&&(t.flags|=128,n=!0,Fh(i,!1),t.lanes=4194304)}else{if(!n)if(e=rx(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!sr)return xn(t),null}else 2*wr()-i.renderingStartTime>cf&&r!==1073741824&&(t.flags|=128,n=!0,Fh(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=wr(),t.sibling=null,r=dr.current,Vt(dr,n?r&1|2:r&1),t):(xn(t),null);case 22:case 23:return rE(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ya&1073741824&&(xn(t),t.subtreeFlags&6&&(t.flags|=8192)):xn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function KY(e,t){switch(RC(t),t.tag){case 1:return aa(t.type)&&Yy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return of(),er(na),er(Pn),HC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return WC(t),null;case 13:if(er(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));af()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return er(dr),null;case 4:return of(),null;case 10:return BC(t.type._context),null;case 22:case 23:return rE(),null;case 24:return null;default:return null}}var mv=!1,jn=!1,YY=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function vd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function cS(e,t,r){try{r()}catch(n){vr(e,t,n)}}var OT=!1;function JY(e,t){if(q1=Hy,e=A3(),$C(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(G1={focusedElem:e,selectionRange:r},Hy=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,v=g.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Si(t.type,p),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(_){vr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return g=OT,OT=!1,g}function Sm(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&cS(t,r,i)}a=a.next}while(a!==n)}}function d0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function uS(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function C5(e){var t=e.alternate;t!==null&&(e.alternate=null,C5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ds],delete t[Qm],delete t[J1],delete t[TY],delete t[MY])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E5(e){return e.tag===5||e.tag===3||e.tag===4}function AT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ky));else if(n!==4&&(e=e.child,e!==null))for(dS(e,t,r),e=e.sibling;e!==null;)dS(e,t,r),e=e.sibling}function fS(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fS(e,t,r),e=e.sibling;e!==null;)fS(e,t,r),e=e.sibling}var un=null,Pi=!1;function Mo(e,t,r){for(r=r.child;r!==null;)P5(e,t,r),r=r.sibling}function P5(e,t,r){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(n0,r)}catch{}switch(r.tag){case 5:jn||vd(r,t);case 6:var n=un,a=Pi;un=null,Mo(e,t,r),un=n,Pi=a,un!==null&&(Pi?(e=un,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):un.removeChild(r.stateNode));break;case 18:un!==null&&(Pi?(e=un,r=r.stateNode,e.nodeType===8?C_(e.parentNode,r):e.nodeType===1&&C_(e,r),Gm(e)):C_(un,r.stateNode));break;case 4:n=un,a=Pi,un=r.stateNode.containerInfo,Pi=!0,Mo(e,t,r),un=n,Pi=a;break;case 0:case 11:case 14:case 15:if(!jn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&cS(r,t,o),a=a.next}while(a!==n)}Mo(e,t,r);break;case 1:if(!jn&&(vd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,t,l)}Mo(e,t,r);break;case 21:Mo(e,t,r);break;case 22:r.mode&1?(jn=(n=jn)||r.memoizedState!==null,Mo(e,t,r),jn=n):Mo(e,t,r);break;default:Mo(e,t,r)}}function TT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YY),t.forEach(function(n){var a=iJ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function vi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:un=l.stateNode,Pi=!1;break e;case 3:un=l.stateNode.containerInfo,Pi=!0;break e;case 4:un=l.stateNode.containerInfo,Pi=!0;break e}l=l.return}if(un===null)throw Error(ge(160));P5(i,o,a),un=null,Pi=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){vr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O5(t,e),t=t.sibling}function O5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vi(t,e),ns(e),n&4){try{Sm(3,e,e.return),d0(3,e)}catch(p){vr(e,e.return,p)}try{Sm(5,e,e.return)}catch(p){vr(e,e.return,p)}}break;case 1:vi(t,e),ns(e),n&512&&r!==null&&vd(r,r.return);break;case 5:if(vi(t,e),ns(e),n&512&&r!==null&&vd(r,r.return),e.flags&32){var a=e.stateNode;try{Vm(a,"")}catch(p){vr(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&QF(a,i),R1(l,o);var u=R1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?n3(a,f):d==="dangerouslySetInnerHTML"?t3(a,f):d==="children"?Vm(a,f):wC(a,d,f,u)}switch(l){case"input":A1(a,i);break;case"textarea":ZF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Ad(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ad(a,!!i.multiple,i.defaultValue,!0):Ad(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qm]=i}catch(p){vr(e,e.return,p)}}break;case 6:if(vi(t,e),ns(e),n&4){if(e.stateNode===null)throw Error(ge(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){vr(e,e.return,p)}}break;case 3:if(vi(t,e),ns(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gm(t.containerInfo)}catch(p){vr(e,e.return,p)}break;case 4:vi(t,e),ns(e);break;case 13:vi(t,e),ns(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(eE=wr())),n&4&&TT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jn=(u=jn)||d,vi(t,e),jn=u):vi(t,e),ns(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ee=e,d=e.child;d!==null;){for(f=Ee=d;Ee!==null;){switch(h=Ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:Sm(4,h,h.return);break;case 1:vd(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){vr(n,r,p)}}break;case 5:vd(h,h.return);break;case 22:if(h.memoizedState!==null){$T(f);continue}}m!==null?(m.return=h,Ee=m):$T(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=r3("display",o))}catch(p){vr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vi(t,e),ns(e),n&4&&TT(e);break;case 21:break;default:vi(t,e),ns(e)}}function ns(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(E5(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Vm(a,""),n.flags&=-33);var i=AT(e);fS(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=AT(e);dS(e,l,o);break;default:throw Error(ge(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XY(e,t,r){Ee=e,A5(e)}function A5(e,t,r){for(var n=(e.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||mv;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||jn;l=mv;var u=jn;if(mv=o,(jn=c)&&!u)for(Ee=a;Ee!==null;)o=Ee,c=o.child,o.tag===22&&o.memoizedState!==null?IT(a):c!==null?(c.return=o,Ee=c):IT(a);for(;i!==null;)Ee=i,A5(i),i=i.sibling;Ee=a,mv=l,jn=u}MT(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ee=i):MT(e)}}function MT(e){for(;Ee!==null;){var t=Ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jn||d0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Si(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&vT(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vT(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Gm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}jn||t.flags&512&&uS(t)}catch(h){vr(t,t.return,h)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function $T(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function IT(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{d0(4,t)}catch(c){vr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){vr(t,a,c)}}var i=t.return;try{uS(t)}catch(c){vr(t,i,c)}break;case 5:var o=t.return;try{uS(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){Ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ee=l;break}Ee=t.return}}var QY=Math.ceil,ix=jo.ReactCurrentDispatcher,QC=jo.ReactCurrentOwner,ti=jo.ReactCurrentBatchConfig,vt=0,tn=null,Ar=null,hn=0,ya=0,yd=Il(0),zr=0,ap=null,Qc=0,f0=0,ZC=0,Nm=null,Zn=null,eE=0,cf=1/0,Us=null,sx=!1,hS=null,vl=null,pv=!1,ol=null,ox=0,km=0,mS=null,yy=-1,xy=0;function Vn(){return vt&6?wr():yy!==-1?yy:yy=wr()}function yl(e){return e.mode&1?vt&2&&hn!==0?hn&-hn:IY.transition!==null?(xy===0&&(xy=p3()),xy):(e=Ot,e!==0||(e=window.event,e=e===void 0?16:_3(e.type)),e):1}function Li(e,t,r,n){if(50<km)throw km=0,mS=null,Error(ge(185));mg(e,r,n),(!(vt&2)||e!==tn)&&(e===tn&&(!(vt&2)&&(f0|=r),zr===4&&Xo(e,hn)),ia(e,n),r===1&&vt===0&&!(t.mode&1)&&(cf=wr()+500,l0&&Rl()))}function ia(e,t){var r=e.callbackNode;IK(e,t);var n=Wy(e,e===tn?hn:0);if(n===0)r!==null&&WA(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WA(r),t===1)e.tag===0?$Y(RT.bind(null,e)):U3(RT.bind(null,e)),OY(function(){!(vt&6)&&Rl()}),r=null;else{switch(g3(n)){case 1:r=kC;break;case 4:r=h3;break;case 16:r=Vy;break;case 536870912:r=m3;break;default:r=Vy}r=F5(r,T5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function T5(e,t){if(yy=-1,xy=0,vt&6)throw Error(ge(327));var r=e.callbackNode;if(Rd()&&e.callbackNode!==r)return null;var n=Wy(e,e===tn?hn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=lx(e,n);else{t=n;var a=vt;vt|=2;var i=$5();(tn!==e||hn!==t)&&(Us=null,cf=wr()+500,Fc(e,t));do try{tJ();break}catch(l){M5(e,l)}while(!0);FC(),ix.current=i,vt=a,Ar!==null?t=0:(tn=null,hn=0,t=zr)}if(t!==0){if(t===2&&(a=U1(e),a!==0&&(n=a,t=pS(e,a))),t===1)throw r=ap,Fc(e,0),Xo(e,n),ia(e,wr()),r;if(t===6)Xo(e,n);else{if(a=e.current.alternate,!(n&30)&&!ZY(a)&&(t=lx(e,n),t===2&&(i=U1(e),i!==0&&(n=i,t=pS(e,i))),t===1))throw r=ap,Fc(e,0),Xo(e,n),ia(e,wr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:dc(e,Zn,Us);break;case 3:if(Xo(e,n),(n&130023424)===n&&(t=eE+500-wr(),10<t)){if(Wy(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Vn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Y1(dc.bind(null,e,Zn,Us),t);break}dc(e,Zn,Us);break;case 4:if(Xo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Di(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=wr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QY(n/1960))-n,10<n){e.timeoutHandle=Y1(dc.bind(null,e,Zn,Us),n);break}dc(e,Zn,Us);break;case 5:dc(e,Zn,Us);break;default:throw Error(ge(329))}}}return ia(e,wr()),e.callbackNode===r?T5.bind(null,e):null}function pS(e,t){var r=Nm;return e.current.memoizedState.isDehydrated&&(Fc(e,t).flags|=256),e=lx(e,t),e!==2&&(t=Zn,Zn=r,t!==null&&gS(t)),e}function gS(e){Zn===null?Zn=e:Zn.push.apply(Zn,e)}function ZY(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Vi(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xo(e,t){for(t&=~ZC,t&=~f0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Di(t),n=1<<r;e[r]=-1,t&=~n}}function RT(e){if(vt&6)throw Error(ge(327));Rd();var t=Wy(e,0);if(!(t&1))return ia(e,wr()),null;var r=lx(e,t);if(e.tag!==0&&r===2){var n=U1(e);n!==0&&(t=n,r=pS(e,n))}if(r===1)throw r=ap,Fc(e,0),Xo(e,t),ia(e,wr()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dc(e,Zn,Us),ia(e,wr()),null}function tE(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(cf=wr()+500,l0&&Rl())}}function Zc(e){ol!==null&&ol.tag===0&&!(vt&6)&&Rd();var t=vt;vt|=1;var r=ti.transition,n=Ot;try{if(ti.transition=null,Ot=1,e)return e()}finally{Ot=n,ti.transition=r,vt=t,!(vt&6)&&Rl()}}function rE(){ya=yd.current,er(yd)}function Fc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PY(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(RC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Yy();break;case 3:of(),er(na),er(Pn),HC();break;case 5:WC(n);break;case 4:of();break;case 13:er(dr);break;case 19:er(dr);break;case 10:BC(n.type._context);break;case 22:case 23:rE()}r=r.return}if(tn=e,Ar=e=xl(e.current,null),hn=ya=t,zr=0,ap=null,ZC=f0=Qc=0,Zn=Nm=null,jc!==null){for(t=0;t<jc.length;t++)if(r=jc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}jc=null}return e}function M5(e,t){do{var r=Ar;try{if(FC(),py.current=ax,nx){for(var n=hr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}nx=!1}if(Xc=0,Xr=Lr=hr=null,jm=!1,tp=0,QC.current=null,r===null||r.return===null){zr=1,ap=t,Ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=hn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=jT(o);if(m!==null){m.flags&=-257,ST(m,o,l,i,t),m.mode&1&&_T(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){_T(i,u,t),nE();break e}c=Error(ge(426))}}else if(sr&&l.mode&1){var v=jT(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ST(v,o,l,i,t),DC(lf(c,l));break e}}i=c=lf(c,l),zr!==4&&(zr=2),Nm===null?Nm=[i]:Nm.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=g5(i,c,t);gT(i,b);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(vl===null||!vl.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=v5(i,l,t);gT(i,_);break e}}i=i.return}while(i!==null)}R5(r)}catch(S){t=S,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function $5(){var e=ix.current;return ix.current=ax,e===null?ax:e}function nE(){(zr===0||zr===3||zr===2)&&(zr=4),tn===null||!(Qc&268435455)&&!(f0&268435455)||Xo(tn,hn)}function lx(e,t){var r=vt;vt|=2;var n=$5();(tn!==e||hn!==t)&&(Us=null,Fc(e,t));do try{eJ();break}catch(a){M5(e,a)}while(!0);if(FC(),vt=r,ix.current=n,Ar!==null)throw Error(ge(261));return tn=null,hn=0,zr}function eJ(){for(;Ar!==null;)I5(Ar)}function tJ(){for(;Ar!==null&&!kK();)I5(Ar)}function I5(e){var t=L5(e.alternate,e,ya);e.memoizedProps=e.pendingProps,t===null?R5(e):Ar=t,QC.current=null}function R5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=KY(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zr=6,Ar=null;return}}else if(r=GY(r,t,ya),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);zr===0&&(zr=5)}function dc(e,t,r){var n=Ot,a=ti.transition;try{ti.transition=null,Ot=1,rJ(e,t,r,n)}finally{ti.transition=a,Ot=n}return null}function rJ(e,t,r,n){do Rd();while(ol!==null);if(vt&6)throw Error(ge(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(RK(e,i),e===tn&&(Ar=tn=null,hn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pv||(pv=!0,F5(Vy,function(){return Rd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ti.transition,ti.transition=null;var o=Ot;Ot=1;var l=vt;vt|=4,QC.current=null,JY(e,r),O5(r,e),_Y(G1),Hy=!!q1,G1=q1=null,e.current=r,XY(r),CK(),vt=l,Ot=o,ti.transition=i}else e.current=r;if(pv&&(pv=!1,ol=e,ox=a),i=e.pendingLanes,i===0&&(vl=null),OK(r.stateNode),ia(e,wr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(sx)throw sx=!1,e=hS,hS=null,e;return ox&1&&e.tag!==0&&Rd(),i=e.pendingLanes,i&1?e===mS?km++:(km=0,mS=e):km=0,Rl(),null}function Rd(){if(ol!==null){var e=g3(ox),t=ti.transition,r=Ot;try{if(ti.transition=null,Ot=16>e?16:e,ol===null)var n=!1;else{if(e=ol,ol=null,ox=0,vt&6)throw Error(ge(331));var a=vt;for(vt|=4,Ee=e.current;Ee!==null;){var i=Ee,o=i.child;if(Ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ee=u;Ee!==null;){var d=Ee;switch(d.tag){case 0:case 11:case 15:Sm(8,d,i)}var f=d.child;if(f!==null)f.return=d,Ee=f;else for(;Ee!==null;){d=Ee;var h=d.sibling,m=d.return;if(C5(d),d===u){Ee=null;break}if(h!==null){h.return=m,Ee=h;break}Ee=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Ee=o;else e:for(;Ee!==null;){if(i=Ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sm(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Ee=b;break e}Ee=i.return}}var x=e.current;for(Ee=x;Ee!==null;){o=Ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ee=w;else e:for(o=x;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:d0(9,l)}}catch(S){vr(l,l.return,S)}if(l===o){Ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Ee=_;break e}Ee=l.return}}if(vt=a,Rl(),xs&&typeof xs.onPostCommitFiberRoot=="function")try{xs.onPostCommitFiberRoot(n0,e)}catch{}n=!0}return n}finally{Ot=r,ti.transition=t}}return!1}function DT(e,t,r){t=lf(r,t),t=g5(e,t,1),e=gl(e,t,1),t=Vn(),e!==null&&(mg(e,1,t),ia(e,t))}function vr(e,t,r){if(e.tag===3)DT(e,e,r);else for(;t!==null;){if(t.tag===3){DT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){e=lf(r,e),e=v5(t,e,1),t=gl(t,e,1),e=Vn(),t!==null&&(mg(t,1,e),ia(t,e));break}}t=t.return}}function nJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(hn&r)===r&&(zr===4||zr===3&&(hn&130023424)===hn&&500>wr()-eE?Fc(e,0):ZC|=r),ia(e,t)}function D5(e,t){t===0&&(e.mode&1?(t=iv,iv<<=1,!(iv&130023424)&&(iv=4194304)):t=1);var r=Vn();e=uo(e,t),e!==null&&(mg(e,t,r),ia(e,r))}function aJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),D5(e,r)}function iJ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),D5(e,r)}var L5;L5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||na.current)ea=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ea=!1,qY(e,t,r);ea=!!(e.flags&131072)}else ea=!1,sr&&t.flags&1048576&&z3(t,Qy,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vy(e,t),e=t.pendingProps;var a=nf(t,Pn.current);Id(t,r),a=GC(null,t,n,e,a,r);var i=KC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,aa(n)?(i=!0,Jy(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zC(t),a.updater=u0,t.stateNode=a,a._reactInternals=t,rS(t,n,e,r),t=iS(null,t,n,!0,i,r)):(t.tag=0,sr&&i&&IC(t),$n(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(vy(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=oJ(n),e=Si(n,e),a){case 0:t=aS(null,t,n,e,r);break e;case 1:t=CT(null,t,n,e,r);break e;case 11:t=NT(null,t,n,e,r);break e;case 14:t=kT(null,t,n,Si(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),aS(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),CT(e,t,n,a,r);case 3:e:{if(w5(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,a=i.element,K3(e,t),tx(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=lf(Error(ge(423)),t),t=ET(e,t,n,r,a);break e}else if(n!==a){a=lf(Error(ge(424)),t),t=ET(e,t,n,r,a);break e}else for(Ca=pl(t.stateNode.containerInfo.firstChild),Pa=t,sr=!0,Mi=null,r=q3(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(af(),n===a){t=fo(e,t,r);break e}$n(e,t,n,r)}t=t.child}return t;case 5:return Y3(t),e===null&&Z1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,K1(n,a)?o=null:i!==null&&K1(n,i)&&(t.flags|=32),b5(e,t),$n(e,t,o,r),t.child;case 6:return e===null&&Z1(t),null;case 13:return _5(e,t,r);case 4:return VC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sf(t,null,n,r):$n(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),NT(e,t,n,a,r);case 7:return $n(e,t,t.pendingProps,r),t.child;case 8:return $n(e,t,t.pendingProps.children,r),t.child;case 12:return $n(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Vt(Zy,n._currentValue),n._currentValue=o,i!==null)if(Vi(i.value,o)){if(i.children===a.children&&!na.current){t=fo(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=no(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),eS(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),eS(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}$n(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Id(t,r),a=si(a),n=n(a),t.flags|=1,$n(e,t,n,r),t.child;case 14:return n=t.type,a=Si(n,t.pendingProps),a=Si(n.type,a),kT(e,t,n,a,r);case 15:return y5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Si(n,a),vy(e,t),t.tag=1,aa(n)?(e=!0,Jy(t)):e=!1,Id(t,r),p5(t,n,a),rS(t,n,a,r),iS(null,t,n,!0,e,r);case 19:return j5(e,t,r);case 22:return x5(e,t,r)}throw Error(ge(156,t.tag))};function F5(e,t){return f3(e,t)}function sJ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qa(e,t,r,n){return new sJ(e,t,r,n)}function aE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oJ(e){if(typeof e=="function")return aE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jC)return 11;if(e===SC)return 14}return 2}function xl(e,t){var r=e.alternate;return r===null?(r=Qa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function by(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")aE(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ld:return Bc(r.children,a,i,t);case _C:o=8,a|=8;break;case k1:return e=Qa(12,r,t,a|2),e.elementType=k1,e.lanes=i,e;case C1:return e=Qa(13,r,t,a),e.elementType=C1,e.lanes=i,e;case E1:return e=Qa(19,r,t,a),e.elementType=E1,e.lanes=i,e;case YF:return h0(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GF:o=10;break e;case KF:o=9;break e;case jC:o=11;break e;case SC:o=14;break e;case Wo:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Qa(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Bc(e,t,r,n){return e=Qa(7,e,n,t),e.lanes=r,e}function h0(e,t,r,n){return e=Qa(22,e,n,t),e.elementType=YF,e.lanes=r,e.stateNode={isHidden:!1},e}function I_(e,t,r){return e=Qa(6,e,null,t),e.lanes=r,e}function R_(e,t,r){return t=Qa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lJ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g_(0),this.expirationTimes=g_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function iE(e,t,r,n,a,i,o,l,c){return e=new lJ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zC(i),e}function cJ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:od,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function B5(e){if(!e)return kl;e=e._reactInternals;e:{if(wu(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(aa(r))return B3(e,r,t)}return t}function U5(e,t,r,n,a,i,o,l,c){return e=iE(r,n,!0,e,a,i,o,l,c),e.context=B5(null),r=e.current,n=Vn(),a=yl(r),i=no(n,a),i.callback=t??null,gl(r,i,a),e.current.lanes=a,mg(e,a,n),ia(e,n),e}function m0(e,t,r,n){var a=t.current,i=Vn(),o=yl(a);return r=B5(r),t.context===null?t.context=r:t.pendingContext=r,t=no(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gl(a,t,o),e!==null&&(Li(e,a,o,i),my(e,a,o)),o}function cx(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sE(e,t){LT(e,t),(e=e.alternate)&&LT(e,t)}function uJ(){return null}var z5=typeof reportError=="function"?reportError:function(e){console.error(e)};function oE(e){this._internalRoot=e}p0.prototype.render=oE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));m0(e,t,null,null)};p0.prototype.unmount=oE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zc(function(){m0(null,e,null,null)}),t[co]=null}};function p0(e){this._internalRoot=e}p0.prototype.unstable_scheduleHydration=function(e){if(e){var t=x3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jo.length&&t!==0&&t<Jo[r].priority;r++);Jo.splice(r,0,e),r===0&&w3(e)}};function lE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function g0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function FT(){}function dJ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=cx(o);i.call(u)}}var o=U5(t,n,e,0,null,!1,!1,"",FT);return e._reactRootContainer=o,e[co]=o.current,Jm(e.nodeType===8?e.parentNode:e),Zc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=cx(c);l.call(u)}}var c=iE(e,0,!1,null,null,!1,!1,"",FT);return e._reactRootContainer=c,e[co]=c.current,Jm(e.nodeType===8?e.parentNode:e),Zc(function(){m0(t,c,r,n)}),c}function v0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=cx(o);l.call(c)}}m0(t,o,e,a)}else o=dJ(r,t,e,a,n);return cx(o)}v3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cm(t.pendingLanes);r!==0&&(CC(t,r|1),ia(t,wr()),!(vt&6)&&(cf=wr()+500,Rl()))}break;case 13:Zc(function(){var n=uo(e,1);if(n!==null){var a=Vn();Li(n,e,1,a)}}),sE(e,1)}};EC=function(e){if(e.tag===13){var t=uo(e,134217728);if(t!==null){var r=Vn();Li(t,e,134217728,r)}sE(e,134217728)}};y3=function(e){if(e.tag===13){var t=yl(e),r=uo(e,t);if(r!==null){var n=Vn();Li(r,e,t,n)}sE(e,t)}};x3=function(){return Ot};b3=function(e,t){var r=Ot;try{return Ot=e,t()}finally{Ot=r}};L1=function(e,t,r){switch(t){case"input":if(A1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=o0(n);if(!a)throw Error(ge(90));XF(n),A1(n,a)}}}break;case"textarea":ZF(e,r);break;case"select":t=r.value,t!=null&&Ad(e,!!r.multiple,t,!1)}};s3=tE;o3=Zc;var fJ={usingClientEntryPoint:!1,Events:[gg,fd,o0,a3,i3,tE]},Bh={findFiberByHostInstance:_c,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hJ={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u3(e),e===null?null:e.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||uJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{n0=gv.inject(hJ),xs=gv}catch{}}La.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fJ;La.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lE(t))throw Error(ge(200));return cJ(e,t,null,r)};La.createRoot=function(e,t){if(!lE(e))throw Error(ge(299));var r=!1,n="",a=z5;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=iE(e,1,!1,null,null,r,!1,n,a),e[co]=t.current,Jm(e.nodeType===8?e.parentNode:e),new oE(t)};La.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=u3(t),e=e===null?null:e.stateNode,e};La.flushSync=function(e){return Zc(e)};La.hydrate=function(e,t,r){if(!g0(t))throw Error(ge(200));return v0(null,e,t,!0,r)};La.hydrateRoot=function(e,t,r){if(!lE(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=z5;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=U5(t,null,e,1,r??null,a,!1,i,o),e[co]=t.current,Jm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new p0(t)};La.render=function(e,t,r){if(!g0(t))throw Error(ge(200));return v0(null,e,t,!1,r)};La.unmountComponentAtNode=function(e){if(!g0(e))throw Error(ge(40));return e._reactRootContainer?(Zc(function(){v0(null,null,e,!1,function(){e._reactRootContainer=null,e[co]=null})}),!0):!1};La.unstable_batchedUpdates=tE;La.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!g0(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return v0(e,t,r,!1,n)};La.version="18.3.1-next-f1338f8080-20240426";function V5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V5)}catch(e){console.error(e)}}V5(),VF.exports=La;var _u=VF.exports;const W5=Ct(_u);var H5,BT=_u;H5=BT.createRoot,BT.hydrateRoot;const mJ=1,pJ=1e6;let D_=0;function gJ(){return D_=(D_+1)%Number.MAX_SAFE_INTEGER,D_.toString()}const L_=new Map,UT=e=>{if(L_.has(e))return;const t=setTimeout(()=>{L_.delete(e),Cm({type:"REMOVE_TOAST",toastId:e})},pJ);L_.set(e,t)},vJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?UT(r):e.toasts.forEach(n=>{UT(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},wy=[];let _y={toasts:[]};function Cm(e){_y=vJ(_y,e),wy.forEach(t=>{t(_y)})}function yJ({...e}){const t=gJ(),r=a=>Cm({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Cm({type:"DISMISS_TOAST",toastId:t});return Cm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function cE(){const[e,t]=y.useState(_y);return y.useEffect(()=>(wy.push(t),()=>{const r=wy.indexOf(t);r>-1&&wy.splice(r,1)}),[e]),{...e,toast:yJ,dismiss:r=>Cm({type:"DISMISS_TOAST",toastId:r})}}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zT(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ps(...e){return t=>{let r=!1;const n=e.map(a=>{const i=zT(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():zT(e[a],null)}}}}function Ke(...e){return y.useCallback(Ps(...e),e)}function xJ(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function gn(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,bJ(a,...t)]}function bJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function VT(e){const t=wJ(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(jJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function wJ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=NJ(a),l=SJ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _J=Symbol("radix.slottable");function jJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_J}function SJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function NJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function y0(e){const t=e+"CollectionProvider",[r,n]=gn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:v,children:b}=p,x=M.useRef(null),w=M.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:w,collectionRef:x,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=VT(l),u=M.forwardRef((p,v)=>{const{scope:b,children:x}=p,w=i(l,b),_=Ke(v,w.collectionRef);return s.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=VT(d),m=M.forwardRef((p,v)=>{const{scope:b,children:x,...w}=p,_=M.useRef(null),S=Ke(v,_),N=i(d,b);return M.useEffect(()=>(N.itemMap.set(_,{ref:_,...w}),()=>void N.itemMap.delete(_))),s.jsx(h,{[f]:"",ref:S,children:x})});m.displayName=d;function g(p){const v=i(e+"CollectionConsumer",p);return M.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((N,k)=>w.indexOf(N.ref.current)-w.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}function kJ(e){const t=CJ(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(PJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function CJ(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=AJ(a),l=OJ(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EJ=Symbol("radix.slottable");function PJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EJ}function OJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function AJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var TJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=TJ.reduce((e,t)=>{const r=kJ(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function uE(e,t){e&&_u.flushSync(()=>e.dispatchEvent(t))}function xr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function MJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $J="DismissableLayer",vS="dismissableLayer.update",IJ="dismissableLayer.pointerDownOutside",RJ="dismissableLayer.focusOutside",WT,q5=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ju=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(q5),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=Ke(t,k=>f(k)),p=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(v),x=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=b,S=LJ(k=>{const P=k.target,A=[...u.branches].some(T=>T.contains(P));!_||A||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),N=FJ(k=>{const P=k.target;[...u.branches].some(T=>T.contains(P))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return MJ(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(WT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),HT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=WT)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),HT())},[d,u]),y.useEffect(()=>{const k=()=>m({});return document.addEventListener(vS,k),()=>document.removeEventListener(vS,k)},[]),s.jsx(Me.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,N.onFocusCapture),onBlurCapture:he(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,S.onPointerDownCapture)})});ju.displayName=$J;var DJ="DismissableLayerBranch",G5=y.forwardRef((e,t)=>{const r=y.useContext(q5),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Me.div,{...e,ref:a})});G5.displayName=DJ;function LJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){K5(IJ,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function FJ(e,t=globalThis==null?void 0:globalThis.document){const r=xr(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&K5(RJ,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function HT(){const e=new CustomEvent(vS);document.dispatchEvent(e)}function K5(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?uE(a,i):a.dispatchEvent(i)}var BJ=ju,UJ=G5,Sr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},zJ="Portal",ah=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=y.useState(!1);Sr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?W5.createPortal(s.jsx(Me.div,{...n,ref:t}),o):null});ah.displayName=zJ;function VJ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Hr=e=>{const{present:t,children:r}=e,n=WJ(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ke(n.ref,HJ(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};Hr.displayName="Presence";function WJ(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=VJ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=vv(n.current);i.current=l==="mounted"?u:"none"},[l]),Sr(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,m=vv(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Sr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=vv(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!a.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},h=m=>{m.target===t&&(i.current=vv(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function vv(e){return(e==null?void 0:e.animationName)||"none"}function HJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var qJ=r0[" useInsertionEffect ".trim().toString()]||Sr;function Wi({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=GJ({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:a;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=KJ(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function GJ({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return qJ(()=>{i.current=t},[t]),y.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function KJ(e){return typeof e=="function"}var Y5=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YJ="VisuallyHidden",x0=y.forwardRef((e,t)=>s.jsx(Me.span,{...e,ref:t,style:{...Y5,...e.style}}));x0.displayName=YJ;var JJ=x0,dE="ToastProvider",[fE,XJ,QJ]=y0("Toast"),[J5]=gn("Toast",[QJ]),[ZJ,b0]=J5(dE),X5=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=y.useState(null),[u,d]=y.useState(0),f=y.useRef(!1),h=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${dE}\`. Expected non-empty \`string\`.`),s.jsx(fE.Provider,{scope:t,children:s.jsx(ZJ,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:y.useCallback(()=>d(m=>m+1),[]),onToastRemove:y.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};X5.displayName=dE;var Q5="ToastViewport",eX=["F8"],yS="toast.viewportPause",xS="toast.viewportResume",Z5=y.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=eX,label:a="Notifications ({hotkey})",...i}=e,o=b0(Q5,r),l=XJ(r),c=y.useRef(null),u=y.useRef(null),d=y.useRef(null),f=y.useRef(null),h=Ke(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;y.useEffect(()=>{const v=b=>{var w;n.length!==0&&n.every(_=>b[_]||b.code===_)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),y.useEffect(()=>{const v=c.current,b=f.current;if(g&&v&&b){const x=()=>{if(!o.isClosePausedRef.current){const N=new CustomEvent(yS);b.dispatchEvent(N),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const N=new CustomEvent(xS);b.dispatchEvent(N),o.isClosePausedRef.current=!1}},_=N=>{!v.contains(N.relatedTarget)&&w()},S=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",x),v.addEventListener("focusout",_),v.addEventListener("pointermove",x),v.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",x),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",x),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[g,o.isClosePausedRef]);const p=y.useCallback(({tabbingDirection:v})=>{const x=l().map(w=>{const _=w.ref.current,S=[_,...hX(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?x.reverse():x).flat()},[l]);return y.useEffect(()=>{const v=f.current;if(v){const b=x=>{var S,N,k;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const P=document.activeElement,A=x.shiftKey;if(x.target===v&&A){(S=u.current)==null||S.focus();return}const O=p({tabbingDirection:A?"backwards":"forwards"}),L=O.findIndex($=>$===P);F_(O.slice(L+1))?x.preventDefault():A?(N=u.current)==null||N.focus():(k=d.current)==null||k.focus()}};return v.addEventListener("keydown",b),()=>v.removeEventListener("keydown",b)}},[l,p]),s.jsxs(UJ,{ref:c,role:"region","aria-label":a.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(bS,{ref:u,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"forwards"});F_(v)}}),s.jsx(fE.Slot,{scope:r,children:s.jsx(Me.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(bS,{ref:d,onFocusFromOutsideViewport:()=>{const v=p({tabbingDirection:"backwards"});F_(v)}})]})});Z5.displayName=Q5;var eB="ToastFocusProxy",bS=y.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=b0(eB,r);return s.jsx(x0,{tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});bS.displayName=eB;var yg="Toast",tX="toast.swipeStart",rX="toast.swipeMove",nX="toast.swipeCancel",aX="toast.swipeEnd",tB=y.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l,c]=Wi({prop:n,defaultProp:a??!0,onChange:i,caller:yg});return s.jsx(Hr,{present:r||l,children:s.jsx(oX,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:xr(e.onPause),onResume:xr(e.onResume),onSwipeStart:he(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:he(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tB.displayName=yg;var[iX,sX]=J5(yg,{onClose(){}}),oX=y.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=b0(yg,r),[v,b]=y.useState(null),x=Ke(t,$=>b($)),w=y.useRef(null),_=y.useRef(null),S=a||p.duration,N=y.useRef(0),k=y.useRef(S),P=y.useRef(0),{onToastAdd:A,onToastRemove:T}=p,I=xr(()=>{var F;(v==null?void 0:v.contains(document.activeElement))&&((F=p.viewport)==null||F.focus()),o()}),O=y.useCallback($=>{!$||$===1/0||(window.clearTimeout(P.current),N.current=new Date().getTime(),P.current=window.setTimeout(I,$))},[I]);y.useEffect(()=>{const $=p.viewport;if($){const F=()=>{O(k.current),u==null||u()},z=()=>{const V=new Date().getTime()-N.current;k.current=k.current-V,window.clearTimeout(P.current),c==null||c()};return $.addEventListener(yS,z),$.addEventListener(xS,F),()=>{$.removeEventListener(yS,z),$.removeEventListener(xS,F)}}},[p.viewport,S,c,u,O]),y.useEffect(()=>{i&&!p.isClosePausedRef.current&&O(S)},[i,S,p.isClosePausedRef,O]),y.useEffect(()=>(A(),()=>T()),[A,T]);const L=y.useMemo(()=>v?lB(v):null,[v]);return p.viewport?s.jsxs(s.Fragment,{children:[L&&s.jsx(lX,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:L}),s.jsx(iX,{scope:r,onClose:I,children:_u.createPortal(s.jsx(fE.ItemSlot,{scope:r,children:s.jsx(BJ,{asChild:!0,onEscapeKeyDown:he(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||I(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:he(e.onPointerDown,$=>{$.button===0&&(w.current={x:$.clientX,y:$.clientY})}),onPointerMove:he(e.onPointerMove,$=>{if(!w.current)return;const F=$.clientX-w.current.x,z=$.clientY-w.current.y,V=!!_.current,R=["left","right"].includes(p.swipeDirection),U=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,K=R?U(0,F):0,re=R?0:U(0,z),ee=$.pointerType==="touch"?10:2,j={x:K,y:re},E={originalEvent:$,delta:j};V?(_.current=j,yv(rX,f,E,{discrete:!1})):qT(j,p.swipeDirection,ee)?(_.current=j,yv(tX,d,E,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(F)>ee||Math.abs(z)>ee)&&(w.current=null)}),onPointerUp:he(e.onPointerUp,$=>{const F=_.current,z=$.target;if(z.hasPointerCapture($.pointerId)&&z.releasePointerCapture($.pointerId),_.current=null,w.current=null,F){const V=$.currentTarget,R={originalEvent:$,delta:F};qT(F,p.swipeDirection,p.swipeThreshold)?yv(aX,m,R,{discrete:!0}):yv(nX,h,R,{discrete:!0}),V.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),lX=e=>{const{__scopeToast:t,children:r,...n}=e,a=b0(yg,t),[i,o]=y.useState(!1),[l,c]=y.useState(!1);return dX(()=>o(!0)),y.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(ah,{asChild:!0,children:s.jsx(x0,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},cX="ToastTitle",rB=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});rB.displayName=cX;var uX="ToastDescription",nB=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});nB.displayName=uX;var aB="ToastAction",iB=y.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(oB,{altText:r,asChild:!0,children:s.jsx(hE,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aB}\`. Expected non-empty \`string\`.`),null)});iB.displayName=aB;var sB="ToastClose",hE=y.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=sX(sB,r);return s.jsx(oB,{asChild:!0,children:s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,a.onClose)})})});hE.displayName=sB;var oB=y.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function lB(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fX(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lB(n))}}),t}function yv(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?uE(a,i):a.dispatchEvent(i)}var qT=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function dX(e=()=>{}){const t=xr(e);Sr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function fX(e){return e.nodeType===e.ELEMENT_NODE}function hX(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function F_(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var mX=X5,cB=Z5,uB=tB,dB=rB,fB=nB,hB=iB,mB=hE;function pB(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=pB(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=pB(e))&&(n&&(n+=" "),n+=t);return n}const GT=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,KT=tt,w0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return KT(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=GT(d)||GT(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,v]=g;return Array.isArray(v)?v.includes({...i,...l}[p]):{...i,...l}[p]===v})?[...u,f,h]:u},[]);return KT(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gB=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...gX,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:gB("lucide",a),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(vX,{ref:i,iconNode:t,className:gB(`lucide-${pX(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=we("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=we("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=we("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=we("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=we("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=we("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=we("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=we("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=we("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=we("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=we("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=we("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=we("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=we("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=we("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AX=we("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=we("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=we("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=we("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=we("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=we("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=we("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=we("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=we("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=we("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=we("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=we("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=we("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=we("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=we("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=we("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=we("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=we("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=we("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xE="-",GX=e=>{const t=YX(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(xE);return l[0]===""&&l.length!==1&&l.shift(),NB(l,t)||KX(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},NB=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?NB(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(xE);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},ZT=/^\[(.+)\]$/,KX=e=>{if(ZT.test(e)){const t=ZT.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},YX=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return XX(Object.entries(e.classGroups),r).forEach(([i,o])=>{_S(o,n,i,t)}),n},_S=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:e2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(JX(a)){_S(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{_S(o,e2(t,i),r,n)})})},e2=(e,t)=>{let r=e;return t.split(xE).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},JX=e=>e.isThemeGetter,XX=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,QX=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},kB="!",ZX=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let b=l[v];if(u===0){if(b===a&&(n||l.slice(v,v+i)===t)){c.push(l.slice(d,v)),d=v+i;continue}if(b==="/"){f=v;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(kB),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},eQ=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},tQ=e=>({cache:QX(e.cacheSize),parseClassName:ZX(e),...GX(e)}),rQ=/\s+/,nQ=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(rQ);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=eQ(d).join(":"),b=f?v+kB:v,x=b+p;if(i.includes(x))continue;i.push(x);const w=a(p,g);for(let _=0;_<w.length;++_){const S=w[_];i.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function aQ(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=CB(t))&&(n&&(n+=" "),n+=r);return n}const CB=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=CB(e[n]))&&(r&&(r+=" "),r+=t);return r};function iQ(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=tQ(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=nQ(c,r);return a(c,d),d}return function(){return i(aQ.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},EB=/^\[(?:([a-z-]+):)?(.+)\]$/i,sQ=/^\d+\/\d+$/,oQ=new Set(["px","full","screen"]),lQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=e=>Dd(e)||oQ.has(e)||sQ.test(e),$o=e=>sh(e,"length",bQ),Dd=e=>!!e&&!Number.isNaN(Number(e)),V_=e=>sh(e,"number",Dd),zh=e=>!!e&&Number.isInteger(Number(e)),hQ=e=>e.endsWith("%")&&Dd(e.slice(0,-1)),it=e=>EB.test(e),Io=e=>lQ.test(e),mQ=new Set(["length","size","percentage"]),pQ=e=>sh(e,mQ,PB),gQ=e=>sh(e,"position",PB),vQ=new Set(["image","url"]),yQ=e=>sh(e,vQ,_Q),xQ=e=>sh(e,"",wQ),Vh=()=>!0,sh=(e,t,r)=>{const n=EB.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},bQ=e=>cQ.test(e)&&!uQ.test(e),PB=()=>!1,wQ=e=>dQ.test(e),_Q=e=>fQ.test(e),jQ=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),m=Kt("gradientColorStops"),g=Kt("gradientColorStopPositions"),p=Kt("inset"),v=Kt("margin"),b=Kt("opacity"),x=Kt("padding"),w=Kt("saturate"),_=Kt("scale"),S=Kt("sepia"),N=Kt("skew"),k=Kt("space"),P=Kt("translate"),A=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",it,t],O=()=>[it,t],L=()=>["",Is,$o],$=()=>["auto",Dd,it],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",it],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[Dd,it];return{cacheSize:500,separator:":",theme:{colors:[Vh],spacing:[Is,$o],blur:["none","",Io,it],brightness:re(),borderColor:[e],borderRadius:["none","","full",Io,it],borderSpacing:O(),borderWidth:L(),contrast:re(),grayscale:U(),hueRotate:re(),invert:U(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[hQ,$o],inset:I(),margin:I(),opacity:re(),padding:O(),saturate:re(),scale:re(),sepia:U(),skew:re(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",it]}],container:["container"],columns:[{columns:[Io]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),it]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zh,it]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",it]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",zh,it]}],"grid-cols":[{"grid-cols":[Vh]}],"col-start-end":[{col:["auto",{span:["full",zh,it]},it]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Vh]}],"row-start-end":[{row:["auto",{span:[zh,it]},it]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",it]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",it]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",it,t]}],"min-w":[{"min-w":[it,t,"min","max","fit"]}],"max-w":[{"max-w":[it,t,"none","full","min","max","fit","prose",{screen:[Io]},Io]}],h:[{h:[it,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[it,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[it,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Io,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",V_]}],"font-family":[{font:[Vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",it]}],"line-clamp":[{"line-clamp":["none",Dd,V_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,it]}],"list-image":[{"list-image":["none",it]}],"list-style-type":[{list:["none","disc","decimal",it]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,$o]}],"underline-offset":[{"underline-offset":["auto",Is,it]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",it]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",it]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),gQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yQ]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:z()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Is,it]}],"outline-w":[{outline:[Is,$o]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Is,$o]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Io,xQ]}],"shadow-color":[{shadow:[Vh]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Io,it]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",it]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",it]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",it]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zh,it]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",it]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",it]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",it]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Is,$o,V_]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SQ=iQ(jQ);function ve(...e){return SQ(tt(e))}const NQ=mX,OB=y.forwardRef(({className:e,...t},r)=>s.jsx(cB,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));OB.displayName=cB.displayName;const kQ=w0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AB=y.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(uB,{ref:n,className:ve(kQ({variant:t}),e),...r}));AB.displayName=uB.displayName;const CQ=y.forwardRef(({className:e,...t},r)=>s.jsx(hB,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));CQ.displayName=hB.displayName;const TB=y.forwardRef(({className:e,...t},r)=>s.jsx(mB,{ref:r,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(So,{className:"h-4 w-4"})}));TB.displayName=mB.displayName;const MB=y.forwardRef(({className:e,...t},r)=>s.jsx(dB,{ref:r,className:ve("text-sm font-semibold",e),...t}));MB.displayName=dB.displayName;const $B=y.forwardRef(({className:e,...t},r)=>s.jsx(fB,{ref:r,className:ve("text-sm opacity-90",e),...t}));$B.displayName=fB.displayName;function EQ(){const{toasts:e}=cE();return s.jsxs(NQ,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(AB,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(MB,{children:r}),n&&s.jsx($B,{children:n})]}),a,s.jsx(TB,{})]},t)}),s.jsx(OB,{})]})}var t2=["light","dark"],PQ="(prefers-color-scheme: dark)",OQ=y.createContext(void 0),AQ={setTheme:e=>{},themes:[]},TQ=()=>{var e;return(e=y.useContext(OQ))!=null?e:AQ};y.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=a?t2.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,v=!0)=>{let b=o?o[g]:g,x=p?g+"|| ''":`'${b}'`,w="";return a&&v&&!p&&t2.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?p||b?w+=`c.add(${x})`:w+="null":b&&(w+=`d[s](n,${x})`),w},m=e?`!function(){${d}${h(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${PQ}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${f}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var MQ=e=>{switch(e){case"success":return RQ;case"info":return LQ;case"warning":return DQ;case"error":return FQ;default:return null}},$Q=Array(12).fill(0),IQ=({visible:e,className:t})=>M.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},M.createElement("div",{className:"sonner-spinner"},$Q.map((r,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),BQ=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),UQ=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},jS=1,zQ=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;let{message:n,...a}=t,i=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:jS++,o=this.toasts.find(c=>c.id===i),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...t,id:i,title:n}),{...c,...t,id:i,dismissible:l,title:n}):c):this.addToast({title:n,...a,dismissible:l,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:t,dismiss:!0})),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let a=t instanceof Promise?t:t(),i=n!==void 0,o,l=a.then(async u=>{if(o=["resolve",u],M.isValidElement(u))i=!1,this.create({id:n,type:"default",message:u});else if(WQ(u)&&!u.ok){i=!1;let d=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,f=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description;this.create({id:n,type:"error",message:d,description:f})}else if(r.success!==void 0){i=!1;let d=typeof r.success=="function"?await r.success(u):r.success,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async u=>{if(o=["reject",u],r.error!==void 0){i=!1;let d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var u;i&&(this.dismiss(n),n=void 0),(u=r.finally)==null||u.call(r)}),c=()=>new Promise((u,d)=>l.then(()=>o[0]==="reject"?d(o[1]):u(o[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{let n=(r==null?void 0:r.id)||jS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Xn=new zQ,VQ=(e,t)=>{let r=(t==null?void 0:t.id)||jS++;return Xn.addToast({title:e,...t,id:r}),r},WQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",HQ=VQ,qQ=()=>Xn.toasts,GQ=()=>Xn.getActiveToasts(),le=Object.assign(HQ,{success:Xn.success,info:Xn.info,warning:Xn.warning,error:Xn.error,custom:Xn.custom,message:Xn.message,promise:Xn.promise,dismiss:Xn.dismiss,loading:Xn.loading},{getHistory:qQ,getToasts:GQ});function KQ(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}KQ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function xv(e){return e.label!==void 0}var YQ=3,JQ="32px",XQ="16px",r2=4e3,QQ=356,ZQ=14,eZ=20,tZ=200;function yi(...e){return e.filter(Boolean).join(" ")}function rZ(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var nZ=e=>{var t,r,n,a,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:v,visibleToasts:b,heights:x,index:w,toasts:_,expanded:S,removeToast:N,defaultRichColors:k,closeButton:P,style:A,cancelButtonStyle:T,actionButtonStyle:I,className:O="",descriptionClassName:L="",duration:$,position:F,gap:z,loadingIcon:V,expandByDefault:R,classNames:U,icons:K,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:ee}=e,[j,E]=M.useState(null),[C,B]=M.useState(null),[D,G]=M.useState(!1),[q,J]=M.useState(!1),[te,Y]=M.useState(!1),[be,ke]=M.useState(!1),[Je,He]=M.useState(!1),[Be,st]=M.useState(0),[Mt,St]=M.useState(0),H=M.useRef(m.duration||$||r2),W=M.useRef(null),X=M.useRef(null),de=w===0,ue=w+1<=b,ie=m.type,Ae=m.dismissible!==!1,ot=m.className||"",ut=m.descriptionClassName||"",rr=M.useMemo(()=>x.findIndex(Xe=>Xe.toastId===m.id)||0,[x,m.id]),za=M.useMemo(()=>{var Xe;return(Xe=m.closeButton)!=null?Xe:P},[m.closeButton,P]),ua=M.useMemo(()=>m.duration||$||r2,[m.duration,$]),Xl=M.useRef(0),Va=M.useRef(0),To=M.useRef(0),ts=M.useRef(null),[Ql,Oh]=F.split("-"),Zl=M.useMemo(()=>x.reduce((Xe,_t,$t)=>$t>=rr?Xe:Xe+_t.height,0),[x,rr]),Kg=UQ(),Yg=m.invert||h,Ru=ie==="loading";Va.current=M.useMemo(()=>rr*z+Zl,[rr,Zl]),M.useEffect(()=>{H.current=ua},[ua]),M.useEffect(()=>{G(!0)},[]),M.useEffect(()=>{let Xe=X.current;if(Xe){let _t=Xe.getBoundingClientRect().height;return St(_t),v($t=>[{toastId:m.id,height:_t,position:m.position},...$t]),()=>v($t=>$t.filter(Kn=>Kn.toastId!==m.id))}},[v,m.id]),M.useLayoutEffect(()=>{if(!D)return;let Xe=X.current,_t=Xe.style.height;Xe.style.height="auto";let $t=Xe.getBoundingClientRect().height;Xe.style.height=_t,St($t),v(Kn=>Kn.find(Yn=>Yn.toastId===m.id)?Kn.map(Yn=>Yn.toastId===m.id?{...Yn,height:$t}:Yn):[{toastId:m.id,height:$t,position:m.position},...Kn])},[D,m.title,m.description,v,m.id]);let mi=M.useCallback(()=>{J(!0),st(Va.current),v(Xe=>Xe.filter(_t=>_t.toastId!==m.id)),setTimeout(()=>{N(m)},tZ)},[m,N,v,Va]);M.useEffect(()=>{if(m.promise&&ie==="loading"||m.duration===1/0||m.type==="loading")return;let Xe;return S||p||ee&&Kg?(()=>{if(To.current<Xl.current){let _t=new Date().getTime()-Xl.current;H.current=H.current-_t}To.current=new Date().getTime()})():H.current!==1/0&&(Xl.current=new Date().getTime(),Xe=setTimeout(()=>{var _t;(_t=m.onAutoClose)==null||_t.call(m,m),mi()},H.current)),()=>clearTimeout(Xe)},[S,p,m,ie,ee,Kg,mi]),M.useEffect(()=>{m.delete&&mi()},[mi,m.delete]);function Jg(){var Xe,_t,$t;return K!=null&&K.loading?M.createElement("div",{className:yi(U==null?void 0:U.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader,"sonner-loader"),"data-visible":ie==="loading"},K.loading):V?M.createElement("div",{className:yi(U==null?void 0:U.loader,(_t=m==null?void 0:m.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":ie==="loading"},V):M.createElement(IQ,{className:yi(U==null?void 0:U.loader,($t=m==null?void 0:m.classNames)==null?void 0:$t.loader),visible:ie==="loading"})}return M.createElement("li",{tabIndex:0,ref:X,className:yi(O,ot,U==null?void 0:U.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,U==null?void 0:U.default,U==null?void 0:U[ie],(r=m==null?void 0:m.classNames)==null?void 0:r[ie]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":D,"data-promise":!!m.promise,"data-swiped":Je,"data-removed":q,"data-visible":ue,"data-y-position":Ql,"data-x-position":Oh,"data-index":w,"data-front":de,"data-swiping":te,"data-dismissible":Ae,"data-type":ie,"data-invert":Yg,"data-swipe-out":be,"data-swipe-direction":C,"data-expanded":!!(S||R&&D),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${q?Be:Va.current}px`,"--initial-height":R?"auto":`${Mt}px`,...A,...m.style},onDragEnd:()=>{Y(!1),E(null),ts.current=null},onPointerDown:Xe=>{Ru||!Ae||(W.current=new Date,st(Va.current),Xe.target.setPointerCapture(Xe.pointerId),Xe.target.tagName!=="BUTTON"&&(Y(!0),ts.current={x:Xe.clientX,y:Xe.clientY}))},onPointerUp:()=>{var Xe,_t,$t,Kn;if(be||!Ae)return;ts.current=null;let Yn=Number(((Xe=X.current)==null?void 0:Xe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pi=Number(((_t=X.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),rs=new Date().getTime()-(($t=W.current)==null?void 0:$t.getTime()),Jn=j==="x"?Yn:pi,gi=Math.abs(Jn)/rs;if(Math.abs(Jn)>=eZ||gi>.11){st(Va.current),(Kn=m.onDismiss)==null||Kn.call(m,m),B(j==="x"?Yn>0?"right":"left":pi>0?"down":"up"),mi(),ke(!0),He(!1);return}Y(!1),E(null)},onPointerMove:Xe=>{var _t,$t,Kn,Yn;if(!ts.current||!Ae||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let pi=Xe.clientY-ts.current.y,rs=Xe.clientX-ts.current.x,Jn=($t=e.swipeDirections)!=null?$t:rZ(F);!j&&(Math.abs(rs)>1||Math.abs(pi)>1)&&E(Math.abs(rs)>Math.abs(pi)?"x":"y");let gi={x:0,y:0};j==="y"?(Jn.includes("top")||Jn.includes("bottom"))&&(Jn.includes("top")&&pi<0||Jn.includes("bottom")&&pi>0)&&(gi.y=pi):j==="x"&&(Jn.includes("left")||Jn.includes("right"))&&(Jn.includes("left")&&rs<0||Jn.includes("right")&&rs>0)&&(gi.x=rs),(Math.abs(gi.x)>0||Math.abs(gi.y)>0)&&He(!0),(Kn=X.current)==null||Kn.style.setProperty("--swipe-amount-x",`${gi.x}px`),(Yn=X.current)==null||Yn.style.setProperty("--swipe-amount-y",`${gi.y}px`)}},za&&!m.jsx?M.createElement("button",{"aria-label":re,"data-disabled":Ru,"data-close-button":!0,onClick:Ru||!Ae?()=>{}:()=>{var Xe;mi(),(Xe=m.onDismiss)==null||Xe.call(m,m)},className:yi(U==null?void 0:U.closeButton,(a=m==null?void 0:m.classNames)==null?void 0:a.closeButton)},(i=K==null?void 0:K.close)!=null?i:BQ):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:M.createElement(M.Fragment,null,ie||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:yi(U==null?void 0:U.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Jg():null,m.type!=="loading"?m.icon||(K==null?void 0:K[ie])||MQ(ie):null):null,M.createElement("div",{"data-content":"",className:yi(U==null?void 0:U.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},M.createElement("div",{"data-title":"",className:yi(U==null?void 0:U.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?M.createElement("div",{"data-description":"",className:yi(L,ut,U==null?void 0:U.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&xv(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||T,onClick:Xe=>{var _t,$t;xv(m.cancel)&&Ae&&(($t=(_t=m.cancel).onClick)==null||$t.call(_t,Xe),mi())},className:yi(U==null?void 0:U.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&xv(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:Xe=>{var _t,$t;xv(m.action)&&(($t=(_t=m.action).onClick)==null||$t.call(_t,Xe),!Xe.defaultPrevented&&mi())},className:yi(U==null?void 0:U.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function n2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function aZ(e,t){let r={};return[e,t].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?XQ:JQ;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var iZ=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=YQ,toastOptions:p,dir:v=n2(),gap:b=ZQ,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[N,k]=M.useState([]),P=M.useMemo(()=>Array.from(new Set([n].concat(N.filter(ee=>ee.position).map(ee=>ee.position)))),[N,n]),[A,T]=M.useState([]),[I,O]=M.useState(!1),[L,$]=M.useState(!1),[F,z]=M.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=M.useRef(null),R=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=M.useRef(null),K=M.useRef(!1),re=M.useCallback(ee=>{k(j=>{var E;return(E=j.find(C=>C.id===ee.id))!=null&&E.delete||Xn.dismiss(ee.id),j.filter(({id:C})=>C!==ee.id)})},[]);return M.useEffect(()=>Xn.subscribe(ee=>{if(ee.dismiss){k(j=>j.map(E=>E.id===ee.id?{...E,delete:!0}:E));return}setTimeout(()=>{W5.flushSync(()=>{k(j=>{let E=j.findIndex(C=>C.id===ee.id);return E!==-1?[...j.slice(0,E),{...j[E],...ee},...j.slice(E+1)]:[ee,...j]})})})}),[]),M.useEffect(()=>{if(d!=="system"){z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:j})=>{z(j?"dark":"light")})}catch{ee.addListener(({matches:E})=>{try{z(E?"dark":"light")}catch(C){console.error(C)}})}},[d]),M.useEffect(()=>{N.length<=1&&O(!1)},[N]),M.useEffect(()=>{let ee=j=>{var E,C;a.every(B=>j[B]||j.code===B)&&(O(!0),(E=V.current)==null||E.focus()),j.code==="Escape"&&(document.activeElement===V.current||(C=V.current)!=null&&C.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[a]),M.useEffect(()=>{if(V.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,K.current=!1)}},[V.current]),M.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ee,j)=>{var E;let[C,B]=ee.split("-");return N.length?M.createElement("ol",{key:ee,dir:v==="auto"?n2():v,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":C,"data-lifted":I&&N.length>1&&!i,"data-x-position":B,style:{"--front-toast-height":`${((E=A[0])==null?void 0:E.height)||0}px`,"--width":`${QQ}px`,"--gap":`${b}px`,...m,...aZ(c,u)},onBlur:D=>{K.current&&!D.currentTarget.contains(D.relatedTarget)&&(K.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||K.current||(K.current=!0,U.current=D.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{L||O(!1)},onDragEnd:()=>O(!1),onPointerDown:D=>{D.target instanceof HTMLElement&&D.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},N.filter(D=>!D.position&&j===0||D.position===ee).map((D,G)=>{var q,J;return M.createElement(nZ,{key:D.id,icons:w,index:G,toast:D,defaultRichColors:f,duration:(q=p==null?void 0:p.duration)!=null?q:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(J=p==null?void 0:p.closeButton)!=null?J:o,interacting:L,position:ee,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:re,toasts:N.filter(te=>te.position==D.position),heights:A.filter(te=>te.position==D.position),setHeights:T,expandByDefault:i,gap:b,loadingIcon:x,expanded:I,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const sZ=({...e})=>{const{theme:t="system"}=TQ();return s.jsx(iZ,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oZ=r0[" useId ".trim().toString()]||(()=>{}),lZ=0;function Bi(e){const[t,r]=y.useState(oZ());return Sr(()=>{r(n=>n??String(lZ++))},[e]),t?`radix-${t}`:""}const cZ=["top","right","bottom","left"],El=Math.min,_a=Math.max,fx=Math.round,bv=Math.floor,ws=e=>({x:e,y:e}),uZ={left:"right",right:"left",bottom:"top",top:"bottom"},dZ={start:"end",end:"start"};function SS(e,t,r){return _a(e,El(t,r))}function mo(e,t){return typeof e=="function"?e(t):e}function po(e){return e.split("-")[0]}function oh(e){return e.split("-")[1]}function bE(e){return e==="x"?"y":"x"}function wE(e){return e==="y"?"height":"width"}const fZ=new Set(["top","bottom"]);function ms(e){return fZ.has(po(e))?"y":"x"}function _E(e){return bE(ms(e))}function hZ(e,t,r){r===void 0&&(r=!1);const n=oh(e),a=_E(e),i=wE(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=hx(o)),[o,hx(o)]}function mZ(e){const t=hx(e);return[NS(e),t,NS(t)]}function NS(e){return e.replace(/start|end/g,t=>dZ[t])}const a2=["left","right"],i2=["right","left"],pZ=["top","bottom"],gZ=["bottom","top"];function vZ(e,t,r){switch(e){case"top":case"bottom":return r?t?i2:a2:t?a2:i2;case"left":case"right":return t?pZ:gZ;default:return[]}}function yZ(e,t,r,n){const a=oh(e);let i=vZ(po(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(NS)))),i}function hx(e){return e.replace(/left|right|bottom|top/g,t=>uZ[t])}function xZ(e){return{top:0,right:0,bottom:0,left:0,...e}}function IB(e){return typeof e!="number"?xZ(e):{top:e,right:e,bottom:e,left:e}}function mx(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function s2(e,t,r){let{reference:n,floating:a}=e;const i=ms(t),o=_E(t),l=wE(o),c=po(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(oh(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const bZ=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=s2(u,n,c),h=n,m={},g=0;for(let p=0;p<l.length;p++){const{name:v,fn:b}=l[p],{x,y:w,data:_,reset:S}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=w??f,m={...m,[v]:{...m[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):S.rects),{x:d,y:f}=s2(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function ip(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=mo(t,e),g=IB(m),v=l[h?f==="floating"?"reference":"floating":f],b=mx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=mx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(b.top-S.top+g.top)/_.y,bottom:(S.bottom-b.bottom+g.bottom)/_.y,left:(b.left-S.left+g.left)/_.x,right:(S.right-b.right+g.right)/_.x}}const wZ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=mo(e,t)||{};if(u==null)return{};const f=IB(d),h={x:r,y:n},m=_E(a),g=wE(m),p=await o.getDimensions(u),v=m==="y",b=v?"top":"left",x=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],S=h[m]-i.reference[m],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=N?N[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[w]||i.floating[g]);const P=_/2-S/2,A=k/2-p[g]/2-1,T=El(f[b],A),I=El(f[x],A),O=T,L=k-p[g]-I,$=k/2-p[g]/2+P,F=SS(O,$,L),z=!c.arrow&&oh(a)!=null&&$!==F&&i.reference[g]/2-($<O?T:I)-p[g]/2<0,V=z?$<O?$-O:$-L:0;return{[m]:h[m]+V,data:{[m]:F,centerOffset:$-F-V,...z&&{alignmentOffset:V}},reset:z}}}),_Z=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=mo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=po(a),x=ms(l),w=po(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=h||(w||!p?[hx(l)]:mZ(l)),N=g!=="none";!h&&N&&S.push(...yZ(l,p,g,_));const k=[l,...S],P=await ip(t,v),A=[];let T=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(P[b]),f){const $=hZ(a,o,_);A.push(P[$[0]],P[$[1]])}if(T=[...T,{placement:a,overflows:A}],!A.every($=>$<=0)){var I,O;const $=(((I=i.flip)==null?void 0:I.index)||0)+1,F=k[$];if(F&&(!(f==="alignment"?x!==ms(F):!1)||T.every(R=>ms(R.placement)===x?R.overflows[0]>0:!0)))return{data:{index:$,overflows:T},reset:{placement:F}};let z=(O=T.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!z)switch(m){case"bestFit":{var L;const V=(L=T.filter(R=>{if(N){const U=ms(R.placement);return U===x||U==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(U=>U>0).reduce((U,K)=>U+K,0)]).sort((R,U)=>R[1]-U[1])[0])==null?void 0:L[0];V&&(z=V);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}};function o2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l2(e){return cZ.some(t=>e[t]>=0)}const jZ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=mo(e,t);switch(n){case"referenceHidden":{const i=await ip(t,{...a,elementContext:"reference"}),o=o2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:l2(o)}}}case"escaped":{const i=await ip(t,{...a,altBoundary:!0}),o=o2(i,r.floating);return{data:{escapedOffsets:o,escaped:l2(o)}}}default:return{}}}}},RB=new Set(["left","top"]);async function SZ(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=po(r),l=oh(r),c=ms(r)==="y",u=RB.has(o)?-1:1,d=i&&c?-1:1,f=mo(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const NZ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await SZ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},kZ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:b,y:x}=v;return{x:b,y:x}}},...c}=mo(e,t),u={x:r,y:n},d=await ip(t,c),f=ms(po(a)),h=bE(f);let m=u[h],g=u[f];if(i){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=m+d[v],w=m-d[b];m=SS(x,m,w)}if(o){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",x=g+d[v],w=g-d[b];g=SS(x,g,w)}const p=l.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[f]:o}}}}}},CZ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mo(e,t),d={x:r,y:n},f=ms(a),h=bE(f);let m=d[h],g=d[f];const p=mo(l,t),v=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+v.mainAxis,S=i.reference[h]+i.reference[w]-v.mainAxis;m<_?m=_:m>S&&(m=S)}if(u){var b,x;const w=h==="y"?"width":"height",_=RB.has(po(a)),S=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:v.crossAxis),N=i.reference[f]+i.reference[w]+(_?0:((x=o.offset)==null?void 0:x[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>N&&(g=N)}return{[h]:m,[f]:g}}}},EZ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=mo(e,t),d=await ip(t,u),f=po(a),h=oh(a),m=ms(a)==="y",{width:g,height:p}=i.floating;let v,b;f==="top"||f==="bottom"?(v=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,v=h==="end"?"top":"bottom");const x=p-d.top-d.bottom,w=g-d.left-d.right,_=El(p-d[v],x),S=El(g-d[b],w),N=!t.middlewareData.shift;let k=_,P=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),N&&!h){const T=_a(d.left,0),I=_a(d.right,0),O=_a(d.top,0),L=_a(d.bottom,0);m?P=g-2*(T!==0||I!==0?T+I:_a(d.left,d.right)):k=p-2*(O!==0||L!==0?O+L:_a(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:k});const A=await o.getDimensions(l.floating);return g!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}};function _0(){return typeof window<"u"}function lh(e){return DB(e)?(e.nodeName||"").toLowerCase():"#document"}function Oa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Os(e){var t;return(t=(DB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DB(e){return _0()?e instanceof Node||e instanceof Oa(e).Node:!1}function qi(e){return _0()?e instanceof Element||e instanceof Oa(e).Element:!1}function ks(e){return _0()?e instanceof HTMLElement||e instanceof Oa(e).HTMLElement:!1}function c2(e){return!_0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Oa(e).ShadowRoot}const PZ=new Set(["inline","contents"]);function wg(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!PZ.has(a)}const OZ=new Set(["table","td","th"]);function AZ(e){return OZ.has(lh(e))}const TZ=[":popover-open",":modal"];function j0(e){return TZ.some(t=>{try{return e.matches(t)}catch{return!1}})}const MZ=["transform","translate","scale","rotate","perspective"],$Z=["transform","translate","scale","rotate","perspective","filter"],IZ=["paint","layout","strict","content"];function jE(e){const t=SE(),r=qi(e)?Gi(e):e;return MZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||$Z.some(n=>(r.willChange||"").includes(n))||IZ.some(n=>(r.contain||"").includes(n))}function RZ(e){let t=Pl(e);for(;ks(t)&&!hf(t);){if(jE(t))return t;if(j0(t))return null;t=Pl(t)}return null}function SE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DZ=new Set(["html","body","#document"]);function hf(e){return DZ.has(lh(e))}function Gi(e){return Oa(e).getComputedStyle(e)}function S0(e){return qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pl(e){if(lh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c2(e)&&e.host||Os(e);return c2(t)?t.host:t}function LB(e){const t=Pl(e);return hf(t)?e.ownerDocument?e.ownerDocument.body:e.body:ks(t)&&wg(t)?t:LB(t)}function sp(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=LB(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Oa(a);if(i){const l=kS(o);return t.concat(o,o.visualViewport||[],wg(a)?a:[],l&&r?sp(l):[])}return t.concat(a,sp(a,[],r))}function kS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FB(e){const t=Gi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=ks(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=fx(r)!==i||fx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function NE(e){return qi(e)?e:e.contextElement}function Ld(e){const t=NE(e);if(!ks(t))return ws(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=FB(t);let o=(i?fx(r.width):r.width)/n,l=(i?fx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const LZ=ws(0);function BB(e){const t=Oa(e);return!SE()||!t.visualViewport?LZ:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function FZ(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Oa(e)?!1:t}function tu(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=NE(e);let o=ws(1);t&&(n?qi(n)&&(o=Ld(n)):o=Ld(e));const l=FZ(i,r,n)?BB(i):ws(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Oa(i),m=n&&qi(n)?Oa(n):n;let g=h,p=kS(g);for(;p&&n&&m!==g;){const v=Ld(p),b=p.getBoundingClientRect(),x=Gi(p),w=b.left+(p.clientLeft+parseFloat(x.paddingLeft))*v.x,_=b.top+(p.clientTop+parseFloat(x.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=w,u+=_,g=Oa(p),p=kS(g)}}return mx({width:d,height:f,x:c,y:u})}function N0(e,t){const r=S0(e).scrollLeft;return t?t.left+r:tu(Os(e)).left+r}function UB(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-N0(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function BZ(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Os(n),l=t?j0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=ws(1);const d=ws(0),f=ks(n);if((f||!f&&!i)&&((lh(n)!=="body"||wg(o))&&(c=S0(n)),ks(n))){const m=tu(n);u=Ld(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?UB(o,c):ws(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function UZ(e){return Array.from(e.getClientRects())}function zZ(e){const t=Os(e),r=S0(e),n=e.ownerDocument.body,a=_a(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=_a(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+N0(e);const l=-r.scrollTop;return Gi(n).direction==="rtl"&&(o+=_a(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}const u2=25;function VZ(e,t){const r=Oa(e),n=Os(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const d=SE();(!d||d&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=N0(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=u2&&(i-=g)}else u<=u2&&(i+=u);return{width:i,height:o,x:l,y:c}}const WZ=new Set(["absolute","fixed"]);function HZ(e,t){const r=tu(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=ks(e)?Ld(e):ws(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function d2(e,t,r){let n;if(t==="viewport")n=VZ(e,r);else if(t==="document")n=zZ(Os(e));else if(qi(t))n=HZ(t,r);else{const a=BB(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return mx(n)}function zB(e,t){const r=Pl(e);return r===t||!qi(r)||hf(r)?!1:Gi(r).position==="fixed"||zB(r,t)}function qZ(e,t){const r=t.get(e);if(r)return r;let n=sp(e,[],!1).filter(l=>qi(l)&&lh(l)!=="body"),a=null;const i=Gi(e).position==="fixed";let o=i?Pl(e):e;for(;qi(o)&&!hf(o);){const l=Gi(o),c=jE(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&WZ.has(a.position)||wg(o)&&!c&&zB(e,o))?n=n.filter(d=>d!==o):a=l,o=Pl(o)}return t.set(e,n),n}function GZ(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?j0(t)?[]:qZ(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=d2(t,d,a);return u.top=_a(f.top,u.top),u.right=El(f.right,u.right),u.bottom=El(f.bottom,u.bottom),u.left=_a(f.left,u.left),u},d2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function KZ(e){const{width:t,height:r}=FB(e);return{width:t,height:r}}function YZ(e,t,r){const n=ks(t),a=Os(t),i=r==="fixed",o=tu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=ws(0);function u(){c.x=N0(a)}if(n||!n&&!i)if((lh(t)!=="body"||wg(a))&&(l=S0(t)),n){const m=tu(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();i&&!n&&a&&u();const d=a&&!n&&!i?UB(a,l):ws(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function W_(e){return Gi(e).position==="static"}function f2(e,t){if(!ks(e)||Gi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Os(e)===r&&(r=r.ownerDocument.body),r}function VB(e,t){const r=Oa(e);if(j0(e))return r;if(!ks(e)){let a=Pl(e);for(;a&&!hf(a);){if(qi(a)&&!W_(a))return a;a=Pl(a)}return r}let n=f2(e,t);for(;n&&AZ(n)&&W_(n);)n=f2(n,t);return n&&hf(n)&&W_(n)&&!jE(n)?r:n||RZ(e)||r}const JZ=async function(e){const t=this.getOffsetParent||VB,r=this.getDimensions,n=await r(e.floating);return{reference:YZ(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function XZ(e){return Gi(e).direction==="rtl"}const QZ={convertOffsetParentRelativeRectToViewportRelativeRect:BZ,getDocumentElement:Os,getClippingRect:GZ,getOffsetParent:VB,getElementRects:JZ,getClientRects:UZ,getDimensions:KZ,getScale:Ld,isElement:qi,isRTL:XZ};function WB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ZZ(e,t){let r=null,n;const a=Os(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=bv(f),p=bv(a.clientWidth-(d+h)),v=bv(a.clientHeight-(f+m)),b=bv(d),w={rootMargin:-g+"px "+-p+"px "+-v+"px "+-b+"px",threshold:_a(0,El(1,c))||1};let _=!0;function S(N){const k=N[0].intersectionRatio;if(k!==c){if(!_)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!WB(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function eee(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=NE(e),d=a||i?[...u?sp(u):[],...sp(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?ZZ(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[x]=b;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?tu(e):null;c&&v();function v(){const b=tu(e);p&&!WB(p,b)&&r(),p=b,g=requestAnimationFrame(v)}return r(),()=>{var b;d.forEach(x=>{a&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const tee=NZ,ree=kZ,nee=_Z,aee=EZ,iee=jZ,h2=wZ,see=CZ,oee=(e,t,r)=>{const n=new Map,a={platform:QZ,...r},i={...a.platform,_c:n};return bZ(e,t,{...a,platform:i})};var lee=typeof document<"u",cee=function(){},Ny=lee?y.useLayoutEffect:cee;function px(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!px(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!px(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function HB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function m2(e,t){const r=HB(e);return Math.round(t*r)/r}function H_(e){const t=y.useRef(e);return Ny(()=>{t.current=e}),t}function uee(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);px(h,n)||m(n);const[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useCallback(R=>{R!==N.current&&(N.current=R,p(R))},[]),w=y.useCallback(R=>{R!==k.current&&(k.current=R,b(R))},[]),_=i||g,S=o||v,N=y.useRef(null),k=y.useRef(null),P=y.useRef(d),A=c!=null,T=H_(c),I=H_(a),O=H_(u),L=y.useCallback(()=>{if(!N.current||!k.current)return;const R={placement:t,strategy:r,middleware:h};I.current&&(R.platform=I.current),oee(N.current,k.current,R).then(U=>{const K={...U,isPositioned:O.current!==!1};$.current&&!px(P.current,K)&&(P.current=K,_u.flushSync(()=>{f(K)}))})},[h,t,r,I,O]);Ny(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const $=y.useRef(!1);Ny(()=>($.current=!0,()=>{$.current=!1}),[]),Ny(()=>{if(_&&(N.current=_),S&&(k.current=S),_&&S){if(T.current)return T.current(_,S,L);L()}},[_,S,L,T,A]);const F=y.useMemo(()=>({reference:N,floating:k,setReference:x,setFloating:w}),[x,w]),z=y.useMemo(()=>({reference:_,floating:S}),[_,S]),V=y.useMemo(()=>{const R={position:r,left:0,top:0};if(!z.floating)return R;const U=m2(z.floating,d.x),K=m2(z.floating,d.y);return l?{...R,transform:"translate("+U+"px, "+K+"px)",...HB(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:U,top:K}},[r,l,z.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:L,refs:F,elements:z,floatingStyles:V}),[d,L,F,z,V])}const dee=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?h2({element:n.current,padding:a}).fn(r):{}:n?h2({element:n,padding:a}).fn(r):{}}}},fee=(e,t)=>({...tee(e),options:[e,t]}),hee=(e,t)=>({...ree(e),options:[e,t]}),mee=(e,t)=>({...see(e),options:[e,t]}),pee=(e,t)=>({...nee(e),options:[e,t]}),gee=(e,t)=>({...aee(e),options:[e,t]}),vee=(e,t)=>({...iee(e),options:[e,t]}),yee=(e,t)=>({...dee(e),options:[e,t]});var xee="Arrow",qB=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Me.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});qB.displayName=xee;var bee=qB;function k0(e){const[t,r]=y.useState(void 0);return Sr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var kE="Popper",[GB,Dl]=gn(kE),[wee,KB]=GB(kE),YB=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return s.jsx(wee,{scope:t,anchor:n,onAnchorChange:a,children:r})};YB.displayName=kE;var JB="PopperAnchor",XB=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=KB(JB,r),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:s.jsx(Me.div,{...a,ref:l})});XB.displayName=JB;var CE="PopperContent",[_ee,jee]=GB(CE),QB=y.forwardRef((e,t)=>{var D,G,q,J,te,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,v=KB(CE,r),[b,x]=y.useState(null),w=Ke(t,be=>x(be)),[_,S]=y.useState(null),N=k0(_),k=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,A=n+(i!=="center"?"-"+i:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,L={padding:T,boundary:I.filter(Nee),altBoundary:O},{refs:$,floatingStyles:F,placement:z,isPositioned:V,middlewareData:R}=uee({strategy:"fixed",placement:A,whileElementsMounted:(...be)=>eee(...be,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[fee({mainAxis:a+P,alignmentAxis:o}),c&&hee({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mee():void 0,...L}),c&&pee({...L}),gee({...L,apply:({elements:be,rects:ke,availableWidth:Je,availableHeight:He})=>{const{width:Be,height:st}=ke.reference,Mt=be.floating.style;Mt.setProperty("--radix-popper-available-width",`${Je}px`),Mt.setProperty("--radix-popper-available-height",`${He}px`),Mt.setProperty("--radix-popper-anchor-width",`${Be}px`),Mt.setProperty("--radix-popper-anchor-height",`${st}px`)}}),_&&yee({element:_,padding:l}),kee({arrowWidth:k,arrowHeight:P}),h&&vee({strategy:"referenceHidden",...L})]}),[U,K]=t6(z),re=xr(g);Sr(()=>{V&&(re==null||re())},[V,re]);const ee=(D=R.arrow)==null?void 0:D.x,j=(G=R.arrow)==null?void 0:G.y,E=((q=R.arrow)==null?void 0:q.centerOffset)!==0,[C,B]=y.useState();return Sr(()=>{b&&B(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:V?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:C,"--radix-popper-transform-origin":[(J=R.transformOrigin)==null?void 0:J.x,(te=R.transformOrigin)==null?void 0:te.y].join(" "),...((Y=R.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(_ee,{scope:r,placedSide:U,onArrowChange:S,arrowX:ee,arrowY:j,shouldHideArrow:E,children:s.jsx(Me.div,{"data-side":U,"data-align":K,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});QB.displayName=CE;var ZB="PopperArrow",See={top:"bottom",right:"left",bottom:"top",left:"right"},e6=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=jee(ZB,n),o=See[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(bee,{...a,ref:r,style:{...a.style,display:"block"}})})});e6.displayName=ZB;function Nee(e){return e!==null}var kee=e=>({name:"transformOrigin",options:e,fn(t){var v,b,x;const{placement:r,rects:n,middlewareData:a}=t,o=((v=a.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=t6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+l/2,m=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function t6(e){const[t,r="center"]=e.split("-");return[t,r]}var EE=YB,_g=XB,C0=QB,E0=e6,Cee=Symbol("radix.slottable");function Eee(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Cee,t}var[P0]=gn("Tooltip",[Dl]),PE=Dl(),r6="TooltipProvider",Pee=700,p2="tooltip.open",[Oee,n6]=P0(r6),a6=e=>{const{__scopeTooltip:t,delayDuration:r=Pee,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=y.useRef(!0),l=y.useRef(!1),c=y.useRef(0);return y.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Oee,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:y.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};a6.displayName=r6;var i6="Tooltip",[g8e,O0]=P0(i6),CS="TooltipTrigger",Aee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=O0(CS,r),i=n6(CS,r),o=PE(r),l=y.useRef(null),c=Ke(t,l,a.onTriggerChange),u=y.useRef(!1),d=y.useRef(!1),f=y.useCallback(()=>u.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(_g,{asChild:!0,...o,children:s.jsx(Me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:he(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:he(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:he(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:he(e.onBlur,a.onClose),onClick:he(e.onClick,a.onClose)})})});Aee.displayName=CS;var Tee="TooltipPortal",[v8e,Mee]=P0(Tee,{forceMount:void 0}),mf="TooltipContent",s6=y.forwardRef((e,t)=>{const r=Mee(mf,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=O0(mf,e.__scopeTooltip);return s.jsx(Hr,{present:n||o.open,children:o.disableHoverableContent?s.jsx(o6,{side:a,...i,ref:t}):s.jsx($ee,{side:a,...i,ref:t})})}),$ee=y.forwardRef((e,t)=>{const r=O0(mf,e.__scopeTooltip),n=n6(mf,e.__scopeTooltip),a=y.useRef(null),i=Ke(t,a),[o,l]=y.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=y.useCallback(()=>{l(null),f(!1)},[f]),m=y.useCallback((g,p)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},x=Fee(b,v.getBoundingClientRect()),w=Bee(b,x),_=Uee(p.getBoundingClientRect()),S=Vee([...w,..._]);l(S),f(!0)},[f]);return y.useEffect(()=>()=>h(),[h]),y.useEffect(()=>{if(c&&d){const g=v=>m(v,d),p=v=>m(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),y.useEffect(()=>{if(o){const g=p=>{const v=p.target,b={x:p.clientX,y:p.clientY},x=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),w=!zee(b,o);x?h():w&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),s.jsx(o6,{...e,ref:i})}),[Iee,Ree]=P0(i6,{isInside:!1}),Dee=Eee("TooltipContent"),o6=y.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=O0(mf,r),u=PE(r),{onClose:d}=c;return y.useEffect(()=>(document.addEventListener(p2,d),()=>document.removeEventListener(p2,d)),[d]),y.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(C0,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Dee,{children:n}),s.jsx(Iee,{scope:r,isInside:!0,children:s.jsx(JJ,{id:c.contentId,role:"tooltip",children:a||n})})]})})});s6.displayName=mf;var l6="TooltipArrow",Lee=y.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=PE(r);return Ree(l6,r).isInside?null:s.jsx(E0,{...a,...n,ref:t})});Lee.displayName=l6;function Fee(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Bee(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Uee(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function zee(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Vee(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Wee(t)}function Wee(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Hee=a6,c6=s6;const qee=Hee,Gee=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(c6,{ref:n,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Gee.displayName=c6.displayName;var A0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kee={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},el,mC,jF,Yee=(jF=class{constructor(){ht(this,el,Kee);ht(this,mC,!1)}setTimeoutProvider(e){Qe(this,el,e)}setTimeout(e,t){return ae(this,el).setTimeout(e,t)}clearTimeout(e){ae(this,el).clearTimeout(e)}setInterval(e,t){return ae(this,el).setInterval(e,t)}clearInterval(e){ae(this,el).clearInterval(e)}},el=new WeakMap,mC=new WeakMap,jF),ES=new Yee;function Jee(e){setTimeout(e,0)}var T0=typeof window>"u"||"Deno"in globalThis;function Ni(){}function Xee(e,t){return typeof e=="function"?e(t):e}function Qee(e){return typeof e=="number"&&e>=0&&e!==1/0}function Zee(e,t){return Math.max(e+(t||0)-Date.now(),0)}function PS(e,t){return typeof e=="function"?e(t):e}function ete(e,t){return typeof e=="function"?e(t):e}function g2(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==OE(o,t.options))return!1}else if(!lp(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function v2(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(op(t.options.mutationKey)!==op(i))return!1}else if(!lp(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function OE(e,t){return((t==null?void 0:t.queryKeyHashFn)||op)(e)}function op(e){return JSON.stringify(e,(t,r)=>OS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function lp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>lp(e[r],t[r])):!1}var tte=Object.prototype.hasOwnProperty;function u6(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=y2(e)&&y2(t);if(!n&&!(OS(e)&&OS(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:tte.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=u6(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function y2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function OS(e){if(!x2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!x2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function x2(e){return Object.prototype.toString.call(e)==="[object Object]"}function rte(e){return new Promise(t=>{ES.setTimeout(t,e)})}function nte(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?u6(e,t):t}function ate(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function ite(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var AE=Symbol();function d6(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===AE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ste(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Mc,tl,Kd,SF,ote=(SF=class extends A0{constructor(){super();ht(this,Mc);ht(this,tl);ht(this,Kd);Qe(this,Kd,t=>{if(!T0&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ae(this,tl)||this.setEventListener(ae(this,Kd))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,tl))==null||t.call(this),Qe(this,tl,void 0))}setEventListener(t){var r;Qe(this,Kd,t),(r=ae(this,tl))==null||r.call(this),Qe(this,tl,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){ae(this,Mc)!==t&&(Qe(this,Mc,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof ae(this,Mc)=="boolean"?ae(this,Mc):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Mc=new WeakMap,tl=new WeakMap,Kd=new WeakMap,SF),f6=new ote;function lte(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var cte=Jee;function ute(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=cte;const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Rn=ute(),Yd,rl,Jd,NF,dte=(NF=class extends A0{constructor(){super();ht(this,Yd,!0);ht(this,rl);ht(this,Jd);Qe(this,Jd,t=>{if(!T0&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ae(this,rl)||this.setEventListener(ae(this,Jd))}onUnsubscribe(){var t;this.hasListeners()||((t=ae(this,rl))==null||t.call(this),Qe(this,rl,void 0))}setEventListener(t){var r;Qe(this,Jd,t),(r=ae(this,rl))==null||r.call(this),Qe(this,rl,t(this.setOnline.bind(this)))}setOnline(t){ae(this,Yd)!==t&&(Qe(this,Yd,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return ae(this,Yd)}},Yd=new WeakMap,rl=new WeakMap,Jd=new WeakMap,NF),gx=new dte;function fte(e){return Math.min(1e3*2**e,3e4)}function h6(e){return(e??"online")==="online"?gx.isOnline():!0}var AS=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function m6(e){let t=!1,r=0,n;const a=lte(),i=()=>a.status!=="pending",o=p=>{var v;if(!i()){const b=new AS(p);h(b),(v=e.onCancel)==null||v.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>f6.isFocused()&&(e.networkMode==="always"||gx.isOnline())&&e.canRun(),d=()=>h6(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),a.resolve(p))},h=p=>{i()||(n==null||n(),a.reject(p))},m=()=>new Promise(p=>{var v;n=b=>{(i()||u())&&p(b)},(v=e.onPause)==null||v.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const v=r===0?e.initialPromise:void 0;try{p=v??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var N;if(i())return;const x=e.retry??(T0?0:3),w=e.retryDelay??fte,_=typeof w=="function"?w(r,b):w,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,b);if(t||!S){h(b);return}r++,(N=e.onFail)==null||N.call(e,r,b),rte(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}var $c,kF,p6=(kF=class{constructor(){ht(this,$c)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qee(this.gcTime)&&Qe(this,$c,ES.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(T0?1/0:5*60*1e3))}clearGcTimeout(){ae(this,$c)&&(ES.clearTimeout(ae(this,$c)),Qe(this,$c,void 0))}},$c=new WeakMap,kF),Ic,Xd,Ga,Rc,Gr,ug,Dc,Ci,Bs,CF,hte=(CF=class extends p6{constructor(t){super();ht(this,Ci);ht(this,Ic);ht(this,Xd);ht(this,Ga);ht(this,Rc);ht(this,Gr);ht(this,ug);ht(this,Dc);Qe(this,Dc,!1),Qe(this,ug,t.defaultOptions),this.setOptions(t.options),this.observers=[],Qe(this,Rc,t.client),Qe(this,Ga,ae(this,Rc).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Qe(this,Ic,w2(this.options)),this.state=t.state??ae(this,Ic),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=ae(this,Gr))==null?void 0:t.promise}setOptions(t){if(this.options={...ae(this,ug),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=w2(this.options);r.data!==void 0&&(this.setState(b2(r.data,r.dataUpdatedAt)),Qe(this,Ic,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Ga).remove(this)}setData(t,r){const n=nte(this.state.data,t,this.options);return vn(this,Ci,Bs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){vn(this,Ci,Bs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=ae(this,Gr))==null?void 0:n.promise;return(a=ae(this,Gr))==null||a.cancel(t),r?r.then(Ni).catch(Ni):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Ic))}isActive(){return this.observers.some(t=>ete(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===AE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>PS(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Zee(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Gr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=ae(this,Gr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),ae(this,Ga).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(ae(this,Gr)&&(ae(this,Dc)?ae(this,Gr).cancel({revert:!0}):ae(this,Gr).cancelRetry()),this.scheduleGc()),ae(this,Ga).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||vn(this,Ci,Bs).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,v,b,x,w;if(this.state.fetchStatus!=="idle"&&((c=ae(this,Gr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Gr))return ae(this,Gr).continueRetry(),ae(this,Gr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,a=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Qe(this,Dc,!0),n.signal)})},i=()=>{const _=d6(this.options,r),N=(()=>{const k={client:ae(this,Rc),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return Qe(this,Dc,!1),this.options.persister?this.options.persister(_,N,this):_(N)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ae(this,Rc),state:this.state,fetchFn:i};return a(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Qe(this,Xd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&vn(this,Ci,Bs).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Qe(this,Gr,m6({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof AS&&_.revert&&this.setState({...ae(this,Xd),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{vn(this,Ci,Bs).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{vn(this,Ci,Bs).call(this,{type:"pause"})},onContinue:()=>{vn(this,Ci,Bs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await ae(this,Gr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=ae(this,Ga).config).onSuccess)==null||m.call(h,_,this),(p=(g=ae(this,Ga).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof AS){if(_.silent)return ae(this,Gr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw vn(this,Ci,Bs).call(this,{type:"error",error:_}),(b=(v=ae(this,Ga).config).onError)==null||b.call(v,_,this),(w=(x=ae(this,Ga).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},Ic=new WeakMap,Xd=new WeakMap,Ga=new WeakMap,Rc=new WeakMap,Gr=new WeakMap,ug=new WeakMap,Dc=new WeakMap,Ci=new WeakSet,Bs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mte(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...b2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Qe(this,Xd,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Rn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ae(this,Ga).notify({query:this,type:"updated",action:t})})},CF);function mte(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function b2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function w2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function _2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const v=w=>{ste(w,()=>t.signal,()=>p=!0)},b=d6(t.options,t.fetchOptions),x=async(w,_,S)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return v(I),I})(),P=await b(k),{maxPages:A}=t.options,T=S?ite:ate;return{pages:T(w.pages,P,A),pageParams:T(w.pageParams,_,A)}};if(a&&i.length){const w=a==="backward",_=w?pte:j2,S={pages:i,pageParams:o},N=_(n,S);l=await x(S,N,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:j2(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,v;return(v=(p=t.options).persister)==null?void 0:v.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function j2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pte(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var dg,os,Tn,Lc,ls,Bo,EF,gte=(EF=class extends p6{constructor(t){super();ht(this,ls);ht(this,dg);ht(this,os);ht(this,Tn);ht(this,Lc);Qe(this,dg,t.client),this.mutationId=t.mutationId,Qe(this,Tn,t.mutationCache),Qe(this,os,[]),this.state=t.state||vte(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){ae(this,os).includes(t)||(ae(this,os).push(t),this.clearGcTimeout(),ae(this,Tn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Qe(this,os,ae(this,os).filter(r=>r!==t)),this.scheduleGc(),ae(this,Tn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){ae(this,os).length||(this.state.status==="pending"?this.scheduleGc():ae(this,Tn).remove(this))}continue(){var t;return((t=ae(this,Lc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,A;const r=()=>{vn(this,ls,Bo).call(this,{type:"continue"})},n={client:ae(this,dg),meta:this.options.meta,mutationKey:this.options.mutationKey};Qe(this,Lc,m6({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,I)=>{vn(this,ls,Bo).call(this,{type:"failed",failureCount:T,error:I})},onPause:()=>{vn(this,ls,Bo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,Tn).canRun(this)}));const a=this.state.status==="pending",i=!ae(this,Lc).canStart();try{if(a)r();else{vn(this,ls,Bo).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(o=ae(this,Tn).config).onMutate)==null?void 0:l.call(o,t,this,n));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,n));I!==this.state.context&&vn(this,ls,Bo).call(this,{type:"pending",context:I,variables:t,isPaused:i})}const T=await ae(this,Lc).start();return await((f=(d=ae(this,Tn).config).onSuccess)==null?void 0:f.call(d,T,t,this.state.context,this,n)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,T,t,this.state.context,n)),await((p=(g=ae(this,Tn).config).onSettled)==null?void 0:p.call(g,T,null,this.state.variables,this.state.context,this,n)),await((b=(v=this.options).onSettled)==null?void 0:b.call(v,T,null,t,this.state.context,n)),vn(this,ls,Bo).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(x=ae(this,Tn).config).onError)==null?void 0:w.call(x,T,t,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((S=(_=this.options).onError)==null?void 0:S.call(_,T,t,this.state.context,n))}catch(I){Promise.reject(I)}try{await((k=(N=ae(this,Tn).config).onSettled)==null?void 0:k.call(N,void 0,T,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,T,t,this.state.context,n))}catch(I){Promise.reject(I)}throw vn(this,ls,Bo).call(this,{type:"error",error:T}),T}finally{ae(this,Tn).runNext(this)}}},dg=new WeakMap,os=new WeakMap,Tn=new WeakMap,Lc=new WeakMap,ls=new WeakSet,Bo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Rn.batch(()=>{ae(this,os).forEach(n=>{n.onMutationUpdate(t)}),ae(this,Tn).notify({mutation:this,type:"updated",action:t})})},EF);function vte(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ys,Ei,fg,PF,yte=(PF=class extends A0{constructor(t={}){super();ht(this,Ys);ht(this,Ei);ht(this,fg);this.config=t,Qe(this,Ys,new Set),Qe(this,Ei,new Map),Qe(this,fg,0)}build(t,r,n){const a=new gte({client:t,mutationCache:this,mutationId:++Qg(this,fg)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){ae(this,Ys).add(t);const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r);n?n.push(t):ae(this,Ei).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(ae(this,Ys).delete(t)){const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&ae(this,Ei).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=wv(t);if(typeof r=="string"){const n=ae(this,Ei).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=wv(t);if(typeof r=="string"){const a=(n=ae(this,Ei).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rn.batch(()=>{ae(this,Ys).forEach(t=>{this.notify({type:"removed",mutation:t})}),ae(this,Ys).clear(),ae(this,Ei).clear()})}getAll(){return Array.from(ae(this,Ys))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>v2(r,n))}findAll(t={}){return this.getAll().filter(r=>v2(t,r))}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Rn.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ni))))}},Ys=new WeakMap,Ei=new WeakMap,fg=new WeakMap,PF);function wv(e){var t;return(t=e.options.scope)==null?void 0:t.id}var cs,OF,xte=(OF=class extends A0{constructor(t={}){super();ht(this,cs);this.config=t,Qe(this,cs,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??OE(a,r);let o=this.get(i);return o||(o=new hte({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){ae(this,cs).has(t.queryHash)||(ae(this,cs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=ae(this,cs).get(t.queryHash);r&&(t.destroy(),r===t&&ae(this,cs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return ae(this,cs).get(t)}getAll(){return[...ae(this,cs).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>g2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>g2(t,n)):r}notify(t){Rn.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},cs=new WeakMap,OF),pr,nl,al,Qd,Zd,il,ef,tf,AF,bte=(AF=class{constructor(e={}){ht(this,pr);ht(this,nl);ht(this,al);ht(this,Qd);ht(this,Zd);ht(this,il);ht(this,ef);ht(this,tf);Qe(this,pr,e.queryCache||new xte),Qe(this,nl,e.mutationCache||new yte),Qe(this,al,e.defaultOptions||{}),Qe(this,Qd,new Map),Qe(this,Zd,new Map),Qe(this,il,0)}mount(){Qg(this,il)._++,ae(this,il)===1&&(Qe(this,ef,f6.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,pr).onFocus())})),Qe(this,tf,gx.subscribe(async e=>{e&&(await this.resumePausedMutations(),ae(this,pr).onOnline())})))}unmount(){var e,t;Qg(this,il)._--,ae(this,il)===0&&((e=ae(this,ef))==null||e.call(this),Qe(this,ef,void 0),(t=ae(this,tf))==null||t.call(this),Qe(this,tf,void 0))}isFetching(e){return ae(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ae(this,nl).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,pr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ae(this,pr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(PS(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ae(this,pr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=ae(this,pr).get(n.queryHash),i=a==null?void 0:a.state.data,o=Xee(t,i);if(o!==void 0)return ae(this,pr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Rn.batch(()=>ae(this,pr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=ae(this,pr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=ae(this,pr);Rn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ae(this,pr);return Rn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Rn.batch(()=>ae(this,pr).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ni).catch(Ni)}invalidateQueries(e,t={}){return Rn.batch(()=>(ae(this,pr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Rn.batch(()=>ae(this,pr).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ni)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ni)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ae(this,pr).build(this,t);return r.isStaleByTime(PS(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ni).catch(Ni)}fetchInfiniteQuery(e){return e.behavior=_2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ni).catch(Ni)}ensureInfiniteQueryData(e){return e.behavior=_2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gx.isOnline()?ae(this,nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,pr)}getMutationCache(){return ae(this,nl)}getDefaultOptions(){return ae(this,al)}setDefaultOptions(e){Qe(this,al,e)}setQueryDefaults(e,t){ae(this,Qd).set(op(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ae(this,Qd).values()],r={};return t.forEach(n=>{lp(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ae(this,Zd).set(op(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ae(this,Zd).values()],r={};return t.forEach(n=>{lp(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ae(this,al).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=OE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===AE&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ae(this,al).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ae(this,pr).clear(),ae(this,nl).clear()}},pr=new WeakMap,nl=new WeakMap,al=new WeakMap,Qd=new WeakMap,Zd=new WeakMap,il=new WeakMap,ef=new WeakMap,tf=new WeakMap,AF),wte=y.createContext(void 0),_te=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(wte.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(this,arguments)}var ll;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ll||(ll={}));const S2="popstate";function jte(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return TS("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:vx(a)}return Nte(t,r,null,e)}function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function TE(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ste(){return Math.random().toString(36).substr(2,8)}function N2(e,t){return{usr:e.state,key:e.key,idx:t}}function TS(e,t,r,n){return r===void 0&&(r=null),cp({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ch(t):t,{state:r,key:t&&t.key||n||Ste()})}function vx(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ch(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Nte(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ll.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(cp({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ll.Pop;let v=d(),b=v==null?null:v-u;u=v,c&&c({action:l,location:p.location,delta:b})}function h(v,b){l=ll.Push;let x=TS(p.location,v,b);u=d()+1;let w=N2(x,u),_=p.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(v,b){l=ll.Replace;let x=TS(p.location,v,b);u=d();let w=N2(x,u),_=p.createHref(x);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(v){let b=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof v=="string"?v:vx(v);return x=x.replace(/ $/,"%20"),jr(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let p={get action(){return l},get location(){return e(a,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(S2,f),c=v,()=>{a.removeEventListener(S2,f),c=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let b=g(v);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(v){return o.go(v)}};return p}var k2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(k2||(k2={}));function kte(e,t,r){return r===void 0&&(r="/"),Cte(e,t,r)}function Cte(e,t,r,n){let a=typeof t=="string"?ch(t):t,i=ME(a.pathname||"/",r);if(i==null)return null;let o=g6(e);Ete(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Bte(i);l=Dte(o[c],u)}return l}function g6(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(jr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=bl([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(jr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),g6(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Ite(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of v6(i.path))a(i,o,c)}),t}function v6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=v6(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ete(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Rte(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Pte=/^:[\w-]+$/,Ote=3,Ate=2,Tte=1,Mte=10,$te=-2,C2=e=>e==="*";function Ite(e,t){let r=e.split("/"),n=r.length;return r.some(C2)&&(n+=$te),t&&(n+=Ate),r.filter(a=>!C2(a)).reduce((a,i)=>a+(Pte.test(i)?Ote:i===""?Tte:Mte),n)}function Rte(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Dte(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Lte({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:bl([i,f.pathname]),pathnameBase:Hte(bl([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=bl([i,f.pathnameBase]))}return o}function Lte(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Fte(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Fte(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),TE(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Bte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return TE(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ME(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Ute=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zte=e=>Ute.test(e);function Vte(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ch(e):e,i;if(r)if(zte(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),TE(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=E2(r.substring(1),"/"):i=E2(r,t)}else i=t;return{pathname:i,search:qte(n),hash:Gte(a)}}function E2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function q_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wte(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $E(e,t){let r=Wte(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IE(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ch(e):(a=cp({},e),jr(!a.pathname||!a.pathname.includes("?"),q_("?","pathname","search",a)),jr(!a.pathname||!a.pathname.includes("#"),q_("#","pathname","hash",a)),jr(!a.search||!a.search.includes("#"),q_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Vte(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bl=e=>e.join("/").replace(/\/\/+/g,"/"),Hte=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Gte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Kte(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const y6=["post","put","patch","delete"];new Set(y6);const Yte=["get",...y6];new Set(Yte);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(this,arguments)}const RE=y.createContext(null),Jte=y.createContext(null),Ll=y.createContext(null),M0=y.createContext(null),Fl=y.createContext({outlet:null,matches:[],isDataRoute:!1}),x6=y.createContext(null);function Xte(e,t){let{relative:r}=t===void 0?{}:t;uh()||jr(!1);let{basename:n,navigator:a}=y.useContext(Ll),{hash:i,pathname:o,search:l}=w6(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:bl([n,o])),a.createHref({pathname:c,search:l,hash:i})}function uh(){return y.useContext(M0)!=null}function As(){return uh()||jr(!1),y.useContext(M0).location}function b6(e){y.useContext(Ll).static||y.useLayoutEffect(e)}function On(){let{isDataRoute:e}=y.useContext(Fl);return e?ure():Qte()}function Qte(){uh()||jr(!1);let e=y.useContext(RE),{basename:t,future:r,navigator:n}=y.useContext(Ll),{matches:a}=y.useContext(Fl),{pathname:i}=As(),o=JSON.stringify($E(a,r.v7_relativeSplatPath)),l=y.useRef(!1);return b6(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=IE(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:bl([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}function w6(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Ll),{matches:a}=y.useContext(Fl),{pathname:i}=As(),o=JSON.stringify($E(a,n.v7_relativeSplatPath));return y.useMemo(()=>IE(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Zte(e,t){return ere(e,t)}function ere(e,t,r,n){uh()||jr(!1);let{navigator:a}=y.useContext(Ll),{matches:i}=y.useContext(Fl),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=As(),d;if(t){var f;let v=typeof t=="string"?ch(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||jr(!1),d=v}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=kte(e,{pathname:m}),p=ire(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:bl([c,a.encodeLocation?a.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:bl([c,a.encodeLocation?a.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&p?y.createElement(M0.Provider,{value:{location:up({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ll.Pop}},p):p}function tre(){let e=cre(),t=Kte(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,null)}const rre=y.createElement(tre,null);class nre extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Fl.Provider,{value:this.props.routeContext},y.createElement(x6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function are(e){let{routeContext:t,match:r,children:n}=e,a=y.useContext(RE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Fl.Provider,{value:t},n)}function ire(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||jr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,v=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||rre,c&&(u<0&&h===0?(dre("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),x=()=>{let w;return m?w=p:g?w=v:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(are,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(nre,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:x(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):x()},null)}var _6=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_6||{}),j6=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(j6||{});function sre(e){let t=y.useContext(RE);return t||jr(!1),t}function ore(e){let t=y.useContext(Jte);return t||jr(!1),t}function lre(e){let t=y.useContext(Fl);return t||jr(!1),t}function S6(e){let t=lre(),r=t.matches[t.matches.length-1];return r.route.id||jr(!1),r.route.id}function cre(){var e;let t=y.useContext(x6),r=ore(),n=S6();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function ure(){let{router:e}=sre(_6.UseNavigateStable),t=S6(j6.UseNavigateStable),r=y.useRef(!1);return b6(()=>{r.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,up({fromRouteId:t},i)))},[e,t])}const P2={};function dre(e,t,r){P2[e]||(P2[e]=!0)}function fre(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function O2(e){let{to:t,replace:r,state:n,relative:a}=e;uh()||jr(!1);let{future:i,static:o}=y.useContext(Ll),{matches:l}=y.useContext(Fl),{pathname:c}=As(),u=On(),d=IE(t,$E(l,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function fa(e){jr(!1)}function hre(e){let{basename:t="/",children:r=null,location:n,navigationType:a=ll.Pop,navigator:i,static:o=!1,future:l}=e;uh()&&jr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:up({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ch(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let v=ME(d,c);return v==null?null:{location:{pathname:v,search:f,hash:h,state:m,key:g},navigationType:a}},[c,d,f,h,m,g,a]);return p==null?null:y.createElement(Ll.Provider,{value:u},y.createElement(M0.Provider,{children:r,value:p}))}function mre(e){let{children:t,location:r}=e;return Zte(MS(t),r)}new Promise(()=>{});function MS(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,MS(n.props.children,i));return}n.type!==fa&&jr(!1),!n.props.index||!n.props.children||jr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=MS(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$S.apply(this,arguments)}function pre(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function gre(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vre(e,t){return e.button===0&&(!t||t==="_self")&&!gre(e)}function IS(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function yre(e,t){let r=IS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const xre=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bre="6";try{window.__reactRouterVersion=bre}catch{}const wre="startTransition",A2=r0[wre];function _re(e){let{basename:t,children:r,future:n,window:a}=e,i=y.useRef();i.current==null&&(i.current=jte({window:a,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&A2?A2(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>fre(n),[n]),y.createElement(hre,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const jre=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Sre=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=y.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=pre(t,xre),{basename:m}=y.useContext(Ll),g,p=!1;if(typeof u=="string"&&Sre.test(u)&&(g=u,jre))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=ME(_.pathname,m);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:p=!0}catch{}let v=Xte(u,{relative:a}),b=Nre(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function x(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",$S({},h,{href:g||v,onClick:p||i?n:x,ref:r,target:c}))});var T2;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T2||(T2={}));var M2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M2||(M2={}));function Nre(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=On(),u=As(),d=w6(e,{relative:o});return y.useCallback(f=>{if(vre(f,r)){f.preventDefault();let h=n!==void 0?n:vx(u)===vx(d);c(e,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,a,r,e,i,o,l])}function DE(e){let t=y.useRef(IS(e)),r=y.useRef(!1),n=As(),a=y.useMemo(()=>yre(n.search,r.current?null:t.current),[n.search]),i=On(),o=y.useCallback((l,c)=>{const u=IS(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var fs=function(){return fs=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fs.apply(this,arguments)};function dh(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function kre(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function Cre(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const Ere=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class LE extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Pre extends LE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $2 extends LE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class I2 extends LE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var RS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(RS||(RS={}));class Ore{constructor(t,{headers:r={},customFetch:n,region:a=RS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=Ere(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kre(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let v=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(v=o.signal,d.addEventListener("abort",()=>o.abort())):v=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:v}).catch(S=>{throw new Pre(S)}),x=b.headers.get("x-relay-error");if(x&&x==="true")throw new $2(b);if(!b.ok)throw new I2(b);let w=((a=b.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof I2||l instanceof $2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Are=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Tre=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),v=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&v&&v.length>1&&(c=parseInt(v[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new Are(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},Mre=class extends Tre{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const R2=new RegExp("[,()]");var td=class extends Mre{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&R2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&R2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$re=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new td({method:a,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new td({method:a,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new td({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new td({method:n,url:a,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new td({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Ire=class N6{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $re(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new N6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||a?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new td({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Rre{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Dre="2.90.1",Lre=`realtime-js/${Dre}`,k6="1.0.0",Fre="2.0.0",D2=k6,DS=1e4,Bre=1e3,Ure=100;var qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qo||(qo={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var Oi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Oi||(Oi={}));var LS;(function(e){e.websocket="websocket"})(LS||(LS={}));var yc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yc||(yc={}));class zre{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var a,i;const o=t.topic,l=(a=t.ref)!==null&&a!==void 0?a:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var v=new Uint8Array(m.byteLength+n.byteLength);return v.set(new Uint8Array(m),0),v.set(new Uint8Array(n),m.byteLength),v.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,l,c]=n;return r({join_ref:a,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+a));c=c+a;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class C6{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ft;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ft||(Ft={}));const L2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Vre(o,e,t,a),i),{}):{}},Vre=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?E6(i,o):FS(o)},E6=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Gre(t,r)}switch(e){case Ft.bool:return Wre(t);case Ft.float4:case Ft.float8:case Ft.int2:case Ft.int4:case Ft.int8:case Ft.numeric:case Ft.oid:return Hre(t);case Ft.json:case Ft.jsonb:return qre(t);case Ft.timestamp:return Kre(t);case Ft.abstime:case Ft.date:case Ft.daterange:case Ft.int4range:case Ft.int8range:case Ft.money:case Ft.reltime:case Ft.text:case Ft.time:case Ft.timestamptz:case Ft.timetz:case Ft.tsrange:case Ft.tstzrange:return FS(t);default:return FS(t)}},FS=e=>e,Wre=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hre=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qre=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Gre=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>E6(t,l))}return e},Kre=e=>typeof e=="string"?e.replace(" ","T"):e,P6=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class G_{constructor(t,r,n={},a=DS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var F2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(F2||(F2={}));class Em{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Em.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Em.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Em.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(v=>v.presence_ref),m=f.map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0),p=f.filter(v=>h.indexOf(v.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(B2||(B2={}));var Pm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pm||(Pm={}));var Vs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vs||(Vs={}));class wd{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new G_(this,Oi.join,this.params,this.timeout),this.rejoinTimer=new C6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Oi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Em(this),this.broadcastEndpointURL=P6(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Pm.PRESENCE]&&this.bindings[Pm.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Vs.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Vs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Vs.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let x=0;x<v;x++){const w=p[x],{filter:{event:_,schema:S,table:N,filter:k}}=w,P=m&&m[x];if(P&&P.event===_&&wd.isFilterValueEqual(P.schema,S)&&wd.isFilterValueEqual(P.table,N)&&wd.isFilterValueEqual(P.filter,k))b.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(Vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Vs.SUBSCRIBED);return}}).receive("error",m=>{this.state=Dr.errored,t==null||t(Vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===Pm.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Oi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new G_(this,Oi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new G_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ure){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Oi;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,p,v;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(p=m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,v,b,x,w,_,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const N=m.id,k=(g=m.filter)===null||g===void 0?void 0:g.event;return N&&((p=r.ids)===null||p===void 0?void 0:p.includes(N))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((b=m.filter)===null||b===void 0)&&b.table)||m.filter.table===((x=r.data)===null||x===void 0?void 0:x.table))}else{const N=(_=(w=m==null?void 0:m.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return N==="*"||N===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:v,commit_timestamp:b,type:x,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:v,commit_timestamp:b,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&wd.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Oi.close,{},t)}_onError(t){this._on(Oi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=L2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=L2(t.columns,t.old_record)),r}}const K_=()=>{},_v={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yre=[1e3,2e3,5e3,1e4],Jre=1e4,Xre=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qre{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DS,this.transport=null,this.heartbeatIntervalMs=_v.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=K_,this.ref=0,this.reconnectTimer=null,this.vsn=D2,this.logger=K_,this.conn=null,this.sendBuffer=[],this.serializer=new zre,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${LS.websocket}`,this.httpEndpoint=P6(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rre.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return yc.Connecting;case qo.open:return yc.Open;case qo.closing:return yc.Closing;default:return yc.Closed}}isConnected(){return this.connectionState()===yc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new wd(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Bre,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_v.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qo.open||this.conn.readyState===qo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Oi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Xre],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:Lre};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Oi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new C6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_v.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:DS,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:_v.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:K_,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:D2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Yre[g-1]||Jre,this.vsn){case k6:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case Fre:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var dp=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Zre(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function ene(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function tne(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:o}){const l=Zre(e.baseUrl,n,a),c=await ene(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new dp((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function jv(e){return e.join("")}var rne=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:jv(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${jv(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${jv(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${jv(e.namespace)}`}),!0}catch(t){if(t instanceof dp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof dp&&r.status===409)return;throw r}}};function Lu(e){return e.join("")}var nne=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lu(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof dp&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof dp&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ane=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=tne({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new rne(this.client,t),this.tableOps=new nne(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},$0=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ur(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var ine=class extends $0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},BS=class extends $0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const FE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),sne=()=>Response,US=e=>{if(Array.isArray(e))return e.map(r=>US(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=US(n)}),t},one=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lne=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function cne(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function une(e){var t=cne(e,"string");return fp(t)=="symbol"?t:t+""}function dne(e,t,r){return(t=une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Y_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fne=async(e,t,r)=>{e instanceof await sne()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new ine(Y_(n),a,i))}).catch(n=>{t(new BS(Y_(n),n))}):t(new BS(Y_(e),e))},hne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(one(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ve(Ve({},a),r))};async function jg(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,hne(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fne(c,l,n))})}async function hp(e,t,r,n){return jg(e,"GET",t,r,n)}async function ki(e,t,r,n,a){return jg(e,"POST",t,n,a,r)}async function zS(e,t,r,n,a){return jg(e,"PUT",t,n,a,r)}async function mne(e,t,r,n){return jg(e,"HEAD",t,Ve(Ve({},r),{},{noResolveJson:!0}),n)}async function BE(e,t,r,n,a){return jg(e,"DELETE",t,n,a,r)}var pne=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}}};let O6;O6=Symbol.toStringTag;var gne=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[O6]="BlobDownloadBuilder",this.promise=null}asStream(){return new pne(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ur(t))return{data:null,error:t};throw t}}};const vne={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yne=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=FE(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const o=Ve(Ve({},z2),n);let l=Ve(Ve({},a.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ve(Ve({},l),n.headers));const u=a._removeEmptyFolders(t),d=a._getFinalPath(u),f=await(e=="PUT"?zS:ki)(a.fetch,`${a.url}/object/${d}`,i,Ve({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ur(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",t);try{let c;const u=Ve({upsert:z2.upsert},n),d=Ve(Ve({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:i,fullPath:(await zS(a.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(ur(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ve({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await ki(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new $0("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ki(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ki(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await ki(n.fetch,`${n.url}/object/sign/${a}`,Ve({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ki(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(o=>Ve(Ve({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>hp(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new gne(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:US(await hp(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await mne(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ur(n)&&n instanceof BS){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;try{return{data:await BE(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ve(Ve(Ve({},vne),t),{},{prefix:e||""});return{data:await ki(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ve({},e);return{data:await ki(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const A6="2.90.1",T6={"X-Client-Info":`storage-js/${A6}`};var xne=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ve(Ve({},T6),t),this.fetch=FE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await hp(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await hp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ki(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await zS(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ur(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ki(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await BE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},bne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},T6),t),this.fetch=FE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ki(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await hp(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await BE(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!lne(e))throw new $0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ane({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const UE={"X-Client-Info":`storage-js/${A6}`,"Content-Type":"application/json"};var M6=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ja(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var J_=class extends M6{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wne=class extends M6{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const zE=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_ne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},V2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jne=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new J_(V2(i),n,o))}).catch(()=>{const i=n+"";t(new J_(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new J_(a.statusText||`HTTP ${n} error`,n,i))}}else t(new wne(V2(e),e))},Sne=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_ne(n)?(a.headers=Ve({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Ve(Ve({},a),r)):a};async function Nne(e,t,r,n,a,i){return new Promise((o,l)=>{e(r,Sne(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>jne(c,l,n))})}async function Sa(e,t,r,n,a){return Nne(e,"POST",t,n,a,r)}var kne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},UE),t),this.fetch=zE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Sa(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Sa(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ja(n))return{data:null,error:n};throw n}}},Cne=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},UE),t),this.fetch=zE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sa(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Sa(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sa(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}},Ene=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ve(Ve({},UE),t),this.fetch=zE(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Sa(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}},Pne=class extends Ene{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new One(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},One=class extends kne{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Ane(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ane=class extends Cne{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ve(Ve({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Tne=class extends xne{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new yne(this.url,this.headers,e,this.fetch)}get vectors(){return new Pne(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bne(this.url+"/iceberg",this.headers,this.fetch)}};const $6="2.90.1",rd=30*1e3,VS=3,X_=VS*rd,Mne="http://localhost:9999",$ne="supabase.auth.token",Ine={"X-Client-Info":`gotrue-js/${$6}`},WS="X-Supabase-Api-Version",I6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rne=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dne=10*60*1e3;class mp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ie(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Lne extends mp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Fne(e){return Ie(e)&&e.name==="AuthApiError"}class xc extends mp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class No extends mp{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ha extends No{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bne(e){return Ie(e)&&e.name==="AuthSessionMissingError"}class Fu extends No{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Sv extends No{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nv extends No{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Une(e){return Ie(e)&&e.name==="AuthImplicitGrantRedirectError"}class W2 extends No{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zne extends No{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class HS extends No{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Q_(e){return Ie(e)&&e.name==="AuthRetryableFetchError"}class H2 extends No{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qS extends No{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),q2=` 	
\r=`.split(""),Vne=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<q2.length;t+=1)e[q2[t].charCodeAt(0)]=-2;for(let t=0;t<yx.length;t+=1)e[yx[t].charCodeAt(0)]=t;return e})();function G2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yx[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(yx[n]),t.queuedBits-=6}}function R6(e,t,r){const n=Vne[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function K2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{qne(o,n,r)};for(let o=0;o<e.length;o+=1)R6(e.charCodeAt(o),a,i);return t.join("")}function Wne(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Hne(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Wne(n,t)}}function qne(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)R6(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Gne(e){const t=[];return Hne(e,r=>t.push(r)),new Uint8Array(t)}function Nc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>G2(a,r,n)),G2(null,r,n),t.join("")}function Kne(e){return Math.round(Date.now()/1e3)+e}function Yne(){return Symbol("auth-callback")}const ln=()=>typeof window<"u"&&typeof document<"u",tc={tested:!1,writable:!1},D6=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tc.tested)return tc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tc.tested=!0,tc.writable=!0}catch{tc.tested=!0,tc.writable=!1}return tc.writable};function Jne(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const L6=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xne=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",nd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sn=async(e,t)=>{await e.removeItem(t)};class I0{constructor(){this.promise=new I0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}I0.promiseConstructor=Promise;function Z_(e){const t=e.split(".");if(t.length!==3)throw new qS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Rne.test(t[n]))throw new qS("JWT not in base64url format");return{header:JSON.parse(K2(t[0])),payload:JSON.parse(K2(t[1])),signature:Fd(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qne(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zne(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function eae(e){return("0"+e.toString(16)).substr(-2)}function tae(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,eae).join("")}async function rae(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function nae(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await rae(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bu(e,t,r=!1){const n=tae();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await nd(e,`${t}-code-verifier`,a);const i=await nae(n);return[i,n===i?"plain":"s256"]}const aae=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iae(e){const t=e.headers.get(WS);if(!t||!t.match(aae))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sae(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oae(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lae=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uu(e){if(!lae.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ej(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cae(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function Y2(e){return JSON.parse(JSON.stringify(e))}const fc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uae=[502,503,504];async function J2(e){var t;if(!Xne(e))throw new HS(fc(e),0);if(uae.includes(e.status))throw new HS(fc(e),e.status);let r;try{r=await e.json()}catch(i){throw new xc(fc(i),i)}let n;const a=iae(e);if(a&&a.getTime()>=I6["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new H2(fc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ha}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new H2(fc(r),e.status,r.weak_password.reasons);throw new Lne(fc(r),e.status||500,n)}const dae=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ze(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[WS]||(i[WS]=I6["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await fae(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function fae(e,t,r,n,a,i){const o=dae(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new HS(fc(c),0)}if(l.ok||await J2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await J2(c)}}function wi(e){var t;let r=null;pae(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Kne(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function X2(e){const t=wi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function hae(e){return{data:e,error:null}}function mae(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=dh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Q2(e){return e}function pae(e){return e.access_token&&e.refresh_token&&e.expires_in}const tj=["global","local","others"];class gae{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=L6(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=tj[0]){if(tj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tj.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dh(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:mae,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ie(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qo})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Q2});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Uu(t);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qo})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Uu(t);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Uu(t);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qo})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Uu(t.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Uu(t.userId),Uu(t.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Q2});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ie(r))return{data:null,error:r};throw r}}}function Z2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const zu={debug:!!(globalThis&&D6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vae extends F6{}async function yae(e,t,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vae(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xae(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function B6(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function bae(e){return parseInt(e,16)}function wae(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _ae(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=B6(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",v=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(b+=`
Expiration Time: ${a.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}b+=x}return`${v}
${b}`}class Pr extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class xx extends Pr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function jae({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Pr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Pr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Pr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Pr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(U6(o)){if(i.rp.id!==o)return new Pr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sae({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Pr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Pr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(U6(n)){if(r.rpId!==n)return new Pr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Pr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Pr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Pr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Nae{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kae=new Nae;function Cae(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=dh(e,["challenge","user","excludeCredentials"]),i=Fd(t).buffer,o=Object.assign(Object.assign({},r),{id:Fd(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Fd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Eae(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=dh(e,["challenge","allowCredentials"]),a=Fd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Fd(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Pae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Nc(new Uint8Array(e.response.attestationObject)),clientDataJSON:Nc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Oae(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Nc(new Uint8Array(a.authenticatorData)),clientDataJSON:Nc(new Uint8Array(a.clientDataJSON)),signature:Nc(new Uint8Array(a.signature)),userHandle:a.userHandle?Nc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function U6(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function eM(){var e,t;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Aae(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xx("Browser returned unexpected credential type",t)}:{data:null,error:new xx("Empty credential response",t)}}catch(t){return{data:null,error:jae({error:t,options:e})}}}async function Tae(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xx("Browser returned unexpected credential type",t)}:{data:null,error:new xx("Empty credential response",t)}}catch(t){return{data:null,error:Sae({error:t,options:e})}}}const Mae={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$ae={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bx(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=bx(l,o):n[i]=bx(o)}else n[i]=o}return n}function Iae(e,t){return bx(Mae,e,t||{})}function Rae(e,t){return bx($ae,e,t||{})}class Dae{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=a??kae.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Iae(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Aae({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Rae(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Tae(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new xc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn authentication")};try{if(!eM())return{data:null,error:new xc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new xc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new mp("rpId is required for WebAuthn registration")};try{if(!eM())return{data:null,error:new xc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Ie(o)?{data:null,error:o}:{data:null,error:new xc("Unexpected error in register",o)}}}}xae();const Lae={url:Mne,storageKey:$ne,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ine,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function tM(e,t,r){return await r()}const Vu={};class pp{get jwks(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Lae),t);if(this.storageKey=i.storageKey,this.instanceID=(r=pp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,pp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ln()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gae({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=L6(i.fetch),this.lock=i.lock||tM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ln()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yae:this.lock=tM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dae(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:D6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Z2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Z2(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$6}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ln()&&(r=Jne(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Une(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ie(r)?this._returnResult({error:r}):this._returnResult({error:new xc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:wi}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Bu(this.storage,this.storageKey)),i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:wi})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:wi})}else throw new Sv("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await sn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X2})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:X2})}else throw new Sv("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Fu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:v,statement:b,options:x}=t;let w;if(ln())if(typeof v=="object")w=v;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=B6(S[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=bae(A)}const P={domain:_.host,address:N,statement:b,uri:_.href,version:"1",chainId:k,nonce:(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=_ae(P),g=await w.request({method:"personal_sign",params:[wae(m),N]})}try{const{data:p,error:v}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:wi});if(v)throw v;if(!p||!p.session||!p.user){const b=new Fu;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:v})}catch(p){if(Ie(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,a,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:v,wallet:b,statement:x,options:w}=t;let _;if(ln())if(typeof b=="object")_=b;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),p=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=N}}try{const{data:v,error:b}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Nc(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wi});if(b)throw b;if(!v||!v.session||!v.user){const x=new Fu;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:b})}catch(v){if(Ie(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(t){const r=await rc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new zne;const{data:i,error:o}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wi});if(await sn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Fu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wi}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Fu;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Bu(this.storage,this.storageKey));const{error:f}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Sv("You must provide either an email or phone number.")}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:wi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Bu(this.storage,this.storageKey));const u=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:hae});return!((i=u.data)===null||i===void 0)&&i.url&&ln()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ha;const{error:a}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Sv("You must provide either an email or phone number and a type")}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<X_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await rc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ej()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=cae(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qo}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Qo})})}catch(r){if(Ie(r))return Bne(r)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new ha;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Bu(this.storage,this.storageKey));const{data:u,error:d}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ha;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Z_(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ha;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ie(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new Nv("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nv(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new W2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nv("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new W2("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Nv("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=rd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:v}=await this._getUser(i);if(v)throw v;const b={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Fne(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Yne(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Bu(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ie(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wi}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Fu}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(a){if(await sn(this.storage,`${this.storageKey}-code-verifier`),Ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Zne(async a=>(a>0&&await Qne(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Q_(i)&&Date.now()+o-n<rd})}catch(n){if(this._debug(r,"error",n),Ie(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await rc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await rc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await nd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ej()}else if(a&&!a.user&&!a.user){const o=await rc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await sn(this.storage,this.storageKey+"-user"),await nd(this.storage,this.storageKey,a)):a.user=ej()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<X_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${X_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Q_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new I0;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ha;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Ie(i)){const o={data:null,error:i};return Q_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await sn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await nd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Y2(a);await nd(this.storage,this.storageKey,i)}else{const a=Y2(r);await nd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/rd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${rd}ms, refresh threshold is ${VS} ticks`),a<=VS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Bu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ze(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Pae(t.webauthn.credential_response):Oae(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await ze(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Cae(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Eae(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Z_(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ha})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ha});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new ha});const o=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ln()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ha})})}catch(t){if(Ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ha})})}catch(r){if(Ie(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Dne>a)return n;const{data:i,error:o}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Z_(n);r!=null&&r.allowExpired||sae(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=oae(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Gne(`${l}.${c}`)))throw new qS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Ie(n))return this._returnResult({data:null,error:n});throw n}}}pp.nextInstanceID={};const Fae=pp,Bae="2.90.1";let dm="";typeof Deno<"u"?dm="deno":typeof document<"u"?dm="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dm="react-native":dm="node";const Uae={"X-Client-Info":`supabase-js-${dm}/${Bae}`},zae={headers:Uae},Vae={schema:"public"},Wae={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hae={};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function qae(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gae(e){var t=qae(e,"string");return gp(t)=="symbol"?t:t+""}function Kae(e,t,r){return(t=Gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rM(Object(r),!0).forEach(function(n){Kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Yae=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jae=()=>Headers,Xae=(e,t,r)=>{const n=Yae(r),a=Jae();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,gr(gr({},o),{},{headers:u}))}};function Qae(e){return e.endsWith("/")?e:e+"/"}function Zae(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:gr(gr({},c),a),auth:gr(gr({},u),i),realtime:gr(gr({},d),o),storage:{},global:gr(gr(gr({},f),l),{},{headers:gr(gr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function eie(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qae(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var tie=class extends Fae{constructor(e){super(e)}},rie=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=eie(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:Vae,realtime:Hae,auth:gr(gr({},Wae),{},{storageKey:o}),global:zae},c=Zae(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Xae(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Ire(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Tne(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Ore(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tie({url:this.authUrl.href,headers:gr(gr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Qre(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nie=(e,t,r)=>new rie(e,t,r);function aie(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}aie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iie="https://ihyzfrfzazrbrufzcunm.supabase.co",sie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImloeXpmcmZ6YXpyYnJ1ZnpjdW5tIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcwMDQyNTQsImV4cCI6MjA4MjU4MDI1NH0.2DAOh3w-iye0TzrzXte1GZ1h8X-xfQQ4vOR8YWFow_o",Pe=nie(iie,sie,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),go=Object.freeze(Object.defineProperty({__proto__:null,supabase:Pe},Symbol.toStringTag,{value:"Module"})),z6=y.createContext(void 0),$r=()=>{const e=y.useContext(z6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},oie=({children:e})=>{const[t,r]=y.useState(null),[n,a]=y.useState(null),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!0),[f,h]=y.useState(!1),m=async x=>{console.log("[AuthContext] Fetching user data for:",x);try{const{data:w,error:_}=await Pe.from("profiles").select("id, first_name, last_name, phone, avatar_url, id_number, date_of_birth").eq("id",x).single();_&&console.error("[AuthContext] Profile fetch error:",_),w&&(console.log("[AuthContext] Profile data:",w),console.log("[AuthContext] id_number value:",w.id_number),o(w));const{data:S,error:N}=await Pe.from("user_roles").select("role").eq("user_id",x).single();if(N&&console.error("[AuthContext] Role fetch error:",N),S)if(console.log("[AuthContext] Role:",S.role),c(S.role),S.role==="patient"){const k=!!(w!=null&&w.id_number);console.log("[AuthContext] Is patient onboarded:",k),h(k)}else console.log("[AuthContext] Non-patient role, marking as onboarded"),h(!0)}catch(w){console.error("[AuthContext] Error fetching user data:",w)}},g=async()=>{console.log("[AuthContext] Refreshing profile..."),t&&(await m(t.id),console.log("[AuthContext] Profile refreshed, onboardingComplete:",f))};y.useEffect(()=>{const{data:{subscription:x}}=Pe.auth.onAuthStateChange((w,_)=>{console.log("[AuthContext] Auth state changed:",w),a(_),r((_==null?void 0:_.user)??null),_!=null&&_.user?setTimeout(()=>{m(_.user.id)},0):(o(null),c(null),h(!1)),w==="SIGNED_OUT"&&(o(null),c(null),h(!1))});return Pe.auth.getSession().then(({data:{session:w}})=>{a(w),r((w==null?void 0:w.user)??null),w!=null&&w.user&&m(w.user.id),d(!1)}),()=>x.unsubscribe()},[]);const p=async(x,w,_)=>{const S=`${window.location.origin}/`,{error:N}=await Pe.auth.signUp({email:x,password:w,options:{emailRedirectTo:S,data:{first_name:_.first_name,last_name:_.last_name,role:_.role||"patient",hpcsa_number:_.hpcsa_number,id_number:_.id_number}}});return{error:N}},v=async(x,w)=>{const{error:_}=await Pe.auth.signInWithPassword({email:x,password:w});return{error:_}},b=async()=>{await Pe.auth.signOut(),r(null),a(null),o(null),c(null),h(!1)};return s.jsx(z6.Provider,{value:{user:t,session:n,profile:i,role:l,isLoading:u,onboardingComplete:f,signUp:p,signIn:v,signOut:b,refreshProfile:g},children:e})},Rs=({children:e,allowedRoles:t})=>{const{user:r,role:n,isLoading:a}=$r(),i=As();if(a)return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})});if(!r)return s.jsx(O2,{to:"/auth",state:{from:i},replace:!0});if(t&&n&&!t.includes(n)){const o={patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"};return s.jsx(O2,{to:o[n],replace:!0})}return s.jsx(s.Fragment,{children:e})};var lie=Symbol.for("react.lazy"),wx=r0[" use ".trim().toString()];function cie(e){return typeof e=="object"&&e!==null&&"then"in e}function V6(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===lie&&"_payload"in e&&cie(e._payload)}function Sg(e){const t=uie(e),r=y.forwardRef((n,a)=>{let{children:i,...o}=n;V6(i)&&typeof wx=="function"&&(i=wx(i._payload));const l=y.Children.toArray(i),c=l.find(fie);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var W6=Sg("Slot");function uie(e){const t=y.forwardRef((r,n)=>{let{children:a,...i}=r;if(V6(a)&&typeof wx=="function"&&(a=wx(a._payload)),y.isValidElement(a)){const o=mie(a),l=hie(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var die=Symbol("radix.slottable");function fie(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===die}function hie(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function mie(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const vp=w0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg active:scale-[0.98]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-md hover:shadow-lg",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/90 shadow-md hover:shadow-lg",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",hero:"gradient-primary text-primary-foreground shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] font-semibold",heroOutline:"border-2 border-primary-foreground/30 bg-primary-foreground/10 text-primary-foreground backdrop-blur-sm hover:bg-primary-foreground/20 font-semibold",success:"bg-success text-success-foreground hover:bg-success/90 shadow-md",coral:"gradient-coral text-secondary-foreground shadow-md hover:shadow-lg hover:scale-[1.02] active:scale-[0.98]"},size:{default:"h-10 px-5 py-2",sm:"h-9 rounded-md px-4 text-xs",lg:"h-12 rounded-lg px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?W6:"button";return s.jsx(o,{className:ve(vp({variant:t,size:r,className:e})),ref:i,...a})});Z.displayName="Button";const pie=()=>{const[e,t]=y.useState(!1),{user:r,profile:n,role:a,signOut:i}=$r(),o=On(),l=[{label:"How It Works",href:"#how-it-works"},{label:"Services",href:"#services"},{label:"For Clinicians",href:"#clinicians"},{label:"Contact",href:"#contact"}],c=async()=>{await i(),o("/")},u=d=>({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin"})[d];return s.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-card/95 backdrop-blur-md border-b border-border",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16 lg:h-20",children:[s.jsx(zs,{to:"/",className:"flex items-center gap-2",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-10 sm:h-12 w-auto"})}),s.jsx("nav",{className:"hidden lg:flex items-center gap-6 xl:gap-8",children:l.map(d=>s.jsx("a",{href:d.href,className:"text-sm font-medium text-muted-foreground hover:text-primary transition-colors",children:d.label},d.label))}),s.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[s.jsxs(Z,{variant:"ghost",size:"sm",className:"gap-2",children:[s.jsx(oa,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xl:inline",children:"0800 QUADCARE"})]}),r?s.jsxs(s.Fragment,{children:[s.jsx(zs,{to:a?u(a):"/patient",children:s.jsxs(Z,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),(n==null?void 0:n.first_name)||"Dashboard"]})}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:c,children:s.jsx(Cl,{className:"w-4 h-4"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(zs,{to:"/auth",children:s.jsx(Z,{variant:"outline",size:"sm",children:"Sign In"})}),s.jsx(zs,{to:"/auth",children:s.jsx(Z,{variant:"default",size:"sm",children:"Book Consultation"})})]})]}),s.jsx("button",{onClick:()=>t(!e),className:"lg:hidden p-2 hover:bg-accent rounded-lg transition-colors","aria-label":"Toggle menu",children:e?s.jsx(So,{className:"w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(xg,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e&&s.jsx("div",{className:"lg:hidden py-4 border-t border-border animate-fade-in max-h-[calc(100vh-4rem)] overflow-y-auto",children:s.jsxs("nav",{className:"flex flex-col gap-1",children:[l.map(d=>s.jsx("a",{href:d.href,className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors",onClick:()=>t(!1),children:d.label},d.label)),s.jsxs("a",{href:"tel:0800QUADCARE",className:"px-4 py-3 text-sm font-medium text-muted-foreground hover:text-primary hover:bg-accent rounded-lg transition-colors flex items-center gap-2",onClick:()=>t(!1),children:[s.jsx(oa,{className:"w-4 h-4"}),"0800 QUADCARE"]}),s.jsx("div",{className:"flex flex-col gap-2 mt-4 px-4 pt-4 border-t border-border",children:r?s.jsxs(s.Fragment,{children:[s.jsx(zs,{to:a?u(a):"/patient",onClick:()=>t(!1),children:s.jsxs(Z,{variant:"outline",className:"w-full gap-2 justify-start",children:[s.jsx(kX,{className:"w-4 h-4"}),"My Dashboard"]})}),s.jsxs(Z,{variant:"ghost",className:"w-full justify-start",onClick:c,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(zs,{to:"/auth",onClick:()=>t(!1),children:s.jsx(Z,{variant:"outline",className:"w-full",children:"Sign In"})}),s.jsx(zs,{to:"/auth",onClick:()=>t(!1),children:s.jsx(Z,{variant:"default",className:"w-full",children:"Book Consultation"})})]})})]})})]})})},gie="/assets/hero-medical-D5FvmeGo.jpg",vie=()=>{const e=["HPCSA Compliant Consultations","POPIA Protected Data","Medical Aid Integration"];return s.jsxs("section",{className:"relative min-h-screen flex items-center pt-16 sm:pt-20 lg:pt-0 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-accent/20"}),s.jsx("div",{className:"absolute top-1/4 right-0 w-[300px] sm:w-[600px] h-[300px] sm:h-[600px] bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-[200px] sm:w-[400px] h-[200px] sm:h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 py-8 sm:py-12 lg:py-0",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center",children:[s.jsxs("div",{className:"space-y-5 sm:space-y-8 animate-slide-up",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 bg-accent rounded-full",children:[s.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs sm:text-sm font-medium text-accent-foreground",children:"Serving 12 Quadcare Clinics Across South Africa"})]}),s.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-foreground leading-tight",children:["Healthcare at Your"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Fingertips"})]}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-muted-foreground max-w-xl leading-relaxed",children:"Experience seamless telehealth consultations with qualified South African doctors. From booking to prescription  all digitally compliant and medically integrated."}),s.jsx("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 sm:gap-4",children:e.map(t=>s.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-muted-foreground",children:[s.jsx(rn,{className:"w-4 h-4 text-success shrink-0"}),s.jsx("span",{children:t})]},t))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-2 sm:pt-4",children:[s.jsx(zs,{to:"/auth",className:"w-full sm:w-auto",children:s.jsxs(Z,{variant:"hero",size:"xl",className:"group w-full sm:w-auto",children:[s.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Book Consultation"}),s.jsx(Fi,{className:"w-4 h-4 sm:w-5 sm:h-5 group-hover:translate-x-1 transition-transform"})]})}),s.jsxs(Z,{variant:"outline",size:"xl",className:"w-full sm:w-auto",children:[s.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"How It Works"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 sm:gap-6 pt-2 sm:pt-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"}),s.jsx("span",{children:"HPCSA Registered"})]}),s.jsx("div",{className:"hidden sm:block h-4 w-px bg-border"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>s.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-accent border-2 border-card flex items-center justify-center text-[10px] sm:text-xs font-medium text-accent-foreground",children:t===4?"5K+":""},t))}),s.jsx("span",{children:"Active Patients"})]})]})]}),s.jsxs("div",{className:"relative animate-fade-in order-first lg:order-last",style:{animationDelay:"0.2s"},children:[s.jsxs("div",{className:"relative rounded-2xl sm:rounded-3xl overflow-hidden shadow-xl sm:shadow-2xl",children:[s.jsx("img",{src:gie,alt:"Quadcare Telehealth Platform",className:"w-full h-auto object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent"})]}),s.jsx("div",{className:"hidden sm:block absolute -left-4 lg:-left-8 top-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-success/20 flex items-center justify-center",children:s.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Live Now"}),s.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"Dr. Mokoena"})]})]})}),s.jsx("div",{className:"absolute -right-2 sm:-right-4 lg:-right-8 bottom-1/4 glass-card rounded-xl p-3 sm:p-4 shadow-lg animate-float",style:{animationDelay:"1s"},children:s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:s.jsx(kt,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:"Next Available"}),s.jsx("p",{className:"font-semibold text-xs sm:text-sm",children:"10:30 AM Today"})]})]})})]})]})})]})},yie=()=>{const e=[{icon:kt,title:"Smart Booking",description:"Self-service appointment scheduling with intelligent symptom assessment and urgency triaging.",color:"bg-primary/10 text-primary"},{icon:ri,title:"Symptom Checker",description:"AI-powered preliminary assessment to route patients to the right level of care.",color:"bg-info/10 text-info"},{icon:kn,title:"Clinical Workflow",description:"Seamless nurse triage to doctor escalation with complete patient handoff documentation.",color:"bg-secondary/10 text-secondary"},{icon:tr,title:"HD Video Consults",description:"Secure, high-quality video consultations with screen sharing and file transfer.",color:"bg-success/10 text-success"},{icon:nn,title:"E-Prescriptions",description:"Digital prescriptions with ICD-10 coding, sent directly to pharmacies via HealthBridge.",color:"bg-warning/10 text-warning"},{icon:bB,title:"Medical Aid Billing",description:"Real-time benefit verification and automatic claim submission to medical schemes.",color:"bg-primary/10 text-primary"},{icon:_X,title:"Clinical Notes",description:"Structured SOAP notes with ICD-10 coding and automatic EHR synchronization.",color:"bg-info/10 text-info"},{icon:bg,title:"POPIA Compliant",description:"Full data protection with encrypted storage, audit trails, and patient consent management.",color:"bg-success/10 text-success"},{icon:bd,title:"Analytics Dashboard",description:"Clinical quality metrics, utilization reports, and billing analytics for practice management.",color:"bg-secondary/10 text-secondary"}];return s.jsx("section",{id:"services",className:"py-24 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Complete Telehealth Ecosystem"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["Everything You Need for"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Digital Healthcare"})]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"From patient self-service to clinical documentation, our platform handles the entire consultation lifecycle."})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((t,r)=>s.jsxs("div",{className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20",style:{animationDelay:`${r*.1}s`},children:[s.jsx("div",{className:`w-14 h-14 rounded-xl ${t.color} flex items-center justify-center mb-5 group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-7 h-7"})}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]},t.title))})]})})},xie=()=>{const e=[{number:"01",icon:Wr,title:"Patient Registration",description:"Quick signup with ID verification, medical history, and medical aid details capture.",color:"bg-primary"},{number:"02",icon:xB,title:"Symptom Assessment",description:"AI-guided symptom checker determines urgency and appropriate care pathway.",color:"bg-info"},{number:"03",icon:ri,title:"Nurse Triage",description:"Qualified nurse reviews case, gathers vitals, and prepares patient for consultation.",color:"bg-secondary"},{number:"04",icon:tr,title:"Doctor Consultation",description:"HD video call with board-certified physician, complete with screen sharing.",color:"bg-success"},{number:"05",icon:wB,title:"Documentation",description:"Structured clinical notes, ICD-10 codes, and e-prescriptions generated automatically.",color:"bg-warning"},{number:"06",icon:bB,title:"Billing & Follow-up",description:"Automatic medical aid claim or payment processing with follow-up scheduling.",color:"bg-primary"}];return s.jsx("section",{id:"how-it-works",className:"py-24 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full mb-6",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"Seamless Patient Journey"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:["How"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Quadcare Telehealth"})," ","Works"]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"A fully digitized workflow from first contact to follow-up care, designed for South African healthcare compliance."})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"hidden lg:block absolute top-24 left-[8.33%] right-[8.33%] h-0.5 bg-gradient-to-r from-primary via-success to-primary"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>s.jsxs("div",{className:"relative group",children:[s.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 h-full",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl ${t.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("span",{className:"text-5xl font-bold text-muted/30 group-hover:text-primary/20 transition-colors",children:t.number})]}),s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3",children:t.title}),s.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})]}),r<e.length-1&&s.jsx("div",{className:"lg:hidden flex justify-center py-4",children:s.jsx(Fi,{className:"w-6 h-6 text-primary rotate-90"})})]},t.number))})]})]})})},bie=()=>{const e=[{icon:ux,value:"12",label:"Quadcare Clinics",sublabel:"Gauteng & Limpopo"},{icon:kn,value:"5,000+",label:"Active Patients",sublabel:"And growing"},{icon:qt,value:"<15min",label:"Avg Wait Time",sublabel:"For consultations"},{icon:SB,value:"4.8",label:"Patient Rating",sublabel:"Out of 5 stars"}];return s.jsx("section",{className:"py-16 gradient-hero",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>s.jsxs("div",{className:"text-center group",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary-foreground/10 backdrop-blur-sm mb-4 group-hover:scale-110 transition-transform duration-300",children:s.jsx(t.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-2",children:t.value}),s.jsx("div",{className:"text-primary-foreground/90 font-medium",children:t.label}),s.jsx("div",{className:"text-primary-foreground/60 text-sm",children:t.sublabel})]},t.label))})})})},wie=()=>{const e=[{icon:AX,title:"Unified Dashboard",description:"All patient queues, schedules, and clinical tools in one interface."},{icon:qt,title:"Smart Scheduling",description:"AI-optimized appointment slots based on consultation type and duration."},{icon:nn,title:"Auto Documentation",description:"Structured notes with ICD-10 suggestions and HPCSA compliant templates."},{icon:tr,title:"HD Consultations",description:"Crystal clear video with screen sharing, annotations, and recordings."},{icon:bd,title:"Performance Analytics",description:"Track consultation metrics, patient outcomes, and earnings in real-time."},{icon:bg,title:"Medico-Legal Protection",description:"Full audit trails, consent management, and compliant documentation."}],t=["Reduced admin time by 60%","Automatic HealthBridge sync","Mobile-friendly interface","Multi-clinic support"];return s.jsx("section",{id:"clinicians",className:"py-24 bg-muted/30",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-accent rounded-full",children:s.jsx("span",{className:"text-sm font-medium text-accent-foreground",children:"For Healthcare Providers"})}),s.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:["Empower Your"," ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-[hsl(180,45%,45%)]",children:"Clinical Practice"})]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Purpose-built for South African healthcare professionals. Streamline your telehealth workflow while maintaining full HPCSA compliance and clinical quality standards."}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.map(r=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-success flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:r})]},r))}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsxs(Z,{variant:"hero",size:"lg",className:"group",children:["Join as Provider",s.jsx(Fi,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsx(Z,{variant:"outline",size:"lg",children:"View Demo"})]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:e.map((r,n)=>s.jsxs("div",{className:"bg-card rounded-xl p-5 shadow-card hover:shadow-card-hover transition-all duration-300 border border-border/50 hover:border-primary/20 group",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform duration-300",children:s.jsx(r.icon,{className:"w-6 h-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:r.description})]},r.title))})]})})})},_ie=()=>s.jsxs("section",{className:"py-24 bg-background relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("div",{className:"absolute top-0 left-1/4 w-[500px] h-[500px] bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-[400px] h-[400px] bg-secondary/5 rounded-full blur-3xl"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto text-center",children:s.jsxs("div",{className:"gradient-primary rounded-3xl p-12 md:p-16 shadow-2xl",children:[s.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-primary-foreground mb-6",children:"Ready to Transform Your Healthcare Experience?"}),s.jsx("p",{className:"text-lg md:text-xl text-primary-foreground/80 mb-10 max-w-2xl mx-auto",children:"Join thousands of patients across Gauteng and Limpopo who've already made the switch to convenient, compliant telehealth."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsxs(Z,{variant:"heroOutline",size:"xl",className:"group",children:[s.jsx(kt,{className:"w-5 h-5"}),"Book Your First Consultation",s.jsx(Fi,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),s.jsxs(Z,{variant:"ghost",size:"xl",className:"text-primary-foreground hover:bg-primary-foreground/10",children:[s.jsx(oa,{className:"w-5 h-5"}),"0800 QUADCARE"]})]}),s.jsx("p",{className:"text-primary-foreground/60 text-sm mt-8",children:"No registration fees  Medical aid accepted  Available 7 days a week"})]})})})]}),jie=()=>{const e={patients:[{label:"Book Consultation",href:"#"},{label:"Symptom Checker",href:"#"},{label:"Find a Doctor",href:"#"},{label:"Pricing",href:"#"},{label:"FAQs",href:"#"}],providers:[{label:"Join as Doctor",href:"#"},{label:"Nurse Portal",href:"#"},{label:"Clinical Guidelines",href:"#"},{label:"Training Resources",href:"#"}],company:[{label:"About Quadcare",href:"#"},{label:"Our Clinics",href:"#"},{label:"Careers",href:"#"},{label:"Contact Us",href:"#"}],legal:[{label:"Privacy Policy",href:"#"},{label:"Terms of Service",href:"#"},{label:"POPIA Compliance",href:"#"},{label:"Cookie Policy",href:"#"}]},t=[{icon:SX,href:"#",label:"Facebook"},{icon:WX,href:"#",label:"Twitter"},{icon:TX,href:"#",label:"LinkedIn"},{icon:OX,href:"#",label:"Instagram"}];return s.jsx("footer",{id:"contact",className:"bg-foreground text-primary-foreground pt-16 pb-8",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8 pb-12 border-b border-primary-foreground/10",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(zs,{to:"/",className:"flex items-center gap-2 mb-6",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-12 w-auto brightness-0 invert"})}),s.jsx("p",{className:"text-primary-foreground/60 text-sm mb-6 max-w-xs",children:"Digitizing healthcare for South Africa. Compliant, convenient, connected."}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("a",{href:"tel:0800423227",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[s.jsx(oa,{className:"w-4 h-4"}),"0800 QUADCARE (0800 782 322)"]}),s.jsxs("a",{href:"mailto:support@quadcare.co.za",className:"flex items-center gap-3 text-sm text-primary-foreground/80 hover:text-primary transition-colors",children:[s.jsx(hs,{className:"w-4 h-4"}),"support@quadcare.co.za"]}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-primary-foreground/60",children:[s.jsx(_B,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsxs("span",{children:["Quadcare Head Office",s.jsx("br",{}),"Johannesburg, Gauteng"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Patients"}),s.jsx("ul",{className:"space-y-3",children:e.patients.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"For Providers"}),s.jsx("ul",{className:"space-y-3",children:e.providers.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Company"}),s.jsx("ul",{className:"space-y-3",children:e.company.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-primary-foreground mb-4",children:"Legal"}),s.jsx("ul",{className:"space-y-3",children:e.legal.map(r=>s.jsx("li",{children:s.jsx("a",{href:r.href,className:"text-sm text-primary-foreground/60 hover:text-primary transition-colors",children:r.label})},r.label))})]})]}),s.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsx("p",{className:"text-sm text-primary-foreground/40",children:" 2026 Quadcare Telehealth. All rights reserved."}),s.jsx("div",{className:"flex items-center gap-4",children:t.map(r=>s.jsx("a",{href:r.href,"aria-label":r.label,className:"w-10 h-10 rounded-lg bg-primary-foreground/5 hover:bg-primary-foreground/10 flex items-center justify-center transition-colors",children:s.jsx(r.icon,{className:"w-5 h-5 text-primary-foreground/60"})},r.label))})]})]})})},Sie=()=>s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(pie,{}),s.jsxs("main",{children:[s.jsx(vie,{}),s.jsx(yie,{}),s.jsx(xie,{}),s.jsx(bie,{}),s.jsx(wie,{}),s.jsx(_ie,{})]}),s.jsx(jie,{})]});var Ng=e=>e.type==="checkbox",kc=e=>e instanceof Date,Qn=e=>e==null;const H6=e=>typeof e=="object";var Tr=e=>!Qn(e)&&!Array.isArray(e)&&H6(e)&&!kc(e),q6=e=>Tr(e)&&e.target?Ng(e.target)?e.target.checked:e.target.value:e,Nie=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,G6=(e,t)=>e.has(Nie(t)),kie=e=>{const t=e.constructor&&e.constructor.prototype;return Tr(t)&&t.hasOwnProperty("isPrototypeOf")},VE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(VE&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Tr(e)&&kie(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=kr(e[a]));return n}var R0=e=>/^\w*$/.test(e),ar=e=>e===void 0,WE=e=>Array.isArray(e)?e.filter(Boolean):[],HE=e=>WE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_e=(e,t,r)=>{if(!t||!Tr(e))return r;const n=(R0(t)?[t]:HE(t)).reduce((a,i)=>Qn(a)?a:a[i],e);return ar(n)||n===e?ar(e[t])?r:e[t]:n},ba=e=>typeof e=="boolean",Dn=e=>typeof e=="function",Et=(e,t,r)=>{let n=-1;const a=R0(t)?[t]:HE(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Tr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const _x={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$i={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ds={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qE=M.createContext(null);qE.displayName="HookFormControlContext";const GE=()=>M.useContext(qE);var K6=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==$i.all&&(t._proxyFormState[o]=!n||$i.all),r&&(r[o]=!0),e[o]}});return a};const KE=typeof window<"u"?M.useLayoutEffect:M.useEffect;function Cie(e){const t=GE(),{control:r=t,disabled:n,name:a,exact:i}=e||{},[o,l]=M.useState(r._formState),c=M.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return KE(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),M.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),M.useMemo(()=>K6(o,r,c.current,!1),[o,r])}var Na=e=>typeof e=="string",GS=(e,t,r,n,a)=>Na(e)?(n&&t.watch.add(e),_e(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),_e(r,i))):(n&&(t.watchAll=!0),r),KS=e=>Qn(e)||!H6(e);function Ii(e,t,r=new WeakSet){if(KS(e)||KS(t))return Object.is(e,t);if(kc(e)&&kc(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const l=t[i];if(kc(o)&&kc(l)||Tr(o)&&Tr(l)||Array.isArray(o)&&Array.isArray(l)?!Ii(o,l,r):!Object.is(o,l))return!1}}return!0}function Eie(e){const t=GE(),{control:r=t,name:n,defaultValue:a,disabled:i,exact:o,compute:l}=e||{},c=M.useRef(a),u=M.useRef(l),d=M.useRef(void 0),f=M.useRef(r),h=M.useRef(n);u.current=l;const[m,g]=M.useState(()=>{const _=r._getWatch(n,c.current);return u.current?u.current(_):_}),p=M.useCallback(_=>{const S=GS(n,r._names,_||r._formValues,!1,c.current);return u.current?u.current(S):S},[r._formValues,r._names,n]),v=M.useCallback(_=>{if(!i){const S=GS(n,r._names,_||r._formValues,!1,c.current);if(u.current){const N=u.current(S);Ii(N,d.current)||(g(N),d.current=N)}else g(S)}},[r._formValues,r._names,i,n]);KE(()=>((f.current!==r||!Ii(h.current,n))&&(f.current=r,h.current=n,v()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:_=>{v(_.values)}})),[r,o,n,v]),M.useEffect(()=>r._removeUnmounted());const b=f.current!==r,x=h.current,w=M.useMemo(()=>{if(i)return null;const _=!b&&!Ii(x,n);return b||_?p():null},[i,b,n,x,p]);return w!==null?w:m}function Pie(e){const t=GE(),{name:r,disabled:n,control:a=t,shouldUnregister:i,defaultValue:o,exact:l=!0}=e,c=G6(a._names.array,r),u=M.useMemo(()=>_e(a._formValues,r,_e(a._defaultValues,r,o)),[a,r,o]),d=Eie({control:a,name:r,defaultValue:u,exact:l}),f=Cie({control:a,name:r,exact:l}),h=M.useRef(e),m=M.useRef(void 0),g=M.useRef(a.register(r,{...e.rules,value:d,...ba(e.disabled)?{disabled:e.disabled}:{}}));h.current=e;const p=M.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_e(f.errors,r)},isDirty:{enumerable:!0,get:()=>!!_e(f.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!_e(f.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!_e(f.validatingFields,r)},error:{enumerable:!0,get:()=>_e(f.errors,r)}}),[f,r]),v=M.useCallback(_=>g.current.onChange({target:{value:q6(_),name:r},type:_x.CHANGE}),[r]),b=M.useCallback(()=>g.current.onBlur({target:{value:_e(a._formValues,r),name:r},type:_x.BLUR}),[r,a._formValues]),x=M.useCallback(_=>{const S=_e(a._fields,r);S&&S._f&&_&&(S._f.ref={focus:()=>Dn(_.focus)&&_.focus(),select:()=>Dn(_.select)&&_.select(),setCustomValidity:N=>Dn(_.setCustomValidity)&&_.setCustomValidity(N),reportValidity:()=>Dn(_.reportValidity)&&_.reportValidity()})},[a._fields,r]),w=M.useMemo(()=>({name:r,value:d,...ba(n)||f.disabled?{disabled:f.disabled||n}:{},onChange:v,onBlur:b,ref:x}),[r,n,f.disabled,v,b,x,d]);return M.useEffect(()=>{const _=a._options.shouldUnregister||i,S=m.current;S&&S!==r&&!c&&a.unregister(S),a.register(r,{...h.current.rules,...ba(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(k,P)=>{const A=_e(a._fields,k);A&&A._f&&(A._f.mount=P)};if(N(r,!0),_){const k=kr(_e(a._options.defaultValues,r,h.current.defaultValue));Et(a._defaultValues,r,k),ar(_e(a._formValues,r))&&Et(a._formValues,r,k)}return!c&&a.register(r),m.current=r,()=>{(c?_&&!a._state.action:_)?a.unregister(r):N(r,!1)}},[r,a,c,i]),M.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),M.useMemo(()=>({field:w,formState:f,fieldState:p}),[w,f,p])}const Oie=e=>e.render(Pie(e)),YE=M.createContext(null);YE.displayName="HookFormContext";const Aie=()=>M.useContext(YE),Tie=e=>{const{children:t,watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:o,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:g,register:p,setFocus:v,subscribe:b}=e;return M.createElement(YE.Provider,{value:M.useMemo(()=>({watch:r,getValues:n,getFieldState:a,setError:i,clearErrors:o,setValue:l,trigger:c,formState:u,resetField:d,reset:f,handleSubmit:h,unregister:m,control:g,register:p,setFocus:v,subscribe:b}),[o,g,u,a,n,h,p,f,d,i,v,l,b,c,m,r])},M.createElement(qE.Provider,{value:g},t))};var Y6=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Om=e=>Array.isArray(e)?e:[e],nM=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function J6(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&Tr(a)&&i){const o=J6(a,i);Tr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Mn=e=>Tr(e)&&!Object.keys(e).length,JE=e=>e.type==="file",jx=e=>{if(!VE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X6=e=>e.type==="select-multiple",XE=e=>e.type==="radio",Mie=e=>XE(e)||Ng(e),rj=e=>jx(e)&&e.isConnected;function $ie(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ar(e)?n++:e[t[n++]];return e}function Iie(e){for(const t in e)if(e.hasOwnProperty(t)&&!ar(e[t]))return!1;return!0}function Cr(e,t){const r=Array.isArray(t)?t:R0(t)?[t]:HE(t),n=r.length===1?e:$ie(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Tr(n)&&Mn(n)||Array.isArray(n)&&Iie(n))&&Cr(e,r.slice(0,-1)),e}var Rie=e=>{for(const t in e)if(Dn(e[t]))return!0;return!1};function Q6(e){return Array.isArray(e)||Tr(e)&&!Rie(e)}function YS(e,t={}){for(const r in e){const n=e[r];Q6(n)?(t[r]=Array.isArray(n)?[]:{},YS(n,t[r])):ar(n)||(t[r]=!0)}return t}function ad(e,t,r){r||(r=YS(t));for(const n in e){const a=e[n];if(Q6(a))ar(t)||KS(r[n])?r[n]=YS(a,Array.isArray(a)?[]:{}):ad(a,Qn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Ii(a,i)}}return r}const aM={value:!1,isValid:!1},iM={value:!0,isValid:!0};var Z6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ar(e[0].attributes.value)?ar(e[0].value)||e[0].value===""?iM:{value:e[0].value,isValid:!0}:iM:aM}return aM},eU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ar(e)?e:t?e===""?NaN:e&&+e:r&&Na(e)?new Date(e):n?n(e):e;const sM={isValid:!1,value:null};var tU=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,sM):sM;function oM(e){const t=e.ref;return JE(t)?t.files:XE(t)?tU(e.refs).value:X6(t)?[...t.selectedOptions].map(({value:r})=>r):Ng(t)?Z6(e.refs).value:eU(ar(t.value)?e.ref.value:t.value,e)}var Die=(e,t,r,n)=>{const a={};for(const i of e){const o=_e(t,i);o&&Et(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Sx=e=>e instanceof RegExp,Wh=e=>ar(e)?e:Sx(e)?e.source:Tr(e)?Sx(e.value)?e.value.source:e.value:e,lM=e=>({isOnSubmit:!e||e===$i.onSubmit,isOnBlur:e===$i.onBlur,isOnChange:e===$i.onChange,isOnAll:e===$i.all,isOnTouch:e===$i.onTouched});const cM="AsyncFunction";var Lie=e=>!!e&&!!e.validate&&!!(Dn(e.validate)&&e.validate.constructor.name===cM||Tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===cM)),Fie=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),uM=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Am=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=_e(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Am(l,t))break}else if(Tr(l)&&Am(l,t))break}}};function dM(e,t,r){const n=_e(e,r);if(n||R0(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=_e(t,i),l=_e(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Bie=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Mn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||$i.all))},Uie=(e,t,r)=>!e||!t||e===t||Om(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),zie=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,Vie=(e,t)=>!WE(_e(e,t)).length&&Cr(e,t),Wie=(e,t,r)=>{const n=Om(_e(e,r));return Et(n,"root",t[r]),Et(e,r,n),e};function fM(e,t,r="validate"){if(Na(e)||Array.isArray(e)&&e.every(Na)||ba(e)&&!e)return{type:r,message:Na(e)?e:"",ref:t}}var Wu=e=>Tr(e)&&!Sx(e)?e:{value:e,message:""},hM=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:v,mount:b}=e._f,x=_e(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=O=>{a&&w.reportValidity&&(w.setCustomValidity(ba(O)?"":O||""),w.reportValidity())},S={},N=XE(o),k=Ng(o),P=N||k,A=(v||JE(o))&&ar(o.value)&&ar(x)||jx(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,T=Y6.bind(null,p,n,S),I=(O,L,$,F=Ds.maxLength,z=Ds.minLength)=>{const V=O?L:$;S[p]={type:O?F:z,message:V,ref:o,...T(O?F:z,V)}};if(i?!Array.isArray(x)||!x.length:c&&(!P&&(A||Qn(x))||ba(x)&&!x||k&&!Z6(l).isValid||N&&!tU(l).isValid)){const{value:O,message:L}=Na(c)?{value:!!c,message:c}:Wu(c);if(O&&(S[p]={type:Ds.required,message:L,ref:w,...T(Ds.required,L)},!n))return _(L),S}if(!A&&(!Qn(f)||!Qn(h))){let O,L;const $=Wu(h),F=Wu(f);if(!Qn(x)&&!isNaN(x)){const z=o.valueAsNumber||x&&+x;Qn($.value)||(O=z>$.value),Qn(F.value)||(L=z<F.value)}else{const z=o.valueAsDate||new Date(x),V=K=>new Date(new Date().toDateString()+" "+K),R=o.type=="time",U=o.type=="week";Na($.value)&&x&&(O=R?V(x)>V($.value):U?x>$.value:z>new Date($.value)),Na(F.value)&&x&&(L=R?V(x)<V(F.value):U?x<F.value:z<new Date(F.value))}if((O||L)&&(I(!!O,$.message,F.message,Ds.max,Ds.min),!n))return _(S[p].message),S}if((u||d)&&!A&&(Na(x)||i&&Array.isArray(x))){const O=Wu(u),L=Wu(d),$=!Qn(O.value)&&x.length>+O.value,F=!Qn(L.value)&&x.length<+L.value;if(($||F)&&(I($,O.message,L.message),!n))return _(S[p].message),S}if(m&&!A&&Na(x)){const{value:O,message:L}=Wu(m);if(Sx(O)&&!x.match(O)&&(S[p]={type:Ds.pattern,message:L,ref:o,...T(Ds.pattern,L)},!n))return _(L),S}if(g){if(Dn(g)){const O=await g(x,r),L=fM(O,w);if(L&&(S[p]={...L,...T(Ds.validate,L.message)},!n))return _(L.message),S}else if(Tr(g)){let O={};for(const L in g){if(!Mn(O)&&!n)break;const $=fM(await g[L](x,r),w,L);$&&(O={...$,...T(L,$.message)},_($.message),n&&(S[p]=O))}if(!Mn(O)&&(S[p]={ref:w,...O},!n))return S}}return _(!0),S};const Hie={mode:$i.onSubmit,reValidateMode:$i.onChange,shouldFocusError:!0};function qie(e={}){let t={...Hie,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Tr(t.defaultValues)||Tr(t.values)?kr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:kr(a),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:nM(),state:nM()},g=t.criteriaMode===$i.all,p=H=>W=>{clearTimeout(u),u=setTimeout(H,W)},v=async H=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||H)){let W;t.resolver?(W=Mn((await P()).errors),b()):W=await T(n,!0),W!==r.isValid&&m.state.next({isValid:W})}},b=(H,W)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((H||Array.from(l.mount)).forEach(X=>{X&&(W?Et(r.validatingFields,X,W):Cr(r.validatingFields,X))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Mn(r.validatingFields)}))},x=(H,W=[],X,de,ue=!0,ie=!0)=>{if(de&&X&&!t.disabled){if(o.action=!0,ie&&Array.isArray(_e(n,H))){const Ae=X(_e(n,H),de.argA,de.argB);ue&&Et(n,H,Ae)}if(ie&&Array.isArray(_e(r.errors,H))){const Ae=X(_e(r.errors,H),de.argA,de.argB);ue&&Et(r.errors,H,Ae),Vie(r.errors,H)}if((f.touchedFields||h.touchedFields)&&ie&&Array.isArray(_e(r.touchedFields,H))){const Ae=X(_e(r.touchedFields,H),de.argA,de.argB);ue&&Et(r.touchedFields,H,Ae)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ad(a,i)),m.state.next({name:H,isDirty:O(H,W),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Et(i,H,W)},w=(H,W)=>{Et(r.errors,H,W),m.state.next({errors:r.errors})},_=H=>{r.errors=H,m.state.next({errors:r.errors,isValid:!1})},S=(H,W,X,de)=>{const ue=_e(n,H);if(ue){const ie=_e(i,H,ar(X)?_e(a,H):X);ar(ie)||de&&de.defaultChecked||W?Et(i,H,W?ie:oM(ue._f)):F(H,ie),o.mount&&!o.action&&v()}},N=(H,W,X,de,ue)=>{let ie=!1,Ae=!1;const ot={name:H};if(!t.disabled){if(!X||de){(f.isDirty||h.isDirty)&&(Ae=r.isDirty,r.isDirty=ot.isDirty=O(),ie=Ae!==ot.isDirty);const ut=Ii(_e(a,H),W);Ae=!!_e(r.dirtyFields,H),ut?Cr(r.dirtyFields,H):Et(r.dirtyFields,H,!0),ot.dirtyFields=r.dirtyFields,ie=ie||(f.dirtyFields||h.dirtyFields)&&Ae!==!ut}if(X){const ut=_e(r.touchedFields,H);ut||(Et(r.touchedFields,H,X),ot.touchedFields=r.touchedFields,ie=ie||(f.touchedFields||h.touchedFields)&&ut!==X)}ie&&ue&&m.state.next(ot)}return ie?ot:{}},k=(H,W,X,de)=>{const ue=_e(r.errors,H),ie=(f.isValid||h.isValid)&&ba(W)&&r.isValid!==W;if(t.delayError&&X?(c=p(()=>w(H,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Et(r.errors,H,X):Cr(r.errors,H)),(X?!Ii(ue,X):ue)||!Mn(de)||ie){const Ae={...de,...ie&&ba(W)?{isValid:W}:{},errors:r.errors,name:H};r={...r,...Ae},m.state.next(Ae)}},P=async H=>(b(H,!0),await t.resolver(i,t.context,Die(H||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),A=async H=>{const{errors:W}=await P(H);if(b(H),H)for(const X of H){const de=_e(W,X);de?Et(r.errors,X,de):Cr(r.errors,X)}else r.errors=W;return W},T=async(H,W,X={valid:!0})=>{for(const de in H){const ue=H[de];if(ue){const{_f:ie,...Ae}=ue;if(ie){const ot=l.array.has(ie.name),ut=ue._f&&Lie(ue._f);ut&&f.validatingFields&&b([ie.name],!0);const rr=await hM(ue,l.disabled,i,g,t.shouldUseNativeValidation&&!W,ot);if(ut&&f.validatingFields&&b([ie.name]),rr[ie.name]&&(X.valid=!1,W||e.shouldUseNativeValidation))break;!W&&(_e(rr,ie.name)?ot?Wie(r.errors,rr,ie.name):Et(r.errors,ie.name,rr[ie.name]):Cr(r.errors,ie.name))}!Mn(Ae)&&await T(Ae,W,X)}}return X.valid},I=()=>{for(const H of l.unMount){const W=_e(n,H);W&&(W._f.refs?W._f.refs.every(X=>!rj(X)):!rj(W._f.ref))&&G(H)}l.unMount=new Set},O=(H,W)=>!t.disabled&&(H&&W&&Et(i,H,W),!Ii(re(),a)),L=(H,W,X)=>GS(H,l,{...o.mount?i:ar(W)?a:Na(H)?{[H]:W}:W},X,W),$=H=>WE(_e(o.mount?i:a,H,t.shouldUnregister?_e(a,H,[]):[])),F=(H,W,X={})=>{const de=_e(n,H);let ue=W;if(de){const ie=de._f;ie&&(!ie.disabled&&Et(i,H,eU(W,ie)),ue=jx(ie.ref)&&Qn(W)?"":W,X6(ie.ref)?[...ie.ref.options].forEach(Ae=>Ae.selected=ue.includes(Ae.value)):ie.refs?Ng(ie.ref)?ie.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(ue)?Ae.checked=!!ue.find(ot=>ot===Ae.value):Ae.checked=ue===Ae.value||!!ue)}):ie.refs.forEach(Ae=>Ae.checked=Ae.value===ue):JE(ie.ref)?ie.ref.value="":(ie.ref.value=ue,ie.ref.type||m.state.next({name:H,values:kr(i)})))}(X.shouldDirty||X.shouldTouch)&&N(H,ue,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&K(H)},z=(H,W,X)=>{for(const de in W){if(!W.hasOwnProperty(de))return;const ue=W[de],ie=H+"."+de,Ae=_e(n,ie);(l.array.has(H)||Tr(ue)||Ae&&!Ae._f)&&!kc(ue)?z(ie,ue,X):F(ie,ue,X)}},V=(H,W,X={})=>{const de=_e(n,H),ue=l.array.has(H),ie=kr(W);Et(i,H,ie),ue?(m.array.next({name:H,values:kr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&X.shouldDirty&&m.state.next({name:H,dirtyFields:ad(a,i),isDirty:O(H,ie)})):de&&!de._f&&!Qn(ie)?z(H,ie,X):F(H,ie,X),uM(H,l)?m.state.next({...r,name:H,values:kr(i)}):m.state.next({name:o.mount?H:void 0,values:kr(i)})},R=async H=>{o.mount=!0;const W=H.target;let X=W.name,de=!0;const ue=_e(n,X),ie=ut=>{de=Number.isNaN(ut)||kc(ut)&&isNaN(ut.getTime())||Ii(ut,_e(i,X,ut))},Ae=lM(t.mode),ot=lM(t.reValidateMode);if(ue){let ut,rr;const za=W.type?oM(ue._f):q6(H),ua=H.type===_x.BLUR||H.type===_x.FOCUS_OUT,Xl=!Fie(ue._f)&&!t.resolver&&!_e(r.errors,X)&&!ue._f.deps||zie(ua,_e(r.touchedFields,X),r.isSubmitted,ot,Ae),Va=uM(X,l,ua);Et(i,X,za),ua?(!W||!W.readOnly)&&(ue._f.onBlur&&ue._f.onBlur(H),c&&c(0)):ue._f.onChange&&ue._f.onChange(H);const To=N(X,za,ua),ts=!Mn(To)||Va;if(!ua&&m.state.next({name:X,type:H.type,values:kr(i)}),Xl)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?ua&&v():ua||v()),ts&&m.state.next({name:X,...Va?{}:To});if(!ua&&Va&&m.state.next({...r}),t.resolver){const{errors:Ql}=await P([X]);if(b([X]),ie(za),de){const Oh=dM(r.errors,n,X),Zl=dM(Ql,n,Oh.name||X);ut=Zl.error,X=Zl.name,rr=Mn(Ql)}}else b([X],!0),ut=(await hM(ue,l.disabled,i,g,t.shouldUseNativeValidation))[X],b([X]),ie(za),de&&(ut?rr=!1:(f.isValid||h.isValid)&&(rr=await T(n,!0)));de&&(ue._f.deps&&(!Array.isArray(ue._f.deps)||ue._f.deps.length>0)&&K(ue._f.deps),k(X,rr,ut,To))}},U=(H,W)=>{if(_e(r.errors,W)&&H.focus)return H.focus(),1},K=async(H,W={})=>{let X,de;const ue=Om(H);if(t.resolver){const ie=await A(ar(H)?H:ue);X=Mn(ie),de=H?!ue.some(Ae=>_e(ie,Ae)):X}else H?(de=(await Promise.all(ue.map(async ie=>{const Ae=_e(n,ie);return await T(Ae&&Ae._f?{[ie]:Ae}:Ae)}))).every(Boolean),!(!de&&!r.isValid)&&v()):de=X=await T(n);return m.state.next({...!Na(H)||(f.isValid||h.isValid)&&X!==r.isValid?{}:{name:H},...t.resolver||!H?{isValid:X}:{},errors:r.errors}),W.shouldFocus&&!de&&Am(n,U,H?ue:l.mount),de},re=(H,W)=>{let X={...o.mount?i:a};return W&&(X=J6(W.dirtyFields?r.dirtyFields:r.touchedFields,X)),ar(H)?X:Na(H)?_e(X,H):H.map(de=>_e(X,de))},ee=(H,W)=>({invalid:!!_e((W||r).errors,H),isDirty:!!_e((W||r).dirtyFields,H),error:_e((W||r).errors,H),isValidating:!!_e(r.validatingFields,H),isTouched:!!_e((W||r).touchedFields,H)}),j=H=>{H&&Om(H).forEach(W=>Cr(r.errors,W)),m.state.next({errors:H?r.errors:{}})},E=(H,W,X)=>{const de=(_e(n,H,{_f:{}})._f||{}).ref,ue=_e(r.errors,H)||{},{ref:ie,message:Ae,type:ot,...ut}=ue;Et(r.errors,H,{...ut,...W,ref:de}),m.state.next({name:H,errors:r.errors,isValid:!1}),X&&X.shouldFocus&&de&&de.focus&&de.focus()},C=(H,W)=>Dn(H)?m.state.subscribe({next:X=>"values"in X&&H(L(void 0,W),X)}):L(H,W,!0),B=H=>m.state.subscribe({next:W=>{Uie(H.name,W.name,H.exact)&&Bie(W,H.formState||f,st,H.reRenderRoot)&&H.callback({values:{...i},...r,...W,defaultValues:a})}}).unsubscribe,D=H=>(o.mount=!0,h={...h,...H.formState},B({...H,formState:{...d,...H.formState}})),G=(H,W={})=>{for(const X of H?Om(H):l.mount)l.mount.delete(X),l.array.delete(X),W.keepValue||(Cr(n,X),Cr(i,X)),!W.keepError&&Cr(r.errors,X),!W.keepDirty&&Cr(r.dirtyFields,X),!W.keepTouched&&Cr(r.touchedFields,X),!W.keepIsValidating&&Cr(r.validatingFields,X),!t.shouldUnregister&&!W.keepDefaultValue&&Cr(a,X);m.state.next({values:kr(i)}),m.state.next({...r,...W.keepDirty?{isDirty:O()}:{}}),!W.keepIsValid&&v()},q=({disabled:H,name:W})=>{if(ba(H)&&o.mount||H||l.disabled.has(W)){const ue=l.disabled.has(W)!==!!H;H?l.disabled.add(W):l.disabled.delete(W),ue&&o.mount&&!o.action&&v()}},J=(H,W={})=>{let X=_e(n,H);const de=ba(W.disabled)||ba(t.disabled);return Et(n,H,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:H}},name:H,mount:!0,...W}}),l.mount.add(H),X?q({disabled:ba(W.disabled)?W.disabled:t.disabled,name:H}):S(H,!0,W.value),{...de?{disabled:W.disabled||t.disabled}:{},...t.progressive?{required:!!W.required,min:Wh(W.min),max:Wh(W.max),minLength:Wh(W.minLength),maxLength:Wh(W.maxLength),pattern:Wh(W.pattern)}:{},name:H,onChange:R,onBlur:R,ref:ue=>{if(ue){J(H,W),X=_e(n,H);const ie=ar(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,Ae=Mie(ie),ot=X._f.refs||[];if(Ae?ot.find(ut=>ut===ie):ie===X._f.ref)return;Et(n,H,{_f:{...X._f,...Ae?{refs:[...ot.filter(rj),ie,...Array.isArray(_e(a,H))?[{}]:[]],ref:{type:ie.type,name:H}}:{ref:ie}}}),S(H,!1,void 0,ie)}else X=_e(n,H,{}),X._f&&(X._f.mount=!1),(t.shouldUnregister||W.shouldUnregister)&&!(G6(l.array,H)&&o.action)&&l.unMount.add(H)}}},te=()=>t.shouldFocusError&&Am(n,U,l.mount),Y=H=>{ba(H)&&(m.state.next({disabled:H}),Am(n,(W,X)=>{const de=_e(n,X);de&&(W.disabled=de._f.disabled||H,Array.isArray(de._f.refs)&&de._f.refs.forEach(ue=>{ue.disabled=de._f.disabled||H}))},0,!1))},be=(H,W)=>async X=>{let de;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ue=kr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:Ae}=await P();b(),r.errors=ie,ue=kr(Ae)}else await T(n);if(l.disabled.size)for(const ie of l.disabled)Cr(ue,ie);if(Cr(r.errors,"root"),Mn(r.errors)){m.state.next({errors:{}});try{await H(ue,X)}catch(ie){de=ie}}else W&&await W({...r.errors},X),te(),setTimeout(te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mn(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},ke=(H,W={})=>{_e(n,H)&&(ar(W.defaultValue)?V(H,kr(_e(a,H))):(V(H,W.defaultValue),Et(a,H,kr(W.defaultValue))),W.keepTouched||Cr(r.touchedFields,H),W.keepDirty||(Cr(r.dirtyFields,H),r.isDirty=W.defaultValue?O(H,kr(_e(a,H))):O()),W.keepError||(Cr(r.errors,H),f.isValid&&v()),m.state.next({...r}))},Je=(H,W={})=>{const X=H?kr(H):a,de=kr(X),ue=Mn(H),ie=ue?a:de;if(W.keepDefaultValues||(a=X),!W.keepValues){if(W.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(ad(a,i))]);for(const ot of Array.from(Ae)){const ut=_e(r.dirtyFields,ot),rr=_e(i,ot),za=_e(ie,ot);ut&&!ar(rr)?Et(ie,ot,rr):!ut&&!ar(za)&&V(ot,za)}}else{if(VE&&ar(H))for(const Ae of l.mount){const ot=_e(n,Ae);if(ot&&ot._f){const ut=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(jx(ut)){const rr=ut.closest("form");if(rr){rr.reset();break}}}}if(W.keepFieldsRef)for(const Ae of l.mount)V(Ae,_e(ie,Ae));else n={}}i=t.shouldUnregister?W.keepDefaultValues?kr(a):{}:kr(ie),m.array.next({values:{...ie}}),m.state.next({values:{...ie}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!W.keepIsValid||!!W.keepDirtyValues||!t.shouldUnregister&&!Mn(ie),o.watch=!!t.shouldUnregister,o.keepIsValid=!!W.keepIsValid,o.action=!1,W.keepErrors||(r.errors={}),m.state.next({submitCount:W.keepSubmitCount?r.submitCount:0,isDirty:ue?!1:W.keepDirty?r.isDirty:!!(W.keepDefaultValues&&!Ii(H,a)),isSubmitted:W.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ue?{}:W.keepDirtyValues?W.keepDefaultValues&&i?ad(a,i):r.dirtyFields:W.keepDefaultValues&&H?ad(a,H):W.keepDirty?r.dirtyFields:{},touchedFields:W.keepTouched?r.touchedFields:{},errors:W.keepErrors?r.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},He=(H,W)=>Je(Dn(H)?H(i):H,{...t.resetOptions,...W}),Be=(H,W={})=>{const X=_e(n,H),de=X&&X._f;if(de){const ue=de.refs?de.refs[0]:de.ref;ue.focus&&setTimeout(()=>{ue.focus(),W.shouldSelect&&Dn(ue.select)&&ue.select()})}},st=H=>{r={...r,...H}},St={control:{register:J,unregister:G,getFieldState:ee,handleSubmit:be,setError:E,_subscribe:B,_runSchema:P,_updateIsValidating:b,_focusError:te,_getWatch:L,_getDirty:O,_setValid:v,_setFieldArray:x,_setDisabledField:q,_setErrors:_,_getFieldArray:$,_reset:Je,_resetDefaultValues:()=>Dn(t.defaultValues)&&t.defaultValues().then(H=>{He(H,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Y,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(H){o=H},get _defaultValues(){return a},get _names(){return l},set _names(H){l=H},get _formState(){return r},get _options(){return t},set _options(H){t={...t,...H}}},subscribe:D,trigger:K,register:J,handleSubmit:be,watch:C,setValue:V,getValues:re,reset:He,resetField:ke,clearErrors:j,unregister:G,setError:E,setFocus:Be,getFieldState:ee};return{...St,formControl:St}}function _d(e={}){const t=M.useRef(void 0),r=M.useRef(void 0),[n,a]=M.useState({isDirty:!1,isValidating:!1,isLoading:Dn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Dn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=qie(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,KE(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),M.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),M.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),M.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),M.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),M.useEffect(()=>{var o;e.values&&!Ii(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),M.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=M.useMemo(()=>K6(n,i),[i,n]),t.current}const mM=(e,t,r)=>{if(e&&"reportValidity"in e){const n=_e(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},rU=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?mM(n.ref,r,e):n.refs&&n.refs.forEach(a=>mM(a,r,e))}},Gie=(e,t)=>{t.shouldUseNativeValidation&&rU(e,t);const r={};for(const n in e){const a=_e(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(Kie(t.names||Object.keys(e),n)){const o=Object.assign({},_e(r,n));Et(o,"root",i),Et(r,n,o)}else Et(r,n,i)}return r},Kie=(e,t)=>e.some(r=>r.startsWith(t+"."));var Yie=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Y6(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},jd=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&rU({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Gie(Yie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},bt;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(bt||(bt={}));var pM;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(pM||(pM={}));const Te=bt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Go=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return Number.isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},ye=bt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class vo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof vo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}vo.create=e=>new vo(e);const JS=(e,t)=>{let r;switch(e.code){case ye.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,bt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${bt.joinValues(e.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bt.joinValues(e.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${bt.joinValues(e.options)}, received '${e.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:bt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,bt.assertNever(e)}return{message:r}};let Jie=JS;function Xie(){return Jie}const Qie=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}};function Ce(e,t){const r=Xie(),n=Qie({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===JS?void 0:JS].filter(a=>!!a)});e.common.issues.push(n)}class Da{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return nt;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Da.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return nt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const nt=Object.freeze({status:"aborted"}),fm=e=>({status:"dirty",value:e}),ui=e=>({status:"valid",value:e}),gM=e=>e.status==="aborted",vM=e=>e.status==="dirty",pf=e=>e.status==="valid",Nx=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Ol{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yM=(e,t)=>{if(pf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new vo(e.common.issues);return this._error=r,this._error}}};function ct(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class xt{get description(){return this._def.description}_getType(t){return Go(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Go(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Da,ctx:{common:t.parent.common,data:t.data,parsedType:Go(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Nx(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)},a=this._parseSync({data:t,path:n.path,parent:n});return yM(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return pf(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>pf(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Go(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Nx(a)?a:Promise.resolve(a));return yM(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ye.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new vf({schema:this,typeName:at.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return wl.create(this,this._def)}nullable(){return yf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _s.create(this)}promise(){return Ex.create(this,this._def)}or(t){return kx.create([this,t],this._def)}and(t){return Cx.create(this,t,this._def)}transform(t){return new vf({...ct(this._def),schema:this,typeName:at.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ZS({...ct(this._def),innerType:this,defaultValue:r,typeName:at.ZodDefault})}brand(){return new wse({typeName:at.ZodBranded,type:this,...ct(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new eN({...ct(this._def),innerType:this,catchValue:r,typeName:at.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return QE.create(this,t)}readonly(){return tN.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zie=/^c[^\s-]{8,}$/i,ese=/^[0-9a-z]+$/,tse=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rse=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nse=/^[a-z0-9_-]{21}$/i,ase=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ise=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sse=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ose="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nj;const lse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cse=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,use=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dse=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fse=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hse=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nU="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mse=new RegExp(`^${nU}$`);function aU(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function pse(e){return new RegExp(`^${aU(e)}$`)}function gse(e){let t=`${nU}T${aU(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function vse(e,t){return!!((t==="v4"||!t)&&lse.test(e)||(t==="v6"||!t)&&use.test(e))}function yse(e,t){if(!ase.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function xse(e,t){return!!((t==="v4"||!t)&&cse.test(e)||(t==="v6"||!t)&&dse.test(e))}class cl extends xt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const i=this._getOrReturnCtx(t);return Ce(i,{code:ye.invalid_type,expected:Te.string,received:i.parsedType}),nt}const n=new Da;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?Ce(a,{code:ye.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ce(a,{code:ye.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")sse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"email",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")nj||(nj=new RegExp(ose,"u")),nj.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"emoji",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")rse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"uuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")nse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"nanoid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Zie.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")ese.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid2",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")tse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ulid",code:ye.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ce(a,{validation:"url",code:ye.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"regex",code:ye.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?gse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?mse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?pse(i).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?ise.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"duration",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?vse(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ip",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?yse(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"jwt",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?xse(t.data,i.version)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cidr",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?fse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"base64",code:ye.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?hse.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"base64url",code:ye.invalid_string,message:i.message}),n.dirty()):bt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ye.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new cl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new cl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}cl.create=e=>new cl({checks:[],typeName:at.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});function bse(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),o=Number.parseInt(t.toFixed(a).replace(".",""));return i%o/10**a}class yp extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const i=this._getOrReturnCtx(t);return Ce(i,{code:ye.invalid_type,expected:Te.number,received:i.parsedType}),nt}let n;const a=new Da;for(const i of this._def.checks)i.kind==="int"?bt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?bse(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.not_finite,message:i.message}),a.dirty()):bt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new yp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new yp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&bt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}yp.create=e=>new yp({checks:[],typeName:at.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class xp extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Te.bigint)return this._getInvalidInput(t);let n;const a=new Da;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:ye.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):bt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:ye.invalid_type,expected:Te.bigint,received:r.parsedType}),nt}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,a){return new xp({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(a)}]})}_addCheck(t){return new xp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}xp.create=e=>new xp({checks:[],typeName:at.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ct(e)});class XS extends xt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.boolean,received:n.parsedType}),nt}return ui(t.data)}}XS.create=e=>new XS({typeName:at.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ct(e)});class bp extends xt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const i=this._getOrReturnCtx(t);return Ce(i,{code:ye.invalid_type,expected:Te.date,received:i.parsedType}),nt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ce(i,{code:ye.invalid_date}),nt}const n=new Da;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:ye.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):bt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new bp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}bp.create=e=>new bp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:at.ZodDate,...ct(e)});class xM extends xt{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.symbol,received:n.parsedType}),nt}return ui(t.data)}}xM.create=e=>new xM({typeName:at.ZodSymbol,...ct(e)});class bM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.undefined,received:n.parsedType}),nt}return ui(t.data)}}bM.create=e=>new bM({typeName:at.ZodUndefined,...ct(e)});class wM extends xt{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.null,received:n.parsedType}),nt}return ui(t.data)}}wM.create=e=>new wM({typeName:at.ZodNull,...ct(e)});class _M extends xt{constructor(){super(...arguments),this._any=!0}_parse(t){return ui(t.data)}}_M.create=e=>new _M({typeName:at.ZodAny,...ct(e)});class jM extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ui(t.data)}}jM.create=e=>new jM({typeName:at.ZodUnknown,...ct(e)});class Al extends xt{_parse(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:ye.invalid_type,expected:Te.never,received:r.parsedType}),nt}}Al.create=e=>new Al({typeName:at.ZodNever,...ct(e)});class SM extends xt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.void,received:n.parsedType}),nt}return ui(t.data)}}SM.create=e=>new SM({typeName:at.ZodVoid,...ct(e)});class _s extends xt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Te.array)return Ce(r,{code:ye.invalid_type,expected:Te.array,received:r.parsedType}),nt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(Ce(r,{code:o?ye.too_big:ye.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ce(r,{code:ye.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ce(r,{code:ye.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Ol(r,o,r.path,l)))).then(o=>Da.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Ol(r,o,r.path,l)));return Da.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new _s({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new _s({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new _s({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}_s.create=(e,t)=>new _s({type:e,minLength:null,maxLength:null,exactLength:null,typeName:at.ZodArray,...ct(t)});function id(e){if(e instanceof Or){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=wl.create(id(n))}return new Or({...e._def,shape:()=>t})}else return e instanceof _s?new _s({...e._def,type:id(e.element)}):e instanceof wl?wl.create(id(e.unwrap())):e instanceof yf?yf.create(id(e.unwrap())):e instanceof ru?ru.create(e.items.map(t=>id(t))):e}class Or extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=bt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return Ce(u,{code:ye.invalid_type,expected:Te.object,received:u.parsedType}),nt}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Al&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ol(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Al){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ce(a,{code:ye.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ol(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Da.mergeObjectSync(n,u)):Da.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new Or({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Or({...this._def,unknownKeys:"strip"})}passthrough(){return new Or({...this._def,unknownKeys:"passthrough"})}extend(t){return new Or({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Or({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:at.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Or({...this._def,catchall:t})}pick(t){const r={};for(const n of bt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}omit(t){const r={};for(const n of bt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Or({...this._def,shape:()=>r})}deepPartial(){return id(this)}partial(t){const r={};for(const n of bt.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Or({...this._def,shape:()=>r})}required(t){const r={};for(const n of bt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof wl;)i=i._def.innerType;r[n]=i}return new Or({...this._def,shape:()=>r})}keyof(){return iU(bt.objectKeys(this.shape))}}Or.create=(e,t)=>new Or({shape:()=>e,unknownKeys:"strip",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});Or.strictCreate=(e,t)=>new Or({shape:()=>e,unknownKeys:"strict",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});Or.lazycreate=(e,t)=>new Or({shape:e,unknownKeys:"strip",catchall:Al.create(),typeName:at.ZodObject,...ct(t)});class kx extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new vo(l.ctx.common.issues));return Ce(r,{code:ye.invalid_union,unionErrors:o}),nt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new vo(c));return Ce(r,{code:ye.invalid_union,unionErrors:l}),nt}}get options(){return this._def.options}}kx.create=(e,t)=>new kx({options:e,typeName:at.ZodUnion,...ct(t)});function QS(e,t){const r=Go(e),n=Go(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const a=bt.objectKeys(t),i=bt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=QS(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=QS(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Cx extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(gM(i)||gM(o))return nt;const l=QS(i.value,o.value);return l.valid?((vM(i)||vM(o))&&r.dirty(),{status:r.value,value:l.data}):(Ce(n,{code:ye.invalid_intersection_types}),nt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Cx.create=(e,t,r)=>new Cx({left:e,right:t,typeName:at.ZodIntersection,...ct(r)});class ru extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return Ce(n,{code:ye.invalid_type,expected:Te.array,received:n.parsedType}),nt;if(n.data.length<this._def.items.length)return Ce(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nt;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ol(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Da.mergeArray(r,o)):Da.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ru({...this._def,rest:t})}}ru.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ru({items:e,typeName:at.ZodTuple,rest:null,...ct(t)})};class NM extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return Ce(n,{code:ye.invalid_type,expected:Te.map,received:n.parsedType}),nt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Ol(n,l,n.path,[u,"key"])),value:i._parse(new Ol(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return nt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}NM.create=(e,t,r)=>new NM({valueType:t,keyType:e,typeName:at.ZodMap,...ct(r)});class wp extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return Ce(n,{code:ye.invalid_type,expected:Te.set,received:n.parsedType}),nt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ce(n,{code:ye.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ce(n,{code:ye.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return nt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Ol(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new wp({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new wp({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}wp.create=(e,t)=>new wp({valueType:e,minSize:null,maxSize:null,typeName:at.ZodSet,...ct(t)});class kM extends xt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}kM.create=(e,t)=>new kM({getter:e,typeName:at.ZodLazy,...ct(t)});class CM extends xt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ce(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),nt}return{status:"valid",value:t.data}}get value(){return this._def.value}}CM.create=(e,t)=>new CM({value:e,typeName:at.ZodLiteral,...ct(t)});function iU(e,t){return new gf({values:e,typeName:at.ZodEnum,...ct(t)})}class gf extends xt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{expected:bt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{received:r.data,code:ye.invalid_enum_value,options:n}),nt}return ui(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gf.create(t,{...this._def,...r})}exclude(t,r=this._def){return gf.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gf.create=iU;class EM extends xt{_parse(t){const r=bt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=bt.objectValues(r);return Ce(n,{expected:bt.joinValues(a),received:n.parsedType,code:ye.invalid_type}),nt}if(this._cache||(this._cache=new Set(bt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=bt.objectValues(r);return Ce(n,{received:n.data,code:ye.invalid_enum_value,options:a}),nt}return ui(t.data)}get enum(){return this._def.values}}EM.create=(e,t)=>new EM({values:e,typeName:at.ZodNativeEnum,...ct(t)});class Ex extends xt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ce(r,{code:ye.invalid_type,expected:Te.promise,received:r.parsedType}),nt;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return ui(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ex.create=(e,t)=>new Ex({type:e,typeName:at.ZodPromise,...ct(t)});class vf extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===at.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{Ce(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return nt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?nt:c.status==="dirty"||r.value==="dirty"?fm(c.value):c});{if(r.value==="aborted")return nt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?nt:l.status==="dirty"||r.value==="dirty"?fm(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?nt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pf(o))return nt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>pf(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):nt);bt.assertNever(a)}}vf.create=(e,t,r)=>new vf({schema:e,typeName:at.ZodEffects,effect:t,...ct(r)});vf.createWithPreprocess=(e,t,r)=>new vf({schema:t,effect:{type:"preprocess",transform:e},typeName:at.ZodEffects,...ct(r)});class wl extends xt{_parse(t){return this._getType(t)===Te.undefined?ui(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wl.create=(e,t)=>new wl({innerType:e,typeName:at.ZodOptional,...ct(t)});class yf extends xt{_parse(t){return this._getType(t)===Te.null?ui(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yf.create=(e,t)=>new yf({innerType:e,typeName:at.ZodNullable,...ct(t)});class ZS extends xt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ZS.create=(e,t)=>new ZS({innerType:e,typeName:at.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ct(t)});class eN extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Nx(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new vo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new vo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}eN.create=(e,t)=>new eN({innerType:e,typeName:at.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ct(t)});class PM extends xt{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return Ce(n,{code:ye.invalid_type,expected:Te.nan,received:n.parsedType}),nt}return{status:"valid",value:t.data}}}PM.create=e=>new PM({typeName:at.ZodNaN,...ct(e)});class wse extends xt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class QE extends xt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nt:i.status==="dirty"?(r.dirty(),fm(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?nt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new QE({in:t,out:r,typeName:at.ZodPipeline})}}class tN extends xt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(pf(a)&&(a.value=Object.freeze(a.value)),a);return Nx(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}tN.create=(e,t)=>new tN({innerType:e,typeName:at.ZodReadonly,...ct(t)});var at;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(at||(at={}));const ir=cl.create,_se=XS.create,jse=bp.create;Al.create;_s.create;const fh=Or.create;kx.create;Cx.create;ru.create;const Sse=gf.create;Ex.create;wl.create;yf.create;const Ze=y.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ve("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ze.displayName="Input";var Nse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kse=Nse.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Cse="Label",sU=y.forwardRef((e,t)=>s.jsx(kse.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sU.displayName=Cse;var oU=sU;const Ese=w0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fe=y.forwardRef(({className:e,...t},r)=>s.jsx(oU,{ref:r,className:ve(Ese(),e),...t}));fe.displayName=oU.displayName;const se=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const me=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",e),...t}));me.displayName="CardHeader";const xe=y.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",e),...t}));xe.displayName="CardTitle";const Se=y.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));Se.displayName="CardDescription";const ce=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("p-6 pt-0",e),...t}));ce.displayName="CardContent";const Pse=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",e),...t}));Pse.displayName="CardFooter";function rN(e,[t,r]){return Math.min(r,Math.max(t,e))}var Ose=y.createContext(void 0);function hh(e){const t=y.useContext(Ose);return e||t||"ltr"}var aj=0;function D0(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??OM()),document.body.insertAdjacentElement("beforeend",e[1]??OM()),aj++,()=>{aj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),aj--}},[])}function OM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ij="focusScope.autoFocusOnMount",sj="focusScope.autoFocusOnUnmount",AM={bubbles:!1,cancelable:!0},Ase="FocusScope",kg=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=xr(a),d=xr(i),f=y.useRef(null),h=Ke(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:Uo(f.current,{select:!0})},v=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Uo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Uo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",v);const x=new MutationObserver(b);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",v),x.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){MM.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(ij,AM);l.addEventListener(ij,u),l.dispatchEvent(b),b.defaultPrevented||(Tse(Dse(lU(l)),{select:!0}),document.activeElement===p&&Uo(l))}return()=>{l.removeEventListener(ij,u),setTimeout(()=>{const b=new CustomEvent(sj,AM);l.addEventListener(sj,d),l.dispatchEvent(b),b.defaultPrevented||Uo(p??document.body,{select:!0}),l.removeEventListener(sj,d),MM.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const v=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(v&&b){const x=p.currentTarget,[w,_]=Mse(x);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&Uo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&Uo(_,{select:!0})):b===x&&p.preventDefault()}},[r,n,m.paused]);return s.jsx(Me.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});kg.displayName=Ase;function Tse(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Uo(n,{select:t}),document.activeElement!==r)return}function Mse(e){const t=lU(e),r=TM(t,e),n=TM(t.reverse(),e);return[r,n]}function lU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function TM(e,t){for(const r of e)if(!$se(r,{upTo:t}))return r}function $se(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ise(e){return e instanceof HTMLInputElement&&"select"in e}function Uo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ise(e)&&t&&e.select()}}var MM=Rse();function Rse(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$M(e,t),e.unshift(t)},remove(t){var r;e=$M(e,t),(r=e[0])==null||r.resume()}}}function $M(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Dse(e){return e.filter(t=>t.tagName!=="A")}function Lse(e){const t=Fse(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Use);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Fse(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Vse(a),l=zse(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bse=Symbol("radix.slottable");function Use(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bse}function zse(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Vse(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function L0(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Wse=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hu=new WeakMap,kv=new WeakMap,Cv={},oj=0,cU=function(e){return e&&(e.host||cU(e.parentNode))},Hse=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=cU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},qse=function(e,t,r,n){var a=Hse(t,Array.isArray(e)?e:[e]);Cv[r]||(Cv[r]=new WeakMap);var i=Cv[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Hu.get(h)||0)+1,v=(i.get(h)||0)+1;Hu.set(h,p),i.set(h,v),o.push(h),p===1&&g&&kv.set(h,!0),v===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),oj++,function(){o.forEach(function(f){var h=Hu.get(f)-1,m=i.get(f)-1;Hu.set(f,h),i.set(f,m),h||(kv.has(f)||f.removeAttribute(n),kv.delete(f)),m||f.removeAttribute(r)}),oj--,oj||(Hu=new WeakMap,Hu=new WeakMap,kv=new WeakMap,Cv={})}},F0=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Wse(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),qse(n,a,r,"aria-hidden")):function(){return null}},ky="right-scroll-bar-position",Cy="width-before-scroll-bar",Gse="with-scroll-bars-hidden",Kse="--removed-body-scroll-bar-size";function lj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Yse(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Jse=typeof window<"u"?y.useLayoutEffect:y.useEffect,IM=new WeakMap;function Xse(e,t){var r=Yse(null,function(n){return e.forEach(function(a){return lj(a,n)})});return Jse(function(){var n=IM.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||lj(l,null)}),i.forEach(function(l){a.has(l)||lj(l,o)})}IM.set(r,e)},[e]),r}function Qse(e){return e}function Zse(e,t){t===void 0&&(t=Qse);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function eoe(e){e===void 0&&(e={});var t=Zse(null);return t.options=fs({async:!0,ssr:!1},e),t}var uU=function(e){var t=e.sideCar,r=dh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,fs({},r))};uU.isSideCarExport=!0;function toe(e,t){return e.useMedium(t),uU}var dU=eoe(),cj=function(){},B0=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:cj,onWheelCapture:cj,onTouchMoveCapture:cj}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,v=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,w=e.gapMode,_=dh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,N=Xse([r,t]),k=fs(fs({},_),a);return y.createElement(y.Fragment,null,d&&y.createElement(S,{sideCar:dU,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!v,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),fs(fs({},k),{ref:N})):y.createElement(x,fs({},k,{className:c,ref:N}),l))});B0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};B0.classNames={fullWidth:Cy,zeroRight:ky};var roe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function noe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=roe();return t&&e.setAttribute("nonce",t),e}function aoe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ioe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var soe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=noe())&&(aoe(t,r),ioe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ooe=function(){var e=soe();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},fU=function(){var e=ooe(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},loe={left:0,top:0,right:0,gap:0},uj=function(e){return parseInt(e||"",10)||0},coe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[uj(r),uj(n),uj(a)]},uoe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return loe;var t=coe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},doe=fU(),Bd="data-scroll-locked",foe=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Gse,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ky,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cy,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ky," .").concat(ky,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bd,`] {
    `).concat(Kse,": ").concat(l,`px;
  }
`)},RM=function(){var e=parseInt(document.body.getAttribute(Bd)||"0",10);return isFinite(e)?e:0},hoe=function(){y.useEffect(function(){return document.body.setAttribute(Bd,(RM()+1).toString()),function(){var e=RM()-1;e<=0?document.body.removeAttribute(Bd):document.body.setAttribute(Bd,e.toString())}},[])},moe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;hoe();var i=y.useMemo(function(){return uoe(a)},[a]);return y.createElement(doe,{styles:foe(i,!t,a,r?"":"!important")})},nN=!1;if(typeof window<"u")try{var Ev=Object.defineProperty({},"passive",{get:function(){return nN=!0,!0}});window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,Ev)}catch{nN=!1}var qu=nN?{passive:!1}:!1,poe=function(e){return e.tagName==="TEXTAREA"},hU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!poe(e)&&r[t]==="visible")},goe=function(e){return hU(e,"overflowY")},voe=function(e){return hU(e,"overflowX")},DM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=mU(e,n);if(a){var i=pU(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yoe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xoe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mU=function(e,t){return e==="v"?goe(t):voe(t)},pU=function(e,t){return e==="v"?yoe(t):xoe(t)},boe=function(e,t){return e==="h"&&t==="rtl"?-1:1},woe=function(e,t,r,n,a){var i=boe(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=pU(e,l),g=m[0],p=m[1],v=m[2],b=p-v-i*g;(g||b)&&mU(e,l)&&(f+=b,h+=g);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Pv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LM=function(e){return[e.deltaX,e.deltaY]},FM=function(e){return e&&"current"in e?e.current:e},_oe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},joe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Soe=0,Gu=[];function Noe(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(Soe++)[0],i=y.useState(fU)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Cre([e.lockRef.current],(e.shards||[]).map(FM),!0).filter(Boolean);return p.forEach(function(v){return v.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,v){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Pv(p),x=r.current,w="deltaX"in p?p.deltaX:x[0]-b[0],_="deltaY"in p?p.deltaY:x[1]-b[1],S,N=p.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&k==="h"&&N.type==="range")return!1;var P=window.getSelection(),A=P&&P.anchorNode,T=A?A===N||A.contains(N):!1;if(T)return!1;var I=DM(k,N);if(!I)return!0;if(I?S=k:(S=k==="v"?"h":"v",I=DM(k,N)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=S),!S)return!0;var O=n.current||S;return woe(O,v,p,O==="h"?w:_)},[]),c=y.useCallback(function(p){var v=p;if(!(!Gu.length||Gu[Gu.length-1]!==i)){var b="deltaY"in v?LM(v):Pv(v),x=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&_oe(S.delta,b)})[0];if(x&&x.should){v.cancelable&&v.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(FM).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=w.length>0?l(v,w[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=y.useCallback(function(p,v,b,x){var w={name:p,delta:v,target:b,should:x,shadowParent:koe(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(p){r.current=Pv(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,LM(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Pv(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Gu.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,qu),document.addEventListener("touchmove",c,qu),document.addEventListener("touchstart",d,qu),function(){Gu=Gu.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,qu),document.removeEventListener("touchmove",c,qu),document.removeEventListener("touchstart",d,qu)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:joe(a)}):null,m?y.createElement(moe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function koe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Coe=toe(dU,Noe);var Cg=y.forwardRef(function(e,t){return y.createElement(B0,fs({},e,{ref:t,sideCar:Coe}))});Cg.classNames=B0.classNames;var Eoe=[" ","Enter","ArrowUp","ArrowDown"],Poe=[" ","Enter"],nu="Select",[U0,z0,Ooe]=y0(nu),[mh]=gn(nu,[Ooe,Dl]),V0=Dl(),[Aoe,Bl]=mh(nu),[Toe,Moe]=mh(nu),gU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=V0(t),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(!1),N=hh(u),[k,P]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:nu}),[A,T]=Wi({prop:o,defaultProp:l,onChange:c,caller:nu}),I=y.useRef(null),O=v?g||!!v.closest("form"):!0,[L,$]=y.useState(new Set),F=Array.from(L).map(z=>z.props.value).join(";");return s.jsx(EE,{...p,children:s.jsxs(Aoe,{required:m,scope:t,trigger:v,onTriggerChange:b,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:Bi(),value:A,onValueChange:T,open:k,onOpenChange:P,dir:N,triggerPointerDownPosRef:I,disabled:h,children:[s.jsx(U0.Provider,{scope:t,children:s.jsx(Toe,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(z=>{$(V=>new Set(V).add(z))},[]),onNativeOptionRemove:y.useCallback(z=>{$(V=>{const R=new Set(V);return R.delete(z),R})},[]),children:r})}),O?s.jsxs(BU,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:z=>T(z.target.value),disabled:h,form:g,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(L)]},F):null]})})};gU.displayName=nu;var vU="SelectTrigger",yU=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=V0(r),o=Bl(vU,r),l=o.disabled||n,c=Ke(t,o.onTriggerChange),u=z0(r),d=y.useRef("touch"),[f,h,m]=zU(p=>{const v=u().filter(w=>!w.disabled),b=v.find(w=>w.value===o.value),x=VU(v,p,b);x!==void 0&&o.onValueChange(x.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(_g,{asChild:!0,...i,children:s.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":UU(o.value)?"":void 0,...a,ref:c,onClick:he(a.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:he(a.onPointerDown,p=>{d.current=p.pointerType;const v=p.target;v.hasPointerCapture(p.pointerId)&&v.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:he(a.onKeyDown,p=>{const v=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(v&&p.key===" ")&&Eoe.includes(p.key)&&(g(),p.preventDefault())})})})});yU.displayName=vU;var xU="SelectValue",bU=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Bl(xU,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=Ke(t,c.onValueNodeChange);return Sr(()=>{u(d)},[u,d]),s.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:UU(c.value)?s.jsx(s.Fragment,{children:o}):i})});bU.displayName=xU;var $oe="SelectIcon",wU=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Me.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});wU.displayName=$oe;var Ioe="SelectPortal",_U=e=>s.jsx(ah,{asChild:!0,...e});_U.displayName=Ioe;var au="SelectContent",jU=y.forwardRef((e,t)=>{const r=Bl(au,e.__scopeSelect),[n,a]=y.useState();if(Sr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?_u.createPortal(s.jsx(SU,{scope:e.__scopeSelect,children:s.jsx(U0.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(NU,{...e,ref:t})});jU.displayName=au;var _i=10,[SU,Ul]=mh(au),Roe="SelectContentImpl",Doe=Lse("SelectContent.RemoveScroll"),NU=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v,...b}=e,x=Bl(au,r),[w,_]=y.useState(null),[S,N]=y.useState(null),k=Ke(t,D=>_(D)),[P,A]=y.useState(null),[T,I]=y.useState(null),O=z0(r),[L,$]=y.useState(!1),F=y.useRef(!1);y.useEffect(()=>{if(w)return F0(w)},[w]),D0();const z=y.useCallback(D=>{const[G,...q]=O().map(Y=>Y.ref.current),[J]=q.slice(-1),te=document.activeElement;for(const Y of D)if(Y===te||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===G&&S&&(S.scrollTop=0),Y===J&&S&&(S.scrollTop=S.scrollHeight),Y==null||Y.focus(),document.activeElement!==te))return},[O,S]),V=y.useCallback(()=>z([P,w]),[z,P,w]);y.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:R,triggerPointerDownPosRef:U}=x;y.useEffect(()=>{if(w){let D={x:0,y:0};const G=J=>{var te,Y;D={x:Math.abs(Math.round(J.pageX)-(((te=U.current)==null?void 0:te.x)??0)),y:Math.abs(Math.round(J.pageY)-(((Y=U.current)==null?void 0:Y.y)??0))}},q=J=>{D.x<=10&&D.y<=10?J.preventDefault():w.contains(J.target)||R(!1),document.removeEventListener("pointermove",G),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",q,{capture:!0})}}},[w,R,U]),y.useEffect(()=>{const D=()=>R(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[R]);const[K,re]=zU(D=>{const G=O().filter(te=>!te.disabled),q=G.find(te=>te.ref.current===document.activeElement),J=VU(G,D,q);J&&setTimeout(()=>J.ref.current.focus())}),ee=y.useCallback((D,G,q)=>{const J=!F.current&&!q;(x.value!==void 0&&x.value===G||J)&&(A(D),J&&(F.current=!0))},[x.value]),j=y.useCallback(()=>w==null?void 0:w.focus(),[w]),E=y.useCallback((D,G,q)=>{const J=!F.current&&!q;(x.value!==void 0&&x.value===G||J)&&I(D)},[x.value]),C=n==="popper"?aN:kU,B=C===aN?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:v}:{};return s.jsx(SU,{scope:r,content:w,viewport:S,onViewportChange:N,itemRefCallback:ee,selectedItem:P,onItemLeave:j,itemTextRefCallback:E,focusSelectedItem:V,selectedItemText:T,position:n,isPositioned:L,searchRef:K,children:s.jsx(Cg,{as:Doe,allowPinchZoom:!0,children:s.jsx(kg,{asChild:!0,trapped:x.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:he(a,D=>{var G;(G=x.trigger)==null||G.focus({preventScroll:!0}),D.preventDefault()}),children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(C,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:D=>D.preventDefault(),...b,...B,onPlaced:()=>$(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:he(b.onKeyDown,D=>{const G=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!G&&D.key.length===1&&re(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let J=O().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(D.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const te=D.target,Y=J.indexOf(te);J=J.slice(Y+1)}setTimeout(()=>z(J)),D.preventDefault()}})})})})})})});NU.displayName=Roe;var Loe="SelectItemAlignedPosition",kU=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Bl(au,r),o=Ul(au,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=Ke(t,k=>d(k)),h=z0(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:v,selectedItemText:b,focusSelectedItem:x}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&v&&b){const k=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),T=b.getBoundingClientRect();if(i.dir!=="rtl"){const te=T.left-P.left,Y=A.left-te,be=k.left-Y,ke=k.width+be,Je=Math.max(ke,P.width),He=window.innerWidth-_i,Be=rN(Y,[_i,Math.max(_i,He-Je)]);l.style.minWidth=ke+"px",l.style.left=Be+"px"}else{const te=P.right-T.right,Y=window.innerWidth-A.right-te,be=window.innerWidth-k.right-Y,ke=k.width+be,Je=Math.max(ke,P.width),He=window.innerWidth-_i,Be=rN(Y,[_i,Math.max(_i,He-Je)]);l.style.minWidth=ke+"px",l.style.right=Be+"px"}const I=h(),O=window.innerHeight-_i*2,L=p.scrollHeight,$=window.getComputedStyle(u),F=parseInt($.borderTopWidth,10),z=parseInt($.paddingTop,10),V=parseInt($.borderBottomWidth,10),R=parseInt($.paddingBottom,10),U=F+z+L+R+V,K=Math.min(v.offsetHeight*5,U),re=window.getComputedStyle(p),ee=parseInt(re.paddingTop,10),j=parseInt(re.paddingBottom,10),E=k.top+k.height/2-_i,C=O-E,B=v.offsetHeight/2,D=v.offsetTop+B,G=F+z+D,q=U-G;if(G<=E){const te=I.length>0&&v===I[I.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-p.offsetTop-p.offsetHeight,be=Math.max(C,B+(te?j:0)+Y+V),ke=G+be;l.style.height=ke+"px"}else{const te=I.length>0&&v===I[0].ref.current;l.style.top="0px";const be=Math.max(E,F+p.offsetTop+(te?ee:0)+B)+q;l.style.height=be+"px",p.scrollTop=G-E+p.offsetTop}l.style.margin=`${_i}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,v,b,i.dir,n]);Sr(()=>w(),[w]);const[_,S]=y.useState();Sr(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const N=y.useCallback(k=>{k&&g.current===!0&&(w(),x==null||x(),g.current=!1)},[w,x]);return s.jsx(Boe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(Me.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});kU.displayName=Loe;var Foe="SelectPopperPosition",aN=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=_i,...i}=e,o=V0(r);return s.jsx(C0,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aN.displayName=Foe;var[Boe,ZE]=mh(au,{}),iN="SelectViewport",CU=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ul(iN,r),o=ZE(iN,r),l=Ke(t,i.onViewportChange),c=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(U0.Slot,{scope:r,children:s.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-_i*2,p=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),b=Math.max(p,v);if(b<g){const x=b+m,w=Math.min(g,x),_=x-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});CU.displayName=iN;var EU="SelectGroup",[Uoe,zoe]=mh(EU),Voe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Bi();return s.jsx(Uoe,{scope:r,id:a,children:s.jsx(Me.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Voe.displayName=EU;var PU="SelectLabel",OU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=zoe(PU,r);return s.jsx(Me.div,{id:a.id,...n,ref:t})});OU.displayName=PU;var Px="SelectItem",[Woe,AU]=mh(Px),TU=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Bl(Px,r),c=Ul(Px,r),u=l.value===n,[d,f]=y.useState(i??""),[h,m]=y.useState(!1),g=Ke(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),p=Bi(),v=y.useRef("touch"),b=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Woe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:y.useCallback(x=>{f(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(U0.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Me.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:he(o.onFocus,()=>m(!0)),onBlur:he(o.onBlur,()=>m(!1)),onClick:he(o.onClick,()=>{v.current!=="mouse"&&b()}),onPointerUp:he(o.onPointerUp,()=>{v.current==="mouse"&&b()}),onPointerDown:he(o.onPointerDown,x=>{v.current=x.pointerType}),onPointerMove:he(o.onPointerMove,x=>{var w;v.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):v.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:he(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(Poe.includes(x.key)&&b(),x.key===" "&&x.preventDefault())})})})})});TU.displayName=Px;var hm="SelectItemText",MU=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Bl(hm,r),l=Ul(hm,r),c=AU(hm,r),u=Moe(hm,r),[d,f]=y.useState(null),h=Ke(t,b=>f(b),c.onItemTextChange,b=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:v}=u;return Sr(()=>(p(g),()=>v(g)),[p,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_u.createPortal(i.children,o.valueNode):null]})});MU.displayName=hm;var $U="SelectItemIndicator",IU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return AU($U,r).isSelected?s.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});IU.displayName=$U;var sN="SelectScrollUpButton",RU=y.forwardRef((e,t)=>{const r=Ul(sN,e.__scopeSelect),n=ZE(sN,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(LU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});RU.displayName=sN;var oN="SelectScrollDownButton",DU=y.forwardRef((e,t)=>{const r=Ul(oN,e.__scopeSelect),n=ZE(oN,e.__scopeSelect),[a,i]=y.useState(!1),o=Ke(t,n.onScrollButtonChange);return Sr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(LU,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});DU.displayName=oN;var LU=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ul("SelectScrollButton",r),o=y.useRef(null),l=z0(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),Sr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:he(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:he(a.onPointerLeave,()=>{c()})})}),Hoe="SelectSeparator",FU=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});FU.displayName=Hoe;var lN="SelectArrow",qoe=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=V0(r),i=Bl(lN,r),o=Ul(lN,r);return i.open&&o.position==="popper"?s.jsx(E0,{...a,...n,ref:t}):null});qoe.displayName=lN;var Goe="SelectBubbleInput",BU=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ke(n,a),o=L0(t);return y.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(Me.select,{...r,style:{...Y5,...r.style},ref:i,defaultValue:t})});BU.displayName=Goe;function UU(e){return e===""||e===void 0}function zU(e){const t=xr(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function VU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Koe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Koe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Yoe=gU,WU=yU,Joe=bU,Xoe=wU,Qoe=_U,HU=jU,Zoe=CU,qU=OU,GU=TU,ele=MU,tle=IU,KU=RU,YU=DU,JU=FU;const or=Yoe,lr=Joe,Qt=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(WU,{ref:n,className:ve("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Xoe,{asChild:!0,children:s.jsx(vB,{className:"h-4 w-4 opacity-50"})})]}));Qt.displayName=WU.displayName;const XU=y.forwardRef(({className:e,...t},r)=>s.jsx(KU,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bX,{className:"h-4 w-4"})}));XU.displayName=KU.displayName;const QU=y.forwardRef(({className:e,...t},r)=>s.jsx(YU,{ref:r,className:ve("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vB,{className:"h-4 w-4"})}));QU.displayName=YU.displayName;const Zt=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Qoe,{children:s.jsxs(HU,{ref:a,className:ve("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(XU,{}),s.jsx(Zoe,{className:ve("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(QU,{})]})}));Zt.displayName=HU.displayName;const rle=y.forwardRef(({className:e,...t},r)=>s.jsx(qU,{ref:r,className:ve("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));rle.displayName=qU.displayName;const Fe=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(GU,{ref:n,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(tle,{children:s.jsx(mE,{className:"h-4 w-4"})})}),s.jsx(ele,{children:t})]}));Fe.displayName=GU.displayName;const nle=y.forwardRef(({className:e,...t},r)=>s.jsx(JU,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));nle.displayName=JU.displayName;const ale="modulepreload",ile=function(e){return"/"+e},BM={},yo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=ile(c),c in BM)return;BM[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ale,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},_l="";class Ey extends Error{constructor(r,n){super(r);AA(this,"status");this.name="APIError",this.status=n}}const Tm=async()=>{const{supabase:e}=await yo(async()=>{const{supabase:r}=await Promise.resolve().then(()=>go);return{supabase:r}},void 0),{data:{session:t}}=await e.auth.getSession();return(t==null?void 0:t.access_token)||null};async function Le(e,t={}){const r=await Tm(),n={"Content-Type":"application/json",...t.headers||{}};r&&(n.Authorization=`Bearer ${r}`);const a=await fetch(`${_l}${e}`,{...t,headers:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Ey(i.detail||i.message||"API request failed",a.status)}return a.json()}const sle={list:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.limit&&t.set("limit",e.limit.toString());const r=t.toString()?`?${t}`:"";return Le(`/api/prescriptions${r}`)},get:e=>Le(`/api/prescriptions/${e}`),create:e=>Le("/api/prescriptions",{method:"POST",body:JSON.stringify(e)}),update:(e,t)=>Le(`/api/prescriptions/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Le(`/api/prescriptions/${e}/cancel`,{method:"POST"}),getPDF:e=>Le(`/api/prescriptions/${e}/pdf`),generatePDF:e=>Le("/api/prescriptions/generate-pdf",{method:"POST",body:JSON.stringify(e)})},ZU={requestPasswordReset:e=>Le("/api/auth/password/reset-request",{method:"POST",body:JSON.stringify({email:e})}),confirmPasswordReset:(e,t)=>Le("/api/auth/password/reset-confirm",{method:"POST",body:JSON.stringify({token:e,new_password:t})}),verifyToken:e=>Le(`/api/auth/verify-token?token=${e}`),checkAccount:e=>fetch(`${_l}/api/auth/check-account`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json()),sendSetupLink:e=>fetch(`${_l}/api/auth/send-setup-link`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(t=>t.json())},Kr={createConversation:e=>Le("/api/chat/conversations",{method:"POST",body:JSON.stringify({initial_message:e})}),getConversations:e=>{const t=new URLSearchParams;e!=null&&e.status&&t.set("status",e.status),e!=null&&e.assigned_to_me&&t.set("assigned_to_me","true"),e!=null&&e.unassigned_only&&t.set("unassigned_only","true");const r=t.toString()?`?${t}`:"";return Le(`/api/chat/conversations${r}`)},getUnassignedConversations:()=>Le("/api/chat/conversations/unassigned"),getMyChats:()=>Le("/api/chat/conversations/my-chats"),getConversation:e=>Le(`/api/chat/conversations/${e}`),claimConversation:e=>Le(`/api/chat/conversations/${e}/claim`,{method:"POST"}),reassignConversation:(e,t)=>Le(`/api/chat/conversations/${e}/reassign`,{method:"POST",body:JSON.stringify({receptionist_id:t})}),updateConversationStatus:(e,t)=>Le(`/api/chat/conversations/${e}/status`,{method:"PATCH",body:JSON.stringify({status:t})}),updatePatientType:(e,t)=>Le(`/api/chat/conversations/${e}/patient-type`,{method:"PATCH",body:JSON.stringify({patient_type:t})}),getMessages:(e,t=100)=>Le(`/api/chat/conversations/${e}/messages?limit=${t}`),sendMessage:(e,t,r="text",n,a)=>Le(`/api/chat/conversations/${e}/messages`,{method:"POST",body:JSON.stringify({content:t,message_type:r,file_url:n,file_name:a})}),markAsRead:e=>Le(`/api/chat/conversations/${e}/read`,{method:"POST"}),getStats:()=>Le("/api/chat/stats")},Ks={getFeeSchedule:()=>Le("/api/bookings/fee-schedule"),getAvailableClinicians:()=>Le("/api/bookings/clinicians/available"),create:e=>Le("/api/bookings",{method:"POST",body:JSON.stringify(e)}),list:e=>{const t=new URLSearchParams;e!=null&&e.patient_id&&t.set("patient_id",e.patient_id),e!=null&&e.clinician_id&&t.set("clinician_id",e.clinician_id),e!=null&&e.status&&t.set("status",e.status);const r=t.toString()?`?${t}`:"";return Le(`/api/bookings/${r}`)},get:e=>Le(`/api/bookings/${e}`),update:(e,t)=>Le(`/api/bookings/${e}`,{method:"PATCH",body:JSON.stringify(t)}),cancel:e=>Le(`/api/bookings/${e}`,{method:"DELETE"}),getMyInvoices:e=>{const t=e?`?status=${e}`:"";return Le(`/api/bookings/invoices/my-invoices${t}`)},getInvoice:e=>Le(`/api/bookings/invoices/${e}`),getInvoicePDF:async e=>{const{data:{session:t}}=await supabase.auth.getSession(),r={};t!=null&&t.access_token&&(r.Authorization=`Bearer ${t.access_token}`);const n=await fetch(`${_l}/api/bookings/invoices/${e}/pdf`,{headers:r});if(!n.ok)throw new Error("Failed to download PDF");return n.blob()},downloadInvoicePDF:async(e,t)=>{try{const r=await Ks.getInvoicePDF(e),n=window.URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t||`invoice_${e.slice(0,8)}.pdf`,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(n),document.body.removeChild(a)}catch(r){throw console.error("Failed to download invoice PDF:",r),r}},updateInvoiceStatus:(e,t,r)=>Le(`/api/bookings/invoices/${e}/status?status=${t}${r?`&payment_reference=${r}`:""}`,{method:"PATCH"})},UM={createRoom:e=>Le("/api/video/room",{method:"POST",body:JSON.stringify({appointment_id:e})}),createToken:(e,t,r=!1)=>Le("/api/video/token",{method:"POST",body:JSON.stringify({room_name:e,user_name:t,is_owner:r})}),getRoom:e=>Le(`/api/video/room/${e}`),checkHealth:()=>Le("/api/video/health")},Ro={getSummary:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/summary?${n}`)},getPeakTimes:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/peak-times?${n}`)},getCancellationStats:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/cancellation-reasons?${n}`)},getConversionFunnel:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/conversion-funnel?${n}`)},getNoShowRates:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/no-show-rates?${n}`)},getReceptionistWorkload:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/receptionist-workload?${n}`)},getTimestampTrends:(e="month",t,r)=>{const n=new URLSearchParams({period:e});return t&&n.set("start_date",t),r&&n.set("end_date",r),Le(`/api/admin/analytics/timestamp-trends?${n}`)},exportCSV:async(e="month",t,r)=>{const n=await Tm(),a=new URLSearchParams({period:e});t&&a.set("start_date",t),r&&a.set("end_date",r);const i=await fetch(`${_l}/api/admin/analytics/export/csv?${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("Failed to export CSV");const o=await i.blob(),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=`quadcare_analytics_${e}_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(l),document.body.removeChild(c)}},Hh={preview:async(e,t)=>{const r=await Tm(),n=new FormData;n.append("file",e),t&&n.append("password",t);const a=await fetch(`${_l}/api/admin/bulk-import/preview`,{method:"POST",headers:{Authorization:`Bearer ${r}`},body:n});if(!a.ok){const i=await a.json().catch(()=>({}));throw new Ey(i.detail||"Preview failed",a.status)}return a.json()},importStudents:async(e,t,r,n)=>{const a=await Tm(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const o=await fetch(`${_l}/api/admin/bulk-import/students`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Ey(l.detail||"Import failed",o.status)}return o.json()},startImport:async(e,t,r,n)=>{const a=await Tm(),i=new FormData;i.append("file",e),t&&i.append("password",t),r&&i.append("corporate_client",r),n&&i.append("client_type",n);const o=await fetch(`${_l}/api/admin/bulk-import/start`,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:i});if(!o.ok){const l=await o.json().catch(()=>({}));throw new Ey(l.detail||"Failed to start import",o.status)}return o.json()},getJobStatus:e=>Le(`/api/admin/bulk-import/jobs/${e}`),cancelJob:e=>Le(`/api/admin/bulk-import/jobs/${e}/cancel`,{method:"POST"}),listJobs:()=>Le("/api/admin/bulk-import/jobs"),getTemplate:()=>Le("/api/admin/bulk-import/template"),getCorporateClients:()=>Le("/api/admin/bulk-import/corporate-clients"),createCorporateClient:e=>Le("/api/admin/bulk-import/corporate-clients",{method:"POST",body:JSON.stringify(e)}),getAnalyticsByClient:()=>Le("/api/admin/bulk-import/analytics/by-client")},Ov={preview:e=>{const t=e?`?corporate_client_id=${e}`:"";return Le(`/api/admin/welcome-emails/preview${t}`)},send:e=>Le("/api/admin/welcome-emails/send",{method:"POST",body:JSON.stringify(e)}),getJobStatus:e=>Le(`/api/admin/welcome-emails/jobs/${e}`),listJobs:()=>Le("/api/admin/welcome-emails/jobs"),sendTest:()=>Le("/api/admin/welcome-emails/test",{method:"POST"})},ole=({onBack:e})=>{const[t,r]=y.useState(""),[n,a]=y.useState(!1),[i,o]=y.useState(!1),l=async c=>{if(c.preventDefault(),!t){le.error("Please enter your email address");return}a(!0);try{await ZU.requestPasswordReset(t),o(!0),le.success("Password reset link sent!")}catch{o(!0)}finally{a(!1)}};return i?s.jsx(se,{className:"w-full max-w-md mx-auto",children:s.jsxs(ce,{className:"pt-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"w-8 h-8 text-success"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Check Your Email"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["If an account exists with ",s.jsx("strong",{children:t}),", you will receive a password reset link shortly."]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Please check your spam folder if you don't see the email within a few minutes."}),s.jsxs(Z,{onClick:e,variant:"outline",className:"w-full",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})}):s.jsxs(se,{className:"w-full max-w-md mx-auto",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl gradient-primary flex items-center justify-center mx-auto mb-4",children:s.jsx(hs,{className:"w-6 h-6 text-primary-foreground"})}),s.jsx(xe,{children:"Reset Password"}),s.jsx(Se,{children:"Enter your email address and we'll send you a link to reset your password."})]}),s.jsx(ce,{children:s.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email Address"}),s.jsx(Ze,{id:"email",type:"email",placeholder:"you@example.com",value:t,onChange:c=>r(c.target.value),required:!0,disabled:n})]}),s.jsx(Z,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(hs,{className:"w-4 h-4 mr-2"}),"Send Reset Link"]})}),s.jsxs(Z,{type:"button",variant:"ghost",className:"w-full",onClick:e,disabled:n,children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]})},lle=fh({email:ir().email("Please enter a valid email address")}),cle=fh({password:ir().min(6,"Password must be at least 6 characters")}),ule=fh({password:ir().min(8,"Password must be at least 8 characters"),confirm_password:ir()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}),dle=fh({first_name:ir().min(1,"First name is required").max(50,"First name too long"),last_name:ir().min(1,"Last name is required").max(50,"Last name too long"),email:ir().email("Please enter a valid email address"),password:ir().min(8,"Password must be at least 8 characters"),confirm_password:ir(),role:Sse(["patient","nurse","doctor","receptionist"]),hpcsa_number:ir().optional()}).refine(e=>e.password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]}).refine(e=>!((e.role==="nurse"||e.role==="doctor")&&!e.hpcsa_number),{message:"HPCSA number is required for healthcare professionals",path:["hpcsa_number"]}),fle=()=>{var L,$;const[e,t]=y.useState("email"),[r,n]=y.useState(""),[a,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState("patient"),{signIn:h,signUp:m,user:g,role:p}=$r(),v=On(),b=As(),{toast:x}=cE();($=(L=b.state)==null?void 0:L.from)!=null&&$.pathname,y.useEffect(()=>{g&&p&&v({patient:"/patient",nurse:"/clinician",doctor:"/clinician",admin:"/admin",receptionist:"/receptionist"}[p],{replace:!0})},[g,p,v]);const w=_d({resolver:jd(lle),defaultValues:{email:""}}),_=_d({resolver:jd(cle),defaultValues:{password:""}}),S=_d({resolver:jd(ule),defaultValues:{password:"",confirm_password:""}}),N=_d({resolver:jd(dle),defaultValues:{first_name:"",last_name:"",email:"",password:"",confirm_password:"",role:"patient",hpcsa_number:""}}),k=async F=>{u(!0);const z=F.email.toLowerCase().trim();n(z);try{const V=await ZU.checkAccount(z);V!=null&&V.data?(i(V.data),V.data.exists?V.data.needs_password_setup?t("set-password"):t("password"):(x({title:"No account found",description:"Let's create your account!"}),N.setValue("email",z),t("signup"))):(N.setValue("email",z),t("signup"))}catch(V){console.error("Account check failed:",V),t("password")}u(!1)},P=async F=>{u(!0);const{error:z}=await h(r,F.password);z&&x({variant:"destructive",title:"Login failed",description:z.message==="Invalid login credentials"?"Invalid password. Please try again.":z.message}),u(!1)},A=async F=>{u(!0);try{const{error:z}=await Pe.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/auth?type=recovery`});if(z)throw z;x({title:"Check your email!",description:"We've sent you a link to set your password. Click it to complete setup."}),t("email"),i(null),w.reset()}catch(z){console.error("Set password failed:",z),x({variant:"destructive",title:"Failed to send password setup email",description:z.message||"Please try again."})}u(!1)},T=async F=>{u(!0);const{error:z}=await m(F.email,F.password,{first_name:F.first_name,last_name:F.last_name,role:F.role,hpcsa_number:F.hpcsa_number});z?z.message.includes("already registered")?(x({variant:"destructive",title:"Account exists",description:"An account with this email already exists. Please sign in."}),t("email")):x({variant:"destructive",title:"Signup failed",description:z.message}):x({title:"Account created!",description:"Welcome to Quadcare Telehealth. Redirecting..."}),u(!1)},I=F=>{f(F),N.setValue("role",F)},O=()=>{t("email"),i(null),_.reset(),S.reset()};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-primary/5 px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsx("img",{src:"/quadcare-logo.png",alt:"Quadcare",className:"h-16 w-auto",onError:F=>{F.currentTarget.style.display="none"}})}),e==="password-reset"?s.jsx(ole,{onBack:()=>t("email")}):e==="set-password"&&a?s.jsxs(se,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"p-4 rounded-full bg-green-100 dark:bg-green-900/30",children:s.jsx(qX,{className:"w-10 h-10 text-green-600"})})}),s.jsxs(xe,{className:"text-2xl",children:["Welcome",a.first_name?`, ${a.first_name}`:"","!"]}),s.jsx(Se,{className:"mt-2",children:"Set a password to activate your account."})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx(ux,{className:"w-4 h-4 text-green-600"}),s.jsxs("span",{children:["Pre-registered by ",s.jsx("strong",{children:"Campus Africa"})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:r})]}),s.jsxs("form",{onSubmit:S.handleSubmit(A),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"new-password",children:"Create Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"new-password",type:o?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...S.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(B_,{className:"w-4 h-4"}):s.jsx(jy,{className:"w-4 h-4"})})]}),S.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:S.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirm-new-password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"confirm-new-password",type:"password",placeholder:"Confirm your password",className:"pl-10",...S.register("confirm_password")})]}),S.formState.errors.confirm_password&&s.jsx("p",{className:"text-sm text-destructive",children:S.formState.errors.confirm_password.message})]}),s.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending setup email..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Set Password & Activate"]})})]}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"We'll send you an email with a secure link to set your password."}),s.jsx("button",{type:"button",onClick:O,className:"w-full text-sm text-muted-foreground hover:text-foreground",children:" Use a different email"})]})]}):e==="password"?s.jsxs(se,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(xe,{className:"text-2xl",children:"Welcome back!"}),s.jsx(Se,{children:"Enter your password to continue"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 text-sm flex items-center gap-2",children:[s.jsx(hs,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:r}),s.jsx("button",{type:"button",onClick:O,className:"ml-auto text-primary text-xs hover:underline",children:"Change"})]}),s.jsxs("form",{onSubmit:_.handleSubmit(P),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"password",type:o?"text":"password",placeholder:"",className:"pl-10 pr-10",autoFocus:!0,..._.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(B_,{className:"w-4 h-4"}):s.jsx(jy,{className:"w-4 h-4"})})]}),_.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.password.message})]}),s.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"Sign In"})]}),s.jsx("button",{type:"button",onClick:()=>t("password-reset"),className:"w-full text-sm text-primary hover:underline",children:"Forgot your password?"})]})]}):e==="signup"?s.jsxs(se,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(xe,{className:"text-2xl",children:"Create your account"}),s.jsx(Se,{children:"Join Quadcare Telehealth for quality healthcare"})]}),s.jsxs(ce,{children:[s.jsxs("form",{onSubmit:N.handleSubmit(T),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"first_name",children:"First Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Wr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"first_name",placeholder:"John",className:"pl-10",...N.register("first_name")})]}),N.formState.errors.first_name&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.first_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"last_name",children:"Last Name"}),s.jsx(Ze,{id:"last_name",placeholder:"Doe",...N.register("last_name")}),N.formState.errors.last_name&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.last_name.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"signup-email",type:"email",className:"pl-10 bg-muted/50",readOnly:!0,...N.register("email")})]}),N.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"role",children:"I am a"}),s.jsxs(or,{value:d,onValueChange:I,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your role"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"patient",children:"Patient"}),s.jsx(Fe,{value:"receptionist",children:"Receptionist"}),s.jsx(Fe,{value:"nurse",children:"Nurse"}),s.jsx(Fe,{value:"doctor",children:"Doctor"})]})]})]}),(d==="nurse"||d==="doctor")&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"hpcsa_number",children:"HPCSA Registration Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(bg,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"hpcsa_number",placeholder:"MP 0123456",className:"pl-10",...N.register("hpcsa_number")})]}),N.formState.errors.hpcsa_number&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.hpcsa_number.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for healthcare professionals per HPCSA guidelines"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"signup-password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"signup-password",type:o?"text":"password",placeholder:"At least 8 characters",className:"pl-10 pr-10",...N.register("password")}),s.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o?s.jsx(B_,{className:"w-4 h-4"}):s.jsx(jy,{className:"w-4 h-4"})})]}),N.formState.errors.password&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"confirm_password",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Uh,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"confirm_password",type:"password",placeholder:"",className:"pl-10",...N.register("confirm_password")})]}),N.formState.errors.confirm_password&&s.jsx("p",{className:"text-sm text-destructive",children:N.formState.errors.confirm_password.message})]}),s.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{type:"button",onClick:O,className:"text-sm text-muted-foreground hover:text-foreground",children:" Back to login"})})]})]}):s.jsxs(se,{className:"border-border/50 shadow-xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(xe,{className:"text-2xl",children:"Sign in to Quadcare"}),s.jsx(Se,{children:"Enter your email to continue"})]}),s.jsxs(ce,{children:[s.jsxs("form",{onSubmit:w.handleSubmit(k),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email address"}),s.jsxs("div",{className:"relative",children:[s.jsx(hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{id:"email",type:"email",placeholder:"you@example.com",className:"pl-10",autoFocus:!0,...w.register("email")})]}),w.formState.errors.email&&s.jsx("p",{className:"text-sm text-destructive",children:w.formState.errors.email.message})]}),s.jsx(Z,{type:"submit",className:"w-full",size:"lg",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Checking..."]}):s.jsxs(s.Fragment,{children:["Continue",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("span",{className:"w-full border-t"})}),s.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:s.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"New to Quadcare?"})})]}),s.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:"Enter your email above. If you don't have an account, we'll help you create one."})]}),s.jsx("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg",children:s.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:[s.jsx("strong",{children:"Campus Africa students:"})," Your account is pre-registered.",s.jsx("br",{}),"Just enter your email to get started!"]})})]})]}),s.jsxs("p",{className:"text-center text-xs text-muted-foreground mt-6",children:["By continuing, you agree to our Terms of Service and Privacy Policy.",s.jsx("br",{}),"Your data is protected under POPIA regulations."]})]})})},e8=y.createContext(void 0),t8=()=>{const e=y.useContext(e8);if(!e)throw new Error("useChat must be used within a ChatProvider");return e},r8=({children:e})=>{const{user:t,session:r}=$r(),[n,a]=y.useState([]),[i,o]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState(!1),[f,h]=y.useState(null),m=y.useRef(null);y.useEffect(()=>{m.current=i},[i]);const g=n.reduce((P,A)=>P+(A.unread_count||0),0),p=y.useCallback(async()=>{if(t){d(!0),h(null);try{const P=await Kr.getConversations();a(P||[])}catch(P){console.error("Error loading conversations:",P),h(P.message||"Failed to load conversations")}finally{d(!1)}}},[t]),v=y.useCallback(async()=>{try{return await Kr.getUnassignedConversations()||[]}catch(P){return console.error("Error loading unassigned conversations:",P),[]}},[]),b=y.useCallback(async()=>{try{return await Kr.getMyChats()||[]}catch(P){return console.error("Error loading my chats:",P),[]}},[]),x=y.useCallback(async P=>{d(!0),h(null);try{const A=await Kr.getConversation(P);console.log("[ChatContext] Selected conversation with names:",{id:A.id,patient_name:A.patient_name,receptionist_name:A.receptionist_name}),o(A);const T=await Kr.getMessages(P);c(T||[]),await Kr.markAsRead(P),a(I=>I.map(O=>O.id===P?{...A,unread_count:0}:O))}catch(A){console.error("Error loading conversation:",A),h(A.message||"Failed to load conversation")}finally{d(!1)}},[]),w=y.useCallback(async P=>{d(!0),h(null);try{const A=await Kr.createConversation(P);a(I=>I.some(O=>O.id===A.id)?I:[A,...I]),o(A);const T=await Kr.getMessages(A.id);return c(T||[]),A}catch(A){throw console.error("Error creating conversation:",A),h(A.message||"Failed to create conversation"),A}finally{d(!1)}},[]),_=y.useCallback(async(P,A="text",T,I)=>{if(!i)throw new Error("No conversation selected");try{const O=await Kr.sendMessage(i.id,P,A,T,I);c(L=>L.some($=>$.id===O.id)?L:[...L,O]),a(L=>L.map($=>$.id===i.id?{...$,last_message:P,last_message_at:new Date().toISOString()}:$))}catch(O){throw console.error("Error sending message:",O),O}},[i]),S=y.useCallback(async P=>{try{await Kr.claimConversation(P),await x(P),await p()}catch(A){throw console.error("Error claiming conversation:",A),A}},[x,p]),N=y.useCallback(async(P,A)=>{try{await Kr.updateConversationStatus(P,A),a(T=>T.map(I=>I.id===P?{...I,status:A}:I)),(i==null?void 0:i.id)===P&&o(T=>T?{...T,status:A}:null)}catch(T){throw console.error("Error updating status:",T),T}},[i]),k=y.useCallback(async()=>{if(i)try{await Kr.markAsRead(i.id),a(P=>P.map(A=>A.id===i.id?{...A,unread_count:0}:A))}catch(P){console.error("Error marking as read:",P)}},[i]);return y.useEffect(()=>{if(!t||!r)return;const P=Pe.channel("chat_messages_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},T=>{var L;const I=T.new;console.log("[ChatContext] Realtime message received:",{id:I.id,sender_name:I.sender_name,sender_role:I.sender_role,content:(L=I.content)==null?void 0:L.substring(0,50)});const O=m.current;if(O&&I.conversation_id===O.id&&I.sender_id!==t.id){let $={...I};(!$.sender_name||$.sender_name===null)&&($.sender_role==="patient"?$.sender_name=O.patient_name||"Patient":$.sender_role==="system"?$.sender_name="System":$.sender_name=O.receptionist_name||"Staff",console.log("[ChatContext] Enriched message sender_name to:",$.sender_name)),c(F=>F.some(z=>z.id===I.id)?F:[...F,$])}a($=>$.map(F=>{var z;return F.id===I.conversation_id?{...F,last_message:(z=I.content)==null?void 0:z.substring(0,100),last_message_at:I.created_at,unread_count:F.id===(O==null?void 0:O.id)?0:(F.unread_count||0)+1}:F}))}).subscribe(),A=Pe.channel("chat_conversations_changes").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},T=>{const I=T.new,O=m.current;console.log("[ChatContext] Realtime conversation update:",T.eventType,{id:I.id,status:I.status,has_patient_name:!!I.patient_name,has_receptionist_name:!!I.receptionist_name}),T.eventType==="INSERT"?(a(L=>L.some($=>$.id===I.id)?L:[{...I,patient_name:"Loading...",receptionist_name:null},...L]),setTimeout(async()=>{try{const L=await Kr.getConversation(I.id);console.log("[ChatContext] Fetched enriched new conversation:",L.patient_name),a($=>$.map(F=>F.id===L.id?L:F))}catch(L){console.error("[ChatContext] Failed to fetch enriched conversation:",L)}},500)):T.eventType==="UPDATE"&&(a(L=>L.map($=>$.id===I.id?{...$,...I,patient_name:$.patient_name,receptionist_name:$.receptionist_name}:$)),(O==null?void 0:O.id)===I.id&&o(L=>L?{...L,...I,patient_name:L.patient_name,receptionist_name:L.receptionist_name}:null))}).subscribe();return()=>{Pe.removeChannel(P),Pe.removeChannel(A)}},[t,r]),y.useEffect(()=>{t&&p()},[t,p]),s.jsx(e8.Provider,{value:{conversations:n,currentConversation:i,messages:l,isLoading:u,error:f,unreadCount:g,loadConversations:p,loadUnassignedConversations:v,loadMyChats:b,selectConversation:x,createConversation:w,sendMessage:_,claimConversation:S,updateConversationStatus:N,markAsRead:k},children:e})},hle=w0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ne({className:e,variant:t,...r}){return s.jsx("div",{className:ve(hle({variant:t}),e),...r})}var dj="rovingFocusGroup.onEntryFocus",mle={bubbles:!1,cancelable:!0},Eg="RovingFocusGroup",[cN,n8,ple]=y0(Eg),[gle,ph]=gn(Eg,[ple]),[vle,yle]=gle(Eg),a8=y.forwardRef((e,t)=>s.jsx(cN.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(cN.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xle,{...e,ref:t})})}));a8.displayName=Eg;var xle=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=Ke(t,h),g=hh(i),[p,v]=Wi({prop:o,defaultProp:l??null,onChange:c,caller:Eg}),[b,x]=y.useState(!1),w=xr(u),_=n8(r),S=y.useRef(!1),[N,k]=y.useState(0);return y.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(dj,w),()=>P.removeEventListener(dj,w)},[w]),s.jsx(vle,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:y.useCallback(P=>v(P),[v]),onItemShiftTab:y.useCallback(()=>x(!0),[]),onFocusableItemAdd:y.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:y.useCallback(()=>k(P=>P-1),[]),children:s.jsx(Me.div,{tabIndex:b||N===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{S.current=!0}),onFocus:he(e.onFocus,P=>{const A=!S.current;if(P.target===P.currentTarget&&A&&!b){const T=new CustomEvent(dj,mle);if(P.currentTarget.dispatchEvent(T),!T.defaultPrevented){const I=_().filter(z=>z.focusable),O=I.find(z=>z.active),L=I.find(z=>z.id===p),F=[O,L,...I].filter(Boolean).map(z=>z.ref.current);o8(F,d)}}S.current=!1}),onBlur:he(e.onBlur,()=>x(!1))})})}),i8="RovingFocusGroupItem",s8=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=e,c=Bi(),u=i||c,d=yle(i8,r),f=d.currentTabStopId===u,h=n8(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),s.jsx(cN.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Me.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:he(e.onMouseDown,v=>{n?d.onItemFocus(u):v.preventDefault()}),onFocus:he(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:he(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=_le(v,d.orientation,d.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(v.currentTarget);w=d.loop?jle(w,_+1):w.slice(_+1)}setTimeout(()=>o8(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});s8.displayName=i8;var ble={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wle(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function _le(e,t,r){const n=wle(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ble[n]}function o8(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function jle(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var eP=a8,tP=s8,W0="Tabs",[Sle]=gn(W0,[ph]),l8=ph(),[Nle,rP]=Sle(W0),c8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=hh(l),[f,h]=Wi({prop:n,onChange:a,defaultProp:i??"",caller:W0});return s.jsx(Nle,{scope:r,baseId:Bi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});c8.displayName=W0;var u8="TabsList",d8=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=rP(u8,r),o=l8(r);return s.jsx(eP,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});d8.displayName=u8;var f8="TabsTrigger",h8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=rP(f8,r),l=l8(r),c=g8(o.baseId,n),u=v8(o.baseId,n),d=n===o.value;return s.jsx(tP,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:he(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:he(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:he(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});h8.displayName=f8;var m8="TabsContent",p8=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=rP(m8,r),c=g8(l.baseId,n),u=v8(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Hr,{present:a||d,children:({present:h})=>s.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});p8.displayName=m8;function g8(e,t){return`${e}-trigger-${t}`}function v8(e,t){return`${e}-content-${t}`}var kle=c8,y8=d8,x8=h8,b8=p8;const zl=kle,ko=y.forwardRef(({className:e,...t},r)=>s.jsx(y8,{ref:r,className:ve("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ko.displayName=y8.displayName;const Dt=y.forwardRef(({className:e,...t},r)=>s.jsx(x8,{ref:r,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Dt.displayName=x8.displayName;const fr=y.forwardRef(({className:e,...t},r)=>s.jsx(b8,{ref:r,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fr.displayName=b8.displayName;function Cle(e){const t=Ele(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Ole);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Ele(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Tle(a),l=Ale(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ple=Symbol("radix.slottable");function Ole(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ple}function Ale(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Tle(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var H0="Dialog",[w8,_8]=gn(H0),[Mle,Zi]=w8(H0),j8=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:H0});return s.jsx(Mle,{scope:t,triggerRef:l,contentRef:c,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};j8.displayName=H0;var S8="DialogTrigger",N8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(S8,r),i=Ke(t,a.triggerRef);return s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iP(a.open),...n,ref:i,onClick:he(e.onClick,a.onOpenToggle)})});N8.displayName=S8;var nP="DialogPortal",[$le,k8]=w8(nP,{forceMount:void 0}),C8=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Zi(nP,t);return s.jsx($le,{scope:t,forceMount:r,children:y.Children.map(n,o=>s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:o})}))})};C8.displayName=nP;var Ox="DialogOverlay",E8=y.forwardRef((e,t)=>{const r=k8(Ox,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zi(Ox,e.__scopeDialog);return i.modal?s.jsx(Hr,{present:n||i.open,children:s.jsx(Rle,{...a,ref:t})}):null});E8.displayName=Ox;var Ile=Cle("DialogOverlay.RemoveScroll"),Rle=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(Ox,r);return s.jsx(Cg,{as:Ile,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Me.div,{"data-state":iP(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),iu="DialogContent",P8=y.forwardRef((e,t)=>{const r=k8(iu,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Zi(iu,e.__scopeDialog);return s.jsx(Hr,{present:n||i.open,children:i.modal?s.jsx(Dle,{...a,ref:t}):s.jsx(Lle,{...a,ref:t})})});P8.displayName=iu;var Dle=y.forwardRef((e,t)=>{const r=Zi(iu,e.__scopeDialog),n=y.useRef(null),a=Ke(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return F0(i)},[]),s.jsx(O8,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault())})}),Lle=y.forwardRef((e,t)=>{const r=Zi(iu,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(O8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),O8=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Zi(iu,r),c=y.useRef(null),u=Ke(t,c);return D0(),s.jsxs(s.Fragment,{children:[s.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iP(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ble,{titleId:l.titleId}),s.jsx(zle,{contentRef:c,descriptionId:l.descriptionId})]})]})}),aP="DialogTitle",A8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(aP,r);return s.jsx(Me.h2,{id:a.titleId,...n,ref:t})});A8.displayName=aP;var T8="DialogDescription",M8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi(T8,r);return s.jsx(Me.p,{id:a.descriptionId,...n,ref:t})});M8.displayName=T8;var $8="DialogClose",I8=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Zi($8,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});I8.displayName=$8;function iP(e){return e?"open":"closed"}var R8="DialogTitleWarning",[Fle,D8]=xJ(R8,{contentName:iu,titleName:aP,docsSlug:"dialog"}),Ble=({titleId:e})=>{const t=D8(R8),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ule="DialogDescriptionWarning",zle=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${D8(Ule).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},L8=j8,F8=N8,B8=C8,sP=E8,oP=P8,lP=A8,cP=M8,uP=I8;const ni=L8,Ax=F8,Vle=B8,U8=y.forwardRef(({className:e,...t},r)=>s.jsx(sP,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U8.displayName=sP.displayName;const Aa=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Vle,{children:[s.jsx(U8,{}),s.jsxs(oP,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(uP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(So,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Aa.displayName=oP.displayName;const Ta=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ta.displayName="DialogHeader";const Ud=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ud.displayName="DialogFooter";const Ma=y.forwardRef(({className:e,...t},r)=>s.jsx(lP,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));Ma.displayName=lP.displayName;const su=y.forwardRef(({className:e,...t},r)=>s.jsx(cP,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));su.displayName=cP.displayName;function Ge(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function la(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Qr(e,t){const r=Ge(e);return isNaN(t)?la(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Ki(e,t){const r=Ge(e);if(isNaN(t))return la(e,NaN);if(!t)return r;const n=r.getDate(),a=la(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const i=a.getDate();return n>=i?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const dP=6048e5,Wle=864e5,z8=6e4,V8=36e5,Av=43200,zM=1440;let Hle={};function Nu(){return Hle}function Yi(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function ou(e){return Yi(e,{weekStartsOn:1})}function W8(e){const t=Ge(e),r=t.getFullYear(),n=la(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=ou(n),i=la(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ou(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Cs(e){const t=Ge(e);return t.setHours(0,0,0,0),t}function xf(e){const t=Ge(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ps(e,t){const r=Cs(e),n=Cs(t),a=+r-xf(r),i=+n-xf(n);return Math.round((a-i)/Wle)}function qle(e){const t=W8(e),r=la(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ou(r)}function _p(e,t){const r=t*7;return Qr(e,r)}function Gle(e,t){return Ki(e,t*12)}function Kle(e){let t;return e.forEach(function(r){const n=Ge(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function Yle(e){let t;return e.forEach(r=>{const n=Ge(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Py(e,t){const r=Ge(e),n=Ge(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function fP(e){return la(e,Date.now())}function Cn(e,t){const r=Cs(e),n=Cs(t);return+r==+n}function hP(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jle(e){if(!hP(e)&&typeof e!="number")return!1;const t=Ge(e);return!isNaN(Number(t))}function bf(e,t){const r=Ge(e),n=Ge(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Xle(e,t,r){const n=Yi(e,r),a=Yi(t,r),i=+n-xf(n),o=+a-xf(a);return Math.round((i-o)/dP)}function Qle(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Zle(e,t){return+Ge(e)-+Ge(t)}function mP(e){const t=Ge(e);return t.setHours(23,59,59,999),t}function q0(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ece(e){const t=Ge(e);return+mP(t)==+q0(t)}function tce(e,t){const r=Ge(e),n=Ge(t),a=Py(r,n),i=Math.abs(bf(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=Py(r,n)===-a;ece(Ge(e))&&i===1&&Py(e,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function rce(e,t,r){const n=Zle(e,t)/1e3;return Qle(r==null?void 0:r.roundingMethod)(n)}function sa(e){const t=Ge(e);return t.setDate(1),t.setHours(0,0,0,0),t}function H8(e){const t=Ge(e),r=la(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function G0(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ge(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function q8(e){return G0(e,{weekStartsOn:1})}const nce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ace=(e,t,r)=>{let n;const a=nce[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function fj(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ice={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lce={date:fj({formats:ice,defaultWidth:"full"}),time:fj({formats:sce,defaultWidth:"full"}),dateTime:fj({formats:oce,defaultWidth:"full"})},cce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uce=(e,t,r,n)=>cce[e];function qh(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const dce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},yce={ordinalNumber:vce,era:qh({values:dce,defaultWidth:"wide"}),quarter:qh({values:fce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qh({values:hce,defaultWidth:"wide"}),day:qh({values:mce,defaultWidth:"wide"}),dayPeriod:qh({values:pce,defaultWidth:"wide",formattingValues:gce,defaultFormattingWidth:"wide"})};function Gh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?bce(l,f=>f.test(o)):xce(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function xce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function bce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function wce(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const _ce=/^(\d+)(th|st|nd|rd)?/i,jce=/\d+/i,Sce={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Nce={any:[/^b/i,/^(a|c)/i]},kce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Cce={any:[/1/i,/2/i,/3/i,/4/i]},Ece={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Pce={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Oce={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ace={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Tce={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Mce={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ce={ordinalNumber:wce({matchPattern:_ce,parsePattern:jce,valueCallback:e=>parseInt(e,10)}),era:Gh({matchPatterns:Sce,defaultMatchWidth:"wide",parsePatterns:Nce,defaultParseWidth:"any"}),quarter:Gh({matchPatterns:kce,defaultMatchWidth:"wide",parsePatterns:Cce,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gh({matchPatterns:Ece,defaultMatchWidth:"wide",parsePatterns:Pce,defaultParseWidth:"any"}),day:Gh({matchPatterns:Oce,defaultMatchWidth:"wide",parsePatterns:Ace,defaultParseWidth:"any"}),dayPeriod:Gh({matchPatterns:Tce,defaultMatchWidth:"any",parsePatterns:Mce,defaultParseWidth:"any"})},pP={code:"en-US",formatDistance:ace,formatLong:lce,formatRelative:uce,localize:yce,match:$ce,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ice(e){const t=Ge(e);return ps(t,H8(t))+1}function G8(e){const t=Ge(e),r=+ou(t)-+qle(t);return Math.round(r/dP)+1}function K8(e,t){var d,f,h,m;const r=Ge(e),n=r.getFullYear(),a=Nu(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=la(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yi(o,t),c=la(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Yi(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Rce(e,t){var l,c,u,d;const r=Nu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=K8(e,t),i=la(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yi(i,t)}function Y8(e,t){const r=Ge(e),n=+Yi(r,t)-+Rce(r,t);return Math.round(n/dP)+1}function Pt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Do={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Pt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Pt(r+1,2)},d(e,t){return Pt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Pt(e.getHours()%12||12,t.length)},H(e,t){return Pt(e.getHours(),t.length)},m(e,t){return Pt(e.getMinutes(),t.length)},s(e,t){return Pt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Pt(a,t.length)}},Ku={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Do.y(e,t)},Y:function(e,t,r,n){const a=K8(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Pt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Pt(i,t.length)},R:function(e,t){const r=W8(e);return Pt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Pt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Pt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Pt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Do.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Pt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Y8(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Pt(a,t.length)},I:function(e,t,r){const n=G8(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Pt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Do.d(e,t)},D:function(e,t,r){const n=Ice(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Pt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Pt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Pt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Pt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Ku.noon:n===0?a=Ku.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Ku.evening:n>=12?a=Ku.afternoon:n>=4?a=Ku.morning:a=Ku.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Do.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Do.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Pt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Do.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Do.s(e,t)},S:function(e,t){return Do.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return HM(n);case"XXXX":case"XX":return hc(n);case"XXXXX":case"XXX":default:return hc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return HM(n);case"xxxx":case"xx":return hc(n);case"xxxxx":case"xxx":default:return hc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WM(n,":");case"OOOO":default:return"GMT"+hc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WM(n,":");case"zzzz":default:return"GMT"+hc(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Pt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Pt(n,t.length)}};function WM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Pt(i,2)}function HM(e,t){return e%60===0?(e>0?"-":"+")+Pt(Math.abs(e)/60,2):hc(e,t)}function hc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Pt(Math.trunc(n/60),2),i=Pt(n%60,2);return r+a+t+i}const qM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},J8=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Dce=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",qM(n,t)).replace("{{time}}",J8(a,t))},Lce={p:J8,P:Dce},Fce=/^D+$/,Bce=/^Y+$/,Uce=["D","DD","YY","YYYY"];function zce(e){return Fce.test(e)}function Vce(e){return Bce.test(e)}function Wce(e,t,r){const n=Hce(e,t,r);if(console.warn(n),Uce.includes(e))throw new RangeError(n)}function Hce(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kce=/^'([^]*?)'?$/,Yce=/''/g,Jce=/[a-zA-Z]/;function yt(e,t,r){var d,f,h,m,g,p,v,b;const n=Nu(),a=(r==null?void 0:r.locale)??n.locale??pP,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((b=(v=n.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,l=Ge(e);if(!Jle(l))throw new RangeError("Invalid time value");let c=t.match(Gce).map(x=>{const w=x[0];if(w==="p"||w==="P"){const _=Lce[w];return _(x,a.formatLong)}return x}).join("").match(qce).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Xce(x)};if(VM[w])return{isToken:!0,value:x};if(w.match(Jce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Vce(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&zce(w))&&Wce(w,t,String(e));const _=VM[w[0]];return _(l,w,a.localize,u)}).join("")}function Xce(e){const t=e.match(Kce);return t?t[1].replace(Yce,"'"):e}function Qce(e,t,r){const n=Nu(),a=(r==null?void 0:r.locale)??n.locale??pP,i=2520,o=Py(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ge(t),u=Ge(e)):(c=Ge(e),u=Ge(t));const d=rce(u,c),f=(xf(u)-xf(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?a.formatDistance("lessThanXSeconds",5,l):d<10?a.formatDistance("lessThanXSeconds",10,l):d<20?a.formatDistance("lessThanXSeconds",20,l):d<40?a.formatDistance("halfAMinute",0,l):d<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<zM){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<Av){const g=Math.round(h/zM);return a.formatDistance("xDays",g,l)}else if(h<Av*2)return m=Math.round(h/Av),a.formatDistance("aboutXMonths",m,l)}if(m=tce(u,c),m<12){const g=Math.round(h/Av);return a.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function GM(e,t){return Qce(e,fP(e),t)}function Zce(e){const t=Ge(e),r=t.getFullYear(),n=t.getMonth(),a=la(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function eue(){return Object.assign({},Nu())}function tue(e){return Math.trunc(+Ge(e)/1e3)}function rue(e){const t=Ge(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function nue(e,t){return Xle(rue(e),sa(e),t)+1}function uN(e,t){const r=Ge(e),n=Ge(t);return r.getTime()>n.getTime()}function Tx(e,t){const r=Ge(e),n=Ge(t);return+r<+n}function gP(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function aue(e,t){const r=Ge(e),n=Ge(t);return r.getFullYear()===n.getFullYear()}function iue(e){return Cn(e,fP(e))}function sue(e){return Cn(e,Qr(fP(e),1))}function hj(e,t){return Qr(e,-t)}function vP(e,t){const n=uue(e);let a;if(n.date){const c=due(n.date,2);a=fue(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=hue(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=mue(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Tv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},oue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,lue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,cue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function uue(e){const t={},r=e.split(Tv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Tv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Tv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function due(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function fue(e,t){if(t===null)return new Date(NaN);const r=e.match(oue);if(!r)return new Date(NaN);const n=!!r[4],a=Kh(r[1]),i=Kh(r[2])-1,o=Kh(r[3]),l=Kh(r[4]),c=Kh(r[5])-1;if(n)return xue(t,l,c)?pue(t,l,c):new Date(NaN);{const u=new Date(0);return!vue(t,i,o)||!yue(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Kh(e){return e?parseInt(e):1}function hue(e){const t=e.match(lue);if(!t)return NaN;const r=mj(t[1]),n=mj(t[2]),a=mj(t[3]);return bue(r,n,a)?r*V8+n*z8+a*1e3:NaN}function mj(e){return e&&parseFloat(e.replace(",","."))||0}function mue(e){if(e==="Z")return 0;const t=e.match(cue);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return wue(n,a)?r*(n*V8+a*z8):NaN}function pue(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const gue=[31,null,31,30,31,30,31,31,30,31,30,31];function X8(e){return e%400===0||e%4===0&&e%100!==0}function vue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(gue[t]||(X8(e)?29:28))}function yue(e,t){return t>=1&&t<=(X8(e)?366:365)}function xue(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function bue(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function wue(e,t){return t>=0&&t<=59}function pj(e,t){const r=Ge(e),n=r.getFullYear(),a=r.getDate(),i=la(e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);const o=Zce(i);return r.setMonth(t,Math.min(a,o)),r}function Q8(e,t){const r=Ge(e);return r.setHours(t),r}function Z8(e,t){const r=Ge(e);return r.setMinutes(t),r}function KM(e,t){const r=Ge(e);return isNaN(+r)?la(e,NaN):(r.setFullYear(t),r)}function YM(e,t,r){const n=eue(),a=Sue(e,r.timeZone,r.locale??n.locale);return"formatToParts"in a?_ue(a,t):jue(a,t)}function _ue(e,t){const r=e.formatToParts(t);for(let n=r.length-1;n>=0;--n)if(r[n].type==="timeZoneName")return r[n].value}function jue(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/ [\w-+ ]+$/.exec(r);return n?n[0].substr(1):""}function Sue(e,t,r){return new Intl.DateTimeFormat(r?[r.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}function Nue(e,t){const r=Oue(t);return"formatToParts"in r?Cue(r,e):Eue(r,e)}const kue={year:0,month:1,day:2,hour:3,minute:4,second:5};function Cue(e,t){try{const r=e.formatToParts(t),n=[];for(let a=0;a<r.length;a++){const i=kue[r[a].type];i!==void 0&&(n[i]=parseInt(r[a].value,10))}return n}catch(r){if(r instanceof RangeError)return[NaN];throw r}}function Eue(e,t){const r=e.format(t),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[parseInt(n[3],10),parseInt(n[1],10),parseInt(n[2],10),parseInt(n[4],10),parseInt(n[5],10),parseInt(n[6],10)]}const gj={},JM=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),Pue=JM==="06/25/2014, 00:00:00"||JM==="06/25/2014 00:00:00";function Oue(e){return gj[e]||(gj[e]=Pue?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),gj[e]}function ez(e,t,r,n,a,i,o){const l=new Date(0);return l.setUTCFullYear(e,t,r),l.setUTCHours(n,a,i,o),l}const XM=36e5,Aue=6e4,vj={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function yP(e,t,r){if(!e)return 0;let n=vj.timezoneZ.exec(e);if(n)return 0;let a,i;if(n=vj.timezoneHH.exec(e),n)return a=parseInt(n[1],10),QM(a)?-(a*XM):NaN;if(n=vj.timezoneHHMM.exec(e),n){a=parseInt(n[2],10);const o=parseInt(n[3],10);return QM(a,o)?(i=Math.abs(a)*XM+o*Aue,n[1]==="+"?-i:i):NaN}if($ue(e)){t=new Date(t||Date.now());const o=r?t:Tue(t),l=dN(o,e);return-(r?l:Mue(t,l,e))}return NaN}function Tue(e){return ez(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function dN(e,t){const r=Nue(e,t),n=ez(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime();let a=e.getTime();const i=a%1e3;return a-=i>=0?i:1e3+i,n-a}function Mue(e,t,r){let a=e.getTime()-t;const i=dN(new Date(a),r);if(t===i)return t;a-=i-t;const o=dN(new Date(a),r);return i===o?i:Math.max(i,o)}function QM(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const ZM={};function $ue(e){if(ZM[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),ZM[e]=!0,!0}catch{return!1}}const Iue=60*1e3,Rue={X:function(e,t,r){const n=yj(r.timeZone,e);if(n===0)return"Z";switch(t){case"X":return e$(n);case"XXXX":case"XX":return sd(n);case"XXXXX":case"XXX":default:return sd(n,":")}},x:function(e,t,r){const n=yj(r.timeZone,e);switch(t){case"x":return e$(n);case"xxxx":case"xx":return sd(n);case"xxxxx":case"xxx":default:return sd(n,":")}},O:function(e,t,r){const n=yj(r.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+Due(n,":");case"OOOO":default:return"GMT"+sd(n,":")}},z:function(e,t,r){switch(t){case"z":case"zz":case"zzz":return YM("short",e,r);case"zzzz":default:return YM("long",e,r)}}};function yj(e,t){const r=e?yP(e,t,!0)/Iue:(t==null?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(r))throw new RangeError("Invalid time zone specified: "+e);return r}function Mx(e,t){const r=e<0?"-":"";let n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n}function sd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Mx(Math.floor(n/60),2),i=Mx(Math.floor(n%60),2);return r+a+t+i}function e$(e,t){return e%60===0?(e>0?"-":"+")+Mx(Math.abs(e)/60,2):sd(e,t)}function Due(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Mx(i,2)}function t$(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const Lue=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,xj=36e5,r$=6e4,Fue=2,Ln={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:Lue};function tz(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const r=t.additionalDigits==null?Fue:Number(t.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const n=Bue(e),{year:a,restDateString:i}=Uue(n.date,r),o=zue(i,a);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const l=o.getTime();let c=0,u;if(n.time&&(c=Vue(n.time),c===null||isNaN(c)))return new Date(NaN);if(n.timeZone||t.timeZone){if(u=yP(n.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=t$(new Date(l+c)),u=t$(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function Bue(e){const t={};let r=Ln.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Ln.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){const a=Ln.timeZone.exec(n);a?(t.time=n.replace(a[1],""),t.timeZone=a[1].trim()):t.time=n}return t}function Uue(e,t){if(e){const r=Ln.YYY[t],n=Ln.YYYYY[t];let a=Ln.YYYY.exec(e)||n.exec(e);if(a){const i=a[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(a=Ln.YY.exec(e)||r.exec(e),a){const i=a[1];return{year:parseInt(i,10)*100,restDateString:e.slice(i.length)}}}return{year:null}}function zue(e,t){if(t===null)return null;let r,n,a;if(!e||!e.length)return r=new Date(0),r.setUTCFullYear(t),r;let i=Ln.MM.exec(e);if(i)return r=new Date(0),n=parseInt(i[1],10)-1,a$(t,n)?(r.setUTCFullYear(t,n),r):new Date(NaN);if(i=Ln.DDD.exec(e),i){r=new Date(0);const o=parseInt(i[1],10);return que(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(i=Ln.MMDD.exec(e),i){r=new Date(0),n=parseInt(i[1],10)-1;const o=parseInt(i[2],10);return a$(t,n,o)?(r.setUTCFullYear(t,n,o),r):new Date(NaN)}if(i=Ln.Www.exec(e),i)return a=parseInt(i[1],10)-1,i$(a)?n$(t,a):new Date(NaN);if(i=Ln.WwwD.exec(e),i){a=parseInt(i[1],10)-1;const o=parseInt(i[2],10)-1;return i$(a,o)?n$(t,a,o):new Date(NaN)}return null}function Vue(e){let t,r,n=Ln.HH.exec(e);if(n)return t=parseFloat(n[1].replace(",",".")),bj(t)?t%24*xj:NaN;if(n=Ln.HHMM.exec(e),n)return t=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),bj(t,r)?t%24*xj+r*r$:NaN;if(n=Ln.HHMMSS.exec(e),n){t=parseInt(n[1],10),r=parseInt(n[2],10);const a=parseFloat(n[3].replace(",","."));return bj(t,r,a)?t%24*xj+r*r$+a*1e3:NaN}return null}function n$(e,t,r){t=t||0,r=r||0;const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=t*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Wue=[31,28,31,30,31,30,31,31,30,31,30,31],Hue=[31,29,31,30,31,30,31,31,30,31,30,31];function rz(e){return e%400===0||e%4===0&&e%100!==0}function a$(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;const n=rz(e);if(n&&r>Hue[t]||!n&&r>Wue[t])return!1}return!0}function que(e,t){if(t<1)return!1;const r=rz(e);return!(r&&t>366||!r&&t>365)}function i$(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function bj(e,t,r){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}const Gue=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function Kue(e,t,r={}){t=String(t);const n=t.match(Gue);if(n){const a=tz(r.originalDate||e,r);t=n.reduce(function(i,o){if(o[0]==="'")return i;const l=i.indexOf(o),c=i[l-1]==="'",u=i.replace(o,"'"+Rue[o[0]](a,o,r)+"'");return c?u.substring(0,l-1)+u.substring(l+1):u},t)}return yt(e,t,r)}function Yue(e,t,r){e=tz(e,r);const n=yP(t,e,!0),a=new Date(e.getTime()-n),i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}function Jue(e,t,r,n){return n={...n,timeZone:t,originalDate:e},Kue(Yue(e,t,{timeZone:n.timeZone}),r,n)}const Xue="Africa/Johannesburg",jp="SAST",ta=(e,t)=>{const r=typeof e=="string"?vP(e):e;return Jue(r,Xue,t)},Que=e=>ta(e,"MMM d, yyyy"),$x=e=>ta(e,"EEEE, MMMM d, yyyy");function Wt({className:e,...t}){return s.jsx("div",{className:ve("animate-pulse rounded-md bg-muted",e),...t})}const Yu={active:{label:"Active",variant:"default",icon:Nr},cancelled:{label:"Cancelled",variant:"destructive",icon:Hi},expired:{label:"Expired",variant:"secondary",icon:Su},completed:{label:"Completed",variant:"secondary",icon:Nr}},Zue=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(null),[l,c]=y.useState(null),[u,d]=y.useState(!1),f=p=>{c(p),d(!0)},h=async(p,v,b)=>{b==null||b.stopPropagation(),o(p);try{const x=await sle.getPDF(p);if(x.success&&x.pdf_base64){const w=atob(x.pdf_base64),_=new Array(w.length);for(let A=0;A<w.length;A++)_[A]=w.charCodeAt(A);const S=new Uint8Array(_),N=new Blob([S],{type:"application/pdf"}),k=window.URL.createObjectURL(N),P=document.createElement("a");P.href=k,P.download=`prescription_${v.replace(/\s+/g,"_")}_${p.slice(0,8)}.pdf`,document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(k),le.success("Prescription downloaded successfully")}else throw new Error(x.error||"Failed to generate PDF")}catch(x){console.error("Error downloading prescription:",x),le.error(x.message||"Failed to download prescription")}finally{o(null)}};y.useEffect(()=>{(async()=>{if(e)try{const{data:v,error:b}=await Pe.from("prescriptions").select("*").eq("patient_id",e.id).order("prescribed_at",{ascending:!1});if(b)throw b;if(v&&v.length>0){const x=[...new Set(v.map(N=>N.clinician_id))],{data:w}=await Pe.from("profiles").select("id, first_name, last_name").in("id",x),_=new Map((w==null?void 0:w.map(N=>[N.id,`Dr. ${N.first_name} ${N.last_name}`]))||[]),S=v.map(N=>({id:N.id,medication_name:N.medication_name,dosage:N.dosage,frequency:N.frequency,duration:N.duration,quantity:N.quantity,refills:N.refills,instructions:N.instructions,status:N.status,prescribed_at:N.prescribed_at,clinician_name:_.get(N.clinician_id)||"Unknown"}));r(S)}}catch(v){console.error("Error fetching prescriptions:",v)}finally{a(!1)}})()},[e]);const m=t.filter(p=>p.status==="active"),g=t.filter(p=>p.status!=="active");return n?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2].map(p=>s.jsx(Wt,{className:"h-24 w-full"},p))})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),"My Prescriptions"]}),s.jsxs(Se,{children:[t.length," prescription(s)  ",m.length," active"]})]}),s.jsx(ce,{children:t.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No prescriptions yet"})]}):s.jsxs("div",{className:"space-y-4",children:[m.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Active Prescriptions"}),s.jsx("div",{className:"space-y-3",children:m.map(p=>{const v=Yu[p.status]||Yu.active,b=v.icon;return s.jsxs("div",{className:"p-4 rounded-lg border border-primary/30 bg-primary/5 cursor-pointer hover:border-primary hover:shadow-md transition-all",onClick:()=>f(p),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:p.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.dosage,"  ",p.frequency]})]})]}),s.jsxs(Ne,{variant:v.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:"w-3 h-3"}),v.label]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm mt-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),s.jsx("p",{className:"font-medium",children:p.duration})]}),p.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Quantity:"}),s.jsx("p",{className:"font-medium",children:p.quantity})]}),p.refills>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Refills:"}),s.jsx("p",{className:"font-medium",children:p.refills})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Prescribed:"}),s.jsx("p",{className:"font-medium",children:yt(new Date(p.prescribed_at),"MMM d, yyyy")})]})]}),p.instructions&&s.jsxs("div",{className:"mt-3 p-2 bg-muted/50 rounded text-sm",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",p.instructions]}),s.jsxs("div",{className:"flex items-center justify-between gap-2 mt-3 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),p.clinician_name]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:x=>h(p.id,p.medication_name,x),disabled:i===p.id,children:[i===p.id?s.jsx(lt,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4 mr-1"}),"PDF"]})]})]},p.id)})})]}),g.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Past Prescriptions"}),s.jsx("div",{className:"space-y-3",children:g.map(p=>{const v=Yu[p.status]||Yu.completed,b=v.icon;return s.jsx("div",{className:"p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>f(p),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(Ur,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:p.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.dosage,"  ",p.frequency,"  ",p.duration]})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs(Ne,{variant:v.variant,className:"flex items-center gap-1",children:[s.jsx(b,{className:"w-3 h-3"}),v.label]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:ta(p.prescribed_at,"MMM d, yyyy")})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:x=>h(p.id,p.medication_name,x),disabled:i===p.id,children:i===p.id?s.jsx(lt,{className:"w-4 h-4 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4"})})]})]})},p.id)})})]})]})}),s.jsx(ni,{open:u,onOpenChange:d,children:s.jsxs(Aa,{className:"sm:max-w-md",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),"Prescription Details"]}),s.jsx(su,{children:l&&ta(l.prescribed_at,"MMMM d, yyyy 'at' h:mm a")})]}),l&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx("h3",{className:"font-semibold text-lg",children:l.medication_name}),s.jsx("p",{className:"text-muted-foreground",children:l.dosage})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Frequency"}),s.jsx("p",{className:"font-medium",children:l.frequency})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),s.jsx("p",{className:"font-medium",children:l.duration})]}),l.quantity&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Quantity"}),s.jsx("p",{className:"font-medium",children:l.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Refills"}),s.jsx("p",{className:"font-medium",children:l.refills})]})]}),l.instructions&&s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-1",children:"Instructions"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.instructions})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground pt-2 border-t",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Prescribed by ",l.clinician_name]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[(()=>{const p=Yu[l.status]||Yu.active,v=p.icon;return s.jsxs(Ne,{variant:p.variant,className:"flex items-center gap-1",children:[s.jsx(v,{className:"w-3 h-3"}),p.label]})})(),s.jsxs(Z,{variant:"outline",size:"sm",onClick:p=>h(l.id,l.medication_name,p),disabled:i===l.id,children:[i===l.id?s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]})]})]})})]})},Fr=y.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ve("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Fr.displayName="Textarea";const s$={new:{label:"New",color:"bg-blue-500",icon:s.jsx(eu,{className:"w-3 h-3"})},active:{label:"Active",color:"bg-green-500",icon:s.jsx(qt,{className:"w-3 h-3"})},booking_pending:{label:"Pending",color:"bg-yellow-500",icon:s.jsx(qt,{className:"w-3 h-3"})},booked:{label:"Booked",color:"bg-purple-500",icon:s.jsx(kt,{className:"w-3 h-3"})},consultation_complete:{label:"Complete",color:"bg-gray-500",icon:s.jsx(Nr,{className:"w-3 h-3"})},closed:{label:"Closed",color:"bg-gray-400",icon:s.jsx(Nr,{className:"w-3 h-3"})}},fN=({conversations:e,selectedId:t,onSelect:r,showPatientName:n=!1})=>e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[s.jsx(eu,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"No conversations yet"})]}):s.jsx("div",{className:"divide-y divide-border",children:e.map(a=>{const i=s$[a.status]||s$.new,o=t===a.id;return s.jsx("div",{onClick:()=>r(a),className:ve("p-4 cursor-pointer transition-colors hover:bg-accent",o&&"bg-accent border-l-4 border-l-primary"),children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n?s.jsx("span",{className:"font-medium text-sm truncate",children:a.patient_name||"Unknown Patient"}):s.jsx("span",{className:"font-medium text-sm truncate",children:a.receptionist_name||"Waiting for receptionist..."}),s.jsxs(Ne,{variant:"secondary",className:ve("text-xs text-white",i.color),children:[i.icon,s.jsx("span",{className:"ml-1",children:i.label})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.last_message||"No messages yet"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[s.jsx(qt,{className:"w-3 h-3"}),s.jsx("span",{children:a.last_message_at?GM(new Date(a.last_message_at),{addSuffix:!0}):GM(new Date(a.created_at),{addSuffix:!0})})]})]}),a.unread_count>0&&s.jsx(Ne,{variant:"destructive",className:"rounded-full px-2",children:a.unread_count})]})},a.id)})}),nz=({messages:e,currentUserId:t})=>{const r=y.useRef(null);if(y.useEffect(()=>{var a;(a=r.current)==null||a.scrollIntoView({behavior:"smooth"})},[e]),e.length===0)return s.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:s.jsx("p",{children:"No messages yet. Start the conversation!"})});const n=a=>{switch(a.message_type){case"image":return s.jsxs("div",{className:"space-y-2",children:[a.file_url&&s.jsx("img",{src:a.file_url,alt:a.file_name||"Image",className:"max-w-xs rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(a.file_url,"_blank")}),a.content&&s.jsx("p",{children:a.content})]});case"file":return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5"}),s.jsx("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:a.file_name||"Download file"})]});case"system":return s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground italic",children:[s.jsx(yX,{className:"w-4 h-4"}),s.jsx("span",{children:a.content})]});case"booking_confirmation":return s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[s.jsx(kt,{className:"w-4 h-4"}),s.jsx("span",{children:"Booking Confirmed"})]}),s.jsx("p",{className:"text-sm",children:a.content})]});default:return s.jsx("p",{className:"whitespace-pre-wrap",children:a.content})}};return s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map((a,i)=>{const o=a.sender_id===t,l=a.message_type==="system"||a.sender_role==="system",c=i===0||yt(new Date(a.created_at),"yyyy-MM-dd")!==yt(new Date(e[i-1].created_at),"yyyy-MM-dd");return s.jsxs(M.Fragment,{children:[c&&s.jsx("div",{className:"flex justify-center",children:s.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-3 py-1 rounded-full",children:yt(new Date(a.created_at),"MMMM d, yyyy")})}),l?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"text-xs text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:n(a)})}):s.jsxs("div",{className:ve("flex gap-3",o?"flex-row-reverse":"flex-row"),children:[s.jsx("div",{className:ve("w-8 h-8 rounded-full flex items-center justify-center shrink-0",o?"bg-primary text-primary-foreground":"bg-muted"),children:s.jsx(Wr,{className:"w-4 h-4"})}),s.jsxs("div",{className:ve("max-w-[70%] space-y-1",o?"items-end":"items-start"),children:[s.jsxs("div",{className:ve("flex items-center gap-2 text-xs text-muted-foreground",o?"flex-row-reverse":"flex-row"),children:[s.jsx("span",{className:"font-medium",children:o?"You":a.sender_name||a.sender_role}),s.jsx("span",{children:yt(new Date(a.created_at),"HH:mm")})]}),s.jsx("div",{className:ve("rounded-2xl px-4 py-2",o?"bg-primary text-primary-foreground rounded-tr-sm":"bg-muted rounded-tl-sm"),children:n(a)})]})]})]},a.id)}),s.jsx("div",{ref:r})]})},az=({onSend:e,disabled:t=!1,placeholder:r="Type your message..."})=>{const[n,a]=y.useState(""),[i,o]=y.useState(!1),[l,c]=y.useState(null),[u,d]=y.useState(null),f=y.useRef(null),h=async()=>{if(!(!n.trim()&&!l||i)){o(!0);try{if(l){const v=n.trim()?`${n.trim()}
 ${l.name}`:` ${l.name}`;await e(v,"text")}else await e(n.trim(),"text");a(""),c(null),d(null)}catch(v){console.error("Error sending message:",v)}finally{o(!1)}}},m=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),h())},g=v=>{var x;const b=(x=v.target.files)==null?void 0:x[0];if(b)if(c(b),b.type.startsWith("image/")){const w=new FileReader;w.onloadend=()=>{d(w.result)},w.readAsDataURL(b)}else d(null)},p=()=>{c(null),d(null),f.current&&(f.current.value="")};return s.jsxs("div",{className:"border-t border-border p-4 bg-card",children:[l&&s.jsxs("div",{className:"mb-3 p-2 bg-muted rounded-lg flex items-center gap-3",children:[u?s.jsx("img",{src:u,alt:"Preview",className:"w-16 h-16 object-cover rounded"}):s.jsx("div",{className:"w-16 h-16 bg-background rounded flex items-center justify-center",children:s.jsx(LX,{className:"w-6 h-6 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:l.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.size/1024).toFixed(1)," KB"]})]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:p,children:s.jsx(So,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx("input",{ref:f,type:"file",accept:"image/*,.pdf,.doc,.docx",onChange:g,className:"hidden"}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>{var v;return(v=f.current)==null?void 0:v.click()},disabled:t||i,className:"shrink-0",children:s.jsx(EX,{className:"w-5 h-5"})}),s.jsx(Fr,{value:n,onChange:v=>a(v.target.value),onKeyDown:m,placeholder:r,disabled:t||i,className:"min-h-[44px] max-h-32 resize-none",rows:1}),s.jsx(Z,{onClick:h,disabled:t||i||!n.trim()&&!l,size:"icon",className:"shrink-0",children:i?s.jsx(lt,{className:"w-5 h-5 animate-spin"}):s.jsx(jB,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})},ede=({onStartBooking:e})=>{const{user:t}=$r(),{conversations:r,currentConversation:n,messages:a,isLoading:i,loadConversations:o,selectConversation:l,createConversation:c,sendMessage:u}=t8(),[d,f]=y.useState(!1),[h,m]=y.useState(""),[g,p]=y.useState(!1),[v,b]=y.useState("list");y.useEffect(()=>{o()},[o]);const x=async()=>{if(!(!h.trim()||g)){p(!0);try{await c(h.trim()),m(""),f(!1),b("chat")}catch(N){console.error("Error creating conversation:",N)}finally{p(!1)}}},w=async N=>{await l(N.id),b("chat")},_=()=>{b("list")},S=typeof window<"u"&&window.innerWidth<768;return d?s.jsxs(se,{className:"h-full",children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>f(!1),children:s.jsx(mn,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx(xe,{children:"Start a New Conversation"}),s.jsx(Se,{children:"Tell us how we can help you today"})]})]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsx(Fr,{value:h,onChange:N=>m(N.target.value),placeholder:"Hi, I'd like to book a consultation for...",className:"min-h-[150px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Z,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(Z,{onClick:x,disabled:!h.trim()||g,children:g?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Start Chat"]})})]})]})]}):s.jsxs("div",{className:"h-full flex flex-col md:flex-row gap-4",children:[s.jsxs(se,{className:`md:w-80 shrink-0 ${v==="chat"&&S?"hidden":""}`,children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{className:"text-lg",children:"Messages"}),s.jsxs(Z,{size:"sm",onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-1"}),"New"]})]})}),s.jsx(ce,{className:"p-0 overflow-y-auto max-h-[500px]",children:i&&r.length===0?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(lt,{className:"w-6 h-6 animate-spin"})}):s.jsx(fN,{conversations:r,selectedId:n==null?void 0:n.id,onSelect:w,showPatientName:!1})})]}),s.jsx(se,{className:`flex-1 flex flex-col min-h-[500px] ${v==="list"&&S?"hidden":""}`,children:n?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"pb-2 border-b",children:s.jsxs("div",{className:"flex items-center gap-2",children:[S&&s.jsx(Z,{variant:"ghost",size:"icon",onClick:_,children:s.jsx(mn,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(xe,{className:"text-lg",children:n.receptionist_name||"Waiting for receptionist"}),s.jsxs(Se,{children:["Status: ",n.status.replace("_"," ")]})]})]})}),s.jsx(nz,{messages:a,currentUserId:t==null?void 0:t.id}),s.jsx(az,{onSend:u,disabled:n.status==="closed",placeholder:n.status==="closed"?"This conversation is closed":"Type your message..."})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[s.jsx(eu,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Welcome to Chat"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Start a conversation to book a consultation or ask questions"}),s.jsxs(Z,{onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Start New Conversation"]})]})})]})},tde=()=>{var I;const e=On(),t=As(),{user:r,profile:n,signOut:a,onboardingComplete:i,isLoading:o}=$r(),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[m,g]=y.useState(!1),[p,v]=y.useState("chat"),[b,x]=y.useState(null),[w,_]=y.useState(!1),[S,N]=y.useState(null),k=O=>{x(O),_(!0)},P=async(O,L)=>{L==null||L.stopPropagation(),N(O);try{await Ks.downloadInvoicePDF(O,`invoice_${O.slice(0,8)}.pdf`),le.success("Invoice downloaded successfully")}catch($){console.error("Failed to download invoice:",$),le.error("Failed to download invoice")}finally{N(null)}},A=(I=t.state)==null?void 0:I.justOnboarded;y.useEffect(()=>{if(A){console.log("[PatientDashboard] User just completed onboarding, skipping redirect check");return}!o&&!i&&(console.log("[PatientDashboard] Onboarding not complete, redirecting..."),e("/onboarding"))},[o,i,e,A]);const T=async()=>{if(r)try{const{data:O,error:L}=await Pe.from("appointments").select("id, scheduled_at, consultation_type, status, clinician_id").eq("patient_id",r.id).in("status",["pending","confirmed","in_progress"]).order("scheduled_at",{ascending:!1}).limit(10);if(!L&&O&&O.length>0){const $=O.map(R=>R.clinician_id),[F,z]=await Promise.all([Pe.from("profiles").select("id, first_name, last_name").in("id",$),Pe.from("clinician_profiles").select("id, specialization").in("id",$)]),V=O.map(R=>{var re,ee;const U=(re=F.data)==null?void 0:re.find(j=>j.id===R.clinician_id),K=(ee=z.data)==null?void 0:ee.find(j=>j.id===R.clinician_id);return{id:R.id,scheduled_at:R.scheduled_at,consultation_type:R.consultation_type,status:R.status,clinician_name:U?`${U.first_name} ${U.last_name}`:"Unknown",specialization:(K==null?void 0:K.specialization)||null}});c(V)}else c([])}catch(O){console.error("Error fetching appointments:",O)}};return y.useEffect(()=>{(async()=>{if(r)try{await T();try{const L=await Ks.getMyInvoices();d(L||[])}catch(L){console.log("No invoices or error fetching:",L)}}catch(L){console.error("Error fetching data:",L)}finally{h(!1)}})()},[r]),y.useEffect(()=>{if(!r)return;const O=Pe.channel("patient-appointments").on("postgres_changes",{event:"INSERT",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] New appointment created:",L),T()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`patient_id=eq.${r.id}`},L=>{console.log("[PatientDashboard] Appointment updated:",L),c($=>$.map(F=>F.id===L.new.id?{...F,status:L.new.status}:F))}).subscribe();return()=>{Pe.removeChannel(O)}},[r]),o?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>g(!m),children:m?s.jsx(So,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]}),m&&s.jsx("div",{className:"sm:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Welcome, ",(n==null?void 0:n.first_name)||"Patient"]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,className:"justify-start",children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-6",children:[s.jsxs("div",{className:"mb-4 sm:mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Patient Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your healthcare journey"})]}),s.jsxs(zl,{value:p,onValueChange:v,className:"space-y-4",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[s.jsxs(Dt,{value:"chat",className:"flex items-center gap-2",children:[s.jsx(eu,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Chat"})]}),s.jsxs(Dt,{value:"consultations",className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Consultations"})]}),s.jsxs(Dt,{value:"profile",className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Profile"})]})]}),s.jsx(fr,{value:"chat",className:"min-h-[600px]",children:s.jsx(ede,{})}),s.jsxs(fr,{value:"consultations",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Upcoming Consultations"]}),s.jsx(Se,{children:"Your scheduled video consultations"})]}),s.jsx(ce,{children:f?s.jsx("div",{className:"space-y-4",children:[1,2].map(O=>s.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},O))}):l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No upcoming consultations"}),s.jsx("p",{className:"text-sm mt-2",children:"Start a chat to book your first consultation"})]}):s.jsx("div",{className:"space-y-4",children:l.map(O=>{const L=new Date(O.scheduled_at),$=new Date,F=(L.getTime()-$.getTime())/(1e3*60),z=O.status==="in_progress"||O.status==="confirmed"&&F<=15&&F>=-60;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border border-border hover:border-primary/50 transition-colors gap-3",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:s.jsx(kt,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.clinician_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:O.specialization||"General Consultation"})]})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 pl-16 sm:pl-0",children:[s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"font-medium",children:ta(O.scheduled_at,"MMM d, yyyy")}),s.jsx("p",{className:"text-sm text-muted-foreground",children:ta(O.scheduled_at,"h:mm a")})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[z&&s.jsxs(Z,{size:"sm",onClick:()=>e(`/consultation?appointment=${O.id}`),className:O.status==="in_progress"?"animate-pulse":"",children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),O.status==="in_progress"?"Join Now":"Join"]}),s.jsx(Ne,{variant:O.status==="confirmed"?"default":O.status==="in_progress"?"destructive":"secondary",children:O.status==="in_progress"?" Live":O.status})]})]})]},O.id)})})})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Prescriptions"]}),s.jsx(Se,{children:"Your prescription history"})]}),s.jsx(ce,{children:s.jsx(Zue,{})})]})]}),s.jsxs(fr,{value:"profile",className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsx(Se,{children:"Your profile details"})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Full Name"}),s.jsxs("p",{className:"font-medium",children:[n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("p",{className:"font-medium",children:r==null?void 0:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"ID Number"}),s.jsx("p",{className:"font-medium",children:(n==null?void 0:n.id_number)||"Not provided"})]})]}),s.jsxs(Z,{variant:"outline",className:"mt-4",onClick:()=>e("/onboarding"),children:[s.jsx(Sy,{className:"w-4 h-4 mr-2"}),"Update Profile"]})]})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(z_,{className:"w-5 h-5 text-primary"}),"Invoices"]}),s.jsx(Se,{children:"Your billing history"})]}),s.jsx(ce,{children:u.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(z_,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No invoices yet"})]}):s.jsx("div",{className:"space-y-3",children:u.map(O=>s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border cursor-pointer hover:border-primary/50 hover:shadow-sm transition-all",onClick:()=>k(O),children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:O.service_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[ta(O.consultation_date,"MMM d, yyyy"),"  ",O.clinician_name]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["R ",O.amount.toFixed(2)]}),s.jsx(Ne,{variant:O.status==="paid"?"default":"secondary",children:O.status})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:L=>P(O.id,L),disabled:S===O.id,children:S===O.id?s.jsx(lt,{className:"w-4 h-4 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4"})})]})]},O.id))})})]}),s.jsx(ni,{open:w,onOpenChange:_,children:s.jsxs(Aa,{className:"sm:max-w-md",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2",children:[s.jsx(z_,{className:"w-5 h-5 text-primary"}),"Invoice Details"]}),s.jsxs(su,{children:["Invoice #",b==null?void 0:b.id.slice(0,8).toUpperCase()]})]}),b&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx("h3",{className:"font-semibold text-lg",children:b.service_name}),s.jsx("p",{className:"text-muted-foreground",children:"Consultation Service"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:ta(b.consultation_date,"MMMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clinician"}),s.jsx("p",{className:"font-medium",children:b.clinician_name})]})]}),s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Amount Due"}),s.jsxs("span",{className:"text-2xl font-bold",children:["R ",b.amount.toFixed(2)]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx(Ne,{variant:b.status==="paid"?"default":"secondary",className:"text-sm",children:b.status==="paid"?" Paid":b.status}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:O=>P(b.id,O),disabled:S===b.id,children:[S===b.id?s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Download PDF"]})]}),b.status!=="paid"&&s.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:s.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:"Please contact our reception to arrange payment."})})]})]})})]})]})]})]})},rde=()=>s.jsx(r8,{children:s.jsx(tde,{})});var xP="Radio",[nde,iz]=gn(xP),[ade,ide]=nde(xP),sz=y.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=y.useState(null),m=Ke(t,v=>h(v)),g=y.useRef(!1),p=f?u||!!f.closest("form"):!0;return s.jsxs(ade,{scope:r,checked:a,disabled:o,children:[s.jsx(Me.button,{type:"button",role:"radio","aria-checked":a,"data-state":uz(a),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:he(e.onClick,v=>{a||c==null||c(),p&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),p&&s.jsx(cz,{control:f,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});sz.displayName=xP;var oz="RadioIndicator",lz=y.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=ide(oz,r);return s.jsx(Hr,{present:n||i.checked,children:s.jsx(Me.span,{"data-state":uz(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});lz.displayName=oz;var sde="RadioBubbleInput",cz=y.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=L0(r),u=k0(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cz.displayName=sde;function uz(e){return e?"checked":"unchecked"}var ode=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],K0="RadioGroup",[lde]=gn(K0,[ph,iz]),dz=ph(),fz=iz(),[cde,ude]=lde(K0),hz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,m=dz(r),g=hh(u),[p,v]=Wi({prop:i,defaultProp:a??null,onChange:f,caller:K0});return s.jsx(cde,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:v,children:s.jsx(eP,{asChild:!0,...m,orientation:c,dir:g,loop:d,children:s.jsx(Me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:t})})})});hz.displayName=K0;var mz="RadioGroupItem",pz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=ude(mz,r),o=i.disabled||n,l=dz(r),c=fz(r),u=y.useRef(null),d=Ke(t,u),f=i.value===a.value,h=y.useRef(!1);return y.useEffect(()=>{const m=p=>{ode.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",g)}},[]),s.jsx(tP,{asChild:!0,...l,focusable:!o,active:f,children:s.jsx(sz,{disabled:o,required:i.required,checked:f,...c,...a,name:i.name,ref:d,onCheck:()=>i.onValueChange(a.value),onKeyDown:he(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:he(a.onFocus,()=>{var m;h.current&&((m=u.current)==null||m.click())})})})});pz.displayName=mz;var dde="RadioGroupIndicator",gz=y.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=fz(r);return s.jsx(lz,{...a,...n,ref:t})});gz.displayName=dde;var vz=hz,yz=pz,fde=gz;const Sp=y.forwardRef(({className:e,...t},r)=>s.jsx(vz,{className:ve("grid gap-2",e),...t,ref:r}));Sp.displayName=vz.displayName;const gs=y.forwardRef(({className:e,...t},r)=>s.jsx(yz,{ref:r,className:ve("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(fde,{className:"flex items-center justify-center",children:s.jsx(yB,{className:"h-2.5 w-2.5 fill-current text-current"})})}));gs.displayName=yz.displayName;function hde(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,mde(a,...t)]}function mde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var pde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xz=pde.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bP="Progress",wP=100,[gde]=hde(bP),[vde,yde]=gde(bP),bz=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=xde,...o}=e;(a||a===0)&&!o$(a)&&console.error(bde(`${a}`,"Progress"));const l=o$(a)?a:wP;n!==null&&!l$(n,l)&&console.error(wde(`${n}`,"Progress"));const c=l$(n,l)?n:null,u=Ix(c)?i(c,l):void 0;return s.jsx(vde,{scope:r,value:c,max:l,children:s.jsx(xz.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ix(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":jz(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});bz.displayName=bP;var wz="ProgressIndicator",_z=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=yde(wz,r);return s.jsx(xz.div,{"data-state":jz(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});_z.displayName=wz;function xde(e,t){return`${Math.round(e/t*100)}%`}function jz(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ix(e){return typeof e=="number"}function o$(e){return Ix(e)&&!isNaN(e)&&e>0}function l$(e,t){return Ix(e)&&!isNaN(e)&&e<=t&&e>=0}function bde(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${wP}\`.`}function wde(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${wP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Sz=bz,_de=_z;const lu=y.forwardRef(({className:e,value:t,...r},n)=>s.jsx(Sz,{ref:n,className:ve("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(_de,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));lu.displayName=Sz.displayName;const c$="",jde={General:UX,"Head & Neurological":uf,"Eyes, Ears, Nose, Throat":jy,Respiratory:xd,Cardiovascular:gE,Gastrointestinal:ri,Urinary:xd,Musculoskeletal:xd,Skin:xd,"Mental Health":uf},u$={emergency:{color:"text-red-600",bgColor:"bg-red-100",label:"EMERGENCY"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100",label:"Urgent"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100",label:"Soon"},routine:{color:"text-green-600",bgColor:"bg-green-100",label:"Routine"}},Sde=({onComplete:e,onBack:t})=>{const[r,n]=y.useState(1),[a,i]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState("moderate"),[h,m]=y.useState(""),[g,p]=y.useState(""),[v,b]=y.useState(null);y.useEffect(()=>{x()},[]);const x=async()=>{try{const I=await(await fetch(`${c$}/api/symptoms/common`)).json();l(I.symptom_categories||[])}catch(T){console.error("Failed to fetch symptoms:",T),l([{category:"General",symptoms:["Fever","Fatigue","Weakness","Weight loss","Chills"]},{category:"Head & Neurological",symptoms:["Headache","Dizziness","Confusion","Numbness"]},{category:"Respiratory",symptoms:["Cough","Shortness of breath","Wheezing","Chest tightness"]},{category:"Cardiovascular",symptoms:["Chest pain","Palpitations","Swelling in legs"]},{category:"Gastrointestinal",symptoms:["Nausea","Vomiting","Diarrhea","Abdominal pain"]}])}},w=T=>{u(I=>I.includes(T)?I.filter(O=>O!==T):[...I,T])},_=async()=>{if(c.length===0){le.error("Please select at least one symptom");return}i(!0);try{const{supabase:T}=await yo(async()=>{const{supabase:$}=await Promise.resolve().then(()=>go);return{supabase:$}},void 0),{data:{session:I}}=await T.auth.getSession(),O=await fetch(`${c$}/api/symptoms/assess`,{method:"POST",headers:{"Content-Type":"application/json",...(I==null?void 0:I.access_token)&&{Authorization:`Bearer ${I.access_token}`}},body:JSON.stringify({symptoms:c,severity:d,description:h||void 0,duration:g||void 0})});if(!O.ok)throw new Error("Assessment failed");const L=await O.json();b(L),n(4)}catch(T){console.error("Assessment error:",T),le.error("Failed to complete AI assessment. Proceeding with basic booking."),S()}finally{i(!1)}},S=()=>{e({symptoms:c,severity:d,description:h,recommendedSpecialization:null})},N=()=>{if(!v)return;const T={general_practice:"General Practice",internal_medicine:"Internal Medicine",cardiology:"Cardiology",neurology:"Neurology",dermatology:"Dermatology",psychiatry:"Psychiatry"};e({symptoms:c,severity:d,description:h,recommendedSpecialization:v.recommended_specialization?T[v.recommended_specialization]||v.recommended_specialization:null,aiAssessment:v})},P=r/4*100,A=v?u$[v.urgency]||u$.routine:null;return s.jsxs("div",{className:"space-y-6",children:[r<4&&s.jsxs("div",{className:"mb-6",children:[s.jsx(lu,{value:P,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",r," of 3 - AI Symptom Assessment"]})]}),r===1&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"w-5 h-5 text-primary"}),"What symptoms are you experiencing?"]}),s.jsx(Se,{children:"Select all that apply. Our AI will help assess your needs."})]}),s.jsxs(ce,{className:"space-y-6",children:[o.map(T=>{const I=jde[T.category]||xd;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2 text-sm",children:[s.jsx(I,{className:"w-4 h-4 text-muted-foreground"}),T.category]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.symptoms.map(O=>s.jsx(Ne,{variant:c.includes(O)?"default":"outline",className:"cursor-pointer py-1.5 px-3 text-xs sm:text-sm",onClick:()=>w(O),children:O},O))})]},T.category)}),c.length>0&&s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg",children:[s.jsxs("p",{className:"text-sm font-medium mb-2",children:["Selected symptoms (",c.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(T=>s.jsx(Ne,{variant:"secondary",className:"text-xs",children:T},T))})]})]})]}),r===2&&s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(xd,{className:"w-5 h-5 text-primary"}),"How severe are your symptoms?"]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs(Sp,{value:d,onValueChange:T=>f(T),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"mild",id:"mild"}),s.jsxs(fe,{htmlFor:"mild",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Mild"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Noticeable but not significantly affecting daily activities"})]}),s.jsx(Ne,{variant:"outline",className:"bg-green-50 text-green-700",children:"Low"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"moderate",id:"moderate"}),s.jsxs(fe,{htmlFor:"moderate",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Moderate"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Affecting daily activities, requiring rest or medication"})]}),s.jsx(Ne,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:"Medium"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-4 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"severe",id:"severe"}),s.jsxs(fe,{htmlFor:"severe",className:"flex-1 cursor-pointer",children:[s.jsx("span",{className:"font-medium",children:"Severe"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Significantly impacting daily life, intense discomfort"})]}),s.jsx(Ne,{variant:"outline",className:"bg-red-50 text-red-700",children:"High"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"How long have you had these symptoms?"}),s.jsx(Sp,{value:g,onValueChange:p,className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:["Few hours","1-2 days","3-7 days","Over a week"].map(T=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:T,id:T}),s.jsx(fe,{htmlFor:T,className:"text-sm cursor-pointer",children:T})]},T))})]})]})]}),r===3&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(uf,{className:"w-5 h-5 text-primary"}),"Tell us more (optional)"]}),s.jsx(Se,{children:"Any additional details help our AI provide a better assessment"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Describe your symptoms in your own words"}),s.jsx(Fr,{value:h,onChange:T=>m(T.target.value),placeholder:"e.g., The headache started suddenly this morning, worse on the right side...",rows:4})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"Summary:"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Symptoms:"})," ",c.join(", "),s.jsx("br",{}),s.jsx("strong",{children:"Severity:"})," ",d,s.jsx("br",{}),s.jsx("strong",{children:"Duration:"})," ",g||"Not specified"]})]})]})]}),r===4&&v&&s.jsxs("div",{className:"space-y-6",children:[v.urgency==="emergency"&&s.jsx(se,{className:"border-red-500 bg-red-50",children:s.jsx(ce,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 flex items-center justify-center shrink-0",children:s.jsx(oa,{className:"w-8 h-8 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-red-700",children:"Emergency - Seek Immediate Care"}),s.jsx("p",{className:"text-red-600",children:"Call emergency services (10177) or go to the nearest emergency room"})]})]})})}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-primary"}),"AI Assessment Complete"]}),A&&s.jsx(Ne,{className:`${A.bgColor} ${A.color}`,children:A.label})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm leading-relaxed",children:v.assessment_summary})}),s.jsxs("div",{children:[s.jsx(fe,{className:"text-sm text-muted-foreground",children:"Urgency Level"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(lu,{value:v.urgency_score*10,className:"h-3 flex-1"}),s.jsxs("span",{className:"font-bold text-lg",children:[v.urgency_score,"/10"]})]})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Recommended Care Pathway"}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:[v.care_pathway==="emergency_services"&&"Seek emergency medical services immediately",v.care_pathway==="urgent_consultation"&&"Book an urgent telehealth consultation",v.care_pathway==="nurse_triage"&&"Speak with a nurse for initial assessment",v.care_pathway==="doctor_consultation"&&"Schedule a doctor consultation",v.care_pathway==="specialist_referral"&&"You may need to see a specialist",v.care_pathway==="self_care"&&"Self-care may be appropriate with monitoring"]}),v.recommended_specialization&&s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("strong",{children:"Recommended:"})," ",v.recommended_specialization.replace("_"," ")]})]}),v.warning_signs.length>0&&s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("h3",{className:"font-medium text-red-700 flex items-center gap-2 mb-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Warning Signs to Watch For"]}),s.jsx("ul",{className:"text-sm text-red-600 space-y-1",children:v.warning_signs.map((T,I)=>s.jsxs("li",{children:[" ",T]},I))})]}),v.self_care_advice&&s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-700 mb-2",children:"Self-Care Advice"}),s.jsx("p",{className:"text-sm text-green-600",children:v.self_care_advice})]}),s.jsx("p",{className:"text-xs text-muted-foreground italic",children:v.disclaimer})]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(Z,{variant:"outline",onClick:()=>r===1?t():n(T=>T-1),children:[s.jsx(pE,{className:"w-4 h-4 mr-2"}),"Back"]}),r===1&&s.jsxs(Z,{onClick:()=>n(2),disabled:c.length===0,children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}),r===2&&s.jsxs(Z,{onClick:()=>n(3),children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}),r===3&&s.jsx(Z,{onClick:_,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(uf,{className:"w-4 h-4 mr-2"})," Get AI Assessment"]})}),r===4&&v&&v.urgency!=="emergency"&&s.jsxs(Z,{onClick:N,children:["Continue to Select Clinician",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};function Nde(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,v=y.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:v,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,kde(a,...t)]}function kde(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Cde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_P=Cde.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Nz={exports:{}},kz={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=y;function Ede(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pde=typeof Object.is=="function"?Object.is:Ede,Ode=wf.useState,Ade=wf.useEffect,Tde=wf.useLayoutEffect,Mde=wf.useDebugValue;function $de(e,t){var r=t(),n=Ode({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Tde(function(){a.value=r,a.getSnapshot=t,wj(a)&&i({inst:a})},[e,r,t]),Ade(function(){return wj(a)&&i({inst:a}),e(function(){wj(a)&&i({inst:a})})},[e]),Mde(r),r}function wj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pde(e,r)}catch{return!0}}function Ide(e,t){return t()}var Rde=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ide:$de;kz.useSyncExternalStore=wf.useSyncExternalStore!==void 0?wf.useSyncExternalStore:Rde;Nz.exports=kz;var Dde=Nz.exports;function Lde(){return Dde.useSyncExternalStore(Fde,()=>!0,()=>!1)}function Fde(){return()=>{}}var jP="Avatar",[Bde]=Nde(jP),[Ude,Cz]=Bde(jP),Ez=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return s.jsx(Ude,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(_P.span,{...n,ref:t})})});Ez.displayName=jP;var Pz="AvatarImage",Oz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=Cz(Pz,r),l=zde(n,i),c=xr(u=>{a(u),o.onImageLoadingStatusChange(u)});return Sr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(_P.img,{...i,ref:t,src:n}):null});Oz.displayName=Pz;var Az="AvatarFallback",Tz=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=Cz(Az,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(_P.span,{...a,ref:t}):null});Tz.displayName=Az;function d$(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function zde(e,{referrerPolicy:t,crossOrigin:r}){const n=Lde(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=y.useState(()=>d$(i,e));return Sr(()=>{l(d$(i,e))},[i,e]),Sr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Mz=Ez,$z=Oz,Iz=Tz;const Y0=y.forwardRef(({className:e,...t},r)=>s.jsx(Mz,{ref:r,className:ve("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Y0.displayName=Mz.displayName;const Rz=y.forwardRef(({className:e,...t},r)=>s.jsx($z,{ref:r,className:ve("aspect-square h-full w-full",e),...t}));Rz.displayName=$z.displayName;const J0=y.forwardRef(({className:e,...t},r)=>s.jsx(Iz,{ref:r,className:ve("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));J0.displayName=Iz.displayName;const Vde=({recommendedSpecialization:e,onSelect:t,onBack:r})=>{const[n,a]=y.useState([]),[i,o]=y.useState(!0),[l,c]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:f,error:h}=await Pe.from("clinician_profiles").select("id, specialization, qualification, years_experience, bio, is_available").eq("is_available",!0);if(h)throw h;if(f&&f.length>0){const m=f.map(b=>b.id),{data:g,error:p}=await Pe.from("profiles").select("id, first_name, last_name, avatar_url").in("id",m);if(p)throw p;const v=f.map(b=>{const x=g==null?void 0:g.find(w=>w.id===b.id);return{id:b.id,first_name:(x==null?void 0:x.first_name)||"Unknown",last_name:(x==null?void 0:x.last_name)||"",avatar_url:(x==null?void 0:x.avatar_url)||null,specialization:b.specialization,qualification:b.qualification,years_experience:b.years_experience,bio:b.bio}});a(v)}}catch(f){console.error("Error fetching clinicians:",f)}finally{o(!1)}})()},[]);const u=()=>{const d=n.find(f=>f.id===l);d&&t(d)};return i?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>s.jsx(se,{children:s.jsxs(ce,{className:"flex items-center gap-4 p-6",children:[s.jsx(Wt,{className:"w-16 h-16 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(Wt,{className:"h-4 w-32"}),s.jsx(Wt,{className:"h-3 w-48"})]})]})},d))}):n.length===0?s.jsx(se,{children:s.jsxs(ce,{className:"text-center py-12",children:[s.jsx(Wr,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Clinicians Available"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"There are currently no clinicians available for booking."}),s.jsx(Z,{variant:"outline",onClick:r,children:"Go Back"})]})}):s.jsxs("div",{className:"space-y-6",children:[e&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-primary/5 rounded-lg border border-primary/20",children:[s.jsx(ri,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{className:"text-sm",children:["Based on your symptoms, we recommend a ",s.jsx("strong",{children:e})," specialist."]})]}),s.jsx("div",{className:"space-y-4",children:n.map(d=>s.jsx(se,{className:`cursor-pointer transition-all ${l===d.id?"border-primary ring-2 ring-primary/20":"hover:border-primary/50"}`,onClick:()=>c(d.id),children:s.jsxs(ce,{className:"flex items-start gap-4 p-6",children:[s.jsxs(Y0,{className:"w-16 h-16",children:[s.jsx(Rz,{src:d.avatar_url||void 0}),s.jsxs(J0,{className:"bg-primary/10 text-primary text-lg",children:[d.first_name[0],d.last_name[0]]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-lg",children:["Dr. ",d.first_name," ",d.last_name]}),s.jsx("p",{className:"text-muted-foreground text-sm",children:d.qualification||"Medical Professional"})]}),s.jsx(Ne,{variant:"secondary",children:d.specialization||"General Practice"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-muted-foreground",children:[d.years_experience&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-4 h-4"}),d.years_experience," years exp."]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(SB,{className:"w-4 h-4 text-warning"}),"4.8 (120 reviews)"]})]}),d.bio&&s.jsx("p",{className:"mt-3 text-sm text-muted-foreground line-clamp-2",children:d.bio})]}),s.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center ${l===d.id?"border-primary bg-primary":"border-muted-foreground/30"}`,children:l===d.id&&s.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},d.id))}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Z,{variant:"outline",onClick:r,children:"Back"}),s.jsxs(Z,{onClick:u,disabled:!l,children:["Continue to Select Time",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};var qe=function(){return qe=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},qe.apply(this,arguments)};function Wde(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Dz(e,t,r){for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Pg(e){return e.mode==="multiple"}function Og(e){return e.mode==="range"}function X0(e){return e.mode==="single"}var Hde={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function qde(e,t){return yt(e,"LLLL y",t)}function Gde(e,t){return yt(e,"d",t)}function Kde(e,t){return yt(e,"LLLL",t)}function Yde(e){return"".concat(e)}function Jde(e,t){return yt(e,"cccccc",t)}function Xde(e,t){return yt(e,"yyyy",t)}var Qde=Object.freeze({__proto__:null,formatCaption:qde,formatDay:Gde,formatMonthCaption:Kde,formatWeekNumber:Yde,formatWeekdayName:Jde,formatYearCaption:Xde}),Zde=function(e,t,r){return yt(e,"do MMMM (EEEE)",r)},efe=function(){return"Month: "},tfe=function(){return"Go to next month"},rfe=function(){return"Go to previous month"},nfe=function(e,t){return yt(e,"cccc",t)},afe=function(e){return"Week n. ".concat(e)},ife=function(){return"Year: "},sfe=Object.freeze({__proto__:null,labelDay:Zde,labelMonthDropdown:efe,labelNext:tfe,labelPrevious:rfe,labelWeekNumber:afe,labelWeekday:nfe,labelYearDropdown:ife});function ofe(){var e="buttons",t=Hde,r=pP,n={},a={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:Qde,labels:sfe,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function lfe(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return n?i=sa(n):t&&(i=new Date(t,0,1)),a?o=q0(a):r&&(o=new Date(r,11,31)),{fromDate:i?Cs(i):void 0,toDate:o?Cs(o):void 0}}var Lz=y.createContext(void 0);function cfe(e){var t,r=e.initialProps,n=ofe(),a=lfe(r),i=a.fromDate,o=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(X0(r)||Pg(r)||Og(r))&&(c=r.onSelect);var u=qe(qe(qe({},n),r),{captionLayout:l,classNames:qe(qe({},n.classNames),r.classNames),components:qe({},r.components),formatters:qe(qe({},n.formatters),r.formatters),fromDate:i,labels:qe(qe({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:qe(qe({},n.modifiers),r.modifiers),modifiersClassNames:qe(qe({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:qe(qe({},n.styles),r.styles),toDate:o});return s.jsx(Lz.Provider,{value:u,children:e.children})}function Gt(){var e=y.useContext(Lz);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Fz(e){var t=Gt(),r=t.locale,n=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function ufe(e){return s.jsx("svg",qe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Bz(e){var t,r,n=e.onChange,a=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,u=Gt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:ufe;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:i}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function dfe(e){var t,r=Gt(),n=r.fromDate,a=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var f=[];if(aue(n,a))for(var h=sa(n),m=n.getMonth();m<=a.getMonth();m++)f.push(pj(h,m));else for(var h=sa(new Date),m=0;m<=11;m++)f.push(pj(h,m));var g=function(v){var b=Number(v.target.value),x=pj(sa(e.displayMonth),b);e.onChange(x)},p=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Bz;return s.jsx(p,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function ffe(e){var t,r=e.displayMonth,n=Gt(),a=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,f=n.labels.labelYearDropdown,h=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var m=a.getFullYear(),g=i.getFullYear(),p=m;p<=g;p++)h.push(KM(H8(new Date),p));var v=function(x){var w=KM(sa(r),Number(x.target.value));e.onChange(w)},b=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Bz;return s.jsx(b,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:o}),children:h.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function hfe(e,t){var r=y.useState(e),n=r[0],a=r[1],i=t===void 0?n:t;return[i,a]}function mfe(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(i&&bf(i,a)<0){var u=-1*(c-1);a=Ki(i,u)}return o&&bf(a,o)<0&&(a=o),sa(a)}function pfe(){var e=Gt(),t=mfe(e),r=hfe(t,e.month),n=r[0],a=r[1],i=function(o){var l;if(!e.disableNavigation){var c=sa(o);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,i]}function gfe(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=sa(e),i=sa(Ki(a,n)),o=bf(i,a),l=[],c=0;c<o;c++){var u=Ki(a,c);l.push(u)}return r&&(l=l.reverse()),l}function vfe(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=sa(e);if(!r)return Ki(l,o);var c=bf(r,e);if(!(c<i))return Ki(l,o)}}function yfe(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=n?i:1,l=sa(e);if(!r)return Ki(l,-o);var c=bf(l,r);if(!(c<=0))return Ki(l,-o)}}var Uz=y.createContext(void 0);function xfe(e){var t=Gt(),r=pfe(),n=r[0],a=r[1],i=gfe(n,t),o=vfe(n,t),l=yfe(n,t),c=function(f){return i.some(function(h){return gP(f,h)})},u=function(f,h){c(f)||(h&&Tx(f,h)?a(Ki(f,1+t.numberOfMonths*-1)):a(f))},d={currentMonth:n,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Uz.Provider,{value:d,children:e.children})}function Ag(){var e=y.useContext(Uz);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function f$(e){var t,r=Gt(),n=r.classNames,a=r.styles,i=r.components,o=Ag().goToMonth,l=function(d){o(Ki(d,e.displayIndex?-e.displayIndex:0))},c=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:Fz,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(dfe,{onChange:l,displayMonth:e.displayMonth}),s.jsx(ffe,{onChange:l,displayMonth:e.displayMonth})]})}function bfe(e){return s.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wfe(e){return s.jsx("svg",qe({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Rx=y.forwardRef(function(e,t){var r=Gt(),n=r.classNames,a=r.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=qe(qe({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",qe({},e,{ref:t,type:"button",className:o,style:l}))});function _fe(e){var t,r,n=Gt(),a=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,f=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var h=u(e.previousMonth,{locale:i}),m=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:i}),p=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:wfe,b=(r=f==null?void 0:f.IconLeft)!==null&&r!==void 0?r:bfe;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Rx,{name:"previous-month","aria-label":h,className:m,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(b,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Rx,{name:"next-month","aria-label":g,className:p,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(b,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function h$(e){var t=Gt().numberOfMonths,r=Ag(),n=r.previousMonth,a=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(g){return gP(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),h=function(){n&&i(n)},m=function(){a&&i(a)};return s.jsx(_fe,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:a,previousMonth:n,onPreviousClick:h,onNextClick:m})}function jfe(e){var t,r=Gt(),n=r.classNames,a=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Fz,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(f$,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(f$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(h$,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(h$,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:i.caption,children:u})}function Sfe(e){var t=Gt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function Nfe(e,t,r){for(var n=r?ou(new Date):Yi(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Qr(n,i);a.push(o)}return a}function kfe(){var e=Gt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=Nfe(a,i,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},f)})]})}function Cfe(){var e,t=Gt(),r=t.classNames,n=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:kfe;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(i,{})})}function Efe(e){var t=Gt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var SP=y.createContext(void 0);function Pfe(e){if(!Pg(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(SP.Provider,{value:t,children:e.children})}return s.jsx(Ofe,{initialProps:e.initialProps,children:e.children})}function Ofe(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,i=t.max,o=function(u,d,f){var h,m;(h=t.onDayClick)===null||h===void 0||h.call(t,u,d,f);var g=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!g){var p=!!(!d.selected&&i&&(n==null?void 0:n.length)===i);if(!p){var v=n?Dz([],n):[];if(d.selected){var b=v.findIndex(function(x){return Cn(u,x)});v.splice(b,1)}else v.push(u);(m=t.onSelect)===null||m===void 0||m.call(t,v,u,d,f)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=i&&n.length>i-1,f=n.some(function(h){return Cn(h,u)});return!!(d&&!f)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(SP.Provider,{value:c,children:r})}function NP(){var e=y.useContext(SP);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Afe(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Cn(a,e)&&Cn(n,e)?void 0:Cn(a,e)?{from:a,to:void 0}:Cn(n,e)?void 0:uN(n,e)?{from:e,to:a}:{from:n,to:e}:a?uN(e,a)?{from:a,to:e}:{from:e,to:a}:n?Tx(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var kP=y.createContext(void 0);function Tfe(e){if(!Og(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(kP.Provider,{value:t,children:e.children})}return s.jsx(Mfe,{initialProps:e.initialProps,children:e.children})}function Mfe(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},i=a.from,o=a.to,l=t.min,c=t.max,u=function(m,g,p){var v,b;(v=t.onDayClick)===null||v===void 0||v.call(t,m,g,p);var x=Afe(m,n);(b=t.onSelect)===null||b===void 0||b.call(t,x,m,g,p)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],Cn(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:hj(i,l-1),before:Qr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:Qr(i,l-1)}),!i&&o&&d.disabled.push({after:hj(o,l-1),before:Qr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:Qr(i,-c+1)}),d.disabled.push({after:Qr(i,c-1)})),i&&o){var f=ps(o,i)+1,h=c-f;d.disabled.push({before:hj(i,h)}),d.disabled.push({after:Qr(o,h)})}!i&&o&&(d.disabled.push({before:Qr(o,-c+1)}),d.disabled.push({after:Qr(o,c-1)}))}return s.jsx(kP.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function CP(){var e=y.useContext(kP);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Oy(e){return Array.isArray(e)?Dz([],e):e!==void 0?[e]:[]}function $fe(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=Oy(a)}),t}var Ji;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ji||(Ji={}));var Ife=Ji.Selected,Ls=Ji.Disabled,Rfe=Ji.Hidden,Dfe=Ji.Today,_j=Ji.RangeEnd,jj=Ji.RangeMiddle,Sj=Ji.RangeStart,Lfe=Ji.Outside;function Ffe(e,t,r){var n,a=(n={},n[Ife]=Oy(e.selected),n[Ls]=Oy(e.disabled),n[Rfe]=Oy(e.hidden),n[Dfe]=[e.today],n[_j]=[],n[jj]=[],n[Sj]=[],n[Lfe]=[],n);return e.fromDate&&a[Ls].push({before:e.fromDate}),e.toDate&&a[Ls].push({after:e.toDate}),Pg(e)?a[Ls]=a[Ls].concat(t.modifiers[Ls]):Og(e)&&(a[Ls]=a[Ls].concat(r.modifiers[Ls]),a[Sj]=r.modifiers[Sj],a[jj]=r.modifiers[jj],a[_j]=r.modifiers[_j]),a}var zz=y.createContext(void 0);function Bfe(e){var t=Gt(),r=NP(),n=CP(),a=Ffe(t,r,n),i=$fe(t.modifiers),o=qe(qe({},a),i);return s.jsx(zz.Provider,{value:o,children:e.children})}function Vz(){var e=y.useContext(zz);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Ufe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function zfe(e){return!!(e&&typeof e=="object"&&"from"in e)}function Vfe(e){return!!(e&&typeof e=="object"&&"after"in e)}function Wfe(e){return!!(e&&typeof e=="object"&&"before"in e)}function Hfe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function qfe(e,t){var r,n=t.from,a=t.to;if(n&&a){var i=ps(a,n)<0;i&&(r=[a,n],n=r[0],a=r[1]);var o=ps(e,n)>=0&&ps(a,e)>=0;return o}return a?Cn(a,e):n?Cn(n,e):!1}function Gfe(e){return hP(e)}function Kfe(e){return Array.isArray(e)&&e.every(hP)}function Yfe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(Gfe(r))return Cn(e,r);if(Kfe(r))return r.includes(e);if(zfe(r))return qfe(e,r);if(Hfe(r))return r.dayOfWeek.includes(e.getDay());if(Ufe(r)){var n=ps(r.before,e),a=ps(r.after,e),i=n>0,o=a<0,l=uN(r.before,r.after);return l?o&&i:i||o}return Vfe(r)?ps(e,r.after)>0:Wfe(r)?ps(r.before,e)>0:typeof r=="function"?r(e):!1})}function EP(e,t,r){var n=Object.keys(t).reduce(function(i,o){var l=t[o];return Yfe(e,l)&&i.push(o),i},[]),a={};return n.forEach(function(i){return a[i]=!0}),r&&!gP(e,r)&&(a.outside=!0),a}function Jfe(e,t){for(var r=sa(e[0]),n=q0(e[e.length-1]),a,i,o=r;o<=n;){var l=EP(o,t),c=!l.disabled&&!l.hidden;if(!c){o=Qr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Qr(o,1)}return i||a}var Xfe=365;function Wz(e,t){var r=t.moveBy,n=t.direction,a=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,f=a.locale,h={day:Qr,week:_p,month:Ki,year:Gle,startOfWeek:function(v){return a.ISOWeek?ou(v):Yi(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return a.ISOWeek?q8(v):G0(v,{locale:f,weekStartsOn:c})}},m=h[r](e,n==="after"?1:-1);n==="before"&&u?m=Kle([u,m]):n==="after"&&d&&(m=Yle([d,m]));var g=!0;if(i){var p=EP(m,i);g=!p.disabled&&!p.hidden}return g?m:l.count>Xfe?l.lastFocused:Wz(m,{moveBy:r,direction:n,context:a,modifiers:i,retry:qe(qe({},l),{count:l.count+1})})}var Hz=y.createContext(void 0);function Qfe(e){var t=Ag(),r=Vz(),n=y.useState(),a=n[0],i=n[1],o=y.useState(),l=o[0],c=o[1],u=Jfe(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(a),i(void 0)},h=function(v){i(v)},m=Gt(),g=function(v,b){if(a){var x=Wz(a,{moveBy:v,direction:b,context:m,modifiers:r});Cn(a,x)||(t.goToDate(x,a),h(x))}},p={focusedDay:a,focusTarget:d,blur:f,focus:h,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(Hz.Provider,{value:p,children:e.children})}function PP(){var e=y.useContext(Hz);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Zfe(e,t){var r=Vz(),n=EP(e,r,t);return n}var OP=y.createContext(void 0);function ehe(e){if(!X0(e.initialProps)){var t={selected:void 0};return s.jsx(OP.Provider,{value:t,children:e.children})}return s.jsx(the,{initialProps:e.initialProps,children:e.children})}function the(e){var t=e.initialProps,r=e.children,n=function(i,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,i,i,o,l)},a={selected:t.selected,onDayClick:n};return s.jsx(OP.Provider,{value:a,children:r})}function qz(){var e=y.useContext(OP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function rhe(e,t){var r=Gt(),n=qz(),a=NP(),i=CP(),o=PP(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,h=o.focus,m=o.focusMonthBefore,g=o.focusMonthAfter,p=o.focusYearBefore,v=o.focusYearAfter,b=o.focusStartOfWeek,x=o.focusEndOfWeek,w=function(V){var R,U,K,re;X0(r)?(R=n.onDayClick)===null||R===void 0||R.call(n,e,t,V):Pg(r)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,V):Og(r)?(K=i.onDayClick)===null||K===void 0||K.call(i,e,t,V):(re=r.onDayClick)===null||re===void 0||re.call(r,e,t,V)},_=function(V){var R;h(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,V)},S=function(V){var R;f(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,V)},N=function(V){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,V)},k=function(V){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,V)},P=function(V){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,V)},A=function(V){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,V)},T=function(V){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,V)},I=function(V){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,V)},O=function(V){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,V)},L=function(V){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,V)},$=function(V){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,V)},F=function(V){var R;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),u();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?p():m();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?v():g();break;case"Home":V.preventDefault(),V.stopPropagation(),b();break;case"End":V.preventDefault(),V.stopPropagation(),x();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,V)},z={onClick:w,onFocus:_,onBlur:S,onKeyDown:F,onKeyUp:$,onMouseEnter:N,onMouseLeave:k,onPointerEnter:P,onPointerLeave:A,onTouchCancel:T,onTouchEnd:I,onTouchMove:O,onTouchStart:L};return z}function nhe(){var e=Gt(),t=qz(),r=NP(),n=CP(),a=X0(e)?t.selected:Pg(e)?r.selected:Og(e)?n.selected:void 0;return a}function ahe(e){return Object.values(Ji).includes(e)}function ihe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(ahe(n)){var i=e.classNames["day_".concat(n)];i&&r.push(i)}}),r}function she(e,t){var r=qe({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=qe(qe({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function ohe(e,t,r){var n,a,i,o=Gt(),l=PP(),c=Zfe(e,t),u=rhe(e,c),d=nhe(),f=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var N;c.outside||l.focusedDay&&f&&Cn(l.focusedDay,e)&&((N=r.current)===null||N===void 0||N.focus())},[l.focusedDay,e,r,f,c.outside]);var h=ihe(o,c).join(" "),m=she(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),p=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:Efe,v=s.jsx(p,{date:e,displayMonth:t,activeModifiers:c}),b={style:m,className:h,children:v,role:"gridcell"},x=l.focusTarget&&Cn(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Cn(l.focusedDay,e),_=qe(qe(qe({},b),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:b};return S}function lhe(e){var t=y.useRef(null),r=ohe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Rx,qe({name:"day",ref:t},r.buttonProps)):s.jsx("div",qe({},r.divProps))}function che(e){var t=e.number,r=e.dates,n=Gt(),a=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var f=c(Number(t),{locale:l}),h=function(m){a(t,r,m)};return s.jsx(Rx,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:h,children:d})}function uhe(e){var t,r,n=Gt(),a=n.styles,i=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:lhe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:che,d;return o&&(d=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},tue(f))})]})}function m$(e,t,r){for(var n=r!=null&&r.ISOWeek?q8(t):G0(t,r),a=r!=null&&r.ISOWeek?ou(e):Yi(e,r),i=ps(n,a),o=[],l=0;l<=i;l++)o.push(Qr(a,l));var c=o.reduce(function(u,d){var f=r!=null&&r.ISOWeek?G8(d):Y8(d,r),h=u.find(function(m){return m.weekNumber===f});return h?(h.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function dhe(e,t){var r=m$(sa(e),q0(e),t);if(t!=null&&t.useFixedWeeks){var n=nue(e,t);if(n<6){var a=r[r.length-1],i=a.dates[a.dates.length-1],o=_p(i,6-n),l=m$(_p(i,1),o,t);r.push.apply(r,l)}}return r}function fhe(e){var t,r,n,a=Gt(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,f=a.weekStartsOn,h=a.firstWeekContainsDate,m=a.ISOWeek,g=dhe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:m,locale:i,weekStartsOn:f,firstWeekContainsDate:h}),p=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Cfe,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:uhe,b=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Sfe;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(p,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(x){return s.jsx(v,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(b,{displayMonth:e.displayMonth})]})}function hhe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var mhe=hhe()?y.useLayoutEffect:y.useEffect,Nj=!1,phe=0;function p$(){return"react-day-picker-".concat(++phe)}function ghe(e){var t,r=e??(Nj?p$():null),n=y.useState(r),a=n[0],i=n[1];return mhe(function(){a===null&&i(p$())},[]),y.useEffect(function(){Nj===!1&&(Nj=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function vhe(e){var t,r,n=Gt(),a=n.dir,i=n.classNames,o=n.styles,l=n.components,c=Ag().displayMonths,u=ghe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,f=[i.month],h=o.month,m=e.displayIndex===0,g=e.displayIndex===c.length-1,p=!m&&!g;a==="rtl"&&(t=[m,g],g=t[0],m=t[1]),m&&(f.push(i.caption_start),h=qe(qe({},h),o.caption_start)),g&&(f.push(i.caption_end),h=qe(qe({},h),o.caption_end)),p&&(f.push(i.caption_between),h=qe(qe({},h),o.caption_between));var v=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:jfe;return s.jsxs("div",{className:f.join(" "),style:h,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(fhe,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function yhe(e){var t=Gt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function xhe(e){var t,r,n=e.initialProps,a=Gt(),i=PP(),o=Ag(),l=y.useState(!1),c=l[0],u=l[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var f=qe(qe({},a.styles.root),a.style),h=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,p){var v;return qe(qe({},g),(v={},v[p]=n[p],v))},{}),m=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:yhe;return s.jsx("div",qe({className:d.join(" "),style:f,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},h,{children:s.jsx(m,{children:o.displayMonths.map(function(g,p){return s.jsx(vhe,{displayIndex:p,displayMonth:g},p)})})}))}function bhe(e){var t=e.children,r=Wde(e,["children"]);return s.jsx(cfe,{initialProps:r,children:s.jsx(xfe,{children:s.jsx(ehe,{initialProps:r,children:s.jsx(Pfe,{initialProps:r,children:s.jsx(Tfe,{initialProps:r,children:s.jsx(Bfe,{children:s.jsx(Qfe,{children:t})})})})})})})}function whe(e){return s.jsx(bhe,qe({},e,{children:s.jsx(xhe,{initialProps:e})}))}function AP({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(whe,{showOutsideDays:r,className:ve("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ve(vp({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ve(vp({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(pE,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(df,{className:"h-4 w-4"})},...n})}AP.displayName="Calendar";const g$=[{value:"video",label:"Video Call",icon:tr,description:"Face-to-face via secure video"},{value:"phone",label:"Phone Call",icon:oa,description:"Voice consultation"},{value:"in_person",label:"In Person",icon:ih,description:"Visit the clinic"}],_he=()=>{const e=[];for(let t=8;t<18;t++)e.push(`${t.toString().padStart(2,"0")}:00`),e.push(`${t.toString().padStart(2,"0")}:30`);return e},jhe=({clinicianId:e,clinicianName:t,onSelect:r,onBack:n})=>{var x;const[a,i]=y.useState(Qr(new Date,1)),[o,l]=y.useState(null),[c,u]=y.useState("video"),[d,f]=y.useState([]),[h,m]=y.useState(!1),g=_he();y.useEffect(()=>{(async()=>{if(a){m(!0);try{const _=Cs(a),S=Qr(_,1),{data:N,error:k}=await Pe.from("appointments").select("scheduled_at").eq("clinician_id",e).gte("scheduled_at",_.toISOString()).lt("scheduled_at",S.toISOString()).in("status",["pending","confirmed"]);if(k)throw k;const P=(N||[]).map(A=>{const T=new Date(A.scheduled_at);return ta(T,"HH:mm")});f(P)}catch(_){console.error("Error fetching booked slots:",_)}finally{m(!1)}}})()},[a,e]);const p=()=>{a&&o&&r({date:a,time:o,consultationType:c})},v=w=>{if(d.includes(w))return!1;if(a){const[_,S]=w.split(":").map(Number),N=Z8(Q8(a,_),S);if(Tx(N,new Date))return!1}return!0},b=a&&o&&c;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(xe,{children:"Consultation Type"}),s.jsxs(Se,{children:["How would you like to have your consultation with Dr. ",t,"?"]})]}),s.jsx(ce,{children:s.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:g$.map(w=>{const _=w.icon;return s.jsxs("div",{className:`flex flex-col items-center p-4 rounded-lg border-2 cursor-pointer transition-all ${c===w.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>u(w.value),children:[s.jsx(_,{className:`w-8 h-8 mb-2 ${c===w.value?"text-primary":"text-muted-foreground"}`}),s.jsx("span",{className:"font-medium",children:w.label}),s.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:w.description})]},w.value)})})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(xe,{children:"Select Date"}),s.jsx(Se,{children:"Choose your preferred consultation date"})]}),s.jsx(ce,{children:s.jsx(AP,{mode:"single",selected:a,onSelect:i,disabled:w=>Tx(w,Cs(new Date))||w.getDay()===0,className:"rounded-md border pointer-events-auto"})})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Select Time",s.jsx(Ne,{variant:"outline",className:"ml-2 text-xs",children:jp})]}),s.jsx(Se,{children:a?$x(a):"Select a date first"})]}),s.jsx(ce,{children:h?s.jsx("div",{className:"grid grid-cols-3 gap-2",children:[1,2,3,4,5,6].map(w=>s.jsx("div",{className:"h-10 bg-muted animate-pulse rounded-md"},w))}):s.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-[300px] overflow-y-auto",children:g.map(w=>{const _=v(w);return s.jsx(Z,{variant:o===w?"default":"outline",size:"sm",disabled:!_,className:_?"":"opacity-50 line-through",onClick:()=>l(w),children:w},w)})})})]})]}),a&&o&&s.jsx(se,{className:"bg-primary/5 border-primary/20",children:s.jsxs(ce,{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Your Selected Appointment"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[$x(a)," at ",o," ",jp]})]}),s.jsx(Ne,{variant:"secondary",children:(x=g$.find(w=>w.value===c))==null?void 0:x.label})]})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Z,{variant:"outline",onClick:n,children:"Back"}),s.jsxs(Z,{onClick:p,disabled:!b,children:["Review & Confirm",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})};var She=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nhe=She.reduce((e,t)=>{const r=Sg(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),khe="Separator",v$="horizontal",Che=["horizontal","vertical"],Gz=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=v$,...a}=e,i=Ehe(n)?n:v$,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Nhe.div,{"data-orientation":i,...l,...a,ref:t})});Gz.displayName=khe;function Ehe(e){return Che.includes(e)}var Kz=Gz;const Dx=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(Kz,{ref:a,decorative:r,orientation:t,className:ve("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Dx.displayName=Kz.displayName;const Phe={video:tr,phone:oa,in_person:ih},Ohe={video:"Video Call",phone:"Phone Call",in_person:"In Person"},Ahe=({data:e,onConfirm:t,onBack:r})=>{const{user:n}=$r(),[a,i]=y.useState(!1),[o,l]=y.useState(!1),c=Phe[e.consultationType],u=async()=>{if(!n){le.error("You must be logged in to book an appointment");return}i(!0);try{const{data:d,error:f}=await Pe.from("symptom_assessments").insert({patient_id:n.id,symptoms:e.symptoms,severity:e.severity,description:e.description||null,recommended_specialization:e.recommendedSpecialization}).select().single();if(f)throw f;const[h,m]=e.time.split(":").map(Number),g=Z8(Q8(e.date,h),m),{error:p}=await Pe.from("appointments").insert({patient_id:n.id,clinician_id:e.clinician.id,symptom_assessment_id:d.id,scheduled_at:g.toISOString(),consultation_type:e.consultationType,status:"pending"});if(p)throw p;l(!0),le.success("Appointment booked successfully!")}catch(d){console.error("Error booking appointment:",d),le.error(d.message||"Failed to book appointment")}finally{i(!1)}};return o?s.jsx(se,{className:"text-center",children:s.jsxs(ce,{className:"py-12",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-6",children:s.jsx(rn,{className:"w-10 h-10 text-success"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Booking Confirmed!"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["Your appointment with Dr. ",e.clinician.first_name," ",e.clinician.last_name," has been scheduled."]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 mb-6 inline-block",children:[s.jsx("p",{className:"font-medium",children:$x(e.date)}),s.jsxs("p",{className:"text-lg font-bold text-primary",children:[e.time," ",jp]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"You will receive a confirmation email with further instructions."}),s.jsx(Z,{onClick:t,children:"Return to Dashboard"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(xe,{children:"Review Your Booking"}),s.jsx(Se,{children:"Please review the details before confirming your appointment."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(Wr,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold",children:["Dr. ",e.clinician.first_name," ",e.clinician.last_name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.clinician.specialization||"General Practice"})]})]}),s.jsx(Dx,{}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(kt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),s.jsx("p",{className:"font-medium",children:Que(e.date)})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(qt,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Time (",jp,")"]}),s.jsx("p",{className:"font-medium",children:e.time})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx("p",{className:"font-medium",children:Ohe[e.consultationType]})]})]})]}),s.jsx(Dx,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Reported Symptoms"}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.symptoms.map((d,f)=>s.jsx(Ne,{variant:"secondary",children:d},f))}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Severity:"}),s.jsx(Ne,{variant:e.severity==="severe"?"destructive":e.severity==="moderate"?"default":"secondary",children:e.severity.charAt(0).toUpperCase()+e.severity.slice(1)})]}),e.description&&s.jsx("p",{className:"mt-3 text-sm text-muted-foreground bg-muted/50 p-3 rounded-lg",children:e.description})]})]})]}),s.jsx(se,{className:"border-primary/20 bg-primary/5",children:s.jsx(ce,{className:"p-4",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"By confirming this booking, you agree to our terms of service and consent to a telehealth consultation. You can cancel or reschedule up to 2 hours before your appointment."})})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx(Z,{variant:"outline",onClick:r,disabled:a,children:"Back"}),s.jsx(Z,{onClick:u,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Booking..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"}),"Confirm Booking"]})})]})]})},Yz="",The=["Fever","Cough","Headache","Sore throat","Body aches","Fatigue","Nausea","Diarrhea","Rash","Dizziness"],Mhe=({onBack:e,onComplete:t})=>{On();const[r,n]=y.useState(!1),[a,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState("moderate"),[d,f]=y.useState(""),h=g=>{l(p=>p.includes(g)?p.filter(v=>v!==g):[...p,g])},m=async()=>{if(!a.trim()){le.error("Please describe your main concern");return}n(!0);try{const{supabase:g}=await yo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>go);return{supabase:x}},void 0),{data:{session:p}}=await g.auth.getSession();if(!(p!=null&&p.access_token)){le.error("Please sign in to continue");return}const v=await fetch(`${Yz}/api/appointments/walk-in`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:o,severity:c,consultation_type:"in_person",notes:d||null})});if(!v.ok){const x=await v.json();throw new Error(x.detail||"Failed to create walk-in booking")}const b=await v.json();le.success(`Walk-in registered! Queue position: ${b.queue_position||"Next available"}`),t()}catch(g){console.error("Walk-in error:",g),le.error(g instanceof Error?g.message:"Failed to register walk-in")}finally{n(!1)}};return s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(qt,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(xe,{children:"Walk-In Booking"}),s.jsx(Se,{children:"No appointment? Join the queue now"})]})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"p-4 bg-muted rounded-lg",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Walk-in patients are seen in order of arrival. Average wait time today: ",s.jsx("strong",{children:"~30 minutes"})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"complaint",children:"What brings you in today? *"}),s.jsx(Fr,{id:"complaint",value:a,onChange:g=>i(g.target.value),placeholder:"Describe your main concern...",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Any of these symptoms?"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:The.map(g=>s.jsx(Ne,{variant:o.includes(g)?"default":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>h(g),children:g},g))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"How severe are your symptoms?"}),s.jsxs(Sp,{value:c,onValueChange:u,className:"flex gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"mild",id:"mild"}),s.jsx(fe,{htmlFor:"mild",className:"cursor-pointer",children:"Mild"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"moderate",id:"moderate"}),s.jsx(fe,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gs,{value:"severe",id:"severe"}),s.jsx(fe,{htmlFor:"severe",className:"cursor-pointer",children:"Severe"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"notes",children:"Additional notes (optional)"}),s.jsx(Fr,{id:"notes",value:d,onChange:g=>f(g.target.value),placeholder:"Anything else we should know...",rows:2})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(Z,{variant:"outline",onClick:e,children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Z,{onClick:m,disabled:r||!a.trim(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Registering..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"})," Join Queue"]})})]})]})]})},$he=["Chest pain","Difficulty breathing","Severe bleeding","Loss of consciousness","Severe allergic reaction","Stroke symptoms","Severe abdominal pain","High fever (>39C)","Seizure"],Ihe=({onBack:e,onComplete:t})=>{const[r,n]=y.useState(!1),[a,i]=y.useState(""),[o,l]=y.useState([]),[c,u]=y.useState(!1),d=h=>{l(m=>m.includes(h)?m.filter(g=>g!==h):[...m,h])},f=async()=>{if(!a.trim()){le.error("Please describe your emergency");return}n(!0);try{const{supabase:h}=await yo(async()=>{const{supabase:p}=await Promise.resolve().then(()=>go);return{supabase:p}},void 0),{data:{session:m}}=await h.auth.getSession();if(!(m!=null&&m.access_token)){le.error("Please sign in to continue");return}const g=await fetch(`${Yz}/api/appointments/emergency`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m.access_token}`},body:JSON.stringify({chief_complaint:a,symptoms:o,severity:"severe",emergency_contact_notified:c})});if(!g.ok){const p=await g.json();throw new Error(p.detail||"Failed to create emergency booking")}le.success("Emergency booking created! A clinician will contact you immediately."),t()}catch(h){console.error("Emergency error:",h),le.error(h instanceof Error?h.message:"Failed to create emergency booking")}finally{n(!1)}};return s.jsxs(se,{className:"border-red-500",children:[s.jsx(me,{className:"bg-red-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:s.jsx(Wn,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-red-700",children:"Emergency Booking"}),s.jsx(Se,{className:"text-red-600",children:"For urgent medical situations - Priority assistance"})]})]})}),s.jsxs(ce,{className:"space-y-6 pt-6",children:[s.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(oa,{className:"w-5 h-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-red-700",children:"Life-threatening emergency?"}),s.jsxs("p",{className:"text-sm text-red-600",children:["Call ",s.jsx("strong",{children:"10177"})," (ambulance) or ",s.jsx("strong",{children:"112"})," (emergency) immediately"]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"emergency-complaint",children:"What is your emergency? *"}),s.jsx(Fr,{id:"emergency-complaint",value:a,onChange:h=>i(h.target.value),placeholder:"Describe what's happening...",rows:3,className:"border-red-200 focus:border-red-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Select any matching symptoms:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:$he.map(h=>s.jsx(Ne,{variant:o.includes(h)?"destructive":"outline",className:"cursor-pointer py-1.5 px-3",onClick:()=>d(h),children:h},h))})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[s.jsx("input",{type:"checkbox",id:"notify-contact",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),s.jsx(fe,{htmlFor:"notify-contact",className:"cursor-pointer text-sm",children:"I have notified my emergency contact"})]}),s.jsxs("div",{className:"flex justify-between pt-4",children:[s.jsxs(Z,{variant:"outline",onClick:e,children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Z,{variant:"destructive",onClick:f,disabled:r||!a.trim(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wn,{className:"w-4 h-4 mr-2"})," Request Emergency Help"]})})]})]})]})},y$=[{id:"symptoms",label:"Symptoms",icon:uf},{id:"clinician",label:"Clinician",icon:Wr},{id:"time",label:"Schedule",icon:qt},{id:"confirm",label:"Confirm",icon:Nr}],Rhe=()=>{const e=On(),{profile:t,signOut:r}=$r(),[n,a]=y.useState("intro"),[i,o]=y.useState("scheduled"),[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),m=()=>({intro:-1,symptoms:0,clinician:1,time:2,confirm:3,"walk-in":-1,emergency:-1})[n],g=x=>{c(x),a("clinician")},p=x=>{d(x),a("time")},v=x=>{h(x),a("confirm")},b=()=>{e("/patient")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground hidden sm:block",children:(t==null?void 0:t.first_name)||"Patient"}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/patient"),className:"text-xs sm:text-sm",children:[s.jsx(mn,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Back to Dashboard"}),s.jsx("span",{className:"sm:hidden",children:"Back"})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8 max-w-4xl",children:[n!=="intro"&&s.jsx("div",{className:"mb-6 sm:mb-8 overflow-x-auto",children:s.jsx("div",{className:"flex items-center justify-between min-w-[300px]",children:y$.map((x,w)=>{const _=x.icon,S=m()===w,N=m()>w;return s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-colors ${N?"bg-success text-success-foreground":S?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:N?s.jsx(Nr,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("span",{className:`text-xs mt-1 sm:mt-2 ${S?"text-primary font-medium":"text-muted-foreground"}`,children:x.label})]}),w<y$.length-1&&s.jsx("div",{className:`h-1 w-8 sm:w-16 md:w-24 mx-1 sm:mx-2 rounded ${N?"bg-success":"bg-muted"}`})]},x.id)})})}),n==="intro"&&s.jsxs(se,{className:"text-center",children:[s.jsxs(me,{children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(kt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary"})}),s.jsx(xe,{className:"text-xl sm:text-2xl",children:"Book a Consultation"}),s.jsx(Se,{className:"text-sm sm:text-base max-w-md mx-auto",children:"Our AI-powered system will assess your symptoms and help you find the right clinician."})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[s.jsx(se,{className:`cursor-pointer transition-all hover:border-primary ${i==="scheduled"?"ring-2 ring-primary border-primary":""}`,onClick:()=>o("scheduled"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(kt,{className:"w-8 h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Schedule"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Book a future appointment"})]})}),s.jsx(se,{className:`cursor-pointer transition-all hover:border-orange-500 ${i==="walk-in"?"ring-2 ring-orange-500 border-orange-500":""}`,onClick:()=>o("walk-in"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(kn,{className:"w-8 h-8 text-orange-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Walk-In"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Join queue now"})]})}),s.jsx(se,{className:`cursor-pointer transition-all hover:border-red-500 ${i==="emergency"?"ring-2 ring-red-500 border-red-500":""}`,onClick:()=>o("emergency"),children:s.jsxs(ce,{className:"p-4 text-center",children:[s.jsx(Wn,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),s.jsx("h3",{className:"font-medium",children:"Emergency"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent care needed"})]})})]}),i==="scheduled"&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(uf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),s.jsx(XT,{className:"w-4 h-4 text-yellow-500"})]}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"AI Symptom Check"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"AI-powered assessment"})]}),s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsx(Wr,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Choose Clinician"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Select your preferred doctor"})]}),s.jsxs("div",{className:"p-3 sm:p-4 bg-muted/50 rounded-lg",children:[s.jsx(qt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary mx-auto mb-2"}),s.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Schedule"}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pick a convenient time"})]})]}),s.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg mb-6 text-left",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-sm sm:text-base",children:[s.jsx(XT,{className:"w-4 h-4 text-primary"}),"Powered by AI"]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-1",children:"Our AI assistant will analyze your symptoms to determine urgency and recommend the best care pathway."})]}),s.jsxs(Z,{size:"lg",onClick:()=>a("symptoms"),className:"w-full sm:w-auto",children:["Start Booking",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]}),i==="walk-in"&&s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-200 rounded-lg mb-6",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-orange-700",children:[s.jsx(kn,{className:"w-4 h-4"}),"Walk-In Queue"]}),s.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"No appointment needed. Join the queue and be seen in order of arrival. Average wait time: ~30 minutes."})]}),s.jsxs(Z,{size:"lg",onClick:()=>a("walk-in"),className:"w-full sm:w-auto bg-orange-500 hover:bg-orange-600",children:["Join Walk-In Queue",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]}),i==="emergency"&&s.jsxs("div",{className:"text-left",children:[s.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-6",children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2 text-red-700",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Emergency Care"]}),s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"For urgent medical situations. You'll be prioritized and a clinician will contact you immediately."}),s.jsx("p",{className:"text-sm text-red-700 font-medium mt-2",children:"Life-threatening? Call 10177 (ambulance) or 112 now."})]}),s.jsxs(Z,{size:"lg",variant:"destructive",onClick:()=>a("emergency"),className:"w-full sm:w-auto",children:["Request Emergency Help",s.jsx(Fi,{className:"w-4 h-4 ml-2"})]})]})]})]}),n==="walk-in"&&s.jsx(Mhe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="emergency"&&s.jsx(Ihe,{onBack:()=>a("intro"),onComplete:()=>e("/patient")}),n==="symptoms"&&s.jsx(Sde,{onComplete:g,onBack:()=>a("intro")}),n==="clinician"&&l&&s.jsx(Vde,{recommendedSpecialization:l.recommendedSpecialization,onSelect:p,onBack:()=>a("symptoms")}),n==="time"&&u&&s.jsx(jhe,{clinicianId:u.id,clinicianName:`${u.first_name} ${u.last_name}`,onSelect:v,onBack:()=>a("clinician")}),n==="confirm"&&l&&u&&f&&s.jsx(Ahe,{data:{...l,clinician:u,...f},onConfirm:b,onBack:()=>a("time")})]})]})},Dhe=({stats:e,pendingNotes:t})=>{const r=[{label:"Today's Queue",value:e.waiting,icon:kn,iconBg:"bg-primary/10",iconColor:"text-primary"},{label:"Completed Today",value:e.completed,icon:ri,iconBg:"bg-success/10",iconColor:"text-success"},{label:"Pending Notes",value:t,icon:xB,iconBg:"bg-warning/10",iconColor:"text-warning"},{label:"Total Scheduled",value:e.total,icon:kt,iconBg:"bg-secondary/20",iconColor:"text-secondary-foreground"}];return s.jsx("div",{className:"grid md:grid-cols-4 gap-6",children:r.map((n,a)=>{const i=n.icon;return s.jsx(se,{children:s.jsx(ce,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:n.label}),s.jsx("p",{className:"text-3xl font-bold text-foreground",children:n.value})]}),s.jsx("div",{className:`p-3 rounded-xl ${n.iconBg}`,children:s.jsx(i,{className:`w-6 h-6 ${n.iconColor}`})})]})})},a)})})};var Q0="Switch",[Lhe]=gn(Q0),[Fhe,Bhe]=Lhe(Q0),Jz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=Ke(t,w=>m(w)),p=y.useRef(!1),v=h?d||!!h.closest("form"):!0,[b,x]=Wi({prop:a,defaultProp:i??!1,onChange:u,caller:Q0});return s.jsxs(Fhe,{scope:r,checked:b,disabled:l,children:[s.jsx(Me.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":eV(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:he(e.onClick,w=>{x(_=>!_),v&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),v&&s.jsx(Zz,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Jz.displayName=Q0;var Xz="SwitchThumb",Qz=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Bhe(Xz,r);return s.jsx(Me.span,{"data-state":eV(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});Qz.displayName=Xz;var Uhe="SwitchBubbleInput",Zz=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=y.useRef(null),l=Ke(o,i),c=L0(r),u=k0(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Zz.displayName=Uhe;function eV(e){return e?"checked":"unchecked"}var tV=Jz,zhe=Qz;const Z0=y.forwardRef(({className:e,...t},r)=>s.jsx(tV,{className:ve("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(zhe,{className:ve("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Z0.displayName=tV.displayName;function Vhe(e){const t=Whe(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(qhe);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Whe(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Khe(a),l=Ghe(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hhe=Symbol("radix.slottable");function qhe(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hhe}function Ghe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Khe(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ew="Popover",[rV]=gn(ew,[Dl]),Tg=Dl(),[Yhe,Vl]=rV(ew),nV=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=Tg(t),c=y.useRef(null),[u,d]=y.useState(!1),[f,h]=Wi({prop:n,defaultProp:a??!1,onChange:i,caller:ew});return s.jsx(EE,{...l,children:s.jsx(Yhe,{scope:t,contentId:Bi(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:y.useCallback(()=>d(!0),[]),onCustomAnchorRemove:y.useCallback(()=>d(!1),[]),modal:o,children:r})})};nV.displayName=ew;var aV="PopoverAnchor",Jhe=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vl(aV,r),i=Tg(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return y.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(_g,{...i,...n,ref:t})});Jhe.displayName=aV;var iV="PopoverTrigger",sV=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vl(iV,r),i=Tg(r),o=Ke(t,a.triggerRef),l=s.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":dV(a.open),...n,ref:o,onClick:he(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(_g,{asChild:!0,...i,children:l})});sV.displayName=iV;var TP="PopoverPortal",[Xhe,Qhe]=rV(TP,{forceMount:void 0}),oV=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Vl(TP,t);return s.jsx(Xhe,{scope:t,forceMount:r,children:s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:n})})})};oV.displayName=TP;var _f="PopoverContent",lV=y.forwardRef((e,t)=>{const r=Qhe(_f,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Vl(_f,e.__scopePopover);return s.jsx(Hr,{present:n||i.open,children:i.modal?s.jsx(eme,{...a,ref:t}):s.jsx(tme,{...a,ref:t})})});lV.displayName=_f;var Zhe=Vhe("PopoverContent.RemoveScroll"),eme=y.forwardRef((e,t)=>{const r=Vl(_f,e.__scopePopover),n=y.useRef(null),a=Ke(t,n),i=y.useRef(!1);return y.useEffect(()=>{const o=n.current;if(o)return F0(o)},[]),s.jsx(Cg,{as:Zhe,allowPinchZoom:!0,children:s.jsx(cV,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),tme=y.forwardRef((e,t)=>{const r=Vl(_f,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return s.jsx(cV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),cV=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Vl(_f,r),m=Tg(r);return D0(),s.jsx(kg,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(C0,{"data-state":dV(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uV="PopoverClose",rme=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vl(uV,r);return s.jsx(Me.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});rme.displayName=uV;var nme="PopoverArrow",ame=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Tg(r);return s.jsx(E0,{...a,...n,ref:t})});ame.displayName=nme;function dV(e){return e?"open":"closed"}var ime=nV,sme=sV,ome=oV,fV=lV;const lme=ime,cme=sme,hV=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(ome,{children:s.jsx(fV,{ref:a,align:t,sideOffset:r,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));hV.displayName=fV.displayName;const mV=Tie,pV=y.createContext({}),wn=({...e})=>s.jsx(pV.Provider,{value:{name:e.name},children:s.jsx(Oie,{...e})}),tw=()=>{const e=y.useContext(pV),t=y.useContext(gV),{getFieldState:r,formState:n}=Aie(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},gV=y.createContext({}),dn=y.forwardRef(({className:e,...t},r)=>{const n=y.useId();return s.jsx(gV.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ve("space-y-2",e),...t})})});dn.displayName="FormItem";const Yr=y.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=tw();return s.jsx(fe,{ref:r,className:ve(n&&"text-destructive",e),htmlFor:a,...t})});Yr.displayName="FormLabel";const fn=y.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=tw();return s.jsx(W6,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});fn.displayName="FormControl";const hN=y.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=tw();return s.jsx("p",{ref:r,id:n,className:ve("text-sm text-muted-foreground",e),...t})});hN.displayName="FormDescription";const _n=y.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=tw(),o=a?String(a==null?void 0:a.message):t;return o?s.jsx("p",{ref:n,id:i,className:ve("text-sm font-medium text-destructive",e),...r,children:o}):null});_n.displayName="FormMessage";function ume(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var MP="ScrollArea",[vV]=gn(MP),[dme,di]=vV(MP),yV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,v]=y.useState(null),[b,x]=y.useState(0),[w,_]=y.useState(0),[S,N]=y.useState(!1),[k,P]=y.useState(!1),A=Ke(t,I=>c(I)),T=hh(a);return s.jsx(dme,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:N,scrollbarY:p,onScrollbarYChange:v,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:_,children:s.jsx(Me.div,{dir:T,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});yV.displayName=MP;var xV="ScrollAreaViewport",bV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=di(xV,r),l=y.useRef(null),c=Ke(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});bV.displayName=xV;var Ts="ScrollAreaScrollbar",$P=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ts,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(fme,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(hme,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(wV,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(IP,{...n,ref:t}):null});$P.displayName=Ts;var fme=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ts,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Hr,{present:r||i,children:s.jsx(wV,{"data-state":i?"visible":"hidden",...n,ref:t})})}),hme=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=di(Ts,e.__scopeScrollArea),i=e.orientation==="horizontal",o=nw(()=>c("SCROLL_END"),100),[l,c]=ume("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),y.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Hr,{present:r||l!=="hidden",children:s.jsx(IP,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:he(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:he(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),wV=y.forwardRef((e,t)=>{const r=di(Ts,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=nw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return jf(r.viewport,c),jf(r.content,c),s.jsx(Hr,{present:n||i,children:s.jsx(IP,{"data-state":i?"visible":"hidden",...a,ref:t})})}),IP=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=di(Ts,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=kV(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return xme(h,o.current,l,m)}return r==="horizontal"?s.jsx(mme,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,m=x$(h,l,a.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(pme,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,m=x$(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),mme=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=di(Ts,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(jV,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),EV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Fx(o.paddingLeft),paddingEnd:Fx(o.paddingRight)}})}})}),pme=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=di(Ts,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=Ke(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(jV,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rw(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),EV(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Fx(o.paddingTop),paddingEnd:Fx(o.paddingBottom)}})}})}),[gme,_V]=vV(Ts),jV=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=di(Ts,r),[g,p]=y.useState(null),v=Ke(t,A=>p(A)),b=y.useRef(null),x=y.useRef(""),w=m.viewport,_=n.content-n.viewport,S=xr(d),N=xr(c),k=nw(f,10);function P(A){if(b.current){const T=A.clientX-b.current.left,I=A.clientY-b.current.top;u({x:T,y:I})}}return y.useEffect(()=>{const A=T=>{const I=T.target;(g==null?void 0:g.contains(I))&&S(T,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,g,_,S]),y.useEffect(N,[n,N]),jf(g,k),jf(m.content,k),s.jsx(gme,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:xr(i),onThumbPointerUp:xr(o),onThumbPositionChange:N,onThumbPointerDown:xr(l),children:s.jsx(Me.div,{...h,ref:v,style:{position:"absolute",...h.style},onPointerDown:he(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),b.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:he(e.onPointerMove,P),onPointerUp:he(e.onPointerUp,A=>{const T=A.target;T.hasPointerCapture(A.pointerId)&&T.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Lx="ScrollAreaThumb",SV=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=_V(Lx,e.__scopeScrollArea);return s.jsx(Hr,{present:r||a.hasThumb,children:s.jsx(vme,{ref:t,...n})})}),vme=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=di(Lx,r),o=_V(Lx,r),{onThumbPositionChange:l}=o,c=Ke(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=nw(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=bme(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:he(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:he(e.onPointerUp,o.onThumbPointerUp)})});SV.displayName=Lx;var RP="ScrollAreaCorner",NV=y.forwardRef((e,t)=>{const r=di(RP,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(yme,{...e,ref:t}):null});NV.displayName=RP;var yme=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=di(RP,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return jf(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),jf(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Fx(e){return e?parseInt(e,10):0}function kV(e,t){const r=e/t;return isNaN(r)?0:r}function rw(e){const t=kV(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function xme(e,t,r,n="ltr"){const a=rw(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return CV([c,u],f)(e)}function x$(e,t,r="ltr"){const n=rw(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=rN(e,c);return CV([0,o],[0,l])(u)}function CV(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function EV(e,t){return e>0&&e<t}var bme=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function nw(e,t){const r=xr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function jf(e,t){const r=xr(t);Sr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var PV=yV,wme=bV,_me=NV;const DP=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(PV,{ref:n,className:ve("relative overflow-hidden",e),...r,children:[s.jsx(wme,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(OV,{}),s.jsx(_me,{})]}));DP.displayName=PV.displayName;const OV=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx($P,{ref:n,orientation:t,className:ve("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(SV,{className:"relative flex-1 rounded-full bg-border"})}));OV.displayName=$P.displayName;const b$=[{code:"J06.9",description:"Acute upper respiratory infection, unspecified"},{code:"J00",description:"Acute nasopharyngitis (common cold)"},{code:"J02.9",description:"Acute pharyngitis, unspecified"},{code:"J03.90",description:"Acute tonsillitis, unspecified"},{code:"J20.9",description:"Acute bronchitis, unspecified"},{code:"N39.0",description:"Urinary tract infection, site not specified"},{code:"K30",description:"Functional dyspepsia"},{code:"R51",description:"Headache"},{code:"M54.5",description:"Low back pain"},{code:"L30.9",description:"Dermatitis, unspecified"},{code:"R05",description:"Cough"},{code:"R50.9",description:"Fever, unspecified"},{code:"R11.2",description:"Nausea with vomiting, unspecified"},{code:"K59.00",description:"Constipation, unspecified"},{code:"R42",description:"Dizziness and giddiness"},{code:"H10.9",description:"Conjunctivitis, unspecified"},{code:"H66.90",description:"Otitis media, unspecified"},{code:"B34.9",description:"Viral infection, unspecified"},{code:"F41.9",description:"Anxiety disorder, unspecified"},{code:"F32.9",description:"Major depressive disorder, single episode"},{code:"I10",description:"Essential (primary) hypertension"},{code:"E11.9",description:"Type 2 diabetes mellitus without complications"},{code:"Z00.00",description:"General adult medical examination"},{code:"Z71.1",description:"Person with feared health complaint"}],jme=({selectedCodes:e,onCodesChange:t})=>{const[r,n]=y.useState(""),[a,i]=y.useState(!1),o=b$.filter(u=>!e.some(d=>d.code===u.code)&&(u.code.toLowerCase().includes(r.toLowerCase())||u.description.toLowerCase().includes(r.toLowerCase()))),l=y.useCallback(u=>{t([...e,u]),n(""),i(!1)},[e,t]),c=y.useCallback(u=>{t(e.filter(d=>d.code!==u))},[e,t]);return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(wS,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),s.jsx(Ze,{placeholder:"Search ICD-10 codes...",value:r,onChange:u=>{n(u.target.value),i(!0)},onFocus:()=>i(!0),className:"pl-10"}),a&&r&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-md shadow-lg",children:s.jsx(DP,{className:"max-h-48",children:o.length>0?o.slice(0,10).map(u=>s.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left hover:bg-muted flex items-center justify-between",onClick:()=>l(u),children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-mono font-medium text-primary",children:u.code}),s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:u.description})]}),s.jsx(ff,{className:"w-4 h-4 text-muted-foreground"})]},u.code)):s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:"No matching codes found"})})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Quick add common codes:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:b$.slice(0,8).filter(u=>!e.some(d=>d.code===u.code)).map(u=>s.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>l(u),children:u.code},u.code))})]}),e.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Selected diagnoses:"}),s.jsx("div",{className:"space-y-1",children:e.map(u=>s.jsxs("div",{className:"flex items-center justify-between bg-primary/5 border border-primary/20 rounded-md px-3 py-2",children:[s.jsxs("div",{children:[s.jsx(Ne,{variant:"secondary",className:"font-mono mr-2",children:u.code}),s.jsx("span",{className:"text-sm",children:u.description})]}),s.jsx(Z,{type:"button",variant:"ghost",size:"sm",onClick:()=>c(u.code),className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(So,{className:"w-4 h-4"})})]},u.code))})]})]})},Sme=fh({chief_complaint:ir().min(1,"Chief complaint is required").max(500),history_of_present_illness:ir().max(2e3).optional(),examination_findings:ir().max(2e3).optional(),treatment_plan:ir().max(2e3).optional(),follow_up_instructions:ir().max(1e3).optional(),follow_up_date:jse().optional().nullable(),referral_required:_se().default(!1),referral_details:ir().max(500).optional()}),Nme=({appointmentId:e,patientId:t,patientName:r,onComplete:n,existingNoteId:a})=>{const{user:i}=$r(),[o,l]=y.useState([]),[c,u]=y.useState(!1),[d,f]=y.useState(a||null),[h,m]=y.useState("draft"),g=_d({resolver:jd(Sme),defaultValues:{chief_complaint:"",history_of_present_illness:"",examination_findings:"",treatment_plan:"",follow_up_instructions:"",follow_up_date:null,referral_required:!1,referral_details:""}});y.useEffect(()=>{(async()=>{if(!a)return;const{data:w,error:_}=await Pe.from("clinical_notes").select("*").eq("id",a).single();if(_){console.error("Error loading note:",_);return}w&&(g.reset({chief_complaint:w.chief_complaint||"",history_of_present_illness:w.history_of_present_illness||"",examination_findings:w.examination_findings||"",treatment_plan:w.treatment_plan||"",follow_up_instructions:w.follow_up_instructions||"",follow_up_date:w.follow_up_date?new Date(w.follow_up_date):null,referral_required:w.referral_required||!1,referral_details:w.referral_details||""}),l(w.icd10_codes||[]),m(w.status),f(w.id))})()},[a,g]);const p=async x=>{if(i){u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:o.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(o)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"draft"};if(d){const{error:_}=await Pe.from("clinical_notes").update(w).eq("id",d);if(_)throw _;le.success("Draft saved")}else{const{data:_,error:S}=await Pe.from("clinical_notes").insert(w).select().single();if(S)throw S;f(_.id),le.success("Draft created")}}catch(w){console.error("Error saving draft:",w),le.error("Failed to save draft")}finally{u(!1)}}},v=async x=>{if(i){if(o.length===0){le.error("Please add at least one ICD-10 diagnosis code");return}u(!0);try{const w={appointment_id:e,clinician_id:i.id,patient_id:t,chief_complaint:x.chief_complaint,history_of_present_illness:x.history_of_present_illness||null,examination_findings:x.examination_findings||null,diagnosis:o.map(_=>_.description),icd10_codes:JSON.parse(JSON.stringify(o)),treatment_plan:x.treatment_plan||null,follow_up_instructions:x.follow_up_instructions||null,follow_up_date:x.follow_up_date?yt(x.follow_up_date,"yyyy-MM-dd"):null,referral_required:x.referral_required,referral_details:x.referral_required?x.referral_details:null,status:"completed",signed_at:new Date().toISOString()};if(d){const{error:_}=await Pe.from("clinical_notes").update(w).eq("id",d);if(_)throw _}else{const{error:_}=await Pe.from("clinical_notes").insert(w);if(_)throw _}le.success("Clinical note completed and signed"),m("completed"),n==null||n()}catch(w){console.error("Error completing note:",w),le.error("Failed to complete note")}finally{u(!1)}}},b=h==="completed";return s.jsxs(se,{className:"w-full",children:[s.jsx(me,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Clinical Notes"]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Patient: ",s.jsx("span",{className:"font-medium",children:r})]})]}),s.jsx(Ne,{variant:b?"default":"secondary",children:b?"Completed":"Draft"})]})}),s.jsx(ce,{children:s.jsx(mV,{...g,children:s.jsxs("form",{className:"space-y-6",children:[s.jsxs(zl,{defaultValue:"clinical",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3",children:[s.jsxs(Dt,{value:"clinical",className:"flex items-center gap-2",children:[s.jsx(ri,{className:"w-4 h-4"}),"Clinical"]}),s.jsxs(Dt,{value:"diagnosis",className:"flex items-center gap-2",children:[s.jsx(Su,{className:"w-4 h-4"}),"Diagnosis"]}),s.jsxs(Dt,{value:"treatment",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Treatment"]})]}),s.jsxs(fr,{value:"clinical",className:"space-y-4 mt-4",children:[s.jsx(wn,{control:g.control,name:"chief_complaint",render:({field:x})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Chief Complaint *"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Patient presents with...",className:"min-h-[80px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"history_of_present_illness",render:({field:x})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"History of Present Illness"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Onset, duration, severity, associated symptoms...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"examination_findings",render:({field:x})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Examination Findings"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Vital signs, physical examination findings...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(hN,{children:"Document any observable findings from the video consultation"}),s.jsx(_n,{})]})})]}),s.jsx(fr,{value:"diagnosis",className:"space-y-4 mt-4",children:s.jsxs("div",{children:[s.jsx(Yr,{children:"ICD-10 Diagnosis Codes *"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add relevant diagnosis codes for this consultation"}),s.jsx(jme,{selectedCodes:o,onCodesChange:b?()=>{}:l})]})}),s.jsxs(fr,{value:"treatment",className:"space-y-4 mt-4",children:[s.jsx(wn,{control:g.control,name:"treatment_plan",render:({field:x})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Treatment Plan"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Medications, lifestyle modifications, recommendations...",className:"min-h-[120px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"follow_up_instructions",render:({field:x})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Follow-up Instructions"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"When to return, warning signs to watch for...",className:"min-h-[80px]",disabled:b,...x})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:g.control,name:"follow_up_date",render:({field:x})=>s.jsxs(dn,{className:"flex flex-col",children:[s.jsx(Yr,{children:"Follow-up Date"}),s.jsxs(lme,{children:[s.jsx(cme,{asChild:!0,children:s.jsx(fn,{children:s.jsxs(Z,{variant:"outline",disabled:b,className:ve("w-full pl-3 text-left font-normal",!x.value&&"text-muted-foreground"),children:[x.value?yt(x.value,"PPP"):s.jsx("span",{children:"Select date"}),s.jsx(kt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(hV,{className:"w-auto p-0",align:"start",children:s.jsx(AP,{mode:"single",selected:x.value||void 0,onSelect:x.onChange,disabled:w=>w<new Date,initialFocus:!0})})]}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(wn,{control:g.control,name:"referral_required",render:({field:x})=>s.jsxs(dn,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Yr,{className:"text-base",children:"Referral Required"}),s.jsx(hN,{children:"Does this patient need to be referred to a specialist?"})]}),s.jsx(fn,{children:s.jsx(Z0,{checked:x.value,onCheckedChange:x.onChange,disabled:b})})]})}),g.watch("referral_required")&&s.jsx(wn,{control:g.control,name:"referral_details",render:({field:x})=>s.jsxs(dn,{className:"mt-4",children:[s.jsx(Yr,{children:"Referral Details"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Specialist type, urgency, reason for referral...",disabled:b,...x})}),s.jsx(_n,{})]})})]})]})]}),!b&&s.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[s.jsxs(Z,{type:"button",variant:"outline",onClick:g.handleSubmit(p),disabled:c,children:[s.jsx(BX,{className:"w-4 h-4 mr-2"}),"Save Draft"]}),s.jsxs(Z,{type:"button",onClick:g.handleSubmit(v),disabled:c,children:[s.jsx(wB,{className:"w-4 h-4 mr-2"}),"Complete & Sign"]})]})]})})})]})},LP=({open:e,onOpenChange:t,appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:o})=>{const l=()=>{o==null||o(),t(!1)};return s.jsx(ni,{open:e,onOpenChange:t,children:s.jsxs(Aa,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ta,{children:s.jsx(Ma,{children:"Document Consultation"})}),s.jsx(Nme,{appointmentId:r,patientId:n,patientName:a,existingNoteId:i,onComplete:l})]})})},AV=()=>{const{user:e,role:t}=$r(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=y.useCallback(async()=>{if(e){i(!0),l(null);try{const{data:m,error:g}=await Pe.from("prescriptions").select("*").order("prescribed_at",{ascending:!1});if(g)throw g;const p=[...new Set((m==null?void 0:m.map(_=>_.patient_id))||[])],v=[...new Set((m==null?void 0:m.map(_=>_.clinician_id))||[])],{data:b}=await Pe.from("profiles").select("id, first_name, last_name").in("id",[...p,...v]),x=new Map((b==null?void 0:b.map(_=>[_.id,`${_.first_name} ${_.last_name}`]))||[]),w=(m==null?void 0:m.map(_=>({..._,patient_name:x.get(_.patient_id)||"Unknown",clinician_name:x.get(_.clinician_id)||"Unknown"})))||[];n(w)}catch(m){l(m.message)}finally{i(!1)}}},[e]),u=async m=>{if(!e)return{success:!1,error:"Not authenticated"};try{const{data:g,error:p}=await Pe.from("prescriptions").insert({...m,clinician_id:e.id}).select().single();if(p)throw p;return await c(),{success:!0,prescription:g}}catch(g){return{success:!1,error:g.message}}},d=async(m,g)=>{try{const{error:p}=await Pe.from("prescriptions").update({status:g}).eq("id",m);if(p)throw p;return await c(),{success:!0}}catch(p){return{success:!1,error:p.message}}},f=async m=>{try{const{data:g,error:p}=await Pe.from("prescriptions").select("*").eq("patient_id",m).order("prescribed_at",{ascending:!1});if(p)throw p;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}},h=async m=>{try{const{data:g,error:p}=await Pe.from("prescriptions").select("*").eq("appointment_id",m).order("prescribed_at",{ascending:!1});if(p)throw p;return{success:!0,prescriptions:g}}catch(g){return{success:!1,error:g.message,prescriptions:[]}}};return y.useEffect(()=>{c()},[c]),{prescriptions:r,loading:a,error:o,createPrescription:u,updatePrescriptionStatus:d,getPrescriptionsForPatient:f,getPrescriptionsForAppointment:h,refetch:c}},kme=fh({medication_name:ir().min(1,"Medication name is required"),dosage:ir().min(1,"Dosage is required"),frequency:ir().min(1,"Frequency is required"),duration:ir().min(1,"Duration is required"),quantity:ir().optional(),refills:ir().optional(),instructions:ir().optional(),pharmacy_notes:ir().optional()}),Cme=["Once daily","Twice daily","Three times daily","Four times daily","Every 4 hours","Every 6 hours","Every 8 hours","Every 12 hours","Once weekly","As needed","At bedtime","With meals"],Eme=["3 days","5 days","7 days","10 days","14 days","21 days","30 days","60 days","90 days","Ongoing"],Pme=({patientId:e,patientName:t,appointmentId:r,clinicalNoteId:n,onSuccess:a,onCancel:i})=>{const{createPrescription:o}=AV(),[l,c]=y.useState(!1),u=_d({resolver:jd(kme),defaultValues:{medication_name:"",dosage:"",frequency:"",duration:"",quantity:"",refills:"0",instructions:"",pharmacy_notes:""}}),d=async f=>{c(!0);const h={patient_id:e,medication_name:f.medication_name,dosage:f.dosage,frequency:f.frequency,duration:f.duration,quantity:f.quantity?parseInt(f.quantity):void 0,refills:f.refills?parseInt(f.refills):0,instructions:f.instructions||void 0,pharmacy_notes:f.pharmacy_notes||void 0,appointment_id:r,clinical_note_id:n},m=await o(h);c(!1),m.success?(le.success("Prescription created successfully"),u.reset(),a==null||a()):le.error(m.error||"Failed to create prescription")};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"New Prescription"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["For: ",t]})]})]}),s.jsx(mV,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[s.jsx(wn,{control:u.control,name:"medication_name",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Medication Name *"}),s.jsx(fn,{children:s.jsx(Ze,{placeholder:"e.g., Amoxicillin 500mg",...f})}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(wn,{control:u.control,name:"dosage",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Dosage *"}),s.jsx(fn,{children:s.jsx(Ze,{placeholder:"e.g., 1 tablet",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"frequency",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Frequency *"}),s.jsxs(or,{onValueChange:f.onChange,value:f.value,children:[s.jsx(fn,{children:s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select frequency"})})}),s.jsx(Zt,{children:Cme.map(h=>s.jsx(Fe,{value:h,children:h},h))})]}),s.jsx(_n,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(wn,{control:u.control,name:"duration",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Duration *"}),s.jsxs(or,{onValueChange:f.onChange,value:f.value,children:[s.jsx(fn,{children:s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select duration"})})}),s.jsx(Zt,{children:Eme.map(h=>s.jsx(Fe,{value:h,children:h},h))})]}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"quantity",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Quantity"}),s.jsx(fn,{children:s.jsx(Ze,{type:"number",placeholder:"e.g., 30",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"refills",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Refills"}),s.jsx(fn,{children:s.jsx(Ze,{type:"number",min:"0",max:"12",...f})}),s.jsx(_n,{})]})})]}),s.jsx(wn,{control:u.control,name:"instructions",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Patient Instructions"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Special instructions for the patient...",className:"min-h-[80px]",...f})}),s.jsx(_n,{})]})}),s.jsx(wn,{control:u.control,name:"pharmacy_notes",render:({field:f})=>s.jsxs(dn,{children:[s.jsx(Yr,{children:"Pharmacy Notes"}),s.jsx(fn,{children:s.jsx(Fr,{placeholder:"Notes for the pharmacist...",className:"min-h-[60px]",...f})}),s.jsx(_n,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[i&&s.jsx(Z,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),s.jsx(Z,{type:"submit",disabled:l,children:l?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Create Prescription"]})})]})]})})]})},TV=({open:e,onOpenChange:t,patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i})=>s.jsx(ni,{open:e,onOpenChange:t,children:s.jsxs(Aa,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ta,{children:s.jsx(Ma,{children:"Create E-Prescription"})}),s.jsx(Pme,{patientId:r,patientName:n,appointmentId:a,clinicalNoteId:i,onSuccess:()=>t(!1),onCancel:()=>t(!1)})]})}),Ome=e=>{const[t,r]=y.useState({appointments:[],clinicalNotes:[],prescriptions:[]}),[n,a]=y.useState(!1),[i,o]=y.useState(null);return y.useEffect(()=>{(async()=>{if(e){a(!0),o(null);try{const{data:c,error:u}=await Pe.from("appointments").select("id, scheduled_at, consultation_type, status, duration_minutes, notes, clinician_id").eq("patient_id",e).order("scheduled_at",{ascending:!1}).limit(50);if(u)throw u;const{data:d,error:f}=await Pe.from("clinical_notes").select("id, appointment_id, chief_complaint, diagnosis, treatment_plan, signed_at, created_at, clinician_id").eq("patient_id",e).eq("status","completed").order("created_at",{ascending:!1}).limit(50);if(f)throw f;const{data:h,error:m}=await Pe.from("prescriptions").select("id, medication_name, dosage, frequency, duration, status, prescribed_at, clinician_id").eq("patient_id",e).order("prescribed_at",{ascending:!1}).limit(50);if(m)throw m;const g=[...new Set([...(c==null?void 0:c.map(_=>_.clinician_id))||[],...(d==null?void 0:d.map(_=>_.clinician_id))||[],...(h==null?void 0:h.map(_=>_.clinician_id))||[]])],{data:p}=await Pe.from("profiles").select("id, first_name, last_name").in("id",g),v=new Map((p==null?void 0:p.map(_=>[_.id,`Dr. ${_.first_name} ${_.last_name}`]))||[]),b=(c==null?void 0:c.map(_=>({id:_.id,scheduled_at:_.scheduled_at,consultation_type:_.consultation_type,status:_.status,duration_minutes:_.duration_minutes,notes:_.notes,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],x=(d==null?void 0:d.map(_=>({id:_.id,appointment_id:_.appointment_id,chief_complaint:_.chief_complaint,diagnosis:_.diagnosis,treatment_plan:_.treatment_plan,signed_at:_.signed_at,created_at:_.created_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[],w=(h==null?void 0:h.map(_=>({id:_.id,medication_name:_.medication_name,dosage:_.dosage,frequency:_.frequency,duration:_.duration,status:_.status,prescribed_at:_.prescribed_at,clinician_name:v.get(_.clinician_id)||"Unknown"})))||[];r({appointments:b,clinicalNotes:x,prescriptions:w})}catch(c){o(c.message)}finally{a(!1)}}})()},[e]),{history:t,loading:n,error:i}},Ame={video:tr,phone:oa,in_person:ih},w$={completed:"bg-success/10 text-success",cancelled:"bg-destructive/10 text-destructive",pending:"bg-warning/10 text-warning",confirmed:"bg-primary/10 text-primary",in_progress:"bg-primary/10 text-primary",active:"bg-success/10 text-success"},Tme=({open:e,onOpenChange:t,patientId:r,patientName:n})=>{const{history:a,loading:i,error:o}=Ome(e?r:null);return s.jsx(ni,{open:e,onOpenChange:t,children:s.jsxs(Aa,{className:"max-w-4xl max-h-[85vh]",children:[s.jsx(Ta,{children:s.jsxs(Ma,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Medical History: ",n]})}),i?s.jsxs("div",{className:"space-y-4",children:[s.jsx(Wt,{className:"h-10 w-full"}),s.jsx(Wt,{className:"h-48 w-full"}),s.jsx(Wt,{className:"h-48 w-full"})]}):o?s.jsxs("div",{className:"text-center py-8 text-destructive",children:[s.jsx(Su,{className:"w-12 h-12 mx-auto mb-4"}),s.jsx("p",{children:"Error loading patient history"})]}):s.jsxs(zl,{defaultValue:"appointments",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"appointments",className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4"}),"Visits (",a.appointments.length,")"]}),s.jsxs(Dt,{value:"notes",className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4"}),"Clinical Notes (",a.clinicalNotes.length,")"]}),s.jsxs(Dt,{value:"prescriptions",className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Prescriptions (",a.prescriptions.length,")"]})]}),s.jsxs(DP,{className:"h-[500px] pr-4",children:[s.jsx(fr,{value:"appointments",className:"space-y-3 mt-0",children:a.appointments.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No past appointments"})]}):a.appointments.map(l=>{const c=Ame[l.consultation_type]||tr;return s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(c,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:"font-medium",children:yt(new Date(l.scheduled_at),"MMMM d, yyyy")}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["at ",yt(new Date(l.scheduled_at),"h:mm a")]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[l.clinician_name,"  ",l.duration_minutes," min ",l.consultation_type," consultation"]}),l.notes&&s.jsx("p",{className:"text-sm bg-muted/50 p-2 rounded",children:l.notes})]})]}),s.jsx(Ne,{className:w$[l.status]||"",children:l.status})]})})},l.id)})}),s.jsx(fr,{value:"notes",className:"space-y-3 mt-0",children:a.clinicalNotes.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(nn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No clinical notes available"})]}):a.clinicalNotes.map(l=>s.jsx(se,{children:s.jsxs(ce,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-4 h-4 text-primary"}),s.jsx("p",{className:"font-medium",children:yt(new Date(l.created_at),"MMMM d, yyyy")})]}),l.signed_at&&s.jsxs(Ne,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3"}),"Signed"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:l.clinician_name}),l.chief_complaint&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Chief Complaint"}),s.jsx("p",{className:"text-sm",children:l.chief_complaint})]}),l.diagnosis&&l.diagnosis.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Diagnosis"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:l.diagnosis.map((c,u)=>s.jsx(Ne,{variant:"outline",className:"text-xs",children:c},u))})]}),l.treatment_plan&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase mb-1",children:"Treatment Plan"}),s.jsx("p",{className:"text-sm",children:l.treatment_plan})]})]})},l.id))}),s.jsx(fr,{value:"prescriptions",className:"space-y-3 mt-0",children:a.prescriptions.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No prescriptions on record"})]}):a.prescriptions.map(l=>s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(Ur,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:l.medication_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.dosage,"  ",l.frequency,"  ",l.duration]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[l.clinician_name,"  ",yt(new Date(l.prescribed_at),"MMM d, yyyy")]})]})]}),s.jsx(Ne,{className:w$[l.status]||"",children:l.status})]})})},l.id))})]})]})]})})},Mme={video:tr,phone:oa,in_person:ih},$me={pending:{label:"Waiting",variant:"secondary",color:"text-muted-foreground"},confirmed:{label:"Confirmed",variant:"default",color:"text-primary"},in_progress:{label:"In Progress",variant:"default",color:"text-success"},completed:{label:"Completed",variant:"secondary",color:"text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"text-destructive"}},Ime={mild:{label:"Mild",color:"bg-success/10 text-success border-success/20"},moderate:{label:"Moderate",color:"bg-warning/10 text-warning border-warning/20"},severe:{label:"Severe",color:"bg-destructive/10 text-destructive border-destructive/20"}},kj=({patient:e,onStartConsultation:t,onCompleteConsultation:r,isUpdating:n})=>{const a=On(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(!1),f=Mme[e.consultation_type],h=$me[e.status],m=Ime[e.severity],g=e.status==="pending"||e.status==="confirmed",p=e.status==="in_progress",v=e.status==="completed"||e.status==="cancelled",b=()=>{a(`/consultation?appointment=${e.id}`)};return s.jsxs(se,{className:`transition-all ${p?"border-success ring-2 ring-success/20":e.severity==="severe"?"border-destructive/50":""}`,children:[s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(Y0,{className:"w-12 h-12",children:s.jsx(J0,{className:"bg-primary/10 text-primary",children:e.patient_name.split(" ").map(x=>x[0]).join("")})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-semibold truncate",children:e.patient_name}),s.jsx(Ne,{variant:h.variant,children:h.label})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground mb-2",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(f,{className:"w-3.5 h-3.5"}),e.consultation_type==="video"?"Video":e.consultation_type==="phone"?"Phone":"In-Person"]})]}),e.symptoms.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[s.jsxs(Ne,{variant:"outline",className:m.color,children:[e.severity==="severe"&&s.jsx(Wn,{className:"w-3 h-3 mr-1"}),m.label]}),e.symptoms.slice(0,3).map((x,w)=>s.jsx(Ne,{variant:"outline",className:"text-xs",children:x},w)),e.symptoms.length>3&&s.jsxs(Ne,{variant:"outline",className:"text-xs",children:["+",e.symptoms.length-3," more"]})]}),e.symptom_description&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1 mb-3",children:e.symptom_description}),s.jsxs("div",{className:"flex gap-2",children:[g&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{size:"sm",onClick:()=>t(e),disabled:n,children:[s.jsx(vE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(U_,{className:"w-4 h-4 mr-1"}),"History"]})]}),p&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{size:"sm",variant:"default",onClick:b,children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),s.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>o(!0),children:[s.jsx(nn,{className:"w-4 h-4 mr-1"}),"Notes"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(U_,{className:"w-4 h-4 mr-1"}),"History"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>r(e),disabled:n,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Complete"]})]}),v&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>o(!0),children:[s.jsx(nn,{className:"w-4 h-4 mr-1"}),"View Notes"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),children:[s.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Prescribe"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>d(!0),children:[s.jsx(U_,{className:"w-4 h-4 mr-1"}),"History"]}),s.jsxs(Ne,{variant:"secondary",className:"ml-2",children:[s.jsx(Nr,{className:"w-3 h-3 mr-1"}),"Completed"]})]})]})]})]})}),s.jsx(LP,{open:i,onOpenChange:o,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name}),s.jsx(TV,{open:l,onOpenChange:c,patientId:e.patient_id,patientName:e.patient_name,appointmentId:e.id}),s.jsx(Tme,{open:u,onOpenChange:d,patientId:e.patient_id,patientName:e.patient_name})]})},MV=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState({waiting:0,inProgress:0,completed:0,total:0}),[i,o]=y.useState(!0),[l,c]=y.useState(null),u=y.useCallback(async()=>{if(e)try{const f=new Date,h=Cs(f).toISOString(),m=mP(f).toISOString(),{data:g,error:p}=await Pe.from("appointments").select(`
          id,
          patient_id,
          scheduled_at,
          consultation_type,
          status,
          created_at,
          symptom_assessment_id
        `).eq("clinician_id",e.id).gte("scheduled_at",h).lte("scheduled_at",m).order("scheduled_at",{ascending:!0});if(p)throw p;if(!g||g.length===0){r([]),a({waiting:0,inProgress:0,completed:0,total:0});return}const v=[...new Set(g.map(k=>k.patient_id))],{data:b,error:x}=await Pe.from("profiles").select("id, first_name, last_name").in("id",v);if(x)throw x;const w=g.map(k=>k.symptom_assessment_id).filter(Boolean);let _=[];if(w.length>0){const{data:k,error:P}=await Pe.from("symptom_assessments").select("id, symptoms, severity, description").in("id",w);if(P)throw P;_=k||[]}const S=g.map(k=>{const P=b==null?void 0:b.find(T=>T.id===k.patient_id),A=_.find(T=>T.id===k.symptom_assessment_id);return{id:k.id,patient_id:k.patient_id,patient_name:P?`${P.first_name} ${P.last_name}`:"Unknown Patient",scheduled_at:k.scheduled_at,consultation_type:k.consultation_type,status:k.status,symptoms:(A==null?void 0:A.symptoms)||[],severity:(A==null?void 0:A.severity)||"mild",symptom_description:(A==null?void 0:A.description)||null,created_at:k.created_at}});r(S);const N={waiting:S.filter(k=>k.status==="pending"||k.status==="confirmed").length,inProgress:S.filter(k=>k.status==="in_progress").length,completed:S.filter(k=>k.status==="completed").length,total:S.length};a(N)}catch(f){console.error("Error fetching queue:",f),c(f.message)}finally{o(!1)}},[e]),d=async(f,h)=>{try{const{error:m}=await Pe.from("appointments").update({status:h}).eq("id",f);if(m)throw m;return r(g=>g.map(p=>p.id===f?{...p,status:h}:p)),a(g=>{const p=t.map(v=>v.id===f?{...v,status:h}:v);return{waiting:p.filter(v=>v.status==="pending"||v.status==="confirmed").length,inProgress:p.filter(v=>v.status==="in_progress").length,completed:p.filter(v=>v.status==="completed").length,total:p.length}}),{success:!0}}catch(m){return console.error("Error updating appointment:",m),{success:!1,error:m.message}}};return y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(!e)return;const f=Pe.channel(`clinician-queue-${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${e.id}`},()=>{u()}).subscribe();return()=>{Pe.removeChannel(f)}},[e,u]),{queue:t,stats:n,loading:i,error:l,refetch:u,updateAppointmentStatus:d}},Rme=()=>{const{queue:e,stats:t,loading:r,updateAppointmentStatus:n}=MV(),[a,i]=y.useState(null),o=e.filter(h=>h.status==="pending"||h.status==="confirmed"),l=e.filter(h=>h.status==="in_progress"),c=e.filter(h=>h.status==="completed"),u=h=>[...h].sort((m,g)=>{const p={severe:0,moderate:1,mild:2};return p[m.severity]!==p[g.severity]?p[m.severity]-p[g.severity]:new Date(m.scheduled_at).getTime()-new Date(g.scheduled_at).getTime()}),d=async h=>{i(h.id);const m=await n(h.id,"in_progress");i(null),m.success?le.success(`Started consultation with ${h.patient_name}`):le.error("Failed to start consultation")},f=async h=>{i(h.id);const m=await n(h.id,"completed");i(null),m.success?le.success(`Completed consultation with ${h.patient_name}`):le.error("Failed to complete consultation")};return r?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2,3].map(h=>s.jsx(Wt,{className:"h-32 w-full"},h))})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Patient Queue"]}),s.jsxs(Se,{children:[t.total," patients today  ",t.waiting," waiting  ",t.inProgress," in progress"]})]}),s.jsx(ce,{children:s.jsxs(zl,{defaultValue:"waiting",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"waiting",className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Waiting (",t.waiting,")"]}),s.jsxs(Dt,{value:"in_progress",className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4"}),"In Progress (",t.inProgress,")"]}),s.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Completed (",t.completed,")"]})]}),s.jsx(fr,{value:"waiting",className:"space-y-4",children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No patients waiting"})]}):u(o).map(h=>s.jsx(kj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),s.jsx(fr,{value:"in_progress",className:"space-y-4",children:l.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(qt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No consultations in progress"})]}):l.map(h=>s.jsx(kj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))}),s.jsx(fr,{value:"completed",className:"space-y-4",children:c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No completed consultations today"})]}):c.map(h=>s.jsx(kj,{patient:h,onStartConsultation:d,onCompleteConsultation:f,isUpdating:a===h.id},h.id))})]})})]})},Dme={video:tr,phone:oa,in_person:ih},Lme=({todayAppointments:e})=>{const t=e.filter(i=>{const o=new Date(i.scheduled_at).getHours();return o>=8&&o<12}),r=e.filter(i=>{const o=new Date(i.scheduled_at).getHours();return o>=12&&o<17}),n=e.filter(i=>new Date(i.scheduled_at).getHours()>=17),a=({title:i,appointments:o})=>s.jsxs("div",{className:"mb-4 last:mb-0",children:[s.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:i}),o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground/50 italic",children:"No appointments"}):s.jsx("div",{className:"space-y-2",children:o.map(l=>{const c=Dme[l.consultation_type];return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${l.status==="in_progress"?"border-success bg-success/5":l.status==="completed"?"border-muted bg-muted/50 opacity-60":"border-border"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:ta(new Date(l.scheduled_at),"h:mm")}),s.jsx("span",{className:"text-xs text-muted-foreground",children:ta(new Date(l.scheduled_at),"a")})]}),s.jsx("div",{className:"w-px h-8 bg-border"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:l.patient_name}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[s.jsx(c,{className:"w-3 h-3"}),s.jsx("span",{children:l.consultation_type})]})]})]}),s.jsx(Ne,{variant:l.status==="in_progress"?"default":l.status==="completed"?"secondary":"outline",className:"text-xs",children:l.status==="in_progress"?"In Progress":l.status==="completed"?"Done":l.status==="pending"?"Waiting":l.status})]},l.id)})})]});return s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Today's Schedule",s.jsx(Ne,{variant:"outline",className:"ml-2 text-xs",children:jp})]}),s.jsx(Se,{children:$x(new Date)})]}),s.jsx(ce,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No appointments scheduled for today"})]}):s.jsxs(s.Fragment,{children:[s.jsx(a,{title:"Morning (8am - 12pm)",appointments:t}),s.jsx(a,{title:"Afternoon (12pm - 5pm)",appointments:r}),s.jsx(a,{title:"Evening (5pm+)",appointments:n})]})})]})},Fme=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Bme=()=>{const{user:e}=$r(),[t,r]=y.useState([]),[n,a]=y.useState(!0),[i,o]=y.useState(!1),l=y.useCallback(async()=>{if(e){a(!0);try{const{data:m,error:g}=await Pe.from("clinician_availability").select("*").eq("clinician_id",e.id).order("day_of_week",{ascending:!0}).order("start_time",{ascending:!0});if(g)throw g;r(m||[])}catch(m){console.error("Error fetching availability:",m),le.error("Failed to load availability")}finally{a(!1)}}},[e]),c=y.useCallback(async m=>{if(e){o(!0);try{const{data:g,error:p}=await Pe.from("clinician_availability").insert({clinician_id:e.id,day_of_week:m.day_of_week,start_time:m.start_time,end_time:m.end_time,is_active:m.is_active}).select().single();if(p)throw p;return r(v=>[...v,g]),le.success("Availability slot added"),g}catch(g){return console.error("Error adding slot:",g),le.error("Failed to add availability slot"),null}finally{o(!1)}}},[e]),u=y.useCallback(async(m,g)=>{if(e){o(!0);try{const{error:p}=await Pe.from("clinician_availability").update(g).eq("id",m).eq("clinician_id",e.id);if(p)throw p;r(v=>v.map(b=>b.id===m?{...b,...g}:b)),le.success("Availability updated")}catch(p){console.error("Error updating slot:",p),le.error("Failed to update availability")}finally{o(!1)}}},[e]),d=y.useCallback(async m=>{if(e){o(!0);try{const{error:g}=await Pe.from("clinician_availability").delete().eq("id",m).eq("clinician_id",e.id);if(g)throw g;r(p=>p.filter(v=>v.id!==m)),le.success("Slot removed")}catch(g){console.error("Error deleting slot:",g),le.error("Failed to remove slot")}finally{o(!1)}}},[e]),f=y.useCallback(async(m,g)=>{await u(m,{is_active:g})},[u]),h=y.useCallback(m=>t.filter(g=>g.day_of_week===m),[t]);return y.useEffect(()=>{l()},[l]),{availability:t,loading:n,saving:i,addSlot:c,updateSlot:u,deleteSlot:d,toggleSlotActive:f,getSlotsByDay:h,refetch:l,DAY_NAMES:Fme}},_$=Array.from({length:48},(e,t)=>{const r=Math.floor(t/2),n=t%2===0?"00":"30";return`${r.toString().padStart(2,"0")}:${n}`}),Ume=({onAddSlot:e,saving:t,dayNames:r})=>{const[n,a]=y.useState(1),[i,o]=y.useState("09:00"),[l,c]=y.useState("17:00"),[u,d]=y.useState(!0),f=async()=>{if(i>=l)return;await e({day_of_week:n,start_time:i,end_time:l,is_active:u})&&(o("09:00"),c("17:00"))};return s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border border-border space-y-4",children:[s.jsx("h3",{className:"font-medium",children:"Add New Time Slot"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Day"}),s.jsxs(or,{value:n.toString(),onValueChange:h=>a(parseInt(h)),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:r.map((h,m)=>s.jsx(Fe,{value:m.toString(),children:h},m))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Start Time"}),s.jsxs(or,{value:i,onValueChange:o,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:_$.map(h=>s.jsx(Fe,{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"End Time"}),s.jsxs(or,{value:l,onValueChange:c,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:_$.filter(h=>h>i).map(h=>s.jsx(Fe,{value:h,children:h},h))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Active"}),s.jsxs("div",{className:"flex items-center h-10",children:[s.jsx(Z0,{checked:u,onCheckedChange:d}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:u?"Visible":"Hidden"})]})]})]}),s.jsxs(Z,{onClick:f,disabled:t||i>=l,children:[s.jsx(ff,{className:"w-4 h-4 mr-2"}),"Add Slot"]})]})},j$=e=>{const[t,r]=e.split(":"),n=parseInt(t),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`},zme=({dayName:e,dayIndex:t,slots:r,onToggleActive:n,onDeleteSlot:a,saving:i})=>{const o=r.filter(u=>u.is_active),l=r.length>0,c=t===0||t===6;return s.jsxs(se,{className:`${l?"":"opacity-60"} ${c?"bg-muted/30":""}`,children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(xe,{className:"text-base flex items-center gap-2",children:[e,c&&s.jsx(DX,{className:"w-3.5 h-3.5 text-muted-foreground"})]}),l&&s.jsxs(Ne,{variant:o.length>0?"default":"secondary",children:[o.length," active"]})]})}),s.jsx(ce,{children:l?s.jsx("div",{className:"space-y-2",children:r.map(u=>s.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg border ${u.is_active?"bg-primary/5 border-primary/20":"bg-muted/50 border-border"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm font-medium",children:[j$(u.start_time)," - ",j$(u.end_time)]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z0,{checked:u.is_active,onCheckedChange:d=>u.id&&n(u.id,d),disabled:i}),s.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",onClick:()=>u.id&&a(u.id),disabled:i,children:s.jsx(zX,{className:"w-4 h-4"})})]})]},u.id))}):s.jsx("p",{className:"text-sm text-muted-foreground py-2",children:"No slots configured"})})]})},Vme=()=>{const{availability:e,loading:t,saving:r,addSlot:n,toggleSlotActive:a,deleteSlot:i,getSlotsByDay:o,refetch:l,DAY_NAMES:c}=Bme(),u=e.filter(d=>d.is_active).reduce((d,f)=>{const[h,m]=f.start_time.split(":").map(Number),[g,p]=f.end_time.split(":").map(Number),v=g-h+(p-m)/60;return d+v},0);return t?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-48"}),s.jsx(Wt,{className:"h-4 w-64"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsx(Wt,{className:"h-32 w-full"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Array.from({length:7}).map((d,f)=>s.jsx(Wt,{className:"h-24"},f))})]})]}):s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Availability Schedule"]}),s.jsx(Se,{className:"mt-1",children:"Set your working hours for patient appointments"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly hours"}),s.jsxs("p",{className:"text-lg font-semibold flex items-center gap-1",children:[s.jsx(qt,{className:"w-4 h-4"}),u.toFixed(1),"h"]})]}),s.jsxs(Z,{variant:"outline",size:"sm",onClick:l,disabled:t,children:[s.jsx(ho,{className:`w-4 h-4 mr-2 ${t?"animate-spin":""}`}),"Refresh"]})]})]})}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx(Ume,{onAddSlot:n,saving:r,dayNames:c}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Weekly Schedule"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-3",children:c.map((d,f)=>s.jsx(zme,{dayName:d,dayIndex:f,slots:o(f),onToggleActive:a,onDeleteSlot:i,saving:r},f))})]}),s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Tips for setting availability"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Patients can only book during your active time slots"}),s.jsx("li",{children:" Each appointment is 30 minutes by default"}),s.jsx("li",{children:" Toggle slots off to temporarily block bookings without deleting"}),s.jsx("li",{children:" Add multiple slots per day for split schedules (e.g., morning + afternoon)"})]})]})]})]})},Wme=({open:e,onOpenChange:t})=>s.jsx(ni,{open:e,onOpenChange:t,children:s.jsxs(Aa,{className:"max-w-5xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ta,{children:s.jsx(Ma,{children:"Manage Availability"})}),s.jsx(Vme,{})]})}),Hme=e=>{const{user:t}=$r(),[r,n]=y.useState([]),[a,i]=y.useState(!0),[o,l]=y.useState(null),c=y.useCallback(async()=>{if(t){i(!0),l(null);try{let h=Pe.from("appointments").select(`
          *,
          symptom_assessments (
            symptoms,
            severity,
            description
          )
        `).eq("clinician_id",t.id).order("scheduled_at",{ascending:!0});e!=null&&e.startDate&&(h=h.gte("scheduled_at",Cs(e.startDate).toISOString())),e!=null&&e.endDate&&(h=h.lte("scheduled_at",mP(e.endDate).toISOString())),e!=null&&e.status&&e.status.length>0&&(h=h.in("status",e.status));const{data:m,error:g}=await h;if(g)throw g;const p=[...new Set((m==null?void 0:m.map(w=>w.patient_id))||[])],{data:v}=await Pe.from("profiles").select("id, first_name, last_name, phone").in("id",p),b=new Map((v==null?void 0:v.map(w=>[w.id,w]))||[]),x=(m||[]).map(w=>{const _=b.get(w.patient_id),S=w.symptom_assessments;return{id:w.id,patient_id:w.patient_id,patient_name:_?`${_.first_name} ${_.last_name}`:"Unknown Patient",patient_phone:(_==null?void 0:_.phone)||null,scheduled_at:w.scheduled_at,duration_minutes:w.duration_minutes,consultation_type:w.consultation_type,status:w.status,symptoms:(S==null?void 0:S.symptoms)||[],severity:(S==null?void 0:S.severity)||"mild",symptom_description:(S==null?void 0:S.description)||null,notes:w.notes,created_at:w.created_at}});n(x)}catch(h){console.error("Error fetching appointments:",h),l(h.message),le.error("Failed to load appointments")}finally{i(!1)}}},[t,e==null?void 0:e.startDate,e==null?void 0:e.endDate,e==null?void 0:e.status]),u=y.useCallback(async(h,m)=>{try{const{error:g}=await Pe.from("appointments").update({status:m}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,status:m}:v)),le.success(`Appointment ${m}`),!0}catch(g){return console.error("Error updating appointment:",g),le.error("Failed to update appointment"),!1}},[]),d=y.useCallback(async(h,m)=>{try{const{error:g}=await Pe.from("appointments").update({notes:m}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,notes:m}:v)),le.success("Notes saved"),!0}catch(g){return console.error("Error updating notes:",g),le.error("Failed to save notes"),!1}},[]),f=y.useCallback(async(h,m)=>{try{const{error:g}=await Pe.from("appointments").update({scheduled_at:m.toISOString(),status:"pending"}).eq("id",h);if(g)throw g;return n(p=>p.map(v=>v.id===h?{...v,scheduled_at:m.toISOString(),status:"pending"}:v)),le.success("Appointment rescheduled"),!0}catch(g){return console.error("Error rescheduling:",g),le.error("Failed to reschedule appointment"),!1}},[]);return y.useEffect(()=>{if(!t)return;const h=Pe.channel("clinician-appointments").on("postgres_changes",{event:"*",schema:"public",table:"appointments",filter:`clinician_id=eq.${t.id}`},()=>{c()}).subscribe();return()=>{Pe.removeChannel(h)}},[t,c]),y.useEffect(()=>{c()},[c]),{appointments:r,loading:a,error:o,refetch:c,updateAppointmentStatus:u,updateAppointmentNotes:d,rescheduleAppointment:f}};function qme(e){const t=Gme(e),r=y.forwardRef((n,a)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Yme);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Gme(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const o=Xme(a),l=Jme(i,a.props);return a.type!==y.Fragment&&(l.ref=n?Ps(n,o):o),y.cloneElement(a,l)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Kme=Symbol("radix.slottable");function Yme(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Kme}function Jme(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Xme(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var mN=["Enter"," "],Qme=["ArrowDown","PageUp","Home"],$V=["ArrowUp","PageDown","End"],Zme=[...Qme,...$V],epe={ltr:[...mN,"ArrowRight"],rtl:[...mN,"ArrowLeft"]},tpe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mg="Menu",[Np,rpe,npe]=y0(Mg),[ku,IV]=gn(Mg,[npe,Dl,ph]),aw=Dl(),RV=ph(),[ape,Cu]=ku(Mg),[ipe,$g]=ku(Mg),DV=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=aw(t),[c,u]=y.useState(null),d=y.useRef(!1),f=xr(i),h=hh(a);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(EE,{...l,children:s.jsx(ape,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(ipe,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};DV.displayName=Mg;var spe="MenuAnchor",FP=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=aw(r);return s.jsx(_g,{...a,...n,ref:t})});FP.displayName=spe;var BP="MenuPortal",[ope,LV]=ku(BP,{forceMount:void 0}),FV=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Cu(BP,t);return s.jsx(ope,{scope:t,forceMount:r,children:s.jsx(Hr,{present:r||i.open,children:s.jsx(ah,{asChild:!0,container:a,children:n})})})};FV.displayName=BP;var ai="MenuContent",[lpe,UP]=ku(ai),BV=y.forwardRef((e,t)=>{const r=LV(ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Cu(ai,e.__scopeMenu),o=$g(ai,e.__scopeMenu);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(Hr,{present:n||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(cpe,{...a,ref:t}):s.jsx(upe,{...a,ref:t})})})})}),cpe=y.forwardRef((e,t)=>{const r=Cu(ai,e.__scopeMenu),n=y.useRef(null),a=Ke(t,n);return y.useEffect(()=>{const i=n.current;if(i)return F0(i)},[]),s.jsx(zP,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:he(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),upe=y.forwardRef((e,t)=>{const r=Cu(ai,e.__scopeMenu);return s.jsx(zP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),dpe=qme("MenuContent.ScrollLock"),zP=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,v=Cu(ai,r),b=$g(ai,r),x=aw(r),w=RV(r),_=rpe(r),[S,N]=y.useState(null),k=y.useRef(null),P=Ke(t,k,v.onContentChange),A=y.useRef(0),T=y.useRef(""),I=y.useRef(0),O=y.useRef(null),L=y.useRef("right"),$=y.useRef(0),F=g?Cg:y.Fragment,z=g?{as:dpe,allowPinchZoom:!0}:void 0,V=U=>{var D,G;const K=T.current+U,re=_().filter(q=>!q.disabled),ee=document.activeElement,j=(D=re.find(q=>q.ref.current===ee))==null?void 0:D.textValue,E=re.map(q=>q.textValue),C=jpe(E,K,j),B=(G=re.find(q=>q.textValue===C))==null?void 0:G.ref.current;(function q(J){T.current=J,window.clearTimeout(A.current),J!==""&&(A.current=window.setTimeout(()=>q(""),1e3))})(K),B&&setTimeout(()=>B.focus())};y.useEffect(()=>()=>window.clearTimeout(A.current),[]),D0();const R=y.useCallback(U=>{var re,ee;return L.current===((re=O.current)==null?void 0:re.side)&&Npe(U,(ee=O.current)==null?void 0:ee.area)},[]);return s.jsx(lpe,{scope:r,searchRef:T,onItemEnter:y.useCallback(U=>{R(U)&&U.preventDefault()},[R]),onItemLeave:y.useCallback(U=>{var K;R(U)||((K=k.current)==null||K.focus(),N(null))},[R]),onTriggerLeave:y.useCallback(U=>{R(U)&&U.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(U=>{O.current=U},[]),children:s.jsx(F,{...z,children:s.jsx(kg,{asChild:!0,trapped:a,onMountAutoFocus:he(i,U=>{var K;U.preventDefault(),(K=k.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(ju,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:s.jsx(eP,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:N,onEntryFocus:he(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(C0,{role:"menu","aria-orientation":"vertical","data-state":rW(v.open),"data-radix-menu-content":"",dir:b.dir,...x,...p,ref:P,style:{outline:"none",...p.style},onKeyDown:he(p.onKeyDown,U=>{const re=U.target.closest("[data-radix-menu-content]")===U.currentTarget,ee=U.ctrlKey||U.altKey||U.metaKey,j=U.key.length===1;re&&(U.key==="Tab"&&U.preventDefault(),!ee&&j&&V(U.key));const E=k.current;if(U.target!==E||!Zme.includes(U.key))return;U.preventDefault();const B=_().filter(D=>!D.disabled).map(D=>D.ref.current);$V.includes(U.key)&&B.reverse(),wpe(B)}),onBlur:he(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(A.current),T.current="")}),onPointerMove:he(e.onPointerMove,kp(U=>{const K=U.target,re=$.current!==U.clientX;if(U.currentTarget.contains(K)&&re){const ee=U.clientX>$.current?"right":"left";L.current=ee,$.current=U.clientX}}))})})})})})})});BV.displayName=ai;var fpe="MenuGroup",VP=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"group",...n,ref:t})});VP.displayName=fpe;var hpe="MenuLabel",UV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{...n,ref:t})});UV.displayName=hpe;var Bx="MenuItem",S$="menu.itemSelect",iw=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),o=$g(Bx,e.__scopeMenu),l=UP(Bx,e.__scopeMenu),c=Ke(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(S$,{bubbles:!0,cancelable:!0});f.addEventListener(S$,m=>n==null?void 0:n(m),{once:!0}),uE(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(zV,{...a,ref:c,disabled:r,onClick:he(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:he(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:he(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||mN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});iw.displayName=Bx;var zV=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=UP(Bx,r),l=RV(r),c=y.useRef(null),u=Ke(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),s.jsx(Np.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(tP,{asChild:!0,...l,focusable:!n,children:s.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:he(e.onPointerMove,kp(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(e.onPointerLeave,kp(g=>o.onItemLeave(g))),onFocus:he(e.onFocus,()=>f(!0)),onBlur:he(e.onBlur,()=>f(!1))})})})}),mpe="MenuCheckboxItem",VV=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(KV,{scope:e.__scopeMenu,checked:r,children:s.jsx(iw,{role:"menuitemcheckbox","aria-checked":Ux(r)?"mixed":r,...a,ref:t,"data-state":HP(r),onSelect:he(a.onSelect,()=>n==null?void 0:n(Ux(r)?!0:!r),{checkForDefaultPrevented:!1})})})});VV.displayName=mpe;var WV="MenuRadioGroup",[ppe,gpe]=ku(WV,{value:void 0,onValueChange:()=>{}}),HV=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=xr(n);return s.jsx(ppe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(VP,{...a,ref:t})})});HV.displayName=WV;var qV="MenuRadioItem",GV=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=gpe(qV,e.__scopeMenu),i=r===a.value;return s.jsx(KV,{scope:e.__scopeMenu,checked:i,children:s.jsx(iw,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":HP(i),onSelect:he(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});GV.displayName=qV;var WP="MenuItemIndicator",[KV,vpe]=ku(WP,{checked:!1}),YV=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=vpe(WP,r);return s.jsx(Hr,{present:n||Ux(i.checked)||i.checked===!0,children:s.jsx(Me.span,{...a,ref:t,"data-state":HP(i.checked)})})});YV.displayName=WP;var ype="MenuSeparator",JV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});JV.displayName=ype;var xpe="MenuArrow",XV=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=aw(r);return s.jsx(E0,{...a,...n,ref:t})});XV.displayName=xpe;var bpe="MenuSub",[y8e,QV]=ku(bpe),mm="MenuSubTrigger",ZV=y.forwardRef((e,t)=>{const r=Cu(mm,e.__scopeMenu),n=$g(mm,e.__scopeMenu),a=QV(mm,e.__scopeMenu),i=UP(mm,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(FP,{asChild:!0,...u,children:s.jsx(zV,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":rW(r.open),...e,ref:Ps(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:he(e.onPointerMove,kp(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:he(e.onPointerLeave,kp(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,v=p==="right",b=v?-5:5,x=h[v?"left":"right"],w=h[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||epe[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});ZV.displayName=mm;var eW="MenuSubContent",tW=y.forwardRef((e,t)=>{const r=LV(ai,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Cu(ai,e.__scopeMenu),o=$g(ai,e.__scopeMenu),l=QV(eW,e.__scopeMenu),c=y.useRef(null),u=Ke(t,c);return s.jsx(Np.Provider,{scope:e.__scopeMenu,children:s.jsx(Hr,{present:n||i.open,children:s.jsx(Np.Slot,{scope:e.__scopeMenu,children:s.jsx(zP,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:he(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=tpe[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});tW.displayName=eW;function rW(e){return e?"open":"closed"}function Ux(e){return e==="indeterminate"}function HP(e){return Ux(e)?"indeterminate":e?"checked":"unchecked"}function wpe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _pe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function jpe(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=_pe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function Spe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(a=!a)}return a}function Npe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Spe(r,t)}function kp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var kpe=DV,Cpe=FP,Epe=FV,Ppe=BV,Ope=VP,Ape=UV,Tpe=iw,Mpe=VV,$pe=HV,Ipe=GV,Rpe=YV,Dpe=JV,Lpe=XV,Fpe=ZV,Bpe=tW,sw="DropdownMenu",[Upe]=gn(sw,[IV]),Gn=IV(),[zpe,nW]=Upe(sw),aW=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Gn(t),u=y.useRef(null),[d,f]=Wi({prop:a,defaultProp:i??!1,onChange:o,caller:sw});return s.jsx(zpe,{scope:t,triggerId:Bi(),triggerRef:u,contentId:Bi(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(kpe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};aW.displayName=sw;var iW="DropdownMenuTrigger",sW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=nW(iW,r),o=Gn(r);return s.jsx(Cpe,{asChild:!0,...o,children:s.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Ps(t,i.triggerRef),onPointerDown:he(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});sW.displayName=iW;var Vpe="DropdownMenuPortal",oW=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gn(t);return s.jsx(Epe,{...n,...r})};oW.displayName=Vpe;var lW="DropdownMenuContent",cW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=nW(lW,r),i=Gn(r),o=y.useRef(!1);return s.jsx(Ppe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:he(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:he(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cW.displayName=lW;var Wpe="DropdownMenuGroup",Hpe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Ope,{...a,...n,ref:t})});Hpe.displayName=Wpe;var qpe="DropdownMenuLabel",uW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Ape,{...a,...n,ref:t})});uW.displayName=qpe;var Gpe="DropdownMenuItem",dW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Tpe,{...a,...n,ref:t})});dW.displayName=Gpe;var Kpe="DropdownMenuCheckboxItem",fW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Mpe,{...a,...n,ref:t})});fW.displayName=Kpe;var Ype="DropdownMenuRadioGroup",Jpe=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx($pe,{...a,...n,ref:t})});Jpe.displayName=Ype;var Xpe="DropdownMenuRadioItem",hW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Ipe,{...a,...n,ref:t})});hW.displayName=Xpe;var Qpe="DropdownMenuItemIndicator",mW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Rpe,{...a,...n,ref:t})});mW.displayName=Qpe;var Zpe="DropdownMenuSeparator",pW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Dpe,{...a,...n,ref:t})});pW.displayName=Zpe;var ege="DropdownMenuArrow",tge=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Lpe,{...a,...n,ref:t})});tge.displayName=ege;var rge="DropdownMenuSubTrigger",gW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Fpe,{...a,...n,ref:t})});gW.displayName=rge;var nge="DropdownMenuSubContent",vW=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return s.jsx(Bpe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vW.displayName=nge;var age=aW,ige=sW,sge=oW,yW=cW,xW=uW,bW=dW,wW=fW,_W=hW,jW=mW,SW=pW,NW=gW,kW=vW;const oge=age,lge=ige,cge=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(NW,{ref:a,className:ve("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(df,{className:"ml-auto h-4 w-4"})]}));cge.displayName=NW.displayName;const uge=y.forwardRef(({className:e,...t},r)=>s.jsx(kW,{ref:r,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uge.displayName=kW.displayName;const CW=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(sge,{children:s.jsx(yW,{ref:n,sideOffset:t,className:ve("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));CW.displayName=yW.displayName;const Ay=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(bW,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Ay.displayName=bW.displayName;const dge=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(wW,{ref:a,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jW,{children:s.jsx(mE,{className:"h-4 w-4"})})}),t]}));dge.displayName=wW.displayName;const fge=y.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(_W,{ref:n,className:ve("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(jW,{children:s.jsx(yB,{className:"h-2 w-2 fill-current"})})}),t]}));fge.displayName=_W.displayName;const hge=y.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(xW,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));hge.displayName=xW.displayName;const EW=y.forwardRef(({className:e,...t},r)=>s.jsx(SW,{ref:r,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));EW.displayName=SW.displayName;var mge=Symbol("radix.slottable");function pge(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=mge,t}var PW="AlertDialog",[gge]=gn(PW,[_8]),Co=_8(),OW=e=>{const{__scopeAlertDialog:t,...r}=e,n=Co(t);return s.jsx(L8,{...n,...r,modal:!0})};OW.displayName=PW;var vge="AlertDialogTrigger",yge=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(F8,{...a,...n,ref:t})});yge.displayName=vge;var xge="AlertDialogPortal",AW=e=>{const{__scopeAlertDialog:t,...r}=e,n=Co(t);return s.jsx(B8,{...n,...r})};AW.displayName=xge;var bge="AlertDialogOverlay",TW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(sP,{...a,...n,ref:t})});TW.displayName=bge;var zd="AlertDialogContent",[wge,_ge]=gge(zd),jge=pge("AlertDialogContent"),MW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Co(r),o=y.useRef(null),l=Ke(t,o),c=y.useRef(null);return s.jsx(Fle,{contentName:zd,titleName:$W,docsSlug:"alert-dialog",children:s.jsx(wge,{scope:r,cancelRef:c,children:s.jsxs(oP,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:he(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(jge,{children:n}),s.jsx(Nge,{contentRef:o})]})})})});MW.displayName=zd;var $W="AlertDialogTitle",IW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(lP,{...a,...n,ref:t})});IW.displayName=$W;var RW="AlertDialogDescription",DW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(cP,{...a,...n,ref:t})});DW.displayName=RW;var Sge="AlertDialogAction",LW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Co(r);return s.jsx(uP,{...a,...n,ref:t})});LW.displayName=Sge;var FW="AlertDialogCancel",BW=y.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=_ge(FW,r),i=Co(r),o=Ke(t,a);return s.jsx(uP,{...i,...n,ref:o})});BW.displayName=FW;var Nge=({contentRef:e})=>{const t=`\`${zd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zd}\` by passing a \`${RW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},kge=OW,Cge=AW,UW=TW,zW=MW,VW=LW,WW=BW,HW=IW,qW=DW;const Ege=kge,Pge=Cge,GW=y.forwardRef(({className:e,...t},r)=>s.jsx(UW,{className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));GW.displayName=UW.displayName;const KW=y.forwardRef(({className:e,...t},r)=>s.jsxs(Pge,{children:[s.jsx(GW,{}),s.jsx(zW,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));KW.displayName=zW.displayName;const YW=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});YW.displayName="AlertDialogHeader";const JW=({className:e,...t})=>s.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});JW.displayName="AlertDialogFooter";const XW=y.forwardRef(({className:e,...t},r)=>s.jsx(HW,{ref:r,className:ve("text-lg font-semibold",e),...t}));XW.displayName=HW.displayName;const QW=y.forwardRef(({className:e,...t},r)=>s.jsx(qW,{ref:r,className:ve("text-sm text-muted-foreground",e),...t}));QW.displayName=qW.displayName;const ZW=y.forwardRef(({className:e,...t},r)=>s.jsx(VW,{ref:r,className:ve(vp(),e),...t}));ZW.displayName=VW.displayName;const e9=y.forwardRef(({className:e,...t},r)=>s.jsx(WW,{ref:r,className:ve(vp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));e9.displayName=WW.displayName;const Oge={video:tr,phone:oa,in_person:ih},Age={pending:{label:"Pending",variant:"secondary",color:"bg-warning/10 text-warning border-warning/20"},confirmed:{label:"Confirmed",variant:"default",color:"bg-primary/10 text-primary border-primary/20"},in_progress:{label:"In Progress",variant:"default",color:"bg-success/10 text-success border-success/20"},completed:{label:"Completed",variant:"secondary",color:"bg-muted text-muted-foreground"},cancelled:{label:"Cancelled",variant:"destructive",color:"bg-destructive/10 text-destructive border-destructive/20"}},Tge={mild:{label:"Mild",color:"text-success"},moderate:{label:"Moderate",color:"text-warning"},severe:{label:"Severe",color:"text-destructive"}},Mge=({appointment:e,onConfirm:t,onCancel:r,onStart:n,onComplete:a,compact:i=!1})=>{const o=On(),[l,c]=y.useState(!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1),m=Oge[e.consultation_type],g=Age[e.status],p=Tge[e.severity],v=e.status==="pending",b=e.status==="confirmed",x=e.status==="in_progress",w=v||b||x,_=async N=>{h(!0),await N(),h(!1)},S=()=>{o(`/consultation?appointment=${e.id}`)};return i?s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${g.color}`,children:s.jsx(m,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:e.patient_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:yt(new Date(e.scheduled_at),"h:mm a")})]})]}),s.jsx(Ne,{variant:g.variant,className:"text-xs",children:g.label})]}):s.jsxs(s.Fragment,{children:[s.jsx(se,{className:`transition-all ${x?"ring-2 ring-success/50":""}`,children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${g.color} border`,children:s.jsx(m,{className:"w-5 h-5"})}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-semibold",children:e.patient_name}),s.jsx(Ne,{variant:g.variant,children:g.label})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"MMM d, yyyy")]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5"}),yt(new Date(e.scheduled_at),"h:mm a")]}),s.jsxs("span",{children:[e.duration_minutes," min"]})]}),e.symptoms.length>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsxs("span",{className:`text-xs font-medium ${p.color}`,children:[e.severity==="severe"&&s.jsx(Wn,{className:"w-3 h-3 inline mr-1"}),p.label]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:""}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.symptoms.slice(0,3).join(", "),e.symptoms.length>3&&` +${e.symptoms.length-3} more`]})]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[v&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{size:"sm",onClick:()=>_(()=>t(e.id)),disabled:f,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Confirm"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>c(!0),disabled:f,children:[s.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}),b&&s.jsxs(Z,{size:"sm",onClick:()=>_(()=>n(e.id)),disabled:f,children:[s.jsx(vE,{className:"w-4 h-4 mr-1"}),"Start Consultation"]}),x&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{size:"sm",onClick:S,children:[s.jsx(tr,{className:"w-4 h-4 mr-1"}),"Join Call"]}),s.jsxs(Z,{size:"sm",variant:"secondary",onClick:()=>d(!0),children:[s.jsx(nn,{className:"w-4 h-4 mr-1"}),"Notes"]}),s.jsxs(Z,{size:"sm",variant:"outline",onClick:()=>_(()=>a(e.id)),disabled:f,children:[s.jsx(Nr,{className:"w-4 h-4 mr-1"}),"Complete"]})]})]})]})]}),w&&s.jsxs(oge,{children:[s.jsx(lge,{asChild:!0,children:s.jsx(Z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(jX,{className:"w-4 h-4"})})}),s.jsxs(CW,{align:"end",children:[s.jsxs(Ay,{onClick:()=>d(!0),children:[s.jsx(nn,{className:"w-4 h-4 mr-2"}),"Clinical Notes"]}),e.patient_phone&&s.jsx(Ay,{asChild:!0,children:s.jsxs("a",{href:`tel:${e.patient_phone}`,children:[s.jsx(oa,{className:"w-4 h-4 mr-2"}),"Call Patient"]})}),s.jsx(EW,{}),s.jsxs(Ay,{className:"text-destructive",onClick:()=>c(!0),children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Cancel Appointment"]})]})]})]})})}),s.jsx(Ege,{open:l,onOpenChange:c,children:s.jsxs(KW,{children:[s.jsxs(YW,{children:[s.jsx(XW,{children:"Cancel Appointment"}),s.jsxs(QW,{children:["Are you sure you want to cancel this appointment with"," ",s.jsx("strong",{children:e.patient_name}),"? The patient will be notified."]})]}),s.jsxs(JW,{children:[s.jsx(e9,{children:"Keep Appointment"}),s.jsx(ZW,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_(()=>r(e.id)),children:"Cancel Appointment"})]})]})}),s.jsx(LP,{open:u,onOpenChange:d,appointmentId:e.id,patientId:e.patient_id,patientName:e.patient_name})]})},$ge=()=>{const[e,t]=y.useState({start:Yi(new Date,{weekStartsOn:1}),end:G0(new Date,{weekStartsOn:1})}),[r,n]=y.useState(new Date),[a,i]=y.useState("all"),o=a==="all"?void 0:a==="active"?["pending","confirmed","in_progress"]:[a],{appointments:l,loading:c,refetch:u,updateAppointmentStatus:d}=Hme({startDate:e.start,endDate:e.end,status:o}),f=l.reduce((p,v)=>{const b=yt(new Date(v.scheduled_at),"yyyy-MM-dd");return p[b]||(p[b]=[]),p[b].push(v),p},{}),h={total:l.length,pending:l.filter(p=>p.status==="pending").length,confirmed:l.filter(p=>p.status==="confirmed").length,inProgress:l.filter(p=>p.status==="in_progress").length,completed:l.filter(p=>p.status==="completed").length},m=p=>{const v=p==="next"?1:-1;t({start:_p(e.start,v),end:_p(e.end,v)})},g=p=>{const v=new Date(p);return iue(v)?"Today":sue(v)?"Tomorrow":yt(v,"EEEE, MMM d")};return c?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-48"}),s.jsx(Wt,{className:"h-4 w-64"})]}),s.jsx(ce,{className:"space-y-4",children:Array.from({length:3}).map((p,v)=>s.jsx(Wt,{className:"h-32 w-full"},v))})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"Appointments"]}),s.jsxs(Se,{children:[yt(e.start,"MMM d")," - ",yt(e.end,"MMM d, yyyy")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>m("prev"),children:" Prev"}),s.jsx(Z,{variant:"outline",size:"sm",onClick:()=>m("next"),children:"Next "}),s.jsx(Z,{variant:"outline",size:"sm",onClick:u,children:s.jsx(ho,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-4 mt-4 flex-wrap",children:[s.jsxs(Ne,{variant:"outline",className:"px-3 py-1",children:[s.jsx(qt,{className:"w-3.5 h-3.5 mr-1"}),h.pending," pending"]}),s.jsxs(Ne,{variant:"outline",className:"px-3 py-1 border-primary/30 bg-primary/5",children:[s.jsx(Nr,{className:"w-3.5 h-3.5 mr-1"}),h.confirmed," confirmed"]}),s.jsxs(Ne,{variant:"outline",className:"px-3 py-1 border-success/30 bg-success/5",children:[s.jsx(Su,{className:"w-3.5 h-3.5 mr-1"}),h.inProgress," in progress"]}),s.jsxs(Ne,{variant:"secondary",className:"px-3 py-1",children:[h.completed," completed"]})]})]}),s.jsxs(ce,{children:[s.jsx(zl,{value:a,onValueChange:i,className:"mb-6",children:s.jsxs(ko,{children:[s.jsxs(Dt,{value:"all",children:["All (",h.total,")"]}),s.jsxs(Dt,{value:"active",children:["Active (",h.pending+h.confirmed+h.inProgress,")"]}),s.jsxs(Dt,{value:"pending",children:["Pending (",h.pending,")"]}),s.jsxs(Dt,{value:"completed",children:["Completed (",h.completed,")"]})]})}),Object.keys(f).length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No appointments found"}),s.jsx("p",{className:"text-sm",children:a!=="all"?`No ${a} appointments for this week`:"No appointments scheduled for this week"})]}):s.jsx("div",{className:"space-y-6",children:Object.entries(f).sort(([p],[v])=>p.localeCompare(v)).map(([p,v])=>s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-sm text-muted-foreground mb-3 flex items-center gap-2",children:[s.jsx(kt,{className:"w-4 h-4"}),g(p),s.jsxs(Ne,{variant:"secondary",className:"text-xs",children:[v.length," appointment",v.length!==1?"s":""]})]}),s.jsx("div",{className:"space-y-3",children:v.map(b=>s.jsx(Mge,{appointment:b,onConfirm:x=>d(x,"confirmed"),onCancel:x=>d(x,"cancelled"),onStart:x=>d(x,"in_progress"),onComplete:x=>d(x,"completed")},b.id))})]},p))})]})]})},Ige=({open:e,onOpenChange:t})=>s.jsx(ni,{open:e,onOpenChange:t,children:s.jsxs(Aa,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ta,{children:s.jsx(Ma,{children:"Manage Appointments"})}),s.jsx($ge,{})]})}),Rge="",Dge=()=>{const[e,t]=y.useState(!1),r=async()=>{const{data:{session:o}}=await Pe.auth.getSession();return(o==null?void 0:o.access_token)||null},n=async o=>{t(!0);try{const l=await r(),c={"Content-Type":"application/json"};l&&(c.Authorization=`Bearer ${l}`);const u=await fetch(`${Rge}/api/prescriptions/generate-pdf`,{method:"POST",headers:c,body:JSON.stringify(o)});if(!u.ok){const f=await u.text();throw console.error("PDF generation failed:",u.status,f),new Error(`Failed to generate PDF: ${u.status}`)}const d=await u.json();if(d.success&&d.pdf_base64)return d.pdf_base64;throw new Error(d.error||"Failed to generate PDF")}catch(l){return console.error("PDF generation error:",l),le.error("Failed to generate prescription PDF"),null}finally{t(!1)}};return{loading:e,generatePDF:n,downloadPDF:async(o,l)=>{const c=await n(o);if(c){const u=atob(c),d=new Array(u.length);for(let p=0;p<u.length;p++)d[p]=u.charCodeAt(p);const f=new Uint8Array(d),h=new Blob([f],{type:"application/pdf"}),m=window.URL.createObjectURL(h),g=document.createElement("a");return g.href=m,g.download=l||`prescription_${o.prescription_id.slice(0,8)}.pdf`,document.body.appendChild(g),g.click(),document.body.removeChild(g),window.URL.revokeObjectURL(m),le.success("Prescription PDF downloaded"),!0}return!1},openPDFInNewTab:async o=>{const l=await n(o);if(l){const c=window.open("");return c&&(c.document.write(`<iframe width='100%' height='100%' src='data:application/pdf;base64,${l}'></iframe>`),c.document.title=`Prescription - ${o.medication_name}`),!0}return!1}}},N$={active:{label:"Active",variant:"default",icon:Nr,color:"text-success"},cancelled:{label:"Cancelled",variant:"destructive",icon:Hi,color:"text-destructive"},expired:{label:"Expired",variant:"secondary",icon:Su,color:"text-muted-foreground"},completed:{label:"Completed",variant:"secondary",icon:Nr,color:"text-muted-foreground"}},Cj=({prescription:e,onCancel:t,showPatient:r=!1,showClinician:n=!1,clinicianQualification:a,clinicianHPCSA:i,patientDOB:o,patientIDNumber:l})=>{const c=N$[e.status]||N$.active,u=c.icon,{loading:d,downloadPDF:f}=Dge(),h=async()=>{await f({prescription_id:e.id,patient_name:e.patient_name||"Patient",patient_dob:o,patient_id_number:l,clinician_name:e.clinician_name||"Clinician",clinician_qualification:a,clinician_hpcsa:i,medication_name:e.medication_name,dosage:e.dosage,frequency:e.frequency,duration:e.duration,quantity:e.quantity||void 0,refills:e.refills,instructions:e.instructions||void 0,pharmacy_notes:e.pharmacy_notes||void 0,prescribed_at:e.prescribed_at,expires_at:e.expires_at||void 0})};return s.jsx(se,{className:"hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-3 sm:p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start gap-3 sm:gap-4",children:[s.jsx("div",{className:"hidden sm:flex p-3 rounded-xl bg-primary/10 shrink-0",children:s.jsx(Ur,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start sm:items-center justify-between mb-2 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:hidden",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(Ur,{className:"w-4 h-4 text-primary"})}),s.jsx("h3",{className:"font-semibold text-base truncate",children:e.medication_name})]}),s.jsx("h3",{className:"hidden sm:block font-semibold text-lg truncate",children:e.medication_name}),s.jsxs(Ne,{variant:c.variant,className:"flex items-center gap-1 shrink-0 text-xs",children:[s.jsx(u,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden xs:inline",children:c.label})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Dosage:"}),s.jsx("p",{className:"font-medium text-sm",children:e.dosage})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Frequency:"}),s.jsx("p",{className:"font-medium text-sm",children:e.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Duration:"}),s.jsx("p",{className:"font-medium text-sm",children:e.duration})]}),e.quantity&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:"Quantity:"}),s.jsx("p",{className:"font-medium text-sm",children:e.quantity})]})]}),e.instructions&&s.jsx("div",{className:"bg-muted/50 rounded-lg p-2 sm:p-3 mb-3",children:s.jsxs("p",{className:"text-xs sm:text-sm",children:[s.jsx("span",{className:"font-medium",children:"Instructions:"})," ",e.instructions]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),yt(new Date(e.prescribed_at),"MMM d, yyyy")]}),e.refills>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ho,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.refills," refills"]}),r&&e.patient_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.patient_name]}),n&&e.clinician_name&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Dr. ",e.clinician_name]})]}),s.jsxs("div",{className:"mt-3 pt-3 border-t flex flex-wrap items-center gap-2",children:[s.jsxs(Z,{variant:"outline",size:"sm",onClick:h,disabled:d,className:"text-primary hover:text-primary gap-1",children:[d?s.jsx(lt,{className:"w-4 h-4 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Download PDF"}),s.jsx("span",{className:"xs:hidden",children:"PDF"})]}),t&&e.status==="active"&&s.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>t(e.id),className:"text-destructive hover:text-destructive gap-1",children:[s.jsx(Hi,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Cancel"})]})]})]})]})})})},Lge=({patientId:e,patientName:t,appointmentId:r,showAddButton:n=!0,showPatient:a=!1})=>{const{prescriptions:i,loading:o,updatePrescriptionStatus:l,getPrescriptionsForPatient:c,getPrescriptionsForAppointment:u}=AV(),[d,f]=y.useState(!1),[h,m]=y.useState([]),[g,p]=y.useState(!1);y.useEffect(()=>{(async()=>{if(r){p(!0);const N=await u(r);m(N.prescriptions||[]),p(!1)}else if(e){p(!0);const N=await c(e);m(N.prescriptions||[]),p(!1)}else m(i)})()},[e,r,i,c,u]);const v=async S=>{(await l(S,"cancelled")).success?le.success("Prescription cancelled"):le.error("Failed to cancel prescription")},b=h.filter(S=>S.status==="active"),x=h.filter(S=>S.status==="completed"),w=h.filter(S=>S.status==="cancelled"||S.status==="expired");return o||g?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsx(Wt,{className:"h-6 w-40"}),s.jsx(Wt,{className:"h-4 w-60"})]}),s.jsx(ce,{className:"space-y-4",children:[1,2].map(S=>s.jsx(Wt,{className:"h-32 w-full"},S))})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{children:"Prescriptions"})]}),n&&e&&t&&s.jsxs(Z,{size:"sm",onClick:()=>f(!0),children:[s.jsx(ff,{className:"w-4 h-4 mr-1"}),"New Prescription"]})]}),s.jsxs(Se,{children:[h.length," prescription(s)  ",b.length," active"]})]}),s.jsx(ce,{children:s.jsxs(zl,{defaultValue:"active",className:"w-full",children:[s.jsxs(ko,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(Dt,{value:"active",className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Active (",b.length,")"]}),s.jsxs(Dt,{value:"completed",className:"flex items-center gap-2",children:[s.jsx(Nr,{className:"w-4 h-4"}),"Completed (",x.length,")"]}),s.jsxs(Dt,{value:"cancelled",className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-4 h-4"}),"Cancelled (",w.length,")"]})]}),s.jsx(fr,{value:"active",className:"space-y-4",children:b.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Ur,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No active prescriptions"})]}):b.map(S=>s.jsx(Cj,{prescription:S,onCancel:v,showPatient:a},S.id))}),s.jsx(fr,{value:"completed",className:"space-y-4",children:x.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No completed prescriptions"})]}):x.map(S=>s.jsx(Cj,{prescription:S,showPatient:a},S.id))}),s.jsx(fr,{value:"cancelled",className:"space-y-4",children:w.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Hi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No cancelled prescriptions"})]}):w.map(S=>s.jsx(Cj,{prescription:S,showPatient:a},S.id))})]})}),e&&t&&s.jsx(TV,{open:d,onOpenChange:f,patientId:e,patientName:t,appointmentId:r})]})},Fge=()=>{const e=On(),[t,r]=DE(),{profile:n,role:a,signOut:i}=$r(),{queue:o,stats:l,loading:c,refetch:u}=MV(),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[g,p]=y.useState(!1),[v,b]=y.useState(!1),[x,w]=y.useState(!1),[_,S]=y.useState(null);y.useEffect(()=>{const T=t.get("notes");T&&(async()=>{try{const{data:O,error:L}=await Pe.from("appointments").select("id, patient_id").eq("id",T).single();if(L||!O){le.error("Could not find appointment");return}const{data:$}=await Pe.from("profiles").select("first_name, last_name").eq("id",O.patient_id).single(),F=$?`${$.first_name} ${$.last_name}`.trim():"Patient";S({id:O.id,patientId:O.patient_id,patientName:F}),w(!0),r({})}catch(O){console.error("Error fetching appointment for notes:",O)}})()},[t,r]);const N=()=>{const T=o.find(O=>O.status==="in_progress");if(T){e(`/consultation?appointment=${T.id}`);return}if(o.find(O=>O.status==="confirmed")){le.info("Select a patient from the queue below to start their consultation");return}le.info("No consultations ready. Confirm an appointment first from the queue below.")},k=()=>{le.info("Select a patient from the queue below to access their clinical notes")},P=a==="doctor"?"Doctor":"Nurse",A=a==="doctor"?"bg-primary":"bg-success";return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:u,disabled:c,children:[s.jsx(ho,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),"Refresh"]}),s.jsx(Ne,{className:`${A} text-white`,children:P}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[s.jsx(Z,{variant:"ghost",size:"icon",onClick:u,disabled:c,children:s.jsx(ho,{className:`w-4 h-4 ${c?"animate-spin":""}`})}),s.jsx(Ne,{className:`${A} text-white text-xs`,children:P}),s.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>b(!v),children:v?s.jsx(So,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})]}),v&&s.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:["Dr. ",n==null?void 0:n.first_name," ",n==null?void 0:n.last_name]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:i,className:"justify-start",children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Clinician Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Manage your patients and consultations"})]}),s.jsx("div",{className:"mb-6 sm:mb-8",children:s.jsx(Dhe,{stats:l,pendingNotes:0})}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-7 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>m(!0),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:s.jsx(xX,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Appointments"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"View & manage"})]})]})}),a==="nurse"&&s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-success/20 hover:border-success",onClick:()=>e("/nurse-triage"),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:s.jsx(ri,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Triage"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Assess patients"})]})]})}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:N,children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-primary/10",children:s.jsx(tr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Start Call"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Begin video call"})]})]})}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:k,children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-success/10",children:s.jsx(nn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Notes"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Clinical notes"})]})]})}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-warning/20 hover:border-warning",onClick:()=>e("/demo-consultation"),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:s.jsx(wX,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Demo"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Test video"})]})]})}),s.jsx(se,{className:`hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary ${g?"ring-2 ring-primary":""}`,onClick:()=>p(!g),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-warning/10",children:s.jsx(Ur,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Rx"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Prescriptions"})]})]})}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",onClick:()=>f(!0),children:s.jsxs(me,{className:"p-3 sm:p-4 flex flex-col items-start gap-2 pb-2",children:[s.jsx("div",{className:"p-2 sm:p-3 rounded-xl bg-secondary/20",children:s.jsx(kt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-secondary-foreground"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-sm sm:text-lg",children:"Availability"}),s.jsx(Se,{className:"text-xs hidden sm:block",children:"Set schedule"})]})]})})]}),g&&s.jsx("div",{className:"mb-6 sm:mb-8 animate-fade-in",children:s.jsx(Lge,{showPatient:!0})}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 sm:gap-8",children:[s.jsx("div",{className:"lg:col-span-2 order-1",children:s.jsx(Rme,{})}),s.jsx("div",{className:"order-2",children:s.jsx(Lme,{todayAppointments:o})})]}),s.jsx(Wme,{open:d,onOpenChange:f}),s.jsx(Ige,{open:h,onOpenChange:m}),_&&s.jsx(LP,{open:x,onOpenChange:T=>{w(T),T||S(null)},appointmentId:_.id,patientId:_.patientId,patientName:_.patientName,onComplete:()=>{le.success("Clinical notes saved successfully"),u()}})]})]})},Ty=y.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ve("w-full caption-bottom text-sm",e),...t})}));Ty.displayName="Table";const My=y.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ve("[&_tr]:border-b",e),...t}));My.displayName="TableHeader";const $y=y.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ve("[&_tr:last-child]:border-0",e),...t}));$y.displayName="TableBody";const Bge=y.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ve("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Bge.displayName="TableFooter";const mc=y.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ve("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));mc.displayName="TableRow";const ma=y.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ve("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ma.displayName="TableHead";const pa=y.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ve("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));pa.displayName="TableCell";const Uge=y.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));Uge.displayName="TableCaption";const zge="",Vge=(e=30)=>{const[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,o]=y.useState(null),l=y.useCallback(async()=>{a(!0),o(null);try{const{data:{session:c}}=await Pe.auth.getSession(),u=c==null?void 0:c.access_token,d=await fetch(`${zge}/api/analytics/dashboard?days=${e}`,{headers:u?{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}:{}});if(!d.ok)throw new Error("Failed to fetch analytics");const f=await d.json();r(f)}catch(c){console.error("Analytics fetch error:",c),o(c.message),r({overview:{total_users:0,total_patients:0,total_clinicians:0,total_appointments:0,total_consultations:0,total_prescriptions:0,appointments_today:0,appointments_this_week:0,appointments_this_month:0,completion_rate:0,average_consultation_duration:0},appointment_trends:[],consultation_types:{video:0,phone:0,in_person:0},clinician_performance:[],patient_growth:[],status_distribution:{}})}finally{a(!1)}},[e]);return y.useEffect(()=>{l()},[l]),{data:t,loading:n,error:i,refetch:l}},Wge=({overview:e})=>{const t=[{title:"Total Users",value:e.total_users,icon:kn,color:"bg-primary/10 text-primary",description:`${e.total_patients} patients, ${e.total_clinicians} clinicians`},{title:"Total Appointments",value:e.total_appointments,icon:kt,color:"bg-success/10 text-success",description:`${e.appointments_today} today, ${e.appointments_this_week} this week`},{title:"Consultations",value:e.total_consultations,icon:tr,color:"bg-info/10 text-info",description:`${e.average_consultation_duration.toFixed(1)} min avg duration`},{title:"Prescriptions",value:e.total_prescriptions,icon:Ur,color:"bg-warning/10 text-warning",description:"Total issued"},{title:"Completion Rate",value:`${e.completion_rate}%`,icon:zc,color:"bg-success/10 text-success",description:"Appointments completed"},{title:"This Month",value:e.appointments_this_month,icon:qt,color:"bg-secondary/20 text-secondary-foreground",description:"Appointments scheduled"}];return s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:t.map((r,n)=>s.jsx(se,{className:"hover:shadow-md transition-shadow",children:s.jsxs(ce,{className:"pt-4 pb-4",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("div",{className:`p-2 rounded-lg ${r.color}`,children:s.jsx(r.icon,{className:"w-4 h-4"})})}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.value}),s.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:r.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:r.description})]})},n))})};var Hge=Array.isArray,ca=Hge,qge=typeof Zg=="object"&&Zg&&Zg.Object===Object&&Zg,t9=qge,Gge=t9,Kge=typeof self=="object"&&self&&self.Object===Object&&self,Yge=Gge||Kge||Function("return this")(),Ms=Yge,Jge=Ms,Xge=Jge.Symbol,Ig=Xge,k$=Ig,r9=Object.prototype,Qge=r9.hasOwnProperty,Zge=r9.toString,Yh=k$?k$.toStringTag:void 0;function eve(e){var t=Qge.call(e,Yh),r=e[Yh];try{e[Yh]=void 0;var n=!0}catch{}var a=Zge.call(e);return n&&(t?e[Yh]=r:delete e[Yh]),a}var tve=eve,rve=Object.prototype,nve=rve.toString;function ave(e){return nve.call(e)}var ive=ave,C$=Ig,sve=tve,ove=ive,lve="[object Null]",cve="[object Undefined]",E$=C$?C$.toStringTag:void 0;function uve(e){return e==null?e===void 0?cve:lve:E$&&E$ in Object(e)?sve(e):ove(e)}var Eo=uve;function dve(e){return e!=null&&typeof e=="object"}var Po=dve,fve=Eo,hve=Po,mve="[object Symbol]";function pve(e){return typeof e=="symbol"||hve(e)&&fve(e)==mve}var gh=pve,gve=ca,vve=gh,yve=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xve=/^\w*$/;function bve(e,t){if(gve(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vve(e)?!0:xve.test(e)||!yve.test(e)||t!=null&&e in Object(t)}var qP=bve;function wve(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Wl=wve;const vh=Ct(Wl);var _ve=Eo,jve=Wl,Sve="[object AsyncFunction]",Nve="[object Function]",kve="[object GeneratorFunction]",Cve="[object Proxy]";function Eve(e){if(!jve(e))return!1;var t=_ve(e);return t==Nve||t==kve||t==Sve||t==Cve}var GP=Eve;const We=Ct(GP);var Pve=Ms,Ove=Pve["__core-js_shared__"],Ave=Ove,Ej=Ave,P$=function(){var e=/[^.]+$/.exec(Ej&&Ej.keys&&Ej.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Tve(e){return!!P$&&P$ in e}var Mve=Tve,$ve=Function.prototype,Ive=$ve.toString;function Rve(e){if(e!=null){try{return Ive.call(e)}catch{}try{return e+""}catch{}}return""}var n9=Rve,Dve=GP,Lve=Mve,Fve=Wl,Bve=n9,Uve=/[\\^$.*+?()[\]{}|]/g,zve=/^\[object .+?Constructor\]$/,Vve=Function.prototype,Wve=Object.prototype,Hve=Vve.toString,qve=Wve.hasOwnProperty,Gve=RegExp("^"+Hve.call(qve).replace(Uve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kve(e){if(!Fve(e)||Lve(e))return!1;var t=Dve(e)?Gve:zve;return t.test(Bve(e))}var Yve=Kve;function Jve(e,t){return e==null?void 0:e[t]}var Xve=Jve,Qve=Yve,Zve=Xve;function eye(e,t){var r=Zve(e,t);return Qve(r)?r:void 0}var Eu=eye,tye=Eu,rye=tye(Object,"create"),ow=rye,O$=ow;function nye(){this.__data__=O$?O$(null):{},this.size=0}var aye=nye;function iye(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sye=iye,oye=ow,lye="__lodash_hash_undefined__",cye=Object.prototype,uye=cye.hasOwnProperty;function dye(e){var t=this.__data__;if(oye){var r=t[e];return r===lye?void 0:r}return uye.call(t,e)?t[e]:void 0}var fye=dye,hye=ow,mye=Object.prototype,pye=mye.hasOwnProperty;function gye(e){var t=this.__data__;return hye?t[e]!==void 0:pye.call(t,e)}var vye=gye,yye=ow,xye="__lodash_hash_undefined__";function bye(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yye&&t===void 0?xye:t,this}var wye=bye,_ye=aye,jye=sye,Sye=fye,Nye=vye,kye=wye;function yh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yh.prototype.clear=_ye;yh.prototype.delete=jye;yh.prototype.get=Sye;yh.prototype.has=Nye;yh.prototype.set=kye;var Cye=yh;function Eye(){this.__data__=[],this.size=0}var Pye=Eye;function Oye(e,t){return e===t||e!==e&&t!==t}var KP=Oye,Aye=KP;function Tye(e,t){for(var r=e.length;r--;)if(Aye(e[r][0],t))return r;return-1}var lw=Tye,Mye=lw,$ye=Array.prototype,Iye=$ye.splice;function Rye(e){var t=this.__data__,r=Mye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Iye.call(t,r,1),--this.size,!0}var Dye=Rye,Lye=lw;function Fye(e){var t=this.__data__,r=Lye(t,e);return r<0?void 0:t[r][1]}var Bye=Fye,Uye=lw;function zye(e){return Uye(this.__data__,e)>-1}var Vye=zye,Wye=lw;function Hye(e,t){var r=this.__data__,n=Wye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var qye=Hye,Gye=Pye,Kye=Dye,Yye=Bye,Jye=Vye,Xye=qye;function xh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xh.prototype.clear=Gye;xh.prototype.delete=Kye;xh.prototype.get=Yye;xh.prototype.has=Jye;xh.prototype.set=Xye;var cw=xh,Qye=Eu,Zye=Ms,exe=Qye(Zye,"Map"),YP=exe,A$=Cye,txe=cw,rxe=YP;function nxe(){this.size=0,this.__data__={hash:new A$,map:new(rxe||txe),string:new A$}}var axe=nxe;function ixe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sxe=ixe,oxe=sxe;function lxe(e,t){var r=e.__data__;return oxe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var uw=lxe,cxe=uw;function uxe(e){var t=cxe(this,e).delete(e);return this.size-=t?1:0,t}var dxe=uxe,fxe=uw;function hxe(e){return fxe(this,e).get(e)}var mxe=hxe,pxe=uw;function gxe(e){return pxe(this,e).has(e)}var vxe=gxe,yxe=uw;function xxe(e,t){var r=yxe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var bxe=xxe,wxe=axe,_xe=dxe,jxe=mxe,Sxe=vxe,Nxe=bxe;function bh(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bh.prototype.clear=wxe;bh.prototype.delete=_xe;bh.prototype.get=jxe;bh.prototype.has=Sxe;bh.prototype.set=Nxe;var JP=bh,a9=JP,kxe="Expected a function";function XP(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kxe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(XP.Cache||a9),r}XP.Cache=a9;var i9=XP;const Cxe=Ct(i9);var Exe=i9,Pxe=500;function Oxe(e){var t=Exe(e,function(n){return r.size===Pxe&&r.clear(),n}),r=t.cache;return t}var Axe=Oxe,Txe=Axe,Mxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$xe=/\\(\\)?/g,Ixe=Txe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Mxe,function(r,n,a,i){t.push(a?i.replace($xe,"$1"):n||r)}),t}),Rxe=Ixe;function Dxe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var QP=Dxe,T$=Ig,Lxe=QP,Fxe=ca,Bxe=gh,M$=T$?T$.prototype:void 0,$$=M$?M$.toString:void 0;function s9(e){if(typeof e=="string")return e;if(Fxe(e))return Lxe(e,s9)+"";if(Bxe(e))return $$?$$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Uxe=s9,zxe=Uxe;function Vxe(e){return e==null?"":zxe(e)}var o9=Vxe,Wxe=ca,Hxe=qP,qxe=Rxe,Gxe=o9;function Kxe(e,t){return Wxe(e)?e:Hxe(e,t)?[e]:qxe(Gxe(e))}var l9=Kxe,Yxe=gh;function Jxe(e){if(typeof e=="string"||Yxe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var dw=Jxe,Xxe=l9,Qxe=dw;function Zxe(e,t){t=Xxe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Qxe(t[r++])];return r&&r==n?e:void 0}var ZP=Zxe,ebe=ZP;function tbe(e,t,r){var n=e==null?void 0:ebe(e,t);return n===void 0?r:n}var c9=tbe;const $a=Ct(c9);function rbe(e){return e==null}var nbe=rbe;const et=Ct(nbe);var abe=Eo,ibe=ca,sbe=Po,obe="[object String]";function lbe(e){return typeof e=="string"||!ibe(e)&&sbe(e)&&abe(e)==obe}var cbe=lbe;const cu=Ct(cbe);var u9={exports:{}},At={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eO=Symbol.for("react.element"),tO=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),hw=Symbol.for("react.strict_mode"),mw=Symbol.for("react.profiler"),pw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),ube=Symbol.for("react.server_context"),vw=Symbol.for("react.forward_ref"),yw=Symbol.for("react.suspense"),xw=Symbol.for("react.suspense_list"),bw=Symbol.for("react.memo"),ww=Symbol.for("react.lazy"),dbe=Symbol.for("react.offscreen"),d9;d9=Symbol.for("react.module.reference");function fi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case eO:switch(e=e.type,e){case fw:case mw:case hw:case yw:case xw:return e;default:switch(e=e&&e.$$typeof,e){case ube:case gw:case vw:case ww:case bw:case pw:return e;default:return t}}case tO:return t}}}At.ContextConsumer=gw;At.ContextProvider=pw;At.Element=eO;At.ForwardRef=vw;At.Fragment=fw;At.Lazy=ww;At.Memo=bw;At.Portal=tO;At.Profiler=mw;At.StrictMode=hw;At.Suspense=yw;At.SuspenseList=xw;At.isAsyncMode=function(){return!1};At.isConcurrentMode=function(){return!1};At.isContextConsumer=function(e){return fi(e)===gw};At.isContextProvider=function(e){return fi(e)===pw};At.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===eO};At.isForwardRef=function(e){return fi(e)===vw};At.isFragment=function(e){return fi(e)===fw};At.isLazy=function(e){return fi(e)===ww};At.isMemo=function(e){return fi(e)===bw};At.isPortal=function(e){return fi(e)===tO};At.isProfiler=function(e){return fi(e)===mw};At.isStrictMode=function(e){return fi(e)===hw};At.isSuspense=function(e){return fi(e)===yw};At.isSuspenseList=function(e){return fi(e)===xw};At.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===fw||e===mw||e===hw||e===yw||e===xw||e===dbe||typeof e=="object"&&e!==null&&(e.$$typeof===ww||e.$$typeof===bw||e.$$typeof===pw||e.$$typeof===gw||e.$$typeof===vw||e.$$typeof===d9||e.getModuleId!==void 0)};At.typeOf=fi;u9.exports=At;var fbe=u9.exports,hbe=Eo,mbe=Po,pbe="[object Number]";function gbe(e){return typeof e=="number"||mbe(e)&&hbe(e)==pbe}var f9=gbe;const vbe=Ct(f9);var ybe=f9;function xbe(e){return ybe(e)&&e!=+e}var bbe=xbe;const wh=Ct(bbe);var Bn=function(t){return t===0?0:t>0?1:-1},Cc=function(t){return cu(t)&&t.indexOf("%")===t.length-1},pe=function(t){return vbe(t)&&!wh(t)},wbe=function(t){return et(t)},Vr=function(t){return pe(t)||cu(t)},_be=0,Pu=function(t){var r=++_be;return"".concat(t||"").concat(r)},Un=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!cu(t))return n;var i;if(Cc(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wh(i)&&(i=n),a&&i>r&&(i=r),i},Zo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},jbe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Br=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function zx(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):$a(n,t))===r})}var Sbe=function(t,r){return pe(t)&&pe(r)?t-r:cu(t)&&cu(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Vd(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function pN(e){"@babel/helpers - typeof";return pN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pN(e)}var Nbe=["viewBox","children"],kbe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],I$=["points","pathLength"],Pj={svg:Nbe,polygon:I$,polyline:I$},rO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vx=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!vh(n))return null;var a={};return Object.keys(n).forEach(function(i){rO.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Cbe=function(t,r,n){return function(a){return t(r,n,a),null}},uu=function(t,r,n){if(!vh(t)||pN(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];rO.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Cbe(o,r,n))}),a},Ebe=["children"],Pbe=["children"];function R$(e,t){if(e==null)return{};var r=Obe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Obe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gN(e){"@babel/helpers - typeof";return gN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gN(e)}var D$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ao=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},L$=null,Oj=null,nO=function e(t){if(t===L$&&Array.isArray(Oj))return Oj;var r=[];return y.Children.forEach(t,function(n){et(n)||(fbe.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Oj=r,L$=t,r};function Ia(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return ao(a)}):n=[ao(t)],nO(e).forEach(function(a){var i=$a(a,"type.displayName")||$a(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function xa(e,t){var r=Ia(e,t);return r&&r[0]}var F$=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!pe(n)||n<=0||!pe(a)||a<=0)},Abe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Tbe=function(t){return t&&t.type&&cu(t.type)&&Abe.indexOf(t.type)>=0},h9=function(t){return t&&gN(t)==="object"&&"clipDot"in t},Mbe=function(t,r,n,a){var i,o=(i=Pj==null?void 0:Pj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!We(t)&&(a&&o.includes(r)||kbe.includes(r))||n&&rO.includes(r)},Re=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!vh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Mbe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},vN=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return B$(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!B$(i,o))return!1}return!0},B$=function(t,r){if(et(t)&&et(r))return!0;if(!et(t)&&!et(r)){var n=t.props||{},a=n.children,i=R$(n,Ebe),o=r.props||{},l=o.children,c=R$(o,Pbe);return a&&l?Vd(i,c)&&vN(a,l):!a&&!l?Vd(i,c):!1}return!1},U$=function(t,r){var n=[],a={};return nO(t).forEach(function(i,o){if(Tbe(i))n.push(i);else if(i){var l=ao(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},$be=function(t){var r=t&&t.type;return r&&D$[r]?D$[r]:null},Ibe=function(t,r){return nO(r).indexOf(t)},Rbe=["children","width","height","viewBox","className","style","title","desc"];function yN(){return yN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yN.apply(this,arguments)}function Dbe(e,t){if(e==null)return{};var r=Lbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xN(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Dbe(e,Rbe),d=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",i);return M.createElement("svg",yN({},Re(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),M.createElement("title",null,l),M.createElement("desc",null,c),t)}var Fbe=["children","className"];function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bN.apply(this,arguments)}function Bbe(e,t){if(e==null)return{};var r=Ube(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ube(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dt=M.forwardRef(function(e,t){var r=e.children,n=e.className,a=Bbe(e,Fbe),i=tt("recharts-layer",n);return M.createElement("g",bN({className:i},Re(a,!0),{ref:t}),r)}),Ui=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function zbe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var Vbe=zbe,Wbe=Vbe;function Hbe(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Wbe(e,t,r)}var qbe=Hbe,Gbe="\\ud800-\\udfff",Kbe="\\u0300-\\u036f",Ybe="\\ufe20-\\ufe2f",Jbe="\\u20d0-\\u20ff",Xbe=Kbe+Ybe+Jbe,Qbe="\\ufe0e\\ufe0f",Zbe="\\u200d",e0e=RegExp("["+Zbe+Gbe+Xbe+Qbe+"]");function t0e(e){return e0e.test(e)}var m9=t0e;function r0e(e){return e.split("")}var n0e=r0e,p9="\\ud800-\\udfff",a0e="\\u0300-\\u036f",i0e="\\ufe20-\\ufe2f",s0e="\\u20d0-\\u20ff",o0e=a0e+i0e+s0e,l0e="\\ufe0e\\ufe0f",c0e="["+p9+"]",wN="["+o0e+"]",_N="\\ud83c[\\udffb-\\udfff]",u0e="(?:"+wN+"|"+_N+")",g9="[^"+p9+"]",v9="(?:\\ud83c[\\udde6-\\uddff]){2}",y9="[\\ud800-\\udbff][\\udc00-\\udfff]",d0e="\\u200d",x9=u0e+"?",b9="["+l0e+"]?",f0e="(?:"+d0e+"(?:"+[g9,v9,y9].join("|")+")"+b9+x9+")*",h0e=b9+x9+f0e,m0e="(?:"+[g9+wN+"?",wN,v9,y9,c0e].join("|")+")",p0e=RegExp(_N+"(?="+_N+")|"+m0e+h0e,"g");function g0e(e){return e.match(p0e)||[]}var v0e=g0e,y0e=n0e,x0e=m9,b0e=v0e;function w0e(e){return x0e(e)?b0e(e):y0e(e)}var _0e=w0e,j0e=qbe,S0e=m9,N0e=_0e,k0e=o9;function C0e(e){return function(t){t=k0e(t);var r=S0e(t)?N0e(t):void 0,n=r?r[0]:t.charAt(0),a=r?j0e(r,1).join(""):t.slice(1);return n[e]()+a}}var E0e=C0e,P0e=E0e,O0e=P0e("toUpperCase"),A0e=O0e;const _w=Ct(A0e);function zt(e){return function(){return e}}const w9=Math.cos,Wx=Math.sin,es=Math.sqrt,Hx=Math.PI,jw=2*Hx,jN=Math.PI,SN=2*jN,pc=1e-6,T0e=SN-pc;function _9(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function M0e(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _9;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class $0e{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_9:M0e(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>pc)if(!(Math.abs(f*c-u*d)>pc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,p=c*c+u*u,v=m*m+g*g,b=Math.sqrt(p),x=Math.sqrt(h),w=i*Math.tan((jN-Math.acos((p+h-v)/(2*b*x)))/2),_=w/x,S=w/b;Math.abs(_-1)>pc&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pc||Math.abs(this._y1-d)>pc)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%SN+SN),h>T0e?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>pc&&this._append`A${n},${n},0,${+(h>=jN)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function aO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new $0e(t)}function iO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function j9(e){this._context=e}j9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Sw(e){return new j9(e)}function S9(e){return e[0]}function N9(e){return e[1]}function k9(e,t){var r=zt(!0),n=null,a=Sw,i=null,o=aO(l);e=typeof e=="function"?e:e===void 0?S9:zt(e),t=typeof t=="function"?t:t===void 0?N9:zt(t);function l(c){var u,d=(c=iO(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:zt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:zt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:zt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function Mv(e,t,r){var n=null,a=zt(!0),i=null,o=Sw,l=null,c=aO(u);e=typeof e=="function"?e:e===void 0?S9:zt(+e),t=typeof t=="function"?t:zt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?N9:zt(+r);function u(f){var h,m,g,p=(f=iO(f)).length,v,b=!1,x,w=new Array(p),_=new Array(p);for(i==null&&(l=o(x=c())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(v,h,f),_[h]=+t(v,h,f),l.point(n?+n(v,h,f):w[h],r?+r(v,h,f):_[h]))}if(x)return l=null,x+""||null}function d(){return k9().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:zt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:zt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:zt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:zt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class C9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function I0e(e){return new C9(e,!0)}function R0e(e){return new C9(e,!1)}const sO={draw(e,t){const r=es(t/Hx);e.moveTo(r,0),e.arc(0,0,r,0,jw)}},D0e={draw(e,t){const r=es(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},E9=es(1/3),L0e=E9*2,F0e={draw(e,t){const r=es(t/L0e),n=r*E9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},B0e={draw(e,t){const r=es(t),n=-r/2;e.rect(n,n,r,r)}},U0e=.8908130915292852,P9=Wx(Hx/10)/Wx(7*Hx/10),z0e=Wx(jw/10)*P9,V0e=-w9(jw/10)*P9,W0e={draw(e,t){const r=es(t*U0e),n=z0e*r,a=V0e*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=jw*i/5,l=w9(o),c=Wx(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},Aj=es(3),H0e={draw(e,t){const r=-es(t/(Aj*3));e.moveTo(0,r*2),e.lineTo(-Aj*r,-r),e.lineTo(Aj*r,-r),e.closePath()}},Wa=-.5,Ha=es(3)/2,NN=1/es(12),q0e=(NN/2+1)*3,G0e={draw(e,t){const r=es(t/q0e),n=r/2,a=r*NN,i=n,o=r*NN+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Wa*n-Ha*a,Ha*n+Wa*a),e.lineTo(Wa*i-Ha*o,Ha*i+Wa*o),e.lineTo(Wa*l-Ha*c,Ha*l+Wa*c),e.lineTo(Wa*n+Ha*a,Wa*a-Ha*n),e.lineTo(Wa*i+Ha*o,Wa*o-Ha*i),e.lineTo(Wa*l+Ha*c,Wa*c-Ha*l),e.closePath()}};function K0e(e,t){let r=null,n=aO(a);e=typeof e=="function"?e:zt(e||sO),t=typeof t=="function"?t:zt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:zt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:zt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function qx(){}function Gx(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function O9(e){this._context=e}O9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y0e(e){return new O9(e)}function A9(e){this._context=e}A9.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Gx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J0e(e){return new A9(e)}function T9(e){this._context=e}T9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Gx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function X0e(e){return new T9(e)}function M9(e){this._context=e}M9.prototype={areaStart:qx,areaEnd:qx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Q0e(e){return new M9(e)}function z$(e){return e<0?-1:1}function V$(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(z$(i)+z$(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function W$(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Tj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function Kx(e){this._context=e}Kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tj(this,this._t0,W$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tj(this,W$(this,r=V$(this,e,t)),r);break;default:Tj(this,this._t0,r=V$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $9(e){this._context=new I9(e)}($9.prototype=Object.create(Kx.prototype)).point=function(e,t){Kx.prototype.point.call(this,t,e)};function I9(e){this._context=e}I9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Z0e(e){return new Kx(e)}function ewe(e){return new $9(e)}function R9(e){this._context=e}R9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=H$(e),a=H$(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function H$(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function twe(e){return new R9(e)}function Nw(e,t){this._context=e,this._t=t}Nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rwe(e){return new Nw(e,.5)}function nwe(e){return new Nw(e,0)}function awe(e){return new Nw(e,1)}function Sf(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function kN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iwe(e,t){return e[t]}function swe(e){const t=[];return t.key=e,t}function owe(){var e=zt([]),t=kN,r=Sf,n=iwe;function a(i){var o=Array.from(e.apply(this,arguments),swe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=iO(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:zt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:zt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?kN:typeof i=="function"?i:zt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Sf,a):r},a}function lwe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Sf(e,t)}}function cwe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Sf(e,t)}}function uwe(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],v=p[n][1]||0,b=p[n-1][1]||0;m+=v-b}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Sf(e,t)}}function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}var dwe=["type","size","sizeType"];function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function G$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q$(Object(r),!0).forEach(function(n){fwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fwe(e,t,r){return t=hwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hwe(e){var t=mwe(e,"string");return Cp(t)=="symbol"?t:t+""}function mwe(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pwe(e,t){if(e==null)return{};var r=gwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var D9={symbolCircle:sO,symbolCross:D0e,symbolDiamond:F0e,symbolSquare:B0e,symbolStar:W0e,symbolTriangle:H0e,symbolWye:G0e},vwe=Math.PI/180,ywe=function(t){var r="symbol".concat(_w(t));return D9[r]||sO},xwe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*vwe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bwe=function(t,r){D9["symbol".concat(_w(t))]=r},oO=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=pwe(t,dwe),u=G$(G$({},c),{},{type:n,size:i,sizeType:l}),d=function(){var v=ywe(n),b=K0e().type(v).size(xwe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=Re(u,!0);return h===+h&&m===+m&&i===+i?M.createElement("path",CN({},g,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};oO.registerSymbol=bwe;function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function EN(){return EN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EN.apply(this,arguments)}function K$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wwe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K$(Object(r),!0).forEach(function(n){Ep(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jwe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F9(n.key),n)}}function Swe(e,t,r){return t&&jwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nwe(e,t,r){return t=Yx(t),kwe(e,L9()?Reflect.construct(t,r||[],Yx(e).constructor):t.apply(e,r))}function kwe(e,t){if(t&&(Nf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cwe(e)}function Cwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!e})()}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yx(e)}function Ewe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PN(e,t)}function PN(e,t){return PN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PN(e,t)}function Ep(e,t,r){return t=F9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=Pwe(e,"string");return Nf(t)=="symbol"?t:t+""}function Pwe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qa=32,lO=function(e){function t(){return _we(this,t),Nwe(this,t,arguments)}return Ewe(t,e),Swe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=qa/2,o=qa/6,l=qa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:qa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(qa,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return M.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(qa/8,"h").concat(qa,"v").concat(qa*3/4,"h").concat(-qa,"z"),className:"recharts-legend-icon"});if(M.isValidElement(n.legendIcon)){var u=wwe({},n);return delete u.legendIcon,M.cloneElement(n.legendIcon,u)}return M.createElement(oO,{fill:c,cx:i,cy:i,size:qa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:qa,height:qa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,v=tt(Ep(Ep({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=We(m.value)?null:m.value;Ui(!We(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=m.inactive?u:m.color;return M.createElement("li",EN({className:v,style:f,key:"legend-item-".concat(g)},uu(n.props,m,g)),M.createElement(xN,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);Ep(lO,"displayName","Legend");Ep(lO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Owe=cw;function Awe(){this.__data__=new Owe,this.size=0}var Twe=Awe;function Mwe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $we=Mwe;function Iwe(e){return this.__data__.get(e)}var Rwe=Iwe;function Dwe(e){return this.__data__.has(e)}var Lwe=Dwe,Fwe=cw,Bwe=YP,Uwe=JP,zwe=200;function Vwe(e,t){var r=this.__data__;if(r instanceof Fwe){var n=r.__data__;if(!Bwe||n.length<zwe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Uwe(n)}return r.set(e,t),this.size=r.size,this}var Wwe=Vwe,Hwe=cw,qwe=Twe,Gwe=$we,Kwe=Rwe,Ywe=Lwe,Jwe=Wwe;function _h(e){var t=this.__data__=new Hwe(e);this.size=t.size}_h.prototype.clear=qwe;_h.prototype.delete=Gwe;_h.prototype.get=Kwe;_h.prototype.has=Ywe;_h.prototype.set=Jwe;var B9=_h,Xwe="__lodash_hash_undefined__";function Qwe(e){return this.__data__.set(e,Xwe),this}var Zwe=Qwe;function e_e(e){return this.__data__.has(e)}var t_e=e_e,r_e=JP,n_e=Zwe,a_e=t_e;function Jx(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new r_e;++t<r;)this.add(e[t])}Jx.prototype.add=Jx.prototype.push=n_e;Jx.prototype.has=a_e;var U9=Jx;function i_e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var z9=i_e;function s_e(e,t){return e.has(t)}var V9=s_e,o_e=U9,l_e=z9,c_e=V9,u_e=1,d_e=2;function f_e(e,t,r,n,a,i){var o=r&u_e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&d_e?new o_e:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var v=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!l_e(t,function(b,x){if(!c_e(m,x)&&(g===b||a(g,b,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var W9=f_e,h_e=Ms,m_e=h_e.Uint8Array,p_e=m_e;function g_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var v_e=g_e;function y_e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var cO=y_e,Y$=Ig,J$=p_e,x_e=KP,b_e=W9,w_e=v_e,__e=cO,j_e=1,S_e=2,N_e="[object Boolean]",k_e="[object Date]",C_e="[object Error]",E_e="[object Map]",P_e="[object Number]",O_e="[object RegExp]",A_e="[object Set]",T_e="[object String]",M_e="[object Symbol]",$_e="[object ArrayBuffer]",I_e="[object DataView]",X$=Y$?Y$.prototype:void 0,Mj=X$?X$.valueOf:void 0;function R_e(e,t,r,n,a,i,o){switch(r){case I_e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $_e:return!(e.byteLength!=t.byteLength||!i(new J$(e),new J$(t)));case N_e:case k_e:case P_e:return x_e(+e,+t);case C_e:return e.name==t.name&&e.message==t.message;case O_e:case T_e:return e==t+"";case E_e:var l=w_e;case A_e:var c=n&j_e;if(l||(l=__e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=S_e,o.set(e,t);var d=b_e(l(e),l(t),n,a,i,o);return o.delete(e),d;case M_e:if(Mj)return Mj.call(e)==Mj.call(t)}return!1}var D_e=R_e;function L_e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var H9=L_e,F_e=H9,B_e=ca;function U_e(e,t,r){var n=t(e);return B_e(e)?n:F_e(n,r(e))}var z_e=U_e;function V_e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var W_e=V_e;function H_e(){return[]}var q_e=H_e,G_e=W_e,K_e=q_e,Y_e=Object.prototype,J_e=Y_e.propertyIsEnumerable,Q$=Object.getOwnPropertySymbols,X_e=Q$?function(e){return e==null?[]:(e=Object(e),G_e(Q$(e),function(t){return J_e.call(e,t)}))}:K_e,Q_e=X_e;function Z_e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var eje=Z_e,tje=Eo,rje=Po,nje="[object Arguments]";function aje(e){return rje(e)&&tje(e)==nje}var ije=aje,Z$=ije,sje=Po,q9=Object.prototype,oje=q9.hasOwnProperty,lje=q9.propertyIsEnumerable,cje=Z$(function(){return arguments}())?Z$:function(e){return sje(e)&&oje.call(e,"callee")&&!lje.call(e,"callee")},uO=cje,Xx={exports:{}};function uje(){return!1}var dje=uje;Xx.exports;(function(e,t){var r=Ms,n=dje,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Xx,Xx.exports);var G9=Xx.exports,fje=9007199254740991,hje=/^(?:0|[1-9]\d*)$/;function mje(e,t){var r=typeof e;return t=t??fje,!!t&&(r=="number"||r!="symbol"&&hje.test(e))&&e>-1&&e%1==0&&e<t}var dO=mje,pje=9007199254740991;function gje(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pje}var fO=gje,vje=Eo,yje=fO,xje=Po,bje="[object Arguments]",wje="[object Array]",_je="[object Boolean]",jje="[object Date]",Sje="[object Error]",Nje="[object Function]",kje="[object Map]",Cje="[object Number]",Eje="[object Object]",Pje="[object RegExp]",Oje="[object Set]",Aje="[object String]",Tje="[object WeakMap]",Mje="[object ArrayBuffer]",$je="[object DataView]",Ije="[object Float32Array]",Rje="[object Float64Array]",Dje="[object Int8Array]",Lje="[object Int16Array]",Fje="[object Int32Array]",Bje="[object Uint8Array]",Uje="[object Uint8ClampedArray]",zje="[object Uint16Array]",Vje="[object Uint32Array]",Jt={};Jt[Ije]=Jt[Rje]=Jt[Dje]=Jt[Lje]=Jt[Fje]=Jt[Bje]=Jt[Uje]=Jt[zje]=Jt[Vje]=!0;Jt[bje]=Jt[wje]=Jt[Mje]=Jt[_je]=Jt[$je]=Jt[jje]=Jt[Sje]=Jt[Nje]=Jt[kje]=Jt[Cje]=Jt[Eje]=Jt[Pje]=Jt[Oje]=Jt[Aje]=Jt[Tje]=!1;function Wje(e){return xje(e)&&yje(e.length)&&!!Jt[vje(e)]}var Hje=Wje;function qje(e){return function(t){return e(t)}}var K9=qje,Qx={exports:{}};Qx.exports;(function(e,t){var r=t9,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Qx,Qx.exports);var Gje=Qx.exports,Kje=Hje,Yje=K9,eI=Gje,tI=eI&&eI.isTypedArray,Jje=tI?Yje(tI):Kje,Y9=Jje,Xje=eje,Qje=uO,Zje=ca,e1e=G9,t1e=dO,r1e=Y9,n1e=Object.prototype,a1e=n1e.hasOwnProperty;function i1e(e,t){var r=Zje(e),n=!r&&Qje(e),a=!r&&!n&&e1e(e),i=!r&&!n&&!a&&r1e(e),o=r||n||a||i,l=o?Xje(e.length,String):[],c=l.length;for(var u in e)(t||a1e.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||t1e(u,c)))&&l.push(u);return l}var s1e=i1e,o1e=Object.prototype;function l1e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||o1e;return e===r}var c1e=l1e;function u1e(e,t){return function(r){return e(t(r))}}var J9=u1e,d1e=J9,f1e=d1e(Object.keys,Object),h1e=f1e,m1e=c1e,p1e=h1e,g1e=Object.prototype,v1e=g1e.hasOwnProperty;function y1e(e){if(!m1e(e))return p1e(e);var t=[];for(var r in Object(e))v1e.call(e,r)&&r!="constructor"&&t.push(r);return t}var x1e=y1e,b1e=GP,w1e=fO;function _1e(e){return e!=null&&w1e(e.length)&&!b1e(e)}var Rg=_1e,j1e=s1e,S1e=x1e,N1e=Rg;function k1e(e){return N1e(e)?j1e(e):S1e(e)}var kw=k1e,C1e=z_e,E1e=Q_e,P1e=kw;function O1e(e){return C1e(e,P1e,E1e)}var A1e=O1e,rI=A1e,T1e=1,M1e=Object.prototype,$1e=M1e.hasOwnProperty;function I1e(e,t,r,n,a,i){var o=r&T1e,l=rI(e),c=l.length,u=rI(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:$1e.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=o;++f<c;){h=l[f];var b=e[h],x=t[h];if(n)var w=o?n(x,b,h,t,e,i):n(b,x,h,e,t,i);if(!(w===void 0?b===x||a(b,x,r,n,i):w)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(p=!1)}return i.delete(e),i.delete(t),p}var R1e=I1e,D1e=Eu,L1e=Ms,F1e=D1e(L1e,"DataView"),B1e=F1e,U1e=Eu,z1e=Ms,V1e=U1e(z1e,"Promise"),W1e=V1e,H1e=Eu,q1e=Ms,G1e=H1e(q1e,"Set"),X9=G1e,K1e=Eu,Y1e=Ms,J1e=K1e(Y1e,"WeakMap"),X1e=J1e,ON=B1e,AN=YP,TN=W1e,MN=X9,$N=X1e,Q9=Eo,jh=n9,nI="[object Map]",Q1e="[object Object]",aI="[object Promise]",iI="[object Set]",sI="[object WeakMap]",oI="[object DataView]",Z1e=jh(ON),eSe=jh(AN),tSe=jh(TN),rSe=jh(MN),nSe=jh($N),gc=Q9;(ON&&gc(new ON(new ArrayBuffer(1)))!=oI||AN&&gc(new AN)!=nI||TN&&gc(TN.resolve())!=aI||MN&&gc(new MN)!=iI||$N&&gc(new $N)!=sI)&&(gc=function(e){var t=Q9(e),r=t==Q1e?e.constructor:void 0,n=r?jh(r):"";if(n)switch(n){case Z1e:return oI;case eSe:return nI;case tSe:return aI;case rSe:return iI;case nSe:return sI}return t});var aSe=gc,$j=B9,iSe=W9,sSe=D_e,oSe=R1e,lI=aSe,cI=ca,uI=G9,lSe=Y9,cSe=1,dI="[object Arguments]",fI="[object Array]",$v="[object Object]",uSe=Object.prototype,hI=uSe.hasOwnProperty;function dSe(e,t,r,n,a,i){var o=cI(e),l=cI(t),c=o?fI:lI(e),u=l?fI:lI(t);c=c==dI?$v:c,u=u==dI?$v:u;var d=c==$v,f=u==$v,h=c==u;if(h&&uI(e)){if(!uI(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new $j),o||lSe(e)?iSe(e,t,r,n,a,i):sSe(e,t,c,r,n,a,i);if(!(r&cSe)){var m=d&&hI.call(e,"__wrapped__"),g=f&&hI.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,v=g?t.value():t;return i||(i=new $j),a(p,v,r,n,i)}}return h?(i||(i=new $j),oSe(e,t,r,n,a,i)):!1}var fSe=dSe,hSe=fSe,mI=Po;function Z9(e,t,r,n,a){return e===t?!0:e==null||t==null||!mI(e)&&!mI(t)?e!==e&&t!==t:hSe(e,t,r,n,Z9,a)}var hO=Z9,mSe=B9,pSe=hO,gSe=1,vSe=2;function ySe(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new mSe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?pSe(d,u,gSe|vSe,n,f):h))return!1}}return!0}var xSe=ySe,bSe=Wl;function wSe(e){return e===e&&!bSe(e)}var eH=wSe,_Se=eH,jSe=kw;function SSe(e){for(var t=jSe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,_Se(a)]}return t}var NSe=SSe;function kSe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var tH=kSe,CSe=xSe,ESe=NSe,PSe=tH;function OSe(e){var t=ESe(e);return t.length==1&&t[0][2]?PSe(t[0][0],t[0][1]):function(r){return r===e||CSe(r,e,t)}}var ASe=OSe;function TSe(e,t){return e!=null&&t in Object(e)}var MSe=TSe,$Se=l9,ISe=uO,RSe=ca,DSe=dO,LSe=fO,FSe=dw;function BSe(e,t,r){t=$Se(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=FSe(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&LSe(a)&&DSe(o,a)&&(RSe(e)||ISe(e)))}var USe=BSe,zSe=MSe,VSe=USe;function WSe(e,t){return e!=null&&VSe(e,t,zSe)}var HSe=WSe,qSe=hO,GSe=c9,KSe=HSe,YSe=qP,JSe=eH,XSe=tH,QSe=dw,ZSe=1,eNe=2;function tNe(e,t){return YSe(e)&&JSe(t)?XSe(QSe(e),t):function(r){var n=GSe(r,e);return n===void 0&&n===t?KSe(r,e):qSe(t,n,ZSe|eNe)}}var rNe=tNe;function nNe(e){return e}var Sh=nNe;function aNe(e){return function(t){return t==null?void 0:t[e]}}var iNe=aNe,sNe=ZP;function oNe(e){return function(t){return sNe(t,e)}}var lNe=oNe,cNe=iNe,uNe=lNe,dNe=qP,fNe=dw;function hNe(e){return dNe(e)?cNe(fNe(e)):uNe(e)}var mNe=hNe,pNe=ASe,gNe=rNe,vNe=Sh,yNe=ca,xNe=mNe;function bNe(e){return typeof e=="function"?e:e==null?vNe:typeof e=="object"?yNe(e)?gNe(e[0],e[1]):pNe(e):xNe(e)}var $s=bNe;function wNe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var rH=wNe;function _Ne(e){return e!==e}var jNe=_Ne;function SNe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var NNe=SNe,kNe=rH,CNe=jNe,ENe=NNe;function PNe(e,t,r){return t===t?ENe(e,t,r):kNe(e,CNe,r)}var ONe=PNe,ANe=ONe;function TNe(e,t){var r=e==null?0:e.length;return!!r&&ANe(e,t,0)>-1}var MNe=TNe;function $Ne(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var INe=$Ne;function RNe(){}var DNe=RNe,Ij=X9,LNe=DNe,FNe=cO,BNe=1/0,UNe=Ij&&1/FNe(new Ij([,-0]))[1]==BNe?function(e){return new Ij(e)}:LNe,zNe=UNe,VNe=U9,WNe=MNe,HNe=INe,qNe=V9,GNe=zNe,KNe=cO,YNe=200;function JNe(e,t,r){var n=-1,a=WNe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=HNe;else if(i>=YNe){var u=t?null:GNe(e);if(u)return KNe(u);o=!1,a=qNe,c=new VNe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var XNe=JNe,QNe=$s,ZNe=XNe;function eke(e,t){return e&&e.length?ZNe(e,QNe(t)):[]}var tke=eke;const pI=Ct(tke);function nH(e,t,r){return t===!0?pI(e,r):We(t)?pI(e,t):e}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}var rke=["ref"];function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){Cw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iH(n.key),n)}}function ake(e,t,r){return t&&vI(e.prototype,t),r&&vI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ike(e,t,r){return t=Zx(t),ske(e,aH()?Reflect.construct(t,r||[],Zx(e).constructor):t.apply(e,r))}function ske(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oke(e)}function oke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!e})()}function Zx(e){return Zx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zx(e)}function lke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IN(e,t)}function IN(e,t){return IN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IN(e,t)}function Cw(e,t,r){return t=iH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=cke(e,"string");return kf(t)=="symbol"?t:t+""}function cke(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uke(e,t){if(e==null)return{};var r=dke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fke(e){return e.value}function hke(e,t){if(M.isValidElement(e))return M.cloneElement(e,t);if(typeof e=="function")return M.createElement(e,t);t.ref;var r=uke(t,rke);return M.createElement(lO,r)}var yI=1,io=function(e){function t(){var r;nke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ike(this,t,[].concat(a)),Cw(r,"lastBoundingBox",{width:-1,height:-1}),r}return lke(t,e),ake(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>yI||Math.abs(a.height-this.lastBoundingBox.height)>yI)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Fs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Fs(Fs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=Fs(Fs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},hke(i,Fs(Fs({},this.props),{},{payload:nH(d,u,fke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Fs(Fs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);Cw(io,"displayName","Legend");Cw(io,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xI=Ig,mke=uO,pke=ca,bI=xI?xI.isConcatSpreadable:void 0;function gke(e){return pke(e)||mke(e)||!!(bI&&e&&e[bI])}var vke=gke,yke=H9,xke=vke;function sH(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=xke),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?sH(l,t-1,r,n,a):yke(a,l):n||(a[a.length]=l)}return a}var oH=sH;function bke(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var wke=bke,_ke=wke,jke=_ke(),Ske=jke,Nke=Ske,kke=kw;function Cke(e,t){return e&&Nke(e,t,kke)}var lH=Cke,Eke=Rg;function Pke(e,t){return function(r,n){if(r==null)return r;if(!Eke(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Oke=Pke,Ake=lH,Tke=Oke,Mke=Tke(Ake),mO=Mke,$ke=mO,Ike=Rg;function Rke(e,t){var r=-1,n=Ike(e)?Array(e.length):[];return $ke(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var cH=Rke;function Dke(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Lke=Dke,wI=gh;function Fke(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=wI(e),o=t!==void 0,l=t===null,c=t===t,u=wI(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Bke=Fke,Uke=Bke;function zke(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Uke(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Vke=zke,Rj=QP,Wke=ZP,Hke=$s,qke=cH,Gke=Lke,Kke=K9,Yke=Vke,Jke=Sh,Xke=ca;function Qke(e,t,r){t.length?t=Rj(t,function(i){return Xke(i)?function(o){return Wke(o,i.length===1?i[0]:i)}:i}):t=[Jke];var n=-1;t=Rj(t,Kke(Hke));var a=qke(e,function(i,o,l){var c=Rj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Gke(a,function(i,o){return Yke(i,o,r)})}var Zke=Qke;function eCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var tCe=eCe,rCe=tCe,_I=Math.max;function nCe(e,t,r){return t=_I(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=_I(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),rCe(e,this,l)}}var aCe=nCe;function iCe(e){return function(){return e}}var sCe=iCe,oCe=Eu,lCe=function(){try{var e=oCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),uH=lCe,cCe=sCe,jI=uH,uCe=Sh,dCe=jI?function(e,t){return jI(e,"toString",{configurable:!0,enumerable:!1,value:cCe(t),writable:!0})}:uCe,fCe=dCe,hCe=800,mCe=16,pCe=Date.now;function gCe(e){var t=0,r=0;return function(){var n=pCe(),a=mCe-(n-r);if(r=n,a>0){if(++t>=hCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vCe=gCe,yCe=fCe,xCe=vCe,bCe=xCe(yCe),wCe=bCe,_Ce=Sh,jCe=aCe,SCe=wCe;function NCe(e,t){return SCe(jCe(e,t,_Ce),e+"")}var kCe=NCe,CCe=KP,ECe=Rg,PCe=dO,OCe=Wl;function ACe(e,t,r){if(!OCe(r))return!1;var n=typeof t;return(n=="number"?ECe(r)&&PCe(t,r.length):n=="string"&&t in r)?CCe(r[t],e):!1}var Ew=ACe,TCe=oH,MCe=Zke,$Ce=kCe,SI=Ew,ICe=$Ce(function(e,t){if(e==null)return[];var r=t.length;return r>1&&SI(e,t[0],t[1])?t=[]:r>2&&SI(t[0],t[1],t[2])&&(t=[t[0]]),MCe(e,TCe(t,1),[])}),RCe=ICe;const pO=Ct(RCe);function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(this,arguments)}function DCe(e,t){return UCe(e)||BCe(e,t)||FCe(e,t)||LCe()}function LCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(e,t){if(e){if(typeof e=="string")return NI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NI(e,t)}}function NI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function UCe(e){if(Array.isArray(e))return e}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){zCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zCe(e,t,r){return t=VCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VCe(e){var t=WCe(e,"string");return Pp(t)=="symbol"?t:t+""}function WCe(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HCe(e){return Array.isArray(e)&&Vr(e[0])&&Vr(e[1])?e.join(" ~ "):e}var qCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,v=t.labelFormatter,b=t.accessibilityLayer,x=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},L=(h?pO(d,h):d).map(function($,F){if($.type==="none")return null;var z=Dj({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),V=$.formatter||f||HCe,R=$.value,U=$.name,K=R,re=U;if(V&&K!=null&&re!=null){var ee=V(R,U,$,F,d);if(Array.isArray(ee)){var j=DCe(ee,2);K=j[0],re=j[1]}else K=ee}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:z},Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Vr(re)?M.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,M.createElement("span",{className:"recharts-tooltip-item-value"},K),M.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:O},L)}return null},_=Dj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),S=Dj({margin:0},u),N=!et(p),k=N?p:"",P=tt("recharts-default-tooltip",m),A=tt("recharts-tooltip-label",g);N&&v&&d!==void 0&&d!==null&&(k=v(p,d));var T=x?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",RN({className:P,style:_},T),M.createElement("p",{className:A,style:S},M.isValidElement(k)?k:"".concat(k)),w())};function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function Iv(e,t,r){return t=GCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GCe(e){var t=KCe(e,"string");return Op(t)=="symbol"?t:t+""}function KCe(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jh="recharts-tooltip-wrapper",YCe={visibility:"hidden"};function JCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(Jh,Iv(Iv(Iv(Iv({},"".concat(Jh,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Jh,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Jh,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Jh,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function CI(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&pe(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function XCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=CI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=CI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=XCe({translateX:d,translateY:f,useTranslate3d:l})):u=YCe,{cssProperties:u,cssClasses:JCe({translateX:d,translateY:f,coordinate:r})}}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){LN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fH(n.key),n)}}function tEe(e,t,r){return t&&eEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rEe(e,t,r){return t=eb(t),nEe(e,dH()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function nEe(e,t){if(t&&(Cf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function iEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&DN(e,t)}function DN(e,t){return DN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DN(e,t)}function LN(e,t,r){return t=fH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fH(e){var t=sEe(e,"string");return Cf(t)=="symbol"?t:t+""}function sEe(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var OI=1,oEe=function(e){function t(){var r;ZCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=rEe(this,t,[].concat(a)),LN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),LN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return iEe(t,e),tEe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>OI||Math.abs(n.height-this.state.lastBoundingBox.height)>OI)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,m=a.offset,g=a.position,p=a.reverseDirection,v=a.useTranslate3d,b=a.viewBox,x=a.wrapperStyle,w=QCe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:b}),_=w.cssClasses,S=w.cssProperties,N=PI(PI({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},x);return M.createElement("div",{tabIndex:-1,className:_,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(y.PureComponent),lEe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Hl={isSsr:lEe()};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function AI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(r),!0).forEach(function(n){gO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mH(n.key),n)}}function dEe(e,t,r){return t&&uEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fEe(e,t,r){return t=tb(t),hEe(e,hH()?Reflect.construct(t,r||[],tb(e).constructor):t.apply(e,r))}function hEe(e,t){if(t&&(Ef(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mEe(e)}function mEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function tb(e){return tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tb(e)}function pEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&FN(e,t)}function FN(e,t){return FN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FN(e,t)}function gO(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=gEe(e,"string");return Ef(t)=="symbol"?t:t+""}function gEe(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function vEe(e){return e.dataKey}function yEe(e,t){return M.isValidElement(e)?M.cloneElement(e,t):typeof e=="function"?M.createElement(e,t):M.createElement(qCe,t)}var wa=function(e){function t(){return cEe(this,t),fEe(this,t,arguments)}return pEe(t,e),dEe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,m=a.offset,g=a.payload,p=a.payloadUniqBy,v=a.position,b=a.reverseDirection,x=a.useTranslate3d,w=a.viewBox,_=a.wrapperStyle,S=g??[];f&&S.length&&(S=nH(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),p,vEe));var N=S.length>0;return M.createElement(oEe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:m,position:v,reverseDirection:b,useTranslate3d:x,viewBox:w,wrapperStyle:_},yEe(u,TI(TI({},this.props),{},{payload:S})))}}])}(y.PureComponent);gO(wa,"displayName","Tooltip");gO(wa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Hl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var xEe=Ms,bEe=function(){return xEe.Date.now()},wEe=bEe,_Ee=/\s/;function jEe(e){for(var t=e.length;t--&&_Ee.test(e.charAt(t)););return t}var SEe=jEe,NEe=SEe,kEe=/^\s+/;function CEe(e){return e&&e.slice(0,NEe(e)+1).replace(kEe,"")}var EEe=CEe,PEe=EEe,MI=Wl,OEe=gh,$I=NaN,AEe=/^[-+]0x[0-9a-f]+$/i,TEe=/^0b[01]+$/i,MEe=/^0o[0-7]+$/i,$Ee=parseInt;function IEe(e){if(typeof e=="number")return e;if(OEe(e))return $I;if(MI(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=MI(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=PEe(e);var r=TEe.test(e);return r||MEe.test(e)?$Ee(e.slice(2),r?2:8):AEe.test(e)?$I:+e}var pH=IEe,REe=Wl,Lj=wEe,II=pH,DEe="Expected a function",LEe=Math.max,FEe=Math.min;function BEe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(DEe);t=II(t)||0,REe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?LEe(II(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(N){var k=n,P=a;return n=a=void 0,u=N,o=e.apply(P,k),o}function g(N){return u=N,l=setTimeout(b,t),d?m(N):o}function p(N){var k=N-c,P=N-u,A=t-k;return f?FEe(A,i-P):A}function v(N){var k=N-c,P=N-u;return c===void 0||k>=t||k<0||f&&P>=i}function b(){var N=Lj();if(v(N))return x(N);l=setTimeout(b,p(N))}function x(N){return l=void 0,h&&n?m(N):(n=a=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function _(){return l===void 0?o:x(Lj())}function S(){var N=Lj(),k=v(N);if(n=arguments,a=this,c=N,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return S.cancel=w,S.flush=_,S}var UEe=BEe,zEe=UEe,VEe=Wl,WEe="Expected a function";function HEe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(WEe);return VEe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),zEe(e,t,{leading:n,maxWait:t,trailing:a})}var qEe=HEe;const gH=Ct(qEe);function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){GEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GEe(e,t,r){return t=KEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KEe(e){var t=YEe(e,"string");return Ap(t)=="symbol"?t:t+""}function YEe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JEe(e,t){return ePe(e)||ZEe(e,t)||QEe(e,t)||XEe()}function XEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QEe(e,t){if(e){if(typeof e=="string")return DI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DI(e,t)}}function DI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ePe(e){if(Array.isArray(e))return e}var Pw=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,v=e.id,b=e.className,x=e.onResize,w=e.style,_=w===void 0?{}:w,S=y.useRef(null),N=y.useRef();N.current=x,y.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=y.useState({containerWidth:a.width,containerHeight:a.height}),P=JEe(k,2),A=P[0],T=P[1],I=y.useCallback(function(L,$){T(function(F){var z=Math.round(L),V=Math.round($);return F.containerWidth===z&&F.containerHeight===V?F:{containerWidth:z,containerHeight:V}})},[]);y.useEffect(function(){var L=function(U){var K,re=U[0].contentRect,ee=re.width,j=re.height;I(ee,j),(K=N.current)===null||K===void 0||K.call(N,ee,j)};p>0&&(L=gH(L,p,{trailing:!0,leading:!1}));var $=new ResizeObserver(L),F=S.current.getBoundingClientRect(),z=F.width,V=F.height;return I(z,V),$.observe(S.current),function(){$.disconnect()}},[I,p]);var O=y.useMemo(function(){var L=A.containerWidth,$=A.containerHeight;if(L<0||$<0)return null;Ui(Cc(o)||Cc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ui(!r||r>0,"The aspect(%s) must be greater than zero.",r);var F=Cc(o)?L:o,z=Cc(c)?$:c;r&&r>0&&(F?z=F/r:z&&(F=z*r),h&&z>h&&(z=h)),Ui(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,o,c,d,f,r);var V=!Array.isArray(m)&&ao(m.type).endsWith("Chart");return M.Children.map(m,function(R){return M.isValidElement(R)?y.cloneElement(R,Rv({width:F,height:z},V?{style:Rv({height:"100%",width:"100%",maxHeight:z,maxWidth:F},R.props.style)}:{})):R})},[r,m,c,h,f,d,A,o]);return M.createElement("div",{id:v?"".concat(v):void 0,className:tt("recharts-responsive-container",b),style:Rv(Rv({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:S},O)}),Dg=function(t){return null};Dg.displayName="Cell";function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){tPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tPe(e,t,r){return t=rPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rPe(e){var t=nPe(e,"string");return Tp(t)=="symbol"?t:t+""}function nPe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ju={widthCache:{},cacheCount:0},aPe=2e3,iPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FI="recharts_measurement_span";function sPe(e){var t=BN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Mm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hl.isSsr)return{width:0,height:0};var n=sPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Ju.widthCache[a])return Ju.widthCache[a];try{var i=document.getElementById(FI);i||(i=document.createElement("span"),i.setAttribute("id",FI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=BN(BN({},iPe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Ju.widthCache[a]=c,++Ju.cacheCount>aPe&&(Ju.cacheCount=0,Ju.widthCache={}),c}catch{return{width:0,height:0}}},oPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Mp(e){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mp(e)}function rb(e,t){return dPe(e)||uPe(e,t)||cPe(e,t)||lPe()}function lPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cPe(e,t){if(e){if(typeof e=="string")return BI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BI(e,t)}}function BI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function dPe(e){if(Array.isArray(e))return e}function fPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mPe(n.key),n)}}function hPe(e,t,r){return t&&UI(e.prototype,t),r&&UI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mPe(e){var t=pPe(e,"string");return Mp(t)=="symbol"?t:t+""}function pPe(e,t){if(Mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vPe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,vH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yPe=Object.keys(vH),Sd="NaN";function xPe(e,t){return e*vH[t]}var Dv=function(){function e(t,r){fPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!gPe.test(r)&&(this.num=NaN,this.unit=""),yPe.includes(r)&&(this.num=xPe(t,r),this.unit="px")}return hPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=vPe.exec(r))!==null&&n!==void 0?n:[],i=rb(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function yH(e){if(e.includes(Sd))return Sd;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=zI.exec(t))!==null&&r!==void 0?r:[],a=rb(n,4),i=a[1],o=a[2],l=a[3],c=Dv.parse(i??""),u=Dv.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Sd;t=t.replace(zI,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=VI.exec(t))!==null&&f!==void 0?f:[],m=rb(h,4),g=m[1],p=m[2],v=m[3],b=Dv.parse(g??""),x=Dv.parse(v??""),w=p==="+"?b.add(x):b.subtract(x);if(w.isNaN())return Sd;t=t.replace(VI,w.toString())}return t}var WI=/\(([^()]*)\)/;function bPe(e){for(var t=e;t.includes("(");){var r=WI.exec(t),n=rb(r,2),a=n[1];t=t.replace(WI,yH(a))}return t}function wPe(e){var t=e.replace(/\s+/g,"");return t=bPe(t),t=yH(t),t}function _Pe(e){try{return wPe(e)}catch{return Sd}}function Fj(e){var t=_Pe(e.slice(5,-1));return t===Sd?"":t}var jPe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],SPe=["dx","dy","angle","className","breakAll"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UN.apply(this,arguments)}function HI(e,t){if(e==null)return{};var r=NPe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qI(e,t){return PPe(e)||EPe(e,t)||CPe(e,t)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(e,t){if(e){if(typeof e=="string")return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}}function GI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function PPe(e){if(Array.isArray(e))return e}var xH=/[ \f\n\r\t\v\u2028\u2029]+/,bH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];et(r)||(n?i=r.toString().split(""):i=r.toString().split(xH));var o=i.map(function(c){return{word:c,width:Mm(c,a).width}}),l=n?0:Mm("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},OPe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(z,V){var R=V.word,U=V.width,K=z[z.length-1];if(K&&(a==null||i||K.width+U+n<Number(a)))K.words.push(R),K.width+=U+n;else{var re={words:[R],width:U};z.push(re)}return z},[])},m=h(r),g=function(F){return F.reduce(function(z,V){return z.width>V.width?z:V})};if(!d)return m;for(var p="",v=function(F){var z=f.slice(0,F),V=bH({breakAll:u,style:c,children:z+p}).wordsWithComputedWidth,R=h(V),U=R.length>o||g(R).width>Number(a);return[U,R]},b=0,x=f.length-1,w=0,_;b<=x&&w<=f.length-1;){var S=Math.floor((b+x)/2),N=S-1,k=v(N),P=qI(k,2),A=P[0],T=P[1],I=v(S),O=qI(I,1),L=O[0];if(!A&&!L&&(b=S+1),A&&L&&(x=S-1),!A&&L){_=T;break}w++}return _||m},KI=function(t){var r=et(t)?[]:t.toString().split(xH);return[{words:r}]},APe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Hl.isSsr){var c,u,d=bH({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return KI(a);return OPe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return KI(a)},YI="#808080",du=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,v=t.fill,b=v===void 0?YI:v,x=HI(t,jPe),w=y.useMemo(function(){return APe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:f,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,f,x.style,x.width]),_=x.dx,S=x.dy,N=x.angle,k=x.className,P=x.breakAll,A=HI(x,SPe);if(!Vr(n)||!Vr(i))return null;var T=n+(pe(_)?_:0),I=i+(pe(S)?S:0),O;switch(p){case"start":O=Fj("calc(".concat(u,")"));break;case"middle":O=Fj("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Fj("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var $=w[0].width,F=x.width;L.push("scale(".concat((pe(F)?F/$:1)/$,")"))}return N&&L.push("rotate(".concat(N,", ").concat(T,", ").concat(I,")")),L.length&&(A.transform=L.join(" ")),M.createElement("text",UN({},Re(A,!0),{x:T,y:I,className:tt("recharts-text",k),textAnchor:m,fill:b.includes("url")?YI:b}),w.map(function(z,V){var R=z.words.join(P?"":" ");return M.createElement("tspan",{x:T,dy:V===0?O:l,key:"".concat(R,"-").concat(V)},R)}))};function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TPe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vO(e){let t,r,n;e.length!==2?(t=jl,r=(l,c)=>jl(e(l),c),n=(l,c)=>e(l)-c):(t=e===jl||e===TPe?e:MPe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function MPe(){return 0}function wH(e){return e===null?NaN:+e}function*$Pe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const IPe=vO(jl),Lg=IPe.right;vO(wH).center;class JI extends Map{constructor(t,r=LPe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(XI(this,t))}has(t){return super.has(XI(this,t))}set(t,r){return super.set(RPe(this,t),r)}delete(t){return super.delete(DPe(this,t))}}function XI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function DPe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function LPe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FPe(e=jl){if(e===jl)return _H;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function _H(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BPe=Math.sqrt(50),UPe=Math.sqrt(10),zPe=Math.sqrt(2);function nb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=BPe?10:i>=UPe?5:i>=zPe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?nb(e,t,r*2):[l,c,u]}function zN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?nb(t,e,r):nb(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function VN(e,t,r){return t=+t,e=+e,r=+r,nb(e,t,r)[2]}function WN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?VN(t,e,r):VN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function QI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function ZI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?_H:FPe(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));jH(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Xh(e,r,t),a(e[n],i)>0&&Xh(e,r,n);o<l;){for(Xh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Xh(e,r,l):(++l,Xh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Xh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VPe(e,t,r){if(e=Float64Array.from($Pe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return ZI(e);if(t>=1)return QI(e);var n,a=(n-1)*t,i=Math.floor(a),o=QI(jH(e,i).subarray(0,i+1)),l=ZI(e.subarray(i+1));return o+(l-o)*(a-i)}}function WPe(e,t,r=wH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function HPe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function hi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const HN=Symbol("implicit");function yO(){var e=new JI,t=[],r=[],n=HN;function a(i){let o=e.get(i);if(o===void 0){if(n!==HN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new JI;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return yO(t,r).unknown(n)},hi.apply(a,arguments),a}function $p(){var e=yO().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,p=m?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=HPe(h).map(function(b){return g+i*b});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $p(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},hi.apply(f(),arguments)}function SH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return SH(t())},e}function $m(){return SH($p.apply(null,arguments).paddingInner(1))}function xO(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function NH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fg(){}var Ip=.7,ab=1/Ip,Wd="\\s*([+-]?\\d+)\\s*",Rp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qPe=/^#([0-9a-f]{3,8})$/,GPe=new RegExp(`^rgb\\(${Wd},${Wd},${Wd}\\)$`),KPe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),YPe=new RegExp(`^rgba\\(${Wd},${Wd},${Wd},${Rp}\\)$`),JPe=new RegExp(`^rgba\\(${js},${js},${js},${Rp}\\)$`),XPe=new RegExp(`^hsl\\(${Rp},${js},${js}\\)$`),QPe=new RegExp(`^hsla\\(${Rp},${js},${js},${Rp}\\)$`),eR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xO(Fg,Dp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tR,formatHex:tR,formatHex8:ZPe,formatHsl:eOe,formatRgb:rR,toString:rR});function tR(){return this.rgb().formatHex()}function ZPe(){return this.rgb().formatHex8()}function eOe(){return kH(this).formatHsl()}function rR(){return this.rgb().formatRgb()}function Dp(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qPe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nR(t):r===3?new ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GPe.exec(e))?new ra(t[1],t[2],t[3],1):(t=KPe.exec(e))?new ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YPe.exec(e))?Lv(t[1],t[2],t[3],t[4]):(t=JPe.exec(e))?Lv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XPe.exec(e))?sR(t[1],t[2]/100,t[3]/100,1):(t=QPe.exec(e))?sR(t[1],t[2]/100,t[3]/100,t[4]):eR.hasOwnProperty(e)?nR(eR[e]):e==="transparent"?new ra(NaN,NaN,NaN,0):null}function nR(e){return new ra(e>>16&255,e>>8&255,e&255,1)}function Lv(e,t,r,n){return n<=0&&(e=t=r=NaN),new ra(e,t,r,n)}function tOe(e){return e instanceof Fg||(e=Dp(e)),e?(e=e.rgb(),new ra(e.r,e.g,e.b,e.opacity)):new ra}function qN(e,t,r,n){return arguments.length===1?tOe(e):new ra(e,t,r,n??1)}function ra(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}xO(ra,qN,NH(Fg,{brighter(e){return e=e==null?ab:Math.pow(ab,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ip:Math.pow(Ip,e),new ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ra(Vc(this.r),Vc(this.g),Vc(this.b),ib(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:aR,formatHex:aR,formatHex8:rOe,formatRgb:iR,toString:iR}));function aR(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}`}function rOe(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}${Ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function iR(){const e=ib(this.opacity);return`${e===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${e===1?")":`, ${e})`}`}function ib(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ec(e){return e=Vc(e),(e<16?"0":"")+e.toString(16)}function sR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ri(e,t,r,n)}function kH(e){if(e instanceof Ri)return new Ri(e.h,e.s,e.l,e.opacity);if(e instanceof Fg||(e=Dp(e)),!e)return new Ri;if(e instanceof Ri)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Ri(o,l,c,e.opacity)}function nOe(e,t,r,n){return arguments.length===1?kH(e):new Ri(e,t,r,n??1)}function Ri(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}xO(Ri,nOe,NH(Fg,{brighter(e){return e=e==null?ab:Math.pow(ab,e),new Ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ip:Math.pow(Ip,e),new Ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ra(Bj(e>=240?e-240:e+120,a,n),Bj(e,a,n),Bj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ri(oR(this.h),Fv(this.s),Fv(this.l),ib(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ib(this.opacity);return`${e===1?"hsl(":"hsla("}${oR(this.h)}, ${Fv(this.s)*100}%, ${Fv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oR(e){return e=(e||0)%360,e<0?e+360:e}function Fv(e){return Math.max(0,Math.min(1,e||0))}function Bj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const bO=e=>()=>e;function aOe(e,t){return function(r){return e+r*t}}function iOe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sOe(e){return(e=+e)==1?CH:function(t,r){return r-t?iOe(t,r,e):bO(isNaN(t)?r:t)}}function CH(e,t){var r=t-e;return r?aOe(e,r):bO(isNaN(e)?t:e)}const lR=function e(t){var r=sOe(t);function n(a,i){var o=r((a=qN(a)).r,(i=qN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=CH(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function oOe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function lOe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cOe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Nh(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function uOe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dOe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Nh(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var GN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uj=new RegExp(GN.source,"g");function fOe(e){return function(){return e}}function hOe(e){return function(t){return e(t)+""}}function mOe(e,t){var r=GN.lastIndex=Uj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=GN.exec(e))&&(a=Uj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:sb(n,a)})),r=Uj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?hOe(c[0].x):fOe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nh(e,t){var r=typeof t,n;return t==null||r==="boolean"?bO(t):(r==="number"?sb:r==="string"?(n=Dp(t))?(t=n,lR):mOe:t instanceof Dp?lR:t instanceof Date?uOe:lOe(t)?oOe:Array.isArray(t)?cOe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dOe:sb)(e,t)}function wO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function pOe(e,t){t===void 0&&(t=e,e=Nh);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function gOe(e){return function(){return e}}function ob(e){return+e}var cR=[0,1];function zn(e){return e}function KN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:gOe(isNaN(t)?NaN:.5)}function vOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yOe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=KN(a,n),i=r(o,i)):(n=KN(n,a),i=r(i,o)),function(l){return i(n(l))}}function xOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=KN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=Lg(e,l,1,n)-1;return i[c](a[c](l))}}function Bg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ow(){var e=cR,t=cR,r=Nh,n,a,i,o=zn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==zn&&(o=vOe(e[0],e[h-1])),l=h>2?xOe:yOe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),sb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,ob),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=wO,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zn,d()):o!==zn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function _O(){return Ow()(zn,zn)}function bOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pf(e){return e=lb(Math.abs(e)),e?e[1]:NaN}function wOe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function _Oe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var jOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(e){if(!(t=jOe.exec(e)))throw new Error("invalid format: "+e);var t;return new jO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Lp.prototype=jO.prototype;function jO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var cb;function NOe(e,t){var r=lb(e,t);if(!r)return cb=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(cb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lb(e,Math.max(0,t+i-1))[0]}function uR(e,t){var r=lb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const dR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uR(e*100,t),r:uR,s:NOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fR(e){return e}var hR=Array.prototype.map,mR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kOe(e){var t=e.grouping===void 0||e.thousands===void 0?fR:wOe(hR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?fR:_Oe(hR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Lp(f);var m=f.fill,g=f.align,p=f.sign,v=f.symbol,b=f.zero,x=f.width,w=f.comma,_=f.precision,S=f.trim,N=f.type;N==="n"?(w=!0,N="g"):dR[N]||(_===void 0&&(_=12),S=!0,N="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?r:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(v==="$"?n:/[%p]/.test(N)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=dR[N],T=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var L=k,$=P,F,z,V;if(N==="c")$=A(O)+$,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),_),S&&(O=SOe(O)),R&&+O==0&&p!=="+"&&(R=!1),L=(R?p==="("?p:l:p==="-"||p==="("?"":p)+L,$=(N==="s"&&!isNaN(O)&&cb!==void 0?mR[8+cb/3]:"")+$+(R&&p==="("?")":""),T){for(F=-1,z=O.length;++F<z;)if(V=O.charCodeAt(F),48>V||V>57){$=(V===46?a+O.slice(F+1):O.slice(F))+$,O=O.slice(0,F);break}}}w&&!b&&(O=t(O,1/0));var U=L.length+O.length+$.length,K=U<x?new Array(x-U+1).join(m):"";switch(w&&b&&(O=t(K+O,K.length?x-$.length:1/0),K=""),g){case"<":O=L+O+$+K;break;case"=":O=L+K+O+$;break;case"^":O=K.slice(0,U=K.length>>1)+L+O+$+K.slice(U);break;default:O=K+L+O+$;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Pf(h)/3)))*3,g=Math.pow(10,-m),p=u((f=Lp(f),f.type="f",f),{suffix:mR[8+m/3]});return function(v){return p(g*v)}}return{format:u,formatPrefix:d}}var Bv,SO,EH;COe({thousands:",",grouping:[3],currency:["$",""]});function COe(e){return Bv=kOe(e),SO=Bv.format,EH=Bv.formatPrefix,Bv}function EOe(e){return Math.max(0,-Pf(Math.abs(e)))}function POe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pf(t)/3)))*3-Pf(Math.abs(e)))}function OOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pf(t)-Pf(e))+1}function PH(e,t,r,n){var a=WN(e,t,r),i;switch(n=Lp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=POe(a,o))&&(n.precision=i),EH(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=OOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return SO(n)}function ql(e){var t=e.domain;return e.ticks=function(r){var n=t();return zN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return PH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=VN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ub(){var e=_O();return e.copy=function(){return Bg(e,ub())},hi.apply(e,arguments),ql(e)}function OH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,ob),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return OH(e).unknown(t)},e=arguments.length?Array.from(e,ob):[0,1],ql(r)}function AH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function pR(e){return Math.log(e)}function gR(e){return Math.exp(e)}function AOe(e){return-Math.log(-e)}function TOe(e){return-Math.exp(-e)}function MOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $Oe(e){return e===10?MOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vR(e){return(t,r)=>-e(-t,r)}function NO(e){const t=e(pR,gR),r=t.domain;let n=10,a,i;function o(){return a=IOe(n),i=$Oe(n),r()[0]<0?(a=vR(a),i=vR(i),e(AOe,TOe)):e(pR,gR),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,p;const v=l==null?10:+l;let b=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<v&&(b=zN(u,d,v))}else b=zN(h,m,Math.min(m-h,v)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lp(c)).precision==null&&(c.trim=!0),c=SO(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(AH(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function TH(){const e=NO(Ow()).domain([1,10]);return e.copy=()=>Bg(e,TH()).base(e.base()),hi.apply(e,arguments),e}function yR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xR(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kO(e){var t=1,r=e(yR(t),xR(t));return r.constant=function(n){return arguments.length?e(yR(t=+n),xR(t)):t},ql(r)}function MH(){var e=kO(Ow());return e.copy=function(){return Bg(e,MH()).constant(e.constant())},hi.apply(e,arguments)}function bR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ROe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DOe(e){return e<0?-e*e:e*e}function CO(e){var t=e(zn,zn),r=1;function n(){return r===1?e(zn,zn):r===.5?e(ROe,DOe):e(bR(r),bR(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ql(t)}function EO(){var e=CO(Ow());return e.copy=function(){return Bg(e,EO()).exponent(e.exponent())},hi.apply(e,arguments),e}function LOe(){return EO.apply(null,arguments).exponent(.5)}function wR(e){return Math.sign(e)*e*e}function FOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $H(){var e=_O(),t=[0,1],r=!1,n;function a(i){var o=FOe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(wR(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,ob)).map(wR)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $H(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},hi.apply(a,arguments),ql(a)}function IH(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=WPe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Lg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(jl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return IH().domain(e).range(t).unknown(n)},hi.apply(i,arguments)}function RH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Lg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return RH().domain([e,t]).range(a).unknown(i)},hi.apply(ql(o),arguments)}function DH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Lg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return DH().domain(e).range(t).unknown(r)},hi.apply(a,arguments)}const zj=new Date,Vj=new Date;function qr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>qr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(zj.setTime(+i),Vj.setTime(+o),e(zj),e(Vj),Math.floor(r(zj,Vj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const db=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);db.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):db);db.range;const Qs=1e3,Za=Qs*60,Zs=Za*60,xo=Zs*24,PO=xo*7,_R=xo*30,Wj=xo*365,Pc=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qs)},(e,t)=>(t-e)/Qs,e=>e.getUTCSeconds());Pc.range;const OO=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qs)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getMinutes());OO.range;const AO=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Za)},(e,t)=>(t-e)/Za,e=>e.getUTCMinutes());AO.range;const TO=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qs-e.getMinutes()*Za)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getHours());TO.range;const MO=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zs)},(e,t)=>(t-e)/Zs,e=>e.getUTCHours());MO.range;const Ug=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Za)/xo,e=>e.getDate()-1);Ug.range;const Aw=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>e.getUTCDate()-1);Aw.range;const LH=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xo,e=>Math.floor(e/xo));LH.range;function Ou(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Za)/PO)}const Tw=Ou(0),fb=Ou(1),BOe=Ou(2),UOe=Ou(3),Of=Ou(4),zOe=Ou(5),VOe=Ou(6);Tw.range;fb.range;BOe.range;UOe.range;Of.range;zOe.range;VOe.range;function Au(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/PO)}const Mw=Au(0),hb=Au(1),WOe=Au(2),HOe=Au(3),Af=Au(4),qOe=Au(5),GOe=Au(6);Mw.range;hb.range;WOe.range;HOe.range;Af.range;qOe.range;GOe.range;const $O=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());$O.range;const IO=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IO.range;const bo=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());bo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});bo.range;const wo=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());wo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});wo.range;function FH(e,t,r,n,a,i){const o=[[Pc,1,Qs],[Pc,5,5*Qs],[Pc,15,15*Qs],[Pc,30,30*Qs],[i,1,Za],[i,5,5*Za],[i,15,15*Za],[i,30,30*Za],[a,1,Zs],[a,3,3*Zs],[a,6,6*Zs],[a,12,12*Zs],[n,1,xo],[n,2,2*xo],[r,1,PO],[t,1,_R],[t,3,3*_R],[e,1,Wj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=vO(([,,v])=>v).right(o,h);if(m===o.length)return e.every(WN(u/Wj,d/Wj,f));if(m===0)return db.every(Math.max(WN(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[KOe,YOe]=FH(wo,IO,Mw,LH,MO,AO),[JOe,XOe]=FH(bo,$O,Tw,Ug,TO,OO);function Hj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function QOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Zh(a),d=em(a),f=Zh(i),h=em(i),m=Zh(o),g=em(o),p=Zh(l),v=em(l),b=Zh(c),x=em(c),w={a:V,A:R,b:U,B:K,c:null,d:ER,e:ER,f:wAe,g:AAe,G:MAe,H:yAe,I:xAe,j:bAe,L:BH,m:_Ae,M:jAe,p:re,q:ee,Q:AR,s:TR,S:SAe,u:NAe,U:kAe,V:CAe,w:EAe,W:PAe,x:null,X:null,y:OAe,Y:TAe,Z:$Ae,"%":OR},_={a:j,A:E,b:C,B,c:null,d:PR,e:PR,f:LAe,g:KAe,G:JAe,H:IAe,I:RAe,j:DAe,L:zH,m:FAe,M:BAe,p:D,q:G,Q:AR,s:TR,S:UAe,u:zAe,U:VAe,V:WAe,w:HAe,W:qAe,x:null,X:null,y:GAe,Y:YAe,Z:XAe,"%":OR},S={a:T,A:I,b:O,B:L,c:$,d:kR,e:kR,f:mAe,g:NR,G:SR,H:CR,I:CR,j:uAe,L:hAe,m:cAe,M:dAe,p:A,q:lAe,Q:gAe,s:vAe,S:fAe,u:nAe,U:aAe,V:iAe,w:rAe,W:sAe,x:F,X:z,y:NR,Y:SR,Z:oAe,"%":pAe};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(q,J){return function(te){var Y=[],be=-1,ke=0,Je=q.length,He,Be,st;for(te instanceof Date||(te=new Date(+te));++be<Je;)q.charCodeAt(be)===37&&(Y.push(q.slice(ke,be)),(Be=jR[He=q.charAt(++be)])!=null?He=q.charAt(++be):Be=He==="e"?" ":"0",(st=J[He])&&(He=st(te,Be)),Y.push(He),ke=be+1);return Y.push(q.slice(ke,be)),Y.join("")}}function k(q,J){return function(te){var Y=Qh(1900,void 0,1),be=P(Y,q,te+="",0),ke,Je;if(be!=te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(J&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(ke=qj(Qh(Y.y,0,1)),Je=ke.getUTCDay(),ke=Je>4||Je===0?hb.ceil(ke):hb(ke),ke=Aw.offset(ke,(Y.V-1)*7),Y.y=ke.getUTCFullYear(),Y.m=ke.getUTCMonth(),Y.d=ke.getUTCDate()+(Y.w+6)%7):(ke=Hj(Qh(Y.y,0,1)),Je=ke.getDay(),ke=Je>4||Je===0?fb.ceil(ke):fb(ke),ke=Ug.offset(ke,(Y.V-1)*7),Y.y=ke.getFullYear(),Y.m=ke.getMonth(),Y.d=ke.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Je="Z"in Y?qj(Qh(Y.y,0,1)).getUTCDay():Hj(Qh(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Je+5)%7:Y.w+Y.U*7-(Je+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,qj(Y)):Hj(Y)}}function P(q,J,te,Y){for(var be=0,ke=J.length,Je=te.length,He,Be;be<ke;){if(Y>=Je)return-1;if(He=J.charCodeAt(be++),He===37){if(He=J.charAt(be++),Be=S[He in jR?J.charAt(be++):He],!Be||(Y=Be(q,te,Y))<0)return-1}else if(He!=te.charCodeAt(Y++))return-1}return Y}function A(q,J,te){var Y=u.exec(J.slice(te));return Y?(q.p=d.get(Y[0].toLowerCase()),te+Y[0].length):-1}function T(q,J,te){var Y=m.exec(J.slice(te));return Y?(q.w=g.get(Y[0].toLowerCase()),te+Y[0].length):-1}function I(q,J,te){var Y=f.exec(J.slice(te));return Y?(q.w=h.get(Y[0].toLowerCase()),te+Y[0].length):-1}function O(q,J,te){var Y=b.exec(J.slice(te));return Y?(q.m=x.get(Y[0].toLowerCase()),te+Y[0].length):-1}function L(q,J,te){var Y=p.exec(J.slice(te));return Y?(q.m=v.get(Y[0].toLowerCase()),te+Y[0].length):-1}function $(q,J,te){return P(q,t,J,te)}function F(q,J,te){return P(q,r,J,te)}function z(q,J,te){return P(q,n,J,te)}function V(q){return o[q.getDay()]}function R(q){return i[q.getDay()]}function U(q){return c[q.getMonth()]}function K(q){return l[q.getMonth()]}function re(q){return a[+(q.getHours()>=12)]}function ee(q){return 1+~~(q.getMonth()/3)}function j(q){return o[q.getUTCDay()]}function E(q){return i[q.getUTCDay()]}function C(q){return c[q.getUTCMonth()]}function B(q){return l[q.getUTCMonth()]}function D(q){return a[+(q.getUTCHours()>=12)]}function G(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var J=N(q+="",w);return J.toString=function(){return q},J},parse:function(q){var J=k(q+="",!1);return J.toString=function(){return q},J},utcFormat:function(q){var J=N(q+="",_);return J.toString=function(){return q},J},utcParse:function(q){var J=k(q+="",!0);return J.toString=function(){return q},J}}}var jR={"-":"",_:" ",0:"0"},an=/^\s*\d+/,ZOe=/^%/,eAe=/[\\^$*+?|[\]().{}]/g;function wt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function tAe(e){return e.replace(eAe,"\\$&")}function Zh(e){return new RegExp("^(?:"+e.map(tAe).join("|")+")","i")}function em(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rAe(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nAe(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function SR(e,t,r){var n=an.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function NR(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oAe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lAe(e,t,r){var n=an.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kR(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function uAe(e,t,r){var n=an.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function CR(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fAe(e,t,r){var n=an.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hAe(e,t,r){var n=an.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mAe(e,t,r){var n=an.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pAe(e,t,r){var n=ZOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function gAe(e,t,r){var n=an.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function vAe(e,t,r){var n=an.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ER(e,t){return wt(e.getDate(),t,2)}function yAe(e,t){return wt(e.getHours(),t,2)}function xAe(e,t){return wt(e.getHours()%12||12,t,2)}function bAe(e,t){return wt(1+Ug.count(bo(e),e),t,3)}function BH(e,t){return wt(e.getMilliseconds(),t,3)}function wAe(e,t){return BH(e,t)+"000"}function _Ae(e,t){return wt(e.getMonth()+1,t,2)}function jAe(e,t){return wt(e.getMinutes(),t,2)}function SAe(e,t){return wt(e.getSeconds(),t,2)}function NAe(e){var t=e.getDay();return t===0?7:t}function kAe(e,t){return wt(Tw.count(bo(e)-1,e),t,2)}function UH(e){var t=e.getDay();return t>=4||t===0?Of(e):Of.ceil(e)}function CAe(e,t){return e=UH(e),wt(Of.count(bo(e),e)+(bo(e).getDay()===4),t,2)}function EAe(e){return e.getDay()}function PAe(e,t){return wt(fb.count(bo(e)-1,e),t,2)}function OAe(e,t){return wt(e.getFullYear()%100,t,2)}function AAe(e,t){return e=UH(e),wt(e.getFullYear()%100,t,2)}function TAe(e,t){return wt(e.getFullYear()%1e4,t,4)}function MAe(e,t){var r=e.getDay();return e=r>=4||r===0?Of(e):Of.ceil(e),wt(e.getFullYear()%1e4,t,4)}function $Ae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+wt(t/60|0,"0",2)+wt(t%60,"0",2)}function PR(e,t){return wt(e.getUTCDate(),t,2)}function IAe(e,t){return wt(e.getUTCHours(),t,2)}function RAe(e,t){return wt(e.getUTCHours()%12||12,t,2)}function DAe(e,t){return wt(1+Aw.count(wo(e),e),t,3)}function zH(e,t){return wt(e.getUTCMilliseconds(),t,3)}function LAe(e,t){return zH(e,t)+"000"}function FAe(e,t){return wt(e.getUTCMonth()+1,t,2)}function BAe(e,t){return wt(e.getUTCMinutes(),t,2)}function UAe(e,t){return wt(e.getUTCSeconds(),t,2)}function zAe(e){var t=e.getUTCDay();return t===0?7:t}function VAe(e,t){return wt(Mw.count(wo(e)-1,e),t,2)}function VH(e){var t=e.getUTCDay();return t>=4||t===0?Af(e):Af.ceil(e)}function WAe(e,t){return e=VH(e),wt(Af.count(wo(e),e)+(wo(e).getUTCDay()===4),t,2)}function HAe(e){return e.getUTCDay()}function qAe(e,t){return wt(hb.count(wo(e)-1,e),t,2)}function GAe(e,t){return wt(e.getUTCFullYear()%100,t,2)}function KAe(e,t){return e=VH(e),wt(e.getUTCFullYear()%100,t,2)}function YAe(e,t){return wt(e.getUTCFullYear()%1e4,t,4)}function JAe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Af(e):Af.ceil(e),wt(e.getUTCFullYear()%1e4,t,4)}function XAe(){return"+0000"}function OR(){return"%"}function AR(e){return+e}function TR(e){return Math.floor(+e/1e3)}var Xu,WH,HH;QAe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QAe(e){return Xu=QOe(e),WH=Xu.format,Xu.parse,HH=Xu.utcFormat,Xu.utcParse,Xu}function ZAe(e){return new Date(e)}function eTe(e){return e instanceof Date?+e:+new Date(+e)}function RO(e,t,r,n,a,i,o,l,c,u){var d=_O(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),x=u("%b %d"),w=u("%B"),_=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?g:o(N)<N?p:i(N)<N?v:n(N)<N?a(N)<N?b:x:r(N)<N?w:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,eTe)):h().map(ZAe)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?S:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(AH(k,N)):d},d.copy=function(){return Bg(d,RO(e,t,r,n,a,i,o,l,c,u))},d}function tTe(){return hi.apply(RO(JOe,XOe,bo,$O,Tw,Ug,TO,OO,Pc,WH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rTe(){return hi.apply(RO(KOe,YOe,wo,IO,Mw,Aw,MO,AO,Pc,HH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $w(){var e=0,t=1,r,n,a,i,o=zn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(Nh),u.rangeRound=d(wO),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Gl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function qH(){var e=ql($w()(zn));return e.copy=function(){return Gl(e,qH())},Oo.apply(e,arguments)}function GH(){var e=NO($w()).domain([1,10]);return e.copy=function(){return Gl(e,GH()).base(e.base())},Oo.apply(e,arguments)}function KH(){var e=kO($w());return e.copy=function(){return Gl(e,KH()).constant(e.constant())},Oo.apply(e,arguments)}function DO(){var e=CO($w());return e.copy=function(){return Gl(e,DO()).exponent(e.exponent())},Oo.apply(e,arguments)}function nTe(){return DO.apply(null,arguments).exponent(.5)}function YH(){var e=[],t=zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Lg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(jl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>VPe(e,i/n))},r.copy=function(){return YH(t).domain(e)},Oo.apply(r,arguments)}function Iw(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=zn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(v){var b,x,w;return arguments.length?([b,x,w]=v,u=pOe(p,[b,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(Nh),m.rangeRound=g(wO),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,a=p(e),i=p(t),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function JH(){var e=ql(Iw()(zn));return e.copy=function(){return Gl(e,JH())},Oo.apply(e,arguments)}function XH(){var e=NO(Iw()).domain([.1,1,10]);return e.copy=function(){return Gl(e,XH()).base(e.base())},Oo.apply(e,arguments)}function QH(){var e=kO(Iw());return e.copy=function(){return Gl(e,QH()).constant(e.constant())},Oo.apply(e,arguments)}function LO(){var e=CO(Iw());return e.copy=function(){return Gl(e,LO()).exponent(e.exponent())},Oo.apply(e,arguments)}function aTe(){return LO.apply(null,arguments).exponent(.5)}const MR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$p,scaleDiverging:JH,scaleDivergingLog:XH,scaleDivergingPow:LO,scaleDivergingSqrt:aTe,scaleDivergingSymlog:QH,scaleIdentity:OH,scaleImplicit:HN,scaleLinear:ub,scaleLog:TH,scaleOrdinal:yO,scalePoint:$m,scalePow:EO,scaleQuantile:IH,scaleQuantize:RH,scaleRadial:$H,scaleSequential:qH,scaleSequentialLog:GH,scaleSequentialPow:DO,scaleSequentialQuantile:YH,scaleSequentialSqrt:nTe,scaleSequentialSymlog:KH,scaleSqrt:LOe,scaleSymlog:MH,scaleThreshold:DH,scaleTime:tTe,scaleUtc:rTe,tickFormat:PH},Symbol.toStringTag,{value:"Module"}));var iTe=gh;function sTe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!iTe(o):r(o,l)))var l=o,c=i}return c}var Rw=sTe;function oTe(e,t){return e>t}var ZH=oTe,lTe=Rw,cTe=ZH,uTe=Sh;function dTe(e){return e&&e.length?lTe(e,uTe,cTe):void 0}var fTe=dTe;const ul=Ct(fTe);function hTe(e,t){return e<t}var eq=hTe,mTe=Rw,pTe=eq,gTe=Sh;function vTe(e){return e&&e.length?mTe(e,gTe,pTe):void 0}var yTe=vTe;const Dw=Ct(yTe);var xTe=QP,bTe=$s,wTe=cH,_Te=ca;function jTe(e,t){var r=_Te(e)?xTe:wTe;return r(e,bTe(t))}var STe=jTe,NTe=oH,kTe=STe;function CTe(e,t){return NTe(kTe(e,t),1)}var ETe=CTe;const PTe=Ct(ETe);var OTe=hO;function ATe(e,t){return OTe(e,t)}var TTe=ATe;const fu=Ct(TTe);var kh=1e9,MTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BO,cr=!0,li="[DecimalError] ",Wc=li+"Invalid argument: ",FO=li+"Exponent out of range: ",Ch=Math.floor,vc=Math.pow,$Te=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ka,Jr=1e7,Xt=7,tq=9007199254740991,mb=Ch(tq/Xt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return so(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Lt(so(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Mr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ka))throw Error(li+"NaN");if(r.s<1)throw Error(li+(r.s?"NaN":"-Infinity"));return r.eq(ka)?new n(0):(cr=!1,t=so(Fp(r,i),Fp(e,i),i),cr=!0,Lt(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aq(t,e):rq(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(li+"NaN");return r.s?(cr=!1,t=so(r,e,0,1).times(e),cr=!0,r.minus(t)):Lt(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return nq(this)};Oe.naturalLogarithm=Oe.ln=function(){return Fp(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rq(t,e):aq(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wc+e);if(t=Mr(a)+1,n=a.d.length-1,r=n*Xt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(li+"NaN")}for(e=Mr(l),cr=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=vs(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ch((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(so(l,i,o+2)).times(.5),vs(i.d).slice(0,o)===(t=vs(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Lt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return cr=!0,Lt(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%Jr|0,t=l/Jr|0;i[a]=(i[a]+t)%Jr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,cr?Lt(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Es(e,0,kh),t===void 0?t=n.rounding:Es(t,0,8),Lt(r,e+Mr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=hu(n,!0):(Es(e,0,kh),t===void 0?t=a.rounding:Es(t,0,8),n=Lt(new a(n),e+1,t),r=hu(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?hu(a):(Es(e,0,kh),t===void 0?t=i.rounding:Es(t,0,8),n=Lt(new i(a),e+Mr(a)+1,t),r=hu(n.abs(),!1,e+Mr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Lt(new t(e),Mr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ka);if(l=new c(l),!l.s){if(e.s<1)throw Error(li+"Infinity");return l}if(l.eq(ka))return l;if(n=c.precision,e.eq(ka))return Lt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=tq){for(a=new c(ka),t=Math.ceil(n/Xt+4),cr=!1;r%2&&(a=a.times(l),IR(a.d,t)),r=Ch(r/2),r!==0;)l=l.times(l),IR(l.d,t);return cr=!0,e.s<0?new c(ka).div(a):Lt(a,n)}}else if(i<0)throw Error(li+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,cr=!1,a=e.times(Fp(l,n+u)),cr=!0,a=nq(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Mr(a),n=hu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Es(e,1,kh),t===void 0?t=i.rounding:Es(t,0,8),a=Lt(new i(a),e,t),r=Mr(a),n=hu(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Es(e,1,kh),t===void 0?t=n.rounding:Es(t,0,8)),Lt(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Mr(e),r=e.constructor;return hu(e,t<=r.toExpNeg||t>=r.toExpPos)};function rq(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),cr?Lt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Xt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Jr|0,c[i]%=Jr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,cr?Lt(t,f):t}function Es(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wc+e)}function vs(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Xt-n.length,r&&(i+=Ko(r)),i+=n;o=e[t],n=o+"",r=Xt-n.length,r&&(i+=Ko(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var so=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%Jr|0,o=i/Jr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*Jr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,A=n.constructor,T=n.s==a.s?1:-1,I=n.d,O=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(li+"Division by zero");for(c=n.e-a.e,k=O.length,S=I.length,m=new A(T),g=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?x=i=A.precision:o?x=i+(Mr(n)-Mr(a))+1:x=i,x<0)return new A(0);if(x=x/Xt+2|0,u=0,k==1)for(d=0,O=O[0],x++;(u<S||d)&&x--;u++)w=d*Jr+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Jr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),k=O.length,S=I.length),_=k,p=I.slice(0,k),v=p.length;v<k;)p[v++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=Jr/2&&++N;do d=0,l=t(O,p,k,v),l<0?(b=p[0],k!=v&&(b=b*Jr+(p[1]||0)),d=b/N|0,d>1?(d>=Jr&&(d=Jr-1),f=e(O,d),h=f.length,v=p.length,l=t(f,p,h,v),l==1&&(d--,r(f,k<h?P:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),l==-1&&(v=p.length,l=t(O,p,k,v),l<1&&(d++,r(p,k<v?P:O,v))),v=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[v++]=I[_]||0:(p=[I[_]],v=1);while((_++<S||p[0]!==void 0)&&x--)}return g[0]||g.shift(),m.e=c,Lt(m,o?i+Mr(m)+1:i)}}();function nq(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Mr(e)>16)throw Error(FO+Mr(e));if(!e.s)return new d(ka);for(cr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(vc(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ka),d.precision=l;;){if(a=Lt(a.times(e),l),r=r.times(++c),o=i.plus(so(a,r,l)),vs(o.d).slice(0,l)===vs(i.d).slice(0,l)){for(;u--;)i=Lt(i.times(i),l);return d.precision=f,t==null?(cr=!0,Lt(i,f)):i}i=o}}function Mr(e){for(var t=e.e*Xt,r=e.d[0];r>=10;r/=10)t++;return t}function Gj(e,t,r){if(t>e.LN10.sd())throw cr=!0,r&&(e.precision=r),Error(li+"LN10 precision limit exceeded");return Lt(new e(e.LN10),t)}function Ko(e){for(var t="";e--;)t+="0";return t}function Fp(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,v=p.precision;if(m.s<1)throw Error(li+(m.s?"NaN":"-Infinity"));if(m.eq(ka))return new p(0);if(t==null?(cr=!1,u=v):u=t,m.eq(10))return t==null&&(cr=!0),Gj(p,u);if(u+=h,p.precision=u,r=vs(g),n=r.charAt(0),i=Mr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vs(m.d),n=r.charAt(0),f++;i=Mr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=Gj(p,u+2,v).times(i+""),m=Fp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=v,t==null?(cr=!0,Lt(m,v)):m;for(l=o=m=so(m.minus(ka),m.plus(ka),u),d=Lt(m.times(m),u),a=3;;){if(o=Lt(o.times(d),u),c=l.plus(so(o,new p(a),u)),vs(c.d).slice(0,u)===vs(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Gj(p,u+2,v).times(i+""))),l=so(l,new p(f),u),p.precision=v,t==null?(cr=!0,Lt(l,v)):l;l=c,a+=2}}function $R(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ch(r/Xt),e.d=[],n=(r+1)%Xt,r<0&&(n+=Xt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Xt;n<a;)e.d.push(+t.slice(n,n+=Xt));t=t.slice(n),n=Xt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),cr&&(e.e>mb||e.e<-mb))throw Error(FO+r)}else e.s=0,e.e=0,e.d=[0];return e}function Lt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Xt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Xt,a=n-Xt+o}if(r!==void 0&&(i=vc(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/vc(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Mr(e),f.length=1,t=t-i-1,f[0]=vc(10,(Xt-t%Xt)%Xt),e.e=Ch(-t/Xt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=vc(10,Xt-n),f[d]=a>0?(u/vc(10,o-a)%vc(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Jr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(cr&&(e.e>mb||e.e<-mb))throw Error(FO+Mr(e));return e}function aq(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),cr?Lt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(m/Xt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=Jr-1;--c[i],c[a]+=Jr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,cr?Lt(t,m):t):new h(0)}function hu(e,t,r){var n,a=Mr(e),i=vs(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ko(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ko(-a-1)+i,r&&(n=r-o)>0&&(i+=Ko(n))):a>=o?(i+=Ko(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ko(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ko(n))),e.s<0?"-"+i:i}function IR(e,t){if(e.length>t)return e.length=t,!0}function iq(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return $R(o,i.toString())}else if(typeof i!="string")throw Error(Wc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,$Te.test(i))$R(o,i);else throw Error(Wc+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=iq,a.config=a.set=ITe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ITe(e){if(!e||typeof e!="object")throw Error(li+"Object expected");var t,r,n,a=["precision",1,kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ch(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wc+r+": "+n);return this}var BO=iq(MTe);ka=new BO(1);const Tt=BO;function RTe(e){return BTe(e)||FTe(e)||LTe(e)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LTe(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function FTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BTe(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UTe=function(t){return t},sq={},oq=function(t){return t===sq},RR=function(t){return function r(){return arguments.length===0||arguments.length===1&&oq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},zTe=function e(t,r){return t===1?r:RR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==sq}).length;return o>=t?r.apply(void 0,a):e(t-o,RR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return oq(f)?c.shift():f});return r.apply(void 0,RTe(d).concat(c))}))})},Lw=function(t){return zTe(t.length,t)},JN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},VTe=Lw(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),WTe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return UTe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},XN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},lq=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function HTe(e){var t;return e===0?t=1:t=Math.floor(new Tt(e).abs().log(10).toNumber())+1,t}function qTe(e,t,r){for(var n=new Tt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var GTe=Lw(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),KTe=Lw(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YTe=Lw(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Fw={rangeStep:qTe,getDigitCount:HTe,interpolateNumber:GTe,uninterpolateNumber:KTe,uninterpolateTruncation:YTe};function QN(e){return QTe(e)||XTe(e)||cq(e)||JTe()}function JTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XTe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function QTe(e){if(Array.isArray(e))return ZN(e)}function Bp(e,t){return t2e(e)||e2e(e,t)||cq(e,t)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cq(e,t){if(e){if(typeof e=="string")return ZN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZN(e,t)}}function ZN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e2e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function t2e(e){if(Array.isArray(e))return e}function uq(e){var t=Bp(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function dq(e,t,r){if(e.lte(0))return new Tt(0);var n=Fw.getDigitCount(e.toNumber()),a=new Tt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Tt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Tt(Math.ceil(c))}function r2e(e,t,r){var n=1,a=new Tt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Tt(10).pow(Fw.getDigitCount(e)-1),a=new Tt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Tt(Math.floor(e)))}else e===0?a=new Tt(Math.floor((t-1)/2)):r||(a=new Tt(Math.floor(e)));var o=Math.floor((t-1)/2),l=WTe(VTe(function(c){return a.add(new Tt(c-o).mul(n)).toNumber()}),JN);return l(0,t)}function fq(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Tt(0),tickMin:new Tt(0),tickMax:new Tt(0)};var i=dq(new Tt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Tt(0):(o=new Tt(e).add(t).div(2),o=o.sub(new Tt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Tt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?fq(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Tt(l).mul(i)),tickMax:o.add(new Tt(c).mul(i))})}function n2e(e){var t=Bp(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=uq([r,n]),c=Bp(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(QN(JN(0,a-1).map(function(){return 1/0}))):[].concat(QN(JN(0,a-1).map(function(){return-1/0})),[d]);return r>n?XN(f):f}if(u===d)return r2e(u,a,i);var h=fq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,v=Fw.rangeStep(g,p.add(new Tt(.1).mul(m)),m);return r>n?XN(v):v}function a2e(e,t){var r=Bp(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=uq([n,a]),l=Bp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=dq(new Tt(u).sub(c).div(d-1),i,0),h=[].concat(QN(Fw.rangeStep(new Tt(c),new Tt(u).sub(new Tt(.99).mul(f)),f)),[u]);return n>a?XN(h):h}var i2e=lq(n2e),s2e=lq(a2e),o2e="Invariant failed";function mu(e,t){throw new Error(o2e)}var l2e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(this,arguments)}function c2e(e,t){return h2e(e)||f2e(e,t)||d2e(e,t)||u2e()}function u2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(e,t){if(e){if(typeof e=="string")return DR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DR(e,t)}}function DR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f2e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function h2e(e){if(Array.isArray(e))return e}function m2e(e,t){if(e==null)return{};var r=p2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v2e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pq(n.key),n)}}function y2e(e,t,r){return t&&v2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function x2e(e,t,r){return t=gb(t),b2e(e,hq()?Reflect.construct(t,r||[],gb(e).constructor):t.apply(e,r))}function b2e(e,t){if(t&&(Tf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w2e(e)}function w2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gb(e)}function _2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ek(e,t)}function ek(e,t){return ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ek(e,t)}function mq(e,t,r){return t=pq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pq(e){var t=j2e(e,"string");return Tf(t)=="symbol"?t:t+""}function j2e(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zg=function(e){function t(){return g2e(this,t),x2e(this,t,arguments)}return _2e(t,e),y2e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=m2e(n,l2e),m=Re(h,!1);this.props.direction==="x"&&d.type!=="number"&&mu();var g=c.map(function(p){var v=u(p,l),b=v.x,x=v.y,w=v.value,_=v.errorVal;if(!_)return null;var S=[],N,k;if(Array.isArray(_)){var P=c2e(_,2);N=P[0],k=P[1]}else N=k=_;if(i==="vertical"){var A=d.scale,T=x+a,I=T+o,O=T-o,L=A(w-N),$=A(w+k);S.push({x1:$,y1:I,x2:$,y2:O}),S.push({x1:L,y1:T,x2:$,y2:T}),S.push({x1:L,y1:I,x2:L,y2:O})}else if(i==="horizontal"){var F=f.scale,z=b+a,V=z-o,R=z+o,U=F(w-N),K=F(w+k);S.push({x1:V,y1:K,x2:R,y2:K}),S.push({x1:z,y1:U,x2:z,y2:K}),S.push({x1:V,y1:U,x2:R,y2:U})}return M.createElement(dt,pb({className:"recharts-errorBar",key:"bar-".concat(S.map(function(re){return"".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))},m),S.map(function(re){return M.createElement("line",pb({},re,{key:"line-".concat(re.x1,"-").concat(re.x2,"-").concat(re.y1,"-").concat(re.y2)}))}))});return M.createElement(dt,{className:"recharts-errorBars"},g)}}])}(M.Component);mq(zg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});mq(zg,"displayName","ErrorBar");function Up(e){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Up(e)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){S2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S2e(e,t,r){return t=N2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N2e(e){var t=k2e(e,"string");return Up(t)=="symbol"?t:t+""}function k2e(e,t){if(Up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gq=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=xa(r,io);if(!o)return null;var l=io.defaultProps,c=l!==void 0?nc(nc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?nc(nc({},h),f.props):{},g=m.dataKey,p=m.name,v=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||v||"square",color:UO(f),value:p||g,payload:m}}),nc(nc(nc({},c),io.getWithHeight(o,a)),{},{payload:u,item:o})};function zp(e){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(e)}function FR(e){return O2e(e)||P2e(e)||E2e(e)||C2e()}function C2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E2e(e,t){if(e){if(typeof e=="string")return tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tk(e,t)}}function P2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function O2e(e){if(Array.isArray(e))return tk(e)}function tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){Hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hd(e,t,r){return t=A2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A2e(e){var t=T2e(e,"string");return zp(t)=="symbol"?t:t+""}function T2e(e,t){if(zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _r(e,t,r){return et(e)||et(t)?r:Vr(t)?$a(e,t,r):We(t)?t(e):r}function Im(e,t,r,n){var a=PTe(e,function(l){return _r(l,t)});if(r==="number"){var i=a.filter(function(l){return pe(l)||parseFloat(l)});return i.length?[Dw(i),ul(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!et(l)}):a;return o.map(function(l){return Vr(l)||l instanceof Date?l:""})}var M2e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,m=void 0;if(Bn(f-d)!==Bn(h-f)){var g=[];if(Bn(h-f)===Bn(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var v=h+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var x=Math.min(d,h),w=Math.max(d,h);if(t>(x+f)/2&&t<=(w+f)/2){o=a[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},UO=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},$2e=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,v=g.cateAxisId,b=p.filter(function(k){return ao(k.type).indexOf("Bar")>=0});if(b&&b.length){var x=b[0].type.defaultProps,w=x!==void 0?yr(yr({},x),b[0].props):b[0].props,_=w.barSize,S=w[v];o[S]||(o[S]=[]);var N=et(_)?r:_;o[S].push({item:b[0],stackList:b.slice(1),barSize:et(N)?void 0:Un(N,n,0)})}}return o},I2e=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Un(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=a/c,g=o.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&m>0&&(h=!0,m*=.9,g=c*m);var p=(a-g)/2>>0,v={offset:p-u,size:0};d=o.reduce(function(_,S){var N={item:S.item,position:{offset:v.offset+v.size+u,size:h?m:S.barSize}},k=[].concat(FR(_),[N]);return v=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){k.push({item:P,position:v})}),k},f)}else{var b=Un(n,a,0,!0);a-2*b-(c-1)*u<=0&&(u=0);var x=(a-2*b-(c-1)*u)/c;x>1&&(x>>=0);var w=l===+l?Math.min(x,l):x;d=o.reduce(function(_,S,N){var k=[].concat(FR(_),[{item:S.item,position:{offset:b+(x+u)*N+(x-w)/2,size:w}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(P){k.push({item:P,position:k[k.length-1].position})}),k},f)}return d},R2e=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=gq({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&pe(t[m]))return yr(yr({},t),{},Hd({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&pe(t[g]))return yr(yr({},t),{},Hd({},g,t[g]+(h||0)))}return t},D2e=function(t,r,n){return et(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},vq=function(t,r,n,a,i){var o=r.props.children,l=Ia(o,zg).filter(function(u){return D2e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_r(d,n);if(et(f))return u;var h=Array.isArray(f)?[Dw(f),ul(f)]:[f,f],m=c.reduce(function(g,p){var v=_r(d,p,0),b=h[0]-Math.abs(Array.isArray(v)?v[0]:v),x=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(b,g[0]),Math.max(x,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},L2e=function(t,r,n,a,i){var o=r.map(function(l){return vq(t,l,n,i,a)}).filter(function(l){return!et(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},yq=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&vq(t,c,u,a)||Im(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},xq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},bq=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},eo=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Bn(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!wh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Kj=new WeakMap,Uv=function(t,r){if(typeof r!="function")return t;Kj.has(t)||Kj.set(t,new WeakMap);var n=Kj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},wq=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:$p(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ub(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:$m(),realScaleType:"point"}:i==="category"?{scale:$p(),realScaleType:"band"}:{scale:ub(),realScaleType:"linear"};if(cu(a)){var c="scale".concat(_w(a));return{scale:(MR[c]||$m)(),realScaleType:MR[c]?c:"point"}}return We(a)?{scale:a}:{scale:$m(),realScaleType:"point"}},UR=1e-4,_q=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-UR,o=Math.max(a[0],a[1])+UR,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},F2e=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},B2e=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(i[0]=n),(!pe(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},U2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=wh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},z2e=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=wh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},V2e={sign:U2e,expand:lwe,none:Sf,silhouette:cwe,wiggle:uwe,positive:z2e},W2e=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=V2e[n],o=owe().keys(a).value(function(l,c){return+_r(l,c,0)}).order(kN).offset(i);return o(t)},H2e=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yr(yr({},h.type.defaultProps),h.props):h.props,p=g.stackId,v=g.hide;if(v)return f;var b=g[n],x=f[b]||{hasStack:!1,stackGroups:{}};if(Vr(p)){var w=x.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),x.hasStack=!0,x.stackGroups[p]=w}else x.stackGroups[Pu("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return yr(yr({},f),{},Hd({},b,x))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,v){var b=m.stackGroups[v];return yr(yr({},p),{},Hd({},v,{numericAxisId:n,cateAxisId:a,items:b.items,stackedData:W2e(t,b.items,i)}))},g)}return yr(yr({},f),{},Hd({},h,m))},d)},jq=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=i2e(u,i,l);return t.domain([Dw(d),ul(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=s2e(f,i,l);return{niceTicks:h}}return null};function vb(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(a[t.dataKey])){var l=zx(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_r(a,et(o)?t.dataKey:o);return et(c)?null:t.scale(c)}var zR=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_r(o,r.dataKey,r.domain[l]);return et(c)?null:r.scale(c)-i/2+a},q2e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},G2e=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Vr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},K2e=function(t){return t.reduce(function(r,n){return[Dw(n.concat([r[0]]).filter(pe)),ul(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},Sq=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=K2e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rk=function(t,r,n){if(We(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(pe(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(VR.test(t[0])){var i=+VR.exec(t[0])[1];a[0]=r[0]-i}else We(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(pe(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(WR.test(t[1])){var o=+WR.exec(t[1])[1];a[1]=r[1]+o}else We(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},yb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=pO(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},HR=function(t,r,n){return!t||!t.length||fu(t,$a(n,"type.defaultProps.domain"))?r:t},Nq=function(t,r){var n=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yr(yr({},Re(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:UO(t),value:_r(r,a),type:c,payload:r,chartType:u,hide:d})};function Vp(e){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){kq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kq(e,t,r){return t=Y2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y2e(e){var t=J2e(e,"string");return Vp(t)=="symbol"?t:t+""}function J2e(e,t){if(Vp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X2e(e,t){return tMe(e)||eMe(e,t)||Z2e(e,t)||Q2e()}function Q2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z2e(e,t){if(e){if(typeof e=="string")return GR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tMe(e){if(Array.isArray(e))return e}var xb=Math.PI/180,rMe=function(t){return t*180/Math.PI},Ht=function(t,r,n,a){return{x:t+Math.cos(-xb*a)*n,y:r+Math.sin(-xb*a)*n}},Cq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},nMe=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Un(t.cx,o,o/2),f=Un(t.cy,l,l/2),h=Cq(o,l,n),m=Un(t.innerRadius,h,0),g=Un(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(v,b){var x=r[b],w=x.domain,_=x.reversed,S;if(et(x.range))a==="angleAxis"?S=[c,u]:a==="radiusAxis"&&(S=[m,g]),_&&(S=[S[1],S[0]]);else{S=x.range;var N=S,k=X2e(N,2);c=k[0],u=k[1]}var P=wq(x,i),A=P.realScaleType,T=P.scale;T.domain(w).range(S),_q(T);var I=jq(T,Ws(Ws({},x),{},{realScaleType:A})),O=Ws(Ws(Ws({},x),I),{},{range:S,radius:g,realScaleType:A,scale:T,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return Ws(Ws({},v),{},kq({},b,O))},{})},aMe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},iMe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=aMe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:rMe(u),angleInRadian:u}},sMe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},oMe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},KR=function(t,r){var n=t.x,a=t.y,i=iMe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=sMe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?Ws(Ws({},r),{},{radius:o,angle:oMe(m,r)}):null},Eq=function(t){return!y.isValidElement(t)&&!We(t)&&typeof t!="boolean"?t.className:""};function Wp(e){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wp(e)}var lMe=["offset"];function cMe(e){return hMe(e)||fMe(e)||dMe(e)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(e,t){if(e){if(typeof e=="string")return nk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(e,t)}}function fMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hMe(e){if(Array.isArray(e))return nk(e)}function nk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mMe(e,t){if(e==null)return{};var r=pMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){gMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gMe(e,t,r){return t=vMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vMe(e){var t=yMe(e,"string");return Wp(t)=="symbol"?t:t+""}function yMe(e,t){if(Wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hp(){return Hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hp.apply(this,arguments)}var xMe=function(t){var r=t.value,n=t.formatter,a=et(t.children)?r:t.children;return We(n)?n(a):a},bMe=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),360);return n*a},wMe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,v=(f+h)/2,b=bMe(m,g),x=b>=0?1:-1,w,_;a==="insideStart"?(w=m+x*o,_=p):a==="insideEnd"?(w=g-x*o,_=!p):a==="end"&&(w=g+x*o,_=p),_=b<=0?_:!_;var S=Ht(u,d,v,w),N=Ht(u,d,v,w+(_?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(N.x,",").concat(N.y),P=et(t.id)?Pu("recharts-radial-line-"):t.id;return M.createElement("text",Hp({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),M.createElement("defs",null,M.createElement("path",{id:P,d:k})),M.createElement("textPath",{xlinkHref:"#".concat(P)},r))},_Me=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var m=Ht(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,b=Ht(o,l,v,h),x=b.x,w=b.y;return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},jMe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,v=p*a,b=p>0?"end":"start",x=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:m};return Rr(Rr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Rr(Rr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var S={x:l-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Rr(Rr({},S),n?{width:Math.max(S.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return Rr(Rr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?Rr({x:l+v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},k):i==="insideRight"?Rr({x:l+u-v,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideTop"?Rr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?Rr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},k):i==="insideTopLeft"?Rr({x:l+v,y:c+h,textAnchor:x,verticalAnchor:g},k):i==="insideTopRight"?Rr({x:l+u-v,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideBottomLeft"?Rr({x:l+v,y:c+d-h,textAnchor:x,verticalAnchor:m},k):i==="insideBottomRight"?Rr({x:l+u-v,y:c+d-h,textAnchor:b,verticalAnchor:m},k):vh(i)&&(pe(i.x)||Cc(i.x))&&(pe(i.y)||Cc(i.y))?Rr({x:l+Un(i.x,u),y:c+Un(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):Rr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},SMe=function(t){return"cx"in t&&pe(t.cx)};function en(e){var t=e.offset,r=t===void 0?5:t,n=mMe(e,lMe),a=Rr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||et(l)&&et(c)&&!y.isValidElement(u)&&!We(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var m;if(We(u)){if(m=y.createElement(u,a),y.isValidElement(m))return m}else m=xMe(a);var g=SMe(i),p=Re(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return wMe(a,m,p);var v=g?_Me(a):jMe(a);return M.createElement(du,Hp({className:tt("recharts-label",f)},p,v,{breakAll:h}),m)}en.displayName="Label";var Pq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,v=t.height,b=t.clockWise,x=t.labelViewBox;if(x)return x;if(pe(p)&&pe(v)){if(pe(f)&&pe(h))return{x:f,y:h,width:p,height:v};if(pe(m)&&pe(g))return{x:m,y:g,width:p,height:v}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},NMe=function(t,r){return t?t===!0?M.createElement(en,{key:"label-implicit",viewBox:r}):Vr(t)?M.createElement(en,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===en?y.cloneElement(t,{key:"label-implicit",viewBox:r}):M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):We(t)?M.createElement(en,{key:"label-implicit",content:t,viewBox:r}):vh(t)?M.createElement(en,Hp({viewBox:r},t,{key:"label-implicit"})):null:null},kMe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=Pq(t),o=Ia(a,en).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=NMe(t.label,r||i);return[l].concat(cMe(o))};en.parseViewBox=Pq;en.renderCallByParent=kMe;function CMe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var EMe=CMe;const PMe=Ct(EMe);function qp(e){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qp(e)}var OMe=["valueAccessor"],AMe=["data","dataKey","clockWise","id","textBreakAll"];function TMe(e){return RMe(e)||IMe(e)||$Me(e)||MMe()}function MMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(e,t){if(e){if(typeof e=="string")return ak(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ak(e,t)}}function IMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RMe(e){if(Array.isArray(e))return ak(e)}function ak(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(this,arguments)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){DMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DMe(e,t,r){return t=LMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LMe(e){var t=FMe(e,"string");return qp(t)=="symbol"?t:t+""}function FMe(e,t){if(qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QR(e,t){if(e==null)return{};var r=BMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var UMe=function(t){return Array.isArray(t.value)?PMe(t.value):t.value};function Ss(e){var t=e.valueAccessor,r=t===void 0?UMe:t,n=QR(e,OMe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=QR(n,AMe);return!a||!a.length?null:M.createElement(dt,{className:"recharts-label-list"},a.map(function(d,f){var h=et(i)?r(d,f):_r(d&&d.payload,i),m=et(l)?{}:{id:"".concat(l,"-").concat(f)};return M.createElement(en,bb({},Re(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:en.parseViewBox(et(o)?d:XR(XR({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ss.displayName="LabelList";function zMe(e,t){return e?e===!0?M.createElement(Ss,{key:"labelList-implicit",data:t}):M.isValidElement(e)||We(e)?M.createElement(Ss,{key:"labelList-implicit",data:t,content:e}):vh(e)?M.createElement(Ss,bb({data:t},e,{key:"labelList-implicit"})):null:null}function VMe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ia(n,Ss).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=zMe(e.label,t);return[i].concat(TMe(a))}Ss.renderCallByParent=VMe;function Gp(e){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gp(e)}function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ik.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){WMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WMe(e,t,r){return t=HMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HMe(e){var t=qMe(e,"string");return Gp(t)=="symbol"?t:t+""}function qMe(e,t){if(Gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GMe=function(t,r){var n=Bn(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},zv=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/xb,h=u?i:i+o*f,m=Ht(r,n,d,h),g=Ht(r,n,a,h),p=u?i-o*f:i,v=Ht(r,n,d*Math.cos(f*xb),p);return{center:m,circleTangency:g,lineTangency:v,theta:f}},Oq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=GMe(o,l),u=o+c,d=Ht(r,n,i,o),f=Ht(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var m=Ht(r,n,a,o),g=Ht(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},KMe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Bn(d-u),h=zv({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,v=zv({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=v.circleTangency,x=v.lineTangency,w=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Oq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
  `);if(a>0){var N=zv({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,P=N.lineTangency,A=N.theta,T=zv({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=T.circleTangency,O=T.lineTangency,L=T.theta,$=c?Math.abs(u-d):Math.abs(u-d)-A-L;if($<0&&o===0)return"".concat(S,"L").concat(r,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,").concat(+($>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else S+="L".concat(r,",").concat(n,"Z");return S},YMe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Aq=function(t){var r=eD(eD({},YMe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=tt("recharts-sector",h),g=o-i,p=Un(l,g,0,!0),v;return p>0&&Math.abs(d-f)<360?v=KMe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Oq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),M.createElement("path",ik({},Re(r,!0),{className:m,d:v,role:"img"}))};function Kp(e){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(e)}function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sk.apply(this,arguments)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=QMe(e,"string");return Kp(t)=="symbol"?t:t+""}function QMe(e,t){if(Kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nD={curveBasisClosed:J0e,curveBasisOpen:X0e,curveBasis:Y0e,curveBumpX:I0e,curveBumpY:R0e,curveLinearClosed:Q0e,curveLinear:Sw,curveMonotoneX:Z0e,curveMonotoneY:ewe,curveNatural:twe,curveStep:rwe,curveStepAfter:awe,curveStepBefore:nwe},Vv=function(t){return t.x===+t.x&&t.y===+t.y},tm=function(t){return t.x},rm=function(t){return t.y},ZMe=function(t,r){if(We(t))return t;var n="curve".concat(_w(t));return(n==="curveMonotone"||n==="curveBump")&&r?nD["".concat(n).concat(r==="vertical"?"Y":"X")]:nD[n]||Sw},e$e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=ZMe(n,l),f=u?i.filter(function(p){return Vv(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Vv(p)}):o,g=f.map(function(p,v){return rD(rD({},p),{},{base:m[v]})});return l==="vertical"?h=Mv().y(rm).x1(tm).x0(function(p){return p.base.x}):h=Mv().x(tm).y1(rm).y0(function(p){return p.base.y}),h.defined(Vv).curve(d),h(g)}return l==="vertical"&&pe(o)?h=Mv().y(rm).x1(tm).x0(o):pe(o)?h=Mv().x(tm).y1(rm).y0(o):h=k9().x(tm).y(rm),h.defined(Vv).curve(d),h(f)},Hc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?e$e(t):a;return y.createElement("path",sk({},Re(t,!1),Vx(t),{className:tt("recharts-curve",r),d:o,ref:i}))},Tq={exports:{}},t$e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",r$e=t$e,n$e=r$e;function Mq(){}function $q(){}$q.resetWarningCache=Mq;var a$e=function(){function e(n,a,i,o,l,c){if(c!==n$e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:$q,resetWarningCache:Mq};return r.PropTypes=r,r};Tq.exports=a$e();var i$e=Tq.exports;const Nt=Ct(i$e),{getOwnPropertyNames:s$e,getOwnPropertySymbols:o$e}=Object,{hasOwnProperty:l$e}=Object.prototype;function Yj(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Wv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);const{cache:i}=a,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,a);return i.delete(r),i.delete(n),c}}function c$e(e){return e!=null?e[Symbol.toStringTag]:void 0}function aD(e){return s$e(e).concat(o$e(e))}const u$e=Object.hasOwn||((e,t)=>l$e.call(e,t));function Tu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const d$e="__v",f$e="__o",h$e="_owner",{getOwnPropertyDescriptor:iD,keys:sD}=Object;function m$e(e,t){return e.byteLength===t.byteLength&&wb(new Uint8Array(e),new Uint8Array(t))}function p$e(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function g$e(e,t){return e.byteLength===t.byteLength&&wb(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function v$e(e,t){return Tu(e.getTime(),t.getTime())}function y$e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function x$e(e,t){return e===t}function oD(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(a[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}const b$e=Tu;function w$e(e,t,r){const n=sD(e);let a=n.length;if(sD(t).length!==a)return!1;for(;a-- >0;)if(!Iq(e,t,r,n[a]))return!1;return!0}function nm(e,t,r){const n=aD(e);let a=n.length;if(aD(t).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=n[a],!Iq(e,t,r,i)||(o=iD(e,i),l=iD(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _$e(e,t){return Tu(e.valueOf(),t.valueOf())}function j$e(e,t){return e.source===t.source&&e.flags===t.flags}function lD(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const a=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function wb(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function S$e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Iq(e,t,r,n){return(n===h$e||n===f$e||n===d$e)&&(e.$$typeof||t.$$typeof)?!0:u$e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const N$e="[object ArrayBuffer]",k$e="[object Arguments]",C$e="[object Boolean]",E$e="[object DataView]",P$e="[object Date]",O$e="[object Error]",A$e="[object Map]",T$e="[object Number]",M$e="[object Object]",$$e="[object RegExp]",I$e="[object Set]",R$e="[object String]",D$e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},L$e="[object URL]",F$e=Object.prototype.toString;function B$e({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;const w=typeof v;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(v,b,x):w==="function"?i(v,b,x):!1;const _=v.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(v,b,x);if(Array.isArray(v))return t(v,b,x);if(_===Date)return n(v,b,x);if(_===RegExp)return d(v,b,x);if(_===Map)return o(v,b,x);if(_===Set)return f(v,b,x);const S=F$e.call(v);if(S===P$e)return n(v,b,x);if(S===$$e)return d(v,b,x);if(S===A$e)return o(v,b,x);if(S===I$e)return f(v,b,x);if(S===M$e)return typeof v.then!="function"&&typeof b.then!="function"&&c(v,b,x);if(S===L$e)return m(v,b,x);if(S===O$e)return a(v,b,x);if(S===k$e)return c(v,b,x);if(D$e[S])return h(v,b,x);if(S===N$e)return e(v,b,x);if(S===E$e)return r(v,b,x);if(S===C$e||S===T$e||S===R$e)return u(v,b,x);if(g){let N=g[S];if(!N){const k=c$e(v);k&&(N=g[k])}if(N)return N(v,b,x)}return!1}}function U$e({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:m$e,areArraysEqual:r?nm:p$e,areDataViewsEqual:g$e,areDatesEqual:v$e,areErrorsEqual:y$e,areFunctionsEqual:x$e,areMapsEqual:r?Yj(oD,nm):oD,areNumbersEqual:b$e,areObjectsEqual:r?nm:w$e,arePrimitiveWrappersEqual:_$e,areRegExpsEqual:j$e,areSetsEqual:r?Yj(lD,nm):lD,areTypedArraysEqual:r?Yj(wb,nm):wb,areUrlsEqual:S$e,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const a=Wv(n.areArraysEqual),i=Wv(n.areMapsEqual),o=Wv(n.areObjectsEqual),l=Wv(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function z$e(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function V$e({circular:e,comparator:t,createState:r,equals:n,strict:a}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:a})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const i={cache:void 0,equals:n,meta:void 0,strict:a};return function(l,c){return t(l,c,i)}}const W$e=Kl();Kl({strict:!0});Kl({circular:!0});Kl({circular:!0,strict:!0});Kl({createInternalComparator:()=>Tu});Kl({strict:!0,createInternalComparator:()=>Tu});Kl({circular:!0,createInternalComparator:()=>Tu});Kl({circular:!0,createInternalComparator:()=>Tu,strict:!0});function Kl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:a=!1}=e,i=U$e(e),o=B$e(i),l=r?r(o):z$e(o);return V$e({circular:t,comparator:o,createState:n,equals:l,strict:a})}function H$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cD(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):H$e(a)};requestAnimationFrame(n)}function ok(e){"@babel/helpers - typeof";return ok=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ok(e)}function q$e(e){return J$e(e)||Y$e(e)||K$e(e)||G$e()}function G$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$e(e,t){if(e){if(typeof e=="string")return uD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uD(e,t)}}function uD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J$e(e){if(Array.isArray(e))return e}function X$e(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=q$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){cD(a.bind(null,u),c);return}a(c),cD(a.bind(null,u));return}ok(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Yp(e){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(e)}function dD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(r),!0).forEach(function(n){Rq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rq(e,t,r){return t=Q$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q$e(e){var t=Z$e(e,"string");return Yp(t)==="symbol"?t:String(t)}function Z$e(e,t){if(Yp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eIe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},tIe=function(t){return t},rIe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rm=function(t,r){return Object.keys(r).reduce(function(n,a){return fD(fD({},n),{},Rq({},a,t(a,r[a])))},{})},hD=function(t,r,n){return t.map(function(a){return"".concat(rIe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function nIe(e,t){return sIe(e)||iIe(e,t)||Dq(e,t)||aIe()}function aIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function sIe(e){if(Array.isArray(e))return e}function oIe(e){return uIe(e)||cIe(e)||Dq(e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dq(e,t){if(e){if(typeof e=="string")return lk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lk(e,t)}}function cIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uIe(e){if(Array.isArray(e))return lk(e)}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _b=1e-4,Lq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Fq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mD=function(t,r){return function(n){var a=Lq(t,r);return Fq(a,n)}},dIe=function(t,r){return function(n){var a=Lq(t,r),i=[].concat(oIe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Fq(i,n)}},pD=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=nIe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=mD(a,o),h=mD(i,l),m=dIe(a,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var x=b>1?1:b,w=x,_=0;_<8;++_){var S=f(w)-x,N=m(w);if(Math.abs(S-x)<_b||N<_b)return h(w);w=g(w-S/N)}return h(w)};return p.isStepper=!1,p},fIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<_b&&Math.abs(p)<_b?[f,0]:[v,p]};return c.isStepper=!0,c.dt=l,c},hIe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return pD(a);case"spring":return fIe();default:if(a.split("(")[0]==="cubic-bezier")return pD(a)}return typeof a=="function"?a:null};function Jp(e){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jp(e)}function gD(e){return gIe(e)||pIe(e)||Bq(e)||mIe()}function mIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gIe(e){if(Array.isArray(e))return uk(e)}function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){ck(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ck(e,t,r){return t=vIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vIe(e){var t=yIe(e,"string");return Jp(t)==="symbol"?t:String(t)}function yIe(e,t){if(Jp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xIe(e,t){return _Ie(e)||wIe(e,t)||Bq(e,t)||bIe()}function bIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bq(e,t){if(e){if(typeof e=="string")return uk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uk(e,t)}}function uk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Ie(e){if(Array.isArray(e))return e}var jb=function(t,r,n){return t+(r-t)*n},dk=function(t){var r=t.from,n=t.to;return r!==n},jIe=function e(t,r,n){var a=Rm(function(i,o){if(dk(o)){var l=t(o.from,o.to,o.velocity),c=xIe(l,2),u=c[0],d=c[1];return cn(cn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Rm(function(i,o){return dk(o)?cn(cn({},o),{},{velocity:jb(o.velocity,a[i].velocity,n),from:jb(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const SIe=function(e,t,r,n,a){var i=eIe(e,t),o=i.reduce(function(v,b){return cn(cn({},v),{},ck({},b,[e[b],t[b]]))},{}),l=i.reduce(function(v,b){return cn(cn({},v),{},ck({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Rm(function(b,x){return x.from},l)},m=function(){return!Object.values(l).filter(dk).length},g=function(b){u||(u=b);var x=b-u,w=x/r.dt;l=jIe(r,l,w),a(cn(cn(cn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var x=(b-d)/n,w=Rm(function(S,N){return jb.apply(void 0,gD(N).concat([r(x)]))},o);if(a(cn(cn(cn({},e),t),w)),x<1)c=requestAnimationFrame(f);else{var _=Rm(function(S,N){return jb.apply(void 0,gD(N).concat([r(1)]))},o);a(cn(cn(cn({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}var NIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function kIe(e,t){if(e==null)return{};var r=CIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function CIe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Jj(e){return AIe(e)||OIe(e)||PIe(e)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PIe(e,t){if(e){if(typeof e=="string")return fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fk(e,t)}}function OIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function AIe(e){if(Array.isArray(e))return fk(e)}function fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(n){pm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pm(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function $Ie(e,t,r){return t&&MIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uq(e){var t=IIe(e,"string");return Mf(t)==="symbol"?t:String(t)}function IIe(e,t){if(Mf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hk(e,t)}function hk(e,t){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hk(e,t)}function DIe(e){var t=LIe();return function(){var n=Sb(e),a;if(t){var i=Sb(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return mk(this,a)}}function mk(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pk(e)}function pk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sb(e){return Sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sb(e)}var Xi=function(e){RIe(r,e);var t=DIe(r);function r(n,a){var i;TIe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(pk(i)),i.changeStyle=i.changeStyle.bind(pk(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),mk(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},mk(i);i.state={style:c?pm({},c,u):u}}else i.state={style:{}};return i}return $Ie(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?pm({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(W$e(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:a.to;if(this.state&&h){var v={style:c?pm({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(v)}this.runAnimation(xi(xi({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,m=SIe(o,l,hIe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,v,b){if(b===0)return p;var x=v.duration,w=v.easing,_=w===void 0?"ease":w,S=v.style,N=v.properties,k=v.onAnimationEnd,P=b>0?o[b-1]:v,A=N||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(Jj(p),[i.runJSAnimation.bind(i,{from:P.style,to:S,duration:x,easing:_}),x]);var T=hD(A,x,_),I=xi(xi(xi({},P.style),S),{},{transition:T});return[].concat(Jj(p),[I,x,k]).filter(tIe)};return this.manager.start([c].concat(Jj(o.reduce(m,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=X$e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,m=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?pm({},l,c):c,v=hD(Object.keys(p),o,u);g.start([d,i,xi(xi({},p),{},{transition:v}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=kIe(a,NIe),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,v=p===void 0?{}:p,b=g.className,x=y.cloneElement(m,xi(xi({},c),{},{style:xi(xi({},v),d),className:b}));return x};return u===1?f(y.Children.only(i)):M.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);Xi.displayName="Animate";Xi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xi.propTypes={from:Nt.oneOfType([Nt.object,Nt.string]),to:Nt.oneOfType([Nt.object,Nt.string]),attributeName:Nt.string,duration:Nt.number,begin:Nt.number,easing:Nt.oneOfType([Nt.string,Nt.func]),steps:Nt.arrayOf(Nt.shape({duration:Nt.number.isRequired,style:Nt.object.isRequired,easing:Nt.oneOfType([Nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Nt.func]),properties:Nt.arrayOf("string"),onAnimationEnd:Nt.func})),children:Nt.oneOfType([Nt.node,Nt.func]),isActive:Nt.bool,canBegin:Nt.bool,onAnimationEnd:Nt.func,shouldReAnimate:Nt.bool,onAnimationStart:Nt.func,onAnimationReStart:Nt.func};function Xp(e){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xp(e)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(this,arguments)}function FIe(e,t){return VIe(e)||zIe(e,t)||UIe(e,t)||BIe()}function BIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UIe(e,t){if(e){if(typeof e=="string")return xD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xD(e,t)}}function xD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function VIe(e){if(Array.isArray(e))return e}function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){WIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WIe(e,t,r){return t=HIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HIe(e){var t=qIe(e,"string");return Xp(t)=="symbol"?t:t+""}function qIe(e,t){if(Xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _D=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},GIe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},KIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zO=function(t){var r=wD(wD({},KIe),t),n=y.useRef(),a=y.useState(-1),i=FIe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=tt("recharts-rectangle",m);return x?M.createElement(Xi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:x},function(_){var S=_.width,N=_.height,k=_.x,P=_.y;return M.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:b,easing:g},M.createElement("path",Nb({},Re(r,!0),{className:w,d:_D(k,P,S,N,h),ref:n})))}):M.createElement("path",Nb({},Re(r,!0),{className:w,d:_D(c,u,d,f,h)}))},YIe=["points","className","baseLinePoints","connectNulls"];function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(this,arguments)}function JIe(e,t){if(e==null)return{};var r=XIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function XIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jD(e){return tRe(e)||eRe(e)||ZIe(e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(e,t){if(e){if(typeof e=="string")return gk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gk(e,t)}}function eRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tRe(e){if(Array.isArray(e))return gk(e)}function gk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var SD=function(t){return t&&t.x===+t.x&&t.y===+t.y},rRe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){SD(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),SD(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Dm=function(t,r){var n=rRe(t);r&&(n=[n.reduce(function(i,o){return[].concat(jD(i),jD(o))},[])]);var a=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},nRe=function(t,r,n){var a=Dm(t,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Dm(r.reverse(),n).slice(1))},aRe=function(t){var r=t.points,n=t.className,a=t.baseLinePoints,i=t.connectNulls,o=JIe(t,YIe);if(!r||!r.length)return null;var l=tt("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=nRe(r,a,i);return M.createElement("g",{className:l},M.createElement("path",Nd({},Re(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?M.createElement("path",Nd({},Re(o,!0),{fill:"none",d:Dm(r,i)})):null,c?M.createElement("path",Nd({},Re(o,!0),{fill:"none",d:Dm(a,i)})):null)}var d=Dm(r,i);return M.createElement("path",Nd({},Re(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function vk(){return vk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vk.apply(this,arguments)}var Vg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?y.createElement("circle",vk({},Re(t,!1),Vx(t),{className:o,cx:r,cy:n,r:a})):null};function Qp(e){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}var iRe=["x","y","top","left","width","height","className"];function yk(){return yk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yk.apply(this,arguments)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){oRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oRe(e,t,r){return t=lRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lRe(e){var t=cRe(e,"string");return Qp(t)=="symbol"?t:t+""}function cRe(e,t){if(Qp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uRe(e,t){if(e==null)return{};var r=dRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fRe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},hRe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=uRe(t,iRe),v=sRe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!pe(n)||!pe(i)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:M.createElement("path",yk({},Re(v,!0),{className:tt("recharts-cross",g),d:fRe(n,i,f,m,l,u)}))},mRe=Rw,pRe=ZH,gRe=$s;function vRe(e,t){return e&&e.length?mRe(e,gRe(t),pRe):void 0}var yRe=vRe;const xRe=Ct(yRe);var bRe=Rw,wRe=$s,_Re=eq;function jRe(e,t){return e&&e.length?bRe(e,wRe(t),_Re):void 0}var SRe=jRe;const NRe=Ct(SRe);var kRe=["cx","cy","angle","ticks","axisLine"],CRe=["ticks","tick","angle","tickFormatter","stroke"];function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(this,arguments)}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ac(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CD(e,t){if(e==null)return{};var r=ERe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ERe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ED(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function ORe(e,t,r){return t&&ED(e.prototype,t),r&&ED(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ARe(e,t,r){return t=kb(t),TRe(e,zq()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function TRe(e,t){if(t&&($f(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MRe(e)}function MRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zq=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xk(e,t)}function xk(e,t){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xk(e,t)}function Bw(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=IRe(e,"string");return $f(t)=="symbol"?t:t+""}function IRe(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uw=function(e){function t(){return PRe(this,t),ARe(this,t,arguments)}return $Re(t,e),ORe(t,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ht(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=xRe(l,function(d){return d.coordinate||0}),u=NRe(l,function(d){return d.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=CD(n,kRe),d=l.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=Ht(a,i,d[0],o),h=Ht(a,i,d[1],o),m=ac(ac(ac({},Re(u,!1)),{},{fill:"none"},Re(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return M.createElement("line",Lm({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,d=CD(a,CRe),f=this.getTickTextAnchor(),h=Re(d,!1),m=Re(o,!1),g=i.map(function(p,v){var b=n.getTickValueCoord(p),x=ac(ac(ac(ac({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:v},b),{},{payload:p});return M.createElement(dt,Lm({className:tt("recharts-polar-radius-axis-tick",Eq(o)),key:"tick-".concat(p.coordinate)},uu(n.props,p,v)),t.renderTickItem(o,x,c?c(p.value,v):p.value))});return M.createElement(dt,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,o=n.tick;return!a||!a.length?null:M.createElement(dt,{className:tt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),en.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=M.createElement(du,Lm({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(y.PureComponent);Bw(Uw,"displayName","PolarRadiusAxis");Bw(Uw,"axisType","radiusAxis");Bw(Uw,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){zw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function DRe(e,t,r){return t&&OD(e.prototype,t),r&&OD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e,t,r){return t=Cb(t),FRe(e,Wq()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function FRe(e,t){if(t&&(If(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BRe(e)}function BRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function URe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}function bk(e,t){return bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},bk(e,t)}function zw(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=zRe(e,"string");return If(t)=="symbol"?t:t+""}function zRe(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var VRe=Math.PI/180,AD=1e-5,Vw=function(e){function t(){return RRe(this,t),LRe(this,t,arguments)}return URe(t,e),DRe(t,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,d=u||8,f=Ht(i,o,l,n.coordinate),h=Ht(i,o,l+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*VRe),o;return i>AD?o=a==="outer"?"start":"end":i<-AD?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ic(ic({},Re(this.props,!1)),{},{fill:"none"},Re(l,!1));if(c==="circle")return M.createElement(Vg,bc({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return Ht(a,i,o,h.coordinate)});return M.createElement(aRe,bc({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,d=Re(this.props,!1),f=Re(o,!1),h=ic(ic({},d),{},{fill:"none"},Re(l,!1)),m=i.map(function(g,p){var v=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),x=ic(ic(ic({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:v.x2,y:v.y2});return M.createElement(dt,bc({className:tt("recharts-polar-angle-axis-tick",Eq(o)),key:"tick-".concat(g.coordinate)},uu(n.props,g,p)),l&&M.createElement("line",bc({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,x,c?c(g.value,p):g.value))});return M.createElement(dt,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!a||!a.length?null:M.createElement(dt,{className:tt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var o;return M.isValidElement(n)?o=M.cloneElement(n,a):We(n)?o=n(a):o=M.createElement(du,bc({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(y.PureComponent);zw(Vw,"displayName","PolarAngleAxis");zw(Vw,"axisType","angleAxis");zw(Vw,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var WRe=J9,HRe=WRe(Object.getPrototypeOf,Object),qRe=HRe,GRe=Eo,KRe=qRe,YRe=Po,JRe="[object Object]",XRe=Function.prototype,QRe=Object.prototype,qq=XRe.toString,ZRe=QRe.hasOwnProperty,eDe=qq.call(Object);function tDe(e){if(!YRe(e)||GRe(e)!=JRe)return!1;var t=KRe(e);if(t===null)return!0;var r=ZRe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qq.call(r)==eDe}var rDe=tDe;const nDe=Ct(rDe);var aDe=Eo,iDe=Po,sDe="[object Boolean]";function oDe(e){return e===!0||e===!1||iDe(e)&&aDe(e)==sDe}var lDe=oDe;const cDe=Ct(lDe);function Zp(e){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zp(e)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(this,arguments)}function uDe(e,t){return mDe(e)||hDe(e,t)||fDe(e,t)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fDe(e,t){if(e){if(typeof e=="string")return TD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TD(e,t)}}function TD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function mDe(e){if(Array.isArray(e))return e}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){pDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pDe(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return Zp(t)=="symbol"?t:t+""}function vDe(e,t){if(Zp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ID=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},yDe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xDe=function(t){var r=$D($D({},yDe),t),n=y.useRef(),a=y.useState(-1),i=uDe(a,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,v=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var x=tt("recharts-trapezoid",m);return b?M.createElement(Xi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,S=w.lowerWidth,N=w.height,k=w.x,P=w.y;return M.createElement(Xi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:g},M.createElement("path",Eb({},Re(r,!0),{className:x,d:ID(k,P,_,S,N),ref:n})))}):M.createElement("g",null,M.createElement("path",Eb({},Re(r,!0),{className:x,d:ID(c,u,d,f,h)})))},bDe=["option","shapeType","propTransformer","activeClassName","isActive"];function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function wDe(e,t){if(e==null)return{};var r=_De(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _De(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){jDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jDe(e,t,r){return t=SDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SDe(e){var t=NDe(e,"string");return eg(t)=="symbol"?t:t+""}function NDe(e,t){if(eg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kDe(e,t){return Pb(Pb({},t),e)}function CDe(e,t){return e==="symbols"}function DD(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return M.createElement(zO,r);case"trapezoid":return M.createElement(xDe,r);case"sector":return M.createElement(Aq,r);case"symbols":if(CDe(t))return M.createElement(oO,r);break;default:return null}}function EDe(e){return y.isValidElement(e)?e.props:e}function Gq(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?kDe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=wDe(e,bDe),u;if(y.isValidElement(t))u=y.cloneElement(t,Pb(Pb({},c),EDe(t)));else if(We(t))u=t(c);else if(nDe(t)&&!cDe(t)){var d=a(t,c);u=M.createElement(DD,{shapeType:r,elementProps:d})}else{var f=c;u=M.createElement(DD,{shapeType:r,elementProps:f})}return l?M.createElement(dt,{className:o},u):u}function Ww(e,t){return t!=null&&"trapezoids"in e.props}function Hw(e,t){return t!=null&&"sectors"in e.props}function tg(e,t){return t!=null&&"points"in e.props}function PDe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ODe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ADe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function TDe(e,t){var r;return Ww(e,t)?r=PDe:Hw(e,t)?r=ODe:tg(e,t)&&(r=ADe),r}function MDe(e,t){var r;return Ww(e,t)?r="trapezoids":Hw(e,t)?r="sectors":tg(e,t)&&(r="points"),r}function $De(e,t){if(Ww(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Hw(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return tg(e,t)?t.payload:{}}function IDe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=MDe(r,t),i=$De(r,t),o=n.filter(function(c,u){var d=fu(i,c),f=r.props[a].filter(function(g){var p=TDe(r,t);return p(g,t)}),h=r.props[a].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var Iy;function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(this,arguments)}function LD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(r),!0).forEach(function(n){Xa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function DDe(e,t,r){return t&&FD(e.prototype,t),r&&FD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function LDe(e,t,r){return t=Ob(t),FDe(e,Kq()?Reflect.construct(t,r||[],Ob(e).constructor):t.apply(e,r))}function FDe(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BDe(e)}function BDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kq=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ob(e)}function UDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wk(e,t)}function wk(e,t){return wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wk(e,t)}function Xa(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=zDe(e,"string");return Rf(t)=="symbol"?t:t+""}function zDe(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ao=function(e){function t(r){var n;return RDe(this,t),n=LDe(this,t,[r]),Xa(n,"pieRef",null),Xa(n,"sectorRefs",[]),Xa(n,"id",Pu("recharts-pie-")),Xa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),We(a)&&a()}),Xa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),We(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return UDe(t,e),DDe(t,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=Re(this.props,!1),f=Re(o,!1),h=Re(l,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,v){var b=(p.startAngle+p.endAngle)/2,x=Ht(p.cx,p.cy,p.outerRadius+m,b),w=Bt(Bt(Bt(Bt({},d),p),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(x.x,p.cx)},x),_=Bt(Bt(Bt(Bt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:v,points:[Ht(p.cx,p.cy,p.outerRadius,b),x]}),S=c;return et(c)&&et(u)?S="value":et(c)&&(S=u),M.createElement(dt,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,w,_r(p,S)))});return M.createElement(dt,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=a.isActiveIndex(d),h=c&&a.hasActiveIndex()?c:null,m=f?o:h,g=Bt(Bt({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return M.createElement(dt,kd({ref:function(v){v&&!a.sectorRefs.includes(v)&&a.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},uu(a.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),M.createElement(Gq,kd({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return M.createElement(Xi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,v=[],b=i&&i[0],x=b.startAngle;return i.forEach(function(w,_){var S=h&&h[_],N=_>0?$a(w,"paddingAngle",0):0;if(S){var k=Br(S.endAngle-S.startAngle,w.endAngle-w.startAngle),P=Bt(Bt({},w),{},{startAngle:x+N,endAngle:x+k(p)+N});v.push(P),x=P.endAngle}else{var A=w.endAngle,T=w.startAngle,I=Br(0,A-T),O=I(p),L=Bt(Bt({},w),{},{startAngle:x+N,endAngle:x+O+N});v.push(L),x=L.endAngle}}),M.createElement(dt,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!fu(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,d=a.cy,f=a.innerRadius,h=a.outerRadius,m=a.isAnimationActive,g=this.state.isAnimationFinished;if(i||!o||!o.length||!pe(u)||!pe(d)||!pe(f)||!pe(h))return null;var p=tt("recharts-pie",l);return M.createElement(dt,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),en.renderCallByParent(this.props,null,!1),(!m||g)&&Ss.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);if(We(n))return n(a);var o=tt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return M.createElement(Hc,kd({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,i){if(M.isValidElement(n))return M.cloneElement(n,a);var o=i;if(We(n)&&(o=n(a),M.isValidElement(o)))return o;var l=tt("recharts-pie-label-text",typeof n!="boolean"&&!We(n)?n.className:"");return M.createElement(du,kd({},a,{alignmentBaseline:"middle",className:l}),o)}}])}(y.PureComponent);Iy=Ao;Xa(Ao,"displayName","Pie");Xa(Ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Hl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xa(Ao,"parseDeltaAngle",function(e,t){var r=Bn(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Xa(Ao,"getRealPieData",function(e){var t=e.data,r=e.children,n=Re(e,!1),a=Ia(r,Dg);return t&&t.length?t.map(function(i,o){return Bt(Bt(Bt({payload:i},n),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Bt(Bt({},n),i.props)}):[]});Xa(Ao,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,a=t.width,i=t.height,o=Cq(a,i),l=n+Un(e.cx,a,a/2),c=r+Un(e.cy,i,i/2),u=Un(e.innerRadius,o,0),d=Un(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Xa(Ao,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Bt(Bt({},t.type.defaultProps),t.props):t.props,a=Iy.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Iy.parseCoordinateOfPie(n,r),p=Iy.parseDeltaAngle(o,l),v=Math.abs(p),b=u;et(u)&&et(f)?(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):et(u)&&(Ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var x=a.filter(function(P){return _r(P,b,0)!==0}).length,w=(v>=360?x:x-1)*c,_=v-x*m-w,S=a.reduce(function(P,A){var T=_r(A,b,0);return P+(pe(T)?T:0)},0),N;if(S>0){var k;N=a.map(function(P,A){var T=_r(P,b,0),I=_r(P,d,A),O=(pe(T)?T:0)/S,L;A?L=k.endAngle+Bn(p)*c*(T!==0?1:0):L=o;var $=L+Bn(p)*((T!==0?m:0)+O*_),F=(L+$)/2,z=(g.innerRadius+g.outerRadius)/2,V=[{name:I,value:T,payload:P,dataKey:b,type:h}],R=Ht(g.cx,g.cy,z,F);return k=Bt(Bt(Bt({percent:O,cornerRadius:i,name:I,tooltipPayload:V,midAngle:F,middleRadius:z,tooltipPosition:R},P),g),{},{value:_r(P,b),startAngle:L,endAngle:$,payload:P,paddingAngle:Bn(p)*c}),k})}return Bt(Bt({},g),{},{sectors:N,data:a})});var VDe=Math.ceil,WDe=Math.max;function HDe(e,t,r,n){for(var a=-1,i=WDe(VDe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var qDe=HDe,GDe=pH,BD=1/0,KDe=17976931348623157e292;function YDe(e){if(!e)return e===0?e:0;if(e=GDe(e),e===BD||e===-BD){var t=e<0?-1:1;return t*KDe}return e===e?e:0}var Jq=YDe,JDe=qDe,XDe=Ew,Xj=Jq;function QDe(e){return function(t,r,n){return n&&typeof n!="number"&&XDe(t,r,n)&&(r=n=void 0),t=Xj(t),r===void 0?(r=t,t=0):r=Xj(r),n=n===void 0?t<r?1:-1:Xj(n),JDe(t,r,n,e)}}var ZDe=QDe,e4e=ZDe,t4e=e4e(),r4e=t4e;const Ab=Ct(r4e);function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return t=n4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n4e(e){var t=a4e(e,"string");return rg(t)=="symbol"?t:t+""}function a4e(e,t){if(rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i4e=["Webkit","Moz","O","ms"],s4e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=i4e.reduce(function(i,o){return zD(zD({},i),{},Xq({},o+n,r))},{});return a[t]=r,a};function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(this,arguments)}function VD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VD(Object(r),!0).forEach(function(n){va(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function l4e(e,t,r){return t&&WD(e.prototype,t),r&&WD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c4e(e,t,r){return t=Mb(t),u4e(e,Qq()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function u4e(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d4e(e)}function d4e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function f4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_k(e,t)}function _k(e,t){return _k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},_k(e,t)}function va(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=h4e(e,"string");return Df(t)=="symbol"?t:t+""}function h4e(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var m4e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=$m().domain(Ab(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},HD=function(t){return t.changedTouches&&!!t.changedTouches.length},Lf=function(e){function t(r){var n;return o4e(this,t),n=c4e(this,t,[r]),va(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),va(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),va(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),va(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),va(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),va(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),va(n,"handleSlideDragStart",function(a){var i=HD(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return f4e(t,e),l4e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=_r(i[n],l,n);return We(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var v=this.getIndex({startX:o+p,endX:l+p});(v.startIndex!==h||v.endIndex!==m)&&g&&g(v),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=HD(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,v=d.data,b={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,f+h-m-u):x<0&&(x=Math.max(x,f-u)),b[o]=u+x;var w=this.getIndex(b),_=w.startIndex,S=w.endIndex,N=function(){var P=v.length-1;return o==="startX"&&(l>c?_%p===0:S%p===0)||l<c&&S===P||o==="endX"&&(l>c?S%p===0:_%p===0)||l>c&&S===P};this.setState(va(va({},o,u+x),"brushMoveStartX",n.pageX),function(){g&&N()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];a==="startX"&&m>=u||a==="endX"&&m<=c||this.setState(va({},a,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return M.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?M.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,v=c.endIndex,b=Math.max(n,this.props.x),x=Qj(Qj({},Re(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return M.createElement(dt,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return M.createElement(dt,{className:"recharts-brush-texts"},M.createElement(du,Tb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(a)),M.createElement(du,Tb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,v=h.isSlideMoving,b=h.isTravellerMoving,x=h.isTravellerFocused;if(!a||!a.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var w=tt("recharts-brush",i),_=M.Children.count(o)===1,S=s4e("userSelect","none");return M.createElement(dt,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||v||b||x||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),M.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return M.isValidElement(n)?i=M.cloneElement(n,a):We(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Qj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?m4e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(m){return a.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(y.PureComponent);va(Lf,"displayName","Brush");va(Lf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p4e=mO;function g4e(e,t){var r;return p4e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var v4e=g4e,y4e=z9,x4e=$s,b4e=v4e,w4e=ca,_4e=Ew;function j4e(e,t,r){var n=w4e(e)?y4e:b4e;return r&&_4e(e,t,r)&&(t=void 0),n(e,x4e(t))}var S4e=j4e;const N4e=Ct(S4e);var Ns=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},qD=uH;function k4e(e,t,r){t=="__proto__"&&qD?qD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var C4e=k4e,E4e=C4e,P4e=lH,O4e=$s;function A4e(e,t){var r={};return t=O4e(t),P4e(e,function(n,a,i){E4e(r,a,t(n,a,i))}),r}var T4e=A4e;const M4e=Ct(T4e);function $4e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var I4e=$4e,R4e=mO;function D4e(e,t){var r=!0;return R4e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var L4e=D4e,F4e=I4e,B4e=L4e,U4e=$s,z4e=ca,V4e=Ew;function W4e(e,t,r){var n=z4e(e)?F4e:B4e;return r&&V4e(e,t,r)&&(t=void 0),n(e,U4e(t))}var H4e=W4e;const e7=Ct(H4e);var q4e=["x","y"];function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function jk(){return jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jk.apply(this,arguments)}function GD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function am(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(r),!0).forEach(function(n){G4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G4e(e,t,r){return t=K4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K4e(e){var t=Y4e(e,"string");return ng(t)=="symbol"?t:t+""}function Y4e(e,t){if(ng(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J4e(e,t){if(e==null)return{};var r=X4e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q4e(e,t){var r=e.x,n=e.y,a=J4e(e,q4e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return am(am(am(am(am({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function KD(e){return M.createElement(Gq,jk({shapeType:"rectangle",propTransformer:Q4e,activeClassName:"recharts-active-bar"},e))}var Z4e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=pe(n)||wbe(n);return i?t(n,a):(i||mu(),r)}},eLe=["value","background"],t7;function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function tLe(e,t){if(e==null)return{};var r=rLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(this,arguments)}function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(n){dl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n7(n.key),n)}}function aLe(e,t,r){return t&&JD(e.prototype,t),r&&JD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iLe(e,t,r){return t=Ib(t),sLe(e,r7()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function sLe(e,t){if(t&&(Ff(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oLe(e)}function oLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r7=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function lLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sk(e,t)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Sk(e,t)}function dl(e,t,r){return t=n7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=cLe(e,"string");return Ff(t)=="symbol"?t:t+""}function cLe(e,t){if(Ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mu=function(e){function t(){var r;nLe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=iLe(this,t,[].concat(a)),dl(r,"state",{isAnimationFinished:!1}),dl(r,"id",Pu("recharts-bar-")),dl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),dl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return lLe(t,e),aLe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Re(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Er(Er(Er({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return M.createElement(dt,$b({className:"recharts-bar-rectangle"},uu(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),M.createElement(KD,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return M.createElement(Xi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(v,b){var x=h&&h[b];if(x){var w=Br(x.x,v.x),_=Br(x.y,v.y),S=Br(x.width,v.width),N=Br(x.height,v.height);return Er(Er({},v),{},{x:w(g),y:_(g),width:S(g),height:N(g)})}if(o==="horizontal"){var k=Br(0,v.height),P=k(g);return Er(Er({},v),{},{y:v.y+v.height-P,height:P})}var A=Br(0,v.width),T=A(g);return Er(Er({},v),{},{width:T})});return M.createElement(dt,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!fu(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Re(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=tLe(u,eLe);if(!f)return null;var m=Er(Er(Er(Er(Er({},h),{},{fill:"#eee"},f),c),uu(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return M.createElement(KD,$b({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ia(d,zg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(v,b){var x=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:x,errorVal:_r(v,b)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,g,f.map(function(p){return M.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,b=tt("recharts-bar",o),x=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=x||w,S=et(p)?this.id:p;return M.createElement(dt,{className:b},x||w?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(S)},M.createElement("rect",{x:x?u:u-f/2,y:w?d:d-h/2,width:x?f:f*2,height:w?h:h*2}))):null,M.createElement(dt,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!m||v)&&Ss.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);t7=Mu;dl(Mu,"displayName","Bar");dl(Mu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Hl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});dl(Mu,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=F2e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,v=p!==void 0?Er(Er({},p),r.props):r.props,b=v.dataKey,x=v.children,w=v.minPointSize,_=g==="horizontal"?o:i,S=u?_.scale.domain():null,N=q2e({numericAxis:_}),k=Ia(x,Dg),P=f.map(function(A,T){var I,O,L,$,F,z;u?I=B2e(u[d+T],S):(I=_r(A,b),Array.isArray(I)||(I=[N,I]));var V=Z4e(w,t7.defaultProps.minPointSize)(I[1],T);if(g==="horizontal"){var R,U=[o.scale(I[0]),o.scale(I[1])],K=U[0],re=U[1];O=zR({axis:i,ticks:l,bandSize:a,offset:m.offset,entry:A,index:T}),L=(R=re??K)!==null&&R!==void 0?R:void 0,$=m.size;var ee=K-re;if(F=Number.isNaN(ee)?0:ee,z={x:O,y:o.y,width:$,height:o.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var j=Bn(F||V)*(Math.abs(V)-Math.abs(F));L-=j,F+=j}}else{var E=[i.scale(I[0]),i.scale(I[1])],C=E[0],B=E[1];if(O=C,L=zR({axis:o,ticks:c,bandSize:a,offset:m.offset,entry:A,index:T}),$=B-C,F=m.size,z={x:i.x,y:L,width:i.width,height:F},Math.abs(V)>0&&Math.abs($)<Math.abs(V)){var D=Bn($||V)*(Math.abs(V)-Math.abs($));$+=D}}return Er(Er(Er({},A),{},{x:O,y:L,width:$,height:F,value:u?I:I[1],payload:A,background:z},k&&k[T]&&k[T].props),{},{tooltipPayload:[Nq(r,A)],tooltipPosition:{x:O+$/2,y:L+F/2}})});return Er({data:P,layout:g},h)});function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function uLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a7(n.key),n)}}function dLe(e,t,r){return t&&XD(e.prototype,t),r&&XD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QD(Object(r),!0).forEach(function(n){qw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qw(e,t,r){return t=a7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a7(e){var t=fLe(e,"string");return ag(t)=="symbol"?t:t+""}function fLe(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VO=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!xa(u,Mu);return d.reduce(function(m,g){var p=r[g],v=p.orientation,b=p.domain,x=p.padding,w=x===void 0?{}:x,_=p.mirror,S=p.reversed,N="".concat(v).concat(_?"Mirror":""),k,P,A,T,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],L=1/0,$=p.categoricalDomain.sort(Sbe);if($.forEach(function(E,C){C>0&&(L=Math.min((E||0)-($[C-1]||0),L))}),Number.isFinite(L)){var F=L/O,z=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(k=F*z/2),p.padding==="no-gap"){var V=Un(t.barCategoryGap,F*z),R=F*z/2;k=R-V-(R-V)/z*V}}}a==="xAxis"?P=[n.left+(w.left||0)+(k||0),n.left+n.width-(w.right||0)-(k||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(k||0),n.top+n.height-(w.bottom||0)-(k||0)]:P=p.range,S&&(P=[P[1],P[0]]);var U=wq(p,i,h),K=U.scale,re=U.realScaleType;K.domain(b).range(P),_q(K);var ee=jq(K,Ai(Ai({},p),{},{realScaleType:re}));a==="xAxis"?(I=v==="top"&&!_||v==="bottom"&&_,A=n.left,T=f[N]-I*p.height):a==="yAxis"&&(I=v==="left"&&!_||v==="right"&&_,A=f[N]-I*p.width,T=n.top);var j=Ai(Ai(Ai({},p),ee),{},{realScaleType:re,x:A,y:T,scale:K,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return j.bandSize=yb(j,ee),!p.hide&&a==="xAxis"?f[N]+=(I?-1:1)*j.height:p.hide||(f[N]+=(I?-1:1)*j.width),Ai(Ai({},m),{},qw({},g,j))},{})},i7=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},hLe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return i7({x:r,y:n},{x:a,y:i})},s7=function(){function e(t){uLe(this,e),this.scale=t}return dLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();qw(s7,"EPS",1e-4);var WO=function(t){var r=Object.keys(t).reduce(function(n,a){return Ai(Ai({},n),{},qw({},a,s7.create(t[a])))},{});return Ai(Ai({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return M4e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return e7(a,function(i,o){return r[o].isInRange(i)})}})};function mLe(e){return(e%180+180)%180}var pLe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=mLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},gLe=$s,vLe=Rg,yLe=kw;function xLe(e){return function(t,r,n){var a=Object(t);if(!vLe(t)){var i=gLe(r);t=yLe(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var bLe=xLe,wLe=Jq;function _Le(e){var t=wLe(e),r=t%1;return t===t?r?t-r:t:0}var jLe=_Le,SLe=rH,NLe=$s,kLe=jLe,CLe=Math.max;function ELe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:kLe(r);return a<0&&(a=CLe(n+a,0)),SLe(e,NLe(t),a)}var PLe=ELe,OLe=bLe,ALe=PLe,TLe=OLe(ALe),MLe=TLe;const $Le=Ct(MLe);var ILe=Cxe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),HO=y.createContext(void 0),qO=y.createContext(void 0),o7=y.createContext(void 0),l7=y.createContext({}),c7=y.createContext(void 0),u7=y.createContext(0),d7=y.createContext(0),ZD=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=ILe(i);return M.createElement(HO.Provider,{value:n},M.createElement(qO.Provider,{value:a},M.createElement(l7.Provider,{value:i},M.createElement(o7.Provider,{value:d},M.createElement(c7.Provider,{value:o},M.createElement(u7.Provider,{value:u},M.createElement(d7.Provider,{value:c},l)))))))},RLe=function(){return y.useContext(c7)},f7=function(t){var r=y.useContext(HO);r==null&&mu();var n=r[t];return n==null&&mu(),n},DLe=function(){var t=y.useContext(HO);return Zo(t)},LLe=function(){var t=y.useContext(qO),r=$Le(t,function(n){return e7(n.domain,Number.isFinite)});return r||Zo(t)},h7=function(t){var r=y.useContext(qO);r==null&&mu();var n=r[t];return n==null&&mu(),n},FLe=function(){var t=y.useContext(o7);return t},BLe=function(){return y.useContext(l7)},GO=function(){return y.useContext(d7)},KO=function(){return y.useContext(u7)};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}function ULe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p7(n.key),n)}}function VLe(e,t,r){return t&&zLe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WLe(e,t,r){return t=Rb(t),HLe(e,m7()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function HLe(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qLe(e)}function qLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m7=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function GLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nk(e,t)}function Nk(e,t){return Nk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Nk(e,t)}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){YO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YO(e,t,r){return t=p7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p7(e){var t=KLe(e,"string");return Bf(t)=="symbol"?t:t+""}function KLe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function YLe(e,t){return ZLe(e)||QLe(e,t)||XLe(e,t)||JLe()}function JLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XLe(e,t){if(e){if(typeof e=="string")return r4(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(e,t)}}function r4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ZLe(e){if(Array.isArray(e))return e}function kk(){return kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kk.apply(this,arguments)}var eFe=function(t,r){var n;return M.isValidElement(t)?n=M.cloneElement(t,r):We(t)?n=t(r):n=M.createElement("line",kk({},r,{className:"recharts-reference-line-line"})),n},tFe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ns(u,"discard")&&!t.y.isInRange(p))return null;var v=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?v.reverse():v}if(r){var b=u.x,x=t.x.apply(b,{position:o});if(Ns(u,"discard")&&!t.x.isInRange(x))return null;var w=[{x,y:f+m},{x,y:f}];return l==="top"?w.reverse():w}if(a){var _=u.segment,S=_.map(function(N){return t.apply(N,{position:o})});return Ns(u,"discard")&&N4e(S,function(N){return!t.isInRange(N)})?null:S}return null};function rFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=RLe(),d=f7(a),f=h7(i),h=FLe();if(!u||!h)return null;Ui(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=WO({x:d.scale,y:f.scale}),g=Vr(t),p=Vr(r),v=n&&n.length===2,b=tFe(m,g,p,v,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var x=YLe(b,2),w=x[0],_=w.x,S=w.y,N=x[1],k=N.x,P=N.y,A=Ns(e,"hidden")?"url(#".concat(u,")"):void 0,T=t4(t4({clipPath:A},Re(e,!0)),{},{x1:_,y1:S,x2:k,y2:P});return M.createElement(dt,{className:tt("recharts-reference-line",l)},eFe(o,T),en.renderCallByParent(e,hLe({x1:_,y1:S,x2:k,y2:P})))}var JO=function(e){function t(){return ULe(this,t),WLe(this,t,arguments)}return GLe(t,e),VLe(t,[{key:"render",value:function(){return M.createElement(rFe,this.props)}}])}(M.Component);YO(JO,"displayName","ReferenceLine");YO(JO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Ck(){return Ck=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ck.apply(this,arguments)}function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){Gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v7(n.key),n)}}function iFe(e,t,r){return t&&aFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sFe(e,t,r){return t=Db(t),oFe(e,g7()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function oFe(e,t){if(t&&(Uf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lFe(e)}function lFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g7=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function cFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ek(e,t)}function Ek(e,t){return Ek=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ek(e,t)}function Gw(e,t,r){return t=v7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v7(e){var t=uFe(e,"string");return Uf(t)=="symbol"?t:t+""}function uFe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dFe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=WO({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ns(t,"discard")&&!o.isInRange(l)?null:l},Kw=function(e){function t(){return nFe(this,t),sFe(this,t,arguments)}return cFe(t,e),iFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Vr(a),d=Vr(i);if(Ui(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=dFe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,v=g.className,b=Ns(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=a4(a4({clipPath:b},Re(this.props,!0)),{},{cx:h,cy:m});return M.createElement(dt,{className:tt("recharts-reference-dot",v)},t.renderDot(p,x),en.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(M.Component);Gw(Kw,"displayName","ReferenceDot");Gw(Kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Gw(Kw,"renderDot",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(Vg,Ck({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Pk(){return Pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pk.apply(this,arguments)}function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function s4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){Yw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x7(n.key),n)}}function mFe(e,t,r){return t&&hFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pFe(e,t,r){return t=Lb(t),gFe(e,y7()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function gFe(e,t){if(t&&(zf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vFe(e)}function vFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y7=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function yFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ok(e,t)}function Ok(e,t){return Ok=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ok(e,t)}function Yw(e,t,r){return t=x7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7(e){var t=xFe(e,"string");return zf(t)=="symbol"?t:t+""}function xFe(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bFe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=WO({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ns(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:i7(m,g)},Jw=function(e){function t(){return fFe(this,t),pFe(this,t,arguments)}return yFe(t,e),mFe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ui(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Vr(a),h=Vr(i),m=Vr(o),g=Vr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var v=bFe(f,h,m,g,this.props);if(!v&&!p)return null;var b=Ns(this.props,"hidden")?"url(#".concat(d,")"):void 0;return M.createElement(dt,{className:tt("recharts-reference-area",c)},t.renderRect(p,s4(s4({clipPath:b},Re(this.props,!0)),v)),en.renderCallByParent(this.props,v))}}])}(M.Component);Yw(Jw,"displayName","ReferenceArea");Yw(Jw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Yw(Jw,"renderRect",function(e,t){var r;return M.isValidElement(e)?r=M.cloneElement(e,t):We(e)?r=e(t):r=M.createElement(zO,Pk({},t,{className:"recharts-reference-area-rect"})),r});function b7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function wFe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return pLe(n,r)}function _Fe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Fb(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function jFe(e,t){return b7(e,t+1)}function SFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:b7(n,u)};var p=c,v,b=function(){return v===void 0&&(v=r(g,p)),v},x=g.coordinate,w=c===0||Fb(e,x,b,d,l);w||(c=0,d=o,u+=1),w&&(d=x+e*(b()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){NFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NFe(e,t,r){return t=kFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kFe(e){var t=CFe(e,"string");return ig(t)=="symbol"?t:t+""}function CFe(e,t){if(ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EFe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var v=e*(m.coordinate+e*p()/2-c);i[h]=m=bn(bn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=bn(bn({},m),{},{tickCoord:m.coordinate});var b=Fb(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+a),i[h]=bn(bn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function PFe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=bn(bn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Fb(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=bn(bn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(x){var w=o[x],_,S=function(){return _===void 0&&(_=r(w,x)),_};if(x===0){var N=e*(w.coordinate-e*S()/2-c);o[x]=w=bn(bn({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else o[x]=w=bn(bn({},w),{},{tickCoord:w.coordinate});var k=Fb(e,w.tickCoord,S,c,u);k&&(c=w.tickCoord+e*(S()/2+a),o[x]=bn(bn({},w),{},{isShow:!0}))},v=0;v<g;v++)p(v);return o}function XO(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(pe(c)||Hl.isSsr)return jFe(a,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Mm(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var S=We(u)?u(w.value,_):w.value;return m==="width"?wFe(Mm(S,{fontSize:t,letterSpacing:r}),g,f):Mm(S,{fontSize:t,letterSpacing:r})[m]},v=a.length>=2?Bn(a[1].coordinate-a[0].coordinate):1,b=_Fe(i,v,m);return c==="equidistantPreserveStart"?SFe(v,b,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=PFe(v,b,p,a,o,c==="preserveStartEnd"):h=EFe(v,b,p,a,o),h.filter(function(x){return x.isShow}))}var OFe=["viewBox"],AFe=["viewBox"],TFe=["ticks"];function Vf(e){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vf(e)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function l4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l4(Object(r),!0).forEach(function(n){QO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zj(e,t){if(e==null)return{};var r=MFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_7(n.key),n)}}function IFe(e,t,r){return t&&c4(e.prototype,t),r&&c4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RFe(e,t,r){return t=Bb(t),DFe(e,w7()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function DFe(e,t){if(t&&(Vf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LFe(e)}function LFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w7=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function FFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ak(e,t)}function Ak(e,t){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ak(e,t)}function QO(e,t,r){return t=_7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=BFe(e,"string");return Vf(t)=="symbol"?t:t+""}function BFe(e,t){if(Vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Eh=function(e){function t(r){var n;return $Fe(this,t),n=RFe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return FFe(t,e),IFe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Zj(n,OFe),l=this.props,c=l.viewBox,u=Zj(l,AFe);return!Vd(i,c)||!Vd(o,u)||!Vd(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,m,g,p,v,b,x,w=f?-1:1,_=n.tickSize||d,S=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,v=o+ +!f*c,p=v-w*_,x=p-w*h,b=S;break;case"left":p=v=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,x=S;break;case"right":p=v=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,x=S;break;default:m=g=n.coordinate,v=o+ +f*c,p=v+w*_,x=p+w*h,b=S;break}return{line:{x1:m,y1:p,x2:g,y2:v},tick:{x:b,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ir(Ir(Ir({},Re(this.props,!1)),Re(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ir(Ir({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ir(Ir({},f),{},{x1:a+m*o,y1:i,x2:a+m*o,y2:i+l})}return M.createElement("line",Cd({},f,{className:tt("recharts-cartesian-axis-line",$a(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=XO(Ir(Ir({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=Re(this.props,!1),b=Re(d,!1),x=Ir(Ir({},v),{},{fill:"none"},Re(c,!1)),w=m.map(function(_,S){var N=o.getTickLineCoord(_),k=N.line,P=N.tick,A=Ir(Ir(Ir(Ir({textAnchor:g,verticalAnchor:p},v),{},{stroke:"none",fill:u},b),P),{},{index:S,payload:_,visibleTicksCount:m.length,tickFormatter:f});return M.createElement(dt,Cd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},uu(o.props,_,S)),c&&M.createElement("line",Cd({},x,k,{className:tt("recharts-cartesian-axis-tick-line",$a(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(We(f)?f(_.value,S):_.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,m=Zj(f,TFe),g=h;return We(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:M.createElement(dt,{className:tt("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),en.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o,l=tt(a.className,"recharts-cartesian-axis-tick-value");return M.isValidElement(n)?o=M.cloneElement(n,Ir(Ir({},a),{},{className:l})):We(n)?o=n(Ir(Ir({},a),{},{className:l})):o=M.createElement(du,Cd({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);QO(Eh,"displayName","CartesianAxis");QO(Eh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var UFe=["x1","y1","x2","y2","key"],zFe=["offset"];function pu(e){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){VFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VFe(e,t,r){return t=WFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WFe(e){var t=HFe(e,"string");return pu(t)=="symbol"?t:t+""}function HFe(e,t){if(pu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}function d4(e,t){if(e==null)return{};var r=qFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GFe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return M.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function j7(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=d4(t,UFe),u=Re(c,!1);u.offset;var d=d4(u,zFe);r=M.createElement("line",Oc({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function KFe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Sn(Sn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return j7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YFe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Sn(Sn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return j7(a,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function JFe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+o-h:d[m+1]-h;if(p<=0)return null;var v=m%t.length;return M.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function XFe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var v=m%n.length;return M.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var QFe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return bq(XO(Sn(Sn(Sn({},Eh.defaultProps),n),{},{ticks:eo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},ZFe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return bq(XO(Sn(Sn(Sn({},Eh.defaultProps),n),{},{ticks:eo(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Qu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xw(e){var t,r,n,a,i,o,l=GO(),c=KO(),u=BLe(),d=Sn(Sn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Qu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Qu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Qu.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Qu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Qu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Qu.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,v=d.horizontalValues,b=d.verticalValues,x=DLe(),w=LLe();if(!pe(m)||m<=0||!pe(g)||g<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||QFe,S=d.horizontalCoordinatesGenerator||ZFe,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&We(S)){var P=v&&v.length,A=S({yAxis:w?Sn(Sn({},w),{},{ticks:P?v:w.ticks}):void 0,width:l,height:c,offset:u},P?!0:p);Ui(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pu(A),"]")),Array.isArray(A)&&(N=A)}if((!k||!k.length)&&We(_)){var T=b&&b.length,I=_({xAxis:x?Sn(Sn({},x),{},{ticks:T?b:x.ticks}):void 0,width:l,height:c,offset:u},T?!0:p);Ui(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pu(I),"]")),Array.isArray(I)&&(k=I)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(GFe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),M.createElement(KFe,Oc({},d,{offset:u,horizontalPoints:N,xAxis:x,yAxis:w})),M.createElement(YFe,Oc({},d,{offset:u,verticalPoints:k,xAxis:x,yAxis:w})),M.createElement(JFe,Oc({},d,{horizontalPoints:N})),M.createElement(XFe,Oc({},d,{verticalPoints:k})))}Xw.displayName="CartesianGrid";var e3e=["type","layout","connectNulls","ref"],t3e=["key"];function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function f4(e,t){if(e==null)return{};var r=r3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fm.apply(this,arguments)}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){Ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zu(e){return s3e(e)||i3e(e)||a3e(e)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3e(e,t){if(e){if(typeof e=="string")return Tk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tk(e,t)}}function i3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s3e(e){if(Array.isArray(e))return Tk(e)}function Tk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N7(n.key),n)}}function l3e(e,t,r){return t&&m4(e.prototype,t),r&&m4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c3e(e,t,r){return t=Ub(t),u3e(e,S7()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function u3e(e,t){if(t&&(Wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d3e(e)}function d3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function f3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mk(e,t)}function Mk(e,t){return Mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Mk(e,t)}function Ti(e,t,r){return t=N7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=h3e(e,"string");return Wf(t)=="symbol"?t:t+""}function h3e(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Wg=function(e){function t(){var r;o3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=c3e(this,t,[].concat(a)),Ti(r,"state",{isAnimationFinished:!0,totalLength:0}),Ti(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ti(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,x){return b+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(Zu(c.slice(0,g)),[f-p]);break}var v=m.length%2===0?[0,h]:[h];return[].concat(Zu(t.repeat(c,d)),Zu(m),v).map(function(b){return"".concat(b,"px")}).join(", ")}),Ti(r,"id",Pu("recharts-line-")),Ti(r,"pathRef",function(o){r.mainCurve=o}),Ti(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ti(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return f3e(t,e),l3e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Ia(d,zg);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:_r(p.payload,v)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return M.createElement(dt,m,f.map(function(g){return M.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Re(this.props,!1),h=Re(c,!0),m=u.map(function(p,v){var b=ga(ga(ga({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(dt,Fm({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=f4(l,e3e),h=ga(ga(ga({},Re(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return M.createElement(Hc,Fm({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,v=o.height,b=this.state,x=b.prevPoints,w=b.totalLength;return M.createElement(Xi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(x){var N=x.length/l.length,k=l.map(function(O,L){var $=Math.floor(L*N);if(x[$]){var F=x[$],z=Br(F.x,O.x),V=Br(F.y,O.y);return ga(ga({},O),{},{x:z(S),y:V(S)})}if(g){var R=Br(p*2,O.x),U=Br(v/2,O.y);return ga(ga({},O),{},{x:R(S),y:U(S)})}return ga(ga({},O),{},{x:O.x,y:O.y})});return i.renderCurveStatically(k,n,a)}var P=Br(0,w),A=P(S),T;if(c){var I="".concat(c).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});T=i.getStrokeDasharray(A,w,I)}else T=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(l,n,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!fu(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=tt("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,N=_||S,k=et(v)?this.id:v,P=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=P.r,T=A===void 0?3:A,I=P.strokeWidth,O=I===void 0?2:I,L=h9(o)?o:{},$=L.clipDot,F=$===void 0?!0:$,z=T*2+O;return M.createElement(dt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?h:h-m/2,y:S?f:f-g/2,width:_?m:m*2,height:S?g:g*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:h-z/2,y:f-z/2,width:m+z,height:g+z}))):null,!x&&this.renderCurve(N,k),this.renderErrorBar(N,k),(x||o)&&this.renderDots(N,F,k),(!p||b)&&Ss.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Zu(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Zu(o),Zu(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(M.isValidElement(n))i=M.cloneElement(n,a);else if(We(n))i=n(a);else{var o=a.key,l=f4(a,t3e),c=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=M.createElement(Vg,Fm({key:o},l,{className:c}))}return i}}])}(y.PureComponent);Ti(Wg,"displayName","Line");Ti(Wg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Hl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ti(Wg,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=_r(h,o);return d==="horizontal"?{x:vb({axis:r,ticks:a,bandSize:l,entry:h,index:m}),y:et(g)?null:n.scale(g),value:g,payload:h}:{x:et(g)?null:r.scale(g),y:vb({axis:n,ticks:i,bandSize:l,entry:h,index:m}),value:g,payload:h}});return ga({points:f,layout:d},u)});var m3e=["layout","type","stroke","connectNulls","isRange","ref"],p3e=["key"],k7;function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function C7(e,t){if(e==null)return{};var r=g3e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function g3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(this,arguments)}function p4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p4(Object(r),!0).forEach(function(n){ys(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P7(n.key),n)}}function y3e(e,t,r){return t&&g4(e.prototype,t),r&&g4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x3e(e,t,r){return t=zb(t),b3e(e,E7()?Reflect.construct(t,r||[],zb(e).constructor):t.apply(e,r))}function b3e(e,t){if(t&&(Hf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w3e(e)}function w3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E7=function(){return!!e})()}function zb(e){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zb(e)}function _3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$k(e,t)}function $k(e,t){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$k(e,t)}function ys(e,t,r){return t=P7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P7(e){var t=j3e(e,"string");return Hf(t)=="symbol"?t:t+""}function j3e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _o=function(e){function t(){var r;v3e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=x3e(this,t,[].concat(a)),ys(r,"state",{isAnimationFinished:!0}),ys(r,"id",Pu("recharts-area-")),ys(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),We(o)&&o()}),ys(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),We(o)&&o()}),r}return _3e(t,e),y3e(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Re(this.props,!1),m=Re(u,!0),g=d.map(function(v,b){var x=zo(zo(zo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,x)}),p={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return M.createElement(dt,Ac({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ul(o.map(function(h){return h.y||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ul(i.map(function(h){return h.y||0})),f)),pe(f)?M.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ul(o.map(function(h){return h.x||0}));return pe(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(ul(i.map(function(h){return h.x||0})),f)),pe(f)?M.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=C7(l,m3e);return M.createElement(dt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},M.createElement(Hc,Ac({},Re(m,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&M.createElement(Hc,Ac({},Re(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&M.createElement(Hc,Ac({},Re(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,v=g.prevBaseLine;return M.createElement(Xi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var x=b.t;if(p){var w=p.length/l.length,_=l.map(function(P,A){var T=Math.floor(A*w);if(p[T]){var I=p[T],O=Br(I.x,P.x),L=Br(I.y,P.y);return zo(zo({},P),{},{x:O(x),y:L(x)})}return P}),S;if(pe(c)&&typeof c=="number"){var N=Br(v,c);S=N(x)}else if(et(c)||wh(c)){var k=Br(v,0);S=k(x)}else S=c.map(function(P,A){var T=Math.floor(A*w);if(v[T]){var I=v[T],O=Br(I.x,P.x),L=Br(I.y,P.y);return zo(zo({},P),{},{x:O(x),y:L(x)})}return P});return i.renderAreaStatically(_,S,n,a)}return M.createElement(dt,null,M.createElement("defs",null,M.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(x))),M.createElement(dt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!fu(d,o)||!fu(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,m=a.width,g=a.height,p=a.isAnimationActive,v=a.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,x=l.length===1,w=tt("recharts-area",c),_=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,N=_||S,k=et(v)?this.id:v,P=(n=Re(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=P.r,T=A===void 0?3:A,I=P.strokeWidth,O=I===void 0?2:I,L=h9(o)?o:{},$=L.clipDot,F=$===void 0?!0:$,z=T*2+O;return M.createElement(dt,{className:w},_||S?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(k)},M.createElement("rect",{x:_?d:d-m/2,y:S?u:u-g/2,width:_?m:m*2,height:S?g:g*2})),!F&&M.createElement("clipPath",{id:"clipPath-dots-".concat(k)},M.createElement("rect",{x:d-z/2,y:u-z/2,width:m+z,height:g+z}))):null,x?null:this.renderArea(N,k),(o||x)&&this.renderDots(N,F,k),(!p||b)&&Ss.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);k7=_o;ys(_o,"displayName","Area");ys(_o,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Hl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ys(_o,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(pe(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ys(_o,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=k7.getBaseValue(t,r,n,a),v=m==="horizontal",b=!1,x=f.map(function(_,S){var N;g?N=u[d+S]:(N=_r(_,c),Array.isArray(N)?b=!0:N=[p,N]);var k=N[1]==null||g&&_r(_,c)==null;return v?{x:vb({axis:n,ticks:i,bandSize:l,entry:_,index:S}),y:k?null:a.scale(N[1]),value:N,payload:_}:{x:k?null:n.scale(N[1]),y:vb({axis:a,ticks:o,bandSize:l,entry:_,index:S}),value:N,payload:_}}),w;return g||b?w=x.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?a.scale(S):null}:{x:S!=null?n.scale(S):null,y:_.y}}):w=v?a.scale(p):n.scale(p),zo({points:x,baseLine:w,layout:m,isRange:b},h)});ys(_o,"renderDotItem",function(e,t){var r;if(M.isValidElement(e))r=M.cloneElement(e,t);else if(We(e))r=e(t);else{var n=tt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=C7(t,p3e);r=M.createElement(Vg,Ac({},i,{key:a,className:n}))}return r});function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function S3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T7(n.key),n)}}function k3e(e,t,r){return t&&N3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C3e(e,t,r){return t=Vb(t),E3e(e,O7()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function E3e(e,t){if(t&&(qf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P3e(e)}function P3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function O3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ik(e,t)}function Ik(e,t){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Ik(e,t)}function A7(e,t,r){return t=T7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T7(e){var t=A3e(e,"string");return qf(t)=="symbol"?t:t+""}function A3e(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Rk(){return Rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rk.apply(this,arguments)}function T3e(e){var t=e.xAxisId,r=GO(),n=KO(),a=f7(t);return a==null?null:y.createElement(Eh,Rk({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return eo(o,!0)}}))}var Yl=function(e){function t(){return S3e(this,t),C3e(this,t,arguments)}return O3e(t,e),k3e(t,[{key:"render",value:function(){return y.createElement(T3e,this.props)}}])}(y.Component);A7(Yl,"displayName","XAxis");A7(Yl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function M3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I7(n.key),n)}}function I3e(e,t,r){return t&&$3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R3e(e,t,r){return t=Wb(t),D3e(e,M7()?Reflect.construct(t,r||[],Wb(e).constructor):t.apply(e,r))}function D3e(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L3e(e)}function L3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M7=function(){return!!e})()}function Wb(e){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(e)}function F3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dk(e,t)}function Dk(e,t){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Dk(e,t)}function $7(e,t,r){return t=I7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I7(e){var t=B3e(e,"string");return Gf(t)=="symbol"?t:t+""}function B3e(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Lk(){return Lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lk.apply(this,arguments)}var U3e=function(t){var r=t.yAxisId,n=GO(),a=KO(),i=h7(r);return i==null?null:y.createElement(Eh,Lk({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return eo(l,!0)}}))},Jl=function(e){function t(){return M3e(this,t),R3e(this,t,arguments)}return F3e(t,e),I3e(t,[{key:"render",value:function(){return y.createElement(U3e,this.props)}}])}(y.Component);$7(Jl,"displayName","YAxis");$7(Jl,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function v4(e){return H3e(e)||W3e(e)||V3e(e)||z3e()}function z3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V3e(e,t){if(e){if(typeof e=="string")return Fk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fk(e,t)}}function W3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H3e(e){if(Array.isArray(e))return Fk(e)}function Fk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bk=function(t,r,n,a,i){var o=Ia(t,JO),l=Ia(t,Kw),c=[].concat(v4(o),v4(l)),u=Ia(t,Jw),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(p,v){if(v.props[d]===n&&Ns(v.props,"extendDomain")&&pe(v.props[f])){var b=v.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,v){if(v.props[d]===n&&Ns(v.props,"extendDomain")&&pe(v.props[m])&&pe(v.props[g])){var b=v.props[m],x=v.props[g];return[Math.min(p[0],b,x),Math.max(p[1],b,x)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return pe(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},R7={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],b=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,g),!0}for(w=1,x=new Array(b-1);w<b;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var _=v.length,S;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(b-1);S<b;S++)x[S-1]=arguments[S];v[w].fn.apply(v[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,v=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&v.push(g[p]);v.length?this._events[m]=v.length===1?v[0]:v:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(R7);var q3e=R7.exports;const G3e=Ct(q3e);var e1=new G3e,t1="recharts.syncMouseEvents";function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}function K3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D7(n.key),n)}}function J3e(e,t,r){return t&&Y3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function r1(e,t,r){return t=D7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=X3e(e,"string");return sg(t)=="symbol"?t:t+""}function X3e(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q3e=function(){function e(){K3e(this,e),r1(this,"activeIndex",0),r1(this,"coordinateList",[]),r1(this,"layout","horizontal")}return J3e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Z3e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&pe(n)&&pe(a))return!0}return!1}function e5e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function L7(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=Ht(t,r,n,a),l=Ht(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function t5e(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=Ht(l,c,u,f),m=Ht(l,c,d,f);n=h.x,a=h.y,i=m.x,o=m.y}else return L7(t);return[{x:n,y:a},{x:i,y:o}]}function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){r5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r5e(e,t,r){return t=n5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n5e(e){var t=a5e(e,"string");return og(t)=="symbol"?t:t+""}function a5e(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i5e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=Hc;if(h==="ScatterChart")g=o,p=hRe;else if(h==="BarChart")g=e5e(f,o,c,d),p=zO;else if(f==="radial"){var v=L7(o),b=v.cx,x=v.cy,w=v.radius,_=v.startAngle,S=v.endAngle;g={cx:b,cy:x,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},p=Aq}else g={points:t5e(f,o,c)},p=Hc;var N=Hv(Hv(Hv(Hv({stroke:"#ccc",pointerEvents:"none"},c),g),Re(m,!1)),{},{payload:l,payloadIndex:u,className:tt("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,N):y.createElement(p,N)}var s5e=["item"],o5e=["children","className","width","height","style","compact","title","desc"];function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function x4(e,t){return u5e(e)||c5e(e,t)||B7(e,t)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function u5e(e){if(Array.isArray(e))return e}function b4(e,t){if(e==null)return{};var r=d5e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h5e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U7(n.key),n)}}function m5e(e,t,r){return t&&h5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p5e(e,t,r){return t=Hb(t),g5e(e,F7()?Reflect.construct(t,r||[],Hb(e).constructor):t.apply(e,r))}function g5e(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v5e(e)}function v5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!e})()}function Hb(e){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(e)}function y5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uk(e,t)}function Uk(e,t){return Uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uk(e,t)}function Yf(e){return w5e(e)||b5e(e)||B7(e)||x5e()}function x5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7(e,t){if(e){if(typeof e=="string")return zk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zk(e,t)}}function b5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w5e(e){if(Array.isArray(e))return zk(e)}function zk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w4(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=U7(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U7(e){var t=_5e(e,"string");return Kf(t)=="symbol"?t:t+""}function _5e(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j5e={xAxis:["bottom","top"],yAxis:["left","right"]},S5e={width:"100%",height:"100%"},z7={x:0,y:0};function qv(e){return e}var N5e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},k5e=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return ne(ne(ne({},a),Ht(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return ne(ne(ne({},a),Ht(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return z7},Qw=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Yf(l),Yf(u)):l},[]);return o.length>0?o:t&&t.length&&pe(a)&&pe(i)?t.slice(a,i+1):[]};function V7(e){return e==="number"?[0,"auto"]:void 0}var Vk=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Qw(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=zx(m,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Yf(c),[Nq(u,h)]):c},[])},_4=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=N5e(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=M2e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=Vk(t,r,d,f),m=k5e(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},C5e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=xq(d,i);return n.reduce(function(g,p){var v,b=p.type.defaultProps!==void 0?ne(ne({},p.type.defaultProps),p.props):p.props,x=b.type,w=b.dataKey,_=b.allowDataOverflow,S=b.allowDuplicatedCategory,N=b.scale,k=b.ticks,P=b.includeHidden,A=b[o];if(g[A])return g;var T=Qw(t.data,{graphicalItems:a.filter(function(ee){var j,E=o in ee.props?ee.props[o]:(j=ee.type.defaultProps)===null||j===void 0?void 0:j[o];return E===A}),dataStartIndex:c,dataEndIndex:u}),I=T.length,O,L,$;Z3e(b.domain,_,x)&&(O=rk(b.domain,null,_),m&&(x==="number"||N!=="auto")&&($=Im(T,w,"category")));var F=V7(x);if(!O||O.length===0){var z,V=(z=b.domain)!==null&&z!==void 0?z:F;if(w){if(O=Im(T,w,x),x==="category"&&m){var R=jbe(O);S&&R?(L=O,O=Ab(0,I)):S||(O=HR(V,O,p).reduce(function(ee,j){return ee.indexOf(j)>=0?ee:[].concat(Yf(ee),[j])},[]))}else if(x==="category")S?O=O.filter(function(ee){return ee!==""&&!et(ee)}):O=HR(V,O,p).reduce(function(ee,j){return ee.indexOf(j)>=0||j===""||et(j)?ee:[].concat(Yf(ee),[j])},[]);else if(x==="number"){var U=L2e(T,a.filter(function(ee){var j,E,C=o in ee.props?ee.props[o]:(j=ee.type.defaultProps)===null||j===void 0?void 0:j[o],B="hide"in ee.props?ee.props.hide:(E=ee.type.defaultProps)===null||E===void 0?void 0:E.hide;return C===A&&(P||!B)}),w,i,d);U&&(O=U)}m&&(x==="number"||N!=="auto")&&($=Im(T,w,"category"))}else m?O=Ab(0,I):l&&l[A]&&l[A].hasStack&&x==="number"?O=h==="expand"?[0,1]:Sq(l[A].stackGroups,c,u):O=yq(T,a.filter(function(ee){var j=o in ee.props?ee.props[o]:ee.type.defaultProps[o],E="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return j===A&&(P||!E)}),x,d,!0);if(x==="number")O=Bk(f,O,A,i,k),V&&(O=rk(V,O,_));else if(x==="category"&&V){var K=V,re=O.every(function(ee){return K.indexOf(ee)>=0});re&&(O=K)}}return ne(ne({},g),{},Ue({},A,ne(ne({},b),{},{axisType:i,domain:O,categoricalDomain:$,duplicateDomain:L,originalDomain:(v=b.domain)!==null&&v!==void 0?v:F,isCategorical:m,layout:d})))},{})},E5e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Qw(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=xq(d,i),p=-1;return n.reduce(function(v,b){var x=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=x[o],_=V7("number");if(!v[w]){p++;var S;return g?S=Ab(0,m):l&&l[w]&&l[w].hasStack?(S=Sq(l[w].stackGroups,c,u),S=Bk(f,S,w,i)):(S=rk(_,yq(h,n.filter(function(N){var k,P,A=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],T="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return A===w&&!T}),"number",d),a.defaultProps.allowDataOverflow),S=Bk(f,S,w,i)),ne(ne({},v),{},Ue({},w,ne(ne({axisType:i},a.defaultProps),{},{hide:!0,orientation:$a(j5e,"".concat(i,".").concat(p%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},P5e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Ia(d,i),m={};return h&&h.length?m=C5e(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=E5e(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},O5e=function(t){var r=Zo(t),n=eo(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:pO(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yb(r,n)}},j4=function(t){var r=t.children,n=t.defaultShowTooltip,a=xa(r,Lf),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},A5e=function(t){return!t||!t.length?!1:t.some(function(r){var n=ao(r&&r.type);return n&&n.indexOf("Bar")>=0})},S4=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},T5e=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=xa(f,Lf),g=xa(f,io),p=Object.keys(c).reduce(function(S,N){var k=c[N],P=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},P,S[P]+k.width)):S},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(S,N){var k=o[N],P=k.orientation;return!k.mirror&&!k.hide?ne(ne({},S),{},Ue({},P,$a(S,"".concat(P))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},v),p),x=b.bottom;m&&(b.bottom+=m.props.height||Lf.defaultProps.height),g&&r&&(b=R2e(b,a,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ne(ne({brushBottom:x},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},M5e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Zw=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,x){var w=x.graphicalItems,_=x.stackGroups,S=x.offset,N=x.updateId,k=x.dataStartIndex,P=x.dataEndIndex,A=b.barSize,T=b.layout,I=b.barGap,O=b.barCategoryGap,L=b.maxBarSize,$=S4(T),F=$.numericAxisName,z=$.cateAxisName,V=A5e(w),R=[];return w.forEach(function(U,K){var re=Qw(b.data,{graphicalItems:[U],dataStartIndex:k,dataEndIndex:P}),ee=U.type.defaultProps!==void 0?ne(ne({},U.type.defaultProps),U.props):U.props,j=ee.dataKey,E=ee.maxBarSize,C=ee["".concat(F,"Id")],B=ee["".concat(z,"Id")],D={},G=c.reduce(function(H,W){var X=x["".concat(W.axisType,"Map")],de=ee["".concat(W.axisType,"Id")];X&&X[de]||W.axisType==="zAxis"||mu();var ue=X[de];return ne(ne({},H),{},Ue(Ue({},W.axisType,ue),"".concat(W.axisType,"Ticks"),eo(ue)))},D),q=G[z],J=G["".concat(z,"Ticks")],te=_&&_[C]&&_[C].hasStack&&G2e(U,_[C].stackGroups),Y=ao(U.type).indexOf("Bar")>=0,be=yb(q,J),ke=[],Je=V&&$2e({barSize:A,stackGroups:_,totalSize:M5e(G,z)});if(Y){var He,Be,st=et(E)?L:E,Mt=(He=(Be=yb(q,J,!0))!==null&&Be!==void 0?Be:st)!==null&&He!==void 0?He:0;ke=I2e({barGap:I,barCategoryGap:O,bandSize:Mt!==be?Mt:be,sizeList:Je[B],maxBarSize:st}),Mt!==be&&(ke=ke.map(function(H){return ne(ne({},H),{},{position:ne(ne({},H.position),{},{offset:H.position.offset-Mt/2})})}))}var St=U&&U.type&&U.type.getComposedData;St&&R.push({props:ne(ne({},St(ne(ne({},G),{},{displayedData:re,props:b,dataKey:j,item:U,bandSize:be,barPosition:ke,offset:S,stackedData:te,layout:T,dataStartIndex:k,dataEndIndex:P}))),{},Ue(Ue(Ue({key:U.key||"item-".concat(K)},F,G[F]),z,G[z]),"animationId",N)),childIndex:Ibe(U,b.children),item:U})}),R},m=function(b,x){var w=b.props,_=b.dataStartIndex,S=b.dataEndIndex,N=b.updateId;if(!F$({props:w}))return null;var k=w.children,P=w.layout,A=w.stackOffset,T=w.data,I=w.reverseStackOrder,O=S4(P),L=O.numericAxisName,$=O.cateAxisName,F=Ia(k,n),z=H2e(T,F,"".concat(L,"Id"),"".concat($,"Id"),A,I),V=c.reduce(function(ee,j){var E="".concat(j.axisType,"Map");return ne(ne({},ee),{},Ue({},E,P5e(w,ne(ne({},j),{},{graphicalItems:F,stackGroups:j.axisType===L&&z,dataStartIndex:_,dataEndIndex:S}))))},{}),R=T5e(ne(ne({},V),{},{props:w,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(ee){V[ee]=d(w,V[ee],R,ee.replace("Map",""),r)});var U=V["".concat($,"Map")],K=O5e(U),re=h(w,ne(ne({},V),{},{dataStartIndex:_,dataEndIndex:S,updateId:N,graphicalItems:F,stackGroups:z,offset:R}));return ne(ne({formattedGraphicalItems:re,graphicalItems:F,offset:R,stackGroups:z},K),V)},g=function(v){function b(x){var w,_,S;return f5e(this,b),S=p5e(this,b,[x]),Ue(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(S,"accessibilityManager",new Q3e),Ue(S,"handleLegendBBoxUpdate",function(N){if(N){var k=S.state,P=k.dataStartIndex,A=k.dataEndIndex,T=k.updateId;S.setState(ne({legendBBox:N},m({props:S.props,dataStartIndex:P,dataEndIndex:A,updateId:T},ne(ne({},S.state),{},{legendBBox:N}))))}}),Ue(S,"handleReceiveSyncEvent",function(N,k,P){if(S.props.syncId===N){if(P===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Ue(S,"handleBrushChange",function(N){var k=N.startIndex,P=N.endIndex;if(k!==S.state.dataStartIndex||P!==S.state.dataEndIndex){var A=S.state.updateId;S.setState(function(){return ne({dataStartIndex:k,dataEndIndex:P},m({props:S.props,dataStartIndex:k,dataEndIndex:P,updateId:A},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:P})}}),Ue(S,"handleMouseEnter",function(N){var k=S.getMouseInfo(N);if(k){var P=ne(ne({},k),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var A=S.props.onMouseEnter;We(A)&&A(P,N)}}),Ue(S,"triggeredAfterMouseMove",function(N){var k=S.getMouseInfo(N),P=k?ne(ne({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var A=S.props.onMouseMove;We(A)&&A(P,N)}),Ue(S,"handleItemMouseEnter",function(N){S.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ue(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ue(S,"handleMouseMove",function(N){N.persist(),S.throttleTriggeredAfterMouseMove(N)}),Ue(S,"handleMouseLeave",function(N){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var P=S.props.onMouseLeave;We(P)&&P(k,N)}),Ue(S,"handleOuterEvent",function(N){var k=$be(N),P=$a(S.props,"".concat(k));if(k&&We(P)){var A,T;/.*touch.*/i.test(k)?T=S.getMouseInfo(N.changedTouches[0]):T=S.getMouseInfo(N),P((A=T)!==null&&A!==void 0?A:{},N)}}),Ue(S,"handleClick",function(N){var k=S.getMouseInfo(N);if(k){var P=ne(ne({},k),{},{isTooltipActive:!0});S.setState(P),S.triggerSyncEvent(P);var A=S.props.onClick;We(A)&&A(P,N)}}),Ue(S,"handleMouseDown",function(N){var k=S.props.onMouseDown;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleMouseUp",function(N){var k=S.props.onMouseUp;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ue(S,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseDown(N.changedTouches[0])}),Ue(S,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&S.handleMouseUp(N.changedTouches[0])}),Ue(S,"handleDoubleClick",function(N){var k=S.props.onDoubleClick;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"handleContextMenu",function(N){var k=S.props.onContextMenu;if(We(k)){var P=S.getMouseInfo(N);k(P,N)}}),Ue(S,"triggerSyncEvent",function(N){S.props.syncId!==void 0&&e1.emit(t1,S.props.syncId,N,S.eventEmitterSymbol)}),Ue(S,"applySyncEvent",function(N){var k=S.props,P=k.layout,A=k.syncMethod,T=S.state.updateId,I=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)S.setState(ne({dataStartIndex:I,dataEndIndex:O},m({props:S.props,dataStartIndex:I,dataEndIndex:O,updateId:T},S.state)));else if(N.activeTooltipIndex!==void 0){var L=N.chartX,$=N.chartY,F=N.activeTooltipIndex,z=S.state,V=z.offset,R=z.tooltipTicks;if(!V)return;if(typeof A=="function")F=A(R,N);else if(A==="value"){F=-1;for(var U=0;U<R.length;U++)if(R[U].value===N.activeLabel){F=U;break}}var K=ne(ne({},V),{},{x:V.left,y:V.top}),re=Math.min(L,K.x+K.width),ee=Math.min($,K.y+K.height),j=R[F]&&R[F].value,E=Vk(S.state,S.props.data,F),C=R[F]?{x:P==="horizontal"?R[F].coordinate:re,y:P==="horizontal"?ee:R[F].coordinate}:z7;S.setState(ne(ne({},N),{},{activeLabel:j,activeCoordinate:C,activePayload:E,activeTooltipIndex:F}))}else S.setState(N)}),Ue(S,"renderCursor",function(N){var k,P=S.state,A=P.isTooltipActive,T=P.activeCoordinate,I=P.activePayload,O=P.offset,L=P.activeTooltipIndex,$=P.tooltipAxisBandSize,F=S.getTooltipEventType(),z=(k=N.props.active)!==null&&k!==void 0?k:A,V=S.props.layout,R=N.key||"_recharts-cursor";return M.createElement(i5e,{key:R,activeCoordinate:T,activePayload:I,activeTooltipIndex:L,chartName:r,element:N,isActive:z,layout:V,offset:O,tooltipAxisBandSize:$,tooltipEventType:F})}),Ue(S,"renderPolarAxis",function(N,k,P){var A=$a(N,"type.axisType"),T=$a(S.state,"".concat(A,"Map")),I=N.type.defaultProps,O=I!==void 0?ne(ne({},I),N.props):N.props,L=T&&T[O["".concat(A,"Id")]];return y.cloneElement(N,ne(ne({},L),{},{className:tt(A,L.className),key:N.key||"".concat(k,"-").concat(P),ticks:eo(L,!0)}))}),Ue(S,"renderPolarGrid",function(N){var k=N.props,P=k.radialLines,A=k.polarAngles,T=k.polarRadius,I=S.state,O=I.radiusAxisMap,L=I.angleAxisMap,$=Zo(O),F=Zo(L),z=F.cx,V=F.cy,R=F.innerRadius,U=F.outerRadius;return y.cloneElement(N,{polarAngles:Array.isArray(A)?A:eo(F,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(T)?T:eo($,!0).map(function(K){return K.coordinate}),cx:z,cy:V,innerRadius:R,outerRadius:U,key:N.key||"polar-grid",radialLines:P})}),Ue(S,"renderLegend",function(){var N=S.state.formattedGraphicalItems,k=S.props,P=k.children,A=k.width,T=k.height,I=S.props.margin||{},O=A-(I.left||0)-(I.right||0),L=gq({children:P,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!L)return null;var $=L.item,F=b4(L,s5e);return y.cloneElement($,ne(ne({},F),{},{chartWidth:A,chartHeight:T,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ue(S,"renderTooltip",function(){var N,k=S.props,P=k.children,A=k.accessibilityLayer,T=xa(P,wa);if(!T)return null;var I=S.state,O=I.isTooltipActive,L=I.activeCoordinate,$=I.activePayload,F=I.activeLabel,z=I.offset,V=(N=T.props.active)!==null&&N!==void 0?N:O;return y.cloneElement(T,{viewBox:ne(ne({},z),{},{x:z.left,y:z.top}),active:V,label:F,payload:V?$:[],coordinate:L,accessibilityLayer:A})}),Ue(S,"renderBrush",function(N){var k=S.props,P=k.margin,A=k.data,T=S.state,I=T.offset,O=T.dataStartIndex,L=T.dataEndIndex,$=T.updateId;return y.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Uv(S.handleBrushChange,N.props.onChange),data:A,x:pe(N.props.x)?N.props.x:I.left,y:pe(N.props.y)?N.props.y:I.top+I.height+I.brushBottom-(P.bottom||0),width:pe(N.props.width)?N.props.width:I.width,startIndex:O,endIndex:L,updateId:"brush-".concat($)})}),Ue(S,"renderReferenceElement",function(N,k,P){if(!N)return null;var A=S,T=A.clipPathId,I=S.state,O=I.xAxisMap,L=I.yAxisMap,$=I.offset,F=N.type.defaultProps||{},z=N.props,V=z.xAxisId,R=V===void 0?F.xAxisId:V,U=z.yAxisId,K=U===void 0?F.yAxisId:U;return y.cloneElement(N,{key:N.key||"".concat(k,"-").concat(P),xAxis:O[R],yAxis:L[K],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:T})}),Ue(S,"renderActivePoints",function(N){var k=N.item,P=N.activePoint,A=N.basePoint,T=N.childIndex,I=N.isRange,O=[],L=k.props.key,$=k.item.type.defaultProps!==void 0?ne(ne({},k.item.type.defaultProps),k.item.props):k.item.props,F=$.activeDot,z=$.dataKey,V=ne(ne({index:T,dataKey:z,cx:P.x,cy:P.y,r:4,fill:UO(k.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Re(F,!1)),Vx(F));return O.push(b.renderActiveDot(F,V,"".concat(L,"-activePoint-").concat(T))),A?O.push(b.renderActiveDot(F,ne(ne({},V),{},{cx:A.x,cy:A.y}),"".concat(L,"-basePoint-").concat(T))):I&&O.push(null),O}),Ue(S,"renderGraphicChild",function(N,k,P){var A=S.filterFormatItem(N,k,P);if(!A)return null;var T=S.getTooltipEventType(),I=S.state,O=I.isTooltipActive,L=I.tooltipAxis,$=I.activeTooltipIndex,F=I.activeLabel,z=S.props.children,V=xa(z,wa),R=A.props,U=R.points,K=R.isRange,re=R.baseLine,ee=A.item.type.defaultProps!==void 0?ne(ne({},A.item.type.defaultProps),A.item.props):A.item.props,j=ee.activeDot,E=ee.hide,C=ee.activeBar,B=ee.activeShape,D=!!(!E&&O&&V&&(j||C||B)),G={};T!=="axis"&&V&&V.props.trigger==="click"?G={onClick:Uv(S.handleItemMouseEnter,N.props.onClick)}:T!=="axis"&&(G={onMouseLeave:Uv(S.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Uv(S.handleItemMouseEnter,N.props.onMouseEnter)});var q=y.cloneElement(N,ne(ne({},A.props),G));function J(W){return typeof L.dataKey=="function"?L.dataKey(W.payload):null}if(D)if($>=0){var te,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var be=typeof L.dataKey=="function"?J:"payload.".concat(L.dataKey.toString());te=zx(U,be,F),Y=K&&re&&zx(re,be,F)}else te=U==null?void 0:U[$],Y=K&&re&&re[$];if(B||C){var ke=N.props.activeIndex!==void 0?N.props.activeIndex:$;return[y.cloneElement(N,ne(ne(ne({},A.props),G),{},{activeIndex:ke})),null,null]}if(!et(te))return[q].concat(Yf(S.renderActivePoints({item:A,activePoint:te,basePoint:Y,childIndex:$,isRange:K})))}else{var Je,He=(Je=S.getItemByXY(S.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:q},Be=He.graphicalItem,st=Be.item,Mt=st===void 0?N:st,St=Be.childIndex,H=ne(ne(ne({},A.props),G),{},{activeIndex:St});return[y.cloneElement(Mt,H),null,null]}return K?[q,null,null]:[q,null]}),Ue(S,"renderCustomized",function(N,k,P){return y.cloneElement(N,ne(ne({key:"recharts-customized-".concat(P)},S.props),S.state))}),Ue(S,"renderMap",{CartesianGrid:{handler:qv,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:qv},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:qv},YAxis:{handler:qv},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((w=x.id)!==null&&w!==void 0?w:Pu("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=gH(S.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return y5e(b,v),m5e(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,S=w.data,N=w.height,k=w.layout,P=xa(_,wa);if(P){var A=P.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,I=Vk(this.state,S,A,T),O=this.state.tooltipTicks[A].coordinate,L=(this.state.offset.top+N)/2,$=k==="horizontal",F=$?{x:O,y:L}:{y:O,x:L},z=this.state.formattedGraphicalItems.find(function(R){var U=R.item;return U.type.name==="Scatter"});z&&(F=ne(ne({},F),z.props.points[A].tooltipPosition),I=z.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:I,activeCoordinate:F};this.setState(V),this.renderCursor(P),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var S,N;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(w){vN([xa(w.children,wa)],[xa(this.props.children,wa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=xa(this.props.children,wa);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),N=oPe(S),k={chartX:Math.round(w.pageX-N.left),chartY:Math.round(w.pageY-N.top)},P=S.width/_.offsetWidth||1,A=this.inRange(k.chartX,k.chartY,P);if(!A)return null;var T=this.state,I=T.xAxisMap,O=T.yAxisMap,L=this.getTooltipEventType(),$=_4(this.state,this.props.data,this.props.layout,A);if(L!=="axis"&&I&&O){var F=Zo(I).scale,z=Zo(O).scale,V=F&&F.invert?F.invert(k.chartX):null,R=z&&z.invert?z.invert(k.chartY):null;return ne(ne({},k),{},{xValue:V,yValue:R},$)}return $?ne(ne({},k),$):null}},{key:"inRange",value:function(w,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=w/S,P=_/S;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,T=k>=A.left&&k<=A.left+A.width&&P>=A.top&&P<=A.top+A.height;return T?{x:k,y:P}:null}var I=this.state,O=I.angleAxisMap,L=I.radiusAxisMap;if(O&&L){var $=Zo(O);return KR({x:k,y:P},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),S=xa(w,wa),N={};S&&_==="axis"&&(S.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Vx(this.props,this.handleOuterEvent);return ne(ne({},k),N)}},{key:"addListener",value:function(){e1.on(t1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){e1.removeListener(t1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,S){for(var N=this.state.formattedGraphicalItems,k=0,P=N.length;k<P;k++){var A=N[k];if(A.item===w||A.props.key===w.key||_===ao(A.item.type)&&S===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,S=_.left,N=_.top,k=_.height,P=_.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:S,y:N,height:k,width:P})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=x4(S,2),k=N[0],P=N[1];return ne(ne({},_),{},Ue({},k,P.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,S){var N=x4(S,2),k=N[0],P=N[1];return ne(ne({},_),{},Ue({},k,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,S=_.formattedGraphicalItems,N=_.activeItem;if(S&&S.length)for(var k=0,P=S.length;k<P;k++){var A=S[k],T=A.props,I=A.item,O=I.type.defaultProps!==void 0?ne(ne({},I.type.defaultProps),I.props):I.props,L=ao(I.type);if(L==="Bar"){var $=(T.data||[]).find(function(R){return GIe(w,R)});if($)return{graphicalItem:A,payload:$}}else if(L==="RadialBar"){var F=(T.data||[]).find(function(R){return KR(w,R)});if(F)return{graphicalItem:A,payload:F}}else if(Ww(A,N)||Hw(A,N)||tg(A,N)){var z=IDe({graphicalItem:A,activeTooltipItem:N,itemData:O.data}),V=O.activeIndex===void 0?z:O.activeIndex;return{graphicalItem:ne(ne({},A),{},{childIndex:V}),payload:tg(A,N)?O.data[z]:A.props.data[z]}}}return null}},{key:"render",value:function(){var w=this;if(!F$(this))return null;var _=this.props,S=_.children,N=_.className,k=_.width,P=_.height,A=_.style,T=_.compact,I=_.title,O=_.desc,L=b4(_,o5e),$=Re(L,!1);if(T)return M.createElement(ZD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(xN,Ed({},$,{width:k,height:P,title:I,desc:O}),this.renderClipPath(),U$(S,this.renderMap)));if(this.props.accessibilityLayer){var F,z;$.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,$.role=(z=this.props.role)!==null&&z!==void 0?z:"application",$.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},$.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return M.createElement(ZD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",Ed({className:tt("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:k,height:P},A)},V,{ref:function(U){w.container=U}}),M.createElement(xN,Ed({},$,{width:k,height:P,title:I,desc:O,style:S5e}),this.renderClipPath(),U$(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ue(g,"displayName",r),Ue(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(g,"getDerivedStateFromProps",function(v,b){var x=v.dataKey,w=v.data,_=v.children,S=v.width,N=v.height,k=v.layout,P=v.stackOffset,A=v.margin,T=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=j4(v);return ne(ne(ne({},O),{},{updateId:0},m(ne(ne({props:v},O),{},{updateId:0}),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:A,prevChildren:_})}if(x!==b.prevDataKey||w!==b.prevData||S!==b.prevWidth||N!==b.prevHeight||k!==b.prevLayout||P!==b.prevStackOffset||!Vd(A,b.prevMargin)){var L=j4(v),$={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},F=ne(ne({},_4(b,w,k)),{},{updateId:b.updateId+1}),z=ne(ne(ne({},L),$),F);return ne(ne(ne({},z),m(ne({props:v},z),b)),{},{prevDataKey:x,prevData:w,prevWidth:S,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:A,prevChildren:_})}if(!vN(_,b.prevChildren)){var V,R,U,K,re=xa(_,Lf),ee=re&&(V=(R=re.props)===null||R===void 0?void 0:R.startIndex)!==null&&V!==void 0?V:T,j=re&&(U=(K=re.props)===null||K===void 0?void 0:K.endIndex)!==null&&U!==void 0?U:I,E=ee!==T||j!==I,C=!et(w),B=C&&!E?b.updateId:b.updateId+1;return ne(ne({updateId:B},m(ne(ne({props:v},b),{},{updateId:B,dataStartIndex:ee,dataEndIndex:j}),b)),{},{prevChildren:_,dataStartIndex:ee,dataEndIndex:j})}return null}),Ue(g,"renderActiveDot",function(v,b,x){var w;return y.isValidElement(v)?w=y.cloneElement(v,b):We(v)?w=v(b):w=M.createElement(Vg,b),M.createElement(dt,{className:"recharts-active-dot",key:x},w)});var p=y.forwardRef(function(b,x){return M.createElement(g,Ed({},b,{ref:x}))});return p.displayName=g.displayName,p},$5e=Zw({chartName:"LineChart",GraphicalChild:Wg,axisComponents:[{axisType:"xAxis",AxisComp:Yl},{axisType:"yAxis",AxisComp:Jl}],formatAxisMap:VO}),I5e=Zw({chartName:"BarChart",GraphicalChild:Mu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yl},{axisType:"yAxis",AxisComp:Jl}],formatAxisMap:VO}),R5e=Zw({chartName:"PieChart",GraphicalChild:Ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vw},{axisType:"radiusAxis",AxisComp:Uw}],formatAxisMap:nMe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),D5e=Zw({chartName:"AreaChart",GraphicalChild:_o,axisComponents:[{axisType:"xAxis",AxisComp:Yl},{axisType:"yAxis",AxisComp:Jl}],formatAxisMap:VO});const L5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(vP(r.date),"MMM d"),pending:r.count-r.completed-r.cancelled}));return s.jsxs(se,{className:"col-span-full lg:col-span-2",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Appointment Trends"})]}),s.jsx(Se,{children:"Daily appointment volume over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(Pw,{width:"100%",height:"100%",children:s.jsxs(D5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorTotal",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(174, 62%, 38%)",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(152, 60%, 42%)",stopOpacity:0})]})]}),s.jsx(Xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),s.jsx(Yl,{dataKey:"date",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Jl,{tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(wa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(io,{wrapperStyle:{fontSize:"12px"}}),s.jsx(_o,{type:"monotone",dataKey:"count",name:"Total",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorTotal)"}),s.jsx(_o,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"hsl(152, 60%, 42%)",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})})]})},N4=["hsl(174, 62%, 38%)","hsl(38, 92%, 50%)","hsl(16, 85%, 60%)"],F5e=({data:e})=>{const t=[{name:"Video",value:e.video,icon:""},{name:"Phone",value:e.phone,icon:""},{name:"In-Person",value:e.in_person,icon:""}].filter(n=>n.value>0),r=t.reduce((n,a)=>n+a.value,0);return r===0?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Consultation Types"})]}),s.jsx(Se,{children:"Distribution by type"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No consultation data available"})})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Consultation Types"})]}),s.jsx(Se,{children:"Distribution by type"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Pw,{width:"100%",height:"100%",children:s.jsxs(R5e,{children:[s.jsx(Ao,{data:t,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:t.map((n,a)=>s.jsx(Dg,{fill:N4[a%N4.length]},`cell-${a}`))}),s.jsx(wa,{formatter:n=>[`${n} (${(n/r*100).toFixed(1)}%)`,"Count"],contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(io,{formatter:n=>s.jsx("span",{className:"text-sm",children:n})})]})})})})]})},B5e={pending:"hsl(38, 92%, 50%)",confirmed:"hsl(210, 80%, 55%)",in_progress:"hsl(174, 62%, 38%)",completed:"hsl(152, 60%, 42%)",cancelled:"hsl(0, 72%, 51%)"},U5e=({data:e})=>{const t=Object.entries(e).map(([r,n])=>({status:r.replace("_"," ").charAt(0).toUpperCase()+r.replace("_"," ").slice(1),count:n,color:B5e[r]||"hsl(215, 15%, 45%)"}));return t.length===0?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(YT,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Status Distribution"})]}),s.jsx(Se,{children:"Appointment status breakdown"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No status data available"})})]}):s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(YT,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Status Distribution"})]}),s.jsx(Se,{children:"Appointment status breakdown"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Pw,{width:"100%",height:"100%",children:s.jsxs(I5e,{data:t,layout:"vertical",margin:{left:20,right:20},children:[s.jsx(Xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)",horizontal:!1}),s.jsx(Yl,{type:"number",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Jl,{type:"category",dataKey:"status",tick:{fontSize:11,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1,width:80}),s.jsx(wa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(Mu,{dataKey:"count",radius:[0,4,4,0],children:t.map((r,n)=>s.jsx(Dg,{fill:r.color},`cell-${n}`))})]})})})})]})},z5e=({data:e})=>e.length===0?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QT,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Clinician Performance"})]}),s.jsx(Se,{children:"Top performing clinicians"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No clinician data available"})})]}):s.jsxs(se,{className:"col-span-full lg:col-span-2",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(QT,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Clinician Performance"})]}),s.jsx(Se,{children:"Top performing clinicians by appointments"})]}),s.jsx(ce,{children:s.jsx("div",{className:"space-y-4",children:e.slice(0,5).map((t,r)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm",children:r+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{className:"font-medium truncate",children:["Dr. ",t.clinician_name]}),r===0&&s.jsx(Ne,{variant:"default",className:"text-xs",children:"Top Performer"})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[s.jsxs("span",{children:[t.total_appointments," appointments"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[t.completed_appointments," completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[t.completion_rate,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Completion"})]}),s.jsx("div",{className:"w-24",children:s.jsx(lu,{value:t.completion_rate,className:"h-2"})}),t.completion_rate>=80?s.jsx(zc,{className:"w-4 h-4 text-success"}):t.completion_rate>=50?s.jsx(zc,{className:"w-4 h-4 text-warning"}):s.jsx(VX,{className:"w-4 h-4 text-destructive"})]})]},t.clinician_id))})})]}),V5e=({data:e})=>{const t=e.map(r=>({...r,date:yt(vP(r.date),"MMM d")}));return e.length===0?s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dx,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Patient Growth"})]}),s.jsx(Se,{children:"New patient registrations over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] flex items-center justify-center text-muted-foreground",children:"No growth data available"})})]}):s.jsxs(se,{className:"col-span-full lg:col-span-1",children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dx,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Patient Growth"})]}),s.jsx(Se,{children:"Total patients over time"})]}),s.jsx(ce,{children:s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(Pw,{width:"100%",height:"100%",children:s.jsxs($5e,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Xw,{strokeDasharray:"3 3",stroke:"hsl(210, 20%, 90%)"}),s.jsx(Yl,{dataKey:"date",tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(Jl,{tick:{fontSize:10,fill:"hsl(215, 15%, 45%)"},axisLine:{stroke:"hsl(210, 20%, 90%)"},tickLine:!1}),s.jsx(wa,{contentStyle:{backgroundColor:"hsl(0, 0%, 100%)",border:"1px solid hsl(210, 20%, 90%)",borderRadius:"8px",fontSize:"12px"}}),s.jsx(io,{wrapperStyle:{fontSize:"11px"}}),s.jsx(Wg,{type:"monotone",dataKey:"total_patients",name:"Total Patients",stroke:"hsl(174, 62%, 38%)",strokeWidth:2,dot:{fill:"hsl(174, 62%, 38%)",r:3},activeDot:{r:5}})]})})})})]})},W5e=()=>{var Ru,mi,Jg,Xe,_t,$t,Kn,Yn,pi,rs,Jn,gi,pA,gA,vA,yA,xA,bA,wA,_A,jA,SA,NA,kA;const{profile:e,signOut:t}=$r(),[r,n]=y.useState(30),{data:a,loading:i,error:o,refetch:l}=Vge(r),[c,u]=y.useState("month"),[d,f]=y.useState(null),[h,m]=y.useState(null),[g,p]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(null),[_,S]=y.useState(null),[N,k]=y.useState(null),[P,A]=y.useState(!1),[T,I]=y.useState(!1),[O,L]=y.useState(!1),[$,F]=y.useState(null),[z,V]=y.useState(""),[R,U]=y.useState(null),[K,re]=y.useState(!1),[ee,j]=y.useState(null),[E,C]=y.useState("upload"),[B,D]=y.useState([]),[G,q]=y.useState("Campus Africa"),[J,te]=y.useState("university"),[Y,be]=y.useState(""),[ke,Je]=y.useState(null),[He,Be]=y.useState(null),[st,Mt]=y.useState(!1),[St,H]=y.useState(null),[W,X]=y.useState(!1),[de,ue]=y.useState(null),[ie,Ae]=y.useState(null),[ot,ut]=y.useState("preview"),[rr,za]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const je=await Hh.getCorporateClients();je!=null&&je.clients&&D(je.clients)}catch(je){console.error("Failed to fetch corporate clients:",je)}})()},[]),y.useEffect(()=>{if(!ke||E!=="importing")return;const Q=setInterval(async()=>{try{const je=await Hh.getJobStatus(ke);je!=null&&je.job&&(Be(je.job),(je.job.status==="completed"||je.job.status==="failed")&&(clearInterval(Q),j({summary:{imported:je.job.imported,duplicates:je.job.duplicates,errors:je.job.errors,skipped:je.job.skipped,total_processed:je.job.processed},details:je.job.details}),C("complete"),je.job.status==="completed"?le.success(`Import complete! ${je.job.imported} patients imported.`):le.error(`Import failed: ${je.job.error_message||"Unknown error"}`)))}catch(je){console.error("Error polling job status:",je)}},2e3);return()=>clearInterval(Q)},[ke,E]),y.useEffect(()=>{if(!de||ot!=="sending")return;const Q=setInterval(async()=>{try{const je=await Ov.getJobStatus(de);je!=null&&je.job&&(Ae(je.job),je.job.status==="completed"&&(clearInterval(Q),ut("complete"),le.success(`Emails sent! ${je.job.sent} delivered, ${je.job.failed} failed.`)))}catch(je){console.error("Error polling email job status:",je)}},2e3);return()=>clearInterval(Q)},[de,ot]),y.useEffect(()=>{(async()=>{A(!0);try{const[je,nr,ec,Ah,Th,c_,Xg]=await Promise.all([Ro.getSummary(c),Ro.getPeakTimes(c),Ro.getCancellationStats(c),Ro.getConversionFunnel(c),Ro.getNoShowRates(c),Ro.getReceptionistWorkload(c),Ro.getTimestampTrends(c)]);f(je),m(nr),p(ec),b(Ah),w(Th),S(c_),k(Xg)}catch(je){console.error("Failed to fetch report data:",je)}finally{A(!1)}})()},[c]);const ua=async()=>{I(!0);try{await Ro.exportCSV(c),le.success("Report exported successfully")}catch(Q){console.error("Export failed:",Q),le.error("Failed to export report")}finally{I(!1)}},Xl=Q=>{var nr;const je=(nr=Q.target.files)==null?void 0:nr[0];je&&(F(je),U(null),j(null),C("upload"))},Va=async()=>{var Q,je;if($){re(!0);try{const nr=await Hh.preview($,z||void 0);U(nr),C("preview"),le.success(`File parsed successfully. ${nr.total_rows} rows found.`)}catch(nr){console.error("Preview failed:",nr),(Q=nr.message)!=null&&Q.includes("password protected")?le.error("File is password protected. Please enter the password."):(je=nr.message)!=null&&je.includes("Invalid password")?le.error("Invalid password. Please try again."):le.error(nr.message||"Failed to preview file")}finally{re(!1)}}},To=async()=>{if(!$)return;const Q=G==="__new__"?Y:G;if(!Q){le.error("Please select or enter a corporate client name");return}re(!0),C("importing"),Be(null);try{const je=await Hh.startImport($,z||void 0,Q,J);if(je!=null&&je.job_id)Je(je.job_id),le.success(`Import started for ${je.total_rows} rows. Processing in background...`);else throw new Error("Failed to start import job")}catch(je){console.error("Import failed:",je),le.error(je.message||"Failed to start import"),C("preview"),re(!1)}},ts=async()=>{if(ke)try{await Hh.cancelJob(ke),le.success("Import cancelled"),C("preview"),re(!1)}catch{le.error("Could not cancel import")}},Ql=()=>{F(null),V(""),U(null),j(null),C("upload"),q("Campus Africa"),te("university"),be(""),Je(null),Be(null),re(!1)},Oh=async()=>{X(!0);try{const Q=await Ov.preview();H(Q),ut("preview")}catch(Q){console.error("Failed to preview emails:",Q),le.error("Failed to load email recipients")}finally{X(!1)}},Zl=async()=>{X(!0),ut("sending"),Ae(null);try{const Q=await Ov.send({test_mode:rr});if(Q!=null&&Q.job_id)ue(Q.job_id),le.success(`Sending emails to ${Q.total_recipients} students...`);else throw new Error("Failed to start email job")}catch(Q){console.error("Email send failed:",Q),le.error(Q.message||"Failed to send emails"),ut("preview")}finally{X(!1)}},Kg=async()=>{X(!0);try{const Q=await Ov.sendTest();Q!=null&&Q.success&&le.success(Q.message||"Test email sent to your email!")}catch(Q){le.error(Q.message||"Failed to send test email")}finally{X(!1)}},Yg=()=>{H(null),Ae(null),ut("preview"),ue(null),za(!1)};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("div",{className:"hidden sm:block",children:s.jsx("span",{className:"font-bold text-lg",children:"Quadcare Telehealth"})})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>l(),disabled:i,className:"hidden sm:flex",children:[s.jsx(ho,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),s.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>l(),disabled:i,className:"sm:hidden",children:s.jsx(ho,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),s.jsx(Ne,{className:"bg-destructive text-white text-xs sm:text-sm",children:"Admin"}),s.jsxs("span",{className:"hidden md:block text-sm text-muted-foreground",children:[e==null?void 0:e.first_name," ",e==null?void 0:e.last_name]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:t,children:[s.jsx(Cl,{className:"w-4 h-4 sm:mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 sm:mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"System analytics and administration"})]}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs(or,{value:r.toString(),onValueChange:Q=>n(parseInt(Q)),children:[s.jsx(Qt,{className:"w-[140px] sm:w-[180px]",children:s.jsx(lr,{placeholder:"Select period"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"7",children:"Last 7 days"}),s.jsx(Fe,{value:"14",children:"Last 14 days"}),s.jsx(Fe,{value:"30",children:"Last 30 days"}),s.jsx(Fe,{value:"60",children:"Last 60 days"}),s.jsx(Fe,{value:"90",children:"Last 90 days"})]})]})})]}),s.jsxs(zl,{defaultValue:"analytics",className:"space-y-6",children:[s.jsxs(ko,{className:"grid w-full grid-cols-2 sm:w-auto sm:inline-grid sm:grid-cols-4 gap-1",children:[s.jsxs(Dt,{value:"analytics",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(bd,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Analytics"})]}),s.jsxs(Dt,{value:"reports",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(nn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Reports"})]}),s.jsxs(Dt,{value:"management",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(kn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Management"})]}),s.jsxs(Dt,{value:"settings",className:"gap-2 text-xs sm:text-sm",children:[s.jsx(Sy,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden xs:inline",children:"Settings"})]})]}),s.jsx(fr,{value:"analytics",className:"space-y-6",children:i?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(Q=>s.jsx(Wt,{className:"h-28"},Q))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(Wt,{className:"h-80 lg:col-span-2"}),s.jsx(Wt,{className:"h-80"})]})]}):a?s.jsxs(s.Fragment,{children:[s.jsx(Wge,{overview:a.overview}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(L5e,{data:a.appointment_trends}),s.jsx(F5e,{data:a.consultation_types})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx(z5e,{data:a.clinician_performance}),s.jsx(V5e,{data:a.patient_growth})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(U5e,{data:a.status_distribution}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"w-5 h-5 text-primary"}),s.jsx(xe,{className:"text-lg",children:"Quick Insights"})]}),s.jsx(Se,{children:"Key performance indicators"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Average Session Duration"}),s.jsxs("span",{className:"font-semibold",children:[a.overview.average_consultation_duration.toFixed(1)," min"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),s.jsxs("span",{className:"font-semibold text-success",children:[a.overview.completion_rate,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Appointments This Week"}),s.jsx("span",{className:"font-semibold",children:a.overview.appointments_this_week})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Prescriptions Issued"}),s.jsx("span",{className:"font-semibold",children:a.overview.total_prescriptions})]})]})]})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(bd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Failed to load analytics data"}),o&&s.jsx("p",{className:"text-sm mt-2 text-destructive",children:o}),s.jsx(Z,{onClick:()=>l(),className:"mt-4",children:"Try Again"})]})}),s.jsxs(fr,{value:"reports",className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Booking Reports"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed analytics and export options"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(or,{value:c,onValueChange:u,children:[s.jsx(Qt,{className:"w-[150px]",children:s.jsx(lr,{placeholder:"Select period"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"today",children:"Today"}),s.jsx(Fe,{value:"week",children:"Last 7 days"}),s.jsx(Fe,{value:"month",children:"Last 30 days"}),s.jsx(Fe,{value:"quarter",children:"Last 90 days"}),s.jsx(Fe,{value:"year",children:"Last year"})]})]}),s.jsxs(Z,{variant:"outline",onClick:ua,disabled:T,children:[T?s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Uc,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),P?s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[1,2,3,4].map(Q=>s.jsx(Wt,{className:"h-32"},Q))}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs(se,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsx(Se,{children:"Total Bookings"}),s.jsx(xe,{className:"text-3xl",children:d.booking_stats.total_bookings})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.period_start," - ",d.booking_stats.period_end]})})]}),s.jsxs(se,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(Nr,{className:"w-3 h-3 text-green-500"}),"Completed"]}),s.jsx(xe,{className:"text-3xl text-green-600",children:d.booking_stats.completed})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.booking_stats.total_bookings>0?Math.round(d.booking_stats.completed/d.booking_stats.total_bookings*100):0,"% completion rate"]})})]}),s.jsxs(se,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(Hi,{className:"w-3 h-3 text-red-500"}),"Cancelled"]}),s.jsx(xe,{className:"text-3xl text-red-600",children:d.booking_stats.cancelled})]}),s.jsx(ce,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(g==null?void 0:g.cancellation_rate)||0,"% cancellation rate"]})})]}),s.jsxs(se,{children:[s.jsxs(me,{className:"pb-2",children:[s.jsxs(Se,{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"w-3 h-3 text-yellow-500"}),"Pending"]}),s.jsx(xe,{className:"text-3xl text-yellow-600",children:d.booking_stats.pending+d.booking_stats.confirmed})]}),s.jsx(ce,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting consultation"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"w-5 h-5 text-primary"}),"Peak Times Analysis"]}),s.jsx(Se,{children:"When are consultations most requested?"})]}),s.jsx(ce,{className:"space-y-4",children:h!=null&&h.insights?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),s.jsx("p",{className:"font-semibold text-green-700 dark:text-green-300",children:h.insights.peak_day.day}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_day.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),s.jsx("p",{className:"font-semibold text-blue-700 dark:text-blue-300",children:h.insights.peak_hour.time}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.peak_hour.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quietest Day"}),s.jsx("p",{className:"font-semibold text-orange-700 dark:text-orange-300",children:h.insights.offpeak_day.day}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_day.bookings," bookings"]})]}),s.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Off-Peak Hour"}),s.jsx("p",{className:"font-semibold text-purple-700 dark:text-purple-300",children:h.insights.offpeak_hour.time}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[h.insights.offpeak_hour.bookings," bookings"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Bookings by Day of Week"}),(Ru=h.by_day_of_week)==null?void 0:Ru.map(Q=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:Q.day}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2",style:{width:`${h.insights.peak_day.bookings>0?Q.count/h.insights.peak_day.bookings*100:0}%`}})}),s.jsx("span",{className:"w-8 text-xs text-right",children:Q.count})]},Q.day))]})]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Service Type Breakdown"]}),s.jsx(Se,{children:"Distribution of consultation types"})]}),s.jsx(ce,{className:"space-y-3",children:((mi=d.service_breakdown)==null?void 0:mi.length)>0?d.service_breakdown.map(Q=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:Q.service_type}),s.jsxs("span",{className:"font-medium",children:[Q.count," (",Q.percentage,"%)"]})]}),s.jsx("div",{className:"bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-primary rounded-full h-2 transition-all",style:{width:`${Q.percentage}%`}})})]},Q.service_type)):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]})]}),N&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-primary"}),"Consultation Time Trends"]}),s.jsxs(Se,{children:["When do students book consultations? Busiest time: ",(Xe=(Jg=N.summary)==null?void 0:Jg.busiest_time_slot)==null?void 0:Xe.description]})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:($t=(_t=N.summary)==null?void 0:_t.peak_hour)==null?void 0:$t.time}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Peak Hour"}),s.jsxs("p",{className:"text-sm text-blue-600",children:[(Yn=(Kn=N.summary)==null?void 0:Kn.peak_hour)==null?void 0:Yn.count," bookings"]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:(rs=(pi=N.summary)==null?void 0:pi.peak_day)==null?void 0:rs.day}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Busiest Day"}),s.jsxs("p",{className:"text-sm text-green-600",children:[(gi=(Jn=N.summary)==null?void 0:Jn.peak_day)==null?void 0:gi.count," bookings"]})]}),s.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(pA=N.summary)==null?void 0:pA.total_appointments}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Consultations"}),s.jsx("p",{className:"text-sm text-purple-600",children:"in selected period"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Hourly Distribution (SAST)"}),s.jsx("div",{className:"flex items-end gap-1 h-32",children:(gA=N.hourly_distribution)==null?void 0:gA.map(Q=>{var nr;const je=((nr=N.scaling)==null?void 0:nr.max_hourly)>0?Q.count/N.scaling.max_hourly*100:0;return s.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[s.jsx("div",{className:`w-full rounded-t transition-all ${Q.is_peak?"bg-primary":"bg-primary/40"} hover:bg-primary/80`,style:{height:`${Math.max(je,2)}%`},title:`${Q.hour}: ${Q.count} bookings`}),s.jsx("span",{className:"text-[10px] text-muted-foreground mt-1 hidden sm:block",children:Q.hour_numeric%3===0?Q.hour.slice(0,2):""})]},Q.hour)})}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:"00:00"}),s.jsx("span",{children:"06:00"}),s.jsx("span",{children:"12:00"}),s.jsx("span",{children:"18:00"}),s.jsx("span",{children:"23:00"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Day of Week Distribution"}),s.jsx("div",{className:"grid grid-cols-7 gap-2",children:(vA=N.daily_distribution)==null?void 0:vA.map(Q=>{var nr;const je=((nr=N.scaling)==null?void 0:nr.max_daily)>0?Q.count/N.scaling.max_daily:0;return s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:`h-16 rounded-lg flex items-center justify-center text-sm font-medium ${Q.is_peak?"bg-primary text-primary-foreground":"bg-primary/20"}`,style:{opacity:Math.max(je,.2)},children:Q.count}),s.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:Q.day_short})]},Q.day)})})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Weekly Heatmap (Day  Hour)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-[600px]",children:[s.jsxs("div",{className:"flex mb-1",children:[s.jsx("div",{className:"w-16"}),[0,3,6,9,12,15,18,21].map(Q=>s.jsx("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:`${Q}:00`},Q))]}),["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((Q,je)=>s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"w-16 text-xs text-muted-foreground pr-2 text-right",children:Q.slice(0,3)}),s.jsx("div",{className:"flex-1 flex gap-[1px]",children:Array.from({length:24},(nr,ec)=>{var Xg,CA,EA;const Ah=(CA=(Xg=N.heatmap)==null?void 0:Xg.data)==null?void 0:CA.find(PA=>PA.day_index===je&&PA.hour_index===ec),Th=(Ah==null?void 0:Ah.count)||0,c_=((EA=N.scaling)==null?void 0:EA.max_heatmap)>0?Th/N.scaling.max_heatmap:0;return s.jsx("div",{className:"flex-1 h-6 rounded-sm transition-colors cursor-pointer hover:ring-1 hover:ring-primary",style:{backgroundColor:Th>0?`rgba(59, 130, 246, ${Math.max(c_,.1)})`:"rgba(0,0,0,0.05)"},title:`${Q} ${ec}:00 - ${Th} bookings`},ec)})})]},Q)),s.jsxs("div",{className:"flex items-center justify-end gap-2 mt-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Less"}),s.jsx("div",{className:"flex gap-[1px]",children:[.1,.3,.5,.7,1].map((Q,je)=>s.jsx("div",{className:"w-4 h-4 rounded-sm",style:{backgroundColor:`rgba(59, 130, 246, ${Q})`}},je))}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"More"})]})]})})]}),((yA=N.daily_trend)==null?void 0:yA.length)>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-3",children:"Daily Booking Trend"}),s.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:N.daily_trend.map(Q=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("span",{className:"w-24 text-muted-foreground",children:Q.date}),s.jsx("div",{className:"flex-1 flex items-center gap-1",children:s.jsx("div",{className:"bg-primary h-4 rounded",style:{width:`${Math.max(Q.total/Math.max(...N.daily_trend.map(je=>je.total||1))*100,5)}%`}})}),s.jsxs("span",{className:"w-20 text-right",children:[s.jsx("span",{className:"font-medium",children:Q.total}),Q.completed>0&&s.jsxs("span",{className:"text-green-600 text-xs ml-1",children:["(",Q.completed,")"]})]})]},Q.date))})]})]})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Clinician Performance"]}),s.jsx(Se,{children:"Top clinicians by appointment volume"})]}),s.jsx(ce,{children:((xA=d.top_clinicians)==null?void 0:xA.length)>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 font-medium",children:"Clinician"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Total"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Completed"}),s.jsx("th",{className:"text-center py-2 font-medium",children:"Cancelled"}),s.jsx("th",{className:"text-right py-2 font-medium",children:"Rate"})]})}),s.jsx("tbody",{children:d.top_clinicians.map(Q=>s.jsxs("tr",{className:"border-b last:border-0",children:[s.jsx("td",{className:"py-2",children:Q.clinician_name}),s.jsx("td",{className:"text-center py-2",children:Q.total_appointments}),s.jsx("td",{className:"text-center py-2 text-green-600",children:Q.completed}),s.jsx("td",{className:"text-center py-2 text-red-600",children:Q.cancelled}),s.jsxs("td",{className:"text-right py-2",children:[Q.total_appointments>0?Math.round(Q.completed/Q.total_appointments*100):0,"%"]})]},Q.clinician_name))})]})}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No data available"})})]}),v&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"w-5 h-5 text-primary"}),"Conversion Funnel"]}),s.jsx(Se,{children:"Patient journey from chat to completed consultation"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"space-y-2",children:[{label:"Chats Initiated",value:v.funnel.chats_initiated,color:"bg-blue-500"},{label:"Bookings Created",value:v.funnel.bookings_created,color:"bg-indigo-500"},{label:"Consultations Confirmed",value:v.funnel.consultations_confirmed,color:"bg-purple-500"},{label:"Consultations Completed",value:v.funnel.consultations_completed,color:"bg-green-500"}].map((Q,je)=>{const nr=v.funnel.chats_initiated||1,ec=Math.max(Q.value/nr*100,5);return s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-40 text-sm text-right",children:Q.label}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-8 overflow-hidden",children:s.jsx("div",{className:`${Q.color} h-full flex items-center justify-end pr-3 transition-all`,style:{width:`${ec}%`},children:s.jsx("span",{className:"text-white text-sm font-medium",children:Q.value})})})]},Q.label)})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[v.conversion_rates.chat_to_booking,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Chat  Booking"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v.conversion_rates.booking_to_completed,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Booking  Completed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v.conversion_rates.overall,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Conversion"})]})]}),s.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-orange-700 dark:text-orange-300",children:"Chats without booking (Abandonment)"}),s.jsxs("span",{className:"font-semibold text-orange-700 dark:text-orange-300",children:[v.abandonment.chats_without_booking," (",v.abandonment.abandonment_rate,"%)"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Hi,{className:"w-5 h-5 text-red-500"}),"No-Show Analysis"]}),s.jsx(Se,{children:"Appointments missed without cancellation"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[s.jsx("p",{className:"text-3xl font-bold text-red-600",children:x.summary.no_shows}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Shows"})]}),s.jsxs("div",{className:"p-4 bg-muted rounded-lg text-center",children:[s.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.summary.no_show_rate,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No-Show Rate"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"No-Shows by Day"}),(bA=x.by_day_of_week)==null?void 0:bA.map(Q=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-20 text-xs text-muted-foreground",children:Q.day}),s.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-red-500 rounded-full h-2",style:{width:`${x.summary.no_shows>0?Q.no_shows/x.summary.no_shows*100:0}%`}})}),s.jsx("span",{className:"w-8 text-xs text-right",children:Q.no_shows})]},Q.day))]})]})]}),_&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Receptionist Workload"]}),s.jsx(Se,{children:"Chat and booking distribution"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold",children:_.summary.total_chats_handled}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Chats"})]}),s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.summary.total_bookings_created}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Bookings Created"})]})]}),((wA=_.by_receptionist)==null?void 0:wA.length)>0?s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"By Receptionist"}),_.by_receptionist.map(Q=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:Q.receptionist_name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[Q.chats_handled," chats  ",Q.bookings_created," bookings"]})]}),s.jsxs(Ne,{variant:Q.conversion_rate>=50?"default":"secondary",children:[Q.conversion_rate,"% conversion"]})]},Q.receptionist_id))]}):s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No receptionist data available"})]})]})]})]}):s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(nn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No report data available"})]})]}),s.jsxs(fr,{value:"management",className:"space-y-6",children:[s.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:s.jsx(kn,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:"User Management"}),s.jsx(Se,{children:"Manage all users"})]})]})}),s.jsxs(ni,{open:O,onOpenChange:Q=>{L(Q),Q||Ql()},children:[s.jsx(Ax,{asChild:!0,children:s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-green-500/20 hover:border-green-500 bg-green-50/50 dark:bg-green-900/10",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-green-500/10",children:s.jsx(HX,{className:"w-6 h-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:"Bulk Import"}),s.jsx(Se,{children:"Import students from Excel"})]})]})})}),s.jsxs(Aa,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2",children:[s.jsx(JT,{className:"w-5 h-5"}),"Campus Africa Student Import"]}),s.jsx(su,{children:"Upload an Excel file to bulk register students. Supports password-protected files."})]}),E==="upload"&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:[s.jsx(JT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),s.jsxs(fe,{htmlFor:"excel-upload",className:"cursor-pointer",children:[s.jsx("span",{className:"text-primary hover:underline",children:"Choose Excel file"}),s.jsx("span",{className:"text-muted-foreground",children:" or drag and drop"})]}),s.jsx(Ze,{id:"excel-upload",type:"file",accept:".xlsx,.xls",onChange:Xl,className:"hidden"}),$&&s.jsxs("p",{className:"mt-4 text-sm text-green-600 flex items-center justify-center gap-2",children:[s.jsx(rn,{className:"w-4 h-4"}),$.name," (",($.size/1024).toFixed(1)," KB)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"password",children:"File Password (if protected)"}),s.jsx(Ze,{id:"password",type:"password",placeholder:"Leave empty if not password protected",value:z,onChange:Q=>V(Q.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"corporate-client",children:"Corporate Client"}),s.jsxs(or,{value:G,onValueChange:q,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select corporate client"})}),s.jsxs(Zt,{children:[B.map(Q=>s.jsxs(Fe,{value:Q.name,children:[Q.name," (",Q.code||Q.type,")"]},Q.id)),s.jsx(Fe,{value:"__new__",children:"+ Add New Client"})]})]})]}),G==="__new__"&&s.jsxs("div",{className:"space-y-2 pl-4 border-l-2 border-primary",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"new-client-name",children:"New Client Name"}),s.jsx(Ze,{id:"new-client-name",placeholder:"e.g., Company XYZ",value:Y,onChange:Q=>be(Q.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"client-type",children:"Client Type"}),s.jsxs(or,{value:J,onValueChange:te,children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"corporate",children:"Corporate"}),s.jsx(Fe,{value:"university",children:"University / College"}),s.jsx(Fe,{value:"government",children:"Government"}),s.jsx(Fe,{value:"ngo",children:"NGO / Non-Profit"})]})]})]})]}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 text-sm space-y-2",children:[s.jsx("p",{className:"font-medium",children:"Expected Columns:"}),s.jsx("p",{className:"text-muted-foreground",children:"Account Number, Title, First Name, Last Name, I.D Number, DOB, Gender, Cell, Email, Employer, Occupation, Status"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[" All patients will be linked to: ",s.jsx("strong",{children:G==="__new__"?Y||"(enter name above)":G}),s.jsx("br",{})," Rows with invalid/missing email will be skipped",s.jsx("br",{})," Duplicate emails (already in Quadcare) will be skipped",s.jsx("br",{}),' Patients can use "Forgot Password" to set their login password']})]})]}),E==="preview"&&R&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg flex items-center gap-2 mb-4",children:[s.jsx(ux,{className:"w-5 h-5 text-primary"}),s.jsxs("span",{className:"font-medium",children:["Importing to: ",G==="__new__"?Y:G]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:R.summary.to_import}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"To Import"})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:R.summary.duplicates||0}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Already in Quadcare"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:R.summary.errors}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Invalid Email"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Preview of first 10 rows from ",R.total_rows," total rows:"]}),s.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[300px]",children:s.jsxs(Ty,{children:[s.jsx(My,{children:s.jsxs(mc,{children:[s.jsx(ma,{className:"w-12",children:"#"}),s.jsx(ma,{children:"Name"}),s.jsx(ma,{children:"Email"}),s.jsx(ma,{children:"Phone"}),s.jsx(ma,{children:"CA Status"}),s.jsx(ma,{children:"Action"})]})}),s.jsx($y,{children:R.preview_rows.map(Q=>{var je,nr;return s.jsxs(mc,{children:[s.jsx(pa,{className:"font-mono text-xs",children:Q.row_number}),s.jsxs(pa,{children:[Q.first_name," ",Q.last_name]}),s.jsx(pa,{className:"text-xs",children:Q.email}),s.jsx(pa,{className:"text-xs",children:Q.phone}),s.jsx(pa,{children:s.jsx(Ne,{variant:(je=Q.status)!=null&&je.includes("existing")?"secondary":"outline",children:Q.status||"New"})}),s.jsxs(pa,{children:[Q.import_action==="import"?s.jsxs(Ne,{variant:"default",className:"bg-green-600",children:[s.jsx(rn,{className:"w-3 h-3 mr-1"}),"Import"]}):Q.import_action==="duplicate"?s.jsx(Ne,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Duplicate"}):s.jsxs(Ne,{variant:"destructive",children:[s.jsx(Su,{className:"w-3 h-3 mr-1"}),"Error"]}),((nr=Q.validation_errors)==null?void 0:nr.length)>0&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:Q.validation_errors.join(", ")})]})]},Q.row_number)})})]})})]}),E==="importing"&&s.jsxs("div",{className:"space-y-4 py-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(lt,{className:"w-12 h-12 mx-auto animate-spin text-primary"}),s.jsx("p",{className:"text-lg font-medium mt-4",children:"Importing patients..."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Processing in the background. You can close this dialog - the import will continue."})]}),He&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Progress: ",He.processed||0," / ",He.total_rows||0]}),s.jsxs("span",{children:[He.progress_percent||0,"%"]})]}),s.jsx(lu,{value:He.progress_percent||0,className:"w-full"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[s.jsxs("div",{className:"p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-green-600",children:He.imported||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Imported"})]}),s.jsxs("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-yellow-600",children:He.skipped||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Skipped"})]}),s.jsxs("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-blue-600",children:He.duplicates||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Duplicates"})]}),s.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[s.jsx("p",{className:"text-lg font-bold text-red-600",children:He.errors||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]}),s.jsx(Z,{variant:"outline",onClick:ts,className:"w-full",children:"Cancel Import"})]})]}),E==="complete"&&ee&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"text-center py-4",children:[s.jsx(rn,{className:"w-16 h-16 mx-auto text-green-500 mb-4"}),s.jsx("p",{className:"text-xl font-bold",children:"Import Complete!"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-green-600",children:ee.summary.imported}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Imported"})]}),s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ee.summary.skipped}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Skipped"})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ee.summary.duplicates}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-600",children:ee.summary.errors}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"})]})]}),((_A=ee.details)==null?void 0:_A.length)>0&&s.jsx("div",{className:"border rounded-lg overflow-x-auto max-h-[200px]",children:s.jsxs(Ty,{children:[s.jsx(My,{children:s.jsxs(mc,{children:[s.jsx(ma,{className:"w-12",children:"#"}),s.jsx(ma,{children:"Email"}),s.jsx(ma,{children:"Status"}),s.jsx(ma,{children:"Details"})]})}),s.jsx($y,{children:ee.details.slice(0,20).map((Q,je)=>s.jsxs(mc,{children:[s.jsx(pa,{className:"font-mono text-xs",children:Q.row}),s.jsx(pa,{className:"text-xs",children:Q.email}),s.jsx(pa,{children:s.jsx(Ne,{variant:Q.status==="imported"?"default":Q.status==="skipped"?"secondary":Q.status==="duplicate"?"outline":"destructive",className:Q.status==="imported"?"bg-green-600":"",children:Q.status})}),s.jsx(pa,{className:"text-xs text-muted-foreground",children:Q.reason})]},je))})]})}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:'Students can now log in using "Forgot Password" to set their password.'})]}),s.jsxs(Ud,{children:[E==="upload"&&s.jsx(Z,{onClick:Va,disabled:!$||K,children:K?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):s.jsx(s.Fragment,{children:"Preview File"})}),E==="preview"&&s.jsxs(s.Fragment,{children:[s.jsx(Z,{variant:"outline",onClick:()=>C("upload"),children:"Back"}),s.jsx(Z,{onClick:To,disabled:K||((jA=R==null?void 0:R.summary)==null?void 0:jA.to_import)===0,children:K?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Importing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dx,{className:"w-4 h-4 mr-2"}),"Import ",(SA=R==null?void 0:R.summary)==null?void 0:SA.to_import," Students"]})})]}),E==="complete"&&s.jsx(Z,{onClick:()=>{L(!1),Ql()},children:"Done"})]})]})]}),s.jsxs(ni,{open:st,onOpenChange:Q=>{Mt(Q),Q||Yg(),Q&&Oh()},children:[s.jsx(Ax,{asChild:!0,children:s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-blue-500/20 hover:border-blue-500 bg-blue-50/50 dark:bg-blue-900/10",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-blue-500/10",children:s.jsx(hs,{className:"w-6 h-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:"Welcome Emails"}),s.jsx(Se,{children:"Send to Campus Africa students"})]})]})})}),s.jsxs(Aa,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2",children:[s.jsx(hs,{className:"w-5 h-5"}),"Send Welcome Emails"]}),s.jsx(su,{children:"Send personalized welcome emails to Campus Africa students who haven't logged in yet."})]}),ot==="preview"&&s.jsx("div",{className:"space-y-4 py-4",children:W?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(lt,{className:"w-6 h-6 animate-spin mr-2"}),"Loading recipients..."]}):St?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(kn,{className:"w-5 h-5 text-blue-600"}),s.jsxs("span",{className:"font-semibold text-lg",children:[St.total_eligible," students eligible"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Students who were bulk-imported but haven't logged in yet"})]}),((NA=St.preview)==null?void 0:NA.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Preview (first 20):"}),s.jsx("div",{className:"border rounded-lg max-h-48 overflow-y-auto",children:s.jsxs(Ty,{children:[s.jsx(My,{children:s.jsxs(mc,{children:[s.jsx(ma,{children:"Name"}),s.jsx(ma,{children:"Email"})]})}),s.jsx($y,{children:St.preview.map((Q,je)=>s.jsxs(mc,{children:[s.jsxs(pa,{children:[Q.first_name," ",Q.last_name]}),s.jsx(pa,{className:"text-sm text-muted-foreground",children:Q.email})]},je))})]})})]}),s.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[s.jsx("input",{type:"checkbox",id:"test-mode",checked:rr,onChange:Q=>za(Q.target.checked),className:"rounded"}),s.jsx(fe,{htmlFor:"test-mode",className:"text-sm cursor-pointer",children:"Test mode (send to first 5 students only)"})]})]}):s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No data loaded"})}),ot==="sending"&&ie&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[s.jsx(lt,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"font-medium",children:"Sending emails..."})]}),s.jsx(lu,{value:ie.progress_percent,className:"h-3"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:ie.sent}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Sent"})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:ie.failed}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"})]}),s.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold",children:ie.total}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total"})]})]}),s.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[ie.processed," of ",ie.total," processed (",ie.progress_percent,"%)"]})]}),ot==="complete"&&ie&&s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Nr,{className:"w-8 h-8 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold",children:"Emails Sent!"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:ie.sent}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Successfully Sent"})]}),s.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:ie.failed}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"})]})]}),((kA=ie.errors)==null?void 0:kA.length)>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-red-600",children:"Failed emails:"}),s.jsx("div",{className:"border border-red-200 rounded-lg max-h-32 overflow-y-auto p-2",children:ie.errors.map((Q,je)=>s.jsxs("div",{className:"text-sm text-red-600",children:[Q.email,": ",Q.error]},je))})]})]}),s.jsxs(Ud,{className:"gap-2",children:[ot==="preview"&&s.jsxs(s.Fragment,{children:[s.jsxs(Z,{variant:"outline",onClick:Kg,disabled:W,children:[s.jsx(jB,{className:"w-4 h-4 mr-2"}),"Send Test to Me"]}),s.jsxs(Z,{onClick:Zl,disabled:W||!(St!=null&&St.total_eligible),children:[W?s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(hs,{className:"w-4 h-4 mr-2"}),"Send ",rr?"5 Test":(St==null?void 0:St.total_eligible)||0," Emails"]})]}),ot==="complete"&&s.jsx(Z,{onClick:()=>{Mt(!1),Yg()},children:"Done"})]})]})]}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-success/10",children:s.jsx(ux,{className:"w-6 h-6 text-success"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:"Clinics"}),s.jsx(Se,{children:"Manage clinic locations"})]})]})}),s.jsx(se,{className:"hover:shadow-lg transition-shadow cursor-pointer border-primary/20 hover:border-primary",children:s.jsxs(me,{className:"flex flex-row items-center gap-4 pb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-warning/10",children:s.jsx(kt,{className:"w-6 h-6 text-warning"})}),s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:"Appointments"}),s.jsx(Se,{children:"View all bookings"})]})]})})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bd,{className:"w-5 h-5 text-primary"}),"System Activity"]}),s.jsx(Se,{children:"Recent system events and logs"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(bd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Activity logging coming soon"}),s.jsx("p",{className:"text-sm mt-2",children:"System events will appear here"})]})})]})]}),s.jsx(fr,{value:"settings",className:"space-y-6",children:s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Sy,{className:"w-5 h-5 text-primary"}),"System Settings"]}),s.jsx(Se,{children:"Configure system parameters"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Sy,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Settings panel coming soon"}),s.jsx("p",{className:"text-sm mt-2",children:"System configuration options will appear here"})]})})]})})]})]})]})},H5e=()=>{const e=On(),{toast:t}=cE(),{user:r,profile:n,signOut:a,role:i}=$r(),{currentConversation:o,messages:l,isLoading:c,selectConversation:u,sendMessage:d,claimConversation:f,updateConversationStatus:h}=t8(),[m,g]=y.useState("unassigned"),[p,v]=y.useState([]),[b,x]=y.useState([]),[w,_]=y.useState([]),[S,N]=y.useState({unassigned_count:0,my_chats_count:0,total_active:0}),[k,P]=y.useState(!1),[A,T]=y.useState(!1),[I,O]=y.useState("chat"),[L,$]=y.useState([]),[F,z]=y.useState(!1),[V,R]=y.useState(!1),[U,K]=y.useState([]),[re,ee]=y.useState([]),[j,E]=y.useState({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),[C,B]=y.useState(!1),[D,G]=y.useState(!1),[q,J]=y.useState(!1),[te,Y]=y.useState(null),[be,ke]=y.useState(null);y.useEffect(()=>{(async()=>{if(o!=null&&o.booking_id)try{const de=(await Ks.list()).find(ue=>ue.id===o.booking_id);Y(de||null)}catch(X){console.error("Error fetching booking:",X),Y(null)}else Y(null)})()},[o==null?void 0:o.booking_id]);const Je=y.useCallback(async()=>{z(!0);try{const X=(await Ks.list()||[]).sort((de,ue)=>new Date(de.scheduled_at).getTime()-new Date(ue.scheduled_at).getTime());$(X)}catch(W){console.error("Error loading bookings:",W)}finally{z(!1)}},[]);y.useEffect(()=>{I==="bookings"&&Je()},[I,Je]);const He=async W=>{ke(W),G(!0)},Be=async()=>{const W=be||(o!=null&&o.booking_id?{id:o.booking_id}:null);if(W!=null&&W.id){J(!0);try{await Ks.cancel(W.id),t({title:"Booking cancelled",description:"The booking has been cancelled successfully"}),G(!1),ke(null),Y(null),st(),I==="bookings"&&Je()}catch(X){t({title:"Error cancelling booking",description:X.message,variant:"destructive"})}finally{J(!1)}}},st=y.useCallback(async()=>{T(!0);try{const[W,X,de,ue]=await Promise.all([Kr.getUnassignedConversations(),Kr.getMyChats(),Kr.getConversations(),Kr.getStats()]);v(W||[]),x(X||[]),_(de||[]),N(ue||{unassigned_count:0,my_chats_count:0,total_active:0})}catch(W){console.error("Error loading data:",W)}finally{T(!1)}},[]);y.useEffect(()=>{st();const W=setInterval(st,3e4);return()=>clearInterval(W)},[st]),y.useEffect(()=>{(async()=>{try{const[X,de]=await Promise.all([Ks.getFeeSchedule(),Ks.getAvailableClinicians()]);K(X||[]),ee(de||[]),console.log("Loaded clinicians:",de)}catch(X){console.error("Error loading booking data:",X)}})()},[]);const Mt=async W=>{try{await f(W),t({title:"Chat claimed",description:"You are now handling this conversation"}),await st(),g("my-chats")}catch(X){t({title:"Error",description:X.message,variant:"destructive"})}},St=async W=>{await u(W.id)},H=async()=>{if(!o||!j.clinician_id||!j.scheduled_at){t({title:"Error",description:"Please select a clinician and date/time",variant:"destructive"});return}B(!0);try{await Ks.create({patient_id:o.patient_id,clinician_id:j.clinician_id,conversation_id:o.id,scheduled_at:new Date(j.scheduled_at).toISOString(),service_type:j.service_type,billing_type:j.billing_type,notes:j.notes||void 0}),t({title:"Booking created",description:"The patient has been notified"}),R(!1),E({clinician_id:"",scheduled_at:"",service_type:"teleconsultation",billing_type:"cash",notes:""}),await u(o.id),await st()}catch(W){t({title:"Error creating booking",description:W.message,variant:"destructive"})}finally{B(!1)}};return i!=="admin"&&i!=="nurse"&&i!=="doctor"&&i!=="receptionist"?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs(se,{className:"p-8 text-center",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),s.jsx(Z,{className:"mt-4",onClick:()=>e("/"),children:"Go Home"})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-lg hidden sm:block",children:"Quadcare Reception"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-muted rounded-lg p-1",children:[s.jsxs(Z,{variant:I==="chat"?"default":"ghost",size:"sm",onClick:()=>O("chat"),children:[s.jsx(eu,{className:"w-4 h-4 mr-2"}),"Chats"]}),s.jsxs(Z,{variant:I==="bookings"?"default":"ghost",size:"sm",onClick:()=>O("bookings"),children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Bookings"]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Ne,{variant:"secondary",className:"gap-1",children:[s.jsx(PX,{className:"w-3 h-3"}),S.unassigned_count," Unassigned"]}),s.jsxs(Ne,{variant:"default",className:"gap-1",children:[s.jsx(eu,{className:"w-3 h-3"}),S.my_chats_count," My Chats"]})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.first_name)||"Receptionist"}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:a,children:[s.jsx(Cl,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}),s.jsx("button",{className:"sm:hidden p-2 hover:bg-accent rounded-lg",onClick:()=>P(!k),children:k?s.jsx(So,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})}),s.jsx("main",{className:"container mx-auto px-4 py-4",children:I==="chat"?s.jsxs("div",{className:"flex gap-4 h-[calc(100vh-120px)]",children:[s.jsxs(se,{className:"w-80 shrink-0 flex flex-col",children:[s.jsx(me,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xe,{className:"text-lg",children:"Chat Queue"}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:st,disabled:A,children:A?s.jsx(lt,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),s.jsx(ce,{className:"flex-1 p-0 overflow-hidden",children:s.jsxs(zl,{value:m,onValueChange:g,className:"h-full flex flex-col",children:[s.jsxs(ko,{className:"grid grid-cols-3 mx-4",children:[s.jsxs(Dt,{value:"unassigned",className:"text-xs",children:["Unassigned",S.unassigned_count>0&&s.jsx(Ne,{variant:"destructive",className:"ml-1 px-1 py-0 text-xs",children:S.unassigned_count})]}),s.jsx(Dt,{value:"my-chats",className:"text-xs",children:"My Chats"}),s.jsx(Dt,{value:"all",className:"text-xs",children:"All"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[s.jsx(fr,{value:"unassigned",className:"m-0 h-full",children:p.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center text-muted-foreground",children:[s.jsx(Nr,{className:"w-12 h-12 mb-4 opacity-50"}),s.jsx("p",{children:"No unassigned chats"})]}):s.jsx("div",{className:"divide-y",children:p.map(W=>s.jsxs("div",{className:"p-4 hover:bg-accent",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:W.patient_name}),s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:W.last_message})]}),s.jsx(Ne,{variant:"secondary",className:"text-xs",children:"New"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:W.last_message_at&&yt(new Date(W.last_message_at),"HH:mm")}),s.jsxs(Z,{size:"sm",onClick:()=>Mt(W.id),children:[s.jsx(dx,{className:"w-3 h-3 mr-1"}),"Claim"]})]})]},W.id))})}),s.jsx(fr,{value:"my-chats",className:"m-0 h-full",children:s.jsx(fN,{conversations:b,selectedId:o==null?void 0:o.id,onSelect:St,showPatientName:!0})}),s.jsx(fr,{value:"all",className:"m-0 h-full",children:s.jsx(fN,{conversations:w,selectedId:o==null?void 0:o.id,onSelect:St,showPatientName:!0})})]})]})})]}),s.jsx(se,{className:"flex-1 flex flex-col",children:o?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"pb-2 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(xe,{className:"text-lg",children:o.patient_name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ne,{variant:"outline",children:o.status.replace("_"," ")}),o.patient_type&&s.jsx(Ne,{variant:"secondary",children:o.patient_type.replace("_"," ")})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(or,{value:o.patient_type||"",onValueChange:async W=>{await Kr.updatePatientType(o.id,W),await u(o.id)},children:[s.jsx(Qt,{className:"w-[150px]",children:s.jsx(lr,{placeholder:"Patient Type"})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"medical_aid",children:"Medical Aid"}),s.jsx(Fe,{value:"campus_africa",children:"Campus Africa"}),s.jsx(Fe,{value:"university_student",children:"University Student"}),s.jsx(Fe,{value:"cash",children:"Cash / Self-Pay"})]})]}),s.jsxs(ni,{open:V,onOpenChange:R,children:[s.jsx(Ax,{asChild:!0,children:s.jsxs(Z,{disabled:o.status==="booked"||!!te,children:[s.jsx(kt,{className:"w-4 h-4 mr-2"}),"Create Booking"]})}),s.jsxs(Aa,{className:"max-w-md",children:[s.jsx(Ta,{children:s.jsxs(Ma,{children:["Create Booking for ",o.patient_name]})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Clinical Associate *"}),s.jsxs(or,{value:j.clinician_id,onValueChange:W=>E(X=>({...X,clinician_id:W})),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select clinician"})}),s.jsx(Zt,{children:re.length===0?s.jsx(Fe,{value:"",disabled:!0,children:"No clinicians available"}):re.map(W=>s.jsxs(Fe,{value:W.id,children:[W.name," (",W.specialization||W.role,")"]},W.id))})]}),re.length===0&&s.jsx("p",{className:"text-xs text-destructive",children:"No clinicians found. Please create Clinical Associate accounts first."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Date & Time *"}),s.jsx(Ze,{type:"datetime-local",value:j.scheduled_at,onChange:W=>E(X=>({...X,scheduled_at:W.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Service Type"}),s.jsxs(or,{value:j.service_type,onValueChange:W=>E(X=>({...X,service_type:W})),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:U.map(W=>s.jsxs(Fe,{value:W.service_type,children:[W.name," - R",W.price]},W.service_type))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Billing Type"}),s.jsxs(or,{value:j.billing_type,onValueChange:W=>E(X=>({...X,billing_type:W})),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"medical_aid",children:"Medical Aid"}),s.jsx(Fe,{value:"campus_africa",children:"Campus Africa"}),s.jsx(Fe,{value:"university_student",children:"University Student"}),s.jsx(Fe,{value:"cash",children:"Cash / Self-Pay"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Notes (optional)"}),s.jsx(Fr,{value:j.notes,onChange:W=>E(X=>({...X,notes:W.target.value})),placeholder:"e.g., Patient mentioned skin rash, see uploaded images"})]}),j.billing_type==="cash"&&s.jsx("div",{className:"p-3 bg-muted rounded-lg",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:" Invoice will be auto-generated for cash patients"})})]}),s.jsxs(Ud,{children:[s.jsx(Z,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),s.jsx(Z,{onClick:H,disabled:C||!j.clinician_id,children:C?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Booking"})]})]})]}),te&&s.jsxs(ni,{open:D,onOpenChange:G,children:[s.jsx(Ax,{asChild:!0,children:s.jsxs(Z,{variant:"destructive",size:"sm",children:[s.jsx(Hi,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})}),s.jsxs(Aa,{className:"max-w-md",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),s.jsx(su,{children:"Are you sure you want to cancel this booking? This action cannot be undone."})]}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),s.jsx("span",{className:"font-medium",children:o.patient_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),s.jsx("span",{className:"font-medium",children:te.scheduled_at?ta(te.scheduled_at,"MMM d, yyyy 'at' HH:mm"):"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),s.jsx("span",{className:"font-medium",children:te.service_type})]}),te.clinician_name&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Clinician"}),s.jsx("span",{className:"font-medium",children:te.clinician_name})]})]})}),s.jsxs(Ud,{children:[s.jsx(Z,{variant:"outline",onClick:()=>G(!1),children:"Keep Booking"}),s.jsx(Z,{variant:"destructive",onClick:Be,disabled:q,children:q?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})]})]})]})}),s.jsx(nz,{messages:l,currentUserId:r==null?void 0:r.id}),s.jsx(az,{onSend:d,disabled:o.status==="closed"})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8",children:[s.jsx(kn,{className:"w-16 h-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Conversation"}),s.jsx("p",{className:"text-muted-foreground",children:"Choose a chat from the queue to start helping patients"})]})})]}):s.jsxs("div",{className:"h-[calc(100vh-120px)]",children:[s.jsxs(se,{className:"h-full flex flex-col",children:[s.jsx(me,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kt,{className:"w-5 h-5 text-primary"}),"All Bookings"]}),s.jsx(Se,{children:"Manage upcoming and past consultations"})]}),s.jsx(Z,{variant:"outline",size:"sm",onClick:Je,disabled:F,children:F?s.jsx(lt,{className:"w-4 h-4 animate-spin"}):"Refresh"})]})}),s.jsx(ce,{className:"flex-1 overflow-y-auto",children:F?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(lt,{className:"w-8 h-8 animate-spin text-primary"})}):L.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[s.jsx(kt,{className:"w-16 h-16 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"No bookings yet"}),s.jsx("p",{className:"text-sm",children:"Bookings will appear here when created"})]}):s.jsx("div",{className:"space-y-3",children:L.map(W=>{var ie;const X=new Date(W.scheduled_at)<new Date,de=W.status==="cancelled",ue=W.status==="completed";return s.jsx("div",{className:`p-4 rounded-lg border ${de?"border-red-200 bg-red-50 dark:bg-red-900/10":ue?"border-green-200 bg-green-50 dark:bg-green-900/10":X?"border-muted bg-muted/50":"border-primary/30 bg-primary/5"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-semibold",children:W.patient_name||"Patient"}),s.jsx(Ne,{variant:de?"destructive":ue||W.status==="confirmed"?"default":"secondary",children:W.status})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[ta(W.scheduled_at,"EEEE, MMMM d, yyyy 'at' HH:mm")," (SAST)"]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Service: ",s.jsx("span",{className:"text-foreground",children:W.service_type})]}),W.clinician_name&&s.jsxs("span",{className:"text-muted-foreground",children:["Clinician: ",s.jsx("span",{className:"text-foreground",children:W.clinician_name})]}),s.jsxs("span",{className:"text-muted-foreground",children:["Type: ",s.jsx("span",{className:"text-foreground capitalize",children:(ie=W.billing_type)==null?void 0:ie.replace("_"," ")})]})]})]}),!de&&!ue&&!X&&s.jsxs(Z,{variant:"destructive",size:"sm",onClick:()=>He(W),children:[s.jsx(Hi,{className:"w-4 h-4 mr-1"}),"Cancel"]})]})},W.id)})})})]}),s.jsx(ni,{open:D&&!!be,onOpenChange:W=>{W||(G(!1),ke(null))},children:s.jsxs(Aa,{className:"max-w-md",children:[s.jsxs(Ta,{children:[s.jsxs(Ma,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(Wn,{className:"w-5 h-5"}),"Cancel Booking"]}),s.jsx(su,{children:"Are you sure you want to cancel this booking? A cancellation message will be sent in the patient's chat."})]}),be&&s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"p-4 bg-muted rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Patient"}),s.jsx("span",{className:"font-medium",children:be.patient_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Scheduled"}),s.jsx("span",{className:"font-medium",children:ta(be.scheduled_at,"MMM d, yyyy 'at' HH:mm")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Service"}),s.jsx("span",{className:"font-medium",children:be.service_type})]})]})}),s.jsxs(Ud,{children:[s.jsx(Z,{variant:"outline",onClick:()=>{G(!1),ke(null)},children:"Keep Booking"}),s.jsx(Z,{variant:"destructive",onClick:Be,disabled:q,children:q?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Cancelling..."]}):"Yes, Cancel Booking"})]})]})})]})})]})},q5e=()=>s.jsx(r8,{children:s.jsx(H5e,{})});function k4(e,t){if(e==null)return{};var r,n,a=function(o,l){if(o==null)return{};var c={};for(var u in o)if({}.hasOwnProperty.call(o,u)){if(l.indexOf(u)!==-1)continue;c[u]=o[u]}return c}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e){return gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gt(e)}function W7(e){var t=function(r,n){if(gt(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var i=a.call(r,n);if(gt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(e,"string");return gt(t)=="symbol"?t:t+""}function C4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W7(n.key),n)}}function Ua(e,t,r){return t&&C4(e.prototype,t),r&&C4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e_(e,t){if(t&&(gt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Qi(e){return Qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qi(e)}function lg(e,t){return lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lg(e,t)}function t_(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lg(e,t)}function us(e,t,r){return(t=W7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E4(e,t,r,n,a,i,o){try{var l=e[i](o),c=l.value}catch(u){return void r(u)}l.done?t(c):Promise.resolve(c).then(n,a)}function Ye(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var i=e.apply(t,r);function o(c){E4(i,n,a,o,l,"next",c)}function l(c){E4(i,n,a,o,l,"throw",c)}o(void 0)})}}function P4(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function En(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var a=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a!=null){var i,o,l,c,u=[],d=!0,f=!1;try{if(l=(a=a.call(r)).next,n===0){if(Object(a)!==a)return;d=!1}else for(;!(d=(i=l.call(a)).done)&&(u.push(i.value),u.length!==n);d=!0);}catch(h){f=!0,o=h}finally{try{if(!d&&a.return!=null&&(c=a.return(),Object(c)!==c))return}finally{if(f)throw o}}return u}}(e,t)||function(r,n){if(r){if(typeof r=="string")return P4(r,n);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?P4(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function G5e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O4,Gv={exports:{}},Wk=function(){if(O4)return Gv.exports;O4=1;var e,t=typeof Reflect=="object"?Reflect:null,r=t&&typeof t.apply=="function"?t.apply:function(p,v,b){return Function.prototype.apply.call(p,v,b)};e=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var n=Number.isNaN||function(p){return p!=p};function a(){a.init.call(this)}Gv.exports=a,Gv.exports.once=function(p,v){return new Promise(function(b,x){function w(S){p.removeListener(v,_),x(S)}function _(){typeof p.removeListener=="function"&&p.removeListener("error",w),b([].slice.call(arguments))}g(p,v,_,{once:!0}),v!=="error"&&function(S,N,k){typeof S.on=="function"&&g(S,"error",N,k)}(p,w,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var i=10;function o(p){if(typeof p!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof p)}function l(p){return p._maxListeners===void 0?a.defaultMaxListeners:p._maxListeners}function c(p,v,b,x){var w,_,S,N;if(o(b),(_=p._events)===void 0?(_=p._events=Object.create(null),p._eventsCount=0):(_.newListener!==void 0&&(p.emit("newListener",v,b.listener?b.listener:b),_=p._events),S=_[v]),S===void 0)S=_[v]=b,++p._eventsCount;else if(typeof S=="function"?S=_[v]=x?[b,S]:[S,b]:x?S.unshift(b):S.push(b),(w=l(p))>0&&S.length>w&&!S.warned){S.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+S.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");k.name="MaxListenersExceededWarning",k.emitter=p,k.type=v,k.count=S.length,N=k,console&&console.warn&&console.warn(N)}return p}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(p,v,b){var x={fired:!1,wrapFn:void 0,target:p,type:v,listener:b},w=u.bind(x);return w.listener=b,x.wrapFn=w,w}function f(p,v,b){var x=p._events;if(x===void 0)return[];var w=x[v];return w===void 0?[]:typeof w=="function"?b?[w.listener||w]:[w]:b?function(_){for(var S=new Array(_.length),N=0;N<S.length;++N)S[N]=_[N].listener||_[N];return S}(w):m(w,w.length)}function h(p){var v=this._events;if(v!==void 0){var b=v[p];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function m(p,v){for(var b=new Array(v),x=0;x<v;++x)b[x]=p[x];return b}function g(p,v,b,x){if(typeof p.on=="function")x.once?p.once(v,b):p.on(v,b);else{if(typeof p.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof p);p.addEventListener(v,function w(_){x.once&&p.removeEventListener(v,w),b(_)})}}return Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(p){if(typeof p!="number"||p<0||n(p))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+p+".");i=p}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||n(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(p){for(var v=[],b=1;b<arguments.length;b++)v.push(arguments[b]);var x=p==="error",w=this._events;if(w!==void 0)x=x&&w.error===void 0;else if(!x)return!1;if(x){var _;if(v.length>0&&(_=v[0]),_ instanceof Error)throw _;var S=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw S.context=_,S}var N=w[p];if(N===void 0)return!1;if(typeof N=="function")r(N,this,v);else{var k=N.length,P=m(N,k);for(b=0;b<k;++b)r(P[b],this,v)}return!0},a.prototype.addListener=function(p,v){return c(this,p,v,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(p,v){return c(this,p,v,!0)},a.prototype.once=function(p,v){return o(v),this.on(p,d(this,p,v)),this},a.prototype.prependOnceListener=function(p,v){return o(v),this.prependListener(p,d(this,p,v)),this},a.prototype.removeListener=function(p,v){var b,x,w,_,S;if(o(v),(x=this._events)===void 0)return this;if((b=x[p])===void 0)return this;if(b===v||b.listener===v)--this._eventsCount==0?this._events=Object.create(null):(delete x[p],x.removeListener&&this.emit("removeListener",p,b.listener||v));else if(typeof b!="function"){for(w=-1,_=b.length-1;_>=0;_--)if(b[_]===v||b[_].listener===v){S=b[_].listener,w=_;break}if(w<0)return this;w===0?b.shift():function(N,k){for(;k+1<N.length;k++)N[k]=N[k+1];N.pop()}(b,w),b.length===1&&(x[p]=b[0]),x.removeListener!==void 0&&this.emit("removeListener",p,S||v)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(p){var v,b,x;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[p]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[p]),this;if(arguments.length===0){var w,_=Object.keys(b);for(x=0;x<_.length;++x)(w=_[x])!=="removeListener"&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(v=b[p])=="function")this.removeListener(p,v);else if(v!==void 0)for(x=v.length-1;x>=0;x--)this.removeListener(p,v[x]);return this},a.prototype.listeners=function(p){return f(this,p,!0)},a.prototype.rawListeners=function(p){return f(this,p,!1)},a.listenerCount=function(p,v){return typeof p.listenerCount=="function"?p.listenerCount(v):h.call(p,v)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]},Gv.exports}(),Kv=G5e(Wk),A4=Object.prototype.hasOwnProperty;function T4(e,t,r){for(r of e.keys())if(In(r,t))return r}function In(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&In(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if((a=n)&&typeof a=="object"&&!(a=T4(t,a))||!t.has(a))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if((a=n[0])&&typeof a=="object"&&!(a=T4(t,a))||!In(n[1],t.get(a)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){for(r in n=0,e)if(A4.call(e,r)&&++n&&!A4.call(t,r)||!(r in t)||!In(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!=e&&t!=t}const K5e={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},H7={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},br={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},An={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Vo={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class oe{static getFirstMatch(t,r){const n=r.match(t);return n&&n.length>0&&n[1]||""}static getSecondMatch(t,r){const n=r.match(t);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(t,r,n){if(t.test(r))return n}static getWindowsVersionName(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(t){const r=t.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5))return r[0]===1&&r[1]<6?"Cupcake":r[0]===1&&r[1]>=6?"Donut":r[0]===2&&r[1]<2?"Eclair":r[0]===2&&r[1]===2?"Froyo":r[0]===2&&r[1]>2?"Gingerbread":r[0]===3?"Honeycomb":r[0]===4&&r[1]<1?"Ice Cream Sandwich":r[0]===4&&r[1]<4?"Jelly Bean":r[0]===4&&r[1]>=4?"KitKat":r[0]===5?"Lollipop":r[0]===6?"Marshmallow":r[0]===7?"Nougat":r[0]===8?"Oreo":r[0]===9?"Pie":void 0}static getVersionPrecision(t){return t.split(".").length}static compareVersions(t,r,n=!1){const a=oe.getVersionPrecision(t),i=oe.getVersionPrecision(r);let o=Math.max(a,i),l=0;const c=oe.map([t,r],u=>{const d=o-oe.getVersionPrecision(u),f=u+new Array(d+1).join(".0");return oe.map(f.split("."),h=>new Array(20-h.length).join("0")+h).reverse()});for(n&&(l=o-Math.min(a,i)),o-=1;o>=l;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===l)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(t,r){const n=[];let a;if(Array.prototype.map)return Array.prototype.map.call(t,r);for(a=0;a<t.length;a+=1)n.push(r(t[a]));return n}static find(t,r){let n,a;if(Array.prototype.find)return Array.prototype.find.call(t,r);for(n=0,a=t.length;n<a;n+=1){const i=t[n];if(r(i,n))return i}}static assign(t,...r){const n=t;let a,i;if(Object.assign)return Object.assign(t,...r);for(a=0,i=r.length;a<i;a+=1){const o=r[a];typeof o=="object"&&o!==null&&Object.keys(o).forEach(l=>{n[l]=o[l]})}return t}static getBrowserAlias(t){return K5e[t]}static getBrowserTypeByAlias(t){return H7[t]||""}}const It=/version\/(\d+(\.?_?\d+)+)/i,Y5e=[{test:[/googlebot/i],describe(e){const t={name:"Googlebot"},r=oe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/opera/i],describe(e){const t={name:"Opera"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe(e){const t={name:"Opera"},r=oe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe(e){const t={name:"Samsung Internet for Android"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe(e){const t={name:"NAVER Whale Browser"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe(e){const t={name:"MZ Browser"},r=oe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/focus/i],describe(e){const t={name:"Focus"},r=oe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/swing/i],describe(e){const t={name:"Swing"},r=oe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/coast/i],describe(e){const t={name:"Opera Coast"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e){const t={name:"Opera Touch"},r=oe.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe(e){const t={name:"Yandex Browser"},r=oe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe(e){const t={name:"UC Browser"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe(e){const t={name:"Maxthon"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe(e){const t={name:"Epiphany"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe(e){const t={name:"Puffin"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe(e){const t={name:"Sleipnir"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe(e){const t={name:"K-Meleon"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe(e){const t={name:"WeChat"},r=oe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe(e){const t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=oe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe(e){const t={name:"Internet Explorer"},r=oe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe(e){const t={name:"Microsoft Edge"},r=oe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe(e){const t={name:"Microsoft Edge"},r=oe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe(e){const t={name:"Vivaldi"},r=oe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe(e){const t={name:"SeaMonkey"},r=oe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe(e){const t={name:"Sailfish"},r=oe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe(e){const t={name:"Amazon Silk"},r=oe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe(e){const t={name:"PhantomJS"},r=oe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe(e){const t={name:"SlimerJS"},r=oe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t={name:"BlackBerry"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe(e){const t={name:"WebOS Browser"},r=oe.getFirstMatch(It,e)||oe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe(e){const t={name:"Bada"},r=oe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe(e){const t={name:"Tizen"},r=oe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe(e){const t={name:"QupZilla"},r=oe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe(e){const t={name:"Firefox"},r=oe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe(e){const t={name:"Electron"},r=oe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe(e){const t={name:"Miui"},r=oe.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe(e){const t={name:"Chromium"},r=oe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe(e){const t={name:"Chrome"},r=oe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe(e){const t={name:"Google Search"},r=oe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t={name:"Android Browser"},r=oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe(e){const t={name:"PlayStation 4"},r=oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe(e){const t={name:"Safari"},r=oe.getFirstMatch(It,e);return r&&(t.version=r),t}},{test:[/.*/i],describe(e){const t=e.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:oe.getFirstMatch(t,e),version:oe.getSecondMatch(t,e)}}}];var J5e=[{test:[/Roku\/DVP/],describe(e){const t=oe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:An.Roku,version:t}}},{test:[/windows phone/i],describe(e){const t=oe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:An.WindowsPhone,version:t}}},{test:[/windows /i],describe(e){const t=oe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=oe.getWindowsVersionName(t);return{name:An.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e){const t={name:An.iOS},r=oe.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe(e){const t=oe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=oe.getMacOSVersionName(t),n={name:An.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(e){const t=oe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:An.iOS,version:t}}},{test(e){const t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe(e){const t=oe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=oe.getAndroidVersionName(t),n={name:An.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(e){const t=oe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:An.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e){const t=oe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||oe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||oe.getFirstMatch(/\bbb(\d+)/i,e);return{name:An.BlackBerry,version:t}}},{test:[/bada/i],describe(e){const t=oe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:An.Bada,version:t}}},{test:[/tizen/i],describe(e){const t=oe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:An.Tizen,version:t}}},{test:[/linux/i],describe:()=>({name:An.Linux})},{test:[/CrOS/],describe:()=>({name:An.ChromeOS})},{test:[/PlayStation 4/],describe(e){const t=oe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:An.PlayStation4,version:t}}}],X5e=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(e){const t=oe.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:br.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:br.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:()=>({type:br.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:br.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:br.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:br.tablet})},{test(e){const t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe(e){const t=oe.getFirstMatch(/(ipod|iphone)/i,e);return{type:br.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:br.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName(!0)==="blackberry",describe:()=>({type:br.mobile,vendor:"BlackBerry"})},{test:e=>e.getBrowserName(!0)==="bada",describe:()=>({type:br.mobile})},{test:e=>e.getBrowserName()==="windows phone",describe:()=>({type:br.mobile,vendor:"Microsoft"})},{test(e){const t=Number(String(e.getOSVersion()).split(".")[0]);return e.getOSName(!0)==="android"&&t>=3},describe:()=>({type:br.tablet})},{test:e=>e.getOSName(!0)==="android",describe:()=>({type:br.mobile})},{test:e=>e.getOSName(!0)==="macos",describe:()=>({type:br.desktop,vendor:"Apple"})},{test:e=>e.getOSName(!0)==="windows",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="linux",describe:()=>({type:br.desktop})},{test:e=>e.getOSName(!0)==="playstation 4",describe:()=>({type:br.tv})},{test:e=>e.getOSName(!0)==="roku",describe:()=>({type:br.tv})}],Q5e=[{test:e=>e.getBrowserName(!0)==="microsoft edge",describe(e){if(/\sedg\//i.test(e))return{name:Vo.Blink};const t=oe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:Vo.EdgeHTML,version:t}}},{test:[/trident/i],describe(e){const t={name:Vo.Trident},r=oe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:e=>e.test(/presto/i),describe(e){const t={name:Vo.Presto},r=oe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test(e){const t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe(e){const t={name:Vo.Gecko},r=oe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Vo.Blink})},{test:[/(apple)?webkit/i],describe(e){const t={name:Vo.WebKit},r=oe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];class M4{constructor(t,r=!1){if(t==null||t==="")throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(t){return t.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const t=oe.find(Y5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const t=oe.find(J5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}getOSName(t){const{name:r}=this.getOS();return t?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(t=!1){const{type:r}=this.getPlatform();return t?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const t=oe.find(X5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const t=oe.find(Q5e,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return oe.assign({},this.parsedResult)}satisfies(t){const r={};let n=0;const a={};let i=0;if(Object.keys(t).forEach(o=>{const l=t[o];typeof l=="string"?(a[o]=l,i+=1):typeof l=="object"&&(r[o]=l,n+=1)}),n>0){const o=Object.keys(r),l=oe.find(o,u=>this.isOS(u));if(l){const u=this.satisfies(r[l]);if(u!==void 0)return u}const c=oe.find(o,u=>this.isPlatform(u));if(c){const u=this.satisfies(r[c]);if(u!==void 0)return u}}if(i>0){const o=Object.keys(a),l=oe.find(o,c=>this.isBrowser(c,!0));if(l!==void 0)return this.compareVersion(a[l])}}isBrowser(t,r=!1){const n=this.getBrowserName().toLowerCase();let a=t.toLowerCase();const i=oe.getBrowserTypeByAlias(a);return r&&i&&(a=i.toLowerCase()),a===n}compareVersion(t){let r=[0],n=t,a=!1;const i=this.getBrowserVersion();if(typeof i=="string")return t[0]===">"||t[0]==="<"?(n=t.substr(1),t[1]==="="?(a=!0,n=t.substr(2)):r=[],t[0]===">"?r.push(1):r.push(-1)):t[0]==="="?n=t.substr(1):t[0]==="~"&&(a=!0,n=t.substr(1)),r.indexOf(oe.compareVersions(i,n,a))>-1}isOS(t){return this.getOSName(!0)===String(t).toLowerCase()}isPlatform(t){return this.getPlatformType(!0)===String(t).toLowerCase()}isEngine(t){return this.getEngineName(!0)===String(t).toLowerCase()}is(t,r=!1){return this.isBrowser(t,r)||this.isOS(t)||this.isPlatform(t)}some(t=[]){return t.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Z5e{static getParser(t,r=!1){if(typeof t!="string")throw new Error("UserAgent should be a string");return new M4(t,r)}static parse(t){return new M4(t).getResult()}static get BROWSER_MAP(){return H7}static get ENGINE_MAP(){return Vo}static get OS_MAP(){return An}static get PLATFORMS_MAP(){return br}}function r_(){return Date.now()+Math.random().toString()}function im(){throw new Error("Method must be implemented in subclass")}function q7(e,t){return t!=null&&t.proxyUrl?t.proxyUrl+(t.proxyUrl.slice(-1)==="/"?"":"/")+e.substring(8):e}function qb(e){return e!=null&&e.callObjectBundleUrlOverride?e.callObjectBundleUrlOverride:q7("https://c.daily.co/call-machine/versioned/".concat("0.85.0","/static/call-machine-object-bundle.js"),e)}function Gb(e){try{new URL(e)}catch{return!1}return!0}const Ut=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,qc="8.55.0",jt=globalThis;function Kb(e,t,r){const n=jt,a=n.__SENTRY__=n.__SENTRY__||{},i=a[qc]=a[qc]||{};return i[e]||(i[e]=t())}const $u=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Hk=["debug","info","warn","error","log","assert","trace"],Yb={};function Hg(e){if(!("console"in jt))return e();const t=jt.console,r={},n=Object.keys(Yb);n.forEach(a=>{const i=Yb[a];r[a]=t[a],t[a]=i});try{return e()}finally{n.forEach(a=>{t[a]=r[a]})}}const rt=Kb("logger",function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return $u?Hk.forEach(r=>{t[r]=(...n)=>{e&&Hg(()=>{jt.console[r](`Sentry Logger [${r}]:`,...n)})}}):Hk.forEach(r=>{t[r]=()=>{}}),t}),Tc="?",$4=/\(error: (.*)\)/,I4=/captureMessage|captureException/;function Yv(e){return e[e.length-1]||{}}const R4="<anonymous>";function Tl(e){try{return e&&typeof e=="function"&&e.name||R4}catch{return R4}}function D4(e){const t=e.exception;if(t){const r=[];try{return t.values.forEach(n=>{n.stacktrace.frames&&r.push(...n.stacktrace.frames)}),r}catch{return}}}const Ry={},L4={};function Gc(e,t){Ry[e]=Ry[e]||[],Ry[e].push(t)}function Kc(e,t){if(!L4[e]){L4[e]=!0;try{t()}catch(r){$u&&rt.error(`Error while instrumenting ${e}`,r)}}}function zi(e,t){const r=e&&Ry[e];if(r)for(const n of r)try{n(t)}catch(a){$u&&rt.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Tl(n)}
Error:`,a)}}let n1=null;function eBe(){n1=jt.onerror,jt.onerror=function(e,t,r,n,a){return zi("error",{column:n,error:a,line:r,msg:e,url:t}),!!n1&&n1.apply(this,arguments)},jt.onerror.__SENTRY_INSTRUMENTED__=!0}let a1=null;function tBe(){a1=jt.onunhandledrejection,jt.onunhandledrejection=function(e){return zi("unhandledrejection",e),!a1||a1.apply(this,arguments)},jt.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function n_(){return ZO(jt),jt}function ZO(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||qc,t[qc]=t[qc]||{}}const G7=Object.prototype.toString;function eA(e){switch(G7.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return gu(e,Error)}}function Ph(e,t){return G7.call(e)===`[object ${t}]`}function K7(e){return Ph(e,"ErrorEvent")}function F4(e){return Ph(e,"DOMError")}function to(e){return Ph(e,"String")}function tA(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function qk(e){return e===null||tA(e)||typeof e!="object"&&typeof e!="function"}function Jf(e){return Ph(e,"Object")}function a_(e){return typeof Event<"u"&&gu(e,Event)}function i_(e){return!!(e&&e.then&&typeof e.then=="function")}function gu(e,t){try{return e instanceof t}catch{return!1}}function Y7(e){return!(typeof e!="object"||e===null||!e.__isVue&&!e._isVue)}const rA=jt;function J7(e,t={}){if(!e)return"<unknown>";try{let r=e;const n=5,a=[];let i=0,o=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||80;for(;r&&i++<n&&(u=rBe(r,d),!(u==="html"||i>1&&o+a.length*c+u.length>=f));)a.push(u),o+=u.length,r=r.parentNode;return a.reverse().join(l)}catch{return"<unknown>"}}function rBe(e,t){const r=e,n=[];if(!r||!r.tagName)return"";if(rA.HTMLElement&&r instanceof HTMLElement&&r.dataset){if(r.dataset.sentryComponent)return r.dataset.sentryComponent;if(r.dataset.sentryElement)return r.dataset.sentryElement}n.push(r.tagName.toLowerCase());const a=t&&t.length?t.filter(o=>r.getAttribute(o)).map(o=>[o,r.getAttribute(o)]):null;if(a&&a.length)a.forEach(o=>{n.push(`[${o[0]}="${o[1]}"]`)});else{r.id&&n.push(`#${r.id}`);const o=r.className;if(o&&to(o)){const l=o.split(/\s+/);for(const c of l)n.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const l=r.getAttribute(o);l&&n.push(`[${o}="${l}"]`)}return n.join("")}function qd(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function B4(e,t){if(!Array.isArray(e))return"";const r=[];for(let n=0;n<e.length;n++){const a=e[n];try{Y7(a)?r.push("[VueViewModel]"):r.push(String(a))}catch{r.push("[value cannot be serialized]")}}return r.join(t)}function nBe(e,t,r=!1){return!!to(e)&&(Ph(t,"RegExp")?t.test(e):!!to(t)&&(r?e===t:e.includes(t)))}function Jv(e,t=[],r=!1){return t.some(n=>nBe(e,n,r))}function Ea(e,t,r){if(!(t in e))return;const n=e[t],a=r(n);typeof a=="function"&&X7(a,n);try{e[t]=a}catch{$u&&rt.log(`Failed to replace method "${t}" in object`,e)}}function vu(e,t,r){try{Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}catch{$u&&rt.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function X7(e,t){try{const r=t.prototype||{};e.prototype=t.prototype=r,vu(e,"__sentry_original__",t)}catch{}}function nA(e){return e.__sentry_original__}function Q7(e){if(eA(e))return{message:e.message,name:e.name,stack:e.stack,...z4(e)};if(a_(e)){const t={type:e.type,target:U4(e.target),currentTarget:U4(e.currentTarget),...z4(e)};return typeof CustomEvent<"u"&&gu(e,CustomEvent)&&(t.detail=e.detail),t}return e}function U4(e){try{return t=e,typeof Element<"u"&&gu(t,Element)?J7(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}var t}function z4(e){if(typeof e=="object"&&e!==null){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function ei(e){return Gk(e,new Map)}function Gk(e,t){if(function(r){if(!Jf(r))return!1;try{const n=Object.getPrototypeOf(r).constructor.name;return!n||n==="Object"}catch{return!0}}(e)){const r=t.get(e);if(r!==void 0)return r;const n={};t.set(e,n);for(const a of Object.getOwnPropertyNames(e))e[a]!==void 0&&(n[a]=Gk(e[a],t));return n}if(Array.isArray(e)){const r=t.get(e);if(r!==void 0)return r;const n=[];return t.set(e,n),e.forEach(a=>{n.push(Gk(a,t))}),n}return e}function qg(){return Date.now()/1e3}const oo=function(){const{performance:e}=jt;if(!e||!e.now)return qg;const t=Date.now()-e.now(),r=e.timeOrigin==null?t:e.timeOrigin;return()=>(r+e.now())/1e3}();function ii(){const e=jt,t=e.crypto||e.msCrypto;let r=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(r=()=>{const n=new Uint8Array(1);return t.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(15&r())>>n/4).toString(16))}function Z7(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Yo(e){const{message:t,event_id:r}=e;if(t)return t;const n=Z7(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function Kk(e,t,r){const n=e.exception=e.exception||{},a=n.values=n.values||[],i=a[0]=a[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Xf(e,t){const r=Z7(e);if(!r)return;const n=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const a={...n&&n.data,...t.data};r.mechanism.data=a}}function V4(e){if(function(t){try{return t.__sentry_captured__}catch{}}(e))return!0;try{vu(e,"__sentry_captured__",!0)}catch{}return!1}var Hs;function yu(e){return new Ja(t=>{t(e)})}function Jb(e){return new Ja((t,r)=>{r(e)})}(()=>{const{performance:e}=jt;!e||!e.now||(e.now(),e.timing&&e.timing.navigationStart)})(),function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(Hs||(Hs={}));class Ja{constructor(t){Ja.prototype.__init.call(this),Ja.prototype.__init2.call(this),Ja.prototype.__init3.call(this),Ja.prototype.__init4.call(this),this._state=Hs.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(r){this._reject(r)}}then(t,r){return new Ja((n,a)=>{this._handlers.push([!1,i=>{if(t)try{n(t(i))}catch(o){a(o)}else n(i)},i=>{if(r)try{n(r(i))}catch(o){a(o)}else a(i)}]),this._executeHandlers()})}catch(t){return this.then(r=>r,t)}finally(t){return new Ja((r,n)=>{let a,i;return this.then(o=>{i=!1,a=o,t&&t()},o=>{i=!0,a=o,t&&t()}).then(()=>{i?n(a):r(a)})})}__init(){this._resolve=t=>{this._setResult(Hs.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(Hs.REJECTED,t)}}__init3(){this._setResult=(t,r)=>{this._state===Hs.PENDING&&(i_(r)?r.then(this._resolve,this._reject):(this._state=t,this._value=r,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Hs.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(r=>{r[0]||(this._state===Hs.RESOLVED&&r[1](this._value),this._state===Hs.REJECTED&&r[2](this._value),r[0]=!0)})}}}function aBe(e){const t=oo(),r={sid:ii(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(n){return ei({sid:`${n.sid}`,init:n.init,started:new Date(1e3*n.started).toISOString(),timestamp:new Date(1e3*n.timestamp).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,abnormal_mechanism:n.abnormal_mechanism,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}(r)};return e&&Qf(r,e),r}function Qf(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||oo(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ii()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const r=e.timestamp-e.started;e.duration=r>=0?r:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function W4(){return ii()}function Yk(){return ii().substring(16)}function s_(e,t,r=2){if(!t||typeof t!="object"||r<=0)return t;if(e&&t&&Object.keys(t).length===0)return e;const n={...e};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=s_(n[a],t[a],r-1));return n}const Jk="_sentrySpan";function H4(e,t){t?vu(e,Jk,t):delete e[Jk]}function q4(e){return e[Jk]}class aA{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:W4(),spanId:Yk()}}clone(){const t=new aA;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,H4(t,q4(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Qf(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,r){return this._tags={...this._tags,[t]:r},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,r){return this._extra={...this._extra,[t]:r},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,r){return r===null?delete this._contexts[t]:this._contexts[t]=r,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const r=typeof t=="function"?t(this):t,[n,a]=r instanceof Ml?[r.getScopeData(),r.getRequestSession()]:Jf(r)?[t,t.requestSession]:[],{tags:i,extra:o,user:l,contexts:c,level:u,fingerprint:d=[],propagationContext:f}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},l&&Object.keys(l).length&&(this._user=l),u&&(this._level=u),d.length&&(this._fingerprint=d),f&&(this._propagationContext=f),a&&(this._requestSession=a),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,H4(this,void 0),this._attachments=[],this.setPropagationContext({traceId:W4()}),this._notifyScopeListeners(),this}addBreadcrumb(t,r){const n=typeof r=="number"?r:100;if(n<=0)return this;const a={timestamp:qg(),...t};return this._breadcrumbs.push(a),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:q4(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=s_(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:Yk(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,r){const n=r&&r.event_id?r.event_id:ii();if(!this._client)return rt.warn("No client configured on scope - will not capture exception!"),n;const a=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:a,...r,event_id:n},this),n}captureMessage(t,r,n){const a=n&&n.event_id?n.event_id:ii();if(!this._client)return rt.warn("No client configured on scope - will not capture message!"),a;const i=new Error(t);return this._client.captureMessage(t,r,{originalException:t,syntheticException:i,...n,event_id:a},this),a}captureEvent(t,r){const n=r&&r.event_id?r.event_id:ii();return this._client?(this._client.captureEvent(t,{...r,event_id:n},this),n):(rt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}const Ml=aA;class iBe{constructor(t,r){let n,a;n=t||new Ml,a=r||new Ml,this._stack=[{scope:n}],this._isolationScope=a}withScope(t){const r=this._pushScope();let n;try{n=t(r)}catch(a){throw this._popScope(),a}return i_(n)?n.then(a=>(this._popScope(),a),a=>{throw this._popScope(),a}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Zf(){const e=ZO(n_());return e.stack=e.stack||new iBe(Kb("defaultCurrentScope",()=>new Ml),Kb("defaultIsolationScope",()=>new Ml))}function sBe(e){return Zf().withScope(e)}function oBe(e,t){const r=Zf();return r.withScope(()=>(r.getStackTop().scope=e,t(e)))}function G4(e){return Zf().withScope(()=>e(Zf().getIsolationScope()))}function iA(e){const t=ZO(e);return t.acs?t.acs:{withIsolationScope:G4,withScope:sBe,withSetScope:oBe,withSetIsolationScope:(r,n)=>G4(n),getCurrentScope:()=>Zf().getScope(),getIsolationScope:()=>Zf().getIsolationScope()}}function Iu(){return iA(n_()).getCurrentScope()}function Gg(){return iA(n_()).getIsolationScope()}function Nn(){return Iu().getClient()}function lBe(e){const t=e.getPropagationContext(),{traceId:r,spanId:n,parentSpanId:a}=t;return ei({trace_id:r,span_id:n,parent_span_id:a})}function cBe(e){const t=e._sentryMetrics;if(!t)return;const r={};for(const[,[n,a]]of t)(r[n]||(r[n]=[])).push(ei(a));return r}const uBe=/^sentry-/;function dBe(e){const t=function(n){if(!(!n||!to(n)&&!Array.isArray(n)))return Array.isArray(n)?n.reduce((a,i)=>{const o=K4(i);return Object.entries(o).forEach(([l,c])=>{a[l]=c}),a},{}):K4(n)}(e);if(!t)return;const r=Object.entries(t).reduce((n,[a,i])=>(a.match(uBe)&&(n[a.slice(7)]=i),n),{});return Object.keys(r).length>0?r:void 0}function K4(e){return e.split(",").map(t=>t.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((t,[r,n])=>(r&&n&&(t[r]=n),t),{})}let Y4=!1;function fBe(e){const{spanId:t,traceId:r,isRemote:n}=e.spanContext();return ei({parent_span_id:n?t:sA(e).parent_span_id,span_id:n?Yk():t,trace_id:r})}function J4(e){return typeof e=="number"?X4(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?X4(e.getTime()):oo()}function X4(e){return e>9999999999?e/1e3:e}function sA(e){if(function(t){return typeof t.getSpanJSON=="function"}(e))return e.getSpanJSON();try{const{spanId:t,traceId:r}=e.spanContext();if(function(n){const a=n;return!!(a.attributes&&a.startTime&&a.name&&a.endTime&&a.status)}(e)){const{attributes:n,startTime:a,name:i,endTime:o,parentSpanId:l,status:c}=e;return ei({span_id:t,trace_id:r,data:n,description:i,parent_span_id:l,start_timestamp:J4(a),timestamp:J4(o)||void 0,status:hBe(c),op:n["sentry.op"],origin:n["sentry.origin"],_metrics_summary:cBe(e)})}return{span_id:t,trace_id:r}}catch{return{}}}function hBe(e){if(e&&e.code!==0)return e.code===1?"ok":e.message||"unknown_error"}function eG(e){return e._sentryRootSpan||e}function mBe(){Y4||(Hg(()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")}),Y4=!0)}const oA="production";function tG(e,t){const r=t.getOptions(),{publicKey:n}=t.getDsn()||{},a=ei({environment:r.environment||oA,release:r.release,public_key:n,trace_id:e});return t.emit("createDsc",a),a}function pBe(e){const t=Nn();if(!t)return{};const r=eG(e),n=r._frozenDsc;if(n)return n;const a=r.spanContext().traceState,i=a&&a.get("sentry.dsc"),o=i&&dBe(i);if(o)return o;const l=tG(e.spanContext().traceId,t),c=sA(r),u=c.data||{},d=u["sentry.sample_rate"];d!=null&&(l.sample_rate=`${d}`);const f=u["sentry.source"],h=c.description;return f!=="url"&&h&&(l.transaction=h),function(m){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const g=Nn(),p=g&&g.getOptions();return!!p&&(p.enableTracing||"tracesSampleRate"in p||"tracesSampler"in p)}()&&(l.sampled=String(function(m){const{traceFlags:g}=m.spanContext();return g===1}(r))),t.emit("createDsc",l,r),l}const gBe=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Xb(e,t=!1){const{host:r,path:n,pass:a,port:i,projectId:o,protocol:l,publicKey:c}=e;return`${l}://${c}${t&&a?`:${a}`:""}@${r}${i?`:${i}`:""}/${n&&`${n}/`}${o}`}function Q4(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function vBe(e){const t=typeof e=="string"?function(r){const n=gBe.exec(r);if(!n)return void Hg(()=>{console.error(`Invalid Sentry Dsn: ${r}`)});const[a,i,o="",l="",c="",u=""]=n.slice(1);let d="",f=u;const h=f.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),f=h.pop()),f){const m=f.match(/^\d+/);m&&(f=m[0])}return Q4({host:l,pass:o,path:d,projectId:f,port:c,protocol:a,publicKey:i})}(e):Q4(e);if(t&&function(r){if(!$u)return!0;const{port:n,projectId:a,protocol:i}=r;return!(["protocol","publicKey","host","projectId"].find(o=>!r[o]&&(rt.error(`Invalid Sentry Dsn: ${o} missing`),!0))||(a.match(/^\d+$/)?function(o){return o==="http"||o==="https"}(i)?n&&isNaN(parseInt(n,10))&&(rt.error(`Invalid Sentry Dsn: Invalid port ${n}`),1):(rt.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),1):(rt.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}function qs(e,t=100,r=1/0){try{return Xk("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function rG(e,t=3,r=102400){const n=qs(e,t);return a=n,function(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(a))>r?rG(e,t-1,r):n;var a}function Xk(e,t,r=1/0,n=1/0,a=function(){const i=typeof WeakSet=="function",o=i?new WeakSet:[];return[function(l){if(i)return!!o.has(l)||(o.add(l),!1);for(let c=0;c<o.length;c++)if(o[c]===l)return!0;return o.push(l),!1},function(l){if(i)o.delete(l);else for(let c=0;c<o.length;c++)if(o[c]===l){o.splice(c,1);break}}]}()){const[i,o]=a;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const l=function(m,g){try{if(m==="domain"&&g&&typeof g=="object"&&g._events)return"[Domain]";if(m==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&g===global)return"[Global]";if(typeof window<"u"&&g===window)return"[Window]";if(typeof document<"u"&&g===document)return"[Document]";if(Y7(g))return"[VueViewModel]";if(Jf(p=g)&&"nativeEvent"in p&&"preventDefault"in p&&"stopPropagation"in p)return"[SyntheticEvent]";if(typeof g=="number"&&!Number.isFinite(g))return`[${g}]`;if(typeof g=="function")return`[Function: ${Tl(g)}]`;if(typeof g=="symbol")return`[${String(g)}]`;if(typeof g=="bigint")return`[BigInt: ${String(g)}]`;const v=function(b){const x=Object.getPrototypeOf(b);return x?x.constructor.name:"null prototype"}(g);return/^HTML(\w*)Element$/.test(v)?`[HTMLElement: ${v}]`:`[object ${v}]`}catch(v){return`**non-serializable** (${v})`}var p}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:r;if(c===0)return l.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{return Xk("",u.toJSON(),c-1,n,a)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=Q7(t);for(const m in h){if(!Object.prototype.hasOwnProperty.call(h,m))continue;if(f>=n){d[m]="[MaxProperties ~]";break}const g=h[m];d[m]=Xk(m,g,c-1,n,a),f++}return o(t),d}function cg(e,t=[]){return[e,t]}function yBe(e,t){const[r,n]=e;return[r,[...n,t]]}function Z4(e,t){const r=e[1];for(const n of r)if(t(n,n[0].type))return!0;return!1}function Qk(e){return jt.__SENTRY__&&jt.__SENTRY__.encodePolyfill?jt.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e)}function xBe(e){const[t,r]=e;let n=JSON.stringify(t);function a(i){typeof n=="string"?n=typeof i=="string"?n+i:[Qk(n),i]:n.push(typeof i=="string"?Qk(i):i)}for(const i of r){const[o,l]=i;if(a(`
${JSON.stringify(o)}
`),typeof l=="string"||l instanceof Uint8Array)a(l);else{let c;try{c=JSON.stringify(l)}catch{c=JSON.stringify(qs(l))}a(c)}}return typeof n=="string"?n:function(i){const o=i.reduce((u,d)=>u+d.length,0),l=new Uint8Array(o);let c=0;for(const u of i)l.set(u,c),c+=u.length;return l}(n)}function bBe(e){const t=typeof e.data=="string"?Qk(e.data):e.data;return[ei({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t]}const wBe={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function eL(e){return wBe[e]}function nG(e){if(!e||!e.sdk)return;const{name:t,version:r}=e.sdk;return{name:t,version:r}}function _Be(e,t,r,n){const a=nG(r),i=e.type&&e.type!=="replay_event"?e.type:"event";(function(l,c){c&&(l.sdk=l.sdk||{},l.sdk.name=l.sdk.name||c.name,l.sdk.version=l.sdk.version||c.version,l.sdk.integrations=[...l.sdk.integrations||[],...c.integrations||[]],l.sdk.packages=[...l.sdk.packages||[],...c.packages||[]])})(e,r&&r.sdk);const o=function(l,c,u,d){const f=l.sdkProcessingMetadata&&l.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:l.event_id,sent_at:new Date().toISOString(),...c&&{sdk:c},...!!u&&d&&{dsn:Xb(d)},...f&&{trace:ei({...f})}}}(e,a,n,t);return delete e.sdkProcessingMetadata,cg(o,[[{type:i},e]])}function Zk(e,t,r,n=0){return new Ja((a,i)=>{const o=e[n];if(t===null||typeof o!="function")a(t);else{const l=o({...t},r);Ut&&o.id&&l===null&&rt.log(`Event processor "${o.id}" dropped event`),i_(l)?l.then(c=>Zk(e,c,r,n+1).then(a)).then(null,i):Zk(e,l,r,n+1).then(a).then(null,i)}})}let Xv,tL,i1;function jBe(e,t){const{fingerprint:r,span:n,breadcrumbs:a,sdkProcessingMetadata:i}=t;(function(o,l){const{extra:c,tags:u,user:d,contexts:f,level:h,transactionName:m}=l,g=ei(c);g&&Object.keys(g).length&&(o.extra={...g,...o.extra});const p=ei(u);p&&Object.keys(p).length&&(o.tags={...p,...o.tags});const v=ei(d);v&&Object.keys(v).length&&(o.user={...v,...o.user});const b=ei(f);b&&Object.keys(b).length&&(o.contexts={...b,...o.contexts}),h&&(o.level=h),m&&o.type!=="transaction"&&(o.transaction=m)})(e,t),n&&function(o,l){o.contexts={trace:fBe(l),...o.contexts},o.sdkProcessingMetadata={dynamicSamplingContext:pBe(l),...o.sdkProcessingMetadata};const c=eG(l),u=sA(c).description;u&&!o.transaction&&o.type==="transaction"&&(o.transaction=u)}(e,n),function(o,l){o.fingerprint=o.fingerprint?Array.isArray(o.fingerprint)?o.fingerprint:[o.fingerprint]:[],l&&(o.fingerprint=o.fingerprint.concat(l)),o.fingerprint&&!o.fingerprint.length&&delete o.fingerprint}(e,r),function(o,l){const c=[...o.breadcrumbs||[],...l];o.breadcrumbs=c.length?c:void 0}(e,a),function(o,l){o.sdkProcessingMetadata={...o.sdkProcessingMetadata,...l}}(e,i)}function rL(e,t){const{extra:r,tags:n,user:a,contexts:i,level:o,sdkProcessingMetadata:l,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:f,propagationContext:h,transactionName:m,span:g}=t;Qv(e,"extra",r),Qv(e,"tags",n),Qv(e,"user",a),Qv(e,"contexts",i),e.sdkProcessingMetadata=s_(e.sdkProcessingMetadata,l,2),o&&(e.level=o),m&&(e.transactionName=m),g&&(e.span=g),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function Qv(e,t,r){e[t]=s_(e[t],r,1)}function SBe(e,t,r,n,a,i){const{normalizeDepth:o=3,normalizeMaxBreadth:l=1e3}=e,c={...t,event_id:t.event_id||r.event_id||ii(),timestamp:t.timestamp||qg()},u=r.integrations||e.integrations.map(g=>g.name);(function(g,p){const{environment:v,release:b,dist:x,maxValueLength:w=250}=p;g.environment=g.environment||v||oA,!g.release&&b&&(g.release=b),!g.dist&&x&&(g.dist=x),g.message&&(g.message=qd(g.message,w));const _=g.exception&&g.exception.values&&g.exception.values[0];_&&_.value&&(_.value=qd(_.value,w));const S=g.request;S&&S.url&&(S.url=qd(S.url,w))})(c,e),function(g,p){p.length>0&&(g.sdk=g.sdk||{},g.sdk.integrations=[...g.sdk.integrations||[],...p])}(c,u),a&&a.emit("applyFrameMetadata",t),t.type===void 0&&function(g,p){const v=function(b){const x=jt._sentryDebugIds;if(!x)return{};const w=Object.keys(x);return i1&&w.length===tL||(tL=w.length,i1=w.reduce((_,S)=>{Xv||(Xv={});const N=Xv[S];if(N)_[N[0]]=N[1];else{const k=b(S);for(let P=k.length-1;P>=0;P--){const A=k[P],T=A&&A.filename,I=x[S];if(T&&I){_[T]=I,Xv[S]=[T,I];break}}}return _},{})),i1}(p);try{g.exception.values.forEach(b=>{b.stacktrace.frames.forEach(x=>{v&&x.filename&&(x.debug_id=v[x.filename])})})}catch{}}(c,e.stackParser);const d=function(g,p){if(!p)return g;const v=g?g.clone():new Ml;return v.update(p),v}(n,r.captureContext);r.mechanism&&Xf(c,r.mechanism);const f=a?a.getEventProcessors():[],h=Kb("globalScope",()=>new Ml).getScopeData();i&&rL(h,i.getScopeData()),d&&rL(h,d.getScopeData());const m=[...r.attachments||[],...h.attachments];return m.length&&(r.attachments=m),jBe(c,h),Zk([...f,...h.eventProcessors],c,r).then(g=>(g&&function(p){const v={};try{p.exception.values.forEach(x=>{x.stacktrace.frames.forEach(w=>{w.debug_id&&(w.abs_path?v[w.abs_path]=w.debug_id:w.filename&&(v[w.filename]=w.debug_id),delete w.debug_id)})})}catch{}if(Object.keys(v).length===0)return;p.debug_meta=p.debug_meta||{},p.debug_meta.images=p.debug_meta.images||[];const b=p.debug_meta.images;Object.entries(v).forEach(([x,w])=>{b.push({type:"sourcemap",code_file:x,debug_id:w})})}(g),typeof o=="number"&&o>0?function(p,v,b){if(!p)return null;const x={...p,...p.breadcrumbs&&{breadcrumbs:p.breadcrumbs.map(w=>({...w,...w.data&&{data:qs(w.data,v,b)}}))},...p.user&&{user:qs(p.user,v,b)},...p.contexts&&{contexts:qs(p.contexts,v,b)},...p.extra&&{extra:qs(p.extra,v,b)}};return p.contexts&&p.contexts.trace&&x.contexts&&(x.contexts.trace=p.contexts.trace,p.contexts.trace.data&&(x.contexts.trace.data=qs(p.contexts.trace.data,v,b))),p.spans&&(x.spans=p.spans.map(w=>({...w,...w.data&&{data:qs(w.data,v,b)}}))),p.contexts&&p.contexts.flags&&x.contexts&&(x.contexts.flags=qs(p.contexts.flags,3,b)),x}(g,o,l):g))}function nL(e,t){return Iu().captureEvent(e,t)}function aL(e){const t=Nn(),r=Gg(),n=Iu(),{release:a,environment:i=oA}=t&&t.getOptions()||{},{userAgent:o}=jt.navigator||{},l=aBe({release:a,environment:i,user:n.getUser()||r.getUser(),...o&&{userAgent:o},...e}),c=r.getSession();return c&&c.status==="ok"&&Qf(c,{status:"exited"}),aG(),r.setSession(l),n.setSession(l),l}function aG(){const e=Gg(),t=Iu(),r=t.getSession()||e.getSession();r&&function(n,a){let i={};n.status==="ok"&&(i={status:"exited"}),Qf(n,i)}(r),iG(),e.setSession(),t.setSession()}function iG(){const e=Gg(),t=Iu(),r=Nn(),n=t.getSession()||e.getSession();n&&r&&r.captureSession(n)}function iL(e=!1){e?aG():iG()}function NBe(e,t,r){return t||`${function(n){return`${function(a){const i=a.protocol?`${a.protocol}:`:"",o=a.port?`:${a.port}`:"";return`${i}//${a.host}${o}${a.path?`/${a.path}`:""}/api/`}(n)}${n.projectId}/envelope/`}(e)}?${function(n,a){const i={sentry_version:"7"};return n.publicKey&&(i.sentry_key=n.publicKey),a&&(i.sentry_client=`${a.name}/${a.version}`),new URLSearchParams(i).toString()}(e,r)}`}const sL=[];function oL(e,t){for(const r of t)r&&r.afterAllSetup&&r.afterAllSetup(e)}function lL(e,t,r){if(r[t.name])Ut&&rt.log(`Integration skipped because it was already installed: ${t.name}`);else{if(r[t.name]=t,sL.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),sL.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",(a,i)=>n(a,i,e))}if(typeof t.processEvent=="function"){const n=t.processEvent.bind(t),a=Object.assign((i,o)=>n(i,o,e),{id:t.name});e.addEventProcessor(a)}Ut&&rt.log(`Integration installed: ${t.name}`)}}class ji extends Error{constructor(t,r="warn"){super(t),this.message=t,this.logLevel=r}}const cL="Not capturing exception because it's already been captured.";class kBe{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=vBe(t.dsn):Ut&&rt.warn("No DSN provided, client will not send events."),this._dsn){const n=NBe(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}const r=["enableTracing","tracesSampleRate","tracesSampler"].find(n=>n in t&&t[n]==null);r&&Hg(()=>{console.warn(`[Sentry] Deprecation warning: \`${r}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)})}captureException(t,r,n){const a=ii();if(V4(t))return Ut&&rt.log(cL),a;const i={event_id:a,...r};return this._process(this.eventFromException(t,i).then(o=>this._captureEvent(o,i,n))),i.event_id}captureMessage(t,r,n,a){const i={event_id:ii(),...n},o=tA(t)?t:String(t),l=qk(t)?this.eventFromMessage(o,r,i):this.eventFromException(t,i);return this._process(l.then(c=>this._captureEvent(c,i,a))),i.event_id}captureEvent(t,r,n){const a=ii();if(r&&r.originalException&&V4(r.originalException))return Ut&&rt.log(cL),a;const i={event_id:a,...r},o=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,i,o||n)),i.event_id}captureSession(t){typeof t.release!="string"?Ut&&rt.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Qf(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const r=this._transport;return r?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>r.flush(t).then(a=>n&&a))):yu(!0)}close(t){return this.flush(t).then(r=>(this.getOptions().enabled=!1,this.emit("close"),r))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const r=this._integrations[t.name];lL(this,t,this._integrations),r||oL(this,[t])}sendEvent(t,r={}){this.emit("beforeSendEvent",t,r);let n=_Be(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of r.attachments||[])n=yBe(n,bBe(i));const a=this.sendEnvelope(n);a&&a.then(i=>this.emit("afterSendEvent",t,i),null)}sendSession(t){const r=function(n,a,i,o){const l=nG(i);return cg({sent_at:new Date().toISOString(),...l&&{sdk:l},...!!o&&a&&{dsn:Xb(a)}},["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,r,n){if(this._options.sendClientReports){const a=typeof n=="number"?n:1,i=`${t}:${r}`;Ut&&rt.log(`Recording outcome: "${i}"${a>1?` (${a} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+a}}on(t,r){const n=this._hooks[t]=this._hooks[t]||[];return n.push(r),()=>{const a=n.indexOf(r);a>-1&&n.splice(a,1)}}emit(t,...r){const n=this._hooks[t];n&&n.forEach(a=>a(...r))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,r=>(Ut&&rt.error("Error while sending envelope:",r),r)):(Ut&&rt.error("Transport disabled"),yu({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(r,n){const a={};return n.forEach(i=>{i&&lL(r,i,a)}),a}(this,t),oL(this,t)}_updateSessionFromEvent(t,r){let n=r.level==="fatal",a=!1;const i=r.exception&&r.exception.values;if(i){a=!0;for(const l of i){const c=l.mechanism;if(c&&c.handled===!1){n=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&n)&&(Qf(t,{...n&&{status:"crashed"},errors:t.errors||Number(a||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Ja(r=>{let n=0;const a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=1,t&&n>=t&&(clearInterval(a),r(!1)))},1)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,r,n=Iu(),a=Gg()){const i=this.getOptions(),o=Object.keys(this._integrations);return!r.integrations&&o.length>0&&(r.integrations=o),this.emit("preprocessEvent",t,r),t.type||a.setLastEventId(t.event_id||r.event_id),SBe(i,t,r,n,this,a).then(l=>{if(l===null)return l;l.contexts={trace:lBe(n),...l.contexts};const c=function(u,d){const f=d.getPropagationContext();return f.dsc||tG(f.traceId,u)}(this,n);return l.sdkProcessingMetadata={dynamicSamplingContext:c,...l.sdkProcessingMetadata},l})}_captureEvent(t,r={},n){return this._processEvent(t,r,n).then(a=>a.event_id,a=>{Ut&&(a instanceof ji&&a.logLevel==="log"?rt.log(a.message):rt.warn(a))})}_processEvent(t,r,n){const a=this.getOptions(),{sampleRate:i}=a,o=dL(t),l=uL(t),c=t.type||"error",u=`before send for type \`${c}\``,d=i===void 0?void 0:function(m){if(typeof m=="boolean")return Number(m);const g=typeof m=="string"?parseFloat(m):m;if(!(typeof g!="number"||isNaN(g)||g<0||g>1))return g;Ut&&rt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(m)} of type ${JSON.stringify(typeof m)}.`)}(i);if(l&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error",t),Jb(new ji(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const f=c==="replay_event"?"replay":c,h=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,r,n,h).then(m=>{if(m===null)throw this.recordDroppedEvent("event_processor",f,t),new ji("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return m;const g=function(p,v,b,x){const{beforeSend:w,beforeSendTransaction:_,beforeSendSpan:S}=v;if(uL(b)&&w)return w(b,x);if(dL(b)){if(b.spans&&S){const N=[];for(const k of b.spans){const P=S(k);P?N.push(P):(mBe(),p.recordDroppedEvent("before_send","span"))}b.spans=N}if(_){if(b.spans){const N=b.spans.length;b.sdkProcessingMetadata={...b.sdkProcessingMetadata,spanCountBeforeProcessing:N}}return _(b,x)}}return b}(this,a,m,r);return function(p,v){const b=`${v} must return \`null\` or a valid event.`;if(i_(p))return p.then(x=>{if(!Jf(x)&&x!==null)throw new ji(b);return x},x=>{throw new ji(`${v} rejected with ${x}`)});if(!Jf(p)&&p!==null)throw new ji(b);return p}(g,u)}).then(m=>{if(m===null){if(this.recordDroppedEvent("before_send",f,t),o){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw new ji(`${u} returned \`null\`, will not send event.`,"log")}const g=n&&n.getSession();if(!o&&g&&this._updateSessionFromEvent(g,m),o){const v=(m.sdkProcessingMetadata&&m.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(m.spans?m.spans.length:0);v>0&&this.recordDroppedEvent("before_send","span",v)}const p=m.transaction_info;if(o&&p&&m.transaction!==t.transaction){const v="custom";m.transaction_info={...p,source:v}}return this.sendEvent(m,r),m}).then(null,m=>{throw m instanceof ji?m:(this.captureException(m,{data:{__sentry__:!0},originalException:m}),new ji(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${m}`))})}_process(t){this._numProcessing++,t.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([r,n])=>{const[a,i]=r.split(":");return{reason:a,category:i,quantity:n}})}_flushOutcomes(){Ut&&rt.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0)return void(Ut&&rt.log("No outcomes to send"));if(!this._dsn)return void(Ut&&rt.log("No dsn provided, will not send outcomes"));Ut&&rt.log("Sending outcomes:",t);const r=(n=t,cg((a=this._options.tunnel&&Xb(this._dsn))?{dsn:a}:{},[[{type:"client_report"},{timestamp:i||qg(),discarded_events:n}]]));var n,a,i;this.sendEnvelope(r)}}function uL(e){return e.type===void 0}function dL(e){return e.type==="transaction"}function CBe(e){const t=[];function r(n){return t.splice(t.indexOf(n),1)[0]||Promise.resolve(void 0)}return{$:t,add:function(n){if(!(e===void 0||t.length<e))return Jb(new ji("Not adding Promise because buffer limit was reached."));const a=n();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a},drain:function(n){return new Ja((a,i)=>{let o=t.length;if(!o)return a(!0);const l=setTimeout(()=>{n&&n>0&&a(!1)},n);t.forEach(c=>{yu(c).then(()=>{--o||(clearTimeout(l),a(!0))},i)})})}}}function EBe(e,{statusCode:t,headers:r},n=Date.now()){const a={...e},i=r&&r["x-sentry-rate-limits"],o=r&&r["retry-after"];if(i)for(const l of i.trim().split(",")){const[c,u,,,d]=l.split(":",5),f=parseInt(c,10),h=1e3*(isNaN(f)?60:f);if(u)for(const m of u.split(";"))m==="metric_bucket"&&d&&!d.split(";").includes("custom")||(a[m]=n+h);else a.all=n+h}else o?a.all=n+function(l,c=Date.now()){const u=parseInt(`${l}`,10);if(!isNaN(u))return 1e3*u;const d=Date.parse(`${l}`);return isNaN(d)?6e4:d-c}(o,n):t===429&&(a.all=n+6e4);return a}function PBe(e,t,r=CBe(e.bufferSize||64)){let n={};return{send:function(a){const i=[];if(Z4(a,(c,u)=>{const d=eL(u);if(function(f,h,m=Date.now()){return function(g,p){return g[p]||g.all||0}(f,h)>m}(n,d)){const f=fL(c,u);e.recordDroppedEvent("ratelimit_backoff",d,f)}else i.push(c)}),i.length===0)return yu({});const o=cg(a[0],i),l=c=>{Z4(o,(u,d)=>{const f=fL(u,d);e.recordDroppedEvent(c,eL(d),f)})};return r.add(()=>t({body:xBe(o)}).then(c=>(c.statusCode!==void 0&&(c.statusCode<200||c.statusCode>=300)&&Ut&&rt.warn(`Sentry responded with status code ${c.statusCode} to sent event.`),n=EBe(n,c),c),c=>{throw l("network_error"),c})).then(c=>c,c=>{if(c instanceof ji)return Ut&&rt.error("Skipped sending event because buffer is full."),l("queue_overflow"),yu({});throw c})},flush:a=>r.drain(a)}}function fL(e,t){if(t==="event"||t==="transaction")return Array.isArray(e)?e[1]:void 0}const OBe=100;function sc(e,t){const r=Nn(),n=Gg();if(!r)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:i=OBe}=r.getOptions();if(i<=0)return;const o={timestamp:qg(),...e},l=a?Hg(()=>a(o,t)):o;l!==null&&(r.emit&&r.emit("beforeAddBreadcrumb",l,t),n.addBreadcrumb(l,i))}let hL;const mL=new WeakMap,ABe=()=>({name:"FunctionToString",setupOnce(){hL=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=nA(this),r=mL.has(Nn())&&t!==void 0?t:this;return hL.apply(r,e)}}catch{}},setup(e){mL.set(e,!0)}}),TBe=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],MBe=(e={})=>({name:"InboundFilters",processEvent(t,r,n){const a=n.getOptions(),i=function(o={},l={}){return{allowUrls:[...o.allowUrls||[],...l.allowUrls||[]],denyUrls:[...o.denyUrls||[],...l.denyUrls||[]],ignoreErrors:[...o.ignoreErrors||[],...l.ignoreErrors||[],...o.disableErrorDefaults?[]:TBe],ignoreTransactions:[...o.ignoreTransactions||[],...l.ignoreTransactions||[]],ignoreInternal:o.ignoreInternal===void 0||o.ignoreInternal}}(e,a);return function(o,l){return l.ignoreInternal&&function(c){try{return c.exception.values[0].type==="SentryError"}catch{}return!1}(o)?(Ut&&rt.warn(`Event dropped due to being internal Sentry Error.
Event: ${Yo(o)}`),!0):function(c,u){return c.type||!u||!u.length?!1:function(d){const f=[];d.message&&f.push(d.message);let h;try{h=d.exception.values[d.exception.values.length-1]}catch{}return h&&h.value&&(f.push(h.value),h.type&&f.push(`${h.type}: ${h.value}`)),f}(c).some(d=>Jv(d,u))}(o,l.ignoreErrors)?(Ut&&rt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Yo(o)}`),!0):function(c){return c.type||!c.exception||!c.exception.values||c.exception.values.length===0?!1:!c.message&&!c.exception.values.some(u=>u.stacktrace||u.type&&u.type!=="Error"||u.value)}(o)?(Ut&&rt.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Yo(o)}`),!0):function(c,u){if(c.type!=="transaction"||!u||!u.length)return!1;const d=c.transaction;return!!d&&Jv(d,u)}(o,l.ignoreTransactions)?(Ut&&rt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Yo(o)}`),!0):function(c,u){if(!u||!u.length)return!1;const d=Zv(c);return!!d&&Jv(d,u)}(o,l.denyUrls)?(Ut&&rt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Yo(o)}.
Url: ${Zv(o)}`),!0):function(c,u){if(!u||!u.length)return!0;const d=Zv(c);return!d||Jv(d,u)}(o,l.allowUrls)?!1:(Ut&&rt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Yo(o)}.
Url: ${Zv(o)}`),!0)}(t,i)?null:t}});function Zv(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?function(r=[]){for(let n=r.length-1;n>=0;n--){const a=r[n];if(a&&a.filename!=="<anonymous>"&&a.filename!=="[native code]")return a.filename||null}return null}(t):null}catch{return Ut&&rt.error(`Cannot extract url for event ${Yo(e)}`),null}}function $Be(e,t,r=250,n,a,i,o){if(!(i.exception&&i.exception.values&&o&&gu(o.originalException,Error)))return;const l=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,u;l&&(i.exception.values=(c=eC(e,t,a,o.originalException,n,i.exception.values,l,0),u=r,c.map(d=>(d.value&&(d.value=qd(d.value,u)),d))))}function eC(e,t,r,n,a,i,o,l){if(i.length>=r+1)return i;let c=[...i];if(gu(n[a],Error)){pL(o,l);const u=e(t,n[a]),d=c.length;gL(u,a,d,l),c=eC(e,t,r,n[a],a,[u,...c],u,d)}return Array.isArray(n.errors)&&n.errors.forEach((u,d)=>{if(gu(u,Error)){pL(o,l);const f=e(t,u),h=c.length;gL(f,`errors[${d}]`,h,l),c=eC(e,t,r,u,a,[f,...c],f,h)}}),c}function pL(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function gL(e,t,r,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:r,parent_id:n}}function s1(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:r,hash:n,relative:t[5]+r+n}}function IBe(){"console"in jt&&Hk.forEach(function(e){e in jt.console&&Ea(jt.console,e,function(t){return Yb[e]=t,function(...r){zi("console",{args:r,level:e});const n=Yb[e];n&&n.apply(jt.console,r)}})})}function RBe(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const DBe=()=>{let e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(r,n){return n?!!(function(a,i){const o=a.message,l=i.message;return!(!o&&!l||o&&!l||!o&&l||o!==l||!yL(a,i)||!vL(a,i))}(r,n)||function(a,i){const o=xL(i),l=xL(a);return!(!o||!l||o.type!==l.type||o.value!==l.value||!yL(a,i)||!vL(a,i))}(r,n)):!1}(t,e))return Ut&&rt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function vL(e,t){let r=D4(e),n=D4(t);if(!r&&!n)return!0;if(r&&!n||!r&&n||n.length!==r.length)return!1;for(let a=0;a<n.length;a++){const i=n[a],o=r[a];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function yL(e,t){let r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;try{return r.join("")===n.join("")}catch{return!1}}function xL(e){return e.exception&&e.exception.values&&e.exception.values[0]}function bL(e){return e===void 0?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0}const o1=jt;function tC(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function LBe(){if(typeof EdgeRuntime=="string")return!0;if(!function(){if(!("fetch"in o1))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}())return!1;if(tC(o1.fetch))return!0;let e=!1;const t=o1.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=tC(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){$u&&rt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function FBe(e,t){const r="fetch";Gc(r,e),Kc(r,()=>function(n,a=!1){a&&!LBe()||Ea(jt,"fetch",function(i){return function(...o){const l=new Error,{method:c,url:u}=function(f){if(f.length===0)return{method:"GET",url:""};if(f.length===2){const[m,g]=f;return{url:wL(m),method:rC(g,"method")?String(g.method).toUpperCase():"GET"}}const h=f[0];return{url:wL(h),method:rC(h,"method")?String(h.method).toUpperCase():"GET"}}(o),d={args:o,fetchData:{method:c,url:u},startTimestamp:1e3*oo(),virtualError:l};return n||zi("fetch",{...d}),i.apply(jt,o).then(async f=>(n?n(f):zi("fetch",{...d,endTimestamp:1e3*oo(),response:f}),f),f=>{throw zi("fetch",{...d,endTimestamp:1e3*oo(),error:f}),eA(f)&&f.stack===void 0&&(f.stack=l.stack,vu(f,"framesToPop",1)),f})}})}(void 0,t))}function rC(e,t){return!!e&&typeof e=="object"&&!!e[t]}function wL(e){return typeof e=="string"?e:e?rC(e,"url")?e.url:e.toString?e.toString():"":""}const ey=jt,Zr=jt;let nC=0;function _L(){return nC>0}function eh(e,t={}){if(!function(n){return typeof n=="function"}(e))return e;try{const n=e.__sentry_wrapped__;if(n)return typeof n=="function"?n:e;if(nA(e))return e}catch{return e}const r=function(...n){try{const a=n.map(i=>eh(i,t));return e.apply(this,a)}catch(a){throw nC++,setTimeout(()=>{nC--}),function(...i){const o=iA(n_());if(i.length===2){const[l,c]=i;return l?o.withSetScope(l,c):o.withScope(c)}o.withScope(i[0])}(i=>{var o;i.addEventProcessor(l=>(t.mechanism&&(Kk(l,void 0),Xf(l,t.mechanism)),l.extra={...l.extra,arguments:n},l)),o=a,Iu().captureException(o,void 0)}),a}};try{for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}catch{}X7(r,e),vu(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch{}return r}const o_=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function lA(e,t){const r=cA(e,t),n={type:zBe(t),value:VBe(t)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function BBe(e,t,r,n){const a=Nn(),i=a&&a.getOptions().normalizeDepth,o=function(u){for(const d in u)if(Object.prototype.hasOwnProperty.call(u,d)){const f=u[d];if(f instanceof Error)return f}}(t),l={__serialized__:rG(t,i)};if(o)return{exception:{values:[lA(e,o)]},extra:l};const c={exception:{values:[{type:a_(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:WBe(t,{isUnhandledRejection:n})}]},extra:l};if(r){const u=cA(e,r);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function l1(e,t){return{exception:{values:[lA(e,t)]}}}function cA(e,t){const r=t.stacktrace||t.stack||"",n=function(i){return i&&UBe.test(i.message)?1:0}(t),a=function(i){return typeof i.framesToPop=="number"?i.framesToPop:0}(t);try{return e(r,n,a)}catch{}return[]}const UBe=/Minified React error #\d+;/i;function sG(e){return typeof WebAssembly<"u"&&WebAssembly.Exception!==void 0&&e instanceof WebAssembly.Exception}function zBe(e){const t=e&&e.name;return!t&&sG(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function VBe(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:sG(e)&&Array.isArray(e.message)&&e.message.length==2?e.message[1]:t:"No error message"}function aC(e,t,r,n,a){let i;if(K7(t)&&t.error)return l1(e,t.error);if(F4(t)||Ph(t,"DOMException")){const o=t;if("stack"in t)i=l1(e,t);else{const l=o.name||(F4(o)?"DOMError":"DOMException"),c=o.message?`${l}: ${o.message}`:l;i=iC(e,c,r,n),Kk(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return eA(t)?l1(e,t):Jf(t)||a_(t)?(i=BBe(e,t,r,a),Xf(i,{synthetic:!0}),i):(i=iC(e,t,r,n),Kk(i,`${t}`),Xf(i,{synthetic:!0}),i)}function iC(e,t,r,n){const a={};if(n&&r){const i=cA(e,r);i.length&&(a.exception={values:[{value:t,stacktrace:{frames:i}}]}),Xf(a,{synthetic:!0})}if(tA(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return a.logentry={message:i,params:o},a}return a.message=t,a}function WBe(e,{isUnhandledRejection:t}){const r=function(a,i=40){const o=Object.keys(Q7(a));o.sort();const l=o[0];if(!l)return"[object has no keys]";if(l.length>=i)return qd(l,i);for(let c=o.length;c>0;c--){const u=o.slice(0,c).join(", ");if(!(u.length>i))return c===o.length?u:qd(u,i)}return""}(e),n=t?"promise rejection":"exception";return K7(e)?`Event \`ErrorEvent\` captured as ${n} with message \`${e.message}\``:a_(e)?`Event \`${function(a){try{const i=Object.getPrototypeOf(a);return i?i.constructor.name:void 0}catch{}}(e)}\` (type=${e.type}) captured as ${n}`:`Object captured as ${n} with keys: ${r}`}class HBe extends kBe{constructor(t){const r={parentSpanIsAlwaysRootSpan:!0,...t};(function(n,a,i=[a],o="npm"){const l=n._metadata||{};l.sdk||(l.sdk={name:`sentry.javascript.${a}`,packages:i.map(c=>({name:`${o}:@sentry/${c}`,version:qc})),version:qc}),n._metadata=l})(r,"browser",["browser"],Zr.SENTRY_SDK_SOURCE||"npm"),super(r),r.sendClientReports&&Zr.document&&Zr.document.addEventListener("visibilitychange",()=>{Zr.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,r){return function(n,a,i,o){const l=aC(n,a,i&&i.syntheticException||void 0,o);return Xf(l),l.level="error",i&&i.event_id&&(l.event_id=i.event_id),yu(l)}(this._options.stackParser,t,r,this._options.attachStacktrace)}eventFromMessage(t,r="info",n){return function(a,i,o="info",l,c){const u=iC(a,i,l&&l.syntheticException||void 0,c);return u.level=o,l&&l.event_id&&(u.event_id=l.event_id),yu(u)}(this._options.stackParser,t,r,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(o_&&rt.warn("SDK not enabled, will not capture user feedback."));const r=function(n,{metadata:a,tunnel:i,dsn:o}){const l={event_id:n.event_id,sent_at:new Date().toISOString(),...a&&a.sdk&&{sdk:{name:a.sdk.name,version:a.sdk.version}},...!!i&&!!o&&{dsn:Xb(o)}};return cg(l,[function(u){return[{type:"user_report"},u]}(n)])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(r)}_prepareEvent(t,r,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,r,n)}}const qBe=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Fn=jt;let jL,c1,u1,ty;function GBe(){if(!Fn.document)return;const e=zi.bind(null,"dom"),t=SL(e,!0);Fn.document.addEventListener("click",t,!1),Fn.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(r=>{const n=Fn[r],a=n&&n.prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&(Ea(a,"addEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const f=SL(e);d.handler=f,i.call(this,o,f,c)}d.refCount++}catch{}return i.call(this,o,l,c)}}),Ea(a,"removeEventListener",function(i){return function(o,l,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,c)}}))})}function SL(e,t=!1){return r=>{if(!r||r._sentryCaptured)return;const n=function(i){try{return i.target}catch{return null}}(r);if(function(i,o){return i==="keypress"&&(!o||!o.tagName||o.tagName!=="INPUT"&&o.tagName!=="TEXTAREA"&&!o.isContentEditable)}(r.type,n))return;vu(r,"_sentryCaptured",!0),n&&!n._sentryId&&vu(n,"_sentryId",ii());const a=r.type==="keypress"?"input":r.type;(function(i){if(i.type!==c1)return!1;try{if(!i.target||i.target._sentryId!==u1)return!1}catch{}return!0})(r)||(e({event:r,name:a,global:t}),c1=r.type,u1=n?n._sentryId:void 0),clearTimeout(jL),jL=Fn.setTimeout(()=>{u1=void 0,c1=void 0},1e3)}}function oG(e){const t="history";Gc(t,e),Kc(t,KBe)}function KBe(){if(!function(){const r=ey.chrome,n=r&&r.app&&r.app.runtime,a="history"in ey&&!!ey.history.pushState&&!!ey.history.replaceState;return!n&&a}())return;const e=Fn.onpopstate;function t(r){return function(...n){const a=n.length>2?n[2]:void 0;if(a){const i=ty,o=String(a);ty=o,zi("history",{from:i,to:o})}return r.apply(this,n)}}Fn.onpopstate=function(...r){const n=Fn.location.href,a=ty;if(ty=n,zi("history",{from:a,to:n}),e)try{return e.apply(this,r)}catch{}},Ea(Fn.history,"pushState",t),Ea(Fn.history,"replaceState",t)}const Dy={};function NL(e){Dy[e]=void 0}const gm="__sentry_xhr_v3__";function YBe(){if(!Fn.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,r,n){const a=new Error,i=1e3*oo(),o=to(n[0])?n[0].toUpperCase():void 0,l=function(u){if(to(u))return u;try{return u.toString()}catch{}}(n[1]);if(!o||!l)return t.apply(r,n);r[gm]={method:o,url:l,request_headers:{}},o==="POST"&&l.match(/sentry_key/)&&(r.__sentry_own_request__=!0);const c=()=>{const u=r[gm];if(u&&r.readyState===4){try{u.status_code=r.status}catch{}zi("xhr",{endTimestamp:1e3*oo(),startTimestamp:i,xhr:r,virtualError:a})}};return"onreadystatechange"in r&&typeof r.onreadystatechange=="function"?r.onreadystatechange=new Proxy(r.onreadystatechange,{apply:(u,d,f)=>(c(),u.apply(d,f))}):r.addEventListener("readystatechange",c),r.setRequestHeader=new Proxy(r.setRequestHeader,{apply(u,d,f){const[h,m]=f,g=d[gm];return g&&to(h)&&to(m)&&(g.request_headers[h.toLowerCase()]=m),u.apply(d,f)}}),t.apply(r,n)}}),e.send=new Proxy(e.send,{apply(t,r,n){const a=r[gm];return a?(n[0]!==void 0&&(a.body=n[0]),zi("xhr",{startTimestamp:1e3*oo(),xhr:r}),t.apply(r,n)):t.apply(r,n)}})}function JBe(e,t=function(r){const n=Dy[r];if(n)return n;let a=Fn[r];if(tC(a))return Dy[r]=a.bind(Fn);const i=Fn.document;if(i&&typeof i.createElement=="function")try{const o=i.createElement("iframe");o.hidden=!0,i.head.appendChild(o);const l=o.contentWindow;l&&l[r]&&(a=l[r]),i.head.removeChild(o)}catch(o){qBe&&rt.warn(`Could not create sandbox iframe for ${r} check, bailing to window.${r}: `,o)}return a&&(Dy[r]=a.bind(Fn))}("fetch")){let r=0,n=0;return PBe(e,function(a){const i=a.body.length;r+=i,n++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:r<=6e4&&n<15,...e.fetchOptions};if(!t)return NL("fetch"),Jb("No fetch implementation available");try{return t(e.url,o).then(l=>(r-=i,n--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return NL("fetch"),r-=i,n--,Jb(l)}})}function d1(e,t,r,n){const a={filename:e,function:t==="<anonymous>"?Tc:t,in_app:!0};return r!==void 0&&(a.lineno=r),n!==void 0&&(a.colno=n),a}const XBe=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,QBe=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ZBe=/\((\S*)(?::(\d+))(?::(\d+))\)/,e6e=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,t6e=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,r6e=function(...e){const t=e.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0,a=0)=>{const i=[],o=r.split(`
`);for(let l=n;l<o.length;l++){const c=o[l];if(c.length>1024)continue;const u=$4.test(c)?c.replace($4,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const f=d(u);if(f){i.push(f);break}}if(i.length>=50+a)break}}return function(l){if(!l.length)return[];const c=Array.from(l);return/sentryWrapped/.test(Yv(c).function||"")&&c.pop(),c.reverse(),I4.test(Yv(c).function||"")&&(c.pop(),I4.test(Yv(c).function||"")&&c.pop()),c.slice(0,50).map(u=>({...u,filename:u.filename||Yv(c).filename,function:u.function||Tc}))}(i.slice(a))}}([30,e=>{const t=XBe.exec(e);if(t){const[,n,a,i]=t;return d1(n,Tc,+a,+i)}const r=QBe.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const i=ZBe.exec(r[2]);i&&(r[2]=i[1],r[3]=i[2],r[4]=i[3])}const[n,a]=kL(r[1]||Tc,r[2]);return d1(a,n,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,e=>{const t=e6e.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const a=t6e.exec(t[3]);a&&(t[1]=t[1]||"eval",t[3]=a[1],t[4]=a[2],t[5]="")}let r=t[3],n=t[1]||Tc;return[n,r]=kL(n,r),d1(r,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),kL=(e,t)=>{const r=e.indexOf("safari-extension")!==-1,n=e.indexOf("safari-web-extension")!==-1;return r||n?[e.indexOf("@")!==-1?e.split("@")[0]:Tc,r?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},CL=1024,n6e=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(r){var n;t.console&&function(a){const i="console";Gc(i,a),Kc(i,IBe)}(function(a){return function(i){if(Nn()!==a)return;const o={category:"console",data:{arguments:i.args,logger:"console"},level:RBe(i.level),message:B4(i.args," ")};if(i.level==="assert"){if(i.args[0]!==!1)return;o.message=`Assertion failed: ${B4(i.args.slice(1)," ")||"console.assert"}`,o.data.arguments=i.args.slice(1)}sc(o,{input:i.args,level:i.level})}}(r)),t.dom&&(n=function(a,i){return function(o){if(Nn()!==a)return;let l,c,u=typeof i=="object"?i.serializeAttribute:void 0,d=typeof i=="object"&&typeof i.maxStringLength=="number"?i.maxStringLength:void 0;d&&d>CL&&(o_&&rt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${d} was configured. Sentry will use 1024 instead.`),d=CL),typeof u=="string"&&(u=[u]);try{const h=o.event,m=function(g){return!!g&&!!g.target}(h)?h.target:h;l=J7(m,{keyAttrs:u,maxStringLength:d}),c=function(g){if(!rA.HTMLElement)return null;let p=g;for(let v=0;v<5;v++){if(!p)return null;if(p instanceof HTMLElement){if(p.dataset.sentryComponent)return p.dataset.sentryComponent;if(p.dataset.sentryElement)return p.dataset.sentryElement}p=p.parentNode}return null}(m)}catch{l="<unknown>"}if(l.length===0)return;const f={category:`ui.${o.name}`,message:l};c&&(f.data={"ui.component_name":c}),sc(f,{event:o.event,name:o.name,global:o.global})}}(r,t.dom),Gc("dom",n),Kc("dom",GBe)),t.xhr&&function(a){Gc("xhr",a),Kc("xhr",YBe)}(function(a){return function(i){if(Nn()!==a)return;const{startTimestamp:o,endTimestamp:l}=i,c=i.xhr[gm];if(!o||!l||!c)return;const{method:u,url:d,status_code:f,body:h}=c,m={method:u,url:d,status_code:f},g={xhr:i.xhr,input:h,startTimestamp:o,endTimestamp:l};sc({category:"xhr",data:m,type:"http",level:bL(f)},g)}}(r)),t.fetch&&FBe(function(a){return function(i){if(Nn()!==a)return;const{startTimestamp:o,endTimestamp:l}=i;if(l&&(!i.fetchData.url.match(/sentry_key/)||i.fetchData.method!=="POST"))if(i.error)sc({category:"fetch",data:i.fetchData,level:"error",type:"http"},{data:i.error,input:i.args,startTimestamp:o,endTimestamp:l});else{const c=i.response,u={...i.fetchData,status_code:c&&c.status},d={input:i.args,response:c,startTimestamp:o,endTimestamp:l};sc({category:"fetch",data:u,type:"http",level:bL(u.status_code)},d)}}}(r)),t.history&&oG(function(a){return function(i){if(Nn()!==a)return;let o=i.from,l=i.to;const c=s1(Zr.location.href);let u=o?s1(o):void 0;const d=s1(l);u&&u.path||(u=c),c.protocol===d.protocol&&c.host===d.host&&(l=d.relative),c.protocol===u.protocol&&c.host===u.host&&(o=u.relative),sc({category:"navigation",data:{from:o,to:l}})}}(r)),t.sentry&&r.on("beforeSendEvent",function(a){return function(i){Nn()===a&&sc({category:"sentry."+(i.type==="transaction"?"transaction":"event"),event_id:i.event_id,level:i.level,message:Yo(i)},{event:i})}}(r))}}},a6e=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i6e=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&Ea(Zr,"setTimeout",EL),t.setInterval&&Ea(Zr,"setInterval",EL),t.requestAnimationFrame&&Ea(Zr,"requestAnimationFrame",s6e),t.XMLHttpRequest&&"XMLHttpRequest"in Zr&&Ea(XMLHttpRequest.prototype,"send",o6e);const r=t.eventTarget;r&&(Array.isArray(r)?r:a6e).forEach(l6e)}}};function EL(e){return function(...t){const r=t[0];return t[0]=eh(r,{mechanism:{data:{function:Tl(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function s6e(e){return function(t){return e.apply(this,[eh(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Tl(e)},handled:!1,type:"instrument"}})])}}function o6e(e){return function(...t){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(n=>{n in r&&typeof r[n]=="function"&&Ea(r,n,function(a){const i={mechanism:{data:{function:n,handler:Tl(a)},handled:!1,type:"instrument"}},o=nA(a);return o&&(i.mechanism.data.handler=Tl(o)),eh(a,i)})}),e.apply(this,t)}}function l6e(e){const t=Zr[e],r=t&&t.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Ea(r,"addEventListener",function(n){return function(a,i,o){try{typeof i.handleEvent=="function"&&(i.handleEvent=eh(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Tl(i),target:e},handled:!1,type:"instrument"}}))}catch{}return n.apply(this,[a,eh(i,{mechanism:{data:{function:"addEventListener",handler:Tl(i),target:e},handled:!1,type:"instrument"}}),o])}}),Ea(r,"removeEventListener",function(n){return function(a,i,o){try{const l=i.__sentry_wrapped__;l&&n.call(this,a,l,o)}catch{}return n.call(this,a,i,o)}}))}const c6e=()=>({name:"BrowserSession",setupOnce(){Zr.document!==void 0?(aL({ignoreDuration:!0}),iL(),oG(({from:e,to:t})=>{e!==void 0&&e!==t&&(aL({ignoreDuration:!0}),iL())})):o_&&rt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}}),u6e=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(r){t.onerror&&(function(n){(function(a){const i="error";Gc(i,a),Kc(i,eBe)})(a=>{const{stackParser:i,attachStacktrace:o}=OL();if(Nn()!==n||_L())return;const{msg:l,url:c,line:u,column:d,error:f}=a,h=function(m,g,p,v){const b=m.exception=m.exception||{},x=b.values=b.values||[],w=x[0]=x[0]||{},_=w.stacktrace=w.stacktrace||{},S=_.frames=_.frames||[],N=v,k=p,P=to(g)&&g.length>0?g:function(){try{return rA.document.location.href}catch{return""}}();return S.length===0&&S.push({colno:N,filename:P,function:Tc,in_app:!0,lineno:k}),m}(aC(i,f||l,void 0,o,!1),c,u,d);h.level="error",nL(h,{originalException:f,mechanism:{handled:!1,type:"onerror"}})})}(r),PL("onerror")),t.onunhandledrejection&&(function(n){(function(a){const i="unhandledrejection";Gc(i,a),Kc(i,tBe)})(a=>{const{stackParser:i,attachStacktrace:o}=OL();if(Nn()!==n||_L())return;const l=function(u){if(qk(u))return u;try{if("reason"in u)return u.reason;if("detail"in u&&"reason"in u.detail)return u.detail.reason}catch{}return u}(a),c=qk(l)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(l)}`}]}}:aC(i,l,void 0,o,!0);c.level="error",nL(c,{originalException:l,mechanism:{handled:!1,type:"onunhandledrejection"}})})}(r),PL("onunhandledrejection"))}}};function PL(e){o_&&rt.log(`Global Handler attached: ${e}`)}function OL(){const e=Nn();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const d6e=()=>({name:"HttpContext",preprocessEvent(e){if(!Zr.navigator&&!Zr.location&&!Zr.document)return;const t=e.request&&e.request.url||Zr.location&&Zr.location.href,{referrer:r}=Zr.document||{},{userAgent:n}=Zr.navigator||{},a={...e.request&&e.request.headers,...r&&{Referer:r},...n&&{"User-Agent":n}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}),f6e=(e={})=>{const t=e.limit||5,r=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(n,a,i){const o=i.getOptions();$Be(lA,o.stackParser,o.maxValueLength,r,t,n,a)}}};var AL="new",TL="loading",ML="loaded",sC="joining-meeting",wc="joined-meeting",oc="left-meeting",Lo="error",h6e="playable",f1="unknown",m6e="full",p6e="base",$L="no-room",g6e="end-of-life",v6e="connection-error",y6e="iframe-ready-for-launch-config",x6e="iframe-launch-config",b6e="theme-updated",w6e="loading",_6e="load-attempt-failed",IL="loaded",j6e="started-camera",S6e="camera-error",N6e="joining-meeting",k6e="joined-meeting",C6e="left-meeting",E6e="participant-joined",P6e="participant-updated",O6e="participant-left",A6e="participant-counts-updated",T6e="access-state-updated",M6e="meeting-session-summary-updated",$6e="meeting-session-state-updated",I6e="waiting-participant-added",R6e="waiting-participant-updated",D6e="waiting-participant-removed",L6e="track-started",F6e="track-stopped",B6e="transcription-started",U6e="transcription-stopped",z6e="transcription-error",RL="recording-started",DL="recording-stopped",V6e="recording-stats",W6e="recording-error",H6e="recording-upload-completed",q6e="recording-data",G6e="app-message",K6e="transcription-message",Y6e="remote-media-player-started",J6e="remote-media-player-updated",X6e="remote-media-player-stopped",Q6e="local-screen-share-started",Z6e="local-screen-share-stopped",eUe="local-screen-share-canceled",tUe="active-speaker-change",rUe="active-speaker-mode-change",nUe="network-quality-change",aUe="network-connection",iUe="cpu-load-change",sUe="face-counts-updated",ry="fullscreen",ny="exited-fullscreen",oUe="live-streaming-started",lUe="live-streaming-updated",cUe="live-streaming-stopped",uUe="live-streaming-error",dUe="lang-updated",fUe="receive-settings-updated",LL="input-settings-updated",FL="nonfatal-error",BL="error",h1=4096,UL=102400,m1="iframe-call-message",zL="local-screen-start",VL="daily-method-update-live-streaming-endpoints",ay="transmit-log",ro="daily-custom-track",Ly={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image",FACE_DETECTION:"face-detection"},lG={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},oC={PLAY:"play",PAUSE:"pause"},p1=["jpg","png","jpeg"],hUe="add-endpoints",mUe="remove-endpoints",WL="sip-call-transfer";function ci(){return!pt()&&typeof window<"u"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function pt(){return typeof navigator<"u"&&navigator.product&&navigator.product==="ReactNative"}function cG(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function pUe(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&(function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(t.major===13&&t.minor===0&&t.point===0);case"Firefox":return t.major>=67}return!0}(xu(),Qb())||pt())}function HL(){if(pt()||!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var lC="none",gUe="software",vUe="hardware",yUe=function(){try{var e,t=document.createElement("canvas"),r=!1;(e=t.getContext("webgl2",{failIfMajorPerformanceCaveat:!0}))||(r=!0,e=t.getContext("webgl2"));var n=e!=null;return t.remove(),n?r?gUe:vUe:lC}catch{return lC}}();function uG(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return!pt()&&yUe!==lC&&(e?function(){return qL()?!1:["Chrome","Firefox"].includes(xu())}():function(){if(qL())return!1;var t=xu();if(t==="Safari"){var r=dA();if(r.major<15||r.major===15&&r.minor<4)return!1}return t==="Chrome"?uA().major>=77:t==="Firefox"?fA().major>=97:["Chrome","Firefox","Safari"].includes(t)}())}function dG(){if(pt()||fG()||typeof AudioWorkletNode>"u")return!1;switch(xu()){case"Chrome":case"Firefox":return!0;case"Safari":var e=Qb();return e.major>17||e.major===17&&e.minor>=4}return!1}function g1(){return cG()&&typeof MediaStreamTrack<"u"&&!function(){var e,t=xu();if(!ci())return!0;switch(t){case"Chrome":return(e=uA()).major&&e.major>0&&e.major<75;case"Firefox":return(e=fA()).major<91;case"Safari":return(e=dA()).major<13||e.major===13&&e.minor<1;default:return!0}}()}function fG(){return ci().match(/Linux; Android/)}function qL(){var e,t=ci(),r=t.match(/Mac/)&&(!pt()&&typeof window<"u"&&(e=window)!==null&&e!==void 0&&(e=e.navigator)!==null&&e!==void 0&&e.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(t.match(/Mobi/)||t.match(/Android/)||r)||!!ci().match(/DailyAnd\//)||void 0}function xu(){if(typeof window<"u"){var e=ci();return hG()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1||mG()?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function Qb(){switch(xu()){case"Chrome":return uA();case"Safari":return dA();case"Firefox":return fA();case"Edge":return function(){var e=0,t=0;if(typeof window<"u"){var r=ci().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}()}}function uA(){var e=0,t=0,r=0,n=0,a=!1;if(typeof window<"u"){var i=ci(),o=i.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),r=parseInt(o[3]),n=parseInt(o[4]),a=i.indexOf("OPR/")>-1}catch{}}return{major:e,minor:t,build:r,patch:n,opera:a}}function hG(){return!!ci().match(/iPad|iPhone|iPod/i)&&cG()}function mG(){return ci().indexOf("AppleWebKit/605.1.15")>-1}function dA(){var e=0,t=0,r=0;if(typeof window<"u"){var n=ci().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch{}else(hG()||mG())&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function fA(){var e=0,t=0;if(typeof window<"u"){var r=ci().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch{}}return{major:e,minor:t}}var pG=function(){return Ua(function e(){Ba(this,e)},[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){im()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){im()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){im()}},{key:"sendMessageToDailyJs",value:function(e,t){im()}},{key:"removeListener",value:function(e){im()}}])}();function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gG=function(){return!!e})()}var xUe=function(){function e(){var t,r,n,a;return Ba(this,e),r=this,n=Qi(n=e),(t=e_(r,gG()?Reflect.construct(n,[],Qi(r).constructor):n.apply(r,a)))._wrappedListeners={},t._messageCallbacks={},t}return t_(e,pG),Ua(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){var a=this,i=function(o){if(o.data&&o.data.what==="iframe-call-message"&&(!o.data.callClientId||o.data.callClientId===r)&&(!o.data.from||o.data.from!=="module")){var l=v1({},o.data);if(delete l.from,l.callbackStamp&&a._messageCallbacks[l.callbackStamp]){var c=l.callbackStamp;a._messageCallbacks[c].call(n,l),delete a._messageCallbacks[c]}delete l.what,delete l.callbackStamp,t.call(n,l)}};this._wrappedListeners[t]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){var a=function(i){var o;if(!(!i.data||i.data.what!==m1||!i.data.action||i.data.from&&i.data.from!=="module"||i.data.callClientId&&r&&i.data.callClientId!==r||i!=null&&(o=i.data)!==null&&o!==void 0&&o.callFrameId)){var l=i.data;t.call(n,l)}};this._wrappedListeners[t]=a,window.addEventListener("message",a)}},{key:"sendMessageToCallMachine",value:function(t,r,n,a){if(!n)throw new Error("undefined callClientId. Are you trying to use a DailyCall instance previously destroyed?");var i=v1({},t);if(i.what=m1,i.from="module",i.callClientId=n,r){var o=r_();this._messageCallbacks[o]=r,i.callbackStamp=o}var l=a?a.contentWindow:window,c=this._callMachineTargetOrigin(a);c&&l.postMessage(i,c)}},{key:"sendMessageToDailyJs",value:function(t,r){t.what=m1,t.callClientId=r,t.from="embedded",window.postMessage(t,this._targetOriginFromWindowLocation())}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"forwardPackagedMessageToCallMachine",value:function(t,r,n){var a=v1({},t);a.callClientId=n;var i=r?r.contentWindow:window,o=this._callMachineTargetOrigin(r);o&&i.postMessage(a,o)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(t,r){var n=function(a){if(a.data&&a.data.what==="iframe-call-message"&&(!a.data.callClientId||a.data.callClientId===r)&&(!a.data.from||a.data.from!=="module")){var i=a.data;t(i)}};return this._wrappedListeners[t]=n,window.addEventListener("message",n),t}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(t){var r=this._wrappedListeners[t];r&&(window.removeEventListener("message",r),delete this._wrappedListeners[t])}},{key:"_callMachineTargetOrigin",value:function(t){return t?t.src?new URL(t.src).origin:void 0:this._targetOriginFromWindowLocation()}},{key:"_targetOriginFromWindowLocation",value:function(){return window.location.protocol==="file:"?"*":window.location.origin}}])}();function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}var bUe=function(){function e(){var t,r,n,a;return Ba(this,e),r=this,n=Qi(n=e),t=e_(r,vG()?Reflect.construct(n,[],Qi(r).constructor):n.apply(r,a)),global.callMachineToDailyJsEmitter=global.callMachineToDailyJsEmitter||new Wk.EventEmitter,global.dailyJsToCallMachineEmitter=global.dailyJsToCallMachineEmitter||new Wk.EventEmitter,t._wrappedListeners={},t._messageCallbacks={},t}return t_(e,pG),Ua(e,[{key:"addListenerForMessagesFromCallMachine",value:function(t,r,n){this._addListener(t,global.callMachineToDailyJsEmitter,r,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(t,r,n){this._addListener(t,global.dailyJsToCallMachineEmitter,r,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(t,r,n){this._sendMessage(t,global.dailyJsToCallMachineEmitter,n,r,"sending message to call machine")}},{key:"sendMessageToDailyJs",value:function(t,r){this._sendMessage(t,global.callMachineToDailyJsEmitter,r,null,"sending message to daily-js")}},{key:"removeListener",value:function(t){var r=this._wrappedListeners[t];r&&(global.callMachineToDailyJsEmitter.removeListener("message",r),global.dailyJsToCallMachineEmitter.removeListener("message",r),delete this._wrappedListeners[t])}},{key:"_addListener",value:function(t,r,n,a,i){var o=this,l=function(c){if(c.callClientId===n){if(c.callbackStamp&&o._messageCallbacks[c.callbackStamp]){var u=c.callbackStamp;o._messageCallbacks[u].call(a,c),delete o._messageCallbacks[u]}t.call(a,c)}};this._wrappedListeners[t]=l,r.addListener("message",l)}},{key:"_sendMessage",value:function(t,r,n,a,i){var o=function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?KL(Object(d),!0).forEach(function(f){us(c,f,d[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):KL(Object(d)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(d,f))})}return c}({},t);if(o.callClientId=n,a){var l=r_();this._messageCallbacks[l]=a,o.callbackStamp=l}r.emit("message",o)}}])}(),cC="replace",uC="shallow-merge",YL=[cC,uC],wUe=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.data,n=t.mergeStrategy,a=n===void 0?cC:n;Ba(this,e),e._validateMergeStrategy(a),e._validateData(r,a),this.mergeStrategy=a,this.data=r}return Ua(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(t,r){return Object.keys(t).length===0&&r===uC}},{key:"_validateMergeStrategy",value:function(t){if(!YL.includes(t))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(YL,"]"))}},{key:"_validateData",value:function(t,r){if(!function(l){if(l==null||gt(l)!=="object")return!1;var c=Object.getPrototypeOf(l);return c==null||c===Object.prototype}(t))throw Error("Meeting session data must be a plain (map-like) object");var n;try{if(n=JSON.stringify(t),r===cC){var a=JSON.parse(n);In(a,t)||console.warn("The meeting session data provided will be modified when serialized.",a,t)}else if(r===uC){for(var i in t)if(Object.hasOwnProperty.call(t,i)&&t[i]!==void 0){var o=JSON.parse(JSON.stringify(t[i]));In(t[i],o)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",o,t[i])}}}catch(l){throw Error("Meeting session data must be serializable to JSON: ".concat(l))}if(n.length>UL)throw Error("Meeting session data is too large (".concat(n.length," characters). Maximum size suppported is ").concat(UL,"."))}}])}();function yG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!e})()}function dC(e){var t=typeof Map=="function"?new Map:void 0;return dC=function(r){if(r===null||!function(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return function(a,i,o){if(yG())return Reflect.construct.apply(null,arguments);var l=[null];l.push.apply(l,i);var c=new(a.bind.apply(a,l));return o&&lg(c,o.prototype),c}(r,arguments,Qi(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),lg(n,r)},dC(e)}function xG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!e})()}function JL(e){var t,r=(t=window._daily)===null||t===void 0?void 0:t.pendings;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}}var _Ue=function(){return Ua(function e(t){Ba(this,e),this._currentLoad=null,this._callClientId=t},[{key:"load",value:function(){var e,t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;if(this.loaded)return window._daily.instances[this._callClientId].callMachine.reset(),void n(!0);e=this._callClientId,window._daily.pendings.push(e),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new jUe(r,function(){n(!1)},function(i,o){o||JL(t._callClientId),a(i,o)}),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel(),JL(this._callClientId)}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}])}(),jUe=function(){return Ua(function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;Ba(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n},[{key:"start",value:function(){var e=this;if(!this._currentAttempt){var t=function(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout(function(){e._currentAttempt.cancelled||(e._currentAttempt=new XL(e._dailyConfig,e._successCallback,t),e._currentAttempt.start())},3e3))};this._currentAttempt=new XL(this._dailyConfig,this._successCallback,t),this._currentAttempt.start()}}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}])}(),y1=function(){function e(){return Ba(this,e),t=this,n=arguments,r=Qi(r=e),e_(t,xG()?Reflect.construct(r,n||[],Qi(t).constructor):r.apply(t,n));var t,r,n}return t_(e,dC(Error)),Ua(e)}(),Zb=2e4,XL=function(){return Ua(function t(r,n,a){Ba(this,t),this._loadAttemptImpl=pt()||!r.avoidEval?new SUe(r,n,a):new NUe(r,n,a)},[{key:"start",value:(e=Ye(function*(){return this._loadAttemptImpl.start()}),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]);var e}(),SUe=function(){return Ua(function a(i,o,l){Ba(this,a),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache<"u"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._dailyConfig=i,this._successCallback=o,this._failureCallback=l},[{key:"start",value:(n=Ye(function*(){var a=qb(this._dailyConfig);!(yield this._tryLoadFromIOSCache(a))&&this._loadFromNetwork(a)}),function(){return n.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(r=Ye(function*(a){if(!this._iosCache)return!1;try{var i=yield this._iosCache.get(a);return!!this.cancelled||!!i&&(i.code?(Function('"use strict";'+i.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=i.refetchHeaders,!1))}catch{return!1}}),function(a){return r.apply(this,arguments)})},{key:"_loadFromNetwork",value:(t=Ye(function*(a){var i=this;this._networkTimeout=setTimeout(function(){i._networkTimedOut=!0,i._failureCallback({msg:"Timed out (>".concat(Zb," ms) when loading call object bundle ").concat(a),type:"timeout"})},Zb);try{var o=this._refetchHeaders?{headers:this._refetchHeaders}:{},l=yield fetch(a,o);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new y1;var c=yield this._getBundleCodeFromResponse(a,l);if(this.cancelled)throw new y1;Function('"use strict";'+c)(),this._iosCache&&this._iosCache.set(a,c,l.headers),this.succeeded=!0,this._successCallback()}catch(u){if(clearTimeout(this._networkTimeout),u instanceof y1||this.cancelled||this._networkTimedOut)return;this._failureCallback({msg:"Failed to load call object bundle ".concat(a,": ").concat(u),type:u.message})}}),function(a){return t.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(e=Ye(function*(a,i){if(i.ok)return yield i.text();if(this._iosCache&&i.status===304)return(yield this._iosCache.renew(a,i.headers)).code;throw new Error("Received ".concat(i.status," response"))}),function(a,i){return e.apply(this,arguments)})}]);var e,t,r,n}(),NUe=function(){return Ua(function e(t,r,n){Ba(this,e),this.cancelled=!1,this.succeeded=!1,this._dailyConfig=t,this._successCallback=r,this._failureCallback=n,this._attemptId=r_(),this._networkTimeout=null,this._scriptElement=null},[{key:"start",value:function(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var e=qb(this._dailyConfig);(typeof document>"u"?"undefined":gt(document))==="object"?this._startLoading(e):this._failureCallback({msg:"Call object bundle must be loaded in a DOM/web context",type:"missing context"})}},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){t._stopLoading(),t._failureCallback({msg:"Timed out (>".concat(Zb," ms) when loading call object bundle ").concat(e),type:"timeout"})},Zb);var r=document.getElementsByTagName("head")[0],n=document.createElement("script");this._scriptElement=n,n.onload=function(){t._stopLoading(),t.succeeded=!0,t._successCallback()},n.onerror=function(a){t._stopLoading(),t._failureCallback({msg:"Failed to load call object bundle ".concat(a.target.src),type:a.message})},n.src=e,r.appendChild(n)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}])}(),iy=function(e,t,r){return CUe(e.local,t,r)===!0},kUe=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat(r==="video"?"Video":"Audio","Tracks")]()[0]},Pd=function(e,t,r,n){var a=EUe(e,t,r,n);return a&&a.pendingTrack},CUe=function(e,t,r){if(!e)return!1;var n=function(i){switch(i){case"avatar":return!0;case"staged":return i;default:return!!i}},a=e.public.subscribedTracks;return a&&a[t]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)===-1&&a[t].custom?[!0,"staged"].includes(a[t].custom)?n(a[t].custom):n(a[t].custom[r]):n(a[t][r]):!a||n(a.ALL)},EUe=function(e,t,r,n){var a=Object.values(e.streams||{}).filter(function(i){return i.participantId===t&&i.type===r&&i.pendingTrack&&i.pendingTrack.kind===n}).sort(function(i,o){return new Date(o.starttime)-new Date(i.starttime)});return a&&a[0]},PUe=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function QL(e,t){for(var r=t.getState(),n=0,a=["cam","screen"];n<a.length;n++)for(var i=a[n],o=0,l=["video","audio"];o<l.length;o++){var c=l[o],u=i==="cam"?c:"screen".concat(c.charAt(0).toUpperCase()+c.slice(1)),d=e.tracks[u];if(d){var f=e.local?kUe(r,i,c):Pd(r,e.session_id,i,c);d.state==="playable"&&(d.track=f),d.persistentTrack=f}}}function ZL(e,t){try{var r=t.getState();for(var n in e.tracks)if(!OUe(n)){var a=e.tracks[n].kind;if(a){var i=e.tracks[n];if(i){var o=e.local?PUe(r,n):Pd(r,e.session_id,n,a);i.state==="playable"&&(e.tracks[n].track=o),i.persistentTrack=o}}else console.error("unknown type for custom track")}}catch(l){console.error(l)}}function OUe(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function eF(e,t,r){var n=r.getState();if(e.local){if(e.audio)try{e.audioTrack=n.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch{}if(e.video)try{e.videoTrack=n.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch{}if(e.screen)try{e.screenVideoTrack=n.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=n.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch{}}else{var a=!0;try{var i=n.participants[e.session_id];i&&i.public&&i.public.rtcType&&i.public.rtcType.impl==="peer-to-peer"&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(a=!1)}catch(d){console.error(d)}if(!a)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(n.streams,e.audio&&iy(n,e.session_id,"cam-audio")){var o=Pd(n,e.session_id,"cam","audio");o&&(t&&t.audioTrack&&t.audioTrack.id===o.id?e.audioTrack=o:o.muted||(e.audioTrack=o)),e.audioTrack||(e.audio=!1)}if(e.video&&iy(n,e.session_id,"cam-video")){var l=Pd(n,e.session_id,"cam","video");l&&(t&&t.videoTrack&&t.videoTrack.id===l.id?e.videoTrack=l:l.muted||(e.videoTrack=l)),e.videoTrack||(e.video=!1)}if(e.screen&&iy(n,e.session_id,"screen-audio")){var c=Pd(n,e.session_id,"screen","audio");c&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===c.id?e.screenAudioTrack=c:c.muted||(e.screenAudioTrack=c))}if(e.screen&&iy(n,e.session_id,"screen-video")){var u=Pd(n,e.session_id,"screen","video");u&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===u.id?e.screenVideoTrack=u:u.muted||(e.screenVideoTrack=u))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(d){console.error("unexpected error matching up tracks",d)}}}function AUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return tF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?tF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function tF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var is=new Map,Gd=null;function TUe(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return rF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?rF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ss=new Map,Bm=null;function MUe(e){bG()?function(t){is.has(t)||(is.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){is.has(t)&&(is.get(t).lastDevicesString=JSON.stringify(r),Gd||(Gd=function(){var n=Ye(function*(){var a,i=yield navigator.mediaDevices.enumerateDevices(),o=AUe(is.keys());try{for(o.s();!(a=o.n()).done;){var l=a.value,c=JSON.stringify(i);c!==is.get(l).lastDevicesString&&(is.get(l).lastDevicesString=c,l(i))}}catch(u){o.e(u)}finally{o.f()}});return function(){return n.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",Gd)))}).catch(function(){}))}(e):function(t){ss.has(t)||(ss.set(t,{}),navigator.mediaDevices.enumerateDevices().then(function(r){ss.has(t)&&(ss.get(t).lastDevicesString=JSON.stringify(r),Bm||(Bm=setInterval(Ye(function*(){var n,a=yield navigator.mediaDevices.enumerateDevices(),i=TUe(ss.keys());try{for(i.s();!(n=i.n()).done;){var o=n.value,l=JSON.stringify(a);l!==ss.get(o).lastDevicesString&&(ss.get(o).lastDevicesString=l,o(a))}}catch(c){i.e(c)}finally{i.f()}}),3e3)))}))}(e)}function $Ue(e){bG()?function(t){is.has(t)&&(is.delete(t),is.size===0&&Gd&&(navigator.mediaDevices.removeEventListener("devicechange",Gd),Gd=null))}(e):function(t){ss.has(t)&&(ss.delete(t),ss.size===0&&Bm&&(clearInterval(Bm),Bm=null))}(e)}function bG(){var e;return pt()||((e=navigator.mediaDevices)===null||e===void 0?void 0:e.ondevicechange)!==void 0}var IUe=new Set;function RUe(e,t){return e&&e.readyState==="live"&&!function(r,n){return r.muted&&!IUe.has(r.id)}(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var vm=Object.freeze({VIDEO:"video",AUDIO:"audio",SCREEN_VIDEO:"screenVideo",SCREEN_AUDIO:"screenAudio",CUSTOM_VIDEO:"customVideo",CUSTOM_AUDIO:"customAudio"}),DUe=Object.freeze({PARTICIPANTS:"participants",STREAMING:"streaming",TRANSCRIPTION:"transcription"}),Um=Object.values(vm),aF=["v","a","sv","sa","cv","ca"];Object.freeze(Um.reduce(function(e,t,r){return e[t]=aF[r],e},{})),Object.freeze(aF.reduce(function(e,t,r){return e[t]=Um[r],e},{}));var LUe=[vm.VIDEO,vm.AUDIO,vm.SCREEN_VIDEO,vm.SCREEN_AUDIO],iF=Object.values(DUe),sF=["p","s","t"];Object.freeze(iF.reduce(function(e,t,r){return e[t]=sF[r],e},{})),Object.freeze(sF.reduce(function(e,t,r){return e[t]=iF[r],e},{}));var wG=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.base,n=t.byUserId,a=t.byParticipantId;Ba(this,e),this.base=r,this.byUserId=n,this.byParticipantId=a}return Ua(e,[{key:"clone",value:function(){var t=new e;if(this.base instanceof on?t.base=this.base.clone():t.base=this.base,this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof on?n.clone():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof on?i.clone():i}return t}},{key:"toJSONObject",value:function(){var t={};if(typeof this.base=="boolean"?t.base=this.base:this.base instanceof on&&(t.base=this.base.toJSONObject()),this.byUserId!==void 0)for(var r in t.byUserId={},this.byUserId){var n=this.byUserId[r];t.byUserId[r]=n instanceof on?n.toJSONObject():n}if(this.byParticipantId!==void 0)for(var a in t.byParticipantId={},this.byParticipantId){var i=this.byParticipantId[a];t.byParticipantId[a]=i instanceof on?i.toJSONObject():i}return t}},{key:"toMinifiedJSONObject",value:function(){var t={};if(this.base!==void 0&&(typeof this.base=="boolean"?t.b=this.base:t.b=this.base.toMinifiedJSONObject()),this.byUserId!==void 0)for(var r in t.u={},this.byUserId){var n=this.byUserId[r];t.u[r]=typeof n=="boolean"?n:n.toMinifiedJSONObject()}if(this.byParticipantId!==void 0)for(var a in t.p={},this.byParticipantId){var i=this.byParticipantId[a];t.p[a]=typeof i=="boolean"?i:i.toMinifiedJSONObject()}return t}},{key:"normalize",value:function(){return this.base instanceof on&&(this.base=this.base.normalize()),this.byUserId&&(this.byUserId=Object.fromEntries(Object.entries(this.byUserId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof on?a.normalize():a]}))),this.byParticipantId&&(this.byParticipantId=Object.fromEntries(Object.entries(this.byParticipantId).map(function(t){var r=En(t,2),n=r[0],a=r[1];return[n,a instanceof on?a.normalize():a]}))),this}}],[{key:"fromJSONObject",value:function(t){var r,n,a;if(t.base!==void 0&&(r=typeof t.base=="boolean"?t.base:on.fromJSONObject(t.base)),t.byUserId!==void 0)for(var i in n={},t.byUserId){var o=t.byUserId[i];n[i]=typeof o=="boolean"?o:on.fromJSONObject(o)}if(t.byParticipantId!==void 0)for(var l in a={},t.byParticipantId){var c=t.byParticipantId[l];a[l]=typeof c=="boolean"?c:on.fromJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"fromMinifiedJSONObject",value:function(t){var r,n,a;if(t.b!==void 0&&(r=typeof t.b=="boolean"?t.b:on.fromMinifiedJSONObject(t.b)),t.u!==void 0)for(var i in n={},t.u){var o=t.u[i];n[i]=typeof o=="boolean"?o:on.fromMinifiedJSONObject(o)}if(t.p!==void 0)for(var l in a={},t.p){var c=t.p[l];a[l]=typeof c=="boolean"?c:on.fromMinifiedJSONObject(c)}return new e({base:r,byUserId:n,byParticipantId:a})}},{key:"validateJSONObject",value:function(t){if(gt(t)!=="object")return[!1,"canReceive must be an object"];for(var r=["base","byUserId","byParticipantId"],n=0,a=Object.keys(t);n<a.length;n++){var i=a[n];if(!r.includes(i))return[!1,"canReceive can only contain keys (".concat(r.join(", "),")")];if(i==="base"){var o=En(on.validateJSONObject(t.base,!0),2),l=o[0],c=o[1];if(!l)return[!1,c]}else{if(gt(t[i])!=="object")return[!1,"invalid (non-object) value for field '".concat(i,"' in canReceive")];for(var u=0,d=Object.values(t[i]);u<d.length;u++){var f=d[u],h=En(on.validateJSONObject(f),2),m=h[0],g=h[1];if(!m)return[!1,g]}}}return[!0]}}])}(),on=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.video,n=t.audio,a=t.screenVideo,i=t.screenAudio,o=t.customVideo,l=t.customAudio;Ba(this,e),this.video=r,this.audio=n,this.screenVideo=a,this.screenAudio=i,this.customVideo=o,this.customAudio=l}return Ua(e,[{key:"clone",value:function(){var t=new e;return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Fo({},this.customAudio)),t}},{key:"toJSONObject",value:function(){var t={};return this.video!==void 0&&(t.video=this.video),this.audio!==void 0&&(t.audio=this.audio),this.screenVideo!==void 0&&(t.screenVideo=this.screenVideo),this.screenAudio!==void 0&&(t.screenAudio=this.screenAudio),this.customVideo!==void 0&&(t.customVideo=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.customAudio=Fo({},this.customAudio)),t}},{key:"toMinifiedJSONObject",value:function(){var t={};return this.video!==void 0&&(t.v=this.video),this.audio!==void 0&&(t.a=this.audio),this.screenVideo!==void 0&&(t.sv=this.screenVideo),this.screenAudio!==void 0&&(t.sa=this.screenAudio),this.customVideo!==void 0&&(t.cv=Fo({},this.customVideo)),this.customAudio!==void 0&&(t.ca=Fo({},this.customAudio)),t}},{key:"normalize",value:function(){function t(r,n){return r&&Object.keys(r).length===1&&r["*"]===n}return!(this.video!==!0||this.audio!==!0||this.screenVideo!==!0||this.screenAudio!==!0||!t(this.customVideo,!0)||!t(this.customAudio,!0))||(this.video!==!1||this.audio!==!1||this.screenVideo!==!1||this.screenAudio!==!1||!t(this.customVideo,!1)||!t(this.customAudio,!1))&&this}}],[{key:"fromBoolean",value:function(t){return new e({video:t,audio:t,screenVideo:t,screenAudio:t,customVideo:{"*":t},customAudio:{"*":t}})}},{key:"fromJSONObject",value:function(t){return new e({video:t.video,audio:t.audio,screenVideo:t.screenVideo,screenAudio:t.screenAudio,customVideo:t.customVideo!==void 0?Fo({},t.customVideo):void 0,customAudio:t.customAudio!==void 0?Fo({},t.customAudio):void 0})}},{key:"fromMinifiedJSONObject",value:function(t){return new e({video:t.v,audio:t.a,screenVideo:t.sv,screenAudio:t.sa,customVideo:t.cv,customAudio:t.ca})}},{key:"validateJSONObject",value:function(t,r){if(typeof t=="boolean")return[!0];if(gt(t)!=="object")return[!1,"invalid (non-object, non-boolean) value in canReceive"];for(var n=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!Um.includes(o))return[!1,"invalid media type '".concat(o,"' in canReceive")];if(LUe.includes(o)){if(typeof t[o]!="boolean")return[!1,"invalid (non-boolean) value for media type '".concat(o,"' in canReceive")]}else{if(gt(t[o])!=="object")return[!1,"invalid (non-object) value for media type '".concat(o,"' in canReceive")];for(var l=0,c=Object.values(t[o]);l<c.length;l++)if(typeof c[l]!="boolean")return[!1,"invalid (non-boolean) value for entry within '".concat(o,"' in canReceive")];if(r&&t[o]["*"]===void 0)return[!1,`canReceive "base" permission must specify "*" as an entry within '`.concat(o,"'")]}}return r&&n.length!==Um.length?[!1,'canReceive "base" permission must specify all media types: '.concat(Um.join(", ")," (or be set to a boolean shorthand)")]:[!0]}}])}(),FUe=["result"],BUe=["preserveIframe"];function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!e})()}function lF(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(c,u){if(c){if(typeof c=="string")return cF(c,u);var d={}.toString.call(c).slice(8,-1);return d==="Object"&&c.constructor&&(d=c.constructor.name),d==="Map"||d==="Set"?Array.from(c):d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d)?cF(c,u):void 0}}(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return o=c.done,c},e:function(c){l=!0,i=c},f:function(){try{o||r.return==null||r.return()}finally{if(l)throw i}}}}function cF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lc={},uF="video",UUe="voice",dF=pt()?{data:{}}:{data:{},topology:"none"},fF={present:0,hidden:0},jG={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},x1=Object.keys(jG),hF=["state","volume","simulcastEncodings"],mF={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},e0={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string",visualState:"'default' | 'sidebar-open' | 'active'"}},fC={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},cc={customIntegrations:{validate:AG,help:PG()},customTrayButtons:{validate:OG,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(e0))},url:{validate:function(e){return typeof e=="string"},help:"url should be a string"},baseUrl:{validate:function(e){return typeof e=="string"},help:"baseUrl should be a string"},token:{validate:function(e){return typeof e=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),!0}catch(r){console.error("Failed to validate dailyConfig",r)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return TG(e,mF)},help:"reactNativeConfig should look like ".concat(JSON.stringify(mF),", all fields optional")},lang:{validate:function(e){return["da","de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","pt-BR","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: da, de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, pt-BR, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return SG(e),!0}catch(t){return console.error(t),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,allowLocalVideo:!0,allowLocalAudio:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalVideo=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.videoTrack=e,r={customTrack:ro};else{if(delete t._sharedTracks.videoTrack,typeof e!="string")return console.error("videoSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({video:{settings:r}},!1),!0}},audioSource:{validate:function(e,t){if(typeof e=="boolean")return t._preloadCache.allowLocalAudio=e,!0;var r;if(e instanceof MediaStreamTrack)t._sharedTracks.audioTrack=e,r={customTrack:ro};else{if(delete t._sharedTracks.audioTrack,typeof e!="string")return console.error("audioSource must be a MediaStreamTrack, boolean, or a string"),!1;r={deviceId:e}}return t._updatePreloadCacheInputSettings({audio:{settings:r}},!1),!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(n){for(var a=0,i=Object.keys(n);a<i.length;a++){var o=i[a];if(!t.includes(o))return console.error('unsupported color "'.concat(o,'". Valid colors: ').concat(t.join(", "))),!1;if(!n[o].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(o,' theme color should be provided in valid hex color format. Received: "').concat(n[o],'"')),!1}return!0};return gt(e)==="object"&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return NG(e,{allowAllParticipantsKey:!1})},help:EG({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(r,n){try{return n.validateUpdateSendSettings(r),!0}catch(a){return console.error("Failed to validate send settings",a),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){var r;return!!kG(e)&&(t._inputSettings||(t._inputSettings={}),CG(e,(r=t.properties)===null||r===void 0?void 0:r.dailyConfig,t._sharedTracks),t._updatePreloadCacheInputSettings(e,!0),!0)},help:hC()},layout:{validate:function(e){return e==="custom-v1"||e==="browser"||e==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},proxy:{queryString:"proxy"},strictMode:!0,allowMultipleCallInstances:!0},sy={styles:{validate:function(e){for(var t in e)if(t!=="cam"&&t!=="screen")return!1;if(e.cam){for(var r in e.cam)if(r!=="div"&&r!=="video")return!1}if(e.screen){for(var n in e.screen)if(n!=="div"&&n!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!pt()&&e==="avatar")return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"],a=function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var l in i)if(l==="custom"){if(!r.includes(i[l])&&!a(i[l],!0))return!1}else{var c=!o&&!n.includes(l),u=!r.includes(i[l]);if(c||u)return!1}return!0};return a(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(pt()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,setScreenShare:{validate:function(e){return e===!1},help:"setScreenShare must be false, as it's only meant for stopping remote participants' screen shares"},eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"hasPresence":if(typeof i!="boolean")return!1;break;case"canSend":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var o,l=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=lF(i);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!l.includes(u))return!1}}catch(b){c.e(b)}finally{c.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canSend=new Set(i));break;case"canReceive":var d=En(wG.validateJSONObject(i),2),f=d[0],h=d[1];if(!f)return console.error(h),!1;break;case"canAdmin":if(i instanceof Set||i instanceof Array||Array.isArray(i)){var m,g=["participants","streaming","transcription"],p=lF(i);try{for(p.s();!(m=p.n()).done;){var v=m.value;if(!g.includes(v))return!1}}catch(b){p.e(b)}finally{p.f()}}else if(typeof i!="boolean")return!1;(i instanceof Array||Array.isArray(i))&&(e.canAdmin=new Set(i));break;default:return!1}}return!0},help:"updatePermissions can take hasPresence, canSend, canReceive, and canAdmin permissions. hasPresence must be a boolean. canSend can be a boolean or an Array or Set of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio). canReceive must be an object specifying base, byUserId, and/or byParticipantId fields (see documentation for more details). canAdmin can be a boolean or an Array or Set of admin types (participants, streaming, transcription)."}};Promise.any||(Promise.any=function(){var e=Ye(function*(t){return new Promise(function(r,n){var a=[];t.forEach(function(i){return Promise.resolve(i).then(function(o){r(o)}).catch(function(o){a.push(o),a.length===t.length&&n(a)})})})});return function(t){return e.apply(this,arguments)}}());var pF=function(){function e(j){var E,C,B,D,G,q,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ba(this,e),B=this,D=Qi(D=e),us(C=e_(B,_G()?Reflect.construct(D,[],Qi(B).constructor):D.apply(B,G)),"startListeningForDeviceChanges",function(){MUe(C.handleDeviceChange)}),us(C,"stopListeningForDeviceChanges",function(){$Ue(C.handleDeviceChange)}),us(C,"handleDeviceChange",function(Y){Y=Y.map(function(be){return JSON.parse(JSON.stringify(be))}),C.emitDailyJSEvent({action:"available-devices-updated",availableDevices:Y})}),us(C,"handleNativeAppStateChange",function(){var Y=Ye(function*(be){if(be==="destroyed")return console.warn("App has been destroyed before leaving the meeting. Cleaning up all the resources!"),void(yield C.destroy());var ke=be==="active";C.disableReactNativeAutoDeviceManagement("video")||(ke?C.camUnmutedBeforeLosingNativeActiveState&&C.setLocalVideo(!0):(C.camUnmutedBeforeLosingNativeActiveState=C.localVideo(),C.camUnmutedBeforeLosingNativeActiveState&&C.setLocalVideo(!1)))});return function(be){return Y.apply(this,arguments)}}()),us(C,"handleNativeAudioFocusChange",function(Y){C.disableReactNativeAutoDeviceManagement("audio")||(C._hasNativeAudioFocus=Y,C.toggleParticipantAudioBasedOnNativeAudioFocus(),C._hasNativeAudioFocus?C.micUnmutedBeforeLosingNativeAudioFocus&&C.setLocalAudio(!0):(C.micUnmutedBeforeLosingNativeAudioFocus=C.localAudio(),C.setLocalAudio(!1)))}),us(C,"handleNativeSystemScreenCaptureStop",function(){C.stopScreenShare()}),!g1()&&!pt())throw new Error("WebRTC not supported or suppressed");if(C.strictMode=J.strictMode===void 0||J.strictMode,C.allowMultipleCallInstances=(E=J.allowMultipleCallInstances)!==null&&E!==void 0&&E,Object.keys(lc).length&&(C._logDuplicateInstanceAttempt(),!C.allowMultipleCallInstances)){if(C.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed");console.warn("Using strictMode: false to allow multiple call instances is now deprecated. Set `allowMultipleCallInstances: true`")}if(window._daily||(window._daily={pendings:[],instances:{}}),C.callClientId=r_(),lc[(q=C).callClientId]=q,window._daily.instances[C.callClientId]={},C._sharedTracks={},window._daily.instances[C.callClientId].tracks=C._sharedTracks,J.dailyJsVersion=e.version(),C._iframe=j,C._callObjectMode=J.layout==="none"&&!C._iframe,C._preloadCache={subscribeToTracksAutomatically:!0,outputDeviceId:null,inputSettings:null,sendSettings:null,videoTrackForNetworkConnectivityTest:null,videoTrackForConnectionQualityTest:null},J.showLocalVideo!==void 0?C._callObjectMode?console.error("showLocalVideo is not available in call object mode"):C._showLocalVideo=!!J.showLocalVideo:C._showLocalVideo=!0,J.showParticipantsBar!==void 0?C._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):C._showParticipantsBar=!!J.showParticipantsBar:C._showParticipantsBar=!0,J.customIntegrations!==void 0?C._callObjectMode?console.error("customIntegrations is not available in call object mode"):C._customIntegrations=J.customIntegrations:C._customIntegrations={},J.customTrayButtons!==void 0?C._callObjectMode?console.error("customTrayButtons is not available in call object mode"):C._customTrayButtons=J.customTrayButtons:C._customTrayButtons={},J.activeSpeakerMode!==void 0?C._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):C._activeSpeakerMode=!!J.activeSpeakerMode:C._activeSpeakerMode=!1,J.receiveSettings?C._callObjectMode?C._receiveSettings=J.receiveSettings:console.error("receiveSettings is only available in call object mode"):C._receiveSettings={},C.validateProperties(J),C.properties=De({},J),C._inputSettings||(C._inputSettings={}),C._callObjectLoader=C._callObjectMode?new _Ue(C.callClientId):null,C._callState=AL,C._isPreparingToJoin=!1,C._accessState={access:f1},C._meetingSessionSummary={},C._finalSummaryOfPrevSession={},C._meetingSessionState=_1(dF,C._callObjectMode),C._nativeInCallAudioMode=uF,C._participants={},C._isScreenSharing=!1,C._participantCounts=fF,C._rmpPlayerState={},C._waitingParticipants={},C._network={threshold:"good",quality:100,networkState:"unknown",stats:{}},C._activeSpeaker={},C._localAudioLevel=0,C._isLocalAudioLevelObserverRunning=!1,C._remoteParticipantsAudioLevel={},C._isRemoteParticipantsAudioLevelObserverRunning=!1,C._maxAppMessageSize=h1,C._messageChannel=pt()?new bUe:new xUe,C._iframe&&(C._iframe.requestFullscreen?C._iframe.addEventListener("fullscreenchange",function(){document.fullscreenElement===C._iframe?(C.emitDailyJSEvent({action:ry}),C.sendMessageToCallMachine({action:ry})):(C.emitDailyJSEvent({action:ny}),C.sendMessageToCallMachine({action:ny}))}):C._iframe.webkitRequestFullscreen&&C._iframe.addEventListener("webkitfullscreenchange",function(){document.webkitFullscreenElement===C._iframe?(C.emitDailyJSEvent({action:ry}),C.sendMessageToCallMachine({action:ry})):(C.emitDailyJSEvent({action:ny}),C.sendMessageToCallMachine({action:ny}))})),pt()){var te=C.nativeUtils();te.addAudioFocusChangeListener&&te.removeAudioFocusChangeListener&&te.addAppStateChangeListener&&te.removeAppStateChangeListener&&te.addSystemScreenCaptureStopListener&&te.removeSystemScreenCaptureStopListener||console.warn("expected (add|remove)(AudioFocusChange|AppActiveStateChange|SystemScreenCaptureStop)Listener to be available in React Native"),C._hasNativeAudioFocus=!0,te.addAudioFocusChangeListener(C.handleNativeAudioFocusChange),te.addAppStateChangeListener(C.handleNativeAppStateChange),te.addSystemScreenCaptureStopListener(C.handleNativeSystemScreenCaptureStop)}return C._callObjectMode&&C.startListeningForDeviceChanges(),C._messageChannel.addListenerForMessagesFromCallMachine(C.handleMessageFromCallMachine,C.callClientId,C),C}return t_(e,Kv),Ua(e,[{key:"destroy",value:(ee=Ye(function*(){var j;try{yield this.leave()}catch{}var E=this._iframe;if(E){var C=E.parentElement;C&&C.removeChild(E)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),pt()){var B=this.nativeUtils();B.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),B.removeAppStateChangeListener(this.handleNativeAppStateChange),B.removeSystemScreenCaptureStopListener(this.handleNativeSystemScreenCaptureStop)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0,this.emitDailyJSEvent({action:"call-instance-destroyed"}),delete lc[this.callClientId],!((j=window)===null||j===void 0||(j=j._daily)===null||j===void 0)&&j.instances&&delete window._daily.instances[this.callClientId],this.strictMode&&(this.callClientId=void 0)}),function(){return ee.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(j){var E=j.bodyClass,C=j.cssFile,B=j.cssText;return mt(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(C),bodyClass:E,cssText:B}),this}},{key:"iframe",value:function(){return mt(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return bi(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return bi(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(j,E){for(var C in E){if(!sy[C])throw new Error("unrecognized updateParticipant property ".concat(C));if(sy[C].validate&&!sy[C].validate(E[C],this,this._participants[j]))throw new Error(sy[C].help)}}},{key:"updateParticipant",value:function(j,E){return this._participants.local&&this._participants.local.session_id===j&&(j="local"),j&&E&&(this.validateParticipantProperties(j,E),this.sendMessageToCallMachine({action:"update-participant",id:j,properties:E})),this}},{key:"updateParticipants",value:function(j){var E=this._participants.local&&this._participants.local.session_id;for(var C in j)C===E&&(C="local"),C&&j[C]&&this.validateParticipantProperties(C,j[C]);return this.sendMessageToCallMachine({action:"update-participants",participants:j}),this}},{key:"updateWaitingParticipant",value:(re=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(bi(this._callObjectMode,"updateWaitingParticipant()"),Rt(this._callState,"updateWaitingParticipant()"),typeof E!="string"||gt(C)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(B,D){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:E,updates:C},function(G){G.error&&D(G.error),G.id||D(new Error("unknown error in updateWaitingParticipant()")),B({id:G.id})})})}),function(){return re.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(K=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"updateWaitingParticipants()"),Rt(this._callState,"updateWaitingParticipants()"),gt(E)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(C,B){j.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:E},function(D){D.error&&B(D.error),D.ids||B(new Error("unknown error in updateWaitingParticipants()")),C({ids:D.ids})})})}),function(){return K.apply(this,arguments)})},{key:"requestAccess",value:(U=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=E.access,B=C===void 0?{level:m6e}:C,D=E.name,G=D===void 0?"":D;return bi(this._callObjectMode,"requestAccess()"),Rt(this._callState,"requestAccess()"),new Promise(function(q,J){j.sendMessageToCallMachine({action:"daily-method-request-access",access:B,name:G},function(te){te.error&&J(te.error),te.access||J(new Error("unknown error in requestAccess()")),q({access:te.access,granted:te.granted})})})}),function(){return U.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.audio.state):null}},{key:"localVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.video.state):null}},{key:"setLocalAudio",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return"forceDiscardTrack"in E&&(pt()?(console.warn("forceDiscardTrack option not supported in React Native; ignoring"),E={}):j&&(console.warn("forceDiscardTrack option only supported when calling setLocalAudio(false); ignoring"),E={})),this.sendMessageToCallMachine({action:"local-audio",state:j,options:E}),this}},{key:"localScreenAudio",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenAudio.state):null}},{key:"localScreenVideo",value:function(){return this._participants.local?!["blocked","off"].includes(this._participants.local.tracks.screenVideo.state):null}},{key:"updateScreenShare",value:function(j){if(this._isScreenSharing)return this.sendMessageToCallMachine({action:"local-screen-update",options:j}),this;console.warn("There is no screen share in progress. Try calling startScreenShare first.")}},{key:"setLocalVideo",value:function(j){return this.sendMessageToCallMachine({action:"local-video",state:j}),this}},{key:"_setAllowLocalAudio",value:function(j){if(this._preloadCache.allowLocalAudio=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-audio",state:j}),this}},{key:"_setAllowLocalVideo",value:function(j){if(this._preloadCache.allowLocalVideo=j,this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-allow-local-video",state:j}),this}},{key:"getReceiveSettings",value:(R=Ye(function*(j){var E=this,C=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,B=C!==void 0&&C;if(bi(this._callObjectMode,"getReceiveSettings()"),!this._callMachineInitialized)return this._receiveSettings;switch(gt(j)){case"string":return new Promise(function(D){E.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:j,showInheritedValues:B},function(G){D(G.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}}),function(j){return R.apply(this,arguments)})},{key:"updateReceiveSettings",value:(V=Ye(function*(j){var E=this;if(bi(this._callObjectMode,"updateReceiveSettings()"),!NG(j,{allowAllParticipantsKey:!0}))throw new Error(EG({allowAllParticipantsKey:!0}));return Rt(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise(function(C){E.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:j},function(B){C({receiveSettings:B.receiveSettings})})})}),function(j){return V.apply(this,arguments)})},{key:"_prepInputSettingsForSharing",value:function(j,E){if(j){var C={};if(j.audio){var B,D,G;j.audio.settings&&(!Object.keys(j.audio.settings).length&&E||(C.audio={settings:De({},j.audio.settings)})),E&&(B=C.audio)!==null&&B!==void 0&&(B=B.settings)!==null&&B!==void 0&&B.customTrack&&(C.audio.settings={customTrack:this._sharedTracks.audioTrack});var q=((D=j.audio.processor)===null||D===void 0?void 0:D.type)==="none"&&((G=j.audio.processor)===null||G===void 0?void 0:G._isDefaultWhenNone);if(j.audio.processor&&!q){var J=De({},j.audio.processor);delete J._isDefaultWhenNone,C.audio=De(De({},C.audio),{},{processor:J})}}if(j.video){var te,Y,be;j.video.settings&&(!Object.keys(j.video.settings).length&&E||(C.video={settings:De({},j.video.settings)})),E&&(te=C.video)!==null&&te!==void 0&&(te=te.settings)!==null&&te!==void 0&&te.customTrack&&(C.video.settings={customTrack:this._sharedTracks.videoTrack});var ke=((Y=j.video.processor)===null||Y===void 0?void 0:Y.type)==="none"&&((be=j.video.processor)===null||be===void 0?void 0:be._isDefaultWhenNone);if(j.video.processor&&!ke){var Je=De({},j.video.processor);delete Je._isDefaultWhenNone,C.video=De(De({},C.video),{},{processor:Je})}}return C}}},{key:"getInputSettings",value:function(){var j=this;return mt(),new Promise(function(E){E(j._getInputSettings())})}},{key:"_getInputSettings",value:function(){var j,E,C,B,D,G,q={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(j=((C=this._inputSettings)===null||C===void 0?void 0:C.video)||q,E=((B=this._inputSettings)===null||B===void 0?void 0:B.audio)||q):(j=((D=this._preloadCache)===null||D===void 0||(D=D.inputSettings)===null||D===void 0?void 0:D.video)||q,E=((G=this._preloadCache)===null||G===void 0||(G=G.inputSettings)===null||G===void 0?void 0:G.audio)||q);var J={audio:E,video:j};return this._prepInputSettingsForSharing(J,!0)}},{key:"_updatePreloadCacheInputSettings",value:function(j,E){var C=this._inputSettings||{},B={};if(j.video){var D,G,q;B.video={},j.video.settings?(B.video.settings={},E||j.video.settings.customTrack||(q=C.video)===null||q===void 0||!q.settings?B.video.settings=j.video.settings:B.video.settings=De(De({},C.video.settings),j.video.settings),Object.keys(B.video.settings).length||delete B.video.settings):(D=C.video)!==null&&D!==void 0&&D.settings&&(B.video.settings=C.video.settings),j.video.processor?B.video.processor=j.video.processor:(G=C.video)!==null&&G!==void 0&&G.processor&&(B.video.processor=C.video.processor)}else C.video&&(B.video=C.video);if(j.audio){var J,te,Y;B.audio={},j.audio.settings?(B.audio.settings={},E||j.audio.settings.customTrack||(Y=C.audio)===null||Y===void 0||!Y.settings?B.audio.settings=j.audio.settings:B.audio.settings=De(De({},C.audio.settings),j.audio.settings),Object.keys(B.audio.settings).length||delete B.audio.settings):(J=C.audio)!==null&&J!==void 0&&J.settings&&(B.audio.settings=C.audio.settings),j.audio.processor?B.audio.processor=j.audio.processor:(te=C.audio)!==null&&te!==void 0&&te.processor&&(B.audio.processor=C.audio.processor)}else C.audio&&(B.audio=C.audio);this._maybeUpdateInputSettings(B)}},{key:"_devicesFromInputSettings",value:function(j){var E,C,B=(j==null||(E=j.video)===null||E===void 0||(E=E.settings)===null||E===void 0?void 0:E.deviceId)||null,D=(j==null||(C=j.audio)===null||C===void 0||(C=C.settings)===null||C===void 0?void 0:C.deviceId)||null,G=this._preloadCache.outputDeviceId||null;return{camera:B?{deviceId:B}:{},mic:D?{deviceId:D}:{},speaker:G?{deviceId:G}:{}}}},{key:"updateInputSettings",value:(z=Ye(function*(j){var E=this;return mt(),kG(j)?j.video||j.audio?(CG(j,this.properties.dailyConfig,this._sharedTracks),this._callObjectMode&&!this._callMachineInitialized?(this._updatePreloadCacheInputSettings(j,!0),this._getInputSettings()):new Promise(function(C,B){E.sendMessageToCallMachine({action:"update-input-settings",inputSettings:j},function(D){if(D.error)B(D.error);else{if(D.returnPreloadCache)return E._updatePreloadCacheInputSettings(j,!0),void C(E._getInputSettings());E._maybeUpdateInputSettings(D.inputSettings),C(E._prepInputSettingsForSharing(D.inputSettings,!0))}})})):this._getInputSettings():(console.error(hC()),Promise.reject(hC()))}),function(j){return z.apply(this,arguments)})},{key:"setBandwidth",value:function(j){var E=j.kbs,C=j.trackConstraints;if(mt(),this._callMachineInitialized)return this.sendMessageToCallMachine({action:"set-bandwidth",kbs:E,trackConstraints:C}),this}},{key:"getDailyLang",value:function(){var j=this;if(mt(),this._callMachineInitialized)return new Promise(function(E){j.sendMessageToCallMachine({action:"get-daily-lang"},function(C){delete C.action,delete C.callbackStamp,E(C)})})}},{key:"setDailyLang",value:function(j){return mt(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:j}),this}},{key:"setProxyUrl",value:function(j){return this.sendMessageToCallMachine({action:"set-proxy-url",proxyUrl:j}),this}},{key:"setIceConfig",value:function(j){return this.sendMessageToCallMachine({action:"set-ice-config",iceConfig:j}),this}},{key:"meetingSessionSummary",value:function(){return[oc,Lo].includes(this._callState)?this._finalSummaryOfPrevSession:this._meetingSessionSummary}},{key:"getMeetingSession",value:(F=Ye(function*(){var j=this;return console.warn("getMeetingSession() is deprecated: use meetingSessionSummary(), which will return immediately"),Rt(this._callState,"getMeetingSession()"),new Promise(function(E){j.sendMessageToCallMachine({action:"get-meeting-session"},function(C){delete C.action,delete C.callbackStamp,E(C)})})}),function(){return F.apply(this,arguments)})},{key:"meetingSessionState",value:function(){return Rt(this._callState,"meetingSessionState"),this._meetingSessionState}},{key:"setMeetingSessionData",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";bi(this._callObjectMode,"setMeetingSessionData()"),Rt(this._callState,"setMeetingSessionData");try{(function(C,B){new wUe({data:C,mergeStrategy:B})})(j,E)}catch(C){throw console.error(C),C}try{this.sendMessageToCallMachine({action:"set-session-data",data:j,mergeStrategy:E})}catch(C){throw new Error("Error setting meeting session data: ".concat(C))}}},{key:"setUserName",value:function(j,E){var C=this;return this.properties.userName=j,new Promise(function(B){C.sendMessageToCallMachine({action:"set-user-name",name:j??"",thisMeetingOnly:pt()||!!E&&!!E.thisMeetingOnly},function(D){delete D.action,delete D.callbackStamp,B(D)})})}},{key:"setUserData",value:($=Ye(function*(j){var E=this;try{SG(j)}catch(C){throw console.error(C),C}if(this.properties.userData=j,this._callMachineInitialized)return new Promise(function(C){try{E.sendMessageToCallMachine({action:"set-user-data",userData:j},function(B){delete B.action,delete B.callbackStamp,C(B)})}catch(B){throw new Error("Error setting user data: ".concat(B))}})}),function(j){return $.apply(this,arguments)})},{key:"validateAudioLevelInterval",value:function(j){if(j&&(j<100||typeof j!="number"))throw new Error("The interval must be a number greater than or equal to 100 milliseconds.")}},{key:"startLocalAudioLevelObserver",value:function(j){var E=this;if(typeof AudioWorkletNode>"u"&&!pt())throw new Error("startLocalAudioLevelObserver() is not supported on this browser");if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isLocalAudioLevelObserverRunning=!0,new Promise(function(C,B){E.sendMessageToCallMachine({action:"start-local-audio-level-observer",interval:j},function(D){E._isLocalAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):C()})});this._preloadCache.localAudioLevelObserver={enabled:!0,interval:j}}},{key:"isLocalAudioLevelObserverRunning",value:function(){return this._isLocalAudioLevelObserverRunning}},{key:"stopLocalAudioLevelObserver",value:function(){this._preloadCache.localAudioLevelObserver=null,this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-local-audio-level-observer"})}},{key:"startRemoteParticipantsAudioLevelObserver",value:function(j){var E=this;if(this.validateAudioLevelInterval(j),this._callMachineInitialized)return this._isRemoteParticipantsAudioLevelObserverRunning=!0,new Promise(function(C,B){E.sendMessageToCallMachine({action:"start-remote-participants-audio-level-observer",interval:j},function(D){E._isRemoteParticipantsAudioLevelObserverRunning=!D.error,D.error?B({error:D.error}):C()})});this._preloadCache.remoteParticipantsAudioLevelObserver={enabled:!0,interval:j}}},{key:"isRemoteParticipantsAudioLevelObserverRunning",value:function(){return this._isRemoteParticipantsAudioLevelObserverRunning}},{key:"stopRemoteParticipantsAudioLevelObserver",value:function(){this._preloadCache.remoteParticipantsAudioLevelObserver=null,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this.sendMessageToCallMachine({action:"stop-remote-participants-audio-level-observer"})}},{key:"startCamera",value:(L=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"startCamera()"),b1(this._callState,this._isPreparingToJoin,"startCamera()","Did you mean to use setLocalAudio() and/or setLocalVideo() instead?"),this.needsLoad())try{yield this.load(E)}catch(C){return Promise.reject(C)}else{if(this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()}this.validateProperties(E),this.properties=De(De({},this.properties),E)}return new Promise(function(C){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"start-camera",properties:ed(j.properties,j.callClientId),preloadCache:ed(j._preloadCache,j.callClientId)},function(B){C({camera:B.camera,mic:B.mic,speaker:B.speaker})})})}),function(){return L.apply(this,arguments)})},{key:"validateCustomTrack",value:function(j,E,C){if(C&&C.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(E&&E!=="music"&&E!=="speech"&&!(E instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(C&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(C))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(j instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName,ignoreAudioLevel};return mt(),Rt(this._callState,"startCustomTrack()"),this.validateCustomTrack(E.track,E.mode,E.trackName),new Promise(function(C,B){j._sharedTracks.customTrack=E.track,E.track=ro,j.sendMessageToCallMachine({action:"start-custom-track",properties:E},function(D){D.error?B({error:D.error}):C(D.mediaTag)})})}},{key:"stopCustomTrack",value:function(j){var E=this;return mt(),Rt(this._callState,"stopCustomTrack()"),new Promise(function(C){E.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:j},function(B){C(B.mediaTag)})})}},{key:"setCamera",value:function(j){var E=this;return sm(),oy(this._callMachineInitialized,"setCamera()"),new Promise(function(C){E.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:j},function(B){C({device:B.device})})})}},{key:"setAudioDevice",value:(O=Ye(function*(j){return sm(),this.nativeUtils().setAudioDevice(j),{deviceId:yield this.nativeUtils().getAudioDevice()}}),function(j){return O.apply(this,arguments)})},{key:"cycleCamera",value:function(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(C){j.sendMessageToCallMachine({action:"cycle-camera",properties:E},function(B){C({device:B.device})})})}},{key:"cycleMic",value:function(){var j=this;return mt(),new Promise(function(E){j.sendMessageToCallMachine({action:"cycle-mic"},function(C){E({device:C.device})})})}},{key:"getCameraFacingMode",value:function(){var j=this;return sm(),new Promise(function(E){j.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(C){E(C.facingMode)})})}},{key:"setInputDevicesAsync",value:(I=Ye(function*(j){var E=this,C=j.audioDeviceId,B=j.videoDeviceId,D=j.audioSource,G=j.videoSource;if(mt(),D!==void 0&&(C=D),G!==void 0&&(B=G),typeof C=="boolean"&&(this._setAllowLocalAudio(C),C=void 0),typeof B=="boolean"&&(this._setAllowLocalVideo(B),B=void 0),!C&&!B)return yield this.getInputDevices();var q={};return C&&(C instanceof MediaStreamTrack?(this._sharedTracks.audioTrack=C,C=ro,q.audio={settings:{customTrack:C}}):(delete this._sharedTracks.audioTrack,q.audio={settings:{deviceId:C}})),B&&(B instanceof MediaStreamTrack?(this._sharedTracks.videoTrack=B,B=ro,q.video={settings:{customTrack:B}}):(delete this._sharedTracks.videoTrack,q.video={settings:{deviceId:B}})),this._callObjectMode&&this.needsLoad()?(this._updatePreloadCacheInputSettings(q,!1),this._devicesFromInputSettings(this._inputSettings)):new Promise(function(J){E.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:C,videoDeviceId:B},function(te){if(delete te.action,delete te.callbackStamp,te.returnPreloadCache)return E._updatePreloadCacheInputSettings(q,!1),void J(E._devicesFromInputSettings(E._inputSettings));J(te)})})}),function(j){return I.apply(this,arguments)})},{key:"setOutputDeviceAsync",value:(T=Ye(function*(j){var E=this,C=j.outputDeviceId;if(mt(),!C||typeof C!="string")throw new Error("outputDeviceId must be provided and must be a valid device id");return this._preloadCache.outputDeviceId=C,this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(B,D){E.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:C},function(G){if(delete G.action,delete G.callbackStamp,G.error){var q=new Error(G.error.message);return q.type=G.error.type,void D(q)}G.returnPreloadCache?B(E._devicesFromInputSettings(E._inputSettings)):B(G)})})}),function(j){return T.apply(this,arguments)})},{key:"getInputDevices",value:(A=Ye(function*(){var j=this;return this._callObjectMode&&this.needsLoad()?this._devicesFromInputSettings(this._inputSettings):new Promise(function(E){j.sendMessageToCallMachine({action:"get-input-devices"},function(C){C.returnPreloadCache?E(j._devicesFromInputSettings(j._inputSettings)):E({camera:C.camera,mic:C.mic,speaker:C.speaker})})})}),function(){return A.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return sm(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(j){if(sm(),[uF,UUe].includes(j)){if(j!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=j,!this.disableReactNativeAutoDeviceManagement("audio")&&Fy(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",j)}},{key:"preAuth",value:(P=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(bi(this._callObjectMode,"preAuth()"),b1(this._callState,this._isPreparingToJoin,"preAuth()"),this.needsLoad()&&(yield this.load(E)),!E.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(E),this.properties=De(De({},this.properties),E),new Promise(function(C,B){j._preloadCache.inputSettings=j._prepInputSettingsForSharing(j._inputSettings,!1),j.sendMessageToCallMachine({action:"daily-method-preauth",properties:ed(j.properties,j.callClientId),preloadCache:ed(j._preloadCache,j.callClientId)},function(D){return D.error?B(D.error):D.access?(j._didPreAuth=!0,void C({access:D.access})):B(new Error("unknown error in preAuth()"))})})}),function(){return P.apply(this,arguments)})},{key:"load",value:(k=Ye(function*(j){var E=this;if(this.needsLoad()){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");if(j&&(this.validateProperties(j),this.properties=De(De({},this.properties),j)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");return this._updateCallState(TL),this.emitDailyJSEvent({action:w6e}),this._callObjectMode?new Promise(function(C,B){E._callObjectLoader.cancel();var D=Date.now();E._callObjectLoader.load(E.properties.dailyConfig,function(G){E._bundleLoadTime=G?"no-op":Date.now()-D,E._updateCallState(ML),G&&E.emitDailyJSEvent({action:IL}),C()},function(G,q){if(E.emitDailyJSEvent({action:_6e}),!q){E._updateCallState(Lo),E.resetMeetingDependentVars();var J={action:BL,errorMsg:G.msg,error:{type:"connection-error",msg:"Failed to load call object bundle.",details:{on:"load",sourceError:G,bundleUrl:qb(E.properties.dailyConfig)}}};E._maybeSendToSentry(J),E.emitDailyJSEvent(J),B(G.msg)}})}):(this._iframe.src=q7(this.assembleMeetingUrl(),this.properties.dailyConfig),new Promise(function(C,B){E._loadedCallback=function(D){E._callState!==Lo?(E._updateCallState(ML),(E.properties.cssFile||E.properties.cssText)&&E.loadCss(E.properties),C()):B(D)}}))}}),function(j){return k.apply(this,arguments)})},{key:"join",value:(N=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._testCallInProgress&&this.stopTestCallQuality();var C=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(E)}catch(B){return this.updateIsPreparingToJoin(!1),Promise.reject(B)}}else{if(C=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(E.token&&E.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(E.url&&!this._callObjectMode&&E.url&&E.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(E.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(E),this.properties=De(De({},this.properties),E)}return E.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!E.showLocalVideo),E.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!E.showParticipantsBar),this._callState===wc||this._callState===sC?(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)):(this._updateCallState(sC,!1),this.emitDailyJSEvent({action:N6e}),this._preloadCache.inputSettings=this._prepInputSettingsForSharing(this._inputSettings||{},!1),this.sendMessageToCallMachine({action:"join-meeting",properties:ed(this.properties,this.callClientId),preloadCache:ed(this._preloadCache,this.callClientId)}),new Promise(function(B,D){j._joinedCallback=function(G,q){if(j._callState!==Lo){if(j._updateCallState(wc),G)for(var J in G){if(j._callObjectMode){var te=j._callMachine().store;QL(G[J],te),ZL(G[J],te),eF(G[J],j._participants[J],te)}j._participants[J]=De({},G[J]),j.toggleParticipantAudioBasedOnNativeAudioFocus()}C&&j.loadCss(j.properties),B(G)}else D(q)}}))}),function(){return N.apply(this,arguments)})},{key:"leave",value:(S=Ye(function*(){var j=this;return this._testCallInProgress&&this.stopTestCallQuality(),new Promise(function(E){j._callState===oc||j._callState===Lo?E():j._callObjectLoader&&!j._callObjectLoader.loaded?(j._callObjectLoader.cancel(),j._updateCallState(oc),j.resetMeetingDependentVars(),j.emitDailyJSEvent({action:oc}),E()):(j._resolveLeave=E,j.sendMessageToCallMachine({action:"leave-meeting"}))})}),function(){return S.apply(this,arguments)})},{key:"startScreenShare",value:(_=Ye(function*(){var j=this,E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(oy(this._callMachineInitialized,"startScreenShare()"),E.screenVideoSendSettings&&this._validateVideoSendSettings("screenVideo",E.screenVideoSendSettings),E.mediaStream&&(this._sharedTracks.screenMediaStream=E.mediaStream,E.mediaStream=ro),typeof DailyNativeUtils<"u"&&DailyNativeUtils.isIOS!==void 0&&DailyNativeUtils.isIOS){var C=this.nativeUtils();if(yield C.isScreenBeingCaptured())return void this.emitDailyJSEvent({action:FL,type:"screen-share-error",errorMsg:"Could not start the screen sharing. The screen is already been captured!"});C.setSystemScreenCaptureStartCallback(function(){C.setSystemScreenCaptureStartCallback(null),j.sendMessageToCallMachine({action:zL,captureOptions:E})}),C.presentSystemScreenCapturePrompt()}else this.sendMessageToCallMachine({action:zL,captureOptions:E})}),function(){return _.apply(this,arguments)})},{key:"stopScreenShare",value:function(){oy(this._callMachineInitialized,"stopScreenShare()"),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},E=j.type;if(E&&E!=="cloud"&&E!=="raw-tracks"&&E!=="local")throw new Error("invalid type: ".concat(E,", allowed values 'cloud', 'raw-tracks', or 'local'"));this.sendMessageToCallMachine(De({action:"local-recording-start"},j))}},{key:"updateRecording",value:function(j){var E=j.layout,C=E===void 0?{preset:"default"}:E,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:C,instanceId:B})}},{key:"stopRecording",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"local-recording-stop"},j))}},{key:"startLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"daily-method-start-live-streaming"},j))}},{key:"updateLiveStreaming",value:function(j){var E=j.layout,C=E===void 0?{preset:"default"}:E,B=j.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:C,instanceId:B})}},{key:"addLiveStreamingEndpoints",value:function(j){var E=j.endpoints,C=j.instanceId;this.sendMessageToCallMachine({action:VL,endpointsOp:hUe,endpoints:E,instanceId:C})}},{key:"removeLiveStreamingEndpoints",value:function(j){var E=j.endpoints,C=j.instanceId;this.sendMessageToCallMachine({action:VL,endpointsOp:mUe,endpoints:E,instanceId:C})}},{key:"stopLiveStreaming",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(De({action:"daily-method-stop-live-streaming"},j))}},{key:"validateDailyConfig",value:function(j){j.camSimulcastEncodings&&(console.warn("camSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide camera simulcast settings."),this.validateSimulcastEncodings(j.camSimulcastEncodings)),j.screenSimulcastEncodings&&console.warn("screenSimulcastEncodings is deprecated. Use sendSettings, found in DailyCallOptions, to provide screen simulcast settings."),fG()&&j.noAutoDefaultDeviceChange&&console.warn("noAutoDefaultDeviceChange is not supported on Android, and will be ignored.")}},{key:"validateSimulcastEncodings",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,C=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(j){if(!(j instanceof Array||Array.isArray(j)))throw new Error("encodings must be an Array");if(!bF(j.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var B=0;B<j.length;B++){var D=j[B];for(var G in this._validateEncodingLayerHasValidProperties(D),D)if(x1.includes(G)){if(typeof D[G]!="number")throw new Error("".concat(G," must be a number"));if(E){var q=E[G],J=q.min,te=q.max;if(!bF(D[G],J,te))throw new Error("".concat(G," value not in range. valid range: ").concat(J," to ").concat(te))}}else if(!["active","scalabilityMode"].includes(G))throw new Error("Invalid key ".concat(G,", valid keys are:")+Object.values(x1));if(C&&!D.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(w=Ye(function*(j){var E=this,C=j.url,B=j.settings,D=B===void 0?{state:oC.PLAY}:B;try{(function(G){if(typeof G!="string")throw new Error('url parameter must be "string" type')})(C),xF(D),function(G){for(var q in G)if(!hF.includes(q))throw new Error("Invalid key ".concat(q,", valid keys are: ").concat(hF));G.simulcastEncodings&&this.validateSimulcastEncodings(G.simulcastEncodings,jG,!0)}(D)}catch(G){throw console.error("invalid argument Error: ".concat(G)),console.error(`startRemoteMediaPlayer arguments must be of the form:
  { url: "playback url",
  settings?:
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),G}return new Promise(function(G,q){E.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:C,settings:D},function(J){J.error?q({error:J.error,errorMsg:J.errorMsg}):G({session_id:J.session_id,remoteMediaPlayerState:{state:J.state,settings:J.settings}})})})}),function(j){return w.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(x=Ye(function*(j){var E=this;if(typeof j!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(C,B){E.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:j},function(D){D.error?B({error:D.error,errorMsg:D.errorMsg}):C()})})}),function(j){return x.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(b=Ye(function*(j){var E=this,C=j.session_id,B=j.settings;try{xF(B)}catch(D){throw console.error("invalid argument Error: ".concat(D)),console.error(`updateRemoteMediaPlayer arguments must be of the form:
  session_id: "participant session",
  { settings?: {state: "play"|"pause"} }`),D}return new Promise(function(D,G){E.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:C,settings:B},function(q){q.error?G({error:q.error,errorMsg:q.errorMsg}):D({session_id:q.session_id,remoteMediaPlayerState:{state:q.state,settings:q.settings}})})})}),function(j){return b.apply(this,arguments)})},{key:"startTranscription",value:function(j){Rt(this._callState,"startTranscription()"),this.sendMessageToCallMachine(De({action:"daily-method-start-transcription"},j))}},{key:"updateTranscription",value:function(j){if(Rt(this._callState,"updateTranscription()"),!j)throw new Error("updateTranscription Error: options is mandatory");if(gt(j)!=="object")throw new Error("updateTranscription Error: options must be object type");if(j.participants&&!Array.isArray(j.participants))throw new Error("updateTranscription Error: participants must be an array");this.sendMessageToCallMachine(De({action:"daily-method-update-transcription"},j))}},{key:"stopTranscription",value:function(j){if(Rt(this._callState,"stopTranscription()"),j&&gt(j)!=="object")throw new Error("stopTranscription Error: options must be object type");if(j&&!j.instanceId)throw new Error('"instanceId" not provided');this.sendMessageToCallMachine(De({action:"daily-method-stop-transcription"},j))}},{key:"startDialOut",value:(v=Ye(function*(j){var E=this;Rt(this._callState,"startDialOut()");var C=function(q){if(q){if(!Array.isArray(q))throw new Error("Error starting dial out: audio codec must be an array");if(q.length<=0)throw new Error("Error starting dial out: audio codec array specified but empty");q.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: audio codec must be a string");if(J!=="OPUS"&&J!=="PCMU"&&J!=="PCMA"&&J!=="G722")throw new Error("Error starting dial out: audio codec must be one of OPUS, PCMU, PCMA, G722")})}};if(!j.sipUri&&!j.phoneNumber)throw new Error("Error starting dial out: either a sip uri or phone number must be provided");if(j.sipUri&&j.phoneNumber)throw new Error("Error starting dial out: only one of sip uri or phone number must be provided");if(j.sipUri){if(typeof j.sipUri!="string")throw new Error("Error starting dial out: sipUri must be a string");if(!j.sipUri.startsWith("sip:"))throw new Error("Error starting dial out: Invalid SIP URI, must start with 'sip:'");if(j.video&&typeof j.video!="boolean")throw new Error("Error starting dial out: video must be a boolean value");(function(q){if(q&&(C(q.audio),q.video)){if(!Array.isArray(q.video))throw new Error("Error starting dial out: video codec must be an array");if(q.video.length<=0)throw new Error("Error starting dial out: video codec array specified but empty");q.video.forEach(function(J){if(typeof J!="string")throw new Error("Error starting dial out: video codec must be a string");if(J!=="H264"&&J!=="VP8")throw new Error("Error starting dial out: video codec must be H264 or VP8")})}})(j.codecs)}if(j.phoneNumber){if(typeof j.phoneNumber!="string")throw new Error("Error starting dial out: phoneNumber must be a string");if(!/^\+\d{1,}$/.test(j.phoneNumber))throw new Error("Error starting dial out: Invalid phone number, must be valid phone number as per E.164");j.codecs&&C(j.codecs.audio)}if(j.callerId){if(typeof j.callerId!="string")throw new Error("Error starting dial out: callerId must be a string");if(j.sipUri)throw new Error("Error starting dial out: callerId not allowed with sipUri")}if(j.displayName){if(typeof j.displayName!="string")throw new Error("Error starting dial out: displayName must be a string");if(j.displayName.length>=200)throw new Error("Error starting dial out: displayName length must be less than 200")}if(j.userId){if(typeof j.userId!="string")throw new Error("Error starting dial out: userId must be a string");if(j.userId.length>36)throw new Error("Error starting dial out: userId length must be less than or equal to 36")}if(gF(j),j.permissions&&j.permissions.canReceive){var B=En(wG.validateJSONObject(j.permissions.canReceive),2),D=B[0],G=B[1];if(!D)throw new Error(G)}if(j.provider){if(j.provider!=="daily")throw new Error("Error: provider can be set only to 'daily', got: ".concat(j.provider));if(j.phoneNumber)throw new Error("Error starting dial out: provider valid only for sipUri, not phoneNumber");console.warn("(pre-beta) provider=daily is currently in pre-beta, things might break!")}return new Promise(function(q,J){E.sendMessageToCallMachine(De({action:"dialout-start"},j),function(te){te.error?J(te.error):q(te)})})}),function(j){return v.apply(this,arguments)})},{key:"stopDialOut",value:function(j){var E=this;return Rt(this._callState,"stopDialOut()"),new Promise(function(C,B){E.sendMessageToCallMachine(De({action:"dialout-stop"},j),function(D){D.error?B(D.error):C(D)})})}},{key:"sipCallTransfer",value:(p=Ye(function*(j){var E=this;if(Rt(this._callState,"sipCallTransfer()"),!j)throw new Error("sipCallTransfer() requires a sessionId and toEndPoint");return j.useSipRefer=!1,yF(j,"sipCallTransfer"),gF(j),new Promise(function(C,B){E.sendMessageToCallMachine(De({action:WL},j),function(D){D.error?B(D.error):C(D)})})}),function(j){return p.apply(this,arguments)})},{key:"sipRefer",value:(g=Ye(function*(j){var E=this;if(Rt(this._callState,"sipRefer()"),!j)throw new Error("sessionId and toEndPoint are mandatory parameter");return j.useSipRefer=!0,yF(j,"sipRefer"),new Promise(function(C,B){E.sendMessageToCallMachine(De({action:WL},j),function(D){D.error?B(D.error):C(D)})})}),function(j){return g.apply(this,arguments)})},{key:"sendDTMF",value:(m=Ye(function*(j){var E=this;return Rt(this._callState,"sendDTMF()"),function(C){var B=C.sessionId,D=C.tones;if(!B||!D)throw new Error("sessionId and tones are mandatory parameter");if(typeof B!="string"||typeof D!="string")throw new Error("sessionId and tones should be of string type");if(D.length>20)throw new Error("tones string must be upto 20 characters");var G=/[^0-9A-D*#]/g,q=D.match(G);if(q&&q[0])throw new Error("".concat(q[0]," is not valid DTMF tone"))}(j),new Promise(function(C,B){E.sendMessageToCallMachine(De({action:"send-dtmf"},j),function(D){D.error?B(D.error):C(D)})})}),function(j){return m.apply(this,arguments)})},{key:"getNetworkStats",value:function(){var j=this;return this._callState!==wc?Promise.resolve(De({stats:{latest:{}}},this._network)):new Promise(function(E){j.sendMessageToCallMachine({action:"get-calc-stats"},function(C){E(De(De({},j._network),{},{stats:C.stats}))})})}},{key:"testWebsocketConnectivity",value:(h=Ye(function*(){var j=this;if(w1(this._testCallInProgress,"testWebsocketConnectivity()"),this.needsLoad())try{yield this.load()}catch(E){return Promise.reject(E)}return new Promise(function(E,C){j.sendMessageToCallMachine({action:"test-websocket-connectivity"},function(B){B.error?C(B.error):E(B.results)})})}),function(){return h.apply(this,arguments)})},{key:"abortTestWebsocketConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-websocket-connectivity"})}},{key:"_validateVideoTrackForNetworkTests",value:function(j){return j?j instanceof MediaStreamTrack?!!RUe(j)||(console.error("Video track is not playable. This test needs a live video track."),!1):(console.error("Video track needs to be of type `MediaStreamTrack`."),!1):(console.error("Missing video track. You must provide a video track in order to run this test."),!1)}},{key:"testCallQuality",value:(f=Ye(function*(){var j=this;mt(),bi(this._callObjectMode,"testCallQuality()"),oy(this._callMachineInitialized,"testCallQuality()",null,!0),b1(this._callState,this._isPreparingToJoin,"testCallQuality()");var E=this._testCallAlreadyInProgress,C=function(D){E||(j._testCallInProgress=D)};if(C(!0),this.needsLoad())try{var B=this._callState;yield this.load(),this._callState=B}catch(D){return C(!1),Promise.reject(D)}return new Promise(function(D){j.sendMessageToCallMachine({action:"test-call-quality",dailyJsVersion:j.properties.dailyJsVersion},function(G){var q=G.results,J=q.result,te=k4(q,FUe);if(J==="failed"){var Y,be=De({},te);(Y=te.error)!==null&&Y!==void 0&&Y.details?(te.error.details=JSON.parse(te.error.details),be.error=De(De({},be.error),{},{details:De({},be.error.details)}),be.error.details.duringTest="testCallQuality"):(be.error=be.error?De({},be.error):{},be.error.details={duringTest:"testCallQuality"}),j._maybeSendToSentry(be)}C(!1),D(De({result:J},te))})})}),function(){return f.apply(this,arguments)})},{key:"stopTestCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-call-quality"})}},{key:"testConnectionQuality",value:(d=Ye(function*(j){var E;pt()?(console.warn("testConnectionQuality() is deprecated: use testPeerToPeerCallQuality() instead"),E=yield this.testPeerToPeerCallQuality(j)):(console.warn("testConnectionQuality() is deprecated: use testCallQuality() instead"),E=yield this.testCallQuality());var C={result:E.result,secondsElapsed:E.secondsElapsed};return E.data&&(C.data={maxRTT:E.data.maxRoundTripTime,packetLoss:E.data.avgRecvPacketLoss}),C}),function(j){return d.apply(this,arguments)})},{key:"testPeerToPeerCallQuality",value:(u=Ye(function*(j){var E=this;if(w1(this._testCallInProgress,"testPeerToPeerCallQuality()"),this.needsLoad())try{yield this.load()}catch(D){return Promise.reject(D)}var C=j.videoTrack,B=j.duration;if(!this._validateVideoTrackForNetworkTests(C))throw new Error("Video track error");return this._sharedTracks.videoTrackForConnectionQualityTest=C,new Promise(function(D,G){E.sendMessageToCallMachine({action:"test-p2p-call-quality",duration:B},function(q){q.error?G(q.error):D(q.results)})})}),function(j){return u.apply(this,arguments)})},{key:"stopTestConnectionQuality",value:function(){pt()?(console.warn("stopTestConnectionQuality() is deprecated: use testPeerToPeerCallQuality() and stopTestPeerToPeerCallQuality() instead"),this.stopTestPeerToPeerCallQuality()):(console.warn("stopTestConnectionQuality() is deprecated: use testCallQuality() and stopTestCallQuality() instead"),this.stopTestCallQuality())}},{key:"stopTestPeerToPeerCallQuality",value:function(){this.sendMessageToCallMachine({action:"stop-test-p2p-call-quality"})}},{key:"testNetworkConnectivity",value:(c=Ye(function*(j){var E=this;if(w1(this._testCallInProgress,"testNetworkConnectivity()"),this.needsLoad())try{yield this.load()}catch(C){return Promise.reject(C)}if(!this._validateVideoTrackForNetworkTests(j))throw new Error("Video track error");return this._sharedTracks.videoTrackForNetworkConnectivityTest=j,new Promise(function(C,B){E.sendMessageToCallMachine({action:"test-network-connectivity"},function(D){D.error?B(D.error):C(D.results)})})}),function(j){return c.apply(this,arguments)})},{key:"abortTestNetworkConnectivity",value:function(){this.sendMessageToCallMachine({action:"abort-test-network-connectivity"})}},{key:"getCpuLoadStats",value:function(){var j=this;return new Promise(function(E){j._callState===wc?j.sendMessageToCallMachine({action:"get-cpu-load-stats"},function(C){E(C.cpuStats)}):E({cpuLoadState:void 0,cpuLoadStateReason:void 0,stats:{}})})}},{key:"_validateEncodingLayerHasValidProperties",value:function(j){var E;if(!(((E=Object.keys(j))===null||E===void 0?void 0:E.length)>0))throw new Error("Empty encoding is not allowed. At least one of these valid keys should be specified:"+Object.values(x1))}},{key:"_validateVideoSendSettings",value:function(j,E){var C=j==="screenVideo"?["default-screen-video","detail-optimized","motion-optimized","motion-and-detail-balanced"]:["default-video","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized","adaptive-2-layers","adaptive-3-layers"],B="Video send settings should be either an object or one of the supported presets: ".concat(C.join());if(typeof E=="string"){if(!C.includes(E))throw new Error(B)}else{if(gt(E)!=="object")throw new Error(B);if(!E.maxQuality&&!E.encodings&&E.allowAdaptiveLayers===void 0)throw new Error("Video send settings must contain at least maxQuality, allowAdaptiveLayers or encodings attribute");if(E.maxQuality&&["low","medium","high"].indexOf(E.maxQuality)===-1)throw new Error("maxQuality must be either low, medium or high");if(E.encodings){var D=!1;switch(Object.keys(E.encodings).length){case 1:D=!E.encodings.low;break;case 2:D=!E.encodings.low||!E.encodings.medium;break;case 3:D=!E.encodings.low||!E.encodings.medium||!E.encodings.high;break;default:D=!0}if(D)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.");E.encodings.low&&this._validateEncodingLayerHasValidProperties(E.encodings.low),E.encodings.medium&&this._validateEncodingLayerHasValidProperties(E.encodings.medium),E.encodings.high&&this._validateEncodingLayerHasValidProperties(E.encodings.high)}}}},{key:"validateUpdateSendSettings",value:function(j){var E=this;if(!j||Object.keys(j).length===0)throw new Error("Send settings must contain at least information for one track!");Object.entries(j).forEach(function(C){var B=En(C,2),D=B[0],G=B[1];E._validateVideoSendSettings(D,G)})}},{key:"updateSendSettings",value:function(j){var E=this;return this.validateUpdateSendSettings(j),this.needsLoad()?(this._preloadCache.sendSettings=j,{sendSettings:this._preloadCache.sendSettings}):new Promise(function(C,B){E.sendMessageToCallMachine({action:"update-send-settings",sendSettings:j},function(D){D.error?B(D.error):C(D.sendSettings)})})}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getLocalAudioLevel",value:function(){return this._localAudioLevel}},{key:"getRemoteParticipantsAudioLevel",value:function(){return this._remoteParticipantsAudioLevel}},{key:"getActiveSpeaker",value:function(){return mt(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(j){return mt(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:j}),this}},{key:"activeSpeakerMode",value:function(){return mt(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(j){return Rt(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=j,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:j}),this}},{key:"enumerateDevices",value:(l=Ye(function*(){var j=this;if(this._callObjectMode){var E=yield navigator.mediaDevices.enumerateDevices();return xu()==="Firefox"&&Qb().major>115&&Qb().major<123&&(E=E.filter(function(C){return C.kind!=="audiooutput"})),{devices:E.map(function(C){var B=JSON.parse(JSON.stringify(C));if(!pt()&&C.kind==="videoinput"&&C.getCapabilities){var D,G=C.getCapabilities();B.facing=(G==null||(D=G.facingMode)===null||D===void 0?void 0:D.length)>=1?G.facingMode[0]:void 0}return B})}}return new Promise(function(C){j.sendMessageToCallMachine({action:"enumerate-devices"},function(B){C({devices:B.devices})})})}),function(){return l.apply(this,arguments)})},{key:"sendAppMessage",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(Rt(this._callState,"sendAppMessage()"),JSON.stringify(j).length>this._maxAppMessageSize)throw new Error("Message data too large. Max size is "+this._maxAppMessageSize);return this.sendMessageToCallMachine({action:"app-msg",data:j,to:E}),this}},{key:"addFakeParticipant",value:function(j){return mt(),Rt(this._callState,"addFakeParticipant()"),this.sendMessageToCallMachine(De({action:"add-fake-participant"},j)),this}},{key:"setShowNamesMode",value:function(j){return da(this._callObjectMode,"setShowNamesMode()"),mt(),j&&j!=="always"&&j!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:j}),this)}},{key:"setShowLocalVideo",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return da(this._callObjectMode,"setShowLocalVideo()"),mt(),Rt(this._callState,"setShowLocalVideo()"),typeof j!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:j}),this._showLocalVideo=j,this)}},{key:"showLocalVideo",value:function(){return da(this._callObjectMode,"showLocalVideo()"),mt(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var j=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return da(this._callObjectMode,"setShowParticipantsBar()"),mt(),Rt(this._callState,"setShowParticipantsBar()"),typeof j!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:j}),this._showParticipantsBar=j,this)}},{key:"showParticipantsBar",value:function(){return da(this._callObjectMode,"showParticipantsBar()"),mt(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return mt(),da(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(j){return mt(),da(this._callObjectMode,"setCustomIntegrations()"),Rt(this._callState,"setCustomIntegrations()"),AG(j)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:j}),this._customIntegrations=j,this):this}},{key:"startCustomIntegrations",value:function(j){var E=this;if(mt(),da(this._callObjectMode,"startCustomIntegrations()"),Rt(this._callState,"startCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("startCustomIntegrations() only accepts string | string[]"),this;var C=typeof j=="string"?[j]:j,B=C.filter(function(D){return!(D in E._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:C}),this)}},{key:"stopCustomIntegrations",value:function(j){var E=this;if(mt(),da(this._callObjectMode,"stopCustomIntegrations()"),Rt(this._callState,"stopCustomIntegrations()"),Array.isArray(j)&&j.some(function(D){return typeof D!="string"})||!Array.isArray(j)&&typeof j!="string")return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var C=typeof j=="string"?[j]:j,B=C.filter(function(D){return!(D in E._customIntegrations)});return B.length?(console.error(`Can't find custom integration(s): "`.concat(B.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:C}),this)}},{key:"customTrayButtons",value:function(){return da(this._callObjectMode,"customTrayButtons()"),mt(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(j){return da(this._callObjectMode,"updateCustomTrayButtons()"),mt(),Rt(this._callState,"updateCustomTrayButtons()"),OG(j)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:j}),this._customTrayButtons=j,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(e0))),this)}},{key:"theme",value:function(){return da(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(j){var E=this;return da(this._callObjectMode,"setTheme()"),new Promise(function(C,B){try{E.validateProperties({theme:j}),E.properties.theme=De({},j),E.sendMessageToCallMachine({action:"set-theme",theme:E.properties.theme});try{E.emitDailyJSEvent({action:b6e,theme:E.properties.theme})}catch(D){console.log("could not emit 'theme-updated'",D)}C(E.properties.theme)}catch(D){B(D)}})}},{key:"requestFullscreen",value:(o=Ye(function*(){if(mt(),this._iframe&&!document.fullscreenElement&&HL())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(j){console.log("could not make video call fullscreen",j)}}),function(){return o.apply(this,arguments)})},{key:"exitFullscreen",value:function(){mt(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(i=Ye(function*(){var j=this;return this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise(function(E){j.sendMessageToCallMachine({action:"get-sidebar-view"},function(C){E(C.view)})})}),function(){return i.apply(this,arguments)})},{key:"setSidebarView",value:function(j){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:j}),this)}},{key:"room",value:(a=Ye(function*(){var j=this,E=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,C=E===void 0||E;return this._accessState.access===f1||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(B){j.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:C},function(D){delete D.action,delete D.callbackStamp,B(D)})})}),function(){return a.apply(this,arguments)})},{key:"geo",value:(n=Ye(function*(){try{var j=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");return{current:(yield j.json()).geo}}catch(E){return console.error("geo lookup failed",E),{current:""}}}),function(){return n.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=Ye(function*(j){var E=this;return mt(),Rt(this._callState,"setNetworkTopology()"),new Promise(function(C,B){E.sendMessageToCallMachine({action:"set-network-topology",opts:j},function(D){D.error?B({error:D.error}):C({workerId:D.workerId})})})}),function(j){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=Ye(function*(){var j=this;return new Promise(function(E,C){j.needsLoad()&&E({topology:"none"}),j.sendMessageToCallMachine({action:"get-network-topology"},function(B){B.error?C({error:B.error}):E({topology:B.topology})})})}),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(j){if(mt(),typeof j!="number"&&j!==!0&&j!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(j));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:j})}},{key:"on",value:function(j,E){return Kv.prototype.on.call(this,j,E)}},{key:"once",value:function(j,E){return Kv.prototype.once.call(this,j,E)}},{key:"off",value:function(j,E){return Kv.prototype.off.call(this,j,E)}},{key:"validateProperties",value:function(j){var E,C;if(j!=null&&(E=j.dailyConfig)!==null&&E!==void 0&&E.userMediaAudioConstraints){var B,D;pt()||console.warn("userMediaAudioConstraints is deprecated. You can override constraints with inputSettings.audio.settings, found in DailyCallOptions.");var G=j.inputSettings||{};G.audio=((B=j.inputSettings)===null||B===void 0?void 0:B.audio)||{},G.audio.settings=((D=j.inputSettings)===null||D===void 0||(D=D.audio)===null||D===void 0?void 0:D.settings)||{},G.audio.settings=De(De({},G.audio.settings),j.dailyConfig.userMediaAudioConstraints),j.inputSettings=G,delete j.dailyConfig.userMediaAudioConstraints}if(j!=null&&(C=j.dailyConfig)!==null&&C!==void 0&&C.userMediaVideoConstraints){var q,J;pt()||console.warn("userMediaVideoConstraints is deprecated. You can override constraints with inputSettings.video.settings, found in DailyCallOptions.");var te=j.inputSettings||{};te.video=((q=j.inputSettings)===null||q===void 0?void 0:q.video)||{},te.video.settings=((J=j.inputSettings)===null||J===void 0||(J=J.video)===null||J===void 0?void 0:J.settings)||{},te.video.settings=De(De({},te.video.settings),j.dailyConfig.userMediaVideoConstraints),j.inputSettings=te,delete j.dailyConfig.userMediaVideoConstraints}for(var Y in j)if(cc[Y]){if(cc[Y].validate&&!cc[Y].validate(j[Y],this))throw new Error("property '".concat(Y,"': ").concat(cc[Y].help))}else console.warn("Ignoring unrecognized property '".concat(Y,"'")),delete j[Y]}},{key:"assembleMeetingUrl",value:function(){var j,E,C=De(De({},this.properties),{},{emb:this.callClientId,embHref:encodeURIComponent(window.location.href),proxy:(j=this.properties.dailyConfig)!==null&&j!==void 0&&j.proxyUrl?encodeURIComponent((E=this.properties.dailyConfig)===null||E===void 0?void 0:E.proxyUrl):void 0}),B=C.url.match(/\?/)?"&":"?";return C.url+B+Object.keys(cc).filter(function(D){return cc[D].queryString&&C[D]!==void 0}).map(function(D){return"".concat(cc[D].queryString,"=").concat(C[D])}).join("&")}},{key:"needsLoad",value:function(){return[AL,TL,oc,Lo].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(j,E){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(j,E,this.callClientId,this._iframe)}},{key:"forwardPackagedMessageToCallMachine",value:function(j){this._messageChannel.forwardPackagedMessageToCallMachine(j,this._iframe,this.callClientId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(j){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(j,this.callClientId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(j){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(j)}},{key:"handleMessageFromCallMachine",value:function(j){switch(j.action){case y6e:this.sendMessageToCallMachine(De({action:x6e},this.properties));break;case"call-machine-initialized":this._callMachineInitialized=!0;var E={action:ay,level:"log",code:1011,stats:{event:"bundle load",time:this._bundleLoadTime==="no-op"?0:this._bundleLoadTime,preLoaded:this._bundleLoadTime==="no-op",url:qb(this.properties.dailyConfig)}};this.sendMessageToCallMachine(E),this._delayDuplicateInstanceLog&&this._logDuplicateInstanceAttempt();break;case IL:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null),this.emitDailyJSEvent(j);break;case k6e:var C,B=De({},j);delete B.internal,this._maxAppMessageSize=((C=j.internal)===null||C===void 0?void 0:C._maxAppMessageSize)||h1,this._joinedCallback&&(this._joinedCallback(j.participants),this._joinedCallback=null),this.emitDailyJSEvent(B);break;case E6e:case P6e:if(this._callState===oc)return;if(j.participant&&j.participant.session_id){var D=j.participant.local?"local":j.participant.session_id;if(this._callObjectMode){var G=this._callMachine().store;QL(j.participant,G),ZL(j.participant,G),eF(j.participant,this._participants[D],G)}try{this.maybeParticipantTracksStopped(this._participants[D],j.participant),this.maybeParticipantTracksStarted(this._participants[D],j.participant),this.maybeEventRecordingStopped(this._participants[D],j.participant),this.maybeEventRecordingStarted(this._participants[D],j.participant)}catch(ie){console.error("track events error",ie)}this.compareEqualForParticipantUpdateEvent(j.participant,this._participants[D])||(this._participants[D]=De({},j.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus(),this.emitDailyJSEvent(j))}break;case O6e:if(j.participant&&j.participant.session_id){var q=this._participants[j.participant.session_id];q&&this.maybeParticipantTracksStopped(q,null),delete this._participants[j.participant.session_id],this.emitDailyJSEvent(j)}break;case A6e:In(this._participantCounts,j.participantCounts)||(this._participantCounts=j.participantCounts,this.emitDailyJSEvent(j));break;case T6e:var J={access:j.access};j.awaitingAccess&&(J.awaitingAccess=j.awaitingAccess),In(this._accessState,J)||(this._accessState=J,this.emitDailyJSEvent(j));break;case M6e:if(j.meetingSession){this._meetingSessionSummary=j.meetingSession,this.emitDailyJSEvent(j);var te=De(De({},j),{},{action:"meeting-session-updated"});this.emitDailyJSEvent(te)}break;case BL:var Y;this._iframe&&!j.preserveIframe&&(this._iframe.src=""),this._updateCallState(Lo),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(j.errorMsg),this._loadedCallback=null),j.preserveIframe;var be=k4(j,BUe);be!=null&&(Y=be.error)!==null&&Y!==void 0&&Y.details&&(be.error.details=JSON.parse(be.error.details)),this._maybeSendToSentry(j),this._joinedCallback&&(this._joinedCallback(null,be),this._joinedCallback=null),this.emitDailyJSEvent(be);break;case C6e:this._callState!==Lo&&this._updateCallState(oc),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null),this.emitDailyJSEvent(j);break;case"selected-devices-updated":j.devices&&this.emitDailyJSEvent(j);break;case nUe:var ke=j.state,Je=j.threshold,He=j.quality,Be=ke.state,st=ke.reasons;Be===this._network.networkState&&In(st,this._network.networkStateReasons)&&Je===this._network.threshold&&He===this._network.quality||(this._network.networkState=Be,this._network.networkStateReasons=st,this._network.quality=He,this._network.threshold=Je,j.networkState=Be,st.length&&(j.networkStateReasons=st),delete j.state,this.emitDailyJSEvent(j));break;case iUe:j&&j.cpuLoadState&&this.emitDailyJSEvent(j);break;case sUe:j&&j.faceCounts!==void 0&&this.emitDailyJSEvent(j);break;case tUe:var Mt=j.activeSpeaker;this._activeSpeaker.peerId!==Mt.peerId&&(this._activeSpeaker.peerId=Mt.peerId,this.emitDailyJSEvent({action:j.action,activeSpeaker:this._activeSpeaker}));break;case"show-local-video-changed":if(this._callObjectMode)return;var St=j.show;this._showLocalVideo=St,this.emitDailyJSEvent({action:j.action,show:St});break;case rUe:var H=j.enabled;this._activeSpeakerMode!==H&&(this._activeSpeakerMode=H,this.emitDailyJSEvent({action:j.action,enabled:this._activeSpeakerMode}));break;case I6e:case R6e:case D6e:this._waitingParticipants=j.allWaitingParticipants,this.emitDailyJSEvent({action:j.action,participant:j.participant});break;case fUe:In(this._receiveSettings,j.receiveSettings)||(this._receiveSettings=j.receiveSettings,this.emitDailyJSEvent({action:j.action,receiveSettings:j.receiveSettings}));break;case LL:this._maybeUpdateInputSettings(j.inputSettings);break;case"send-settings-updated":In(this._sendSettings,j.sendSettings)||(this._sendSettings=j.sendSettings,this._preloadCache.sendSettings=null,this.emitDailyJSEvent({action:j.action,sendSettings:j.sendSettings}));break;case"local-audio-level":this._localAudioLevel=j.audioLevel,this._preloadCache.localAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case"remote-participants-audio-level":this._remoteParticipantsAudioLevel=j.participantsAudioLevel,this._preloadCache.remoteParticipantsAudioLevelObserver=null,this.emitDailyJSEvent(j);break;case Y6e:var W=j.session_id;this._rmpPlayerState[W]=j.playerState,this.emitDailyJSEvent(j);break;case X6e:delete this._rmpPlayerState[j.session_id],this.emitDailyJSEvent(j);break;case J6e:var X=j.session_id,de=this._rmpPlayerState[X];de&&this.compareEqualForRMPUpdateEvent(de,j.remoteMediaPlayerState)||(this._rmpPlayerState[X]=j.remoteMediaPlayerState,this.emitDailyJSEvent(j));break;case"custom-button-click":case"sidebar-view-changed":case"pip-started":case"pip-stopped":this.emitDailyJSEvent(j);break;case $6e:var ue=this._meetingSessionState.topology!==(j.meetingSessionState&&j.meetingSessionState.topology);this._meetingSessionState=_1(j.meetingSessionState,this._callObjectMode),(this._callObjectMode||ue)&&this.emitDailyJSEvent(j);break;case Q6e:this._isScreenSharing=!0,this.emitDailyJSEvent(j);break;case Z6e:case eUe:this._isScreenSharing=!1,this.emitDailyJSEvent(j);break;case RL:case DL:case V6e:case W6e:case H6e:case B6e:case U6e:case z6e:case j6e:case S6e:case G6e:case K6e:case"test-completed":case aUe:case q6e:case oUe:case lUe:case cUe:case uUe:case FL:case dUe:case"dialin-ready":case"dialin-connected":case"dialin-error":case"dialin-stopped":case"dialin-warning":case"dialout-connected":case"dialout-answered":case"dialout-error":case"dialout-stopped":case"dialout-warning":this.emitDailyJSEvent(j);break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(j,E){var C="record";j&&(E.local||E[C]!==!1||j[C]===E[C]||this.emitDailyJSEvent({action:DL}))}},{key:"maybeEventRecordingStarted",value:function(j,E){var C="record";j&&(E.local||E[C]!==!0||j[C]===E[C]||this.emitDailyJSEvent({action:RL}))}},{key:"_trackStatePlayable",value:function(j){return!(!j||j.state!==h6e)}},{key:"_trackChanged",value:function(j,E){return(j==null?void 0:j.id)!==(E==null?void 0:E.id)}},{key:"maybeEventTrackStopped",value:function(j,E,C){var B,D,G=(B=E==null?void 0:E.tracks[j])!==null&&B!==void 0?B:null,q=(D=C==null?void 0:C.tracks[j])!==null&&D!==void 0?D:null,J=G==null?void 0:G.track;if(J){var te=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),be=this._trackChanged(J,q==null?void 0:q.track);te&&(Y&&!be||this.emitDailyJSEvent({action:F6e,track:J,participant:C??E,type:j}))}}},{key:"maybeEventTrackStarted",value:function(j,E,C){var B,D,G=(B=E==null?void 0:E.tracks[j])!==null&&B!==void 0?B:null,q=(D=C==null?void 0:C.tracks[j])!==null&&D!==void 0?D:null,J=q==null?void 0:q.track;if(J){var te=this._trackStatePlayable(G),Y=this._trackStatePlayable(q),be=this._trackChanged(G==null?void 0:G.track,J);Y&&(te&&!be||this.emitDailyJSEvent({action:L6e,track:J,participant:C,type:j}))}}},{key:"maybeParticipantTracksStopped",value:function(j,E){if(j)for(var C in j.tracks)this.maybeEventTrackStopped(C,j,E)}},{key:"maybeParticipantTracksStarted",value:function(j,E){if(E)for(var C in E.tracks)this.maybeEventTrackStarted(C,j,E)}},{key:"compareEqualForRMPUpdateEvent",value:function(j,E){var C,B;return j.state===E.state&&((C=j.settings)===null||C===void 0?void 0:C.volume)===((B=E.settings)===null||B===void 0?void 0:B.volume)}},{key:"emitDailyJSEvent",value:function(j){try{j.callClientId=this.callClientId,this.emit(j.action,j)}catch(E){console.log("could not emit",j,E)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(j,E){return!!In(j,E)&&(!j.videoTrack||!E.videoTrack||j.videoTrack.id===E.videoTrack.id&&j.videoTrack.muted===E.videoTrack.muted&&j.videoTrack.enabled===E.videoTrack.enabled)&&(!j.audioTrack||!E.audioTrack||j.audioTrack.id===E.audioTrack.id&&j.audioTrack.muted===E.audioTrack.muted&&j.audioTrack.enabled===E.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return pt()?typeof DailyNativeUtils>"u"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(j){this._updateCallState(this._callState,j)}},{key:"_updateCallState",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(j!==this._callState||E!==this._isPreparingToJoin){var C=this._callState,B=this._isPreparingToJoin;this._callState=j,this._isPreparingToJoin=E;var D=this._callState===wc;this.updateShowAndroidOngoingMeetingNotification(D);var G=Fy(C,B),q=Fy(this._callState,this._isPreparingToJoin);G!==q&&(this.updateKeepDeviceAwake(q),this.updateDeviceAudioMode(q),this.updateNoOpRecordingEnsuringBackgroundContinuity(q))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=fF,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:f1},this._finalSummaryOfPrevSession=this._meetingSessionSummary,this._meetingSessionSummary={},this._meetingSessionState=_1(dF,this._callObjectMode),this._isScreenSharing=!1,this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._localAudioLevel=0,this._isLocalAudioLevelObserverRunning=!1,this._remoteParticipantsAudioLevel={},this._isRemoteParticipantsAudioLevelObserverRunning=!1,this._maxAppMessageSize=h1,this._callMachineInitialized=!1,this._bundleLoadTime=void 0,this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(j){pt()&&this.nativeUtils().setKeepDeviceAwake(j,this.callClientId)}},{key:"updateDeviceAudioMode",value:function(j){if(pt()&&!this.disableReactNativeAutoDeviceManagement("audio")){var E=j?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(E)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(j){if(pt()&&this.nativeUtils().setShowOngoingMeetingNotification){var E,C,B,D;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var G=this.properties.reactNativeConfig.androidInCallNotification;E=G.title,C=G.subtitle,B=G.iconName,D=G.disableForCustomOverride}D&&(j=!1),this.nativeUtils().setShowOngoingMeetingNotification(j,E,C,B,this.callClientId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(j){pt()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(j)}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){var j;if(pt()){var E=(j=this._callMachine())===null||j===void 0||(j=j.store)===null||j===void 0?void 0:j.getState();for(var C in E==null?void 0:E.streams){var B=E.streams[C];B&&B.pendingTrack&&B.pendingTrack.kind==="audio"&&(B.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(j){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[j]}},{key:"absoluteUrl",value:function(j){if(j!==void 0){var E=document.createElement("a");return E.href=j,E.href}}},{key:"sayHello",value:function(){var j="hello, world.";return console.log(j),j}},{key:"_logUseAfterDestroy",value:function(){var j=Object.values(lc)[0];if(this.needsLoad())if(j&&!j.needsLoad()){var E={action:ay,level:"error",code:this.strictMode?9995:9997};j.sendMessageToCallMachine(E)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var C={action:ay,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(C,null,this.callClientId,this._iframe)}}},{key:"_logDuplicateInstanceAttempt",value:function(){for(var j=0,E=Object.values(lc);j<E.length;j++){var C=E[j];C._callMachineInitialized?(C.sendMessageToCallMachine({action:ay,level:"warn",code:this.allowMultipleCallInstances?9993:9992}),C._delayDuplicateInstanceLog=!1):C._delayDuplicateInstanceLog=!0}}},{key:"_maybeSendToSentry",value:function(j){var E,C,B,D;if(!((E=j.error)!==null&&E!==void 0&&E.type&&(![v6e,g6e,$L].includes(j.error.type)||j.error.type===$L&&j.error.msg.includes("deleted")))){var G=(C=this.properties)!==null&&C!==void 0&&C.url?new URL(this.properties.url):void 0,q="production";G&&G.host.includes(".staging.daily")&&(q="staging");var J,te,Y,be,ke,Je=function(W){const X=[MBe(),ABe(),i6e(),n6e(),u6e(),f6e(),DBe(),d6e()];return W.autoSessionTracking!==!1&&X.push(c6e()),X}({}).filter(function(W){return!["BrowserApiErrors","Breadcrumbs","GlobalHandlers"].includes(W.name)}),He=new HBe({dsn:"https://f10f1c81e5d44a4098416c0867a8b740@o77906.ingest.sentry.io/168844",transport:JBe,stackParser:r6e,integrations:Je,environment:q}),Be=new Ml;if(Be.setClient(He),He.init(),this.session_id&&Be.setExtra("sessionId",this.session_id),this.properties){var st=De({},this.properties);st.userName=st.userName?"[Filtered]":void 0,st.userData=st.userData?"[Filtered]":void 0,st.token=st.token?"[Filtered]":void 0,Be.setExtra("properties",st)}if(G){var Mt=G.searchParams.get("domain");if(!Mt){var St=G.host.match(/(.*?)\./);Mt=St&&St[1]||""}Mt&&Be.setTag("domain",Mt)}j.error&&(Be.setTag("fatalErrorType",j.error.type),Be.setExtra("errorDetails",j.error.details),!((J=j.error.details)===null||J===void 0)&&J.uri&&Be.setTag("serverAddress",j.error.details.uri),!((te=j.error.details)===null||te===void 0)&&te.workerGroup&&Be.setTag("workerGroup",j.error.details.workerGroup),!((Y=j.error.details)===null||Y===void 0)&&Y.geoGroup&&Be.setTag("geoGroup",j.error.details.geoGroup),!((be=j.error.details)===null||be===void 0)&&be.on&&Be.setTag("connectionAttempt",j.error.details.on),(ke=j.error.details)!==null&&ke!==void 0&&ke.bundleUrl&&(Be.setTag("bundleUrl",j.error.details.bundleUrl),Be.setTag("bundleError",j.error.details.sourceError.type))),Be.setTags({callMode:this._callObjectMode?pt()?"reactNative":(B=this.properties)!==null&&B!==void 0&&(B=B.dailyConfig)!==null&&B!==void 0&&(B=B.callMode)!==null&&B!==void 0&&B.includes("prebuilt")?this.properties.dailyConfig.callMode:"custom":"prebuilt-frame",version:e.version()});var H=((D=j.error)===null||D===void 0?void 0:D.msg)||j.errorMsg;Be.captureException(new Error(H))}}},{key:"_callMachine",value:function(){var j;return(j=window._daily)===null||j===void 0||(j=j.instances)===null||j===void 0||(j=j[this.callClientId])===null||j===void 0?void 0:j.callMachine}},{key:"_maybeUpdateInputSettings",value:function(j){if(!In(this._inputSettings,j)){var E=this._getInputSettings();this._inputSettings=j;var C=this._getInputSettings();In(E,C)||this.emitDailyJSEvent({action:LL,inputSettings:C})}}}],[{key:"supportedBrowser",value:function(){if(pt())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!0,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var j=Z5e.getParser(ci());return{supported:!!g1(),mobile:j.getPlatformType()==="mobile",name:j.getBrowserName(),version:j.getBrowserVersion(),supportsFullscreen:!!HL(),supportsScreenShare:!!pUe(),supportsSfu:!!g1(),supportsVideoProcessing:uG(),supportsAudioProcessing:dG()}}},{key:"version",value:function(){return"0.85.0"}},{key:"createCallObject",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j.layout="none",new e(null,j)}},{key:"wrap",value:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(mt(),!j||!j.contentWindow||typeof j.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return E.layout||(E.customLayout?E.layout="custom-v1":E.layout="browser"),new e(j,E)}},{key:"createFrame",value:function(j,E){var C,B;mt(),j&&E?(C=j,B=E):j&&j.append?(C=j,B={}):(C=document.body,B=j||{});var D=B.iframeStyle;D||(D=C===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var G=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?G.allow="microphone, camera":G.allow="microphone; camera; autoplay; display-capture; screen-wake-lock",G.style.visibility="hidden",C.appendChild(G),G.style.visibility=null,Object.keys(D).forEach(function(q){return G.style[q]=D[q]}),B.layout||(B.customLayout?B.layout="custom-v1":B.layout="browser");try{return new e(G,B)}catch(q){throw C.removeChild(G),q}}},{key:"createTransparentFrame",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mt();var E=document.createElement("iframe");return E.allow="microphone; camera; autoplay",E.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(E),j.layout||(j.layout="custom-v1"),e.wrap(E,j)}},{key:"getCallInstance",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return j?lc[j]:Object.values(lc)[0]}}]);var t,r,n,a,i,o,l,c,u,d,f,h,m,g,p,v,b,x,w,_,S,N,k,P,A,T,I,O,L,$,F,z,V,R,U,K,re,ee}();function gF(e){if(e.extension){if(typeof e.extension!="string")throw new Error("Error starting dial out: extension must be a string");if(e.extension.length>20)throw new Error("Error starting dial out: extension length must be less than or equal to 20")}if(e.waitBeforeExtensionDialSec){if(typeof e.waitBeforeExtensionDialSec!="number")throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be a number");if(e.waitBeforeExtensionDialSec>60)throw new Error("Error starting dial out: waitBeforeExtensionDialSec must be less than or equal to 60");if(!e.extension)throw new Error("Error starting dial out: waitBeforeExtensionDialSec requires a phoneNumber and extension")}}function ed(e,t){var r={};for(var n in e)if(e[n]instanceof MediaStreamTrack)console.warn("MediaStreamTrack found in props or cache.",n),r[n]=ro;else if(n==="dailyConfig"){if(e[n].modifyLocalSdpHook){var a=window._daily.instances[t].customCallbacks||{};a.modifyLocalSdpHook=e[n].modifyLocalSdpHook,window._daily.instances[t].customCallbacks=a,delete e[n].modifyLocalSdpHook}if(e[n].modifyRemoteSdpHook){var i=window._daily.instances[t].customCallbacks||{};i.modifyRemoteSdpHook=e[n].modifyRemoteSdpHook,window._daily.instances[t].customCallbacks=i,delete e[n].modifyRemoteSdpHook}r[n]=e[n]}else r[n]=e[n];return r}function Rt(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==wc){var r="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function Fy(e,t){return[sC,wc].includes(e)||t}function b1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"This daily-js method",n=arguments.length>3?arguments[3]:void 0;if(Fy(e,t)){var a="".concat(r," not supported after joining a meeting.");throw n&&(a+=" ".concat(n)),console.error(a),new Error(a)}}function oy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method",r=arguments.length>2?arguments[2]:void 0;if(!e){var n="".concat(t,arguments.length>3&&arguments[3]!==void 0&&arguments[3]?" requires preAuth() or startCamera() to initialize call state.":" requires preAuth(), startCamera(), or join() to initialize call state.");throw r&&(n+=" ".concat(r)),console.error(n),new Error(n)}}function w1(e){if(e){var t="A pre-call quality test is in progress. Please try ".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," again once testing has completed. Use stopTestCallQuality() to end it early.");throw console.error(t),new Error(t)}}function bi(e){if(!e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function da(e){if(e){var t="".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function mt(){if(pt())throw new Error("This daily-js method is not currently supported in React Native")}function sm(){if(!pt())throw new Error("This daily-js method is only supported in React Native")}function SG(e){if(e===void 0)return!0;var t;if(typeof e=="string")t=e;else try{t=JSON.stringify(e),In(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(r){throw Error("userData must be serializable to JSON: ".concat(r))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function NG(e,t){for(var r=t.allowAllParticipantsKey,n=function(f){var h=["local"];return r||h.push("*"),f&&!h.includes(f)},a=function(f){return!!(f.layer===void 0||Number.isInteger(f.layer)&&f.layer>=0||f.layer==="inherit")},i=function(f){return!!f&&!(f.video&&!a(f.video))&&!(f.screenVideo&&!a(f.screenVideo))},o=0,l=Object.entries(e);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];if(!n(u)||!i(d))return!1}return!0}function kG(e){if(gt(e)!=="object")return!1;for(var t=0,r=Object.entries(e);t<r.length;t++){var n=En(r[t],2),a=n[0],i=n[1];switch(a){case"video":if(gt(i)!=="object")return!1;for(var o=0,l=Object.entries(i);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];switch(u){case"processor":if(!VUe(d))return!1;break;case"settings":if(!vF(d))return!1;break;default:return!1}}break;case"audio":if(gt(i)!=="object")return!1;for(var f=0,h=Object.entries(i);f<h.length;f++){var m=En(h[f],2),g=m[0],p=m[1];switch(g){case"processor":if(!zUe(p))return!1;break;case"settings":if(!vF(p))return!1;break;default:return!1}}break;default:return!1}}return!0}function CG(e,t,r){var n,a=[];e.video&&e.video.processor&&(uG((n=t==null?void 0:t.useLegacyVideoProcessor)!==null&&n!==void 0&&n)||(e.video.settings?delete e.video.processor:delete e.video,a.push("video"))),e.audio&&e.audio.processor&&(dG()||(e.audio.settings?delete e.audio.processor:delete e.audio,a.push("audio"))),a.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(a.join(", "))),e.audio&&e.audio.settings&&(e.audio.settings.customTrack?(r.audioTrack=e.audio.settings.customTrack,e.audio.settings={customTrack:ro}):delete r.audioTrack),e.video&&e.video.settings&&(e.video.settings.customTrack?(r.videoTrack=e.video.settings.customTrack,e.video.settings={customTrack:ro}):delete r.videoTrack)}function zUe(e){if(pt())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type"];return!!e&&gt(e)==="object"&&(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> audio -> processor : ".concat(r)),delete e[r]}),!!function(r){return typeof r!="string"?!1:Object.values(lG).includes(r)?!0:(console.error("inputSettings audio processor type invalid"),!1)}(e.type))}function VUe(e){if(pt())return console.warn("Video processing is not yet supported in React Native"),!1;var t=["type","config"];return!e||gt(e)!=="object"||!function(r){return typeof r!="string"?!1:Object.values(Ly).includes(r)?!0:(console.error("inputSettings video processor type invalid"),!1)}(e.type)||e.config&&(gt(e.config)!=="object"||!function(r,n){var a=Object.keys(n);if(a.length===0)return!0;var i="invalid object in inputSettings -> video -> processor -> config";switch(r){case Ly.BGBLUR:return a.length>1||a[0]!=="strength"?(console.error(i),!1):!(typeof n.strength!="number"||n.strength<=0||n.strength>1||isNaN(n.strength))||(console.error("".concat(i,"; expected: {0 < strength <= 1}, got: ").concat(n.strength)),!1);case Ly.BGIMAGE:return!(n.source!==void 0&&!function(o){if(o.source==="default")return o.type="default",!0;if(o.source instanceof ArrayBuffer)return!0;if(Gb(o.source))return o.type="url",!!function(u){var d=new URL(u),f=d.pathname;if(d.protocol==="data:")try{var h=f.substring(f.indexOf(":")+1,f.indexOf(";")).split("/")[1];return p1.includes(h)}catch(g){return console.error("failed to deduce blob content type",g),!1}var m=f.split(".").at(-1).toLowerCase().trim();return p1.includes(m)}(o.source)||(console.error("invalid image type; supported types: [".concat(p1.join(", "),"]")),!1);return l=o.source,c=Number(l),isNaN(c)||!Number.isInteger(c)||c<=0||c>10?(console.error("invalid image selection; must be an int, > 0, <= ".concat(10)),!1):(o.type="daily-preselect",!0);var l,c}(n));default:return!0}}(e.type,e.config))?!1:(Object.keys(e).filter(function(r){return!t.includes(r)}).forEach(function(r){console.warn("invalid key inputSettings -> video -> processor : ".concat(r)),delete e[r]}),!0)}function vF(e){return gt(e)==="object"&&(!e.customTrack||e.customTrack instanceof MediaStreamTrack)}function hC(){var e=Object.values(Ly).join(" | "),t=Object.values(lG).join(" | ");return"inputSettings must be of the form: { video?: { processor?: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function EG(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(p6e).concat(t?' | "'.concat("*",'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function PG(){return"customIntegrations should be an object of type ".concat(JSON.stringify(fC),".")}function OG(e){if(e&&gt(e)!=="object"||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(e0),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=En(r[t],1)[0],a=0,i=Object.entries(e[n]);a<i.length;a++){var o=En(i[a],2),l=o[0],c=o[1],u=e0.id[l];if(!u)return console.error("customTrayButton does not support key ".concat(l)),!1;switch(l){case"iconPath":case"iconPathDarkMode":if(!Gb(c))return console.error("customTrayButton ".concat(l," should be a url.")),!1;break;case"visualState":if(!["default","sidebar-open","active"].includes(c))return console.error("customTrayButton ".concat(l," should be ").concat(u,". Got: ").concat(c)),!1;break;default:if(gt(c)!==u)return console.error("customTrayButton ".concat(l," should be a ").concat(u,".")),!1}}return!0}function AG(e){if(!e||e&&gt(e)!=="object"||Array.isArray(e))return console.error(PG()),!1;for(var t=function(f){return"".concat(f," should be ").concat(fC.id[f])},r=function(f,h){return console.error("customIntegration ".concat(f,": ").concat(h))},n=0,a=Object.entries(e);n<a.length;n++){var i=En(a[n],1)[0];if(!("label"in e[i]))return r(i,"label is required"),!1;if(!("location"in e[i]))return r(i,"location is required"),!1;if(!("src"in e[i])&&!("srcdoc"in e[i]))return r(i,"src or srcdoc is required"),!1;for(var o=0,l=Object.entries(e[i]);o<l.length;o++){var c=En(l[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if(typeof d!="string")return r(i,t(u)),!1;break;case"iconURL":if(!Gb(d))return r(i,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(!Gb(d))return r(i,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[i])return r(i,"cannot have both src and srcdoc"),!1;if(typeof d!="string")return r(i,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(i,t(u)),!1;break;case"controlledBy":if(d!=="*"&&d!=="owners"&&(!Array.isArray(d)||d.some(function(f){return typeof f!="string"})))return r(i,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some(function(f){return typeof f!="string"}))&&d!=="owners"&&typeof d!="boolean")return r(i,t(u)),!1;break;default:if(!fC.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function TG(e,t){if(t===void 0)return!1;switch(gt(t)){case"string":return gt(e)===t;case"object":if(gt(e)!=="object")return!1;for(var r in e)if(!TG(e[r],t[r]))return!1;return!0;default:return!1}}function yF(e,t){var r=e.sessionId,n=e.toEndPoint,a=e.callerId,i=e.useSipRefer;if(!r||!n)throw new Error("".concat(t,"() requires a sessionId and toEndPoint"));if(typeof r!="string"||typeof n!="string")throw new Error("Invalid paramater: sessionId and toEndPoint must be of type string");if(i&&!n.startsWith("sip:"))throw new Error('"toEndPoint" must be a "sip" address');if(!n.startsWith("sip:")&&!n.startsWith("+"))throw new Error("toEndPoint: ".concat(n,' must starts with either "sip:" or "+"'));if(a&&typeof a!="string")throw new Error("callerId must be of type string");if(a&&!n.startsWith("+"))throw new Error("callerId is only valid when transferring to a PSTN number")}function xF(e){if(gt(e)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(oC).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(oC));if(e.volume){if(typeof e.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function bF(e,t,r){return!(typeof e!="number"||e<t||e>r)}function _1(e,t){return e&&!t&&delete e.data,e}const WUe=()=>{const[e]=DE(),t=On(),{user:r,profile:n,role:a}=$r(),i=e.get("appointment"),[o,l]=y.useState(!0),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(null),[g,p]=y.useState(null),[v,b]=y.useState(null),[x,w]=y.useState(!1),[_,S]=y.useState(!1),N=y.useRef(null),k=y.useRef(null);y.useEffect(()=>{(async()=>{if(!i||!r){f("No appointment specified"),l(!1);return}try{const{data:L,error:$}=await Pe.from("appointments").select("*").eq("id",i).single();if($||!L){f("Appointment not found"),l(!1);return}const F=L.patient_id===r.id,z=L.clinician_id===r.id,V=a&&["admin","receptionist"].includes(a);if(!F&&!z&&!V){f("You are not authorized to join this consultation"),l(!1);return}const[R,U]=await Promise.all([Pe.from("profiles").select("first_name, last_name").eq("id",L.patient_id).single(),Pe.from("profiles").select("first_name, last_name").eq("id",L.clinician_id).single()]);m({...L,patient_name:R.data?`${R.data.first_name} ${R.data.last_name}`.trim():"Patient",clinician_name:U.data?`${U.data.first_name} ${U.data.last_name}`.trim():"Clinician"});const K=await UM.createRoom(i),re=n?`${n.first_name} ${n.last_name}`.trim():a==="patient"?"Patient":"Clinician",ee=await UM.createToken(K.room_name,re,a!=="patient");p(ee.room_url),b(ee.token),L.status!=="in_progress"&&await Pe.from("appointments").update({status:"in_progress"}).eq("id",i)}catch(L){console.error("Error setting up video call:",L),f(L.message||"Failed to set up video consultation")}finally{l(!1)}})()},[i,r,n,a]),y.useEffect(()=>()=>{k.current&&(k.current.destroy(),k.current=null)},[]);const P=y.useCallback(async()=>{if(!(!g||!v)){if(u(!0),await new Promise(O=>setTimeout(O,100)),!N.current){f("Video container not ready"),u(!1);return}try{const O=pF.getCallInstance();O&&await O.destroy();const L=pF.createFrame(N.current,{iframeStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"0"},showLeaveButton:!0,showFullscreenButton:!0});k.current=L,L.on("joined-meeting",()=>{console.log("Joined Daily meeting"),le.success("Connected to consultation"),w(!0)}),L.on("left-meeting",()=>{console.log("Left Daily meeting"),A()}),L.on("error",$=>{console.error("Daily error:",$),le.error("Video call error occurred"),f("Video call error: "+(($==null?void 0:$.errorMsg)||"Unknown error")),w(!1),u(!1)}),L.on("participant-joined",$=>{var F,z;console.log("Participant joined:",(F=$==null?void 0:$.participant)==null?void 0:F.user_name),(z=$==null?void 0:$.participant)!=null&&z.user_name&&le.info(`${$.participant.user_name} joined the call`)}),L.on("participant-left",$=>{var F,z,V;console.log("Participant left:",(F=$==null?void 0:$.participant)==null?void 0:F.user_name),(z=$==null?void 0:$.participant)!=null&&z.user_name&&!((V=$==null?void 0:$.participant)!=null&&V.local)&&le.info(`${$.participant.user_name} left the call`)}),await L.join({url:g,token:v}),u(!1)}catch(O){console.error("Failed to join Daily call:",O),f("Failed to join video call: "+(O.message||"Unknown error")),le.error("Failed to join video call"),u(!1)}}},[g,v]),A=async()=>{if(k.current){try{await k.current.destroy()}catch(O){console.error("Error destroying call frame:",O)}k.current=null}w(!1),S(!0),h&&await Pe.from("appointments").update({status:"completed"}).eq("id",h.id)},T=async()=>{if(k.current)try{await k.current.leave()}catch(O){console.error("Error leaving call:",O)}u(!1),A()},I=()=>{t(a==="patient"?"/patient":a==="nurse"||a==="doctor"?"/clinician":"/")};return o?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(lt,{className:"w-12 h-12 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"text-muted-foreground",children:"Setting up your consultation..."})]})}):d?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(se,{className:"max-w-md w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(Su,{className:"w-12 h-12 text-destructive mx-auto mb-2"}),s.jsx(xe,{children:"Unable to Join"}),s.jsx(Se,{children:d})]}),s.jsx(ce,{children:s.jsxs(Z,{onClick:I,className:"w-full",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})})]})}):_?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:s.jsxs(se,{className:"max-w-md w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(tr,{className:"w-12 h-12 text-primary mx-auto mb-2"}),s.jsx(xe,{children:"Consultation Ended"}),s.jsx(Se,{children:"Your video consultation has ended successfully."})]}),s.jsxs(ce,{className:"space-y-4",children:[a!=="patient"&&s.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>t(`/clinician?notes=${i}`),children:"Complete Clinical Notes"}),s.jsxs(Z,{onClick:I,className:"w-full",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Return to Dashboard"]})]})]})}):x||c?s.jsxs("div",{className:"fixed inset-0 bg-black",children:[s.jsx("div",{ref:N,className:"w-full h-full",style:{position:"relative"}}),s.jsxs(Z,{variant:"destructive",size:"sm",className:"absolute bottom-4 right-4 z-50",onClick:T,children:[s.jsx(yE,{className:"w-4 h-4 mr-2"}),"Leave Call"]})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary/5 flex items-center justify-center p-4",children:s.jsxs(se,{className:"max-w-lg w-full",children:[s.jsxs(me,{className:"text-center",children:[s.jsx(tr,{className:"w-16 h-16 text-primary mx-auto mb-4"}),s.jsx(xe,{className:"text-2xl",children:"Ready to Join?"}),s.jsx(Se,{children:a==="patient"?`Your consultation with ${h==null?void 0:h.clinician_name}`:`Consultation with ${h==null?void 0:h.patient_name}`})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qt,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Scheduled Time"}),s.jsx("p",{className:"font-medium",children:h!=null&&h.scheduled_at?new Date(h.scheduled_at).toLocaleString():"N/A"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wr,{className:"w-5 h-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:a==="patient"?"Clinician":"Patient"}),s.jsx("p",{className:"font-medium",children:a==="patient"?h==null?void 0:h.clinician_name:h==null?void 0:h.patient_name})]})]})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Before joining, please ensure:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[s.jsx("li",{children:"You're in a quiet, private location"}),s.jsx("li",{children:"Your camera and microphone are working"}),s.jsx("li",{children:"You have a stable internet connection"})]})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(Ne,{variant:"outline",className:"text-green-600 border-green-600",children:"Room Ready"})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs(Z,{size:"lg",onClick:P,className:"w-full",children:[s.jsx(tr,{className:"w-5 h-5 mr-2"}),"Join Consultation"]}),s.jsxs(Z,{variant:"outline",onClick:I,className:"w-full",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]})})},HUe=()=>s.jsx(WUe,{}),qUe=()=>{const[e,t]=y.useState({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null}),r=y.useRef(null),n=y.useRef(null),a=y.useCallback(()=>{e.localStream&&e.localStream.getTracks().forEach(d=>d.stop()),e.remoteStream&&e.remoteStream.getTracks().forEach(d=>d.stop())},[e.localStream,e.remoteStream]),i=y.useCallback(d=>{const f=document.createElement("canvas");f.width=1280,f.height=720,n.current=f;const h=f.getContext("2d"),m=document.createElement("video");m.srcObject=d,m.muted=!0,m.play(),r.current=m;const g=()=>{h&&m.readyState>=2&&(h.save(),h.scale(-1,1),h.drawImage(m,-f.width,0,f.width,f.height),h.restore(),h.fillStyle="rgba(0, 100, 200, 0.03)",h.fillRect(0,0,f.width,f.height)),requestAnimationFrame(g)};g();const p=f.captureStream(30),v=d.getAudioTracks()[0];return v&&p.addTrack(v.clone()),p},[]),o=y.useCallback(async()=>{t(d=>({...d,isConnecting:!0,error:null}));try{const d=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});t(h=>({...h,localStream:d})),await new Promise(h=>setTimeout(h,1500));const f=i(d);t(h=>({...h,remoteStream:f,isConnected:!0,isConnecting:!1}))}catch(d){console.error("Failed to start demo call:",d),t(f=>({...f,isConnecting:!1,error:d.message||"Failed to access camera/microphone"}))}},[i]),l=y.useCallback(async()=>{a(),t({localStream:null,remoteStream:null,isConnected:!1,isConnecting:!1,isMuted:!1,isVideoOff:!1,error:null})},[a]),c=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getAudioTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isMuted:!d.enabled})))}},[e.localStream]),u=y.useCallback(()=>{if(e.localStream){const d=e.localStream.getVideoTracks()[0];d&&(d.enabled=!d.enabled,t(f=>({...f,isVideoOff:!d.enabled})))}},[e.localStream]);return y.useEffect(()=>()=>{a()},[a]),{...e,startCall:o,endCall:l,toggleMute:c,toggleVideo:u}},j1=({stream:e,muted:t=!1,isLocal:r=!1,isVideoOff:n=!1,userName:a="Participant",className:i=""})=>{const o=y.useRef(null);y.useEffect(()=>{o.current&&e&&(o.current.srcObject=e)},[e]);const l=a.split(" ").map(c=>c[0]).join("").toUpperCase();return!e||n?s.jsxs("div",{className:`relative bg-muted flex items-center justify-center ${i}`,children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Y0,{className:"w-24 h-24 mx-auto mb-4",children:s.jsx(J0,{className:"bg-primary/20 text-primary text-2xl",children:l||s.jsx(Wr,{className:"w-12 h-12"})})}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(yE,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Camera off"})]})]}),r&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 px-2 py-1 rounded text-xs",children:"You"})]}):s.jsxs("div",{className:`relative bg-black ${i}`,children:[s.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:t,className:`w-full h-full object-cover ${r?"transform -scale-x-100":""}`,style:{imageRendering:"auto",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"}}),r&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:"You"}),!r&&a&&s.jsx("div",{className:"absolute bottom-4 left-4 bg-background/80 backdrop-blur-sm px-3 py-1.5 rounded-lg text-xs font-medium",children:a})]})},GUe=({isMuted:e,isVideoOff:t,onToggleMute:r,onToggleVideo:n,onEndCall:a,isConnected:i})=>s.jsxs("div",{className:"flex items-center justify-center gap-4 p-4 bg-background/80 backdrop-blur-sm rounded-full",children:[s.jsx(Z,{variant:e?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:r,title:e?"Unmute":"Mute",children:e?s.jsx($X,{className:"w-6 h-6"}):s.jsx(IX,{className:"w-6 h-6"})}),s.jsx(Z,{variant:t?"destructive":"secondary",size:"lg",className:"rounded-full w-14 h-14",onClick:n,title:t?"Turn on camera":"Turn off camera",children:t?s.jsx(yE,{className:"w-6 h-6"}):s.jsx(tr,{className:"w-6 h-6"})}),s.jsx(Z,{variant:"destructive",size:"lg",className:"rounded-full w-14 h-14",onClick:a,title:"End call",children:s.jsx(FX,{className:"w-6 h-6"})})]}),KUe=()=>{const e=On(),[t,r]=y.useState(0),[n,a]=y.useState(!1),[i,o]=y.useState(!0),{localStream:l,remoteStream:c,isConnected:u,isConnecting:d,isMuted:f,isVideoOff:h,error:m,startCall:g,endCall:p,toggleMute:v,toggleVideo:b}=qUe();y.useEffect(()=>{let N;return u&&(N=setInterval(()=>{r(k=>k+1)},1e3)),()=>clearInterval(N)},[u]);const x=N=>{const k=Math.floor(N/60),P=N%60;return`${k.toString().padStart(2,"0")}:${P.toString().padStart(2,"0")}`},w=async()=>{await g(),m||(o(!1),le.success("Demo consultation started!"))},_=async()=>{await p(),le.info("Demo ended"),e(-1)},S=()=>{document.fullscreenElement?(document.exitFullscreen(),a(!1)):(document.documentElement.requestFullscreen(),a(!0))};return i&&!u?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs(se,{className:"w-full max-w-2xl",children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"flex items-center justify-center gap-2 mb-2",children:s.jsxs(Ne,{variant:"outline",className:"bg-warning/10 text-warning border-warning",children:[s.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo Mode"]})}),s.jsx(xe,{className:"text-2xl",children:"Video Consultation Demo"}),s.jsx(Se,{children:"Test the video consultation features without needing a second account. Your camera will be mirrored to simulate a remote participant."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden relative",children:l?s.jsx(j1,{stream:l,muted:!0,isLocal:!0,userName:"Your Preview",className:"w-full h-full"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(tr,{className:"w-12 h-12 mb-2 opacity-50"}),s.jsx("p",{children:"Camera preview will appear here"})]})}),s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4 space-y-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:"What you can test:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Camera and microphone access"}),s.jsx("li",{children:" Video/audio mute controls"}),s.jsx("li",{children:" Picture-in-picture layout"}),s.jsx("li",{children:" Fullscreen mode"}),s.jsx("li",{children:" Call duration timer"})]})]}),m&&s.jsx("div",{className:"bg-destructive/10 text-destructive rounded-lg p-4 text-sm",children:m}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(Z,{variant:"outline",onClick:()=>e(-1),className:"flex-1",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsx(Z,{onClick:w,disabled:d,className:"flex-1 gradient-primary",children:d?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vE,{className:"w-4 h-4 mr-2"}),"Start Demo"]})})]})]})]})}):s.jsxs("div",{className:"min-h-screen bg-black flex flex-col",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 flex items-center justify-between bg-gradient-to-b from-black/50 to-transparent",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:_,className:"text-white",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Leave Demo"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ne,{variant:"outline",className:"bg-warning/20 text-warning border-warning",children:[s.jsx(Wn,{className:"w-3 h-3 mr-1"}),"Demo"]}),s.jsxs(Ne,{variant:"secondary",className:"bg-white/20 text-white",children:[s.jsx(qt,{className:"w-3 h-3 mr-1"}),x(t)]}),s.jsx(Z,{variant:"ghost",size:"sm",onClick:S,className:"text-white",children:n?s.jsx(RX,{className:"w-4 h-4"}):s.jsx(MX,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(j1,{stream:c,userName:"Simulated Remote",className:"w-full h-full"}),s.jsx("div",{className:"absolute bottom-24 right-4 w-48 aspect-video rounded-lg overflow-hidden shadow-xl border-2 border-white/20",children:s.jsx(j1,{stream:l,muted:!0,isLocal:!0,isVideoOff:h,userName:"You",className:"w-full h-full"})})]}),s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10",children:s.jsx(GUe,{isMuted:f,isVideoOff:h,onToggleMute:v,onToggleVideo:b,onEndCall:_,isConnected:u})})]})},YUe=()=>s.jsx(KUe,{});var l_="Checkbox",[JUe]=gn(l_),[XUe,hA]=JUe(l_);function QUe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Wi({prop:r,defaultProp:a??!1,onChange:c,caller:l_}),[g,p]=y.useState(null),[v,b]=y.useState(null),x=y.useRef(!1),w=g?!!o||!!g.closest("form"):!0,_={checked:h,disabled:i,setChecked:m,control:g,setControl:p,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Sl(a)?!1:a,isFormControl:w,bubbleInput:v,setBubbleInput:b};return s.jsx(XUe,{scope:t,..._,children:ZUe(f)?f(_):n})}var MG="CheckboxTrigger",$G=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:g}=hA(MG,e),p=Ke(a,d),v=y.useRef(c);return y.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const x=()=>f(v.current);return b.addEventListener("reset",x),()=>b.removeEventListener("reset",x)}},[i,f]),s.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Sl(c)?"mixed":c,"aria-required":u,"data-state":FG(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:he(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:he(r,b=>{f(x=>Sl(x)?!0:!x),g&&m&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});$G.displayName=MG;var mA=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return s.jsx(QUe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx($G,{...f,ref:t,__scopeCheckbox:r}),h&&s.jsx(LG,{__scopeCheckbox:r})]})})});mA.displayName=l_;var IG="CheckboxIndicator",RG=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=hA(IG,r);return s.jsx(Hr,{present:n||Sl(i.checked)||i.checked===!0,children:s.jsx(Me.span,{"data-state":FG(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});RG.displayName=IG;var DG="CheckboxBubbleInput",LG=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=hA(DG,e),g=Ke(r,m),p=L0(i),v=k0(n);y.useEffect(()=>{const x=h;if(!x)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,N=!a.current;if(p!==i&&S){const k=new Event("click",{bubbles:N});x.indeterminate=Sl(i),S.call(x,Sl(i)?!1:i),x.dispatchEvent(k)}},[h,p,i,a]);const b=y.useRef(Sl(i)?!1:i);return s.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:g,style:{...t.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});LG.displayName=DG;function ZUe(e){return typeof e=="function"}function Sl(e){return e==="indeterminate"}function FG(e){return Sl(e)?"indeterminate":e?"checked":"unchecked"}const Od=y.forwardRef(({className:e,...t},r)=>s.jsx(mA,{ref:r,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(RG,{className:ve("flex items-center justify-center text-current"),children:s.jsx(mE,{className:"h-4 w-4"})})}));Od.displayName=mA.displayName;const S1="",e8e=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],t8e=["A+","A-","B+","B-","O+","O-","AB+","AB-","unknown"],r8e=["Penicillin","Sulfa drugs","Aspirin","NSAIDs","Codeine","Peanuts","Tree nuts","Shellfish","Eggs","Milk","Wheat","Latex","Bee stings","Pollen","Dust mites"],n8e=["Diabetes Type 1","Diabetes Type 2","Hypertension","Asthma","COPD","Heart Disease","Epilepsy","Arthritis","HIV/AIDS","Thyroid Disorder","Depression","Anxiety","Cancer"],a8e=({onComplete:e,prefilledIdType:t="sa_id",prefilledIdNumber:r,prefilledPassportNumber:n,prefilledPassportCountry:a,prefilledData:i})=>{const[o,l]=y.useState(1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,m]=y.useState(i||null),[g,p]=y.useState({first_name:"",last_name:"",id_type:t,id_number:r||"",passport_number:n||"",passport_country:a||"",date_of_birth:(i==null?void 0:i.date_of_birth)||"",gender:(i==null?void 0:i.gender)||"",email:"",phone:"",alternative_phone:"",address_line_1:"",address_line_2:"",city:"",province:"",postal_code:"",emergency_contact_name:"",emergency_contact_relationship:"",emergency_contact_phone:"",has_medical_aid:!1,medical_aid_scheme:"",medical_aid_number:"",medical_aid_plan:"",medical_aid_dependent_code:"00",allergies:[],chronic_conditions:[],current_medications:[],past_surgeries:[],blood_type:"unknown",smoking_status:"never",alcohol_use:"none",consent_telehealth:!1,consent_data_processing:!1,consent_marketing:!1});y.useEffect(()=>{p(N=>({...N,id_type:t,id_number:r||N.id_number,passport_number:n||N.passport_number,passport_country:a||N.passport_country,date_of_birth:(i==null?void 0:i.date_of_birth)||N.date_of_birth,gender:(i==null?void 0:i.gender)||N.gender})),i&&m(i)},[t,r,n,a,i]),y.useEffect(()=>{v()},[]);const v=async()=>{try{const k=await(await fetch(`${S1}/api/patient/medical-aid-schemes`)).json();f(k.schemes||[])}catch(N){console.error("Failed to fetch schemes:",N)}},b=async N=>{if(N.length===13)try{const P=await(await fetch(`${S1}/api/patient/validate-id?id_number=${N}`,{method:"POST"})).json();m(P),P.valid?(p(A=>({...A,date_of_birth:P.date_of_birth,gender:P.gender})),le.success("ID number validated successfully")):le.error(P.error||"Invalid ID number")}catch(k){console.error("ID validation failed:",k)}},x=async()=>{u(!0);try{const{supabase:N}=await yo(async()=>{const{supabase:T}=await Promise.resolve().then(()=>go);return{supabase:T}},void 0),{data:{session:k}}=await N.auth.getSession();if(!(k!=null&&k.access_token)){le.error("Please sign in to continue");return}const P={first_name:g.first_name,last_name:g.last_name,id_type:g.id_type,id_number:g.id_type==="sa_id"?g.id_number:null,passport_number:g.id_type==="passport"?g.passport_number:null,passport_country:g.id_type==="passport"?g.passport_country:null,date_of_birth:g.date_of_birth,gender:g.gender,email:g.email,phone:g.phone,alternative_phone:g.alternative_phone||null,address_line_1:g.address_line_1||null,address_line_2:g.address_line_2||null,city:g.city||null,province:g.province||null,postal_code:g.postal_code||null,emergency_contact:g.emergency_contact_name?{name:g.emergency_contact_name,relationship:g.emergency_contact_relationship,phone:g.emergency_contact_phone}:null,has_medical_aid:g.has_medical_aid,medical_aid:g.has_medical_aid?{scheme:g.medical_aid_scheme,membership_number:g.medical_aid_number,plan:g.medical_aid_plan||null,dependent_code:g.medical_aid_dependent_code}:null,medical_history:{allergies:g.allergies,chronic_conditions:g.chronic_conditions,current_medications:g.current_medications.map(T=>({name:T,dosage:"",frequency:""})),past_surgeries:g.past_surgeries,blood_type:g.blood_type},consent_telehealth:g.consent_telehealth,consent_data_processing:g.consent_data_processing,consent_marketing:g.consent_marketing},A=await fetch(`${S1}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.access_token}`},body:JSON.stringify(P)});if(!A.ok){const T=await A.json();throw new Error(T.detail||"Onboarding failed")}le.success("Profile completed successfully!"),e==null||e()}catch(N){le.error(N.message||"Failed to complete onboarding")}finally{u(!1)}},w=5,_=o/w*100,S=d.find(N=>N.code===g.medical_aid_scheme);return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx(lu,{value:_,className:"h-2"}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Step ",o," of ",w]})]}),o===1&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Personal Information"]}),s.jsx(Se,{children:"Tell us about yourself"})]}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Ze,{id:"first_name",value:g.first_name,onChange:N=>p({...g,first_name:N.target.value}),placeholder:"Enter first name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(Ze,{id:"last_name",value:g.last_name,onChange:N=>p({...g,last_name:N.target.value}),placeholder:"Enter last name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{htmlFor:"id_number",className:"flex items-center gap-2",children:[s.jsx(CX,{className:"w-4 h-4"}),"South African ID Number *"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ze,{id:"id_number",value:g.id_number,onChange:N=>{const k=N.target.value.replace(/\D/g,"").slice(0,13);p({...g,id_number:k}),k.length===13&&b(k)},placeholder:"13-digit ID number",maxLength:13}),(h==null?void 0:h.valid)&&s.jsxs(Ne,{className:"bg-success shrink-0",children:[s.jsx(rn,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(h==null?void 0:h.valid)&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["DOB: ",h.date_of_birth," | Gender: ",h.gender," | Age: ",h.age]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"email",children:"Email *"}),s.jsx(Ze,{id:"email",type:"email",value:g.email,onChange:N=>p({...g,email:N.target.value}),placeholder:"your@email.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"phone",children:"Phone Number *"}),s.jsx(Ze,{id:"phone",value:g.phone,onChange:N=>p({...g,phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]})]}),o===2&&s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(_B,{className:"w-5 h-5 text-primary"}),"Address & Emergency Contact"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Address Line 1"}),s.jsx(Ze,{value:g.address_line_1,onChange:N=>p({...g,address_line_1:N.target.value}),placeholder:"Street address"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"City"}),s.jsx(Ze,{value:g.city,onChange:N=>p({...g,city:N.target.value}),placeholder:"City"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Province"}),s.jsxs(or,{value:g.province,onValueChange:N=>p({...g,province:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select province"})}),s.jsx(Zt,{children:e8e.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]})]}),s.jsx(Dx,{className:"my-4"}),s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4"}),"Emergency Contact"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Contact Name"}),s.jsx(Ze,{value:g.emergency_contact_name,onChange:N=>p({...g,emergency_contact_name:N.target.value}),placeholder:"Full name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Relationship"}),s.jsx(Ze,{value:g.emergency_contact_relationship,onChange:N=>p({...g,emergency_contact_relationship:N.target.value}),placeholder:"e.g., Spouse, Parent"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Contact Phone"}),s.jsx(Ze,{value:g.emergency_contact_phone,onChange:N=>p({...g,emergency_contact_phone:N.target.value}),placeholder:"0XX XXX XXXX"})]})]})]}),o===3&&s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(bg,{className:"w-5 h-5 text-primary"}),"Medical Aid Details"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Od,{id:"has_medical_aid",checked:g.has_medical_aid,onCheckedChange:N=>p({...g,has_medical_aid:!!N})}),s.jsx(fe,{htmlFor:"has_medical_aid",children:"I have medical aid coverage"})]}),g.has_medical_aid&&s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Medical Aid Scheme *"}),s.jsxs(or,{value:g.medical_aid_scheme,onValueChange:N=>p({...g,medical_aid_scheme:N,medical_aid_plan:""}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your medical aid"})}),s.jsx(Zt,{children:d.map(N=>s.jsx(Fe,{value:N.code,children:N.name},N.code))})]})]}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Plan"}),s.jsxs(or,{value:g.medical_aid_plan,onValueChange:N=>p({...g,medical_aid_plan:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your plan"})}),s.jsx(Zt,{children:S.plans.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Membership Number *"}),s.jsx(Ze,{value:g.medical_aid_number,onChange:N=>p({...g,medical_aid_number:N.target.value}),placeholder:"Your member number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Dependent Code"}),s.jsx(Ze,{value:g.medical_aid_dependent_code,onChange:N=>p({...g,medical_aid_dependent_code:N.target.value}),placeholder:"00 for main member"})]})]})]}),!g.has_medical_aid&&s.jsx("p",{className:"text-sm text-muted-foreground p-4 bg-muted rounded-lg",children:"No problem! You can still use our services as a cash-pay patient."})]})]}),o===4&&s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(gE,{className:"w-5 h-5 text-primary"}),"Medical History"]}),s.jsx(Se,{children:"This information helps us provide better care"})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-4 h-4 text-warning"}),"Allergies"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r8e.map(N=>s.jsx(Ne,{variant:g.allergies.some(k=>k.allergen===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.allergies.some(P=>P.allergen===N);p(k?{...g,allergies:g.allergies.filter(P=>P.allergen!==N)}:{...g,allergies:[...g.allergies,{allergen:N,reaction:"",severity:"mild"}]})},children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(fe,{className:"flex items-center gap-2",children:[s.jsx(Ur,{className:"w-4 h-4"}),"Chronic Conditions"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n8e.map(N=>s.jsx(Ne,{variant:g.chronic_conditions.some(k=>k.condition===N)?"default":"outline",className:"cursor-pointer",onClick:()=>{const k=g.chronic_conditions.some(P=>P.condition===N);p(k?{...g,chronic_conditions:g.chronic_conditions.filter(P=>P.condition!==N)}:{...g,chronic_conditions:[...g.chronic_conditions,{condition:N}]})},children:N},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Blood Type"}),s.jsxs(or,{value:g.blood_type,onValueChange:N=>p({...g,blood_type:N}),children:[s.jsx(Qt,{className:"w-[200px]",children:s.jsx(lr,{})}),s.jsx(Zt,{children:t8e.map(N=>s.jsx(Fe,{value:N,children:N},N))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Smoking Status"}),s.jsxs(or,{value:g.smoking_status,onValueChange:N=>p({...g,smoking_status:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"never",children:"Never smoked"}),s.jsx(Fe,{value:"former",children:"Former smoker"}),s.jsx(Fe,{value:"current",children:"Current smoker"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Alcohol Use"}),s.jsxs(or,{value:g.alcohol_use,onValueChange:N=>p({...g,alcohol_use:N}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"none",children:"None"}),s.jsx(Fe,{value:"occasional",children:"Occasional"}),s.jsx(Fe,{value:"moderate",children:"Moderate"}),s.jsx(Fe,{value:"heavy",children:"Heavy"})]})]})]})]})]})]}),o===5&&s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-primary"}),"Terms & Consent"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_telehealth",checked:g.consent_telehealth,onCheckedChange:N=>p({...g,consent_telehealth:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_telehealth",className:"font-medium",children:"Telehealth Consent *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to receive healthcare services via telehealth (video/audio consultation) and understand the limitations compared to in-person visits."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_data",checked:g.consent_data_processing,onCheckedChange:N=>p({...g,consent_data_processing:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_data",className:"font-medium",children:"Data Processing Consent (POPIA) *"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I consent to the collection, storage, and processing of my personal and health information in accordance with POPIA and the National Health Act."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[s.jsx(Od,{id:"consent_marketing",checked:g.consent_marketing,onCheckedChange:N=>p({...g,consent_marketing:!!N})}),s.jsxs("div",{children:[s.jsx(fe,{htmlFor:"consent_marketing",className:"font-medium",children:"Marketing Communications (Optional)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"I would like to receive health tips, appointment reminders, and promotional offers via email/SMS."})]})]})]})]}),s.jsxs("div",{className:"flex justify-between mt-6",children:[s.jsxs(Z,{variant:"outline",onClick:()=>l(N=>N-1),disabled:o===1,children:[s.jsx(pE,{className:"w-4 h-4 mr-2"}),"Back"]}),o<w?s.jsxs(Z,{onClick:()=>l(N=>N+1),children:["Next",s.jsx(df,{className:"w-4 h-4 ml-2"})]}):s.jsx(Z,{onClick:x,disabled:c||!g.consent_telehealth||!g.consent_data_processing,children:c?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"})," Complete Registration"]})})]})]})},ly="",i8e=()=>{var L,$;const e=On(),{profile:t,onboardingComplete:r,refreshProfile:n,isLoading:a}=$r(),[i,o]=y.useState("check"),[l,c]=y.useState("sa_id"),[u,d]=y.useState(""),[f,h]=y.useState(""),[m,g]=y.useState(""),[p,v]=y.useState(""),[b,x]=y.useState(!1),[w,_]=y.useState(null),[S,N]=y.useState(null),[k,P]=y.useState([]);y.useEffect(()=>{A()},[]),y.useEffect(()=>{!a&&r&&e("/patient")},[a,r,e]);const A=async()=>{try{const z=await(await fetch(`${ly}/api/patient/countries`)).json();P(z.countries||[])}catch(F){console.error("Failed to fetch countries:",F),P([{code:"ZW",name:"Zimbabwe"},{code:"MZ",name:"Mozambique"},{code:"MW",name:"Malawi"},{code:"LS",name:"Lesotho"},{code:"NG",name:"Nigeria"},{code:"OTHER",name:"Other"}])}},T=async()=>{x(!0);try{let F=`${ly}/api/patient/validate-id?id_type=${l}`;if(l==="sa_id"){if(u.length!==13){le.error("Please enter a valid 13-digit SA ID number"),x(!1);return}F+=`&id_number=${u}`}else{if(!f||f.length<5){le.error("Please enter a valid passport number"),x(!1);return}if(!m){le.error("Please select your country of citizenship"),x(!1);return}if(!p){le.error("Please enter your date of birth"),x(!1);return}F+=`&passport_number=${f}&country_code=${m}&date_of_birth=${p}`}const V=await(await fetch(F,{method:"POST"})).json();if(!V.valid){le.error(V.error||"Invalid identification"),x(!1);return}if(N(V),l==="sa_id"){const{supabase:R}=await yo(async()=>{const{supabase:K}=await Promise.resolve().then(()=>go);return{supabase:K}},void 0),{data:{session:U}}=await R.auth.getSession();if(U!=null&&U.access_token)try{const K=await fetch(`${ly}/api/patient/lookup-existing?id_number=${u}`,{method:"POST",headers:{Authorization:`Bearer ${U.access_token}`}});if(K.ok){const re=await K.json();if(_(re),re.found){le.success("We found your existing records! Please confirm your details."),o("confirm");return}}}catch{console.log("EHR lookup not available")}}le.info("Please complete your profile."),o("onboarding")}catch(F){console.error("Validation failed:",F),le.error("Could not validate identification. Please try again.")}finally{x(!1)}},I=async()=>{console.log("[Onboarding] Onboarding complete, refreshing profile..."),await n(),le.success("Profile completed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})},O=async()=>{x(!0);try{const{supabase:F}=await yo(async()=>{const{supabase:U}=await Promise.resolve().then(()=>go);return{supabase:U}},void 0),{data:{session:z}}=await F.auth.getSession();if(!(z!=null&&z.access_token)){le.error("Please sign in to continue");return}const V={first_name:(w==null?void 0:w.first_name)||(t==null?void 0:t.first_name),last_name:(w==null?void 0:w.last_name)||(t==null?void 0:t.last_name),id_type:"sa_id",id_number:u,date_of_birth:(w==null?void 0:w.date_of_birth)||(S==null?void 0:S.date_of_birth),gender:(w==null?void 0:w.gender)||(S==null?void 0:S.gender),email:(w==null?void 0:w.email)||"",phone:(w==null?void 0:w.phone)||"",has_medical_aid:!!(w!=null&&w.medical_aid),medical_aid:(w==null?void 0:w.medical_aid)||null,consent_telehealth:!0,consent_data_processing:!0,consent_marketing:!1,medical_history:{allergies:((w==null?void 0:w.allergies)||[]).map(U=>({allergen:U,reaction:"",severity:"mild"})),chronic_conditions:((w==null?void 0:w.chronic_conditions)||[]).map(U=>({condition:U})),current_medications:[],past_surgeries:[],blood_type:"unknown"}};if(!(await fetch(`${ly}/api/patient/onboarding`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${z.access_token}`},body:JSON.stringify(V)})).ok)throw new Error("Failed to save profile");await n(),le.success("Profile confirmed successfully!"),e("/patient",{replace:!0,state:{justOnboarded:!0}})}catch(F){console.error("Confirmation failed:",F),le.error("Failed to confirm profile. Please try again.")}finally{x(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):i==="check"?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsx("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]})})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:s.jsxs(se,{children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(wS,{className:"w-8 h-8 text-primary"})}),s.jsxs(xe,{className:"text-xl sm:text-2xl",children:["Welcome, ",t==null?void 0:t.first_name,"!"]}),s.jsx(Se,{className:"text-sm sm:text-base",children:"Let's verify your identity and check for existing records."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx(fe,{children:"Type of Identification"}),s.jsxs(Sp,{value:l,onValueChange:F=>c(F),className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"sa_id",id:"sa_id"}),s.jsxs(fe,{htmlFor:"sa_id",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(nn,{className:"w-4 h-4"}),"SA ID"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-3 rounded-lg border hover:border-primary cursor-pointer",children:[s.jsx(gs,{value:"passport",id:"passport"}),s.jsxs(fe,{htmlFor:"passport",className:"flex items-center gap-2 cursor-pointer",children:[s.jsx(NX,{className:"w-4 h-4"}),"Passport"]})]})]})]}),l==="sa_id"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"id_number",children:"South African ID Number"}),s.jsx(Ze,{id:"id_number",value:u,onChange:F=>d(F.target.value.replace(/\D/g,"").slice(0,13)),placeholder:"Enter your 13-digit ID number",maxLength:13,className:"text-lg tracking-wider"}),u.length>0&&u.length<13&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[13-u.length," digits remaining"]})]}),l==="passport"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"passport_country",children:"Country of Citizenship"}),s.jsxs(or,{value:m,onValueChange:g,children:[s.jsx(Qt,{children:s.jsx(lr,{placeholder:"Select your country"})}),s.jsx(Zt,{children:k.filter(F=>F.code!=="ZA").map(F=>s.jsx(Fe,{value:F.code,children:F.name},F.code))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"passport_number",children:"Passport Number"}),s.jsx(Ze,{id:"passport_number",value:f,onChange:F=>h(F.target.value.toUpperCase().replace(/[^A-Z0-9]/g,"")),placeholder:"Enter your passport number",className:"text-lg tracking-wider uppercase"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(Ze,{id:"date_of_birth",type:"date",value:p,onChange:F=>v(F.target.value),max:new Date().toISOString().split("T")[0]})]})]}),s.jsx(Z,{className:"w-full",size:"lg",onClick:T,disabled:b||l==="sa_id"&&u.length!==13||l==="passport"&&(!f||!m||!p),children:b?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Verifying..."]}):s.jsxs(s.Fragment,{children:[s.jsx(wS,{className:"w-4 h-4 mr-2"})," Verify & Continue"]})}),s.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Your information is secure and protected under POPIA."})]})]})})]}):i==="confirm"&&(w!=null&&w.found)?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>o("check"),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-8 max-w-lg",children:s.jsxs(se,{children:[s.jsxs(me,{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-success/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(rn,{className:"w-8 h-8 text-success"})}),s.jsx(xe,{className:"text-xl sm:text-2xl",children:"Records Found!"}),s.jsx(Se,{children:"We found your existing records. Please confirm your details."})]}),s.jsxs(ce,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Personal Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Name"}),s.jsxs("p",{className:"font-medium",children:[w.first_name," ",w.last_name]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Date of Birth"}),s.jsx("p",{className:"font-medium",children:w.date_of_birth})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Gender"}),s.jsx("p",{className:"font-medium capitalize",children:w.gender})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Phone"}),s.jsx("p",{className:"font-medium",children:w.phone||"Not on file"})]})]})]}),w.medical_aid&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Medical Aid"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-muted-foreground",children:"Scheme"}),s.jsx("p",{className:"font-medium",children:w.medical_aid.scheme}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Member Number"}),s.jsx("p",{className:"font-medium",children:w.medical_aid.membership_number})]})]}),(((L=w.allergies)==null?void 0:L.length)||(($=w.chronic_conditions)==null?void 0:$.length))&&s.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Medical History"}),w.allergies&&w.allergies.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Allergies"}),s.jsx("p",{className:"text-sm font-medium",children:w.allergies.join(", ")})]}),w.chronic_conditions&&w.chronic_conditions.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chronic Conditions"}),s.jsx("p",{className:"text-sm font-medium",children:w.chronic_conditions.join(", ")})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(Z,{className:"w-full",size:"lg",onClick:O,disabled:b,children:b?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Confirming..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"})," Confirm & Continue"]})}),s.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>o("onboarding"),children:"Update My Information"})]})]})]})})]}):i==="onboarding"?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>o("check"),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back"]})]})}),s.jsxs("main",{className:"container mx-auto px-4 py-6 sm:py-8",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground",children:"Complete Your Profile"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Help us provide better care by completing your health profile"}),S&&s.jsx("div",{className:"mt-3 p-3 bg-success/10 rounded-lg text-sm",children:s.jsxs("p",{className:"text-success",children:[" ",l==="sa_id"?"ID":"Passport"," Verified",S.date_of_birth&&`  DOB: ${S.date_of_birth}`,S.gender&&`  ${S.gender}`,S.age&&`  Age ${S.age}`]})})]}),s.jsx(a8e,{onComplete:I,prefilledIdType:l,prefilledIdNumber:l==="sa_id"?u:void 0,prefilledPassportNumber:l==="passport"?f:void 0,prefilledPassportCountry:l==="passport"?m:void 0,prefilledData:S})]})]}):null},s8e="",wF=[{value:"red",label:"Red - Immediate",color:"bg-red-500",description:"Life-threatening"},{value:"orange",label:"Orange - Very Urgent",color:"bg-orange-500",description:"Within 10 minutes"},{value:"yellow",label:"Yellow - Urgent",color:"bg-yellow-500",description:"Within 60 minutes"},{value:"green",label:"Green - Standard",color:"bg-green-500",description:"Within 2 hours"},{value:"blue",label:"Blue - Non-urgent",color:"bg-blue-500",description:"Within 4 hours"}],o8e=[{value:"proceed_to_doctor",label:"Proceed to Doctor Consultation"},{value:"refer_to_emergency",label:"Refer to Emergency Services"},{value:"specialist_referral",label:"Specialist Referral Required"},{value:"follow_up",label:"Schedule Follow-up"},{value:"self_care",label:"Self-Care with Instructions"}],l8e=({appointmentId:e,patientId:t,patientName:r,aiAssessment:n,onComplete:a})=>{const[i,o]=y.useState(!1),[l,c]=y.useState({blood_pressure_systolic:null,blood_pressure_diastolic:null,heart_rate:null,respiratory_rate:null,temperature:null,oxygen_saturation:null,weight:null,height:null,pain_score:null}),[u,d]=y.useState({chief_complaint:"",symptom_duration:"",symptom_onset:"gradual",triage_priority:(n==null?void 0:n.urgency)==="emergency"?"red":"green",nurse_notes:"",allergies_confirmed:!1,medications_confirmed:!1,identity_verified:!1,consent_obtained:!1,medical_aid_verified:!1,patient_education_provided:!1,recommended_action:"proceed_to_doctor",referral_reason:"",doctor_notes:""}),f=(g,p)=>{const v=p?parseFloat(p):null;c(b=>({...b,[g]:v}))},h=async()=>{if(!u.chief_complaint){le.error("Chief complaint is required");return}o(!0);try{const{supabase:g}=await yo(async()=>{const{supabase:x}=await Promise.resolve().then(()=>go);return{supabase:x}},void 0),{data:{session:p}}=await g.auth.getSession();if(!(p!=null&&p.access_token)){le.error("Please sign in to continue");return}const v={appointment_id:e,patient_id:t,vital_signs:l,chief_complaint:u.chief_complaint,symptom_duration:u.symptom_duration,symptom_onset:u.symptom_onset,ai_urgency:n==null?void 0:n.urgency,ai_urgency_score:n==null?void 0:n.urgency_score,ai_care_pathway:n==null?void 0:n.care_pathway,ai_assessment_summary:n==null?void 0:n.assessment_summary,triage_priority:u.triage_priority,nurse_notes:u.nurse_notes,allergies_confirmed:u.allergies_confirmed,medications_confirmed:u.medications_confirmed,identity_verified:u.identity_verified,consent_obtained:u.consent_obtained,medical_aid_verified:u.medical_aid_verified,patient_education_provided:u.patient_education_provided,recommended_action:u.recommended_action,referral_reason:u.referral_reason||void 0,doctor_notes:u.doctor_notes||void 0},b=await fetch(`${s8e}/api/triage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p.access_token}`},body:JSON.stringify(v)});if(!b.ok){const x=await b.json();throw new Error(x.detail||"Triage submission failed")}le.success("Triage assessment saved successfully"),a==null||a()}catch(g){le.error(g.message||"Failed to save triage")}finally{o(!1)}},m=wF.find(g=>g.value===u.triage_priority);return s.jsxs("div",{className:"space-y-6",children:[s.jsx(se,{children:s.jsx(me,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wr,{className:"w-5 h-5 text-primary"}),"Patient: ",r]}),n&&s.jsxs(Ne,{variant:"outline",className:"text-sm",children:["AI Assessment: ",n.urgency," (",n.urgency_score,"/10)"]})]})})}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(gE,{className:"w-5 h-5 text-primary"}),"Vital Signs"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Blood Pressure (mmHg)"}),s.jsxs("div",{className:"flex gap-1 items-center",children:[s.jsx(Ze,{type:"number",placeholder:"Sys",value:l.blood_pressure_systolic||"",onChange:g=>f("blood_pressure_systolic",g.target.value),className:"w-16"}),s.jsx("span",{children:"/"}),s.jsx(Ze,{type:"number",placeholder:"Dia",value:l.blood_pressure_diastolic||"",onChange:g=>f("blood_pressure_diastolic",g.target.value),className:"w-16"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Heart Rate (bpm)"}),s.jsx(Ze,{type:"number",placeholder:"HR",value:l.heart_rate||"",onChange:g=>f("heart_rate",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Temperature (C)"}),s.jsx(Ze,{type:"number",step:"0.1",placeholder:"Temp",value:l.temperature||"",onChange:g=>f("temperature",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"SpO2 (%)"}),s.jsx(Ze,{type:"number",placeholder:"SpO2",value:l.oxygen_saturation||"",onChange:g=>f("oxygen_saturation",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Respiratory Rate"}),s.jsx(Ze,{type:"number",placeholder:"RR",value:l.respiratory_rate||"",onChange:g=>f("respiratory_rate",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Weight (kg)"}),s.jsx(Ze,{type:"number",step:"0.1",placeholder:"kg",value:l.weight||"",onChange:g=>f("weight",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Height (cm)"}),s.jsx(Ze,{type:"number",placeholder:"cm",value:l.height||"",onChange:g=>f("height",g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{className:"text-xs",children:"Pain Score (0-10)"}),s.jsx(Ze,{type:"number",min:"0",max:"10",placeholder:"0-10",value:l.pain_score||"",onChange:g=>f("pain_score",g.target.value)})]})]})})]}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5 text-primary"}),"Chief Complaint"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"What is the main reason for this visit? *"}),s.jsx(Fr,{value:u.chief_complaint,onChange:g=>d({...u,chief_complaint:g.target.value}),placeholder:"Describe the patient's primary complaint...",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Duration of Symptoms"}),s.jsx(Ze,{value:u.symptom_duration,onChange:g=>d({...u,symptom_duration:g.target.value}),placeholder:"e.g., 2 days"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Onset"}),s.jsxs(or,{value:u.symptom_onset,onValueChange:g=>d({...u,symptom_onset:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsxs(Zt,{children:[s.jsx(Fe,{value:"sudden",children:"Sudden"}),s.jsx(Fe,{value:"gradual",children:"Gradual"})]})]})]})]})]})]}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-5 h-5 text-primary"}),"Triage Priority"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs(or,{value:u.triage_priority,onValueChange:g=>d({...u,triage_priority:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:wF.map(g=>s.jsx(Fe,{value:g.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${g.color}`}),g.label," - ",g.description]})},g.value))})]}),m&&s.jsxs("div",{className:`p-3 rounded-lg ${m.color} bg-opacity-10`,children:[s.jsx("p",{className:"text-sm font-medium",children:m.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:m.description})]})]})]}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"w-5 h-5 text-primary"}),"Pre-Consultation Checklist"]})}),s.jsx(ce,{className:"space-y-3",children:[{key:"identity_verified",label:"Patient identity verified"},{key:"consent_obtained",label:"Telehealth consent obtained"},{key:"allergies_confirmed",label:"Allergies reviewed and confirmed"},{key:"medications_confirmed",label:"Current medications reviewed"},{key:"medical_aid_verified",label:"Medical aid details verified"},{key:"patient_education_provided",label:"Patient education provided"}].map(g=>s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Od,{id:g.key,checked:u[g.key],onCheckedChange:p=>d({...u,[g.key]:!!p})}),s.jsx(fe,{htmlFor:g.key,children:g.label})]},g.key))})]}),s.jsxs(se,{children:[s.jsx(me,{children:s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(ri,{className:"w-5 h-5 text-primary"}),"Assessment & Recommendation"]})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Nurse Assessment Notes"}),s.jsx(Fr,{value:u.nurse_notes,onChange:g=>d({...u,nurse_notes:g.target.value}),placeholder:"Clinical observations and nursing assessment...",rows:4})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Recommended Action"}),s.jsxs(or,{value:u.recommended_action,onValueChange:g=>d({...u,recommended_action:g}),children:[s.jsx(Qt,{children:s.jsx(lr,{})}),s.jsx(Zt,{children:o8e.map(g=>s.jsx(Fe,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{children:"Notes for Doctor (optional)"}),s.jsx(Fr,{value:u.doctor_notes,onChange:g=>d({...u,doctor_notes:g.target.value}),placeholder:"Any specific notes for the consulting doctor...",rows:2})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(Z,{variant:"outline",children:"Cancel"}),s.jsx(Z,{onClick:h,disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(lt,{className:"w-4 h-4 mr-2 animate-spin"})," Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rn,{className:"w-4 h-4 mr-2"})," Complete Triage"]})})]})]})},c8e="",_F={emergency:{color:"text-red-600",bgColor:"bg-red-100"},urgent:{color:"text-orange-600",bgColor:"bg-orange-100"},soon:{color:"text-yellow-600",bgColor:"bg-yellow-100"},routine:{color:"text-green-600",bgColor:"bg-green-100"}},u8e=()=>{const e=On(),[t]=DE(),{profile:r,role:n,signOut:a}=$r(),[i,o]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(null),[f,h]=y.useState(!1),m=t.get("appointment");y.useEffect(()=>{g()},[]),y.useEffect(()=>{if(m&&i.length>0){const v=i.find(b=>b.appointment.id===m);v&&d(v)}},[m,i]);const g=async()=>{c(!0);try{const{supabase:v}=await yo(async()=>{const{supabase:_}=await Promise.resolve().then(()=>go);return{supabase:_}},void 0),{data:{session:b}}=await v.auth.getSession();if(!(b!=null&&b.access_token)){le.error("Please sign in to continue");return}const x=await fetch(`${c8e}/api/triage/queue`,{headers:{Authorization:`Bearer ${b.access_token}`}});if(!x.ok)throw new Error("Failed to fetch triage queue");const w=await x.json();o(w.queue||[])}catch(v){console.error("Error fetching triage queue:",v),le.error("Failed to load triage queue")}finally{c(!1)}},p=()=>{d(null),g(),le.success("Triage completed successfully")};return u?s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>d(null),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Back to Queue"]})]})}),s.jsx("main",{className:"container mx-auto px-4 py-6 sm:py-8 max-w-4xl",children:s.jsx(l8e,{appointmentId:u.appointment.id,patientId:u.appointment.patient_id,patientName:u.patient_name,aiAssessment:u.latest_symptom_assessment,onComplete:p})})]}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"border-b border-border bg-card sticky top-0 z-40",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl gradient-primary flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground font-bold text-sm sm:text-lg",children:"H"})}),s.jsx("span",{className:"font-bold text-base sm:text-lg hidden xs:block",children:"Quadcare Telehealth"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs(Z,{variant:"ghost",size:"sm",onClick:g,disabled:l,children:[s.jsx(ho,{className:`w-4 h-4 mr-2 ${l?"animate-spin":""}`}),"Refresh"]}),s.jsx(Ne,{className:"bg-success text-white",children:"Nurse"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]}),s.jsxs("div",{className:"flex md:hidden items-center gap-2",children:[s.jsx(Z,{variant:"ghost",size:"icon",onClick:g,disabled:l,children:s.jsx(ho,{className:`w-4 h-4 ${l?"animate-spin":""}`})}),s.jsx("button",{className:"p-2 hover:bg-accent rounded-lg",onClick:()=>h(!f),children:f?s.jsx(So,{className:"w-5 h-5"}):s.jsx(xg,{className:"w-5 h-5"})})]})]}),f&&s.jsx("div",{className:"md:hidden border-t border-border py-3 px-4 animate-fade-in",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground py-2",children:[r==null?void 0:r.first_name," ",r==null?void 0:r.last_name]}),s.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>e("/clinician"),className:"justify-start",children:[s.jsx(mn,{className:"w-4 h-4 mr-2"}),"Dashboard"]})]})})]}),s.jsxs("main",{className:"container mx-auto px-4 py-4 sm:py-8",children:[s.jsxs("div",{className:"mb-6 sm:mb-8",children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(ri,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"}),"Nurse Triage"]}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mt-1",children:"Assess patients before their doctor consultation"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(kn,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Waiting"})]})]})})}),s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-100",children:s.jsx(Wn,{className:"w-5 h-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>{var b,x;return((b=v.latest_symptom_assessment)==null?void 0:b.urgency)==="urgent"||((x=v.latest_symptom_assessment)==null?void 0:x.urgency)==="emergency"}).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Urgent"})]})]})})}),s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-success/10",children:s.jsx(ri,{className:"w-5 h-5 text-success"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:i.filter(v=>v.latest_symptom_assessment).length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"AI Assessed"})]})]})})}),s.jsx(se,{children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-warning/10",children:s.jsx(qt,{className:"w-5 h-5 text-warning"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"~15"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Min/Patient"})]})]})})})]}),s.jsxs(se,{children:[s.jsxs(me,{children:[s.jsxs(xe,{className:"flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-primary"}),"Triage Queue"]}),s.jsx(Se,{children:"Patients waiting for nurse triage assessment"})]}),s.jsx(ce,{children:l?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>s.jsx("div",{className:"h-20 bg-muted animate-pulse rounded-lg"},v))}):i.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(ri,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No patients waiting for triage"}),s.jsx("p",{className:"text-sm",children:"Check back soon or refresh the queue"})]}):s.jsx("div",{className:"space-y-3",children:i.map(v=>{var x;const b=v.latest_symptom_assessment?_F[v.latest_symptom_assessment.urgency]||_F.routine:null;return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 rounded-lg border hover:border-primary/50 transition-colors gap-3 cursor-pointer",onClick:()=>d(v),children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:s.jsx("span",{className:"text-primary font-medium",children:v.patient_name.split(" ").map(w=>w[0]).join("")})}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium",children:v.patient_name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[yt(new Date(v.appointment.scheduled_at),"h:mm a"),"  ",v.appointment.consultation_type]}),v.latest_symptom_assessment&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-1",children:["AI: ",v.latest_symptom_assessment.assessment_summary]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 pl-13 sm:pl-0",children:[v.latest_symptom_assessment&&b&&s.jsxs(Ne,{className:`${b.bgColor} ${b.color}`,children:[v.latest_symptom_assessment.urgency," (",v.latest_symptom_assessment.urgency_score,"/10)"]}),((x=v.patient_profile)==null?void 0:x.has_medical_aid)&&s.jsx(Ne,{variant:"outline",className:"text-xs",children:"Medical Aid"}),s.jsx(Z,{size:"sm",variant:"ghost",children:s.jsx(df,{className:"w-4 h-4"})})]})]},v.appointment.id)})})})]})]})]})},d8e=()=>{const e=As();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),s.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},f8e=new bte,h8e=()=>s.jsx(_te,{client:f8e,children:s.jsx(oie,{children:s.jsxs(qee,{children:[s.jsx(EQ,{}),s.jsx(sZ,{}),s.jsx(_re,{children:s.jsxs(mre,{children:[s.jsx(fa,{path:"/",element:s.jsx(Sie,{})}),s.jsx(fa,{path:"/auth",element:s.jsx(fle,{})}),s.jsx(fa,{path:"/patient/*",element:s.jsx(Rs,{allowedRoles:["patient"],children:s.jsx(rde,{})})}),s.jsx(fa,{path:"/book-appointment",element:s.jsx(Rs,{allowedRoles:["patient"],children:s.jsx(Rhe,{})})}),s.jsx(fa,{path:"/onboarding",element:s.jsx(Rs,{allowedRoles:["patient"],children:s.jsx(i8e,{})})}),s.jsx(fa,{path:"/clinician/*",element:s.jsx(Rs,{allowedRoles:["nurse","doctor"],children:s.jsx(Fge,{})})}),s.jsx(fa,{path:"/nurse-triage",element:s.jsx(Rs,{allowedRoles:["nurse","doctor"],children:s.jsx(u8e,{})})}),s.jsx(fa,{path:"/admin/*",element:s.jsx(Rs,{allowedRoles:["admin"],children:s.jsx(W5e,{})})}),s.jsx(fa,{path:"/receptionist/*",element:s.jsx(Rs,{allowedRoles:["admin","nurse","doctor","receptionist"],children:s.jsx(q5e,{})})}),s.jsx(fa,{path:"/consultation",element:s.jsx(Rs,{allowedRoles:["patient","nurse","doctor"],children:s.jsx(HUe,{})})}),s.jsx(fa,{path:"/demo-consultation",element:s.jsx(Rs,{allowedRoles:["patient","nurse","doctor"],children:s.jsx(YUe,{})})}),s.jsx(fa,{path:"*",element:s.jsx(d8e,{})})]})})]})})});H5(document.getElementById("root")).render(s.jsx(h8e,{}));
